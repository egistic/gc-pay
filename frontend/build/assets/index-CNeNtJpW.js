function KU(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nx={exports:{}},yu={},ax={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function YU(){if(hE)return jt;hE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function v(z,F,L){this.props=z,this.context=F,this.refs=b,this.updater=L||j}v.prototype.isReactComponent={},v.prototype.setState=function(z,F){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,F,"setState")},v.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=v.prototype;function S(z,F,L){this.props=z,this.context=F,this.refs=b,this.updater=L||j}var C=S.prototype=new N;C.constructor=S,w(C,v.prototype),C.isPureReactComponent=!0;var A=Array.isArray,_=Object.prototype.hasOwnProperty,T={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function O(z,F,L){var Y,ee={},ce=null,K=null;if(F!=null)for(Y in F.ref!==void 0&&(K=F.ref),F.key!==void 0&&(ce=""+F.key),F)_.call(F,Y)&&!P.hasOwnProperty(Y)&&(ee[Y]=F[Y]);var fe=arguments.length-2;if(fe===1)ee.children=L;else if(1<fe){for(var le=Array(fe),Ee=0;Ee<fe;Ee++)le[Ee]=arguments[Ee+2];ee.children=le}if(z&&z.defaultProps)for(Y in fe=z.defaultProps,fe)ee[Y]===void 0&&(ee[Y]=fe[Y]);return{$$typeof:e,type:z,key:ce,ref:K,props:ee,_owner:T.current}}function I(z,F){return{$$typeof:e,type:z.type,key:F,ref:z.ref,props:z.props,_owner:z._owner}}function B(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function q(z){var F={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(L){return F[L]})}var G=/\/+/g;function V(z,F){return typeof z=="object"&&z!==null&&z.key!=null?q(""+z.key):F.toString(36)}function Z(z,F,L,Y,ee){var ce=typeof z;(ce==="undefined"||ce==="boolean")&&(z=null);var K=!1;if(z===null)K=!0;else switch(ce){case"string":case"number":K=!0;break;case"object":switch(z.$$typeof){case e:case t:K=!0}}if(K)return K=z,ee=ee(K),z=Y===""?"."+V(K,0):Y,A(ee)?(L="",z!=null&&(L=z.replace(G,"$&/")+"/"),Z(ee,F,L,"",function(Ee){return Ee})):ee!=null&&(B(ee)&&(ee=I(ee,L+(!ee.key||K&&K.key===ee.key?"":(""+ee.key).replace(G,"$&/")+"/")+z)),F.push(ee)),1;if(K=0,Y=Y===""?".":Y+":",A(z))for(var fe=0;fe<z.length;fe++){ce=z[fe];var le=Y+V(ce,fe);K+=Z(ce,F,L,le,ee)}else if(le=g(z),typeof le=="function")for(z=le.call(z),fe=0;!(ce=z.next()).done;)ce=ce.value,le=Y+V(ce,fe++),K+=Z(ce,F,L,le,ee);else if(ce==="object")throw F=String(z),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return K}function $(z,F,L){if(z==null)return z;var Y=[],ee=0;return Z(z,Y,"","",function(ce){return F.call(L,ce,ee++)}),Y}function M(z){if(z._status===-1){var F=z._result;F=F(),F.then(function(L){(z._status===0||z._status===-1)&&(z._status=1,z._result=L)},function(L){(z._status===0||z._status===-1)&&(z._status=2,z._result=L)}),z._status===-1&&(z._status=0,z._result=F)}if(z._status===1)return z._result.default;throw z._result}var k={current:null},D={transition:null},W={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:D,ReactCurrentOwner:T};function H(){throw Error("act(...) is not supported in production builds of React.")}return jt.Children={map:$,forEach:function(z,F,L){$(z,function(){F.apply(this,arguments)},L)},count:function(z){var F=0;return $(z,function(){F++}),F},toArray:function(z){return $(z,function(F){return F})||[]},only:function(z){if(!B(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},jt.Component=v,jt.Fragment=r,jt.Profiler=s,jt.PureComponent=S,jt.StrictMode=a,jt.Suspense=d,jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,jt.act=H,jt.cloneElement=function(z,F,L){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Y=w({},z.props),ee=z.key,ce=z.ref,K=z._owner;if(F!=null){if(F.ref!==void 0&&(ce=F.ref,K=T.current),F.key!==void 0&&(ee=""+F.key),z.type&&z.type.defaultProps)var fe=z.type.defaultProps;for(le in F)_.call(F,le)&&!P.hasOwnProperty(le)&&(Y[le]=F[le]===void 0&&fe!==void 0?fe[le]:F[le])}var le=arguments.length-2;if(le===1)Y.children=L;else if(1<le){fe=Array(le);for(var Ee=0;Ee<le;Ee++)fe[Ee]=arguments[Ee+2];Y.children=fe}return{$$typeof:e,type:z.type,key:ee,ref:ce,props:Y,_owner:K}},jt.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},jt.createElement=O,jt.createFactory=function(z){var F=O.bind(null,z);return F.type=z,F},jt.createRef=function(){return{current:null}},jt.forwardRef=function(z){return{$$typeof:u,render:z}},jt.isValidElement=B,jt.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:M}},jt.memo=function(z,F){return{$$typeof:f,type:z,compare:F===void 0?null:F}},jt.startTransition=function(z){var F=D.transition;D.transition={};try{z()}finally{D.transition=F}},jt.unstable_act=H,jt.useCallback=function(z,F){return k.current.useCallback(z,F)},jt.useContext=function(z){return k.current.useContext(z)},jt.useDebugValue=function(){},jt.useDeferredValue=function(z){return k.current.useDeferredValue(z)},jt.useEffect=function(z,F){return k.current.useEffect(z,F)},jt.useId=function(){return k.current.useId()},jt.useImperativeHandle=function(z,F,L){return k.current.useImperativeHandle(z,F,L)},jt.useInsertionEffect=function(z,F){return k.current.useInsertionEffect(z,F)},jt.useLayoutEffect=function(z,F){return k.current.useLayoutEffect(z,F)},jt.useMemo=function(z,F){return k.current.useMemo(z,F)},jt.useReducer=function(z,F,L){return k.current.useReducer(z,F,L)},jt.useRef=function(z){return k.current.useRef(z)},jt.useState=function(z){return k.current.useState(z)},jt.useSyncExternalStore=function(z,F,L){return k.current.useSyncExternalStore(z,F,L)},jt.useTransition=function(){return k.current.useTransition()},jt.version="18.3.1",jt}var mE;function I1(){return mE||(mE=1,ax.exports=YU()),ax.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function XU(){if(pE)return yu;pE=1;var e=I1(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var h,m={},g=null,j=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(j=d.ref);for(h in d)a.call(d,h)&&!i.hasOwnProperty(h)&&(m[h]=d[h]);if(u&&u.defaultProps)for(h in d=u.defaultProps,d)m[h]===void 0&&(m[h]=d[h]);return{$$typeof:t,type:u,key:g,ref:j,props:m,_owner:s.current}}return yu.Fragment=r,yu.jsx=l,yu.jsxs=l,yu}var gE;function QU(){return gE||(gE=1,nx.exports=XU()),nx.exports}var n=QU(),Sh={},sx={exports:{}},Pn={},ix={exports:{}},ox={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function ZU(){return vE||(vE=1,(function(e){function t(D,W){var H=D.length;D.push(W);e:for(;0<H;){var z=H-1>>>1,F=D[z];if(0<s(F,W))D[z]=W,D[H]=F,H=z;else break e}}function r(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var W=D[0],H=D.pop();if(H!==W){D[0]=H;e:for(var z=0,F=D.length,L=F>>>1;z<L;){var Y=2*(z+1)-1,ee=D[Y],ce=Y+1,K=D[ce];if(0>s(ee,H))ce<F&&0>s(K,ee)?(D[z]=K,D[ce]=H,z=ce):(D[z]=ee,D[Y]=H,z=Y);else if(ce<F&&0>s(K,H))D[z]=K,D[ce]=H,z=ce;else break e}}return W}function s(D,W){var H=D.sortIndex-W.sortIndex;return H!==0?H:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,m=null,g=3,j=!1,w=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(D){for(var W=r(f);W!==null;){if(W.callback===null)a(f);else if(W.startTime<=D)a(f),W.sortIndex=W.expirationTime,t(d,W);else break;W=r(f)}}function A(D){if(b=!1,C(D),!w)if(r(d)!==null)w=!0,M(_);else{var W=r(f);W!==null&&k(A,W.startTime-D)}}function _(D,W){w=!1,b&&(b=!1,N(O),O=-1),j=!0;var H=g;try{for(C(W),m=r(d);m!==null&&(!(m.expirationTime>W)||D&&!q());){var z=m.callback;if(typeof z=="function"){m.callback=null,g=m.priorityLevel;var F=z(m.expirationTime<=W);W=e.unstable_now(),typeof F=="function"?m.callback=F:m===r(d)&&a(d),C(W)}else a(d);m=r(d)}if(m!==null)var L=!0;else{var Y=r(f);Y!==null&&k(A,Y.startTime-W),L=!1}return L}finally{m=null,g=H,j=!1}}var T=!1,P=null,O=-1,I=5,B=-1;function q(){return!(e.unstable_now()-B<I)}function G(){if(P!==null){var D=e.unstable_now();B=D;var W=!0;try{W=P(!0,D)}finally{W?V():(T=!1,P=null)}}else T=!1}var V;if(typeof S=="function")V=function(){S(G)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=G,V=function(){$.postMessage(null)}}else V=function(){v(G,0)};function M(D){P=D,T||(T=!0,V())}function k(D,W){O=v(function(){D(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||j||(w=!0,M(_))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var H=g;g=W;try{return D()}finally{g=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=g;g=D;try{return W()}finally{g=H}},e.unstable_scheduleCallback=function(D,W,H){var z=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?z+H:z):H=z,D){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=H+F,D={id:h++,callback:W,priorityLevel:D,startTime:H,expirationTime:F,sortIndex:-1},H>z?(D.sortIndex=H,t(f,D),r(d)===null&&D===r(f)&&(b?(N(O),O=-1):b=!0,k(A,H-z))):(D.sortIndex=F,t(d,D),w||j||(w=!0,M(_))),D},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(D){var W=g;return function(){var H=g;g=W;try{return D.apply(this,arguments)}finally{g=H}}}})(ox)),ox}var xE;function JU(){return xE||(xE=1,ix.exports=ZU()),ix.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function eB(){if(yE)return Pn;yE=1;var e=I1(),t=JU();function r(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(s[o]=c,o=0;o<c.length;o++)a.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function g(o){return d.call(m,o)?!0:d.call(h,o)?!1:f.test(o)?m[o]=!0:(h[o]=!0,!1)}function j(o,c,p,y){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,c,p,y){if(c===null||typeof c>"u"||j(o,c,p,y))return!0;if(y)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function b(o,c,p,y,E,R,U){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=E,this.mustUseProperty=p,this.propertyName=o,this.type=c,this.sanitizeURL=R,this.removeEmptyString=U}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){v[o]=new b(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];v[c]=new b(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){v[o]=new b(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){v[o]=new b(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){v[o]=new b(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){v[o]=new b(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){v[o]=new b(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){v[o]=new b(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){v[o]=new b(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function S(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(N,S);v[c]=new b(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(N,S);v[c]=new b(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(N,S);v[c]=new b(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){v[o]=new b(o,1,!1,o.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){v[o]=new b(o,1,!1,o.toLowerCase(),null,!0,!0)});function C(o,c,p,y){var E=v.hasOwnProperty(c)?v[c]:null;(E!==null?E.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,p,E,y)&&(p=null),y||E===null?g(c)&&(p===null?o.removeAttribute(c):o.setAttribute(c,""+p)):E.mustUseProperty?o[E.propertyName]=p===null?E.type===3?!1:"":p:(c=E.attributeName,y=E.attributeNamespace,p===null?o.removeAttribute(c):(E=E.type,p=E===3||E===4&&p===!0?"":""+p,y?o.setAttributeNS(y,c,p):o.setAttribute(c,p))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),T=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),q=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),D=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=D&&o[D]||o["@@iterator"],typeof o=="function"?o:null)}var H=Object.assign,z;function F(o){if(z===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);z=c&&c[1]||""}return`
`+z+o}var L=!1;function Y(o,c){if(!o||L)return"";L=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ve){var y=ve}Reflect.construct(o,[],c)}else{try{c.call()}catch(ve){y=ve}o.call(c.prototype)}else{try{throw Error()}catch(ve){y=ve}o()}}catch(ve){if(ve&&y&&typeof ve.stack=="string"){for(var E=ve.stack.split(`
`),R=y.stack.split(`
`),U=E.length-1,J=R.length-1;1<=U&&0<=J&&E[U]!==R[J];)J--;for(;1<=U&&0<=J;U--,J--)if(E[U]!==R[J]){if(U!==1||J!==1)do if(U--,J--,0>J||E[U]!==R[J]){var ne=`
`+E[U].replace(" at new "," at ");return o.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",o.displayName)),ne}while(1<=U&&0<=J);break}}}finally{L=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?F(o):""}function ee(o){switch(o.tag){case 5:return F(o.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return o=Y(o.type,!1),o;case 11:return o=Y(o.type.render,!1),o;case 1:return o=Y(o.type,!0),o;default:return""}}function ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case T:return"Portal";case I:return"Profiler";case O:return"StrictMode";case V:return"Suspense";case Z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case q:return(o.displayName||"Context")+".Consumer";case B:return(o._context.displayName||"Context")+".Provider";case G:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case $:return c=o.displayName||null,c!==null?c:ce(o.type)||"Memo";case M:c=o._payload,o=o._init;try{return ce(o(c))}catch{}}return null}function K(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(c);case 8:return c===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function fe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function le(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ee(o){var c=le(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,R=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return E.call(this)},set:function(U){y=""+U,R.call(this,U)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(U){y=""+U},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function De(o){o._valueTracker||(o._valueTracker=Ee(o))}function re(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),y="";return o&&(y=le(o)?o.checked?"true":"false":o.value),o=y,o!==p?(c.setValue(o),!0):!1}function $e(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function oe(o,c){var p=c.checked;return H({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function Ce(o,c){var p=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;p=fe(c.value!=null?c.value:p),o._wrapperState={initialChecked:y,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ue(o,c){c=c.checked,c!=null&&C(o,"checked",c,!1)}function ot(o,c){Ue(o,c);var p=fe(c.value),y=c.type;if(p!=null)y==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?te(o,c.type,p):c.hasOwnProperty("defaultValue")&&te(o,c.type,fe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function bt(o,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,p||c===o.value||(o.value=c),o.defaultValue=c}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function te(o,c,p){(c!=="number"||$e(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var se=Array.isArray;function Fe(o,c,p,y){if(o=o.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=c.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&y&&(o[p].defaultSelected=!0)}else{for(p=""+fe(p),c=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,y&&(o[E].defaultSelected=!0);return}c!==null||o[E].disabled||(c=o[E])}c!==null&&(c.selected=!0)}}function at(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Lt(o,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(r(92));if(se(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),p=c}o._wrapperState={initialValue:fe(p)}}function Zr(o,c){var p=fe(c.value),y=fe(c.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),c.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),y!=null&&(o.defaultValue=""+y)}function Jr(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function ge(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?ge(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var tr,ta=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,y,E){MSApp.execUnsafeLocalFunction(function(){return o(c,p,y,E)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=tr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function _n(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ra=["Webkit","ms","Moz","O"];Object.keys(za).forEach(function(o){ra.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),za[c]=za[o]})});function Yo(o,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||za.hasOwnProperty(o)&&za[o]?(""+c).trim():c+"px"}function de(o,c){o=o.style;for(var p in c)if(c.hasOwnProperty(p)){var y=p.indexOf("--")===0,E=Yo(p,c[p],y);p==="float"&&(p="cssFloat"),y?o.setProperty(p,E):o[p]=E}}var Be=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hr(o,c){if(c){if(Be[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function ps(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zi=null;function na(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var $c=null,Ys=null,gs=null;function Lc(o){if(o=au(o)){if(typeof $c!="function")throw Error(r(280));var c=o.stateNode;c&&(c=Lf(c),$c(o.stateNode,o.type,c))}}function vt(o){Ys?gs?gs.push(o):gs=[o]:Ys=o}function cr(){if(Ys){var o=Ys,c=gs;if(gs=Ys=null,Lc(o),c)for(o=0;o<c.length;o++)Lc(c[o])}}function br(o,c){return o(c)}function en(){}var Xs=!1;function mr(o,c,p){if(Xs)return o(c,p);Xs=!0;try{return br(o,c,p)}finally{Xs=!1,(Ys!==null||gs!==null)&&(en(),cr())}}function Rr(o,c){var p=o.stateNode;if(p===null)return null;var y=Lf(p);if(y===null)return null;p=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Qs=!1;if(u)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{Qs=!1}function Ln(o,c,p,y,E,R,U,J,ne){var ve=Array.prototype.slice.call(arguments,3);try{c.apply(p,ve)}catch(Pe){this.onError(Pe)}}var Zs=!1,aa=null,Fc=!1,wg=null,tF={onError:function(o){Zs=!0,aa=o}};function rF(o,c,p,y,E,R,U,J,ne){Zs=!1,aa=null,Ln.apply(tF,arguments)}function nF(o,c,p,y,E,R,U,J,ne){if(rF.apply(this,arguments),Zs){if(Zs){var ve=aa;Zs=!1,aa=null}else throw Error(r(198));Fc||(Fc=!0,wg=ve)}}function Ji(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function MS(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function $S(o){if(Ji(o)!==o)throw Error(r(188))}function aF(o){var c=o.alternate;if(!c){if(c=Ji(o),c===null)throw Error(r(188));return c!==o?null:o}for(var p=o,y=c;;){var E=p.return;if(E===null)break;var R=E.alternate;if(R===null){if(y=E.return,y!==null){p=y;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===p)return $S(E),o;if(R===y)return $S(E),c;R=R.sibling}throw Error(r(188))}if(p.return!==y.return)p=E,y=R;else{for(var U=!1,J=E.child;J;){if(J===p){U=!0,p=E,y=R;break}if(J===y){U=!0,y=E,p=R;break}J=J.sibling}if(!U){for(J=R.child;J;){if(J===p){U=!0,p=R,y=E;break}if(J===y){U=!0,y=R,p=E;break}J=J.sibling}if(!U)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:c}function LS(o){return o=aF(o),o!==null?FS(o):null}function FS(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=FS(o);if(c!==null)return c;o=o.sibling}return null}var US=t.unstable_scheduleCallback,BS=t.unstable_cancelCallback,sF=t.unstable_shouldYield,iF=t.unstable_requestPaint,ur=t.unstable_now,oF=t.unstable_getCurrentPriorityLevel,Ng=t.unstable_ImmediatePriority,zS=t.unstable_UserBlockingPriority,xf=t.unstable_NormalPriority,lF=t.unstable_LowPriority,qS=t.unstable_IdlePriority,yf=null,qa=null;function cF(o){if(qa&&typeof qa.onCommitFiberRoot=="function")try{qa.onCommitFiberRoot(yf,o,void 0,(o.current.flags&128)===128)}catch{}}var ja=Math.clz32?Math.clz32:fF,uF=Math.log,dF=Math.LN2;function fF(o){return o>>>=0,o===0?32:31-(uF(o)/dF|0)|0}var bf=64,jf=4194304;function Uc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function wf(o,c){var p=o.pendingLanes;if(p===0)return 0;var y=0,E=o.suspendedLanes,R=o.pingedLanes,U=p&268435455;if(U!==0){var J=U&~E;J!==0?y=Uc(J):(R&=U,R!==0&&(y=Uc(R)))}else U=p&~E,U!==0?y=Uc(U):R!==0&&(y=Uc(R));if(y===0)return 0;if(c!==0&&c!==y&&(c&E)===0&&(E=y&-y,R=c&-c,E>=R||E===16&&(R&4194240)!==0))return c;if((y&4)!==0&&(y|=p&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=y;0<c;)p=31-ja(c),E=1<<p,y|=o[p],c&=~E;return y}function hF(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mF(o,c){for(var p=o.suspendedLanes,y=o.pingedLanes,E=o.expirationTimes,R=o.pendingLanes;0<R;){var U=31-ja(R),J=1<<U,ne=E[U];ne===-1?((J&p)===0||(J&y)!==0)&&(E[U]=hF(J,c)):ne<=c&&(o.expiredLanes|=J),R&=~J}}function Sg(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function WS(){var o=bf;return bf<<=1,(bf&4194240)===0&&(bf=64),o}function _g(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Bc(o,c,p){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-ja(c),o[c]=p}function pF(o,c){var p=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<p;){var E=31-ja(p),R=1<<E;c[E]=0,y[E]=-1,o[E]=-1,p&=~R}}function Cg(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var y=31-ja(p),E=1<<y;E&c|o[y]&c&&(o[y]|=c),p&=~E}}var Dt=0;function VS(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var HS,Eg,GS,KS,YS,Tg=!1,Nf=[],Js=null,ei=null,ti=null,zc=new Map,qc=new Map,ri=[],gF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XS(o,c){switch(o){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":zc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(c.pointerId)}}function Wc(o,c,p,y,E,R){return o===null||o.nativeEvent!==R?(o={blockedOn:c,domEventName:p,eventSystemFlags:y,nativeEvent:R,targetContainers:[E]},c!==null&&(c=au(c),c!==null&&Eg(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),o)}function vF(o,c,p,y,E){switch(c){case"focusin":return Js=Wc(Js,o,c,p,y,E),!0;case"dragenter":return ei=Wc(ei,o,c,p,y,E),!0;case"mouseover":return ti=Wc(ti,o,c,p,y,E),!0;case"pointerover":var R=E.pointerId;return zc.set(R,Wc(zc.get(R)||null,o,c,p,y,E)),!0;case"gotpointercapture":return R=E.pointerId,qc.set(R,Wc(qc.get(R)||null,o,c,p,y,E)),!0}return!1}function QS(o){var c=eo(o.target);if(c!==null){var p=Ji(c);if(p!==null){if(c=p.tag,c===13){if(c=MS(p),c!==null){o.blockedOn=c,YS(o.priority,function(){GS(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Sf(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=Rg(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var y=new p.constructor(p.type,p);Zi=y,p.target.dispatchEvent(y),Zi=null}else return c=au(p),c!==null&&Eg(c),o.blockedOn=p,!1;c.shift()}return!0}function ZS(o,c,p){Sf(o)&&p.delete(c)}function xF(){Tg=!1,Js!==null&&Sf(Js)&&(Js=null),ei!==null&&Sf(ei)&&(ei=null),ti!==null&&Sf(ti)&&(ti=null),zc.forEach(ZS),qc.forEach(ZS)}function Vc(o,c){o.blockedOn===c&&(o.blockedOn=null,Tg||(Tg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xF)))}function Hc(o){function c(E){return Vc(E,o)}if(0<Nf.length){Vc(Nf[0],o);for(var p=1;p<Nf.length;p++){var y=Nf[p];y.blockedOn===o&&(y.blockedOn=null)}}for(Js!==null&&Vc(Js,o),ei!==null&&Vc(ei,o),ti!==null&&Vc(ti,o),zc.forEach(c),qc.forEach(c),p=0;p<ri.length;p++)y=ri[p],y.blockedOn===o&&(y.blockedOn=null);for(;0<ri.length&&(p=ri[0],p.blockedOn===null);)QS(p),p.blockedOn===null&&ri.shift()}var Xo=A.ReactCurrentBatchConfig,_f=!0;function yF(o,c,p,y){var E=Dt,R=Xo.transition;Xo.transition=null;try{Dt=1,Ag(o,c,p,y)}finally{Dt=E,Xo.transition=R}}function bF(o,c,p,y){var E=Dt,R=Xo.transition;Xo.transition=null;try{Dt=4,Ag(o,c,p,y)}finally{Dt=E,Xo.transition=R}}function Ag(o,c,p,y){if(_f){var E=Rg(o,c,p,y);if(E===null)Gg(o,c,y,Cf,p),XS(o,y);else if(vF(E,o,c,p,y))y.stopPropagation();else if(XS(o,y),c&4&&-1<gF.indexOf(o)){for(;E!==null;){var R=au(E);if(R!==null&&HS(R),R=Rg(o,c,p,y),R===null&&Gg(o,c,y,Cf,p),R===E)break;E=R}E!==null&&y.stopPropagation()}else Gg(o,c,y,null,p)}}var Cf=null;function Rg(o,c,p,y){if(Cf=null,o=na(y),o=eo(o),o!==null)if(c=Ji(o),c===null)o=null;else if(p=c.tag,p===13){if(o=MS(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return Cf=o,null}function JS(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oF()){case Ng:return 1;case zS:return 4;case xf:case lF:return 16;case qS:return 536870912;default:return 16}default:return 16}}var ni=null,Pg=null,Ef=null;function e_(){if(Ef)return Ef;var o,c=Pg,p=c.length,y,E="value"in ni?ni.value:ni.textContent,R=E.length;for(o=0;o<p&&c[o]===E[o];o++);var U=p-o;for(y=1;y<=U&&c[p-y]===E[R-y];y++);return Ef=E.slice(o,1<y?1-y:void 0)}function Tf(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Af(){return!0}function t_(){return!1}function Fn(o){function c(p,y,E,R,U){this._reactName=p,this._targetInst=E,this.type=y,this.nativeEvent=R,this.target=U,this.currentTarget=null;for(var J in o)o.hasOwnProperty(J)&&(p=o[J],this[J]=p?p(R):R[J]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Af:t_,this.isPropagationStopped=t_,this}return H(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Af)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Af)},persist:function(){},isPersistent:Af}),c}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ig=Fn(Qo),Gc=H({},Qo,{view:0,detail:0}),jF=Fn(Gc),kg,Og,Kc,Rf=H({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mg,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Kc&&(Kc&&o.type==="mousemove"?(kg=o.screenX-Kc.screenX,Og=o.screenY-Kc.screenY):Og=kg=0,Kc=o),kg)},movementY:function(o){return"movementY"in o?o.movementY:Og}}),r_=Fn(Rf),wF=H({},Rf,{dataTransfer:0}),NF=Fn(wF),SF=H({},Gc,{relatedTarget:0}),Dg=Fn(SF),_F=H({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),CF=Fn(_F),EF=H({},Qo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),TF=Fn(EF),AF=H({},Qo,{data:0}),n_=Fn(AF),RF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kF(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=IF[o])?!!c[o]:!1}function Mg(){return kF}var OF=H({},Gc,{key:function(o){if(o.key){var c=RF[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Tf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?PF[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mg,charCode:function(o){return o.type==="keypress"?Tf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Tf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),DF=Fn(OF),MF=H({},Rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a_=Fn(MF),$F=H({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mg}),LF=Fn($F),FF=H({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),UF=Fn(FF),BF=H({},Rf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),zF=Fn(BF),qF=[9,13,27,32],$g=u&&"CompositionEvent"in window,Yc=null;u&&"documentMode"in document&&(Yc=document.documentMode);var WF=u&&"TextEvent"in window&&!Yc,s_=u&&(!$g||Yc&&8<Yc&&11>=Yc),i_=" ",o_=!1;function l_(o,c){switch(o){case"keyup":return qF.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Zo=!1;function VF(o,c){switch(o){case"compositionend":return c_(c);case"keypress":return c.which!==32?null:(o_=!0,i_);case"textInput":return o=c.data,o===i_&&o_?null:o;default:return null}}function HF(o,c){if(Zo)return o==="compositionend"||!$g&&l_(o,c)?(o=e_(),Ef=Pg=ni=null,Zo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return s_&&c.locale!=="ko"?null:c.data;default:return null}}var GF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u_(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!GF[o.type]:c==="textarea"}function d_(o,c,p,y){vt(y),c=Df(c,"onChange"),0<c.length&&(p=new Ig("onChange","change",null,p,y),o.push({event:p,listeners:c}))}var Xc=null,Qc=null;function KF(o){A_(o,0)}function Pf(o){var c=nl(o);if(re(c))return o}function YF(o,c){if(o==="change")return c}var f_=!1;if(u){var Lg;if(u){var Fg="oninput"in document;if(!Fg){var h_=document.createElement("div");h_.setAttribute("oninput","return;"),Fg=typeof h_.oninput=="function"}Lg=Fg}else Lg=!1;f_=Lg&&(!document.documentMode||9<document.documentMode)}function m_(){Xc&&(Xc.detachEvent("onpropertychange",p_),Qc=Xc=null)}function p_(o){if(o.propertyName==="value"&&Pf(Qc)){var c=[];d_(c,Qc,o,na(o)),mr(KF,c)}}function XF(o,c,p){o==="focusin"?(m_(),Xc=c,Qc=p,Xc.attachEvent("onpropertychange",p_)):o==="focusout"&&m_()}function QF(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Pf(Qc)}function ZF(o,c){if(o==="click")return Pf(c)}function JF(o,c){if(o==="input"||o==="change")return Pf(c)}function eU(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var wa=typeof Object.is=="function"?Object.is:eU;function Zc(o,c){if(wa(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),y=Object.keys(c);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var E=p[y];if(!d.call(c,E)||!wa(o[E],c[E]))return!1}return!0}function g_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function v_(o,c){var p=g_(o);o=0;for(var y;p;){if(p.nodeType===3){if(y=o+p.textContent.length,o<=c&&y>=c)return{node:p,offset:c-o};o=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=g_(p)}}function x_(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?x_(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function y_(){for(var o=window,c=$e();c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=$e(o.document)}return c}function Ug(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function tU(o){var c=y_(),p=o.focusedElem,y=o.selectionRange;if(c!==p&&p&&p.ownerDocument&&x_(p.ownerDocument.documentElement,p)){if(y!==null&&Ug(p)){if(c=y.start,o=y.end,o===void 0&&(o=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(o,p.value.length);else if(o=(c=p.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var E=p.textContent.length,R=Math.min(y.start,E);y=y.end===void 0?R:Math.min(y.end,E),!o.extend&&R>y&&(E=y,y=R,R=E),E=v_(p,R);var U=v_(p,y);E&&U&&(o.rangeCount!==1||o.anchorNode!==E.node||o.anchorOffset!==E.offset||o.focusNode!==U.node||o.focusOffset!==U.offset)&&(c=c.createRange(),c.setStart(E.node,E.offset),o.removeAllRanges(),R>y?(o.addRange(c),o.extend(U.node,U.offset)):(c.setEnd(U.node,U.offset),o.addRange(c)))}}for(c=[],o=p;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)o=c[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var rU=u&&"documentMode"in document&&11>=document.documentMode,Jo=null,Bg=null,Jc=null,zg=!1;function b_(o,c,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;zg||Jo==null||Jo!==$e(y)||(y=Jo,"selectionStart"in y&&Ug(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Jc&&Zc(Jc,y)||(Jc=y,y=Df(Bg,"onSelect"),0<y.length&&(c=new Ig("onSelect","select",null,c,p),o.push({event:c,listeners:y}),c.target=Jo)))}function If(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var el={animationend:If("Animation","AnimationEnd"),animationiteration:If("Animation","AnimationIteration"),animationstart:If("Animation","AnimationStart"),transitionend:If("Transition","TransitionEnd")},qg={},j_={};u&&(j_=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function kf(o){if(qg[o])return qg[o];if(!el[o])return o;var c=el[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in j_)return qg[o]=c[p];return o}var w_=kf("animationend"),N_=kf("animationiteration"),S_=kf("animationstart"),__=kf("transitionend"),C_=new Map,E_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(o,c){C_.set(o,c),i(c,[o])}for(var Wg=0;Wg<E_.length;Wg++){var Vg=E_[Wg],nU=Vg.toLowerCase(),aU=Vg[0].toUpperCase()+Vg.slice(1);ai(nU,"on"+aU)}ai(w_,"onAnimationEnd"),ai(N_,"onAnimationIteration"),ai(S_,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(__,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sU=new Set("cancel close invalid load scroll toggle".split(" ").concat(eu));function T_(o,c,p){var y=o.type||"unknown-event";o.currentTarget=p,nF(y,c,void 0,o),o.currentTarget=null}function A_(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var y=o[p],E=y.event;y=y.listeners;e:{var R=void 0;if(c)for(var U=y.length-1;0<=U;U--){var J=y[U],ne=J.instance,ve=J.currentTarget;if(J=J.listener,ne!==R&&E.isPropagationStopped())break e;T_(E,J,ve),R=ne}else for(U=0;U<y.length;U++){if(J=y[U],ne=J.instance,ve=J.currentTarget,J=J.listener,ne!==R&&E.isPropagationStopped())break e;T_(E,J,ve),R=ne}}}if(Fc)throw o=wg,Fc=!1,wg=null,o}function Yt(o,c){var p=c[Jg];p===void 0&&(p=c[Jg]=new Set);var y=o+"__bubble";p.has(y)||(R_(c,o,2,!1),p.add(y))}function Hg(o,c,p){var y=0;c&&(y|=4),R_(p,o,y,c)}var Of="_reactListening"+Math.random().toString(36).slice(2);function tu(o){if(!o[Of]){o[Of]=!0,a.forEach(function(p){p!=="selectionchange"&&(sU.has(p)||Hg(p,!1,o),Hg(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Of]||(c[Of]=!0,Hg("selectionchange",!1,c))}}function R_(o,c,p,y){switch(JS(c)){case 1:var E=yF;break;case 4:E=bF;break;default:E=Ag}p=E.bind(null,c,p,o),E=void 0,!Qs||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),y?E!==void 0?o.addEventListener(c,p,{capture:!0,passive:E}):o.addEventListener(c,p,!0):E!==void 0?o.addEventListener(c,p,{passive:E}):o.addEventListener(c,p,!1)}function Gg(o,c,p,y,E){var R=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var U=y.tag;if(U===3||U===4){var J=y.stateNode.containerInfo;if(J===E||J.nodeType===8&&J.parentNode===E)break;if(U===4)for(U=y.return;U!==null;){var ne=U.tag;if((ne===3||ne===4)&&(ne=U.stateNode.containerInfo,ne===E||ne.nodeType===8&&ne.parentNode===E))return;U=U.return}for(;J!==null;){if(U=eo(J),U===null)return;if(ne=U.tag,ne===5||ne===6){y=R=U;continue e}J=J.parentNode}}y=y.return}mr(function(){var ve=R,Pe=na(p),ke=[];e:{var Re=C_.get(o);if(Re!==void 0){var We=Ig,Ke=o;switch(o){case"keypress":if(Tf(p)===0)break e;case"keydown":case"keyup":We=DF;break;case"focusin":Ke="focus",We=Dg;break;case"focusout":Ke="blur",We=Dg;break;case"beforeblur":case"afterblur":We=Dg;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=r_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=NF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=LF;break;case w_:case N_:case S_:We=CF;break;case __:We=UF;break;case"scroll":We=jF;break;case"wheel":We=zF;break;case"copy":case"cut":case"paste":We=TF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=a_}var Qe=(c&4)!==0,dr=!Qe&&o==="scroll",ue=Qe?Re!==null?Re+"Capture":null:Re;Qe=[];for(var ie=ve,he;ie!==null;){he=ie;var Me=he.stateNode;if(he.tag===5&&Me!==null&&(he=Me,ue!==null&&(Me=Rr(ie,ue),Me!=null&&Qe.push(ru(ie,Me,he)))),dr)break;ie=ie.return}0<Qe.length&&(Re=new We(Re,Ke,null,p,Pe),ke.push({event:Re,listeners:Qe}))}}if((c&7)===0){e:{if(Re=o==="mouseover"||o==="pointerover",We=o==="mouseout"||o==="pointerout",Re&&p!==Zi&&(Ke=p.relatedTarget||p.fromElement)&&(eo(Ke)||Ke[vs]))break e;if((We||Re)&&(Re=Pe.window===Pe?Pe:(Re=Pe.ownerDocument)?Re.defaultView||Re.parentWindow:window,We?(Ke=p.relatedTarget||p.toElement,We=ve,Ke=Ke?eo(Ke):null,Ke!==null&&(dr=Ji(Ke),Ke!==dr||Ke.tag!==5&&Ke.tag!==6)&&(Ke=null)):(We=null,Ke=ve),We!==Ke)){if(Qe=r_,Me="onMouseLeave",ue="onMouseEnter",ie="mouse",(o==="pointerout"||o==="pointerover")&&(Qe=a_,Me="onPointerLeave",ue="onPointerEnter",ie="pointer"),dr=We==null?Re:nl(We),he=Ke==null?Re:nl(Ke),Re=new Qe(Me,ie+"leave",We,p,Pe),Re.target=dr,Re.relatedTarget=he,Me=null,eo(Pe)===ve&&(Qe=new Qe(ue,ie+"enter",Ke,p,Pe),Qe.target=he,Qe.relatedTarget=dr,Me=Qe),dr=Me,We&&Ke)t:{for(Qe=We,ue=Ke,ie=0,he=Qe;he;he=tl(he))ie++;for(he=0,Me=ue;Me;Me=tl(Me))he++;for(;0<ie-he;)Qe=tl(Qe),ie--;for(;0<he-ie;)ue=tl(ue),he--;for(;ie--;){if(Qe===ue||ue!==null&&Qe===ue.alternate)break t;Qe=tl(Qe),ue=tl(ue)}Qe=null}else Qe=null;We!==null&&P_(ke,Re,We,Qe,!1),Ke!==null&&dr!==null&&P_(ke,dr,Ke,Qe,!0)}}e:{if(Re=ve?nl(ve):window,We=Re.nodeName&&Re.nodeName.toLowerCase(),We==="select"||We==="input"&&Re.type==="file")var Je=YF;else if(u_(Re))if(f_)Je=JF;else{Je=QF;var lt=XF}else(We=Re.nodeName)&&We.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(Je=ZF);if(Je&&(Je=Je(o,ve))){d_(ke,Je,p,Pe);break e}lt&&lt(o,Re,ve),o==="focusout"&&(lt=Re._wrapperState)&&lt.controlled&&Re.type==="number"&&te(Re,"number",Re.value)}switch(lt=ve?nl(ve):window,o){case"focusin":(u_(lt)||lt.contentEditable==="true")&&(Jo=lt,Bg=ve,Jc=null);break;case"focusout":Jc=Bg=Jo=null;break;case"mousedown":zg=!0;break;case"contextmenu":case"mouseup":case"dragend":zg=!1,b_(ke,p,Pe);break;case"selectionchange":if(rU)break;case"keydown":case"keyup":b_(ke,p,Pe)}var ct;if($g)e:{switch(o){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Zo?l_(o,p)&&(ht="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(ht="onCompositionStart");ht&&(s_&&p.locale!=="ko"&&(Zo||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Zo&&(ct=e_()):(ni=Pe,Pg="value"in ni?ni.value:ni.textContent,Zo=!0)),lt=Df(ve,ht),0<lt.length&&(ht=new n_(ht,o,null,p,Pe),ke.push({event:ht,listeners:lt}),ct?ht.data=ct:(ct=c_(p),ct!==null&&(ht.data=ct)))),(ct=WF?VF(o,p):HF(o,p))&&(ve=Df(ve,"onBeforeInput"),0<ve.length&&(Pe=new n_("onBeforeInput","beforeinput",null,p,Pe),ke.push({event:Pe,listeners:ve}),Pe.data=ct))}A_(ke,c)})}function ru(o,c,p){return{instance:o,listener:c,currentTarget:p}}function Df(o,c){for(var p=c+"Capture",y=[];o!==null;){var E=o,R=E.stateNode;E.tag===5&&R!==null&&(E=R,R=Rr(o,p),R!=null&&y.unshift(ru(o,R,E)),R=Rr(o,c),R!=null&&y.push(ru(o,R,E))),o=o.return}return y}function tl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function P_(o,c,p,y,E){for(var R=c._reactName,U=[];p!==null&&p!==y;){var J=p,ne=J.alternate,ve=J.stateNode;if(ne!==null&&ne===y)break;J.tag===5&&ve!==null&&(J=ve,E?(ne=Rr(p,R),ne!=null&&U.unshift(ru(p,ne,J))):E||(ne=Rr(p,R),ne!=null&&U.push(ru(p,ne,J)))),p=p.return}U.length!==0&&o.push({event:c,listeners:U})}var iU=/\r\n?/g,oU=/\u0000|\uFFFD/g;function I_(o){return(typeof o=="string"?o:""+o).replace(iU,`
`).replace(oU,"")}function Mf(o,c,p){if(c=I_(c),I_(o)!==c&&p)throw Error(r(425))}function $f(){}var Kg=null,Yg=null;function Xg(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Qg=typeof setTimeout=="function"?setTimeout:void 0,lU=typeof clearTimeout=="function"?clearTimeout:void 0,k_=typeof Promise=="function"?Promise:void 0,cU=typeof queueMicrotask=="function"?queueMicrotask:typeof k_<"u"?function(o){return k_.resolve(null).then(o).catch(uU)}:Qg;function uU(o){setTimeout(function(){throw o})}function Zg(o,c){var p=c,y=0;do{var E=p.nextSibling;if(o.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"){if(y===0){o.removeChild(E),Hc(c);return}y--}else p!=="$"&&p!=="$?"&&p!=="$!"||y++;p=E}while(p);Hc(c)}function si(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function O_(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}var rl=Math.random().toString(36).slice(2),Wa="__reactFiber$"+rl,nu="__reactProps$"+rl,vs="__reactContainer$"+rl,Jg="__reactEvents$"+rl,dU="__reactListeners$"+rl,fU="__reactHandles$"+rl;function eo(o){var c=o[Wa];if(c)return c;for(var p=o.parentNode;p;){if(c=p[vs]||p[Wa]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=O_(o);o!==null;){if(p=o[Wa])return p;o=O_(o)}return c}o=p,p=o.parentNode}return null}function au(o){return o=o[Wa]||o[vs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function nl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Lf(o){return o[nu]||null}var ev=[],al=-1;function ii(o){return{current:o}}function Xt(o){0>al||(o.current=ev[al],ev[al]=null,al--)}function Ht(o,c){al++,ev[al]=o.current,o.current=c}var oi={},tn=ii(oi),Cn=ii(!1),to=oi;function sl(o,c){var p=o.type.contextTypes;if(!p)return oi;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var E={},R;for(R in p)E[R]=c[R];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=E),E}function En(o){return o=o.childContextTypes,o!=null}function Ff(){Xt(Cn),Xt(tn)}function D_(o,c,p){if(tn.current!==oi)throw Error(r(168));Ht(tn,c),Ht(Cn,p)}function M_(o,c,p){var y=o.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return p;y=y.getChildContext();for(var E in y)if(!(E in c))throw Error(r(108,K(o)||"Unknown",E));return H({},p,y)}function Uf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||oi,to=tn.current,Ht(tn,o),Ht(Cn,Cn.current),!0}function $_(o,c,p){var y=o.stateNode;if(!y)throw Error(r(169));p?(o=M_(o,c,to),y.__reactInternalMemoizedMergedChildContext=o,Xt(Cn),Xt(tn),Ht(tn,o)):Xt(Cn),Ht(Cn,p)}var xs=null,Bf=!1,tv=!1;function L_(o){xs===null?xs=[o]:xs.push(o)}function hU(o){Bf=!0,L_(o)}function li(){if(!tv&&xs!==null){tv=!0;var o=0,c=Dt;try{var p=xs;for(Dt=1;o<p.length;o++){var y=p[o];do y=y(!0);while(y!==null)}xs=null,Bf=!1}catch(E){throw xs!==null&&(xs=xs.slice(o+1)),US(Ng,li),E}finally{Dt=c,tv=!1}}return null}var il=[],ol=0,zf=null,qf=0,sa=[],ia=0,ro=null,ys=1,bs="";function no(o,c){il[ol++]=qf,il[ol++]=zf,zf=o,qf=c}function F_(o,c,p){sa[ia++]=ys,sa[ia++]=bs,sa[ia++]=ro,ro=o;var y=ys;o=bs;var E=32-ja(y)-1;y&=~(1<<E),p+=1;var R=32-ja(c)+E;if(30<R){var U=E-E%5;R=(y&(1<<U)-1).toString(32),y>>=U,E-=U,ys=1<<32-ja(c)+E|p<<E|y,bs=R+o}else ys=1<<R|p<<E|y,bs=o}function rv(o){o.return!==null&&(no(o,1),F_(o,1,0))}function nv(o){for(;o===zf;)zf=il[--ol],il[ol]=null,qf=il[--ol],il[ol]=null;for(;o===ro;)ro=sa[--ia],sa[ia]=null,bs=sa[--ia],sa[ia]=null,ys=sa[--ia],sa[ia]=null}var Un=null,Bn=null,Zt=!1,Na=null;function U_(o,c){var p=ua(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=o,c=o.deletions,c===null?(o.deletions=[p],o.flags|=16):c.push(p)}function B_(o,c){switch(o.tag){case 5:var p=o.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Un=o,Bn=si(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Un=o,Bn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=ro!==null?{id:ys,overflow:bs}:null,o.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=ua(18,null,null,0),p.stateNode=c,p.return=o,o.child=p,Un=o,Bn=null,!0):!1;default:return!1}}function av(o){return(o.mode&1)!==0&&(o.flags&128)===0}function sv(o){if(Zt){var c=Bn;if(c){var p=c;if(!B_(o,c)){if(av(o))throw Error(r(418));c=si(p.nextSibling);var y=Un;c&&B_(o,c)?U_(y,p):(o.flags=o.flags&-4097|2,Zt=!1,Un=o)}}else{if(av(o))throw Error(r(418));o.flags=o.flags&-4097|2,Zt=!1,Un=o}}}function z_(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Un=o}function Wf(o){if(o!==Un)return!1;if(!Zt)return z_(o),Zt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Xg(o.type,o.memoizedProps)),c&&(c=Bn)){if(av(o))throw q_(),Error(r(418));for(;c;)U_(o,c),c=si(c.nextSibling)}if(z_(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(c===0){Bn=si(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}o=o.nextSibling}Bn=null}}else Bn=Un?si(o.stateNode.nextSibling):null;return!0}function q_(){for(var o=Bn;o;)o=si(o.nextSibling)}function ll(){Bn=Un=null,Zt=!1}function iv(o){Na===null?Na=[o]:Na.push(o)}var mU=A.ReactCurrentBatchConfig;function su(o,c,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var y=p.stateNode}if(!y)throw Error(r(147,o));var E=y,R=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===R?c.ref:(c=function(U){var J=E.refs;U===null?delete J[R]:J[R]=U},c._stringRef=R,c)}if(typeof o!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,o))}return o}function Vf(o,c){throw o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function W_(o){var c=o._init;return c(o._payload)}function V_(o){function c(ue,ie){if(o){var he=ue.deletions;he===null?(ue.deletions=[ie],ue.flags|=16):he.push(ie)}}function p(ue,ie){if(!o)return null;for(;ie!==null;)c(ue,ie),ie=ie.sibling;return null}function y(ue,ie){for(ue=new Map;ie!==null;)ie.key!==null?ue.set(ie.key,ie):ue.set(ie.index,ie),ie=ie.sibling;return ue}function E(ue,ie){return ue=gi(ue,ie),ue.index=0,ue.sibling=null,ue}function R(ue,ie,he){return ue.index=he,o?(he=ue.alternate,he!==null?(he=he.index,he<ie?(ue.flags|=2,ie):he):(ue.flags|=2,ie)):(ue.flags|=1048576,ie)}function U(ue){return o&&ue.alternate===null&&(ue.flags|=2),ue}function J(ue,ie,he,Me){return ie===null||ie.tag!==6?(ie=Qv(he,ue.mode,Me),ie.return=ue,ie):(ie=E(ie,he),ie.return=ue,ie)}function ne(ue,ie,he,Me){var Je=he.type;return Je===P?Pe(ue,ie,he.props.children,Me,he.key):ie!==null&&(ie.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===M&&W_(Je)===ie.type)?(Me=E(ie,he.props),Me.ref=su(ue,ie,he),Me.return=ue,Me):(Me=ph(he.type,he.key,he.props,null,ue.mode,Me),Me.ref=su(ue,ie,he),Me.return=ue,Me)}function ve(ue,ie,he,Me){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==he.containerInfo||ie.stateNode.implementation!==he.implementation?(ie=Zv(he,ue.mode,Me),ie.return=ue,ie):(ie=E(ie,he.children||[]),ie.return=ue,ie)}function Pe(ue,ie,he,Me,Je){return ie===null||ie.tag!==7?(ie=fo(he,ue.mode,Me,Je),ie.return=ue,ie):(ie=E(ie,he),ie.return=ue,ie)}function ke(ue,ie,he){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Qv(""+ie,ue.mode,he),ie.return=ue,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return he=ph(ie.type,ie.key,ie.props,null,ue.mode,he),he.ref=su(ue,null,ie),he.return=ue,he;case T:return ie=Zv(ie,ue.mode,he),ie.return=ue,ie;case M:var Me=ie._init;return ke(ue,Me(ie._payload),he)}if(se(ie)||W(ie))return ie=fo(ie,ue.mode,he,null),ie.return=ue,ie;Vf(ue,ie)}return null}function Re(ue,ie,he,Me){var Je=ie!==null?ie.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return Je!==null?null:J(ue,ie,""+he,Me);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return he.key===Je?ne(ue,ie,he,Me):null;case T:return he.key===Je?ve(ue,ie,he,Me):null;case M:return Je=he._init,Re(ue,ie,Je(he._payload),Me)}if(se(he)||W(he))return Je!==null?null:Pe(ue,ie,he,Me,null);Vf(ue,he)}return null}function We(ue,ie,he,Me,Je){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return ue=ue.get(he)||null,J(ie,ue,""+Me,Je);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case _:return ue=ue.get(Me.key===null?he:Me.key)||null,ne(ie,ue,Me,Je);case T:return ue=ue.get(Me.key===null?he:Me.key)||null,ve(ie,ue,Me,Je);case M:var lt=Me._init;return We(ue,ie,he,lt(Me._payload),Je)}if(se(Me)||W(Me))return ue=ue.get(he)||null,Pe(ie,ue,Me,Je,null);Vf(ie,Me)}return null}function Ke(ue,ie,he,Me){for(var Je=null,lt=null,ct=ie,ht=ie=0,kr=null;ct!==null&&ht<he.length;ht++){ct.index>ht?(kr=ct,ct=null):kr=ct.sibling;var Tt=Re(ue,ct,he[ht],Me);if(Tt===null){ct===null&&(ct=kr);break}o&&ct&&Tt.alternate===null&&c(ue,ct),ie=R(Tt,ie,ht),lt===null?Je=Tt:lt.sibling=Tt,lt=Tt,ct=kr}if(ht===he.length)return p(ue,ct),Zt&&no(ue,ht),Je;if(ct===null){for(;ht<he.length;ht++)ct=ke(ue,he[ht],Me),ct!==null&&(ie=R(ct,ie,ht),lt===null?Je=ct:lt.sibling=ct,lt=ct);return Zt&&no(ue,ht),Je}for(ct=y(ue,ct);ht<he.length;ht++)kr=We(ct,ue,ht,he[ht],Me),kr!==null&&(o&&kr.alternate!==null&&ct.delete(kr.key===null?ht:kr.key),ie=R(kr,ie,ht),lt===null?Je=kr:lt.sibling=kr,lt=kr);return o&&ct.forEach(function(vi){return c(ue,vi)}),Zt&&no(ue,ht),Je}function Qe(ue,ie,he,Me){var Je=W(he);if(typeof Je!="function")throw Error(r(150));if(he=Je.call(he),he==null)throw Error(r(151));for(var lt=Je=null,ct=ie,ht=ie=0,kr=null,Tt=he.next();ct!==null&&!Tt.done;ht++,Tt=he.next()){ct.index>ht?(kr=ct,ct=null):kr=ct.sibling;var vi=Re(ue,ct,Tt.value,Me);if(vi===null){ct===null&&(ct=kr);break}o&&ct&&vi.alternate===null&&c(ue,ct),ie=R(vi,ie,ht),lt===null?Je=vi:lt.sibling=vi,lt=vi,ct=kr}if(Tt.done)return p(ue,ct),Zt&&no(ue,ht),Je;if(ct===null){for(;!Tt.done;ht++,Tt=he.next())Tt=ke(ue,Tt.value,Me),Tt!==null&&(ie=R(Tt,ie,ht),lt===null?Je=Tt:lt.sibling=Tt,lt=Tt);return Zt&&no(ue,ht),Je}for(ct=y(ue,ct);!Tt.done;ht++,Tt=he.next())Tt=We(ct,ue,ht,Tt.value,Me),Tt!==null&&(o&&Tt.alternate!==null&&ct.delete(Tt.key===null?ht:Tt.key),ie=R(Tt,ie,ht),lt===null?Je=Tt:lt.sibling=Tt,lt=Tt);return o&&ct.forEach(function(GU){return c(ue,GU)}),Zt&&no(ue,ht),Je}function dr(ue,ie,he,Me){if(typeof he=="object"&&he!==null&&he.type===P&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case _:e:{for(var Je=he.key,lt=ie;lt!==null;){if(lt.key===Je){if(Je=he.type,Je===P){if(lt.tag===7){p(ue,lt.sibling),ie=E(lt,he.props.children),ie.return=ue,ue=ie;break e}}else if(lt.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===M&&W_(Je)===lt.type){p(ue,lt.sibling),ie=E(lt,he.props),ie.ref=su(ue,lt,he),ie.return=ue,ue=ie;break e}p(ue,lt);break}else c(ue,lt);lt=lt.sibling}he.type===P?(ie=fo(he.props.children,ue.mode,Me,he.key),ie.return=ue,ue=ie):(Me=ph(he.type,he.key,he.props,null,ue.mode,Me),Me.ref=su(ue,ie,he),Me.return=ue,ue=Me)}return U(ue);case T:e:{for(lt=he.key;ie!==null;){if(ie.key===lt)if(ie.tag===4&&ie.stateNode.containerInfo===he.containerInfo&&ie.stateNode.implementation===he.implementation){p(ue,ie.sibling),ie=E(ie,he.children||[]),ie.return=ue,ue=ie;break e}else{p(ue,ie);break}else c(ue,ie);ie=ie.sibling}ie=Zv(he,ue.mode,Me),ie.return=ue,ue=ie}return U(ue);case M:return lt=he._init,dr(ue,ie,lt(he._payload),Me)}if(se(he))return Ke(ue,ie,he,Me);if(W(he))return Qe(ue,ie,he,Me);Vf(ue,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ie!==null&&ie.tag===6?(p(ue,ie.sibling),ie=E(ie,he),ie.return=ue,ue=ie):(p(ue,ie),ie=Qv(he,ue.mode,Me),ie.return=ue,ue=ie),U(ue)):p(ue,ie)}return dr}var cl=V_(!0),H_=V_(!1),Hf=ii(null),Gf=null,ul=null,ov=null;function lv(){ov=ul=Gf=null}function cv(o){var c=Hf.current;Xt(Hf),o._currentValue=c}function uv(o,c,p){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===p)break;o=o.return}}function dl(o,c){Gf=o,ov=ul=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(Tn=!0),o.firstContext=null)}function oa(o){var c=o._currentValue;if(ov!==o)if(o={context:o,memoizedValue:c,next:null},ul===null){if(Gf===null)throw Error(r(308));ul=o,Gf.dependencies={lanes:0,firstContext:o}}else ul=ul.next=o;return c}var ao=null;function dv(o){ao===null?ao=[o]:ao.push(o)}function G_(o,c,p,y){var E=c.interleaved;return E===null?(p.next=p,dv(c)):(p.next=E.next,E.next=p),c.interleaved=p,js(o,y)}function js(o,c){o.lanes|=c;var p=o.alternate;for(p!==null&&(p.lanes|=c),p=o,o=o.return;o!==null;)o.childLanes|=c,p=o.alternate,p!==null&&(p.childLanes|=c),p=o,o=o.return;return p.tag===3?p.stateNode:null}var ci=!1;function fv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K_(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ws(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function ui(o,c,p){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(_t&2)!==0){var E=y.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),y.pending=c,js(o,p)}return E=y.interleaved,E===null?(c.next=c,dv(y)):(c.next=E.next,E.next=c),y.interleaved=c,js(o,p)}function Kf(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,Cg(o,p)}}function Y_(o,c){var p=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var E=null,R=null;if(p=p.firstBaseUpdate,p!==null){do{var U={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};R===null?E=R=U:R=R.next=U,p=p.next}while(p!==null);R===null?E=R=c:R=R.next=c}else E=R=c;p={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:y.shared,effects:y.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}function Yf(o,c,p,y){var E=o.updateQueue;ci=!1;var R=E.firstBaseUpdate,U=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var ne=J,ve=ne.next;ne.next=null,U===null?R=ve:U.next=ve,U=ne;var Pe=o.alternate;Pe!==null&&(Pe=Pe.updateQueue,J=Pe.lastBaseUpdate,J!==U&&(J===null?Pe.firstBaseUpdate=ve:J.next=ve,Pe.lastBaseUpdate=ne))}if(R!==null){var ke=E.baseState;U=0,Pe=ve=ne=null,J=R;do{var Re=J.lane,We=J.eventTime;if((y&Re)===Re){Pe!==null&&(Pe=Pe.next={eventTime:We,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Ke=o,Qe=J;switch(Re=c,We=p,Qe.tag){case 1:if(Ke=Qe.payload,typeof Ke=="function"){ke=Ke.call(We,ke,Re);break e}ke=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Qe.payload,Re=typeof Ke=="function"?Ke.call(We,ke,Re):Ke,Re==null)break e;ke=H({},ke,Re);break e;case 2:ci=!0}}J.callback!==null&&J.lane!==0&&(o.flags|=64,Re=E.effects,Re===null?E.effects=[J]:Re.push(J))}else We={eventTime:We,lane:Re,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Pe===null?(ve=Pe=We,ne=ke):Pe=Pe.next=We,U|=Re;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;Re=J,J=Re.next,Re.next=null,E.lastBaseUpdate=Re,E.shared.pending=null}}while(!0);if(Pe===null&&(ne=ke),E.baseState=ne,E.firstBaseUpdate=ve,E.lastBaseUpdate=Pe,c=E.shared.interleaved,c!==null){E=c;do U|=E.lane,E=E.next;while(E!==c)}else R===null&&(E.shared.lanes=0);oo|=U,o.lanes=U,o.memoizedState=ke}}function X_(o,c,p){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var y=o[c],E=y.callback;if(E!==null){if(y.callback=null,y=p,typeof E!="function")throw Error(r(191,E));E.call(y)}}}var iu={},Va=ii(iu),ou=ii(iu),lu=ii(iu);function so(o){if(o===iu)throw Error(r(174));return o}function hv(o,c){switch(Ht(lu,c),Ht(ou,o),Ht(Va,iu),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:it(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=it(c,o)}Xt(Va),Ht(Va,c)}function fl(){Xt(Va),Xt(ou),Xt(lu)}function Q_(o){so(lu.current);var c=so(Va.current),p=it(c,o.type);c!==p&&(Ht(ou,o),Ht(Va,p))}function mv(o){ou.current===o&&(Xt(Va),Xt(ou))}var rr=ii(0);function Xf(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var pv=[];function gv(){for(var o=0;o<pv.length;o++)pv[o]._workInProgressVersionPrimary=null;pv.length=0}var Qf=A.ReactCurrentDispatcher,vv=A.ReactCurrentBatchConfig,io=0,nr=null,jr=null,Pr=null,Zf=!1,cu=!1,uu=0,pU=0;function rn(){throw Error(r(321))}function xv(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!wa(o[p],c[p]))return!1;return!0}function yv(o,c,p,y,E,R){if(io=R,nr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Qf.current=o===null||o.memoizedState===null?yU:bU,o=p(y,E),cu){R=0;do{if(cu=!1,uu=0,25<=R)throw Error(r(301));R+=1,Pr=jr=null,c.updateQueue=null,Qf.current=jU,o=p(y,E)}while(cu)}if(Qf.current=th,c=jr!==null&&jr.next!==null,io=0,Pr=jr=nr=null,Zf=!1,c)throw Error(r(300));return o}function bv(){var o=uu!==0;return uu=0,o}function Ha(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?nr.memoizedState=Pr=o:Pr=Pr.next=o,Pr}function la(){if(jr===null){var o=nr.alternate;o=o!==null?o.memoizedState:null}else o=jr.next;var c=Pr===null?nr.memoizedState:Pr.next;if(c!==null)Pr=c,jr=o;else{if(o===null)throw Error(r(310));jr=o,o={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Pr===null?nr.memoizedState=Pr=o:Pr=Pr.next=o}return Pr}function du(o,c){return typeof c=="function"?c(o):c}function jv(o){var c=la(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var y=jr,E=y.baseQueue,R=p.pending;if(R!==null){if(E!==null){var U=E.next;E.next=R.next,R.next=U}y.baseQueue=E=R,p.pending=null}if(E!==null){R=E.next,y=y.baseState;var J=U=null,ne=null,ve=R;do{var Pe=ve.lane;if((io&Pe)===Pe)ne!==null&&(ne=ne.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),y=ve.hasEagerState?ve.eagerState:o(y,ve.action);else{var ke={lane:Pe,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};ne===null?(J=ne=ke,U=y):ne=ne.next=ke,nr.lanes|=Pe,oo|=Pe}ve=ve.next}while(ve!==null&&ve!==R);ne===null?U=y:ne.next=J,wa(y,c.memoizedState)||(Tn=!0),c.memoizedState=y,c.baseState=U,c.baseQueue=ne,p.lastRenderedState=y}if(o=p.interleaved,o!==null){E=o;do R=E.lane,nr.lanes|=R,oo|=R,E=E.next;while(E!==o)}else E===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function wv(o){var c=la(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var y=p.dispatch,E=p.pending,R=c.memoizedState;if(E!==null){p.pending=null;var U=E=E.next;do R=o(R,U.action),U=U.next;while(U!==E);wa(R,c.memoizedState)||(Tn=!0),c.memoizedState=R,c.baseQueue===null&&(c.baseState=R),p.lastRenderedState=R}return[R,y]}function Z_(){}function J_(o,c){var p=nr,y=la(),E=c(),R=!wa(y.memoizedState,E);if(R&&(y.memoizedState=E,Tn=!0),y=y.queue,Nv(rC.bind(null,p,y,o),[o]),y.getSnapshot!==c||R||Pr!==null&&Pr.memoizedState.tag&1){if(p.flags|=2048,fu(9,tC.bind(null,p,y,E,c),void 0,null),Ir===null)throw Error(r(349));(io&30)!==0||eC(p,c,E)}return E}function eC(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=nr.updateQueue,c===null?(c={lastEffect:null,stores:null},nr.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function tC(o,c,p,y){c.value=p,c.getSnapshot=y,nC(c)&&aC(o)}function rC(o,c,p){return p(function(){nC(c)&&aC(o)})}function nC(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!wa(o,p)}catch{return!0}}function aC(o){var c=js(o,1);c!==null&&Ea(c,o,1,-1)}function sC(o){var c=Ha();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:o},c.queue=o,o=o.dispatch=xU.bind(null,nr,o),[c.memoizedState,o]}function fu(o,c,p,y){return o={tag:o,create:c,destroy:p,deps:y,next:null},c=nr.updateQueue,c===null?(c={lastEffect:null,stores:null},nr.updateQueue=c,c.lastEffect=o.next=o):(p=c.lastEffect,p===null?c.lastEffect=o.next=o:(y=p.next,p.next=o,o.next=y,c.lastEffect=o)),o}function iC(){return la().memoizedState}function Jf(o,c,p,y){var E=Ha();nr.flags|=o,E.memoizedState=fu(1|c,p,void 0,y===void 0?null:y)}function eh(o,c,p,y){var E=la();y=y===void 0?null:y;var R=void 0;if(jr!==null){var U=jr.memoizedState;if(R=U.destroy,y!==null&&xv(y,U.deps)){E.memoizedState=fu(c,p,R,y);return}}nr.flags|=o,E.memoizedState=fu(1|c,p,R,y)}function oC(o,c){return Jf(8390656,8,o,c)}function Nv(o,c){return eh(2048,8,o,c)}function lC(o,c){return eh(4,2,o,c)}function cC(o,c){return eh(4,4,o,c)}function uC(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function dC(o,c,p){return p=p!=null?p.concat([o]):null,eh(4,4,uC.bind(null,c,o),p)}function Sv(){}function fC(o,c){var p=la();c=c===void 0?null:c;var y=p.memoizedState;return y!==null&&c!==null&&xv(c,y[1])?y[0]:(p.memoizedState=[o,c],o)}function hC(o,c){var p=la();c=c===void 0?null:c;var y=p.memoizedState;return y!==null&&c!==null&&xv(c,y[1])?y[0]:(o=o(),p.memoizedState=[o,c],o)}function mC(o,c,p){return(io&21)===0?(o.baseState&&(o.baseState=!1,Tn=!0),o.memoizedState=p):(wa(p,c)||(p=WS(),nr.lanes|=p,oo|=p,o.baseState=!0),c)}function gU(o,c){var p=Dt;Dt=p!==0&&4>p?p:4,o(!0);var y=vv.transition;vv.transition={};try{o(!1),c()}finally{Dt=p,vv.transition=y}}function pC(){return la().memoizedState}function vU(o,c,p){var y=mi(o);if(p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},gC(o))vC(c,p);else if(p=G_(o,c,p,y),p!==null){var E=hn();Ea(p,o,y,E),xC(p,c,y)}}function xU(o,c,p){var y=mi(o),E={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(gC(o))vC(c,E);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=c.lastRenderedReducer,R!==null))try{var U=c.lastRenderedState,J=R(U,p);if(E.hasEagerState=!0,E.eagerState=J,wa(J,U)){var ne=c.interleaved;ne===null?(E.next=E,dv(c)):(E.next=ne.next,ne.next=E),c.interleaved=E;return}}catch{}finally{}p=G_(o,c,E,y),p!==null&&(E=hn(),Ea(p,o,y,E),xC(p,c,y))}}function gC(o){var c=o.alternate;return o===nr||c!==null&&c===nr}function vC(o,c){cu=Zf=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function xC(o,c,p){if((p&4194240)!==0){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,Cg(o,p)}}var th={readContext:oa,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},yU={readContext:oa,useCallback:function(o,c){return Ha().memoizedState=[o,c===void 0?null:c],o},useContext:oa,useEffect:oC,useImperativeHandle:function(o,c,p){return p=p!=null?p.concat([o]):null,Jf(4194308,4,uC.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Jf(4194308,4,o,c)},useInsertionEffect:function(o,c){return Jf(4,2,o,c)},useMemo:function(o,c){var p=Ha();return c=c===void 0?null:c,o=o(),p.memoizedState=[o,c],o},useReducer:function(o,c,p){var y=Ha();return c=p!==void 0?p(c):c,y.memoizedState=y.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},y.queue=o,o=o.dispatch=vU.bind(null,nr,o),[y.memoizedState,o]},useRef:function(o){var c=Ha();return o={current:o},c.memoizedState=o},useState:sC,useDebugValue:Sv,useDeferredValue:function(o){return Ha().memoizedState=o},useTransition:function(){var o=sC(!1),c=o[0];return o=gU.bind(null,o[1]),Ha().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,p){var y=nr,E=Ha();if(Zt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),Ir===null)throw Error(r(349));(io&30)!==0||eC(y,c,p)}E.memoizedState=p;var R={value:p,getSnapshot:c};return E.queue=R,oC(rC.bind(null,y,R,o),[o]),y.flags|=2048,fu(9,tC.bind(null,y,R,p,c),void 0,null),p},useId:function(){var o=Ha(),c=Ir.identifierPrefix;if(Zt){var p=bs,y=ys;p=(y&~(1<<32-ja(y)-1)).toString(32)+p,c=":"+c+"R"+p,p=uu++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=pU++,c=":"+c+"r"+p.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},bU={readContext:oa,useCallback:fC,useContext:oa,useEffect:Nv,useImperativeHandle:dC,useInsertionEffect:lC,useLayoutEffect:cC,useMemo:hC,useReducer:jv,useRef:iC,useState:function(){return jv(du)},useDebugValue:Sv,useDeferredValue:function(o){var c=la();return mC(c,jr.memoizedState,o)},useTransition:function(){var o=jv(du)[0],c=la().memoizedState;return[o,c]},useMutableSource:Z_,useSyncExternalStore:J_,useId:pC,unstable_isNewReconciler:!1},jU={readContext:oa,useCallback:fC,useContext:oa,useEffect:Nv,useImperativeHandle:dC,useInsertionEffect:lC,useLayoutEffect:cC,useMemo:hC,useReducer:wv,useRef:iC,useState:function(){return wv(du)},useDebugValue:Sv,useDeferredValue:function(o){var c=la();return jr===null?c.memoizedState=o:mC(c,jr.memoizedState,o)},useTransition:function(){var o=wv(du)[0],c=la().memoizedState;return[o,c]},useMutableSource:Z_,useSyncExternalStore:J_,useId:pC,unstable_isNewReconciler:!1};function Sa(o,c){if(o&&o.defaultProps){c=H({},c),o=o.defaultProps;for(var p in o)c[p]===void 0&&(c[p]=o[p]);return c}return c}function _v(o,c,p,y){c=o.memoizedState,p=p(y,c),p=p==null?c:H({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var rh={isMounted:function(o){return(o=o._reactInternals)?Ji(o)===o:!1},enqueueSetState:function(o,c,p){o=o._reactInternals;var y=hn(),E=mi(o),R=ws(y,E);R.payload=c,p!=null&&(R.callback=p),c=ui(o,R,E),c!==null&&(Ea(c,o,E,y),Kf(c,o,E))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var y=hn(),E=mi(o),R=ws(y,E);R.tag=1,R.payload=c,p!=null&&(R.callback=p),c=ui(o,R,E),c!==null&&(Ea(c,o,E,y),Kf(c,o,E))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=hn(),y=mi(o),E=ws(p,y);E.tag=2,c!=null&&(E.callback=c),c=ui(o,E,y),c!==null&&(Ea(c,o,y,p),Kf(c,o,y))}};function yC(o,c,p,y,E,R,U){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,R,U):c.prototype&&c.prototype.isPureReactComponent?!Zc(p,y)||!Zc(E,R):!0}function bC(o,c,p){var y=!1,E=oi,R=c.contextType;return typeof R=="object"&&R!==null?R=oa(R):(E=En(c)?to:tn.current,y=c.contextTypes,R=(y=y!=null)?sl(o,E):oi),c=new c(p,R),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=rh,o.stateNode=c,c._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=E,o.__reactInternalMemoizedMaskedChildContext=R),c}function jC(o,c,p,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,y),c.state!==o&&rh.enqueueReplaceState(c,c.state,null)}function Cv(o,c,p,y){var E=o.stateNode;E.props=p,E.state=o.memoizedState,E.refs={},fv(o);var R=c.contextType;typeof R=="object"&&R!==null?E.context=oa(R):(R=En(c)?to:tn.current,E.context=sl(o,R)),E.state=o.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(_v(o,c,R,p),E.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(c=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),c!==E.state&&rh.enqueueReplaceState(E,E.state,null),Yf(o,p,E,y),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308)}function hl(o,c){try{var p="",y=c;do p+=ee(y),y=y.return;while(y);var E=p}catch(R){E=`
Error generating stack: `+R.message+`
`+R.stack}return{value:o,source:c,stack:E,digest:null}}function Ev(o,c,p){return{value:o,source:null,stack:p??null,digest:c??null}}function Tv(o,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var wU=typeof WeakMap=="function"?WeakMap:Map;function wC(o,c,p){p=ws(-1,p),p.tag=3,p.payload={element:null};var y=c.value;return p.callback=function(){ch||(ch=!0,qv=y),Tv(o,c)},p}function NC(o,c,p){p=ws(-1,p),p.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var E=c.value;p.payload=function(){return y(E)},p.callback=function(){Tv(o,c)}}var R=o.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(p.callback=function(){Tv(o,c),typeof y!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var U=c.stack;this.componentDidCatch(c.value,{componentStack:U!==null?U:""})}),p}function SC(o,c,p){var y=o.pingCache;if(y===null){y=o.pingCache=new wU;var E=new Set;y.set(c,E)}else E=y.get(c),E===void 0&&(E=new Set,y.set(c,E));E.has(p)||(E.add(p),o=MU.bind(null,o,c,p),c.then(o,o))}function _C(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function CC(o,c,p,y,E){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=ws(-1,1),c.tag=2,ui(p,c,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=E,o)}var NU=A.ReactCurrentOwner,Tn=!1;function fn(o,c,p,y){c.child=o===null?H_(c,null,p,y):cl(c,o.child,p,y)}function EC(o,c,p,y,E){p=p.render;var R=c.ref;return dl(c,E),y=yv(o,c,p,y,R,E),p=bv(),o!==null&&!Tn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~E,Ns(o,c,E)):(Zt&&p&&rv(c),c.flags|=1,fn(o,c,y,E),c.child)}function TC(o,c,p,y,E){if(o===null){var R=p.type;return typeof R=="function"&&!Xv(R)&&R.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=R,AC(o,c,R,y,E)):(o=ph(p.type,null,y,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(R=o.child,(o.lanes&E)===0){var U=R.memoizedProps;if(p=p.compare,p=p!==null?p:Zc,p(U,y)&&o.ref===c.ref)return Ns(o,c,E)}return c.flags|=1,o=gi(R,y),o.ref=c.ref,o.return=c,c.child=o}function AC(o,c,p,y,E){if(o!==null){var R=o.memoizedProps;if(Zc(R,y)&&o.ref===c.ref)if(Tn=!1,c.pendingProps=y=R,(o.lanes&E)!==0)(o.flags&131072)!==0&&(Tn=!0);else return c.lanes=o.lanes,Ns(o,c,E)}return Av(o,c,p,y,E)}function RC(o,c,p){var y=c.pendingProps,E=y.children,R=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(pl,zn),zn|=p;else{if((p&1073741824)===0)return o=R!==null?R.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,Ht(pl,zn),zn|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=R!==null?R.baseLanes:p,Ht(pl,zn),zn|=y}else R!==null?(y=R.baseLanes|p,c.memoizedState=null):y=p,Ht(pl,zn),zn|=y;return fn(o,c,E,p),c.child}function PC(o,c){var p=c.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function Av(o,c,p,y,E){var R=En(p)?to:tn.current;return R=sl(c,R),dl(c,E),p=yv(o,c,p,y,R,E),y=bv(),o!==null&&!Tn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~E,Ns(o,c,E)):(Zt&&y&&rv(c),c.flags|=1,fn(o,c,p,E),c.child)}function IC(o,c,p,y,E){if(En(p)){var R=!0;Uf(c)}else R=!1;if(dl(c,E),c.stateNode===null)ah(o,c),bC(c,p,y),Cv(c,p,y,E),y=!0;else if(o===null){var U=c.stateNode,J=c.memoizedProps;U.props=J;var ne=U.context,ve=p.contextType;typeof ve=="object"&&ve!==null?ve=oa(ve):(ve=En(p)?to:tn.current,ve=sl(c,ve));var Pe=p.getDerivedStateFromProps,ke=typeof Pe=="function"||typeof U.getSnapshotBeforeUpdate=="function";ke||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==y||ne!==ve)&&jC(c,U,y,ve),ci=!1;var Re=c.memoizedState;U.state=Re,Yf(c,y,U,E),ne=c.memoizedState,J!==y||Re!==ne||Cn.current||ci?(typeof Pe=="function"&&(_v(c,p,Pe,y),ne=c.memoizedState),(J=ci||yC(c,p,J,y,Re,ne,ve))?(ke||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(c.flags|=4194308)):(typeof U.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=ne),U.props=y,U.state=ne,U.context=ve,y=J):(typeof U.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{U=c.stateNode,K_(o,c),J=c.memoizedProps,ve=c.type===c.elementType?J:Sa(c.type,J),U.props=ve,ke=c.pendingProps,Re=U.context,ne=p.contextType,typeof ne=="object"&&ne!==null?ne=oa(ne):(ne=En(p)?to:tn.current,ne=sl(c,ne));var We=p.getDerivedStateFromProps;(Pe=typeof We=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==ke||Re!==ne)&&jC(c,U,y,ne),ci=!1,Re=c.memoizedState,U.state=Re,Yf(c,y,U,E);var Ke=c.memoizedState;J!==ke||Re!==Ke||Cn.current||ci?(typeof We=="function"&&(_v(c,p,We,y),Ke=c.memoizedState),(ve=ci||yC(c,p,ve,y,Re,Ke,ne)||!1)?(Pe||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(y,Ke,ne),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(y,Ke,ne)),typeof U.componentDidUpdate=="function"&&(c.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof U.componentDidUpdate!="function"||J===o.memoizedProps&&Re===o.memoizedState||(c.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&Re===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Ke),U.props=y,U.state=Ke,U.context=ne,y=ve):(typeof U.componentDidUpdate!="function"||J===o.memoizedProps&&Re===o.memoizedState||(c.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&Re===o.memoizedState||(c.flags|=1024),y=!1)}return Rv(o,c,p,y,R,E)}function Rv(o,c,p,y,E,R){PC(o,c);var U=(c.flags&128)!==0;if(!y&&!U)return E&&$_(c,p,!1),Ns(o,c,R);y=c.stateNode,NU.current=c;var J=U&&typeof p.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,o!==null&&U?(c.child=cl(c,o.child,null,R),c.child=cl(c,null,J,R)):fn(o,c,J,R),c.memoizedState=y.state,E&&$_(c,p,!0),c.child}function kC(o){var c=o.stateNode;c.pendingContext?D_(o,c.pendingContext,c.pendingContext!==c.context):c.context&&D_(o,c.context,!1),hv(o,c.containerInfo)}function OC(o,c,p,y,E){return ll(),iv(E),c.flags|=256,fn(o,c,p,y),c.child}var Pv={dehydrated:null,treeContext:null,retryLane:0};function Iv(o){return{baseLanes:o,cachePool:null,transitions:null}}function DC(o,c,p){var y=c.pendingProps,E=rr.current,R=!1,U=(c.flags&128)!==0,J;if((J=U)||(J=o!==null&&o.memoizedState===null?!1:(E&2)!==0),J?(R=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(E|=1),Ht(rr,E&1),o===null)return sv(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(U=y.children,o=y.fallback,R?(y=c.mode,R=c.child,U={mode:"hidden",children:U},(y&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=U):R=gh(U,y,0,null),o=fo(o,y,p,null),R.return=c,o.return=c,R.sibling=o,c.child=R,c.child.memoizedState=Iv(p),c.memoizedState=Pv,o):kv(c,U));if(E=o.memoizedState,E!==null&&(J=E.dehydrated,J!==null))return SU(o,c,U,y,J,E,p);if(R){R=y.fallback,U=c.mode,E=o.child,J=E.sibling;var ne={mode:"hidden",children:y.children};return(U&1)===0&&c.child!==E?(y=c.child,y.childLanes=0,y.pendingProps=ne,c.deletions=null):(y=gi(E,ne),y.subtreeFlags=E.subtreeFlags&14680064),J!==null?R=gi(J,R):(R=fo(R,U,p,null),R.flags|=2),R.return=c,y.return=c,y.sibling=R,c.child=y,y=R,R=c.child,U=o.child.memoizedState,U=U===null?Iv(p):{baseLanes:U.baseLanes|p,cachePool:null,transitions:U.transitions},R.memoizedState=U,R.childLanes=o.childLanes&~p,c.memoizedState=Pv,y}return R=o.child,o=R.sibling,y=gi(R,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=p),y.return=c,y.sibling=null,o!==null&&(p=c.deletions,p===null?(c.deletions=[o],c.flags|=16):p.push(o)),c.child=y,c.memoizedState=null,y}function kv(o,c){return c=gh({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function nh(o,c,p,y){return y!==null&&iv(y),cl(c,o.child,null,p),o=kv(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function SU(o,c,p,y,E,R,U){if(p)return c.flags&256?(c.flags&=-257,y=Ev(Error(r(422))),nh(o,c,U,y)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(R=y.fallback,E=c.mode,y=gh({mode:"visible",children:y.children},E,0,null),R=fo(R,E,U,null),R.flags|=2,y.return=c,R.return=c,y.sibling=R,c.child=y,(c.mode&1)!==0&&cl(c,o.child,null,U),c.child.memoizedState=Iv(U),c.memoizedState=Pv,R);if((c.mode&1)===0)return nh(o,c,U,null);if(E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var J=y.dgst;return y=J,R=Error(r(419)),y=Ev(R,y,void 0),nh(o,c,U,y)}if(J=(U&o.childLanes)!==0,Tn||J){if(y=Ir,y!==null){switch(U&-U){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(y.suspendedLanes|U))!==0?0:E,E!==0&&E!==R.retryLane&&(R.retryLane=E,js(o,E),Ea(y,o,E,-1))}return Yv(),y=Ev(Error(r(421))),nh(o,c,U,y)}return E.data==="$?"?(c.flags|=128,c.child=o.child,c=$U.bind(null,o),E._reactRetry=c,null):(o=R.treeContext,Bn=si(E.nextSibling),Un=c,Zt=!0,Na=null,o!==null&&(sa[ia++]=ys,sa[ia++]=bs,sa[ia++]=ro,ys=o.id,bs=o.overflow,ro=c),c=kv(c,y.children),c.flags|=4096,c)}function MC(o,c,p){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),uv(o.return,c,p)}function Ov(o,c,p,y,E){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:E}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=y,R.tail=p,R.tailMode=E)}function $C(o,c,p){var y=c.pendingProps,E=y.revealOrder,R=y.tail;if(fn(o,c,y.children,p),y=rr.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&MC(o,p,c);else if(o.tag===19)MC(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(Ht(rr,y),(c.mode&1)===0)c.memoizedState=null;else switch(E){case"forwards":for(p=c.child,E=null;p!==null;)o=p.alternate,o!==null&&Xf(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),Ov(c,!1,E,p,R);break;case"backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&Xf(o)===null){c.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}Ov(c,!0,p,null,R);break;case"together":Ov(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ah(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Ns(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),oo|=c.lanes,(p&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,p=gi(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=gi(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function _U(o,c,p){switch(c.tag){case 3:kC(c),ll();break;case 5:Q_(c);break;case 1:En(c.type)&&Uf(c);break;case 4:hv(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,E=c.memoizedProps.value;Ht(Hf,y._currentValue),y._currentValue=E;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(Ht(rr,rr.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?DC(o,c,p):(Ht(rr,rr.current&1),o=Ns(o,c,p),o!==null?o.sibling:null);Ht(rr,rr.current&1);break;case 19:if(y=(p&c.childLanes)!==0,(o.flags&128)!==0){if(y)return $C(o,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Ht(rr,rr.current),y)break;return null;case 22:case 23:return c.lanes=0,RC(o,c,p)}return Ns(o,c,p)}var LC,Dv,FC,UC;LC=function(o,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Dv=function(){},FC=function(o,c,p,y){var E=o.memoizedProps;if(E!==y){o=c.stateNode,so(Va.current);var R=null;switch(p){case"input":E=oe(o,E),y=oe(o,y),R=[];break;case"select":E=H({},E,{value:void 0}),y=H({},y,{value:void 0}),R=[];break;case"textarea":E=at(o,E),y=at(o,y),R=[];break;default:typeof E.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=$f)}hr(p,y);var U;p=null;for(ve in E)if(!y.hasOwnProperty(ve)&&E.hasOwnProperty(ve)&&E[ve]!=null)if(ve==="style"){var J=E[ve];for(U in J)J.hasOwnProperty(U)&&(p||(p={}),p[U]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(s.hasOwnProperty(ve)?R||(R=[]):(R=R||[]).push(ve,null));for(ve in y){var ne=y[ve];if(J=E?.[ve],y.hasOwnProperty(ve)&&ne!==J&&(ne!=null||J!=null))if(ve==="style")if(J){for(U in J)!J.hasOwnProperty(U)||ne&&ne.hasOwnProperty(U)||(p||(p={}),p[U]="");for(U in ne)ne.hasOwnProperty(U)&&J[U]!==ne[U]&&(p||(p={}),p[U]=ne[U])}else p||(R||(R=[]),R.push(ve,p)),p=ne;else ve==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,J=J?J.__html:void 0,ne!=null&&J!==ne&&(R=R||[]).push(ve,ne)):ve==="children"?typeof ne!="string"&&typeof ne!="number"||(R=R||[]).push(ve,""+ne):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(s.hasOwnProperty(ve)?(ne!=null&&ve==="onScroll"&&Yt("scroll",o),R||J===ne||(R=[])):(R=R||[]).push(ve,ne))}p&&(R=R||[]).push("style",p);var ve=R;(c.updateQueue=ve)&&(c.flags|=4)}},UC=function(o,c,p,y){p!==y&&(c.flags|=4)};function hu(o,c){if(!Zt)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function nn(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,y=0;if(c)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags&14680064,y|=E.flags&14680064,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=y,o.childLanes=p,c}function CU(o,c,p){var y=c.pendingProps;switch(nv(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(c),null;case 1:return En(c.type)&&Ff(),nn(c),null;case 3:return y=c.stateNode,fl(),Xt(Cn),Xt(tn),gv(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Wf(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Na!==null&&(Hv(Na),Na=null))),Dv(o,c),nn(c),null;case 5:mv(c);var E=so(lu.current);if(p=c.type,o!==null&&c.stateNode!=null)FC(o,c,p,y,E),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(r(166));return nn(c),null}if(o=so(Va.current),Wf(c)){y=c.stateNode,p=c.type;var R=c.memoizedProps;switch(y[Wa]=c,y[nu]=R,o=(c.mode&1)!==0,p){case"dialog":Yt("cancel",y),Yt("close",y);break;case"iframe":case"object":case"embed":Yt("load",y);break;case"video":case"audio":for(E=0;E<eu.length;E++)Yt(eu[E],y);break;case"source":Yt("error",y);break;case"img":case"image":case"link":Yt("error",y),Yt("load",y);break;case"details":Yt("toggle",y);break;case"input":Ce(y,R),Yt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!R.multiple},Yt("invalid",y);break;case"textarea":Lt(y,R),Yt("invalid",y)}hr(p,R),E=null;for(var U in R)if(R.hasOwnProperty(U)){var J=R[U];U==="children"?typeof J=="string"?y.textContent!==J&&(R.suppressHydrationWarning!==!0&&Mf(y.textContent,J,o),E=["children",J]):typeof J=="number"&&y.textContent!==""+J&&(R.suppressHydrationWarning!==!0&&Mf(y.textContent,J,o),E=["children",""+J]):s.hasOwnProperty(U)&&J!=null&&U==="onScroll"&&Yt("scroll",y)}switch(p){case"input":De(y),bt(y,R,!0);break;case"textarea":De(y),Jr(y);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(y.onclick=$f)}y=E,c.updateQueue=y,y!==null&&(c.flags|=4)}else{U=E.nodeType===9?E:E.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ge(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=U.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=U.createElement(p,{is:y.is}):(o=U.createElement(p),p==="select"&&(U=o,y.multiple?U.multiple=!0:y.size&&(U.size=y.size))):o=U.createElementNS(o,p),o[Wa]=c,o[nu]=y,LC(o,c,!1,!1),c.stateNode=o;e:{switch(U=ps(p,y),p){case"dialog":Yt("cancel",o),Yt("close",o),E=y;break;case"iframe":case"object":case"embed":Yt("load",o),E=y;break;case"video":case"audio":for(E=0;E<eu.length;E++)Yt(eu[E],o);E=y;break;case"source":Yt("error",o),E=y;break;case"img":case"image":case"link":Yt("error",o),Yt("load",o),E=y;break;case"details":Yt("toggle",o),E=y;break;case"input":Ce(o,y),E=oe(o,y),Yt("invalid",o);break;case"option":E=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},E=H({},y,{value:void 0}),Yt("invalid",o);break;case"textarea":Lt(o,y),E=at(o,y),Yt("invalid",o);break;default:E=y}hr(p,E),J=E;for(R in J)if(J.hasOwnProperty(R)){var ne=J[R];R==="style"?de(o,ne):R==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&ta(o,ne)):R==="children"?typeof ne=="string"?(p!=="textarea"||ne!=="")&&_n(o,ne):typeof ne=="number"&&_n(o,""+ne):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(s.hasOwnProperty(R)?ne!=null&&R==="onScroll"&&Yt("scroll",o):ne!=null&&C(o,R,ne,U))}switch(p){case"input":De(o),bt(o,y,!1);break;case"textarea":De(o),Jr(o);break;case"option":y.value!=null&&o.setAttribute("value",""+fe(y.value));break;case"select":o.multiple=!!y.multiple,R=y.value,R!=null?Fe(o,!!y.multiple,R,!1):y.defaultValue!=null&&Fe(o,!!y.multiple,y.defaultValue,!0);break;default:typeof E.onClick=="function"&&(o.onclick=$f)}switch(p){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return nn(c),null;case 6:if(o&&c.stateNode!=null)UC(o,c,o.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(p=so(lu.current),so(Va.current),Wf(c)){if(y=c.stateNode,p=c.memoizedProps,y[Wa]=c,(R=y.nodeValue!==p)&&(o=Un,o!==null))switch(o.tag){case 3:Mf(y.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Mf(y.nodeValue,p,(o.mode&1)!==0)}R&&(c.flags|=4)}else y=(p.nodeType===9?p:p.ownerDocument).createTextNode(y),y[Wa]=c,c.stateNode=y}return nn(c),null;case 13:if(Xt(rr),y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Zt&&Bn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)q_(),ll(),c.flags|=98560,R=!1;else if(R=Wf(c),y!==null&&y.dehydrated!==null){if(o===null){if(!R)throw Error(r(318));if(R=c.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Wa]=c}else ll(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;nn(c),R=!1}else Na!==null&&(Hv(Na),Na=null),R=!0;if(!R)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(rr.current&1)!==0?wr===0&&(wr=3):Yv())),c.updateQueue!==null&&(c.flags|=4),nn(c),null);case 4:return fl(),Dv(o,c),o===null&&tu(c.stateNode.containerInfo),nn(c),null;case 10:return cv(c.type._context),nn(c),null;case 17:return En(c.type)&&Ff(),nn(c),null;case 19:if(Xt(rr),R=c.memoizedState,R===null)return nn(c),null;if(y=(c.flags&128)!==0,U=R.rendering,U===null)if(y)hu(R,!1);else{if(wr!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(U=Xf(o),U!==null){for(c.flags|=128,hu(R,!1),y=U.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=p,p=c.child;p!==null;)R=p,o=y,R.flags&=14680066,U=R.alternate,U===null?(R.childLanes=0,R.lanes=o,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=U.childLanes,R.lanes=U.lanes,R.child=U.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=U.memoizedProps,R.memoizedState=U.memoizedState,R.updateQueue=U.updateQueue,R.type=U.type,o=U.dependencies,R.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return Ht(rr,rr.current&1|2),c.child}o=o.sibling}R.tail!==null&&ur()>gl&&(c.flags|=128,y=!0,hu(R,!1),c.lanes=4194304)}else{if(!y)if(o=Xf(U),o!==null){if(c.flags|=128,y=!0,p=o.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),hu(R,!0),R.tail===null&&R.tailMode==="hidden"&&!U.alternate&&!Zt)return nn(c),null}else 2*ur()-R.renderingStartTime>gl&&p!==1073741824&&(c.flags|=128,y=!0,hu(R,!1),c.lanes=4194304);R.isBackwards?(U.sibling=c.child,c.child=U):(p=R.last,p!==null?p.sibling=U:c.child=U,R.last=U)}return R.tail!==null?(c=R.tail,R.rendering=c,R.tail=c.sibling,R.renderingStartTime=ur(),c.sibling=null,p=rr.current,Ht(rr,y?p&1|2:p&1),c):(nn(c),null);case 22:case 23:return Kv(),y=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(zn&1073741824)!==0&&(nn(c),c.subtreeFlags&6&&(c.flags|=8192)):nn(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function EU(o,c){switch(nv(c),c.tag){case 1:return En(c.type)&&Ff(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return fl(),Xt(Cn),Xt(tn),gv(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return mv(c),null;case 13:if(Xt(rr),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));ll()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Xt(rr),null;case 4:return fl(),null;case 10:return cv(c.type._context),null;case 22:case 23:return Kv(),null;case 24:return null;default:return null}}var sh=!1,an=!1,TU=typeof WeakSet=="function"?WeakSet:Set,He=null;function ml(o,c){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){ar(o,c,y)}else p.current=null}function Mv(o,c,p){try{p()}catch(y){ar(o,c,y)}}var BC=!1;function AU(o,c){if(Kg=_f,o=y_(),Ug(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var E=y.anchorOffset,R=y.focusNode;y=y.focusOffset;try{p.nodeType,R.nodeType}catch{p=null;break e}var U=0,J=-1,ne=-1,ve=0,Pe=0,ke=o,Re=null;t:for(;;){for(var We;ke!==p||E!==0&&ke.nodeType!==3||(J=U+E),ke!==R||y!==0&&ke.nodeType!==3||(ne=U+y),ke.nodeType===3&&(U+=ke.nodeValue.length),(We=ke.firstChild)!==null;)Re=ke,ke=We;for(;;){if(ke===o)break t;if(Re===p&&++ve===E&&(J=U),Re===R&&++Pe===y&&(ne=U),(We=ke.nextSibling)!==null)break;ke=Re,Re=ke.parentNode}ke=We}p=J===-1||ne===-1?null:{start:J,end:ne}}else p=null}p=p||{start:0,end:0}}else p=null;for(Yg={focusedElem:o,selectionRange:p},_f=!1,He=c;He!==null;)if(c=He,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,He=o;else for(;He!==null;){c=He;try{var Ke=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ke!==null){var Qe=Ke.memoizedProps,dr=Ke.memoizedState,ue=c.stateNode,ie=ue.getSnapshotBeforeUpdate(c.elementType===c.type?Qe:Sa(c.type,Qe),dr);ue.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var he=c.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Me){ar(c,c.return,Me)}if(o=c.sibling,o!==null){o.return=c.return,He=o;break}He=c.return}return Ke=BC,BC=!1,Ke}function mu(o,c,p){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var E=y=y.next;do{if((E.tag&o)===o){var R=E.destroy;E.destroy=void 0,R!==void 0&&Mv(c,p,R)}E=E.next}while(E!==y)}}function ih(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&o)===o){var y=p.create;p.destroy=y()}p=p.next}while(p!==c)}}function $v(o){var c=o.ref;if(c!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof c=="function"?c(o):c.current=o}}function zC(o){var c=o.alternate;c!==null&&(o.alternate=null,zC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[Wa],delete c[nu],delete c[Jg],delete c[dU],delete c[fU])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function qC(o){return o.tag===5||o.tag===3||o.tag===4}function WC(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||qC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Lv(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(o,c):p.insertBefore(o,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(o,p)):(c=p,c.appendChild(o)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=$f));else if(y!==4&&(o=o.child,o!==null))for(Lv(o,c,p),o=o.sibling;o!==null;)Lv(o,c,p),o=o.sibling}function Fv(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(Fv(o,c,p),o=o.sibling;o!==null;)Fv(o,c,p),o=o.sibling}var Vr=null,_a=!1;function di(o,c,p){for(p=p.child;p!==null;)VC(o,c,p),p=p.sibling}function VC(o,c,p){if(qa&&typeof qa.onCommitFiberUnmount=="function")try{qa.onCommitFiberUnmount(yf,p)}catch{}switch(p.tag){case 5:an||ml(p,c);case 6:var y=Vr,E=_a;Vr=null,di(o,c,p),Vr=y,_a=E,Vr!==null&&(_a?(o=Vr,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):Vr.removeChild(p.stateNode));break;case 18:Vr!==null&&(_a?(o=Vr,p=p.stateNode,o.nodeType===8?Zg(o.parentNode,p):o.nodeType===1&&Zg(o,p),Hc(o)):Zg(Vr,p.stateNode));break;case 4:y=Vr,E=_a,Vr=p.stateNode.containerInfo,_a=!0,di(o,c,p),Vr=y,_a=E;break;case 0:case 11:case 14:case 15:if(!an&&(y=p.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){E=y=y.next;do{var R=E,U=R.destroy;R=R.tag,U!==void 0&&((R&2)!==0||(R&4)!==0)&&Mv(p,c,U),E=E.next}while(E!==y)}di(o,c,p);break;case 1:if(!an&&(ml(p,c),y=p.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(J){ar(p,c,J)}di(o,c,p);break;case 21:di(o,c,p);break;case 22:p.mode&1?(an=(y=an)||p.memoizedState!==null,di(o,c,p),an=y):di(o,c,p);break;default:di(o,c,p)}}function HC(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new TU),c.forEach(function(y){var E=LU.bind(null,o,y);p.has(y)||(p.add(y),y.then(E,E))})}}function Ca(o,c){var p=c.deletions;if(p!==null)for(var y=0;y<p.length;y++){var E=p[y];try{var R=o,U=c,J=U;e:for(;J!==null;){switch(J.tag){case 5:Vr=J.stateNode,_a=!1;break e;case 3:Vr=J.stateNode.containerInfo,_a=!0;break e;case 4:Vr=J.stateNode.containerInfo,_a=!0;break e}J=J.return}if(Vr===null)throw Error(r(160));VC(R,U,E),Vr=null,_a=!1;var ne=E.alternate;ne!==null&&(ne.return=null),E.return=null}catch(ve){ar(E,c,ve)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)GC(c,o),c=c.sibling}function GC(o,c){var p=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ca(c,o),Ga(o),y&4){try{mu(3,o,o.return),ih(3,o)}catch(Qe){ar(o,o.return,Qe)}try{mu(5,o,o.return)}catch(Qe){ar(o,o.return,Qe)}}break;case 1:Ca(c,o),Ga(o),y&512&&p!==null&&ml(p,p.return);break;case 5:if(Ca(c,o),Ga(o),y&512&&p!==null&&ml(p,p.return),o.flags&32){var E=o.stateNode;try{_n(E,"")}catch(Qe){ar(o,o.return,Qe)}}if(y&4&&(E=o.stateNode,E!=null)){var R=o.memoizedProps,U=p!==null?p.memoizedProps:R,J=o.type,ne=o.updateQueue;if(o.updateQueue=null,ne!==null)try{J==="input"&&R.type==="radio"&&R.name!=null&&Ue(E,R),ps(J,U);var ve=ps(J,R);for(U=0;U<ne.length;U+=2){var Pe=ne[U],ke=ne[U+1];Pe==="style"?de(E,ke):Pe==="dangerouslySetInnerHTML"?ta(E,ke):Pe==="children"?_n(E,ke):C(E,Pe,ke,ve)}switch(J){case"input":ot(E,R);break;case"textarea":Zr(E,R);break;case"select":var Re=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!R.multiple;var We=R.value;We!=null?Fe(E,!!R.multiple,We,!1):Re!==!!R.multiple&&(R.defaultValue!=null?Fe(E,!!R.multiple,R.defaultValue,!0):Fe(E,!!R.multiple,R.multiple?[]:"",!1))}E[nu]=R}catch(Qe){ar(o,o.return,Qe)}}break;case 6:if(Ca(c,o),Ga(o),y&4){if(o.stateNode===null)throw Error(r(162));E=o.stateNode,R=o.memoizedProps;try{E.nodeValue=R}catch(Qe){ar(o,o.return,Qe)}}break;case 3:if(Ca(c,o),Ga(o),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Hc(c.containerInfo)}catch(Qe){ar(o,o.return,Qe)}break;case 4:Ca(c,o),Ga(o);break;case 13:Ca(c,o),Ga(o),E=o.child,E.flags&8192&&(R=E.memoizedState!==null,E.stateNode.isHidden=R,!R||E.alternate!==null&&E.alternate.memoizedState!==null||(zv=ur())),y&4&&HC(o);break;case 22:if(Pe=p!==null&&p.memoizedState!==null,o.mode&1?(an=(ve=an)||Pe,Ca(c,o),an=ve):Ca(c,o),Ga(o),y&8192){if(ve=o.memoizedState!==null,(o.stateNode.isHidden=ve)&&!Pe&&(o.mode&1)!==0)for(He=o,Pe=o.child;Pe!==null;){for(ke=He=Pe;He!==null;){switch(Re=He,We=Re.child,Re.tag){case 0:case 11:case 14:case 15:mu(4,Re,Re.return);break;case 1:ml(Re,Re.return);var Ke=Re.stateNode;if(typeof Ke.componentWillUnmount=="function"){y=Re,p=Re.return;try{c=y,Ke.props=c.memoizedProps,Ke.state=c.memoizedState,Ke.componentWillUnmount()}catch(Qe){ar(y,p,Qe)}}break;case 5:ml(Re,Re.return);break;case 22:if(Re.memoizedState!==null){XC(ke);continue}}We!==null?(We.return=Re,He=We):XC(ke)}Pe=Pe.sibling}e:for(Pe=null,ke=o;;){if(ke.tag===5){if(Pe===null){Pe=ke;try{E=ke.stateNode,ve?(R=E.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(J=ke.stateNode,ne=ke.memoizedProps.style,U=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,J.style.display=Yo("display",U))}catch(Qe){ar(o,o.return,Qe)}}}else if(ke.tag===6){if(Pe===null)try{ke.stateNode.nodeValue=ve?"":ke.memoizedProps}catch(Qe){ar(o,o.return,Qe)}}else if((ke.tag!==22&&ke.tag!==23||ke.memoizedState===null||ke===o)&&ke.child!==null){ke.child.return=ke,ke=ke.child;continue}if(ke===o)break e;for(;ke.sibling===null;){if(ke.return===null||ke.return===o)break e;Pe===ke&&(Pe=null),ke=ke.return}Pe===ke&&(Pe=null),ke.sibling.return=ke.return,ke=ke.sibling}}break;case 19:Ca(c,o),Ga(o),y&4&&HC(o);break;case 21:break;default:Ca(c,o),Ga(o)}}function Ga(o){var c=o.flags;if(c&2){try{e:{for(var p=o.return;p!==null;){if(qC(p)){var y=p;break e}p=p.return}throw Error(r(160))}switch(y.tag){case 5:var E=y.stateNode;y.flags&32&&(_n(E,""),y.flags&=-33);var R=WC(o);Fv(o,R,E);break;case 3:case 4:var U=y.stateNode.containerInfo,J=WC(o);Lv(o,J,U);break;default:throw Error(r(161))}}catch(ne){ar(o,o.return,ne)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function RU(o,c,p){He=o,KC(o)}function KC(o,c,p){for(var y=(o.mode&1)!==0;He!==null;){var E=He,R=E.child;if(E.tag===22&&y){var U=E.memoizedState!==null||sh;if(!U){var J=E.alternate,ne=J!==null&&J.memoizedState!==null||an;J=sh;var ve=an;if(sh=U,(an=ne)&&!ve)for(He=E;He!==null;)U=He,ne=U.child,U.tag===22&&U.memoizedState!==null?QC(E):ne!==null?(ne.return=U,He=ne):QC(E);for(;R!==null;)He=R,KC(R),R=R.sibling;He=E,sh=J,an=ve}YC(o)}else(E.subtreeFlags&8772)!==0&&R!==null?(R.return=E,He=R):YC(o)}}function YC(o){for(;He!==null;){var c=He;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:an||ih(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!an)if(p===null)y.componentDidMount();else{var E=c.elementType===c.type?p.memoizedProps:Sa(c.type,p.memoizedProps);y.componentDidUpdate(E,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var R=c.updateQueue;R!==null&&X_(c,R,y);break;case 3:var U=c.updateQueue;if(U!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}X_(c,U,p)}break;case 5:var J=c.stateNode;if(p===null&&c.flags&4){p=J;var ne=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&p.focus();break;case"img":ne.src&&(p.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ve=c.alternate;if(ve!==null){var Pe=ve.memoizedState;if(Pe!==null){var ke=Pe.dehydrated;ke!==null&&Hc(ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}an||c.flags&512&&$v(c)}catch(Re){ar(c,c.return,Re)}}if(c===o){He=null;break}if(p=c.sibling,p!==null){p.return=c.return,He=p;break}He=c.return}}function XC(o){for(;He!==null;){var c=He;if(c===o){He=null;break}var p=c.sibling;if(p!==null){p.return=c.return,He=p;break}He=c.return}}function QC(o){for(;He!==null;){var c=He;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{ih(4,c)}catch(ne){ar(c,p,ne)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var E=c.return;try{y.componentDidMount()}catch(ne){ar(c,E,ne)}}var R=c.return;try{$v(c)}catch(ne){ar(c,R,ne)}break;case 5:var U=c.return;try{$v(c)}catch(ne){ar(c,U,ne)}}}catch(ne){ar(c,c.return,ne)}if(c===o){He=null;break}var J=c.sibling;if(J!==null){J.return=c.return,He=J;break}He=c.return}}var PU=Math.ceil,oh=A.ReactCurrentDispatcher,Uv=A.ReactCurrentOwner,ca=A.ReactCurrentBatchConfig,_t=0,Ir=null,pr=null,Hr=0,zn=0,pl=ii(0),wr=0,pu=null,oo=0,lh=0,Bv=0,gu=null,An=null,zv=0,gl=1/0,Ss=null,ch=!1,qv=null,fi=null,uh=!1,hi=null,dh=0,vu=0,Wv=null,fh=-1,hh=0;function hn(){return(_t&6)!==0?ur():fh!==-1?fh:fh=ur()}function mi(o){return(o.mode&1)===0?1:(_t&2)!==0&&Hr!==0?Hr&-Hr:mU.transition!==null?(hh===0&&(hh=WS()),hh):(o=Dt,o!==0||(o=window.event,o=o===void 0?16:JS(o.type)),o)}function Ea(o,c,p,y){if(50<vu)throw vu=0,Wv=null,Error(r(185));Bc(o,p,y),((_t&2)===0||o!==Ir)&&(o===Ir&&((_t&2)===0&&(lh|=p),wr===4&&pi(o,Hr)),Rn(o,y),p===1&&_t===0&&(c.mode&1)===0&&(gl=ur()+500,Bf&&li()))}function Rn(o,c){var p=o.callbackNode;mF(o,c);var y=wf(o,o===Ir?Hr:0);if(y===0)p!==null&&BS(p),o.callbackNode=null,o.callbackPriority=0;else if(c=y&-y,o.callbackPriority!==c){if(p!=null&&BS(p),c===1)o.tag===0?hU(JC.bind(null,o)):L_(JC.bind(null,o)),cU(function(){(_t&6)===0&&li()}),p=null;else{switch(VS(y)){case 1:p=Ng;break;case 4:p=zS;break;case 16:p=xf;break;case 536870912:p=qS;break;default:p=xf}p=oE(p,ZC.bind(null,o))}o.callbackPriority=c,o.callbackNode=p}}function ZC(o,c){if(fh=-1,hh=0,(_t&6)!==0)throw Error(r(327));var p=o.callbackNode;if(vl()&&o.callbackNode!==p)return null;var y=wf(o,o===Ir?Hr:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||c)c=mh(o,y);else{c=y;var E=_t;_t|=2;var R=tE();(Ir!==o||Hr!==c)&&(Ss=null,gl=ur()+500,co(o,c));do try{OU();break}catch(J){eE(o,J)}while(!0);lv(),oh.current=R,_t=E,pr!==null?c=0:(Ir=null,Hr=0,c=wr)}if(c!==0){if(c===2&&(E=Sg(o),E!==0&&(y=E,c=Vv(o,E))),c===1)throw p=pu,co(o,0),pi(o,y),Rn(o,ur()),p;if(c===6)pi(o,y);else{if(E=o.current.alternate,(y&30)===0&&!IU(E)&&(c=mh(o,y),c===2&&(R=Sg(o),R!==0&&(y=R,c=Vv(o,R))),c===1))throw p=pu,co(o,0),pi(o,y),Rn(o,ur()),p;switch(o.finishedWork=E,o.finishedLanes=y,c){case 0:case 1:throw Error(r(345));case 2:uo(o,An,Ss);break;case 3:if(pi(o,y),(y&130023424)===y&&(c=zv+500-ur(),10<c)){if(wf(o,0)!==0)break;if(E=o.suspendedLanes,(E&y)!==y){hn(),o.pingedLanes|=o.suspendedLanes&E;break}o.timeoutHandle=Qg(uo.bind(null,o,An,Ss),c);break}uo(o,An,Ss);break;case 4:if(pi(o,y),(y&4194240)===y)break;for(c=o.eventTimes,E=-1;0<y;){var U=31-ja(y);R=1<<U,U=c[U],U>E&&(E=U),y&=~R}if(y=E,y=ur()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*PU(y/1960))-y,10<y){o.timeoutHandle=Qg(uo.bind(null,o,An,Ss),y);break}uo(o,An,Ss);break;case 5:uo(o,An,Ss);break;default:throw Error(r(329))}}}return Rn(o,ur()),o.callbackNode===p?ZC.bind(null,o):null}function Vv(o,c){var p=gu;return o.current.memoizedState.isDehydrated&&(co(o,c).flags|=256),o=mh(o,c),o!==2&&(c=An,An=p,c!==null&&Hv(c)),o}function Hv(o){An===null?An=o:An.push.apply(An,o)}function IU(o){for(var c=o;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var y=0;y<p.length;y++){var E=p[y],R=E.getSnapshot;E=E.value;try{if(!wa(R(),E))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function pi(o,c){for(c&=~Bv,c&=~lh,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var p=31-ja(c),y=1<<p;o[p]=-1,c&=~y}}function JC(o){if((_t&6)!==0)throw Error(r(327));vl();var c=wf(o,0);if((c&1)===0)return Rn(o,ur()),null;var p=mh(o,c);if(o.tag!==0&&p===2){var y=Sg(o);y!==0&&(c=y,p=Vv(o,y))}if(p===1)throw p=pu,co(o,0),pi(o,c),Rn(o,ur()),p;if(p===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,uo(o,An,Ss),Rn(o,ur()),null}function Gv(o,c){var p=_t;_t|=1;try{return o(c)}finally{_t=p,_t===0&&(gl=ur()+500,Bf&&li())}}function lo(o){hi!==null&&hi.tag===0&&(_t&6)===0&&vl();var c=_t;_t|=1;var p=ca.transition,y=Dt;try{if(ca.transition=null,Dt=1,o)return o()}finally{Dt=y,ca.transition=p,_t=c,(_t&6)===0&&li()}}function Kv(){zn=pl.current,Xt(pl)}function co(o,c){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,lU(p)),pr!==null)for(p=pr.return;p!==null;){var y=p;switch(nv(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Ff();break;case 3:fl(),Xt(Cn),Xt(tn),gv();break;case 5:mv(y);break;case 4:fl();break;case 13:Xt(rr);break;case 19:Xt(rr);break;case 10:cv(y.type._context);break;case 22:case 23:Kv()}p=p.return}if(Ir=o,pr=o=gi(o.current,null),Hr=zn=c,wr=0,pu=null,Bv=lh=oo=0,An=gu=null,ao!==null){for(c=0;c<ao.length;c++)if(p=ao[c],y=p.interleaved,y!==null){p.interleaved=null;var E=y.next,R=p.pending;if(R!==null){var U=R.next;R.next=E,y.next=U}p.pending=y}ao=null}return o}function eE(o,c){do{var p=pr;try{if(lv(),Qf.current=th,Zf){for(var y=nr.memoizedState;y!==null;){var E=y.queue;E!==null&&(E.pending=null),y=y.next}Zf=!1}if(io=0,Pr=jr=nr=null,cu=!1,uu=0,Uv.current=null,p===null||p.return===null){wr=1,pu=c,pr=null;break}e:{var R=o,U=p.return,J=p,ne=c;if(c=Hr,J.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ve=ne,Pe=J,ke=Pe.tag;if((Pe.mode&1)===0&&(ke===0||ke===11||ke===15)){var Re=Pe.alternate;Re?(Pe.updateQueue=Re.updateQueue,Pe.memoizedState=Re.memoizedState,Pe.lanes=Re.lanes):(Pe.updateQueue=null,Pe.memoizedState=null)}var We=_C(U);if(We!==null){We.flags&=-257,CC(We,U,J,R,c),We.mode&1&&SC(R,ve,c),c=We,ne=ve;var Ke=c.updateQueue;if(Ke===null){var Qe=new Set;Qe.add(ne),c.updateQueue=Qe}else Ke.add(ne);break e}else{if((c&1)===0){SC(R,ve,c),Yv();break e}ne=Error(r(426))}}else if(Zt&&J.mode&1){var dr=_C(U);if(dr!==null){(dr.flags&65536)===0&&(dr.flags|=256),CC(dr,U,J,R,c),iv(hl(ne,J));break e}}R=ne=hl(ne,J),wr!==4&&(wr=2),gu===null?gu=[R]:gu.push(R),R=U;do{switch(R.tag){case 3:R.flags|=65536,c&=-c,R.lanes|=c;var ue=wC(R,ne,c);Y_(R,ue);break e;case 1:J=ne;var ie=R.type,he=R.stateNode;if((R.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(fi===null||!fi.has(he)))){R.flags|=65536,c&=-c,R.lanes|=c;var Me=NC(R,J,c);Y_(R,Me);break e}}R=R.return}while(R!==null)}nE(p)}catch(Je){c=Je,pr===p&&p!==null&&(pr=p=p.return);continue}break}while(!0)}function tE(){var o=oh.current;return oh.current=th,o===null?th:o}function Yv(){(wr===0||wr===3||wr===2)&&(wr=4),Ir===null||(oo&268435455)===0&&(lh&268435455)===0||pi(Ir,Hr)}function mh(o,c){var p=_t;_t|=2;var y=tE();(Ir!==o||Hr!==c)&&(Ss=null,co(o,c));do try{kU();break}catch(E){eE(o,E)}while(!0);if(lv(),_t=p,oh.current=y,pr!==null)throw Error(r(261));return Ir=null,Hr=0,wr}function kU(){for(;pr!==null;)rE(pr)}function OU(){for(;pr!==null&&!sF();)rE(pr)}function rE(o){var c=iE(o.alternate,o,zn);o.memoizedProps=o.pendingProps,c===null?nE(o):pr=c,Uv.current=null}function nE(o){var c=o;do{var p=c.alternate;if(o=c.return,(c.flags&32768)===0){if(p=CU(p,c,zn),p!==null){pr=p;return}}else{if(p=EU(p,c),p!==null){p.flags&=32767,pr=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{wr=6,pr=null;return}}if(c=c.sibling,c!==null){pr=c;return}pr=c=o}while(c!==null);wr===0&&(wr=5)}function uo(o,c,p){var y=Dt,E=ca.transition;try{ca.transition=null,Dt=1,DU(o,c,p,y)}finally{ca.transition=E,Dt=y}return null}function DU(o,c,p,y){do vl();while(hi!==null);if((_t&6)!==0)throw Error(r(327));p=o.finishedWork;var E=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var R=p.lanes|p.childLanes;if(pF(o,R),o===Ir&&(pr=Ir=null,Hr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||uh||(uh=!0,oE(xf,function(){return vl(),null})),R=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||R){R=ca.transition,ca.transition=null;var U=Dt;Dt=1;var J=_t;_t|=4,Uv.current=null,AU(o,p),GC(p,o),tU(Yg),_f=!!Kg,Yg=Kg=null,o.current=p,RU(p),iF(),_t=J,Dt=U,ca.transition=R}else o.current=p;if(uh&&(uh=!1,hi=o,dh=E),R=o.pendingLanes,R===0&&(fi=null),cF(p.stateNode),Rn(o,ur()),c!==null)for(y=o.onRecoverableError,p=0;p<c.length;p++)E=c[p],y(E.value,{componentStack:E.stack,digest:E.digest});if(ch)throw ch=!1,o=qv,qv=null,o;return(dh&1)!==0&&o.tag!==0&&vl(),R=o.pendingLanes,(R&1)!==0?o===Wv?vu++:(vu=0,Wv=o):vu=0,li(),null}function vl(){if(hi!==null){var o=VS(dh),c=ca.transition,p=Dt;try{if(ca.transition=null,Dt=16>o?16:o,hi===null)var y=!1;else{if(o=hi,hi=null,dh=0,(_t&6)!==0)throw Error(r(331));var E=_t;for(_t|=4,He=o.current;He!==null;){var R=He,U=R.child;if((He.flags&16)!==0){var J=R.deletions;if(J!==null){for(var ne=0;ne<J.length;ne++){var ve=J[ne];for(He=ve;He!==null;){var Pe=He;switch(Pe.tag){case 0:case 11:case 15:mu(8,Pe,R)}var ke=Pe.child;if(ke!==null)ke.return=Pe,He=ke;else for(;He!==null;){Pe=He;var Re=Pe.sibling,We=Pe.return;if(zC(Pe),Pe===ve){He=null;break}if(Re!==null){Re.return=We,He=Re;break}He=We}}}var Ke=R.alternate;if(Ke!==null){var Qe=Ke.child;if(Qe!==null){Ke.child=null;do{var dr=Qe.sibling;Qe.sibling=null,Qe=dr}while(Qe!==null)}}He=R}}if((R.subtreeFlags&2064)!==0&&U!==null)U.return=R,He=U;else e:for(;He!==null;){if(R=He,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:mu(9,R,R.return)}var ue=R.sibling;if(ue!==null){ue.return=R.return,He=ue;break e}He=R.return}}var ie=o.current;for(He=ie;He!==null;){U=He;var he=U.child;if((U.subtreeFlags&2064)!==0&&he!==null)he.return=U,He=he;else e:for(U=ie;He!==null;){if(J=He,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:ih(9,J)}}catch(Je){ar(J,J.return,Je)}if(J===U){He=null;break e}var Me=J.sibling;if(Me!==null){Me.return=J.return,He=Me;break e}He=J.return}}if(_t=E,li(),qa&&typeof qa.onPostCommitFiberRoot=="function")try{qa.onPostCommitFiberRoot(yf,o)}catch{}y=!0}return y}finally{Dt=p,ca.transition=c}}return!1}function aE(o,c,p){c=hl(p,c),c=wC(o,c,1),o=ui(o,c,1),c=hn(),o!==null&&(Bc(o,1,c),Rn(o,c))}function ar(o,c,p){if(o.tag===3)aE(o,o,p);else for(;c!==null;){if(c.tag===3){aE(c,o,p);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(fi===null||!fi.has(y))){o=hl(p,o),o=NC(c,o,1),c=ui(c,o,1),o=hn(),c!==null&&(Bc(c,1,o),Rn(c,o));break}}c=c.return}}function MU(o,c,p){var y=o.pingCache;y!==null&&y.delete(c),c=hn(),o.pingedLanes|=o.suspendedLanes&p,Ir===o&&(Hr&p)===p&&(wr===4||wr===3&&(Hr&130023424)===Hr&&500>ur()-zv?co(o,0):Bv|=p),Rn(o,c)}function sE(o,c){c===0&&((o.mode&1)===0?c=1:(c=jf,jf<<=1,(jf&130023424)===0&&(jf=4194304)));var p=hn();o=js(o,c),o!==null&&(Bc(o,c,p),Rn(o,p))}function $U(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),sE(o,p)}function LU(o,c){var p=0;switch(o.tag){case 13:var y=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(c),sE(o,p)}var iE;iE=function(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps||Cn.current)Tn=!0;else{if((o.lanes&p)===0&&(c.flags&128)===0)return Tn=!1,_U(o,c,p);Tn=(o.flags&131072)!==0}else Tn=!1,Zt&&(c.flags&1048576)!==0&&F_(c,qf,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;ah(o,c),o=c.pendingProps;var E=sl(c,tn.current);dl(c,p),E=yv(null,c,y,o,E,p);var R=bv();return c.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,En(y)?(R=!0,Uf(c)):R=!1,c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,fv(c),E.updater=rh,c.stateNode=E,E._reactInternals=c,Cv(c,y,o,p),c=Rv(null,c,y,!0,R,p)):(c.tag=0,Zt&&R&&rv(c),fn(null,c,E,p),c=c.child),c;case 16:y=c.elementType;e:{switch(ah(o,c),o=c.pendingProps,E=y._init,y=E(y._payload),c.type=y,E=c.tag=UU(y),o=Sa(y,o),E){case 0:c=Av(null,c,y,o,p);break e;case 1:c=IC(null,c,y,o,p);break e;case 11:c=EC(null,c,y,o,p);break e;case 14:c=TC(null,c,y,Sa(y.type,o),p);break e}throw Error(r(306,y,""))}return c;case 0:return y=c.type,E=c.pendingProps,E=c.elementType===y?E:Sa(y,E),Av(o,c,y,E,p);case 1:return y=c.type,E=c.pendingProps,E=c.elementType===y?E:Sa(y,E),IC(o,c,y,E,p);case 3:e:{if(kC(c),o===null)throw Error(r(387));y=c.pendingProps,R=c.memoizedState,E=R.element,K_(o,c),Yf(c,y,null,p);var U=c.memoizedState;if(y=U.element,R.isDehydrated)if(R={element:y,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},c.updateQueue.baseState=R,c.memoizedState=R,c.flags&256){E=hl(Error(r(423)),c),c=OC(o,c,y,p,E);break e}else if(y!==E){E=hl(Error(r(424)),c),c=OC(o,c,y,p,E);break e}else for(Bn=si(c.stateNode.containerInfo.firstChild),Un=c,Zt=!0,Na=null,p=H_(c,null,y,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(ll(),y===E){c=Ns(o,c,p);break e}fn(o,c,y,p)}c=c.child}return c;case 5:return Q_(c),o===null&&sv(c),y=c.type,E=c.pendingProps,R=o!==null?o.memoizedProps:null,U=E.children,Xg(y,E)?U=null:R!==null&&Xg(y,R)&&(c.flags|=32),PC(o,c),fn(o,c,U,p),c.child;case 6:return o===null&&sv(c),null;case 13:return DC(o,c,p);case 4:return hv(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=cl(c,null,y,p):fn(o,c,y,p),c.child;case 11:return y=c.type,E=c.pendingProps,E=c.elementType===y?E:Sa(y,E),EC(o,c,y,E,p);case 7:return fn(o,c,c.pendingProps,p),c.child;case 8:return fn(o,c,c.pendingProps.children,p),c.child;case 12:return fn(o,c,c.pendingProps.children,p),c.child;case 10:e:{if(y=c.type._context,E=c.pendingProps,R=c.memoizedProps,U=E.value,Ht(Hf,y._currentValue),y._currentValue=U,R!==null)if(wa(R.value,U)){if(R.children===E.children&&!Cn.current){c=Ns(o,c,p);break e}}else for(R=c.child,R!==null&&(R.return=c);R!==null;){var J=R.dependencies;if(J!==null){U=R.child;for(var ne=J.firstContext;ne!==null;){if(ne.context===y){if(R.tag===1){ne=ws(-1,p&-p),ne.tag=2;var ve=R.updateQueue;if(ve!==null){ve=ve.shared;var Pe=ve.pending;Pe===null?ne.next=ne:(ne.next=Pe.next,Pe.next=ne),ve.pending=ne}}R.lanes|=p,ne=R.alternate,ne!==null&&(ne.lanes|=p),uv(R.return,p,c),J.lanes|=p;break}ne=ne.next}}else if(R.tag===10)U=R.type===c.type?null:R.child;else if(R.tag===18){if(U=R.return,U===null)throw Error(r(341));U.lanes|=p,J=U.alternate,J!==null&&(J.lanes|=p),uv(U,p,c),U=R.sibling}else U=R.child;if(U!==null)U.return=R;else for(U=R;U!==null;){if(U===c){U=null;break}if(R=U.sibling,R!==null){R.return=U.return,U=R;break}U=U.return}R=U}fn(o,c,E.children,p),c=c.child}return c;case 9:return E=c.type,y=c.pendingProps.children,dl(c,p),E=oa(E),y=y(E),c.flags|=1,fn(o,c,y,p),c.child;case 14:return y=c.type,E=Sa(y,c.pendingProps),E=Sa(y.type,E),TC(o,c,y,E,p);case 15:return AC(o,c,c.type,c.pendingProps,p);case 17:return y=c.type,E=c.pendingProps,E=c.elementType===y?E:Sa(y,E),ah(o,c),c.tag=1,En(y)?(o=!0,Uf(c)):o=!1,dl(c,p),bC(c,y,E),Cv(c,y,E,p),Rv(null,c,y,!0,o,p);case 19:return $C(o,c,p);case 22:return RC(o,c,p)}throw Error(r(156,c.tag))};function oE(o,c){return US(o,c)}function FU(o,c,p,y){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(o,c,p,y){return new FU(o,c,p,y)}function Xv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function UU(o){if(typeof o=="function")return Xv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===G)return 11;if(o===$)return 14}return 2}function gi(o,c){var p=o.alternate;return p===null?(p=ua(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function ph(o,c,p,y,E,R){var U=2;if(y=o,typeof o=="function")Xv(o)&&(U=1);else if(typeof o=="string")U=5;else e:switch(o){case P:return fo(p.children,E,R,c);case O:U=8,E|=8;break;case I:return o=ua(12,p,c,E|2),o.elementType=I,o.lanes=R,o;case V:return o=ua(13,p,c,E),o.elementType=V,o.lanes=R,o;case Z:return o=ua(19,p,c,E),o.elementType=Z,o.lanes=R,o;case k:return gh(p,E,R,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case B:U=10;break e;case q:U=9;break e;case G:U=11;break e;case $:U=14;break e;case M:U=16,y=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return c=ua(U,p,c,E),c.elementType=o,c.type=y,c.lanes=R,c}function fo(o,c,p,y){return o=ua(7,o,y,c),o.lanes=p,o}function gh(o,c,p,y){return o=ua(22,o,y,c),o.elementType=k,o.lanes=p,o.stateNode={isHidden:!1},o}function Qv(o,c,p){return o=ua(6,o,null,c),o.lanes=p,o}function Zv(o,c,p){return c=ua(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function BU(o,c,p,y,E){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_g(0),this.expirationTimes=_g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_g(0),this.identifierPrefix=y,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Jv(o,c,p,y,E,R,U,J,ne){return o=new BU(o,c,p,J,ne),c===1?(c=1,R===!0&&(c|=8)):c=0,R=ua(3,null,null,c),o.current=R,R.stateNode=o,R.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},fv(R),o}function zU(o,c,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:y==null?null:""+y,children:o,containerInfo:c,implementation:p}}function lE(o){if(!o)return oi;o=o._reactInternals;e:{if(Ji(o)!==o||o.tag!==1)throw Error(r(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(En(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(o.tag===1){var p=o.type;if(En(p))return M_(o,p,c)}return c}function cE(o,c,p,y,E,R,U,J,ne){return o=Jv(p,y,!0,o,E,R,U,J,ne),o.context=lE(null),p=o.current,y=hn(),E=mi(p),R=ws(y,E),R.callback=c??null,ui(p,R,E),o.current.lanes=E,Bc(o,E,y),Rn(o,y),o}function vh(o,c,p,y){var E=c.current,R=hn(),U=mi(E);return p=lE(p),c.context===null?c.context=p:c.pendingContext=p,c=ws(R,U),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ui(E,c,U),o!==null&&(Ea(o,E,U,R),Kf(o,E,U)),U}function xh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function uE(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function ex(o,c){uE(o,c),(o=o.alternate)&&uE(o,c)}function qU(){return null}var dE=typeof reportError=="function"?reportError:function(o){console.error(o)};function tx(o){this._internalRoot=o}yh.prototype.render=tx.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));vh(o,c,null,null)},yh.prototype.unmount=tx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;lo(function(){vh(null,o,null,null)}),c[vs]=null}};function yh(o){this._internalRoot=o}yh.prototype.unstable_scheduleHydration=function(o){if(o){var c=KS();o={blockedOn:null,target:o,priority:c};for(var p=0;p<ri.length&&c!==0&&c<ri[p].priority;p++);ri.splice(p,0,o),p===0&&QS(o)}};function rx(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function bh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function fE(){}function WU(o,c,p,y,E){if(E){if(typeof y=="function"){var R=y;y=function(){var ve=xh(U);R.call(ve)}}var U=cE(c,y,o,0,null,!1,!1,"",fE);return o._reactRootContainer=U,o[vs]=U.current,tu(o.nodeType===8?o.parentNode:o),lo(),U}for(;E=o.lastChild;)o.removeChild(E);if(typeof y=="function"){var J=y;y=function(){var ve=xh(ne);J.call(ve)}}var ne=Jv(o,0,!1,null,null,!1,!1,"",fE);return o._reactRootContainer=ne,o[vs]=ne.current,tu(o.nodeType===8?o.parentNode:o),lo(function(){vh(c,ne,p,y)}),ne}function jh(o,c,p,y,E){var R=p._reactRootContainer;if(R){var U=R;if(typeof E=="function"){var J=E;E=function(){var ne=xh(U);J.call(ne)}}vh(c,U,o,E)}else U=WU(p,c,o,E,y);return xh(U)}HS=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var p=Uc(c.pendingLanes);p!==0&&(Cg(c,p|1),Rn(c,ur()),(_t&6)===0&&(gl=ur()+500,li()))}break;case 13:lo(function(){var y=js(o,1);if(y!==null){var E=hn();Ea(y,o,1,E)}}),ex(o,1)}},Eg=function(o){if(o.tag===13){var c=js(o,134217728);if(c!==null){var p=hn();Ea(c,o,134217728,p)}ex(o,134217728)}},GS=function(o){if(o.tag===13){var c=mi(o),p=js(o,c);if(p!==null){var y=hn();Ea(p,o,c,y)}ex(o,c)}},KS=function(){return Dt},YS=function(o,c){var p=Dt;try{return Dt=o,c()}finally{Dt=p}},$c=function(o,c,p){switch(c){case"input":if(ot(o,p),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var y=p[c];if(y!==o&&y.form===o.form){var E=Lf(y);if(!E)throw Error(r(90));re(y),ot(y,E)}}}break;case"textarea":Zr(o,p);break;case"select":c=p.value,c!=null&&Fe(o,!!p.multiple,c,!1)}},br=Gv,en=lo;var VU={usingClientEntryPoint:!1,Events:[au,nl,Lf,vt,cr,Gv]},xu={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HU={bundleType:xu.bundleType,version:xu.version,rendererPackageName:xu.rendererPackageName,rendererConfig:xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=LS(o),o===null?null:o.stateNode},findFiberByHostInstance:xu.findFiberByHostInstance||qU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{yf=wh.inject(HU),qa=wh}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VU,Pn.createPortal=function(o,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rx(c))throw Error(r(200));return zU(o,c,null,p)},Pn.createRoot=function(o,c){if(!rx(o))throw Error(r(299));var p=!1,y="",E=dE;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),c=Jv(o,1,!1,null,null,p,!1,y,E),o[vs]=c.current,tu(o.nodeType===8?o.parentNode:o),new tx(c)},Pn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=LS(c),o=o===null?null:o.stateNode,o},Pn.flushSync=function(o){return lo(o)},Pn.hydrate=function(o,c,p){if(!bh(c))throw Error(r(200));return jh(null,o,c,!0,p)},Pn.hydrateRoot=function(o,c,p){if(!rx(o))throw Error(r(405));var y=p!=null&&p.hydratedSources||null,E=!1,R="",U=dE;if(p!=null&&(p.unstable_strictMode===!0&&(E=!0),p.identifierPrefix!==void 0&&(R=p.identifierPrefix),p.onRecoverableError!==void 0&&(U=p.onRecoverableError)),c=cE(c,null,o,1,p??null,E,!1,R,U),o[vs]=c.current,tu(o),y)for(o=0;o<y.length;o++)p=y[o],E=p._getVersion,E=E(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,E]:c.mutableSourceEagerHydrationData.push(p,E);return new yh(c)},Pn.render=function(o,c,p){if(!bh(c))throw Error(r(200));return jh(null,o,c,!1,p)},Pn.unmountComponentAtNode=function(o){if(!bh(o))throw Error(r(40));return o._reactRootContainer?(lo(function(){jh(null,null,o,!1,function(){o._reactRootContainer=null,o[vs]=null})}),!0):!1},Pn.unstable_batchedUpdates=Gv,Pn.unstable_renderSubtreeIntoContainer=function(o,c,p,y){if(!bh(p))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return jh(o,c,p,!1,y)},Pn.version="18.3.1-next-f1338f8080-20240426",Pn}var bE;function pO(){if(bE)return sx.exports;bE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sx.exports=eB(),sx.exports}var jE;function tB(){if(jE)return Sh;jE=1;var e=pO();return Sh.createRoot=e.createRoot,Sh.hydrateRoot=e.hydrateRoot,Sh}var rB=tB(),x=I1();const Q=qt(x),gO=KU({__proto__:null,default:Q},[x]),nB=()=>"http://localhost:8000",aB={apiBaseUrl:"https://gcback.openlayers.kz",environment:"production",debug:!1},sB=()=>({...aB,apiBaseUrl:nB()}),iB=sB(),Ze={baseUrl:iB.apiBaseUrl,endpoints:{getPaymentRequests:"/api/v1/requests/list",createPaymentRequest:"/api/v1/requests/create",updatePaymentRequest:"/api/v1/requests/:id",deletePaymentRequest:"/api/v1/requests/delete",getPaymentRequest:"/api/v1/requests/:id",getRequestStatistics:"/api/v1/requests/statistics",getDashboardMetrics:"/api/v1/requests/dashboard-metrics",submitRequest:"/api/v1/requests/:id/submit",classifyRequest:"/api/v1/requests/:id/classify",approveRequest:"/api/v1/requests/:id/approve",rejectRequest:"/api/v1/requests/:id/reject",addToRegistry:"/api/v1/requests/:id/add-to-registry",sendToDistributor:"/api/v1/requests/:id/send-to-distributor",distributorAction:"/api/v1/requests/:id/distributor-action",getRequestEvents:"/api/v1/requests/:id/events",getCounterparties:"/api/v1/dictionaries/counterparties",getCurrencies:"/api/v1/dictionaries/currencies",getVatRates:"/api/v1/dictionaries/vat-rates",getExpenseArticles:"/api/v1/dictionaries/expense-articles",getPayingCompanies:"/api/v1/dictionaries/paying-companies",getDocumentTypes:"/api/v1/dictionaries/document-types",getCounterpartyCategories:"/api/v1/dictionaries/counterparty-categories",getUsers:"/api/v1/users/list",getCurrentUser:"/api/v1/auth/me",getUser:"/api/v1/users/:id",createUser:"/api/v1/users",updateUser:"/api/v1/users/:id",deleteUser:"/api/v1/users/:id",getRoles:"/api/v1/roles",getRole:"/api/v1/roles/:id",createRole:"/api/v1/roles",updateRole:"/api/v1/roles/:id",deleteRole:"/api/v1/roles/:id",uploadFile:"/api/v1/files/upload",downloadFile:"/api/v1/files/download",deleteFile:"/api/v1/files/delete",getUnallocatedRequests:"/api/v1/distribution/unallocated-requests",getDistributionLines:"/api/v1/distribution/lines",createDistributionLine:"/api/v1/distribution/lines/create",updateDistributionLine:"/api/v1/distribution/lines/update",deleteDistributionLine:"/api/v1/distribution/lines/delete",getLineContracts:"/api/v1/distribution/line-contracts",createLineContract:"/api/v1/distribution/line-contracts/create",updateLineContract:"/api/v1/distribution/line-contracts/update",deleteLineContract:"/api/v1/distribution/line-contracts/delete",getRegistryEntries:"/api/v1/registry/entries",createRegistryEntry:"/api/v1/registry/entries/create",updateRegistryEntry:"/api/v1/registry/entries/update",deleteRegistryEntry:"/api/v1/registry/entries/delete"}};class oB{baseUrl;constructor(t){this.baseUrl=t}getAuthHeaders(){const t=localStorage.getItem("test_token");return t?{Authorization:`Bearer ${t}`}:{}}async get(t,r={}){const a=await fetch(`${this.baseUrl}${t}`,{...r,method:"GET",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...r.headers}});if(!a.ok)throw a.status===401?(localStorage.removeItem("test_token"),window.location.href="/login",new Error("Unauthorized - please login again")):new Error(`HTTP error! status: ${a.status}`);return a.json()}async post(t,r,a={}){const s=await fetch(`${this.baseUrl}${t}`,{...a,method:"POST",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...a.headers},body:JSON.stringify(r)});if(!s.ok)throw s.status===401?(localStorage.removeItem("test_token"),window.location.href="/login",new Error("Unauthorized - please login again")):new Error(`HTTP error! status: ${s.status}`);return s.json()}async put(t,r,a={}){const s=await fetch(`${this.baseUrl}${t}`,{...a,method:"PUT",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...a.headers},body:JSON.stringify(r)});if(!s.ok)throw s.status===401?(localStorage.removeItem("test_token"),window.location.href="/login",new Error("Unauthorized - please login again")):new Error(`HTTP error! status: ${s.status}`);return s.json()}async delete(t,r,a={}){const s=await fetch(`${this.baseUrl}${t}`,{...a,method:"DELETE",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...a.headers},body:r?JSON.stringify(r):void 0});if(!s.ok)throw s.status===401?(localStorage.removeItem("test_token"),window.location.href="/login",new Error("Unauthorized - please login again")):new Error(`HTTP error! status: ${s.status}`);if(s.status!==204)return s.json()}}const Oe=new oB(Ze.baseUrl);class Vu{static async getCurrentUser(){try{return await Oe.get(Ze.endpoints.getCurrentUser)}catch(t){throw console.error("Failed to load current user:",t),new Error("Unable to load current user. Please log in again.")}}static async getUsers(){return Oe.get("/api/v1/users")}static async getUser(t){const r=Ze.endpoints.getUser.replace(":id",t);return Oe.get(r)}static async createUser(t){return Oe.post(Ze.endpoints.createUser,t)}static async updateUser(t,r){const a=Ze.endpoints.updateUser.replace(":id",t);return Oe.put(a,r)}static async deleteUser(t){const r=Ze.endpoints.deleteUser.replace(":id",t);return Oe.delete(r)}static async getUsersByRole(t){try{return Oe.get(`/api/v1/admin/users/by-role/${t}`)}catch(r){return console.error("Error getting users by role:",r),[]}}static async searchUsers(t){const r=new URLSearchParams;t.query&&r.append("query",t.query),t.role&&r.append("role",t.role),t.is_active!==void 0&&r.append("is_active",t.is_active.toString()),t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString());const a=r.toString(),s=a?`/api/v1/admin/users/search?${a}`:"/api/v1/admin/users/search";return Oe.get(s)}static async getUsersByRoleCode(t){return Oe.get(`/api/v1/admin/users/by-role/${t}`)}static async getUserWithRoles(t){return Oe.get(`/api/v1/users/${t}`)}static async updateUserRoles(t,r){return Oe.put(`/api/v1/users/${t}/roles`,{roles:r})}static async bulkCreateUsers(t){return Oe.post("/api/v1/admin/users/bulk-create",{users:t})}static async bulkUpdateUsers(t){return Oe.put("/api/v1/admin/users/bulk-update",{users:t})}static async bulkDeleteUsers(t){return Oe.delete("/api/v1/admin/users/bulk-delete",{user_ids:t})}}const vO=x.createContext(void 0),Ui=()=>{const e=x.useContext(vO);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},lB=({children:e})=>{const[t,r]=x.useState(null),[a,s]=x.useState(null),[i,l]=x.useState(!0),[u,d]=x.useState(null);x.useEffect(()=>{(async()=>{const N=localStorage.getItem("test_token");if(N){s(N);try{const S=await Vu.getCurrentUser();r(S)}catch(S){console.error("Failed to load current user:",S),localStorage.removeItem("test_token"),s(null)}}l(!1)})()},[]);const f=async(v,N)=>{l(!0),d(null);try{const S=new FormData;S.append("username",v),S.append("password",N);const C=await fetch("http://localhost:8000/api/v1/auth/login",{method:"POST",body:S});if(!C.ok){const T=await C.json();throw new Error(T.detail||"Login failed")}const A=await C.json();s(A.access_token),localStorage.setItem("test_token",A.access_token);const _=await Vu.getCurrentUser();r(_)}catch(S){const C=S instanceof Error?S.message:"Login failed";throw d(C),S}finally{l(!1)}},h=()=>{s(null),r(null),localStorage.removeItem("test_token"),d(null)},m=async()=>{if(a)try{const v=await Vu.getCurrentUser();r(v)}catch(v){console.error("Failed to refresh user data:",v),h()}},g=v=>!t||!t.roles?!1:t.roles.some(N=>N.code===v),b={user:t,token:a,login:f,logout:h,isAuthenticated:!!t&&!!a,isLoading:i,error:u,refreshUser:m,hasRole:g,hasAnyRole:v=>!t||!t.roles?!1:t.roles.some(N=>v.includes(N.code)),isAdmin:()=>g("ADMIN")};return n.jsx(vO.Provider,{value:b,children:e})};function wE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ls(...e){return t=>{let r=!1;const a=e.map(s=>{const i=wE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():wE(e[s],null)}}}}function Nt(...e){return x.useCallback(Ls(...e),e)}function ki(e){const t=cB(e),r=x.forwardRef((a,s)=>{const{children:i,...l}=a,u=x.Children.toArray(i),d=u.find(uB);if(d){const f=d.props.children,h=u.map(m=>m===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:m);return n.jsx(t,{...l,ref:s,children:x.isValidElement(f)?x.cloneElement(f,void 0,h):null})}return n.jsx(t,{...l,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var xO=ki("Slot");function cB(e){const t=x.forwardRef((r,a)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const l=fB(s),u=dB(i,s.props);return s.type!==x.Fragment&&(u.ref=a?Ls(a,l):l),x.cloneElement(s,u)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yO=Symbol("radix.slottable");function bO(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=yO,t}function uB(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yO}function dB(e,t){const r={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function fB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function jO(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=jO(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Ct(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=jO(e))&&(a&&(a+=" "),a+=t);return a}const NE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,SE=Ct,k1=(e,t)=>r=>{var a;if(t?.variants==null)return SE(e,r?.class,r?.className);const{variants:s,defaultVariants:i}=t,l=Object.keys(s).map(f=>{const h=r?.[f],m=i?.[f];if(h===null)return null;const g=NE(h)||NE(m);return s[f][g]}),u=r&&Object.entries(r).reduce((f,h)=>{let[m,g]=h;return g===void 0||(f[m]=g),f},{}),d=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((f,h)=>{let{class:m,className:g,...j}=h;return Object.entries(j).every(w=>{let[b,v]=w;return Array.isArray(v)?v.includes({...i,...u}[b]):{...i,...u}[b]===v})?[...f,m,g]:f},[]);return SE(e,l,d,r?.class,r?.className)},O1="-",hB=e=>{const t=pB(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:l=>{const u=l.split(O1);return u[0]===""&&u.length!==1&&u.shift(),wO(u,t)||mB(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&a[l]?[...d,...a[l]]:d}}},wO=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),s=a?wO(e.slice(1),a):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(O1);return t.validators.find(({validator:l})=>l(i))?.classGroupId},_E=/^\[(.+)\]$/,mB=e=>{if(_E.test(e)){const t=_E.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},pB=e=>{const{theme:t,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const s in r)Lj(r[s],a,s,t);return a},Lj=(e,t,r,a)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:CE(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(gB(s)){Lj(s(a),t,r,a);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,l])=>{Lj(l,CE(t,i),r,a)})})},CE=(e,t)=>{let r=e;return t.split(O1).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},gB=e=>e.isThemeGetter,vB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const s=(i,l)=>{r.set(i,l),t++,t>e&&(t=0,a=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=a.get(i))!==void 0)return s(i,l),l},set(i,l){r.has(i)?r.set(i,l):s(i,l)}}},Fj="!",Uj=":",xB=Uj.length,yB=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const i=[];let l=0,u=0,d=0,f;for(let w=0;w<s.length;w++){let b=s[w];if(l===0&&u===0){if(b===Uj){i.push(s.slice(d,w)),d=w+xB;continue}if(b==="/"){f=w;continue}}b==="["?l++:b==="]"?l--:b==="("?u++:b===")"&&u--}const h=i.length===0?s:s.substring(d),m=bB(h),g=m!==h,j=f&&f>d?f-d:void 0;return{modifiers:i,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:j}};if(t){const s=t+Uj,i=a;a=l=>l.startsWith(s)?i(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const s=a;a=i=>r({className:i,parseClassName:s})}return a},bB=e=>e.endsWith(Fj)?e.substring(0,e.length-1):e.startsWith(Fj)?e.substring(1):e,jB=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const s=[];let i=[];return a.forEach(l=>{l[0]==="["||t[l]?(s.push(...i.sort(),l),i=[]):i.push(l)}),s.push(...i.sort()),s}},wB=e=>({cache:vB(e.cacheSize),parseClassName:yB(e),sortModifiers:jB(e),...hB(e)}),NB=/\s+/,SB=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:i}=t,l=[],u=e.trim().split(NB);let d="";for(let f=u.length-1;f>=0;f-=1){const h=u[f],{isExternal:m,modifiers:g,hasImportantModifier:j,baseClassName:w,maybePostfixModifierPosition:b}=r(h);if(m){d=h+(d.length>0?" "+d:d);continue}let v=!!b,N=a(v?w.substring(0,b):w);if(!N){if(!v){d=h+(d.length>0?" "+d:d);continue}if(N=a(w),!N){d=h+(d.length>0?" "+d:d);continue}v=!1}const S=i(g).join(":"),C=j?S+Fj:S,A=C+N;if(l.includes(A))continue;l.push(A);const _=s(N,v);for(let T=0;T<_.length;++T){const P=_[T];l.push(C+P)}d=h+(d.length>0?" "+d:d)}return d};function _B(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=NO(t))&&(a&&(a+=" "),a+=r);return a}const NO=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=NO(e[a]))&&(r&&(r+=" "),r+=t);return r};function CB(e,...t){let r,a,s,i=l;function l(d){const f=t.reduce((h,m)=>m(h),e());return r=wB(f),a=r.cache.get,s=r.cache.set,i=u,u(d)}function u(d){const f=a(d);if(f)return f;const h=SB(d,r);return s(d,h),h}return function(){return i(_B.apply(null,arguments))}}const Nr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},SO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_O=/^\((?:(\w[\w-]*):)?(.+)\)$/i,EB=/^\d+\/\d+$/,TB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,PB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xl=e=>EB.test(e),xt=e=>!!e&&!Number.isNaN(Number(e)),xi=e=>!!e&&Number.isInteger(Number(e)),lx=e=>e.endsWith("%")&&xt(e.slice(0,-1)),_s=e=>TB.test(e),kB=()=>!0,OB=e=>AB.test(e)&&!RB.test(e),CO=()=>!1,DB=e=>PB.test(e),MB=e=>IB.test(e),$B=e=>!Ye(e)&&!Xe(e),LB=e=>bc(e,AO,CO),Ye=e=>SO.test(e),ho=e=>bc(e,RO,OB),cx=e=>bc(e,qB,xt),EE=e=>bc(e,EO,CO),FB=e=>bc(e,TO,MB),_h=e=>bc(e,PO,DB),Xe=e=>_O.test(e),bu=e=>jc(e,RO),UB=e=>jc(e,WB),TE=e=>jc(e,EO),BB=e=>jc(e,AO),zB=e=>jc(e,TO),Ch=e=>jc(e,PO,!0),bc=(e,t,r)=>{const a=SO.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},jc=(e,t,r=!1)=>{const a=_O.exec(e);return a?a[1]?t(a[1]):r:!1},EO=e=>e==="position"||e==="percentage",TO=e=>e==="image"||e==="url",AO=e=>e==="length"||e==="size"||e==="bg-size",RO=e=>e==="length",qB=e=>e==="number",WB=e=>e==="family-name",PO=e=>e==="shadow",VB=()=>{const e=Nr("color"),t=Nr("font"),r=Nr("text"),a=Nr("font-weight"),s=Nr("tracking"),i=Nr("leading"),l=Nr("breakpoint"),u=Nr("container"),d=Nr("spacing"),f=Nr("radius"),h=Nr("shadow"),m=Nr("inset-shadow"),g=Nr("text-shadow"),j=Nr("drop-shadow"),w=Nr("blur"),b=Nr("perspective"),v=Nr("aspect"),N=Nr("ease"),S=Nr("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...A(),Xe,Ye],T=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],O=()=>[Xe,Ye,d],I=()=>[xl,"full","auto",...O()],B=()=>[xi,"none","subgrid",Xe,Ye],q=()=>["auto",{span:["full",xi,Xe,Ye]},xi,Xe,Ye],G=()=>[xi,"auto",Xe,Ye],V=()=>["auto","min","max","fr",Xe,Ye],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...O()],k=()=>[xl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],D=()=>[e,Xe,Ye],W=()=>[...A(),TE,EE,{position:[Xe,Ye]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",BB,LB,{size:[Xe,Ye]}],F=()=>[lx,bu,ho],L=()=>["","none","full",f,Xe,Ye],Y=()=>["",xt,bu,ho],ee=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[xt,lx,TE,EE],fe=()=>["","none",w,Xe,Ye],le=()=>["none",xt,Xe,Ye],Ee=()=>["none",xt,Xe,Ye],De=()=>[xt,Xe,Ye],re=()=>[xl,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_s],breakpoint:[_s],color:[kB],container:[_s],"drop-shadow":[_s],ease:["in","out","in-out"],font:[$B],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_s],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_s],shadow:[_s],spacing:["px",xt],text:[_s],"text-shadow":[_s],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xl,Ye,Xe,v]}],container:["container"],columns:[{columns:[xt,Ye,Xe,u]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[xi,"auto",Xe,Ye]}],basis:[{basis:[xl,"full","auto",u,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xt,xl,"auto","initial","none",Ye]}],grow:[{grow:["",xt,Xe,Ye]}],shrink:[{shrink:["",xt,Xe,Ye]}],order:[{order:[xi,"first","last","none",Xe,Ye]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:k()}],w:[{w:[u,"screen",...k()]}],"min-w":[{"min-w":[u,"screen","none",...k()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...k()]}],h:[{h:["screen","lh",...k()]}],"min-h":[{"min-h":["screen","lh","none",...k()]}],"max-h":[{"max-h":["screen","lh",...k()]}],"font-size":[{text:["base",r,bu,ho]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Xe,cx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lx,Ye]}],"font-family":[{font:[UB,Ye,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Xe,Ye]}],"line-clamp":[{"line-clamp":[xt,"none",Xe,cx]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",Xe,Ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Xe,Ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[xt,"from-font","auto",Xe,ho]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[xt,"auto",Xe,Ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe,Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe,Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xi,Xe,Ye],radial:["",Xe,Ye],conic:[xi,Xe,Ye]},zB,FB]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xt,Xe,Ye]}],"outline-w":[{outline:["",xt,bu,ho]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",h,Ch,_h]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",m,Ch,_h]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[xt,ho]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",g,Ch,_h]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[xt,Xe,Ye]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xt]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[Xe,Ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[xt]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Xe,Ye]}],filter:[{filter:["","none",Xe,Ye]}],blur:[{blur:fe()}],brightness:[{brightness:[xt,Xe,Ye]}],contrast:[{contrast:[xt,Xe,Ye]}],"drop-shadow":[{"drop-shadow":["","none",j,Ch,_h]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",xt,Xe,Ye]}],"hue-rotate":[{"hue-rotate":[xt,Xe,Ye]}],invert:[{invert:["",xt,Xe,Ye]}],saturate:[{saturate:[xt,Xe,Ye]}],sepia:[{sepia:["",xt,Xe,Ye]}],"backdrop-filter":[{"backdrop-filter":["","none",Xe,Ye]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[xt,Xe,Ye]}],"backdrop-contrast":[{"backdrop-contrast":[xt,Xe,Ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xt,Xe,Ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xt,Xe,Ye]}],"backdrop-invert":[{"backdrop-invert":["",xt,Xe,Ye]}],"backdrop-opacity":[{"backdrop-opacity":[xt,Xe,Ye]}],"backdrop-saturate":[{"backdrop-saturate":[xt,Xe,Ye]}],"backdrop-sepia":[{"backdrop-sepia":["",xt,Xe,Ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Xe,Ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xt,"initial",Xe,Ye]}],ease:[{ease:["linear","initial",N,Xe,Ye]}],delay:[{delay:[xt,Xe,Ye]}],animate:[{animate:["none",S,Xe,Ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Xe,Ye]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:le()}],"rotate-x":[{"rotate-x":le()}],"rotate-y":[{"rotate-y":le()}],"rotate-z":[{"rotate-z":le()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[Xe,Ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe,Ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe,Ye]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[xt,bu,ho,cx]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HB=CB(VB);function Ve(...e){return HB(Ct(e))}const Zu=k1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),X=x.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},i)=>{const l=a?xO:"button";return n.jsx(l,{"data-slot":"button",className:Ve(Zu({variant:t,size:r,className:e})),ref:i,...s})});X.displayName="Button";function Ie({className:e,type:t,...r}){return n.jsx("input",{type:t,"data-slot":"input",className:Ve("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var Hd=pO();const IO=qt(Hd);var GB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=GB.reduce((e,t)=>{const r=ki(`Primitive.${t}`),a=x.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...u,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function kO(e,t){e&&Hd.flushSync(()=>e.dispatchEvent(t))}var KB="Label",OO=x.forwardRef((e,t)=>n.jsx(st.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));OO.displayName=KB;var YB=OO;function ae({className:e,...t}){return n.jsx(YB,{"data-slot":"label",className:Ve("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function me({className:e,...t}){return n.jsx("div",{"data-slot":"card",className:Ve("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function Te({className:e,...t}){return n.jsx("div",{"data-slot":"card-header",className:Ve("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Ae({className:e,...t}){return n.jsx("h4",{"data-slot":"card-title",className:Ve("leading-none",e),...t})}function sr({className:e,...t}){return n.jsx("p",{"data-slot":"card-description",className:Ve("text-muted-foreground",e),...t})}function pe({className:e,...t}){return n.jsx("div",{"data-slot":"card-content",className:Ve("px-6 [&:last-child]:pb-6",e),...t})}const XB=k1("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ju({className:e,variant:t,...r}){return n.jsx("div",{"data-slot":"alert",role:"alert",className:Ve(XB({variant:t}),e),...r})}function ed({className:e,...t}){return n.jsx("div",{"data-slot":"alert-description",className:Ve("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZB=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),AE=e=>{const t=ZB(e);return t.charAt(0).toUpperCase()+t.slice(1)},DO=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:l,...u},d)=>x.createElement("svg",{ref:d,...JB,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:DO("lucide",s),...u},[...l.map(([f,h])=>x.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(e,t)=>{const r=x.forwardRef(({className:a,...s},i)=>x.createElement(e8,{ref:i,iconNode:t,className:DO(`lucide-${QB(AE(e))}`,`lucide-${e}`,a),...s}));return r.displayName=AE(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ll=qe("activity",t8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],n8=qe("align-left",r8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],RE=qe("archive",a8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Oa=qe("arrow-left",s8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Bj=qe("arrow-right",i8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],MO=qe("banknote",o8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$O=qe("bell",l8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],em=qe("book-open",c8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Pa=qe("building-2",u8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],os=qe("building",d8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],zj=qe("calculator",f8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],po=qe("calendar-days",h8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vr=qe("calendar",m8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],LO=qe("chart-column",p8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],td=qe("check",g8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qa=qe("chevron-down",v8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],y8=qe("chevron-left",x8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qj=qe("chevron-right",b8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],w8=qe("chevron-up",j8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],FO=qe("chevrons-up-down",N8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fs=qe("circle-alert",S8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pt=qe("circle-check-big",_8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Gn=qe("circle-x",C8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],PE=qe("circle",E8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Jt=qe("clock",T8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],R8=qe("copy",A8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],I8=qe("credit-card",P8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],tm=qe("database",k8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Xn=qe("dollar-sign",O8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Zn=qe("download",D8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],UO=qe("ellipsis",M8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],L8=qe("external-link",$8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oi=qe("eye",F8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],B8=qe("file-pen-line",U8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],IE=qe("file-spreadsheet",z8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yt=qe("file-text",q8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9.5 10.5 5 5",key:"ra9qjz"}],["path",{d:"m14.5 10.5-5 5",key:"l2rkpq"}]],Wj=qe("folder-x",W8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Bi=qe("funnel",V8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Vj=qe("history",H8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],K8=qe("key",G8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],X8=qe("layout-dashboard",Y8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Z8=qe("link",Q8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mr=qe("loader-circle",J8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ux=qe("lock",e6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],r6=qe("log-in",t6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kE=qe("map-pin",n6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],OE=qe("package",a6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],i6=qe("percent",s6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],un=qe("plus",o6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yn=qe("refresh-cw",l6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],u6=qe("rotate-ccw",c6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Gd=qe("save",d6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],xr=qe("search",f6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],lp=qe("send",h6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],p6=qe("server",m6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kd=qe("settings",g6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],x6=qe("shield-check",v6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_o=qe("shield",y6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],cn=qe("square-pen",b6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Hj=qe("star",j6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gl=qe("target",w6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Cr=qe("trash-2",N6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],D1=qe("trending-up",S6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rt=qe("triangle-alert",_6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Ao=qe("upload",C6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],$u=qe("user-check",E6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],A6=qe("user-plus",T6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],DE=qe("user-x",R6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ro=qe("user",P6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Kr=qe("users",I6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],O6=qe("wallet",k6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cp=qe("x",D6),BO=()=>{const{login:e,isLoading:t,error:r}=Ui(),[a,s]=x.useState(""),[i,l]=x.useState(""),[u,d]=x.useState(""),f=async h=>{h.preventDefault(),d("");try{await e(a,i)}catch(m){const g=m instanceof Error?m.message:"Login failed";d(g)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"max-w-md w-full space-y-8",children:n.jsxs(me,{children:[n.jsxs(Te,{className:"space-y-1",children:[n.jsx(Ae,{className:"text-2xl font-bold text-center",children:"Вход в систему"}),n.jsx(sr,{className:"text-center",children:"Введите свои учетные данные для входа"})]}),n.jsx(pe,{children:n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"email",children:"Email"}),n.jsx(Ie,{id:"email",type:"email",placeholder:"Введите ваш email",value:a,onChange:h=>s(h.target.value),required:!0,disabled:t})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"password",children:"Пароль"}),n.jsx(Ie,{id:"password",type:"password",placeholder:"Введите ваш пароль",value:i,onChange:h=>l(h.target.value),required:!0,disabled:t})]}),(r||u)&&n.jsx(Ju,{variant:"destructive",children:n.jsx(ed,{children:r||u})}),n.jsx(X,{type:"submit",className:"w-full",disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(Mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Вход..."]}):n.jsxs(n.Fragment,{children:[n.jsx(r6,{className:"mr-2 h-4 w-4"}),"Войти"]})})]})})]})})})},zO=()=>{if(!(typeof window>"u"))try{if(!("CSSScopeRule"in window)){class e{start;end;constructor(r,a){this.start=r,this.end=a}static create(r,a){return new e(r,a)}}Object.defineProperty(window,"CSSScopeRule",{value:e,writable:!1,configurable:!1})}if(!("CSS"in window)||!window.CSS.supports){const e={supports:(t,r)=>{if(r)try{const a=document.createElement("div");return a.style.setProperty(t,r),a.style.getPropertyValue(t)===r}catch{return!1}return!1}};"CSS"in window||Object.defineProperty(window,"CSS",{value:e,writable:!1,configurable:!1})}}catch(e){console.warn("CSS polyfills initialization failed:",e)}};typeof window<"u"&&zO();const M6=k1("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function je({className:e,variant:t,asChild:r=!1,...a}){const s=r?xO:"span";return n.jsx(s,{"data-slot":"badge",className:Ve(M6({variant:t}),e),...a})}function ze(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function $6(e,t){const r=x.createContext(t),a=i=>{const{children:l,...u}=i,d=x.useMemo(()=>u,Object.values(u));return n.jsx(r.Provider,{value:d,children:l})};a.displayName=e+"Provider";function s(i){const l=x.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function Dn(e,t=[]){let r=[];function a(i,l){const u=x.createContext(l),d=r.length;r=[...r,l];const f=m=>{const{scope:g,children:j,...w}=m,b=g?.[e]?.[d]||u,v=x.useMemo(()=>w,Object.values(w));return n.jsx(b.Provider,{value:v,children:j})};f.displayName=i+"Provider";function h(m,g){const j=g?.[e]?.[d]||u,w=x.useContext(j);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[f,h]}const s=()=>{const i=r.map(l=>x.createContext(l));return function(u){const d=u?.[e]||i;return x.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[a,L6(s,...t)]}function L6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=a.reduce((u,{useScope:d,scopeName:f})=>{const m=d(i)[`__scope${f}`];return{...u,...m}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var dn=globalThis?.document?x.useLayoutEffect:()=>{},F6=gO[" useInsertionEffect ".trim().toString()]||dn;function ls({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[s,i,l]=U6({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:s;{const h=x.useRef(e!==void 0);x.useEffect(()=>{const m=h.current;m!==u&&console.warn(`${a} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=u},[u,a])}const f=x.useCallback(h=>{if(u){const m=B6(h)?h(e):h;m!==e&&l.current?.(m)}else i(h)},[u,e,i,l]);return[d,f]}function U6({defaultProp:e,onChange:t}){const[r,a]=x.useState(e),s=x.useRef(r),i=x.useRef(t);return F6(()=>{i.current=t},[t]),x.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,a,i]}function B6(e){return typeof e=="function"}function M1(e){const t=e+"CollectionProvider",[r,a]=Dn(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:v,children:N}=b,S=Q.useRef(null),C=Q.useRef(new Map).current;return n.jsx(s,{scope:v,itemMap:C,collectionRef:S,children:N})};l.displayName=t;const u=e+"CollectionSlot",d=ki(u),f=Q.forwardRef((b,v)=>{const{scope:N,children:S}=b,C=i(u,N),A=Nt(v,C.collectionRef);return n.jsx(d,{ref:A,children:S})});f.displayName=u;const h=e+"CollectionItemSlot",m="data-radix-collection-item",g=ki(h),j=Q.forwardRef((b,v)=>{const{scope:N,children:S,...C}=b,A=Q.useRef(null),_=Nt(v,A),T=i(h,N);return Q.useEffect(()=>(T.itemMap.set(A,{ref:A,...C}),()=>void T.itemMap.delete(A))),n.jsx(g,{[m]:"",ref:_,children:S})});j.displayName=h;function w(b){const v=i(e+"CollectionConsumer",b);return Q.useCallback(()=>{const S=v.collectionRef.current;if(!S)return[];const C=Array.from(S.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((T,P)=>C.indexOf(T.ref.current)-C.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:l,Slot:f,ItemSlot:j},w,a]}var z6=x.createContext(void 0);function up(e){const t=x.useContext(z6);return e||t||"ltr"}function cs(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}function q6(e,t=globalThis?.document){const r=cs(e);x.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var W6="DismissableLayer",Gj="dismissableLayer.update",V6="dismissableLayer.pointerDownOutside",H6="dismissableLayer.focusOutside",ME,qO=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wc=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...d}=e,f=x.useContext(qO),[h,m]=x.useState(null),g=h?.ownerDocument??globalThis?.document,[,j]=x.useState({}),w=Nt(t,P=>m(P)),b=Array.from(f.layers),[v]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(v),S=h?b.indexOf(h):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,A=S>=N,_=Y6(P=>{const O=P.target,I=[...f.branches].some(B=>B.contains(O));!A||I||(s?.(P),l?.(P),P.defaultPrevented||u?.())},g),T=X6(P=>{const O=P.target;[...f.branches].some(B=>B.contains(O))||(i?.(P),l?.(P),P.defaultPrevented||u?.())},g);return q6(P=>{S===f.layers.size-1&&(a?.(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},g),x.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(ME=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),$E(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=ME)}},[h,g,r,f]),x.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),$E())},[h,f]),x.useEffect(()=>{const P=()=>j({});return document.addEventListener(Gj,P),()=>document.removeEventListener(Gj,P)},[]),n.jsx(st.div,{...d,ref:w,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:ze(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ze(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ze(e.onPointerDownCapture,_.onPointerDownCapture)})});wc.displayName=W6;var G6="DismissableLayerBranch",K6=x.forwardRef((e,t)=>{const r=x.useContext(qO),a=x.useRef(null),s=Nt(t,a);return x.useEffect(()=>{const i=a.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(st.div,{...e,ref:s})});K6.displayName=G6;function Y6(e,t=globalThis?.document){const r=cs(e),a=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=u=>{if(u.target&&!a.current){let d=function(){WO(V6,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);a.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function X6(e,t=globalThis?.document){const r=cs(e),a=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!a.current&&WO(H6,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function $E(){const e=new CustomEvent(Gj);document.dispatchEvent(e)}function WO(e,t,r,{discrete:a}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?kO(s,i):s.dispatchEvent(i)}var dx=0;function dp(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??LE()),document.body.insertAdjacentElement("beforeend",e[1]??LE()),dx++,()=>{dx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dx--}},[])}function LE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fx="focusScope.autoFocusOnMount",hx="focusScope.autoFocusOnUnmount",FE={bubbles:!1,cancelable:!0},Q6="FocusScope",Yd=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=e,[u,d]=x.useState(null),f=cs(s),h=cs(i),m=x.useRef(null),g=Nt(t,b=>d(b)),j=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(a){let b=function(C){if(j.paused||!u)return;const A=C.target;u.contains(A)?m.current=A:bi(m.current,{select:!0})},v=function(C){if(j.paused||!u)return;const A=C.relatedTarget;A!==null&&(u.contains(A)||bi(m.current,{select:!0}))},N=function(C){if(document.activeElement===document.body)for(const _ of C)_.removedNodes.length>0&&bi(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",v);const S=new MutationObserver(N);return u&&S.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",v),S.disconnect()}}},[a,u,j.paused]),x.useEffect(()=>{if(u){BE.add(j);const b=document.activeElement;if(!u.contains(b)){const N=new CustomEvent(fx,FE);u.addEventListener(fx,f),u.dispatchEvent(N),N.defaultPrevented||(Z6(nz(VO(u)),{select:!0}),document.activeElement===b&&bi(u))}return()=>{u.removeEventListener(fx,f),setTimeout(()=>{const N=new CustomEvent(hx,FE);u.addEventListener(hx,h),u.dispatchEvent(N),N.defaultPrevented||bi(b??document.body,{select:!0}),u.removeEventListener(hx,h),BE.remove(j)},0)}}},[u,f,h,j]);const w=x.useCallback(b=>{if(!r&&!a||j.paused)return;const v=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(v&&N){const S=b.currentTarget,[C,A]=J6(S);C&&A?!b.shiftKey&&N===A?(b.preventDefault(),r&&bi(C,{select:!0})):b.shiftKey&&N===C&&(b.preventDefault(),r&&bi(A,{select:!0})):N===S&&b.preventDefault()}},[r,a,j.paused]);return n.jsx(st.div,{tabIndex:-1,...l,ref:g,onKeyDown:w})});Yd.displayName=Q6;function Z6(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(bi(a,{select:t}),document.activeElement!==r)return}function J6(e){const t=VO(e),r=UE(t,e),a=UE(t.reverse(),e);return[r,a]}function VO(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function UE(e,t){for(const r of e)if(!ez(r,{upTo:t}))return r}function ez(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tz(e){return e instanceof HTMLInputElement&&"select"in e}function bi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&tz(e)&&t&&e.select()}}var BE=rz();function rz(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=zE(e,t),e.unshift(t)},remove(t){e=zE(e,t),e[0]?.resume()}}}function zE(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function nz(e){return e.filter(t=>t.tagName!=="A")}var az=gO[" useId ".trim().toString()]||(()=>{}),sz=0;function zr(e){const[t,r]=x.useState(az());return dn(()=>{r(a=>a??String(sz++))},[e]),e||(t?`radix-${t}`:"")}const iz=["top","right","bottom","left"],Di=Math.min,Kn=Math.max,rm=Math.round,Eh=Math.floor,as=e=>({x:e,y:e}),oz={left:"right",right:"left",bottom:"top",top:"bottom"},lz={start:"end",end:"start"};function Kj(e,t,r){return Kn(e,Di(t,r))}function Us(e,t){return typeof e=="function"?e(t):e}function Bs(e){return e.split("-")[0]}function Nc(e){return e.split("-")[1]}function $1(e){return e==="x"?"y":"x"}function L1(e){return e==="y"?"height":"width"}const cz=new Set(["top","bottom"]);function ts(e){return cz.has(Bs(e))?"y":"x"}function F1(e){return $1(ts(e))}function uz(e,t,r){r===void 0&&(r=!1);const a=Nc(e),s=F1(e),i=L1(s);let l=s==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=nm(l)),[l,nm(l)]}function dz(e){const t=nm(e);return[Yj(e),t,Yj(t)]}function Yj(e){return e.replace(/start|end/g,t=>lz[t])}const qE=["left","right"],WE=["right","left"],fz=["top","bottom"],hz=["bottom","top"];function mz(e,t,r){switch(e){case"top":case"bottom":return r?t?WE:qE:t?qE:WE;case"left":case"right":return t?fz:hz;default:return[]}}function pz(e,t,r,a){const s=Nc(e);let i=mz(Bs(e),r==="start",a);return s&&(i=i.map(l=>l+"-"+s),t&&(i=i.concat(i.map(Yj)))),i}function nm(e){return e.replace(/left|right|bottom|top/g,t=>oz[t])}function gz(e){return{top:0,right:0,bottom:0,left:0,...e}}function HO(e){return typeof e!="number"?gz(e):{top:e,right:e,bottom:e,left:e}}function am(e){const{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function VE(e,t,r){let{reference:a,floating:s}=e;const i=ts(t),l=F1(t),u=L1(l),d=Bs(t),f=i==="y",h=a.x+a.width/2-s.width/2,m=a.y+a.height/2-s.height/2,g=a[u]/2-s[u]/2;let j;switch(d){case"top":j={x:h,y:a.y-s.height};break;case"bottom":j={x:h,y:a.y+a.height};break;case"right":j={x:a.x+a.width,y:m};break;case"left":j={x:a.x-s.width,y:m};break;default:j={x:a.x,y:a.y}}switch(Nc(t)){case"start":j[l]-=g*(r&&f?-1:1);break;case"end":j[l]+=g*(r&&f?-1:1);break}return j}const vz=async(e,t,r)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:l}=r,u=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:m}=VE(f,a,d),g=a,j={},w=0;for(let b=0;b<u.length;b++){const{name:v,fn:N}=u[b],{x:S,y:C,data:A,reset:_}=await N({x:h,y:m,initialPlacement:a,placement:g,strategy:s,middlewareData:j,rects:f,platform:l,elements:{reference:e,floating:t}});h=S??h,m=C??m,j={...j,[v]:{...j[v],...A}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(f=_.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:h,y:m}=VE(f,g,d)),b=-1)}return{x:h,y:m,placement:g,strategy:s,middlewareData:j}};async function rd(e,t){var r;t===void 0&&(t={});const{x:a,y:s,platform:i,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:j=0}=Us(t,e),w=HO(j),v=u[g?m==="floating"?"reference":"floating":m],N=am(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:d})),S=m==="floating"?{x:a,y:s,width:l.floating.width,height:l.floating.height}:l.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),A=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},_=am(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:S,offsetParent:C,strategy:d}):S);return{top:(N.top-_.top+w.top)/A.y,bottom:(_.bottom-N.bottom+w.bottom)/A.y,left:(N.left-_.left+w.left)/A.x,right:(_.right-N.right+w.right)/A.x}}const xz=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:s,rects:i,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:h=0}=Us(e,t)||{};if(f==null)return{};const m=HO(h),g={x:r,y:a},j=F1(s),w=L1(j),b=await l.getDimensions(f),v=j==="y",N=v?"top":"left",S=v?"bottom":"right",C=v?"clientHeight":"clientWidth",A=i.reference[w]+i.reference[j]-g[j]-i.floating[w],_=g[j]-i.reference[j],T=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let P=T?T[C]:0;(!P||!await(l.isElement==null?void 0:l.isElement(T)))&&(P=u.floating[C]||i.floating[w]);const O=A/2-_/2,I=P/2-b[w]/2-1,B=Di(m[N],I),q=Di(m[S],I),G=B,V=P-b[w]-q,Z=P/2-b[w]/2+O,$=Kj(G,Z,V),M=!d.arrow&&Nc(s)!=null&&Z!==$&&i.reference[w]/2-(Z<G?B:q)-b[w]/2<0,k=M?Z<G?Z-G:Z-V:0;return{[j]:g[j]+k,data:{[j]:$,centerOffset:Z-$-k,...M&&{alignmentOffset:k}},reset:M}}}),yz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:s,middlewareData:i,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...v}=Us(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=Bs(s),S=ts(u),C=Bs(u)===u,A=await(d.isRTL==null?void 0:d.isRTL(f.floating)),_=g||(C||!b?[nm(u)]:dz(u)),T=w!=="none";!g&&T&&_.push(...pz(u,b,w,A));const P=[u,..._],O=await rd(t,v),I=[];let B=((a=i.flip)==null?void 0:a.overflows)||[];if(h&&I.push(O[N]),m){const Z=uz(s,l,A);I.push(O[Z[0]],O[Z[1]])}if(B=[...B,{placement:s,overflows:I}],!I.every(Z=>Z<=0)){var q,G;const Z=(((q=i.flip)==null?void 0:q.index)||0)+1,$=P[Z];if($&&(!(m==="alignment"?S!==ts($):!1)||B.every(D=>ts(D.placement)===S?D.overflows[0]>0:!0)))return{data:{index:Z,overflows:B},reset:{placement:$}};let M=(G=B.filter(k=>k.overflows[0]<=0).sort((k,D)=>k.overflows[1]-D.overflows[1])[0])==null?void 0:G.placement;if(!M)switch(j){case"bestFit":{var V;const k=(V=B.filter(D=>{if(T){const W=ts(D.placement);return W===S||W==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(W=>W>0).reduce((W,H)=>W+H,0)]).sort((D,W)=>D[1]-W[1])[0])==null?void 0:V[0];k&&(M=k);break}case"initialPlacement":M=u;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function HE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function GE(e){return iz.some(t=>e[t]>=0)}const bz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...s}=Us(e,t);switch(a){case"referenceHidden":{const i=await rd(t,{...s,elementContext:"reference"}),l=HE(i,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:GE(l)}}}case"escaped":{const i=await rd(t,{...s,altBoundary:!0}),l=HE(i,r.floating);return{data:{escapedOffsets:l,escaped:GE(l)}}}default:return{}}}}},GO=new Set(["left","top"]);async function jz(e,t){const{placement:r,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),l=Bs(r),u=Nc(r),d=ts(r)==="y",f=GO.has(l)?-1:1,h=i&&d?-1:1,m=Us(t,e);let{mainAxis:g,crossAxis:j,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof w=="number"&&(j=u==="end"?w*-1:w),d?{x:j*h,y:g*f}:{x:g*f,y:j*h}}const wz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:s,y:i,placement:l,middlewareData:u}=t,d=await jz(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(a=u.arrow)!=null&&a.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:l}}}}},Nz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:s}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:v=>{let{x:N,y:S}=v;return{x:N,y:S}}},...d}=Us(e,t),f={x:r,y:a},h=await rd(t,d),m=ts(Bs(s)),g=$1(m);let j=f[g],w=f[m];if(i){const v=g==="y"?"top":"left",N=g==="y"?"bottom":"right",S=j+h[v],C=j-h[N];j=Kj(S,j,C)}if(l){const v=m==="y"?"top":"left",N=m==="y"?"bottom":"right",S=w+h[v],C=w-h[N];w=Kj(S,w,C)}const b=u.fn({...t,[g]:j,[m]:w});return{...b,data:{x:b.x-r,y:b.y-a,enabled:{[g]:i,[m]:l}}}}}},Sz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:s,rects:i,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Us(e,t),h={x:r,y:a},m=ts(s),g=$1(m);let j=h[g],w=h[m];const b=Us(u,t),v=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const C=g==="y"?"height":"width",A=i.reference[g]-i.floating[C]+v.mainAxis,_=i.reference[g]+i.reference[C]-v.mainAxis;j<A?j=A:j>_&&(j=_)}if(f){var N,S;const C=g==="y"?"width":"height",A=GO.has(Bs(s)),_=i.reference[m]-i.floating[C]+(A&&((N=l.offset)==null?void 0:N[m])||0)+(A?0:v.crossAxis),T=i.reference[m]+i.reference[C]+(A?0:((S=l.offset)==null?void 0:S[m])||0)-(A?v.crossAxis:0);w<_?w=_:w>T&&(w=T)}return{[g]:j,[m]:w}}}},_z=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:s,rects:i,platform:l,elements:u}=t,{apply:d=()=>{},...f}=Us(e,t),h=await rd(t,f),m=Bs(s),g=Nc(s),j=ts(s)==="y",{width:w,height:b}=i.floating;let v,N;m==="top"||m==="bottom"?(v=m,N=g===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(N=m,v=g==="end"?"top":"bottom");const S=b-h.top-h.bottom,C=w-h.left-h.right,A=Di(b-h[v],S),_=Di(w-h[N],C),T=!t.middlewareData.shift;let P=A,O=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=C),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(P=S),T&&!g){const B=Kn(h.left,0),q=Kn(h.right,0),G=Kn(h.top,0),V=Kn(h.bottom,0);j?O=w-2*(B!==0||q!==0?B+q:Kn(h.left,h.right)):P=b-2*(G!==0||V!==0?G+V:Kn(h.top,h.bottom))}await d({...t,availableWidth:O,availableHeight:P});const I=await l.getDimensions(u.floating);return w!==I.width||b!==I.height?{reset:{rects:!0}}:{}}}};function fp(){return typeof window<"u"}function Sc(e){return KO(e)?(e.nodeName||"").toLowerCase():"#document"}function Qn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hs(e){var t;return(t=(KO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function KO(e){return fp()?e instanceof Node||e instanceof Qn(e).Node:!1}function Ma(e){return fp()?e instanceof Element||e instanceof Qn(e).Element:!1}function us(e){return fp()?e instanceof HTMLElement||e instanceof Qn(e).HTMLElement:!1}function KE(e){return!fp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qn(e).ShadowRoot}const Cz=new Set(["inline","contents"]);function Xd(e){const{overflow:t,overflowX:r,overflowY:a,display:s}=$a(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!Cz.has(s)}const Ez=new Set(["table","td","th"]);function Tz(e){return Ez.has(Sc(e))}const Az=[":popover-open",":modal"];function hp(e){return Az.some(t=>{try{return e.matches(t)}catch{return!1}})}const Rz=["transform","translate","scale","rotate","perspective"],Pz=["transform","translate","scale","rotate","perspective","filter"],Iz=["paint","layout","strict","content"];function U1(e){const t=B1(),r=Ma(e)?$a(e):e;return Rz.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Pz.some(a=>(r.willChange||"").includes(a))||Iz.some(a=>(r.contain||"").includes(a))}function kz(e){let t=Mi(e);for(;us(t)&&!Kl(t);){if(U1(t))return t;if(hp(t))return null;t=Mi(t)}return null}function B1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Oz=new Set(["html","body","#document"]);function Kl(e){return Oz.has(Sc(e))}function $a(e){return Qn(e).getComputedStyle(e)}function mp(e){return Ma(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mi(e){if(Sc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||KE(e)&&e.host||hs(e);return KE(t)?t.host:t}function YO(e){const t=Mi(e);return Kl(t)?e.ownerDocument?e.ownerDocument.body:e.body:us(t)&&Xd(t)?t:YO(t)}function nd(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=YO(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),l=Qn(s);if(i){const u=Xj(l);return t.concat(l,l.visualViewport||[],Xd(s)?s:[],u&&r?nd(u):[])}return t.concat(s,nd(s,[],r))}function Xj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function XO(e){const t=$a(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=us(e),i=s?e.offsetWidth:r,l=s?e.offsetHeight:a,u=rm(r)!==i||rm(a)!==l;return u&&(r=i,a=l),{width:r,height:a,$:u}}function z1(e){return Ma(e)?e:e.contextElement}function Fl(e){const t=z1(e);if(!us(t))return as(1);const r=t.getBoundingClientRect(),{width:a,height:s,$:i}=XO(t);let l=(i?rm(r.width):r.width)/a,u=(i?rm(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const Dz=as(0);function QO(e){const t=Qn(e);return!B1()||!t.visualViewport?Dz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Mz(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qn(e)?!1:t}function Po(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=z1(e);let l=as(1);t&&(a?Ma(a)&&(l=Fl(a)):l=Fl(e));const u=Mz(i,r,a)?QO(i):as(0);let d=(s.left+u.x)/l.x,f=(s.top+u.y)/l.y,h=s.width/l.x,m=s.height/l.y;if(i){const g=Qn(i),j=a&&Ma(a)?Qn(a):a;let w=g,b=Xj(w);for(;b&&a&&j!==w;){const v=Fl(b),N=b.getBoundingClientRect(),S=$a(b),C=N.left+(b.clientLeft+parseFloat(S.paddingLeft))*v.x,A=N.top+(b.clientTop+parseFloat(S.paddingTop))*v.y;d*=v.x,f*=v.y,h*=v.x,m*=v.y,d+=C,f+=A,w=Qn(b),b=Xj(w)}}return am({width:h,height:m,x:d,y:f})}function pp(e,t){const r=mp(e).scrollLeft;return t?t.left+r:Po(hs(e)).left+r}function ZO(e,t){const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-pp(e,r),s=r.top+t.scrollTop;return{x:a,y:s}}function $z(e){let{elements:t,rect:r,offsetParent:a,strategy:s}=e;const i=s==="fixed",l=hs(a),u=t?hp(t.floating):!1;if(a===l||u&&i)return r;let d={scrollLeft:0,scrollTop:0},f=as(1);const h=as(0),m=us(a);if((m||!m&&!i)&&((Sc(a)!=="body"||Xd(l))&&(d=mp(a)),us(a))){const j=Po(a);f=Fl(a),h.x=j.x+a.clientLeft,h.y=j.y+a.clientTop}const g=l&&!m&&!i?ZO(l,d):as(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+h.x+g.x,y:r.y*f.y-d.scrollTop*f.y+h.y+g.y}}function Lz(e){return Array.from(e.getClientRects())}function Fz(e){const t=hs(e),r=mp(e),a=e.ownerDocument.body,s=Kn(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=Kn(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let l=-r.scrollLeft+pp(e);const u=-r.scrollTop;return $a(a).direction==="rtl"&&(l+=Kn(t.clientWidth,a.clientWidth)-s),{width:s,height:i,x:l,y:u}}const YE=25;function Uz(e,t){const r=Qn(e),a=hs(e),s=r.visualViewport;let i=a.clientWidth,l=a.clientHeight,u=0,d=0;if(s){i=s.width,l=s.height;const h=B1();(!h||h&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}const f=pp(a);if(f<=0){const h=a.ownerDocument,m=h.body,g=getComputedStyle(m),j=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,w=Math.abs(a.clientWidth-m.clientWidth-j);w<=YE&&(i-=w)}else f<=YE&&(i+=f);return{width:i,height:l,x:u,y:d}}const Bz=new Set(["absolute","fixed"]);function zz(e,t){const r=Po(e,!0,t==="fixed"),a=r.top+e.clientTop,s=r.left+e.clientLeft,i=us(e)?Fl(e):as(1),l=e.clientWidth*i.x,u=e.clientHeight*i.y,d=s*i.x,f=a*i.y;return{width:l,height:u,x:d,y:f}}function XE(e,t,r){let a;if(t==="viewport")a=Uz(e,r);else if(t==="document")a=Fz(hs(e));else if(Ma(t))a=zz(t,r);else{const s=QO(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return am(a)}function JO(e,t){const r=Mi(e);return r===t||!Ma(r)||Kl(r)?!1:$a(r).position==="fixed"||JO(r,t)}function qz(e,t){const r=t.get(e);if(r)return r;let a=nd(e,[],!1).filter(u=>Ma(u)&&Sc(u)!=="body"),s=null;const i=$a(e).position==="fixed";let l=i?Mi(e):e;for(;Ma(l)&&!Kl(l);){const u=$a(l),d=U1(l);!d&&u.position==="fixed"&&(s=null),(i?!d&&!s:!d&&u.position==="static"&&!!s&&Bz.has(s.position)||Xd(l)&&!d&&JO(e,l))?a=a.filter(h=>h!==l):s=u,l=Mi(l)}return t.set(e,a),a}function Wz(e){let{element:t,boundary:r,rootBoundary:a,strategy:s}=e;const l=[...r==="clippingAncestors"?hp(t)?[]:qz(t,this._c):[].concat(r),a],u=l[0],d=l.reduce((f,h)=>{const m=XE(t,h,s);return f.top=Kn(m.top,f.top),f.right=Di(m.right,f.right),f.bottom=Di(m.bottom,f.bottom),f.left=Kn(m.left,f.left),f},XE(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Vz(e){const{width:t,height:r}=XO(e);return{width:t,height:r}}function Hz(e,t,r){const a=us(t),s=hs(t),i=r==="fixed",l=Po(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const d=as(0);function f(){d.x=pp(s)}if(a||!a&&!i)if((Sc(t)!=="body"||Xd(s))&&(u=mp(t)),a){const j=Po(t,!0,i,t);d.x=j.x+t.clientLeft,d.y=j.y+t.clientTop}else s&&f();i&&!a&&s&&f();const h=s&&!a&&!i?ZO(s,u):as(0),m=l.left+u.scrollLeft-d.x-h.x,g=l.top+u.scrollTop-d.y-h.y;return{x:m,y:g,width:l.width,height:l.height}}function mx(e){return $a(e).position==="static"}function QE(e,t){if(!us(e)||$a(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return hs(e)===r&&(r=r.ownerDocument.body),r}function eD(e,t){const r=Qn(e);if(hp(e))return r;if(!us(e)){let s=Mi(e);for(;s&&!Kl(s);){if(Ma(s)&&!mx(s))return s;s=Mi(s)}return r}let a=QE(e,t);for(;a&&Tz(a)&&mx(a);)a=QE(a,t);return a&&Kl(a)&&mx(a)&&!U1(a)?r:a||kz(e)||r}const Gz=async function(e){const t=this.getOffsetParent||eD,r=this.getDimensions,a=await r(e.floating);return{reference:Hz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Kz(e){return $a(e).direction==="rtl"}const Yz={convertOffsetParentRelativeRectToViewportRelativeRect:$z,getDocumentElement:hs,getClippingRect:Wz,getOffsetParent:eD,getElementRects:Gz,getClientRects:Lz,getDimensions:Vz,getScale:Fl,isElement:Ma,isRTL:Kz};function tD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Xz(e,t){let r=null,a;const s=hs(e);function i(){var u;clearTimeout(a),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:h,top:m,width:g,height:j}=f;if(u||t(),!g||!j)return;const w=Eh(m),b=Eh(s.clientWidth-(h+g)),v=Eh(s.clientHeight-(m+j)),N=Eh(h),C={rootMargin:-w+"px "+-b+"px "+-v+"px "+-N+"px",threshold:Kn(0,Di(1,d))||1};let A=!0;function _(T){const P=T[0].intersectionRatio;if(P!==d){if(!A)return l();P?l(!1,P):a=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!tD(f,e.getBoundingClientRect())&&l(),A=!1}try{r=new IntersectionObserver(_,{...C,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,C)}r.observe(e)}return l(!0),i}function Qz(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,f=z1(e),h=s||i?[...f?nd(f):[],...nd(t)]:[];h.forEach(N=>{s&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const m=f&&u?Xz(f,r):null;let g=-1,j=null;l&&(j=new ResizeObserver(N=>{let[S]=N;S&&S.target===f&&j&&(j.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=j)==null||C.observe(t)})),r()}),f&&!d&&j.observe(f),j.observe(t));let w,b=d?Po(e):null;d&&v();function v(){const N=Po(e);b&&!tD(b,N)&&r(),b=N,w=requestAnimationFrame(v)}return r(),()=>{var N;h.forEach(S=>{s&&S.removeEventListener("scroll",r),i&&S.removeEventListener("resize",r)}),m?.(),(N=j)==null||N.disconnect(),j=null,d&&cancelAnimationFrame(w)}}const Zz=wz,Jz=Nz,eq=yz,tq=_z,rq=bz,ZE=xz,nq=Sz,aq=(e,t,r)=>{const a=new Map,s={platform:Yz,...r},i={...s.platform,_c:a};return vz(e,t,{...s,platform:i})};var sq=typeof document<"u",iq=function(){},Xh=sq?x.useLayoutEffect:iq;function sm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!sm(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=r;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!sm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function rD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function JE(e,t){const r=rD(e);return Math.round(t*r)/r}function px(e){const t=x.useRef(e);return Xh(()=>{t.current=e}),t}function oq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[h,m]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,j]=x.useState(a);sm(g,a)||j(a);const[w,b]=x.useState(null),[v,N]=x.useState(null),S=x.useCallback(D=>{D!==T.current&&(T.current=D,b(D))},[]),C=x.useCallback(D=>{D!==P.current&&(P.current=D,N(D))},[]),A=i||w,_=l||v,T=x.useRef(null),P=x.useRef(null),O=x.useRef(h),I=d!=null,B=px(d),q=px(s),G=px(f),V=x.useCallback(()=>{if(!T.current||!P.current)return;const D={placement:t,strategy:r,middleware:g};q.current&&(D.platform=q.current),aq(T.current,P.current,D).then(W=>{const H={...W,isPositioned:G.current!==!1};Z.current&&!sm(O.current,H)&&(O.current=H,Hd.flushSync(()=>{m(H)}))})},[g,t,r,q,G]);Xh(()=>{f===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[f]);const Z=x.useRef(!1);Xh(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Xh(()=>{if(A&&(T.current=A),_&&(P.current=_),A&&_){if(B.current)return B.current(A,_,V);V()}},[A,_,V,B,I]);const $=x.useMemo(()=>({reference:T,floating:P,setReference:S,setFloating:C}),[S,C]),M=x.useMemo(()=>({reference:A,floating:_}),[A,_]),k=x.useMemo(()=>{const D={position:r,left:0,top:0};if(!M.floating)return D;const W=JE(M.floating,h.x),H=JE(M.floating,h.y);return u?{...D,transform:"translate("+W+"px, "+H+"px)",...rD(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:H}},[r,u,M.floating,h.x,h.y]);return x.useMemo(()=>({...h,update:V,refs:$,elements:M,floatingStyles:k}),[h,V,$,M,k])}const lq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:s}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?ZE({element:a.current,padding:s}).fn(r):{}:a?ZE({element:a,padding:s}).fn(r):{}}}},cq=(e,t)=>({...Zz(e),options:[e,t]}),uq=(e,t)=>({...Jz(e),options:[e,t]}),dq=(e,t)=>({...nq(e),options:[e,t]}),fq=(e,t)=>({...eq(e),options:[e,t]}),hq=(e,t)=>({...tq(e),options:[e,t]}),mq=(e,t)=>({...rq(e),options:[e,t]}),pq=(e,t)=>({...lq(e),options:[e,t]});var gq="Arrow",nD=x.forwardRef((e,t)=>{const{children:r,width:a=10,height:s=5,...i}=e;return n.jsx(st.svg,{...i,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});nD.displayName=gq;var vq=nD;function q1(e){const[t,r]=x.useState(void 0);return dn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,u;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var W1="Popper",[aD,zi]=Dn(W1),[xq,sD]=aD(W1),iD=e=>{const{__scopePopper:t,children:r}=e,[a,s]=x.useState(null);return n.jsx(xq,{scope:t,anchor:a,onAnchorChange:s,children:r})};iD.displayName=W1;var oD="PopperAnchor",lD=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...s}=e,i=sD(oD,r),l=x.useRef(null),u=Nt(t,l),d=x.useRef(null);return x.useEffect(()=>{const f=d.current;d.current=a?.current||l.current,f!==d.current&&i.onAnchorChange(d.current)}),a?null:n.jsx(st.div,{...s,ref:u})});lD.displayName=oD;var V1="PopperContent",[yq,bq]=aD(V1),cD=x.forwardRef((e,t)=>{const{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:j="optimized",onPlaced:w,...b}=e,v=sD(V1,r),[N,S]=x.useState(null),C=Nt(t,K=>S(K)),[A,_]=x.useState(null),T=q1(A),P=T?.width??0,O=T?.height??0,I=a+(i!=="center"?"-"+i:""),B=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},q=Array.isArray(f)?f:[f],G=q.length>0,V={padding:B,boundary:q.filter(wq),altBoundary:G},{refs:Z,floatingStyles:$,placement:M,isPositioned:k,middlewareData:D}=oq({strategy:"fixed",placement:I,whileElementsMounted:(...K)=>Qz(...K,{animationFrame:j==="always"}),elements:{reference:v.anchor},middleware:[cq({mainAxis:s+O,alignmentAxis:l}),d&&uq({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?dq():void 0,...V}),d&&fq({...V}),hq({...V,apply:({elements:K,rects:fe,availableWidth:le,availableHeight:Ee})=>{const{width:De,height:re}=fe.reference,$e=K.floating.style;$e.setProperty("--radix-popper-available-width",`${le}px`),$e.setProperty("--radix-popper-available-height",`${Ee}px`),$e.setProperty("--radix-popper-anchor-width",`${De}px`),$e.setProperty("--radix-popper-anchor-height",`${re}px`)}}),A&&pq({element:A,padding:u}),Nq({arrowWidth:P,arrowHeight:O}),g&&mq({strategy:"referenceHidden",...V})]}),[W,H]=fD(M),z=cs(w);dn(()=>{k&&z?.()},[k,z]);const F=D.arrow?.x,L=D.arrow?.y,Y=D.arrow?.centerOffset!==0,[ee,ce]=x.useState();return dn(()=>{N&&ce(window.getComputedStyle(N).zIndex)},[N]),n.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:k?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(yq,{scope:r,placedSide:W,onArrowChange:_,arrowX:F,arrowY:L,shouldHideArrow:Y,children:n.jsx(st.div,{"data-side":W,"data-align":H,...b,ref:C,style:{...b.style,animation:k?void 0:"none"}})})})});cD.displayName=V1;var uD="PopperArrow",jq={top:"bottom",right:"left",bottom:"top",left:"right"},dD=x.forwardRef(function(t,r){const{__scopePopper:a,...s}=t,i=bq(uD,a),l=jq[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(vq,{...s,ref:r,style:{...s.style,display:"block"}})})});dD.displayName=uD;function wq(e){return e!==null}var Nq=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:a,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,h]=fD(r),m={start:"0%",center:"50%",end:"100%"}[h],g=(s.arrow?.x??0)+u/2,j=(s.arrow?.y??0)+d/2;let w="",b="";return f==="bottom"?(w=l?m:`${g}px`,b=`${-d}px`):f==="top"?(w=l?m:`${g}px`,b=`${a.floating.height+d}px`):f==="right"?(w=`${-d}px`,b=l?m:`${j}px`):f==="left"&&(w=`${a.floating.width+d}px`,b=l?m:`${j}px`),{data:{x:w,y:b}}}});function fD(e){const[t,r="center"]=e.split("-");return[t,r]}var gp=iD,Qd=lD,vp=cD,xp=dD,Sq="Portal",_c=x.forwardRef((e,t)=>{const{container:r,...a}=e,[s,i]=x.useState(!1);dn(()=>i(!0),[]);const l=r||s&&globalThis?.document?.body;return l?IO.createPortal(n.jsx(st.div,{...a,ref:t}),l):null});_c.displayName=Sq;function _q(e,t){return x.useReducer((r,a)=>t[r][a]??r,e)}var Mn=e=>{const{present:t,children:r}=e,a=Cq(t),s=typeof r=="function"?r({present:a.isPresent}):x.Children.only(r),i=Nt(a.ref,Eq(s));return typeof r=="function"||a.isPresent?x.cloneElement(s,{ref:i}):null};Mn.displayName="Presence";function Cq(e){const[t,r]=x.useState(),a=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),l=e?"mounted":"unmounted",[u,d]=_q(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=Th(a.current);i.current=u==="mounted"?f:"none"},[u]),dn(()=>{const f=a.current,h=s.current;if(h!==e){const g=i.current,j=Th(f);e?d("MOUNT"):j==="none"||f?.display==="none"?d("UNMOUNT"):d(h&&g!==j?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),dn(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,m=j=>{const b=Th(a.current).includes(CSS.escape(j.animationName));if(j.target===t&&b&&(d("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},g=j=>{j.target===t&&(i.current=Th(a.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(f=>{a.current=f?getComputedStyle(f):null,r(f)},[])}}function Th(e){return e?.animationName||"none"}function Eq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gx="rovingFocusGroup.onEntryFocus",Tq={bubbles:!1,cancelable:!0},Zd="RovingFocusGroup",[Qj,hD,Aq]=M1(Zd),[Rq,yp]=Dn(Zd,[Aq]),[Pq,Iq]=Rq(Zd),mD=x.forwardRef((e,t)=>n.jsx(Qj.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Qj.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(kq,{...e,ref:t})})}));mD.displayName=Zd;var kq=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...m}=e,g=x.useRef(null),j=Nt(t,g),w=up(i),[b,v]=ls({prop:l,defaultProp:u??null,onChange:d,caller:Zd}),[N,S]=x.useState(!1),C=cs(f),A=hD(r),_=x.useRef(!1),[T,P]=x.useState(0);return x.useEffect(()=>{const O=g.current;if(O)return O.addEventListener(gx,C),()=>O.removeEventListener(gx,C)},[C]),n.jsx(Pq,{scope:r,orientation:a,dir:w,loop:s,currentTabStopId:b,onItemFocus:x.useCallback(O=>v(O),[v]),onItemShiftTab:x.useCallback(()=>S(!0),[]),onFocusableItemAdd:x.useCallback(()=>P(O=>O+1),[]),onFocusableItemRemove:x.useCallback(()=>P(O=>O-1),[]),children:n.jsx(st.div,{tabIndex:N||T===0?-1:0,"data-orientation":a,...m,ref:j,style:{outline:"none",...e.style},onMouseDown:ze(e.onMouseDown,()=>{_.current=!0}),onFocus:ze(e.onFocus,O=>{const I=!_.current;if(O.target===O.currentTarget&&I&&!N){const B=new CustomEvent(gx,Tq);if(O.currentTarget.dispatchEvent(B),!B.defaultPrevented){const q=A().filter(M=>M.focusable),G=q.find(M=>M.active),V=q.find(M=>M.id===b),$=[G,V,...q].filter(Boolean).map(M=>M.ref.current);vD($,h)}}_.current=!1}),onBlur:ze(e.onBlur,()=>S(!1))})})}),pD="RovingFocusGroupItem",gD=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:i,children:l,...u}=e,d=zr(),f=i||d,h=Iq(pD,r),m=h.currentTabStopId===f,g=hD(r),{onFocusableItemAdd:j,onFocusableItemRemove:w,currentTabStopId:b}=h;return x.useEffect(()=>{if(a)return j(),()=>w()},[a,j,w]),n.jsx(Qj.ItemSlot,{scope:r,id:f,focusable:a,active:s,children:n.jsx(st.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...u,ref:t,onMouseDown:ze(e.onMouseDown,v=>{a?h.onItemFocus(f):v.preventDefault()}),onFocus:ze(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:ze(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){h.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const N=Mq(v,h.orientation,h.dir);if(N!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let C=g().filter(A=>A.focusable).map(A=>A.ref.current);if(N==="last")C.reverse();else if(N==="prev"||N==="next"){N==="prev"&&C.reverse();const A=C.indexOf(v.currentTarget);C=h.loop?$q(C,A+1):C.slice(A+1)}setTimeout(()=>vD(C))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:b!=null}):l})})});gD.displayName=pD;var Oq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dq(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Mq(e,t,r){const a=Dq(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Oq[a]}function vD(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function $q(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var xD=mD,yD=gD,Lq=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yl=new WeakMap,Ah=new WeakMap,Rh={},vx=0,bD=function(e){return e&&(e.host||bD(e.parentNode))},Fq=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=bD(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Uq=function(e,t,r,a){var s=Fq(t,Array.isArray(e)?e:[e]);Rh[r]||(Rh[r]=new WeakMap);var i=Rh[r],l=[],u=new Set,d=new Set(s),f=function(m){!m||u.has(m)||(u.add(m),f(m.parentNode))};s.forEach(f);var h=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(g){if(u.has(g))h(g);else try{var j=g.getAttribute(a),w=j!==null&&j!=="false",b=(yl.get(g)||0)+1,v=(i.get(g)||0)+1;yl.set(g,b),i.set(g,v),l.push(g),b===1&&w&&Ah.set(g,!0),v===1&&g.setAttribute(r,"true"),w||g.setAttribute(a,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return h(t),u.clear(),vx++,function(){l.forEach(function(m){var g=yl.get(m)-1,j=i.get(m)-1;yl.set(m,g),i.set(m,j),g||(Ah.has(m)||m.removeAttribute(a),Ah.delete(m)),j||m.removeAttribute(r)}),vx--,vx||(yl=new WeakMap,yl=new WeakMap,Ah=new WeakMap,Rh={})}},bp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=Lq(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),Uq(a,s,r,"aria-hidden")):function(){return null}},Za=function(){return Za=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Za.apply(this,arguments)};function jD(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function Bq(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var Qh="right-scroll-bar-position",Zh="width-before-scroll-bar",zq="with-scroll-bars-hidden",qq="--removed-body-scroll-bar-size";function xx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Wq(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=t,r.facade}var Vq=typeof window<"u"?x.useLayoutEffect:x.useEffect,e2=new WeakMap;function Hq(e,t){var r=Wq(null,function(a){return e.forEach(function(s){return xx(s,a)})});return Vq(function(){var a=e2.get(r);if(a){var s=new Set(a),i=new Set(e),l=r.current;s.forEach(function(u){i.has(u)||xx(u,null)}),i.forEach(function(u){s.has(u)||xx(u,l)})}e2.set(r,e)},[e]),r}function Gq(e){return e}function Kq(e,t){t===void 0&&(t=Gq);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=t(i,a);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(a=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(u){return i(u)},filter:function(){return r}}},assignMedium:function(i){a=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(i),l=r}var d=function(){var h=l;l=[],h.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(h){l.push(h),f()},filter:function(h){return l=l.filter(h),r}}}};return s}function Yq(e){e===void 0&&(e={});var t=Kq(null);return t.options=Za({async:!0,ssr:!1},e),t}var wD=function(e){var t=e.sideCar,r=jD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return x.createElement(a,Za({},r))};wD.isSideCarExport=!0;function Xq(e,t){return e.useMedium(t),wD}var ND=Yq(),yx=function(){},jp=x.forwardRef(function(e,t){var r=x.useRef(null),a=x.useState({onScrollCapture:yx,onWheelCapture:yx,onTouchMoveCapture:yx}),s=a[0],i=a[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,h=e.enabled,m=e.shards,g=e.sideCar,j=e.noRelative,w=e.noIsolation,b=e.inert,v=e.allowPinchZoom,N=e.as,S=N===void 0?"div":N,C=e.gapMode,A=jD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=g,T=Hq([r,t]),P=Za(Za({},A),s);return x.createElement(x.Fragment,null,h&&x.createElement(_,{sideCar:ND,removeScrollBar:f,shards:m,noRelative:j,noIsolation:w,inert:b,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:C}),l?x.cloneElement(x.Children.only(u),Za(Za({},P),{ref:T})):x.createElement(S,Za({},P,{className:d,ref:T}),u))});jp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jp.classNames={fullWidth:Zh,zeroRight:Qh};var Qq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zq(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qq();return t&&e.setAttribute("nonce",t),e}function Jq(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eW(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tW=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Zq())&&(Jq(t,r),eW(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rW=function(){var e=tW();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},SD=function(){var e=rW(),t=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return t},nW={left:0,top:0,right:0,gap:0},bx=function(e){return parseInt(e||"",10)||0},aW=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[bx(r),bx(a),bx(s)]},sW=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nW;var t=aW(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},iW=SD(),Ul="data-scroll-locked",oW=function(e,t,r,a){var s=e.left,i=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(zq,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(u,"px ").concat(a,`;
  }
  body[`).concat(Ul,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qh,` {
    right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Zh,` {
    margin-right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Qh," .").concat(Qh,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Zh," .").concat(Zh,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Ul,`] {
    `).concat(qq,": ").concat(u,`px;
  }
`)},t2=function(){var e=parseInt(document.body.getAttribute(Ul)||"0",10);return isFinite(e)?e:0},lW=function(){x.useEffect(function(){return document.body.setAttribute(Ul,(t2()+1).toString()),function(){var e=t2()-1;e<=0?document.body.removeAttribute(Ul):document.body.setAttribute(Ul,e.toString())}},[])},cW=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;lW();var i=x.useMemo(function(){return sW(s)},[s]);return x.createElement(iW,{styles:oW(i,!t,s,r?"":"!important")})},Zj=!1;if(typeof window<"u")try{var Ph=Object.defineProperty({},"passive",{get:function(){return Zj=!0,!0}});window.addEventListener("test",Ph,Ph),window.removeEventListener("test",Ph,Ph)}catch{Zj=!1}var bl=Zj?{passive:!1}:!1,uW=function(e){return e.tagName==="TEXTAREA"},_D=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!uW(e)&&r[t]==="visible")},dW=function(e){return _D(e,"overflowY")},fW=function(e){return _D(e,"overflowX")},r2=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=CD(e,a);if(s){var i=ED(e,a),l=i[1],u=i[2];if(l>u)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},hW=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},mW=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},CD=function(e,t){return e==="v"?dW(t):fW(t)},ED=function(e,t){return e==="v"?hW(t):mW(t)},pW=function(e,t){return e==="h"&&t==="rtl"?-1:1},gW=function(e,t,r,a,s){var i=pW(e,window.getComputedStyle(t).direction),l=i*a,u=r.target,d=t.contains(u),f=!1,h=l>0,m=0,g=0;do{if(!u)break;var j=ED(e,u),w=j[0],b=j[1],v=j[2],N=b-v-i*w;(w||N)&&CD(e,u)&&(m+=N,g+=w);var S=u.parentNode;u=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(h&&Math.abs(m)<1||!h&&Math.abs(g)<1)&&(f=!0),f},Ih=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},n2=function(e){return[e.deltaX,e.deltaY]},a2=function(e){return e&&"current"in e?e.current:e},vW=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yW=0,jl=[];function bW(e){var t=x.useRef([]),r=x.useRef([0,0]),a=x.useRef(),s=x.useState(yW++)[0],i=x.useState(SD)[0],l=x.useRef(e);x.useEffect(function(){l.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var b=Bq([e.lockRef.current],(e.shards||[]).map(a2),!0).filter(Boolean);return b.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=x.useCallback(function(b,v){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var N=Ih(b),S=r.current,C="deltaX"in b?b.deltaX:S[0]-N[0],A="deltaY"in b?b.deltaY:S[1]-N[1],_,T=b.target,P=Math.abs(C)>Math.abs(A)?"h":"v";if("touches"in b&&P==="h"&&T.type==="range")return!1;var O=r2(P,T);if(!O)return!0;if(O?_=P:(_=P==="v"?"h":"v",O=r2(P,T)),!O)return!1;if(!a.current&&"changedTouches"in b&&(C||A)&&(a.current=_),!_)return!0;var I=a.current||_;return gW(I,v,b,I==="h"?C:A)},[]),d=x.useCallback(function(b){var v=b;if(!(!jl.length||jl[jl.length-1]!==i)){var N="deltaY"in v?n2(v):Ih(v),S=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&vW(_.delta,N)})[0];if(S&&S.should){v.cancelable&&v.preventDefault();return}if(!S){var C=(l.current.shards||[]).map(a2).filter(Boolean).filter(function(_){return _.contains(v.target)}),A=C.length>0?u(v,C[0]):!l.current.noIsolation;A&&v.cancelable&&v.preventDefault()}}},[]),f=x.useCallback(function(b,v,N,S){var C={name:b,delta:v,target:N,should:S,shadowParent:jW(N)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(A){return A!==C})},1)},[]),h=x.useCallback(function(b){r.current=Ih(b),a.current=void 0},[]),m=x.useCallback(function(b){f(b.type,n2(b),b.target,u(b,e.lockRef.current))},[]),g=x.useCallback(function(b){f(b.type,Ih(b),b.target,u(b,e.lockRef.current))},[]);x.useEffect(function(){return jl.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",d,bl),document.addEventListener("touchmove",d,bl),document.addEventListener("touchstart",h,bl),function(){jl=jl.filter(function(b){return b!==i}),document.removeEventListener("wheel",d,bl),document.removeEventListener("touchmove",d,bl),document.removeEventListener("touchstart",h,bl)}},[]);var j=e.removeScrollBar,w=e.inert;return x.createElement(x.Fragment,null,w?x.createElement(i,{styles:xW(s)}):null,j?x.createElement(cW,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function jW(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wW=Xq(ND,bW);var Jd=x.forwardRef(function(e,t){return x.createElement(jp,Za({},e,{ref:t,sideCar:wW}))});Jd.classNames=jp.classNames;var Jj=["Enter"," "],NW=["ArrowDown","PageUp","Home"],TD=["ArrowUp","PageDown","End"],SW=[...NW,...TD],_W={ltr:[...Jj,"ArrowRight"],rtl:[...Jj,"ArrowLeft"]},CW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ef="Menu",[ad,EW,TW]=M1(ef),[zo,AD]=Dn(ef,[TW,zi,yp]),wp=zi(),RD=yp(),[AW,qo]=zo(ef),[RW,tf]=zo(ef),PD=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:s,onOpenChange:i,modal:l=!0}=e,u=wp(t),[d,f]=x.useState(null),h=x.useRef(!1),m=cs(i),g=up(s);return x.useEffect(()=>{const j=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",j,{capture:!0}),()=>{document.removeEventListener("keydown",j,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),n.jsx(gp,{...u,children:n.jsx(AW,{scope:t,open:r,onOpenChange:m,content:d,onContentChange:f,children:n.jsx(RW,{scope:t,onClose:x.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:g,modal:l,children:a})})})};PD.displayName=ef;var PW="MenuAnchor",H1=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,s=wp(r);return n.jsx(Qd,{...s,...a,ref:t})});H1.displayName=PW;var G1="MenuPortal",[IW,ID]=zo(G1,{forceMount:void 0}),kD=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:s}=e,i=qo(G1,t);return n.jsx(IW,{scope:t,forceMount:r,children:n.jsx(Mn,{present:r||i.open,children:n.jsx(_c,{asChild:!0,container:s,children:a})})})};kD.displayName=G1;var va="MenuContent",[kW,K1]=zo(va),OD=x.forwardRef((e,t)=>{const r=ID(va,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=qo(va,e.__scopeMenu),l=tf(va,e.__scopeMenu);return n.jsx(ad.Provider,{scope:e.__scopeMenu,children:n.jsx(Mn,{present:a||i.open,children:n.jsx(ad.Slot,{scope:e.__scopeMenu,children:l.modal?n.jsx(OW,{...s,ref:t}):n.jsx(DW,{...s,ref:t})})})})}),OW=x.forwardRef((e,t)=>{const r=qo(va,e.__scopeMenu),a=x.useRef(null),s=Nt(t,a);return x.useEffect(()=>{const i=a.current;if(i)return bp(i)},[]),n.jsx(Y1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ze(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),DW=x.forwardRef((e,t)=>{const r=qo(va,e.__scopeMenu);return n.jsx(Y1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),MW=ki("MenuContent.ScrollLock"),Y1=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:j,disableOutsideScroll:w,...b}=e,v=qo(va,r),N=tf(va,r),S=wp(r),C=RD(r),A=EW(r),[_,T]=x.useState(null),P=x.useRef(null),O=Nt(t,P,v.onContentChange),I=x.useRef(0),B=x.useRef(""),q=x.useRef(0),G=x.useRef(null),V=x.useRef("right"),Z=x.useRef(0),$=w?Jd:x.Fragment,M=w?{as:MW,allowPinchZoom:!0}:void 0,k=W=>{const H=B.current+W,z=A().filter(K=>!K.disabled),F=document.activeElement,L=z.find(K=>K.ref.current===F)?.textValue,Y=z.map(K=>K.textValue),ee=KW(Y,H,L),ce=z.find(K=>K.textValue===ee)?.ref.current;(function K(fe){B.current=fe,window.clearTimeout(I.current),fe!==""&&(I.current=window.setTimeout(()=>K(""),1e3))})(H),ce&&setTimeout(()=>ce.focus())};x.useEffect(()=>()=>window.clearTimeout(I.current),[]),dp();const D=x.useCallback(W=>V.current===G.current?.side&&XW(W,G.current?.area),[]);return n.jsx(kW,{scope:r,searchRef:B,onItemEnter:x.useCallback(W=>{D(W)&&W.preventDefault()},[D]),onItemLeave:x.useCallback(W=>{D(W)||(P.current?.focus(),T(null))},[D]),onTriggerLeave:x.useCallback(W=>{D(W)&&W.preventDefault()},[D]),pointerGraceTimerRef:q,onPointerGraceIntentChange:x.useCallback(W=>{G.current=W},[]),children:n.jsx($,{...M,children:n.jsx(Yd,{asChild:!0,trapped:s,onMountAutoFocus:ze(i,W=>{W.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:n.jsx(wc,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:j,children:n.jsx(xD,{asChild:!0,...C,dir:N.dir,orientation:"vertical",loop:a,currentTabStopId:_,onCurrentTabStopIdChange:T,onEntryFocus:ze(d,W=>{N.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(vp,{role:"menu","aria-orientation":"vertical","data-state":XD(v.open),"data-radix-menu-content":"",dir:N.dir,...S,...b,ref:O,style:{outline:"none",...b.style},onKeyDown:ze(b.onKeyDown,W=>{const z=W.target.closest("[data-radix-menu-content]")===W.currentTarget,F=W.ctrlKey||W.altKey||W.metaKey,L=W.key.length===1;z&&(W.key==="Tab"&&W.preventDefault(),!F&&L&&k(W.key));const Y=P.current;if(W.target!==Y||!SW.includes(W.key))return;W.preventDefault();const ce=A().filter(K=>!K.disabled).map(K=>K.ref.current);TD.includes(W.key)&&ce.reverse(),HW(ce)}),onBlur:ze(e.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(I.current),B.current="")}),onPointerMove:ze(e.onPointerMove,sd(W=>{const H=W.target,z=Z.current!==W.clientX;if(W.currentTarget.contains(H)&&z){const F=W.clientX>Z.current?"right":"left";V.current=F,Z.current=W.clientX}}))})})})})})})});OD.displayName=va;var $W="MenuGroup",X1=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(st.div,{role:"group",...a,ref:t})});X1.displayName=$W;var LW="MenuLabel",DD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(st.div,{...a,ref:t})});DD.displayName=LW;var im="MenuItem",s2="menu.itemSelect",Np=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...s}=e,i=x.useRef(null),l=tf(im,e.__scopeMenu),u=K1(im,e.__scopeMenu),d=Nt(t,i),f=x.useRef(!1),h=()=>{const m=i.current;if(!r&&m){const g=new CustomEvent(s2,{bubbles:!0,cancelable:!0});m.addEventListener(s2,j=>a?.(j),{once:!0}),kO(m,g),g.defaultPrevented?f.current=!1:l.onClose()}};return n.jsx(MD,{...s,ref:d,disabled:r,onClick:ze(e.onClick,h),onPointerDown:m=>{e.onPointerDown?.(m),f.current=!0},onPointerUp:ze(e.onPointerUp,m=>{f.current||m.currentTarget?.click()}),onKeyDown:ze(e.onKeyDown,m=>{const g=u.searchRef.current!=="";r||g&&m.key===" "||Jj.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Np.displayName=im;var MD=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:s,...i}=e,l=K1(im,r),u=RD(r),d=x.useRef(null),f=Nt(t,d),[h,m]=x.useState(!1),[g,j]=x.useState("");return x.useEffect(()=>{const w=d.current;w&&j((w.textContent??"").trim())},[i.children]),n.jsx(ad.ItemSlot,{scope:r,disabled:a,textValue:s??g,children:n.jsx(yD,{asChild:!0,...u,focusable:!a,children:n.jsx(st.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:f,onPointerMove:ze(e.onPointerMove,sd(w=>{a?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ze(e.onPointerLeave,sd(w=>l.onItemLeave(w))),onFocus:ze(e.onFocus,()=>m(!0)),onBlur:ze(e.onBlur,()=>m(!1))})})})}),FW="MenuCheckboxItem",$D=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...s}=e;return n.jsx(zD,{scope:e.__scopeMenu,checked:r,children:n.jsx(Np,{role:"menuitemcheckbox","aria-checked":om(r)?"mixed":r,...s,ref:t,"data-state":Z1(r),onSelect:ze(s.onSelect,()=>a?.(om(r)?!0:!r),{checkForDefaultPrevented:!1})})})});$D.displayName=FW;var LD="MenuRadioGroup",[UW,BW]=zo(LD,{value:void 0,onValueChange:()=>{}}),FD=x.forwardRef((e,t)=>{const{value:r,onValueChange:a,...s}=e,i=cs(a);return n.jsx(UW,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(X1,{...s,ref:t})})});FD.displayName=LD;var UD="MenuRadioItem",BD=x.forwardRef((e,t)=>{const{value:r,...a}=e,s=BW(UD,e.__scopeMenu),i=r===s.value;return n.jsx(zD,{scope:e.__scopeMenu,checked:i,children:n.jsx(Np,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":Z1(i),onSelect:ze(a.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});BD.displayName=UD;var Q1="MenuItemIndicator",[zD,zW]=zo(Q1,{checked:!1}),qD=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...s}=e,i=zW(Q1,r);return n.jsx(Mn,{present:a||om(i.checked)||i.checked===!0,children:n.jsx(st.span,{...s,ref:t,"data-state":Z1(i.checked)})})});qD.displayName=Q1;var qW="MenuSeparator",WD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(st.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});WD.displayName=qW;var WW="MenuArrow",VD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,s=wp(r);return n.jsx(xp,{...s,...a,ref:t})});VD.displayName=WW;var VW="MenuSub",[dpe,HD]=zo(VW),Lu="MenuSubTrigger",GD=x.forwardRef((e,t)=>{const r=qo(Lu,e.__scopeMenu),a=tf(Lu,e.__scopeMenu),s=HD(Lu,e.__scopeMenu),i=K1(Lu,e.__scopeMenu),l=x.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=i,f={__scopeMenu:e.__scopeMenu},h=x.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return x.useEffect(()=>h,[h]),x.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),d(null)}},[u,d]),n.jsx(H1,{asChild:!0,...f,children:n.jsx(MD,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":XD(r.open),...e,ref:Ls(t,s.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ze(e.onPointerMove,sd(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:ze(e.onPointerLeave,sd(m=>{h();const g=r.content?.getBoundingClientRect();if(g){const j=r.content?.dataset.side,w=j==="right",b=w?-5:5,v=g[w?"left":"right"],N=g[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+b,y:m.clientY},{x:v,y:g.top},{x:N,y:g.top},{x:N,y:g.bottom},{x:v,y:g.bottom}],side:j}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ze(e.onKeyDown,m=>{const g=i.searchRef.current!=="";e.disabled||g&&m.key===" "||_W[a.dir].includes(m.key)&&(r.onOpenChange(!0),r.content?.focus(),m.preventDefault())})})})});GD.displayName=Lu;var KD="MenuSubContent",YD=x.forwardRef((e,t)=>{const r=ID(va,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=qo(va,e.__scopeMenu),l=tf(va,e.__scopeMenu),u=HD(KD,e.__scopeMenu),d=x.useRef(null),f=Nt(t,d);return n.jsx(ad.Provider,{scope:e.__scopeMenu,children:n.jsx(Mn,{present:a||i.open,children:n.jsx(ad.Slot,{scope:e.__scopeMenu,children:n.jsx(Y1,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{l.isUsingKeyboardRef.current&&d.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ze(e.onFocusOutside,h=>{h.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ze(e.onEscapeKeyDown,h=>{l.onClose(),h.preventDefault()}),onKeyDown:ze(e.onKeyDown,h=>{const m=h.currentTarget.contains(h.target),g=CW[l.dir].includes(h.key);m&&g&&(i.onOpenChange(!1),u.trigger?.focus(),h.preventDefault())})})})})})});YD.displayName=KD;function XD(e){return e?"open":"closed"}function om(e){return e==="indeterminate"}function Z1(e){return om(e)?"indeterminate":e?"checked":"unchecked"}function HW(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function GW(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function KW(e,t,r){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let l=GW(e,Math.max(i,0));s.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function YW(e,t){const{x:r,y:a}=e;let s=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const u=t[i],d=t[l],f=u.x,h=u.y,m=d.x,g=d.y;h>a!=g>a&&r<(m-f)*(a-h)/(g-h)+f&&(s=!s)}return s}function XW(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return YW(r,t)}function sd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var QW=PD,ZW=H1,JW=kD,eV=OD,tV=X1,rV=DD,nV=Np,aV=$D,sV=FD,iV=BD,oV=qD,lV=WD,cV=VD,uV=GD,dV=YD,Sp="DropdownMenu",[fV,fpe]=Dn(Sp,[AD]),Sn=AD(),[hV,QD]=fV(Sp),ZD=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=e,d=Sn(t),f=x.useRef(null),[h,m]=ls({prop:s,defaultProp:i??!1,onChange:l,caller:Sp});return n.jsx(hV,{scope:t,triggerId:zr(),triggerRef:f,contentId:zr(),open:h,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(g=>!g),[m]),modal:u,children:n.jsx(QW,{...d,open:h,onOpenChange:m,dir:a,modal:u,children:r})})};ZD.displayName=Sp;var JD="DropdownMenuTrigger",eM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...s}=e,i=QD(JD,r),l=Sn(r);return n.jsx(ZW,{asChild:!0,...l,children:n.jsx(st.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:Ls(t,i.triggerRef),onPointerDown:ze(e.onPointerDown,u=>{!a&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:ze(e.onKeyDown,u=>{a||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});eM.displayName=JD;var mV="DropdownMenuPortal",tM=e=>{const{__scopeDropdownMenu:t,...r}=e,a=Sn(t);return n.jsx(JW,{...a,...r})};tM.displayName=mV;var rM="DropdownMenuContent",nM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=QD(rM,r),i=Sn(r),l=x.useRef(!1);return n.jsx(eV,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:t,onCloseAutoFocus:ze(e.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:ze(e.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,h=d.button===2||f;(!s.modal||h)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nM.displayName=rM;var pV="DropdownMenuGroup",gV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Sn(r);return n.jsx(tV,{...s,...a,ref:t})});gV.displayName=pV;var vV="DropdownMenuLabel",xV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Sn(r);return n.jsx(rV,{...s,...a,ref:t})});xV.displayName=vV;var yV="DropdownMenuItem",aM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Sn(r);return n.jsx(nV,{...s,...a,ref:t})});aM.displayName=yV;var bV="DropdownMenuCheckboxItem",jV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Sn(r);return n.jsx(aV,{...s,...a,ref:t})});jV.displayName=bV;var wV="DropdownMenuRadioGroup",NV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Sn(r);return n.jsx(sV,{...s,...a,ref:t})});NV.displayName=wV;var SV="DropdownMenuRadioItem",_V=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Sn(r);return n.jsx(iV,{...s,...a,ref:t})});_V.displayName=SV;var CV="DropdownMenuItemIndicator",EV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Sn(r);return n.jsx(oV,{...s,...a,ref:t})});EV.displayName=CV;var TV="DropdownMenuSeparator",AV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Sn(r);return n.jsx(lV,{...s,...a,ref:t})});AV.displayName=TV;var RV="DropdownMenuArrow",PV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Sn(r);return n.jsx(cV,{...s,...a,ref:t})});PV.displayName=RV;var IV="DropdownMenuSubTrigger",kV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Sn(r);return n.jsx(uV,{...s,...a,ref:t})});kV.displayName=IV;var OV="DropdownMenuSubContent",DV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Sn(r);return n.jsx(dV,{...s,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DV.displayName=OV;var MV=ZD,$V=eM,LV=tM,FV=nM,UV=aM;function ew({...e}){return n.jsx(MV,{"data-slot":"dropdown-menu",...e})}function tw({...e}){return n.jsx($V,{"data-slot":"dropdown-menu-trigger",...e})}function rw({className:e,sideOffset:t=4,...r}){return n.jsx(LV,{children:n.jsx(FV,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function bo({className:e,inset:t,variant:r="default",...a}){return n.jsx(UV,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:Ve("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}const jx={executor:"Исполнитель",registrar:"Регистратор",sub_registrar:"Суб-Регистратор",distributor:"Распорядитель",treasurer:"Казначей",admin:"Администратор"},i2={executor:"bg-blue-100 text-blue-800",registrar:"bg-green-100 text-green-800",sub_registrar:"bg-emerald-100 text-emerald-800",distributor:"bg-purple-100 text-purple-800",treasurer:"bg-orange-100 text-orange-800",admin:"bg-red-100 text-red-800"};function BV({currentRole:e,onRoleChange:t,userName:r,onLogout:a}){const[s]=x.useState(3);return n.jsx("header",{className:"border-b bg-white px-4 py-3 md:px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"text-xl font-medium",children:"ГрейнПей"}),n.jsx(je,{className:`${i2[e]} border-0`,children:jx[e]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(ew,{children:[n.jsx(tw,{asChild:!0,children:n.jsxs(X,{variant:"outline",size:"sm",className:"gap-2",children:["Переключить роль",n.jsx(Qa,{className:"h-4 w-4"})]})}),n.jsx(rw,{align:"end",children:Object.keys(jx).map(i=>n.jsx(bo,{onClick:()=>t(i),className:e===i?"bg-accent":"",children:n.jsx(je,{className:`${i2[i]} border-0 mr-2`,variant:"secondary",children:jx[i]})},i))})]}),n.jsxs(X,{variant:"ghost",size:"sm",className:"relative",children:[n.jsx($O,{className:"h-4 w-4"}),s>0&&n.jsx(je,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-red-500 text-white",children:s})]}),n.jsxs(ew,{children:[n.jsx(tw,{asChild:!0,children:n.jsxs(X,{variant:"ghost",size:"sm",className:"gap-2",children:[n.jsx(Ro,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden md:inline",children:r}),n.jsx(Qa,{className:"h-4 w-4"})]})}),n.jsxs(rw,{align:"end",children:[n.jsxs(bo,{children:[n.jsx(Kd,{className:"h-4 w-4 mr-2"}),"Настройки"]}),n.jsx(bo,{onClick:a,children:"Выйти"})]})]})]})]})})}function zV(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const qV=e=>{switch(e){case"success":return HV;case"info":return KV;case"warning":return GV;case"error":return YV;default:return null}},WV=Array(12).fill(0),VV=({visible:e,className:t})=>Q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Q.createElement("div",{className:"sonner-spinner"},WV.map((r,a)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),HV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),YV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),QV=()=>{const[e,t]=Q.useState(document.hidden);return Q.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let nw=1;class ZV{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:a,...s}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:nw++,l=this.toasts.find(d=>d.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:a}),{...d,...t,id:i,dismissible:u,title:a}):d):this.addToast({title:a,...s,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(a=>a({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let a;r.loading!==void 0&&(a=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=a!==void 0,l;const u=s.then(async f=>{if(l=["resolve",f],Q.isValidElement(f))i=!1,this.create({id:a,type:"default",message:f});else if(e7(f)&&!f.ok){i=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,w=typeof m=="object"&&!Q.isValidElement(m)?m:{message:m};this.create({id:a,type:"error",description:g,...w})}else if(f instanceof Error){i=!1;const m=typeof r.error=="function"?await r.error(f):r.error,g=typeof r.description=="function"?await r.description(f):r.description,w=typeof m=="object"&&!Q.isValidElement(m)?m:{message:m};this.create({id:a,type:"error",description:g,...w})}else if(r.success!==void 0){i=!1;const m=typeof r.success=="function"?await r.success(f):r.success,g=typeof r.description=="function"?await r.description(f):r.description,w=typeof m=="object"&&!Q.isValidElement(m)?m:{message:m};this.create({id:a,type:"success",description:g,...w})}}).catch(async f=>{if(l=["reject",f],r.error!==void 0){i=!1;const h=typeof r.error=="function"?await r.error(f):r.error,m=typeof r.description=="function"?await r.description(f):r.description,j=typeof h=="object"&&!Q.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:m,...j})}}).finally(()=>{i&&(this.dismiss(a),a=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,h)=>u.then(()=>l[0]==="reject"?h(l[1]):f(l[1])).catch(h));return typeof a!="string"&&typeof a!="number"?{unwrap:d}:Object.assign(a,{unwrap:d})},this.custom=(t,r)=>{const a=r?.id||nw++;return this.create({jsx:t(a),id:a,...r}),a},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const kn=new ZV,JV=(e,t)=>{const r=t?.id||nw++;return kn.addToast({title:e,...t,id:r}),r},e7=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",t7=JV,r7=()=>kn.toasts,n7=()=>kn.getActiveToasts(),be=Object.assign(t7,{success:kn.success,info:kn.info,warning:kn.warning,error:kn.error,custom:kn.custom,message:kn.message,promise:kn.promise,dismiss:kn.dismiss,loading:kn.loading},{getHistory:r7,getToasts:n7});zV("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function kh(e){return e.label!==void 0}const a7=3,s7="24px",i7="16px",o2=4e3,o7=356,l7=14,c7=45,u7=200;function Ka(...e){return e.filter(Boolean).join(" ")}function d7(e){const[t,r]=e.split("-"),a=[];return t&&a.push(t),r&&a.push(r),a}const f7=e=>{var t,r,a,s,i,l,u,d,f;const{invert:h,toast:m,unstyled:g,interacting:j,setHeights:w,visibleToasts:b,heights:v,index:N,toasts:S,expanded:C,removeToast:A,defaultRichColors:_,closeButton:T,style:P,cancelButtonStyle:O,actionButtonStyle:I,className:B="",descriptionClassName:q="",duration:G,position:V,gap:Z,expandByDefault:$,classNames:M,icons:k,closeButtonAriaLabel:D="Close toast"}=e,[W,H]=Q.useState(null),[z,F]=Q.useState(null),[L,Y]=Q.useState(!1),[ee,ce]=Q.useState(!1),[K,fe]=Q.useState(!1),[le,Ee]=Q.useState(!1),[De,re]=Q.useState(!1),[$e,oe]=Q.useState(0),[Ce,Ue]=Q.useState(0),ot=Q.useRef(m.duration||G||o2),bt=Q.useRef(null),te=Q.useRef(null),se=N===0,Fe=N+1<=b,at=m.type,Lt=m.dismissible!==!1,Zr=m.className||"",Jr=m.descriptionClassName||"",ge=Q.useMemo(()=>v.findIndex(vt=>vt.toastId===m.id)||0,[v,m.id]),it=Q.useMemo(()=>{var vt;return(vt=m.closeButton)!=null?vt:T},[m.closeButton,T]),tr=Q.useMemo(()=>m.duration||G||o2,[m.duration,G]),ta=Q.useRef(0),_n=Q.useRef(0),za=Q.useRef(0),ra=Q.useRef(null),[Yo,de]=V.split("-"),Be=Q.useMemo(()=>v.reduce((vt,cr,br)=>br>=ge?vt:vt+cr.height,0),[v,ge]),hr=QV(),ps=m.invert||h,Zi=at==="loading";_n.current=Q.useMemo(()=>ge*Z+Be,[ge,Be]),Q.useEffect(()=>{ot.current=tr},[tr]),Q.useEffect(()=>{Y(!0)},[]),Q.useEffect(()=>{const vt=te.current;if(vt){const cr=vt.getBoundingClientRect().height;return Ue(cr),w(br=>[{toastId:m.id,height:cr,position:m.position},...br]),()=>w(br=>br.filter(en=>en.toastId!==m.id))}},[w,m.id]),Q.useLayoutEffect(()=>{if(!L)return;const vt=te.current,cr=vt.style.height;vt.style.height="auto";const br=vt.getBoundingClientRect().height;vt.style.height=cr,Ue(br),w(en=>en.find(mr=>mr.toastId===m.id)?en.map(mr=>mr.toastId===m.id?{...mr,height:br}:mr):[{toastId:m.id,height:br,position:m.position},...en])},[L,m.title,m.description,w,m.id,m.jsx,m.action,m.cancel]);const na=Q.useCallback(()=>{ce(!0),oe(_n.current),w(vt=>vt.filter(cr=>cr.toastId!==m.id)),setTimeout(()=>{A(m)},u7)},[m,A,w,_n]);Q.useEffect(()=>{if(m.promise&&at==="loading"||m.duration===1/0||m.type==="loading")return;let vt;return C||j||hr?(()=>{if(za.current<ta.current){const en=new Date().getTime()-ta.current;ot.current=ot.current-en}za.current=new Date().getTime()})():(()=>{ot.current!==1/0&&(ta.current=new Date().getTime(),vt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),na()},ot.current))})(),()=>clearTimeout(vt)},[C,j,m,at,hr,na]),Q.useEffect(()=>{m.delete&&(na(),m.onDismiss==null||m.onDismiss.call(m,m))},[na,m.delete]);function $c(){var vt;if(k?.loading){var cr;return Q.createElement("div",{className:Ka(M?.loader,m==null||(cr=m.classNames)==null?void 0:cr.loader,"sonner-loader"),"data-visible":at==="loading"},k.loading)}return Q.createElement(VV,{className:Ka(M?.loader,m==null||(vt=m.classNames)==null?void 0:vt.loader),visible:at==="loading"})}const Ys=m.icon||k?.[at]||qV(at);var gs,Lc;return Q.createElement("li",{tabIndex:0,ref:te,className:Ka(B,Zr,M?.toast,m==null||(t=m.classNames)==null?void 0:t.toast,M?.default,M?.[at],m==null||(r=m.classNames)==null?void 0:r[at]),"data-sonner-toast":"","data-rich-colors":(gs=m.richColors)!=null?gs:_,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":L,"data-promise":!!m.promise,"data-swiped":De,"data-removed":ee,"data-visible":Fe,"data-y-position":Yo,"data-x-position":de,"data-index":N,"data-front":se,"data-swiping":K,"data-dismissible":Lt,"data-type":at,"data-invert":ps,"data-swipe-out":le,"data-swipe-direction":z,"data-expanded":!!(C||$&&L),"data-testid":m.testId,style:{"--index":N,"--toasts-before":N,"--z-index":S.length-N,"--offset":`${ee?$e:_n.current}px`,"--initial-height":$?"auto":`${Ce}px`,...P,...m.style},onDragEnd:()=>{fe(!1),H(null),ra.current=null},onPointerDown:vt=>{vt.button!==2&&(Zi||!Lt||(bt.current=new Date,oe(_n.current),vt.target.setPointerCapture(vt.pointerId),vt.target.tagName!=="BUTTON"&&(fe(!0),ra.current={x:vt.clientX,y:vt.clientY})))},onPointerUp:()=>{var vt,cr,br;if(le||!Lt)return;ra.current=null;const en=Number(((vt=te.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xs=Number(((cr=te.current)==null?void 0:cr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mr=new Date().getTime()-((br=bt.current)==null?void 0:br.getTime()),Rr=W==="x"?en:Xs,Qs=Math.abs(Rr)/mr;if(Math.abs(Rr)>=c7||Qs>.11){oe(_n.current),m.onDismiss==null||m.onDismiss.call(m,m),F(W==="x"?en>0?"right":"left":Xs>0?"down":"up"),na(),Ee(!0);return}else{var Wr,Ln;(Wr=te.current)==null||Wr.style.setProperty("--swipe-amount-x","0px"),(Ln=te.current)==null||Ln.style.setProperty("--swipe-amount-y","0px")}re(!1),fe(!1),H(null)},onPointerMove:vt=>{var cr,br,en;if(!ra.current||!Lt||((cr=window.getSelection())==null?void 0:cr.toString().length)>0)return;const mr=vt.clientY-ra.current.y,Rr=vt.clientX-ra.current.x;var Qs;const Wr=(Qs=e.swipeDirections)!=null?Qs:d7(V);!W&&(Math.abs(Rr)>1||Math.abs(mr)>1)&&H(Math.abs(Rr)>Math.abs(mr)?"x":"y");let Ln={x:0,y:0};const Zs=aa=>1/(1.5+Math.abs(aa)/20);if(W==="y"){if(Wr.includes("top")||Wr.includes("bottom"))if(Wr.includes("top")&&mr<0||Wr.includes("bottom")&&mr>0)Ln.y=mr;else{const aa=mr*Zs(mr);Ln.y=Math.abs(aa)<Math.abs(mr)?aa:mr}}else if(W==="x"&&(Wr.includes("left")||Wr.includes("right")))if(Wr.includes("left")&&Rr<0||Wr.includes("right")&&Rr>0)Ln.x=Rr;else{const aa=Rr*Zs(Rr);Ln.x=Math.abs(aa)<Math.abs(Rr)?aa:Rr}(Math.abs(Ln.x)>0||Math.abs(Ln.y)>0)&&re(!0),(br=te.current)==null||br.style.setProperty("--swipe-amount-x",`${Ln.x}px`),(en=te.current)==null||en.style.setProperty("--swipe-amount-y",`${Ln.y}px`)}},it&&!m.jsx&&at!=="loading"?Q.createElement("button",{"aria-label":D,"data-disabled":Zi,"data-close-button":!0,onClick:Zi||!Lt?()=>{}:()=>{na(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Ka(M?.closeButton,m==null||(a=m.classNames)==null?void 0:a.closeButton)},(Lc=k?.close)!=null?Lc:XV):null,(at||m.icon||m.promise)&&m.icon!==null&&(k?.[at]!==null||m.icon)?Q.createElement("div",{"data-icon":"",className:Ka(M?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||$c():null,m.type!=="loading"?Ys:null):null,Q.createElement("div",{"data-content":"",className:Ka(M?.content,m==null||(i=m.classNames)==null?void 0:i.content)},Q.createElement("div",{"data-title":"",className:Ka(M?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Q.createElement("div",{"data-description":"",className:Ka(q,Jr,M?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),Q.isValidElement(m.cancel)?m.cancel:m.cancel&&kh(m.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||O,onClick:vt=>{kh(m.cancel)&&Lt&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,vt),na())},className:Ka(M?.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,Q.isValidElement(m.action)?m.action:m.action&&kh(m.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:vt=>{kh(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,vt),!vt.defaultPrevented&&na())},className:Ka(M?.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function l2(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function h7(e,t){const r={};return[e,t].forEach((a,s)=>{const i=s===1,l=i?"--mobile-offset":"--offset",u=i?i7:s7;function d(f){["top","right","bottom","left"].forEach(h=>{r[`${l}-${h}`]=typeof f=="number"?`${f}px`:f})}typeof a=="number"||typeof a=="string"?d(a):typeof a=="object"?["top","right","bottom","left"].forEach(f=>{a[f]===void 0?r[`${l}-${f}`]=u:r[`${l}-${f}`]=typeof a[f]=="number"?`${a[f]}px`:a[f]}):d(u)}),r}const m7=Q.forwardRef(function(t,r){const{id:a,invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:d,className:f,offset:h,mobileOffset:m,theme:g="light",richColors:j,duration:w,style:b,visibleToasts:v=a7,toastOptions:N,dir:S=l2(),gap:C=l7,icons:A,containerAriaLabel:_="Notifications"}=t,[T,P]=Q.useState([]),O=Q.useMemo(()=>a?T.filter(L=>L.toasterId===a):T.filter(L=>!L.toasterId),[T,a]),I=Q.useMemo(()=>Array.from(new Set([i].concat(O.filter(L=>L.position).map(L=>L.position)))),[O,i]),[B,q]=Q.useState([]),[G,V]=Q.useState(!1),[Z,$]=Q.useState(!1),[M,k]=Q.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=Q.useRef(null),W=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=Q.useRef(null),z=Q.useRef(!1),F=Q.useCallback(L=>{P(Y=>{var ee;return(ee=Y.find(ce=>ce.id===L.id))!=null&&ee.delete||kn.dismiss(L.id),Y.filter(({id:ce})=>ce!==L.id)})},[]);return Q.useEffect(()=>kn.subscribe(L=>{if(L.dismiss){requestAnimationFrame(()=>{P(Y=>Y.map(ee=>ee.id===L.id?{...ee,delete:!0}:ee))});return}setTimeout(()=>{IO.flushSync(()=>{P(Y=>{const ee=Y.findIndex(ce=>ce.id===L.id);return ee!==-1?[...Y.slice(0,ee),{...Y[ee],...L},...Y.slice(ee+1)]:[L,...Y]})})})}),[T]),Q.useEffect(()=>{if(g!=="system"){k(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),typeof window>"u")return;const L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:Y})=>{k(Y?"dark":"light")})}catch{L.addListener(({matches:ee})=>{try{k(ee?"dark":"light")}catch(ce){console.error(ce)}})}},[g]),Q.useEffect(()=>{T.length<=1&&V(!1)},[T]),Q.useEffect(()=>{const L=Y=>{var ee;if(l.every(fe=>Y[fe]||Y.code===fe)){var K;V(!0),(K=D.current)==null||K.focus()}Y.code==="Escape"&&(document.activeElement===D.current||(ee=D.current)!=null&&ee.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[l]),Q.useEffect(()=>{if(D.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,z.current=!1)}},[D.current]),Q.createElement("section",{ref:r,"aria-label":`${_} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((L,Y)=>{var ee;const[ce,K]=L.split("-");return O.length?Q.createElement("ol",{key:L,dir:S==="auto"?l2():S,tabIndex:-1,ref:D,className:f,"data-sonner-toaster":!0,"data-sonner-theme":M,"data-y-position":ce,"data-x-position":K,style:{"--front-toast-height":`${((ee=B[0])==null?void 0:ee.height)||0}px`,"--width":`${o7}px`,"--gap":`${C}px`,...b,...h7(h,m)},onBlur:fe=>{z.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(z.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||z.current||(z.current=!0,H.current=fe.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{Z||V(!1)},onDragEnd:()=>V(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},O.filter(fe=>!fe.position&&Y===0||fe.position===L).map((fe,le)=>{var Ee,De;return Q.createElement(f7,{key:fe.id,icons:A,index:le,toast:fe,defaultRichColors:j,duration:(Ee=N?.duration)!=null?Ee:w,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:s,visibleToasts:v,closeButton:(De=N?.closeButton)!=null?De:d,interacting:Z,position:L,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:F,toasts:O.filter(re=>re.position==fe.position),heights:B.filter(re=>re.position==fe.position),setHeights:q,expandByDefault:u,gap:C,expanded:G,swipeDirections:t.swipeDirections})})):null}))}),Ti={DRAFT:"draft",SUBMITTED:"submitted",REGISTERED:"classified",APPROVED:"approved",APPROVED_ON_BEHALF:"approved-on-behalf",TO_PAY:"to-pay",IN_REGISTRY:"in-register",APPROVED_FOR_PAYMENT:"approved-for-payment",PAID_FULL:"paid-full",PAID_PARTIAL:"paid-partial",REJECTED:"rejected",DECLINED:"declined",RETURNED:"returned",CANCELLED:"cancelled"},sM=e=>Ti[e]||e.toLowerCase(),wx=e=>({draft:"Черновик",submitted:"На рассмотрении",classified:"Классифицировано",approved:"Одобрено","approved-on-behalf":"Одобрено от имени","to-pay":"К оплате","in-register":"В реестре","approved-for-payment":"Одобрено к оплате","paid-full":"Оплачено полностью","paid-partial":"Оплачено частично",rejected:"Отклонено",declined:"Отклонено",returned:"Возвращено",cancelled:"Отменено"})[e]||"Неизвестно",Ya=e=>{let t=e.vat_rate;if(!t&&e.lines&&e.lines.length>0){const r=e.lines[0];r.vat_rate_id&&(t=r.vat_rate_id)}return{id:e.id,requestNumber:e.number,createdAt:e.created_at||"",updatedAt:e.updated_at,dueDate:e.due_date,counterpartyId:e.counterparty_id,counterpartyCategory:e.counterparty_category,payingCompany:e.paying_company,amount:e.amount_total,currency:e.currency_code,vatRate:t,docNumber:e.doc_number,docDate:e.doc_date,docType:e.doc_type,docFileUrl:e.files?.[0]?.url,fileName:e.files?.[0]?.name,files:e.files||[],description:e.title,expenseCategory:e.expense_article_text,productService:e.product_service,volume:e.volume,priceRate:e.price_rate,period:e.period,status:sM(e.status),history:[],createdBy:e.created_by_user_id,expenseSplits:[],paymentAllocations:[],paymentExecution:void 0,attachments:e.files||[]}},p7=e=>({id:e.id,requestNumber:e.number,createdAt:e.created_at||"",updatedAt:e.updated_at,dueDate:e.due_date,counterpartyId:e.counterparty_id,counterpartyCategory:e.counterparty_category,payingCompany:e.paying_company,amount:e.amount_total,currency:e.currency_code,vatRate:e.vat_rate,docNumber:e.doc_number,docDate:e.doc_date,docType:e.doc_type,docFileUrl:e.files?.[0]?.url,fileName:e.files?.[0]?.name,files:e.files||[],description:e.title,expenseCategory:e.expense_article_text,productService:e.product_service,volume:e.volume,priceRate:e.price_rate,period:e.period,status:sM(e.status),history:[],createdBy:e.created_by_user_id,expenseSplits:[],paymentAllocations:[],paymentExecution:void 0,attachments:e.files||[]}),aw=e=>({totalRequests:e.total_requests,draftCount:e.draft,submittedCount:e.submitted,classifiedCount:e.classified,approvedCount:e.approved,inRegistryCount:e.in_registry,paidFullCount:e.paid_full,paidPartialCount:e.paid_partial,rejectedCount:e.rejected,totalAmount:e.total_amount,totalVat:e.total_vat}),g7=e=>({id:e.id,requestId:e.request_id,eventType:e.event_type,createdAt:e.created_at,createdByUserId:e.created_by_user_id,comment:e.comment,data:e.data}),v7=e=>e.map(p7);class dt{static async getAll(t){const r=new URLSearchParams;t?.status&&r.append("status",t.status),t?.role&&r.append("role",t.role),t?.dateFrom&&r.append("dateFrom",t.dateFrom),t?.dateTo&&r.append("dateTo",t.dateTo),t?.responsibleRegistrarId&&r.append("responsible_registrar_id",t.responsibleRegistrarId);const a=`${Ze.endpoints.getPaymentRequests}?${r}`,s=await Oe.get(a);try{return v7(s).filter(l=>!l.deleted)}catch(i){return console.error("Error normalizing data:",i),console.error("Backend response:",s),[]}}static async getById(t){const r=Ze.endpoints.getPaymentRequest.replace(":id",t),a=await Oe.get(r),s=Ya(a);return s.deleted?null:s}static async create(t){if(t.status==="draft"&&(!t.counterpartyId||!t.dueDate))throw new Error("Cannot create draft without required fields (counterpartyId and dueDate)");const r=await this.mapFrontendToBackend(t),a=await Oe.post(Ze.endpoints.createPaymentRequest,r);return Ya(a)}static async update(t,r){const a=await this.mapFrontendToBackend(r),s=Ze.endpoints.updatePaymentRequest.replace(":id",t),i=await Oe.put(s,a);return Ya(i)}static async submit(t,r){const a=Ze.endpoints.submitRequest.replace(":id",t),s=await Oe.post(a,{comment:r});return Ya(s)}static async classify(t,r,a){const s=Ze.endpoints.classifyRequest.replace(":id",t),i=(r||[]).map(u=>({article_id:u.expenseItemId,amount:u.amount,comment:u.comment||null})),l=await Oe.post(s,{comment:a||null,expense_splits:i});return Ya(l)}static async approve(t,r,a,s){const i=Ze.endpoints.approveRequest.replace(":id",t),l=await Oe.post(i,{comment:s});return Ya(l)}static async updateStatus(t,r,a){const s=Ze.endpoints.updatePaymentRequest.replace(":id",t);return Oe.patch(s,{status:r,executionData:a})}static async addToRegistry(t,r){const a=Ze.endpoints.addToRegistry.replace(":id",t),s=await Oe.post(a,{comment:r});return Ya(s)}static async returnRequest(t,r){const a=Ze.endpoints.rejectRequest.replace(":id",t),s=await Oe.post(a,{comment:r});return Ya(s)}static async sendToDistributor(t,r,a){const s=Ze.endpoints.sendToDistributor.replace(":id",t),i=(r||[]).map(u=>({article_id:u.expenseItemId,amount:u.amount,comment:u.comment||null})),l=await Oe.post(s,{comment:a||null,expense_splits:i});return Ya(l)}static async distributorAction(t,r,a,s,i){const l=Ze.endpoints.distributorAction.replace(":id",t),u=await Oe.post(l,{action:r,comment:a,allocations:s||[],priority:i});return Ya(u)}static getStatusActionLabel(t){switch(t){case"in-register":return"Включена в реестр на оплату";case"approved-for-payment":return"Утверждена к оплате";case"paid-full":return"Оплачена полностью";case"paid-partial":return"Оплачена частично";case"declined":return"Отклонена";case"cancelled":return"Аннулирована";default:return"Статус обновлен"}}static async getExecutorPositionId(){try{return(await Oe.get("/api/v1/positions")).find(a=>a.title==="Executor"||a.title==="Исполнитель")?.id||"c7b61f23-6c57-4649-bb9e-0d9deef0c173"}catch(t){return console.warn("Failed to fetch positions, using fallback ID. This is expected if positions endpoint requires authentication:",t),"c7b61f23-6c57-4649-bb9e-0d9deef0c173"}}static async getDefaultVatRateId(){try{return(await Oe.get("/api/v1/dictionaries/vat-rates")).find(a=>a.rate===0)?.id||"55689349-dfc3-42ce-8f86-e473e2e00477"}catch(t){return console.warn("Failed to fetch VAT rates, using fallback ID:",t),"55689349-dfc3-42ce-8f86-e473e2e00477"}}static async mapFrontendToBackend(t){const r=Number(t.amount)||0;if(t.status!=="draft"&&r<=0)throw new Error("Amount must be greater than 0");const a=[t.expenseCategory&&`Статья расходов: ${t.expenseCategory}`,t.productService&&`Товар/услуга: ${t.productService}`,t.volume&&`Объем: ${t.volume}`,t.priceRate&&`Цена/тариф: ${t.priceRate}`,t.period&&`Период: ${t.period}`].filter(Boolean).join(", "),[s,i]=await Promise.all([this.getExecutorPositionId(),this.getDefaultVatRateId()]),l=[];if((t.amount!==void 0&&t.amount!==null&&r>0||t.status==="draft")&&l.push({executor_position_id:s,quantity:1,amount_net:r||0,vat_rate_id:i,currency_code:t.currency||"KZT",note:a||"Черновик заявки"}),t.status!=="draft"){if(!t.counterpartyId)throw new Error("Counterparty ID is required");if(!t.currency)throw new Error("Currency is required");if(!t.dueDate)throw new Error("Due date is required")}const u={title:a||"Черновик заявки",currency_code:t.currency||"KZT",files:t.files||[],lines:l,counterparty_id:t.counterpartyId,due_date:t.dueDate,amount_total:r,vat_total:0};return t.requestNumber&&(u.number=t.requestNumber),t.expenseCategory&&(u.expense_article_text=t.expenseCategory),t.docNumber&&(u.doc_number=t.docNumber),t.docDate&&(u.doc_date=t.docDate),t.docType&&(u.doc_type=t.docType),t.payingCompany&&(u.paying_company=t.payingCompany),t.counterpartyCategory&&(u.counterparty_category=t.counterpartyCategory),t.vatRate&&(u.vat_rate=t.vatRate),t.productService&&(u.product_service=t.productService),t.volume&&(u.volume=t.volume),t.priceRate&&(u.price_rate=t.priceRate),t.period&&(u.period=t.period),u}static async getStatistics(t,r){const a=new URLSearchParams;t&&a.append("role",t),r&&a.append("user_id",r);const s=`${Ze.endpoints.getRequestStatistics}?${a}`,i=await Oe.get(s);return aw(i)}static async getDashboardMetrics(t,r){const a=new URLSearchParams;a.append("role",t),r&&a.append("user_id",r);const s=`${Ze.endpoints.getDashboardMetrics}?${a}`,i=await Oe.get(s);return aw(i)}static async getRequestEvents(t){const r=Ze.endpoints.getRequestEvents.replace(":id",t);return Oe.get(r)}}class Il{static async getCounterparties(){return Oe.get(Ze.endpoints.getCounterparties)}static async getContracts(){return Oe.get(Ze.endpoints.getCounterparties)}static async getExpenseItems(){return Oe.get(Ze.endpoints.getExpenseArticles)}static async getPriorities(){return Oe.get(Ze.endpoints.getPriorities)}static async getNormatives(){return Oe.get(Ze.endpoints.getCounterparties)}static async getCurrencies(){return Oe.get(Ze.endpoints.getCurrencies)}static async getVatRates(){return Oe.get(Ze.endpoints.getVatRates)}}class x7{static async getAll(){return Oe.get(Ze.endpoints.getPaymentRegistry)}static async create(t){return Oe.post(Ze.endpoints.createRegistryEntry,t)}static async exportExcel(t){const r=Ze.endpoints.exportRegisterExcel.replace(":id",t);return Oe.download(r)}static async exportPDF(t){const r=Ze.endpoints.exportRegisterPdf.replace(":id",t);return Oe.download(r)}static async downloadDocuments(t){const r=Ze.endpoints.downloadDocuments.replace(":id",t);return Oe.download(r)}static async getStatistics(){return Oe.get(Ze.endpoints.getRegistryStatistics)}static async getEntries(){return Oe.get(Ze.endpoints.getPaymentRegistry)}static async createEntry(t){return Oe.post(Ze.endpoints.createRegistryEntry,t)}static async updateEntry(t,r){const a=Ze.endpoints.updateRegistryEntry.replace(":id",t);return Oe.put(a,r)}static async deleteEntry(t){const r=Ze.endpoints.deleteRegistryEntry.replace(":id",t);return Oe.delete(r)}}class Al{static async getBindings(t){const r=new URLSearchParams;t?.expenseItemId&&r.append("expenseItemId",t.expenseItemId),t?.active!==void 0&&r.append("active",t.active.toString()),t?.date&&r.append("date",t.date);const a=`${Ze.endpoints.getDistributorBindings}?${r}`;return Oe.get(a)}static async createBinding(t){return Oe.post(Ze.endpoints.createDistributorBinding,t)}static async updateBinding(t,r){const a=Ze.endpoints.updateDistributorBinding.replace(":id",t);return Oe.put(a,r)}static async deleteBinding(t){const r=Ze.endpoints.deleteDistributorBinding.replace(":id",t);return Oe.delete(r)}static async getContractsByExpenseItem(t,r,a=!0){const s=new URLSearchParams({counterpartyId:t,expenseItemId:r,active:a.toString()}),i=`${Ze.endpoints.getCounterparties}?${s}`;return Oe.get(i)}static async getRequestsWithChiefAssignment(t,r=!1){const a=await dt.getAll({role:t,status:"classified"}),s=await this.getBindings({active:!0,date:new Date().toISOString().split("T")[0]});return a.map(i=>{const l=s.find(u=>i.expenseSplits.some(d=>d.expenseItemId===u.expenseItemId));return{...i,isAssignedToChief:!!l,chiefDistributorName:l?"Иванов И.И.":void 0,assignmentReason:l?"Привязка к статье расходов":void 0}})}}class sw{static async getContractStatus(t){return await Oe.get(`/api/v1/distribution/contract-status/${t}`)}static async getSubRegistrars(){return await Oe.get("/api/v1/distribution/sub-registrars")}static async classifyRequest(t){const r={request_id:t.requestId,responsible_registrar_id:t.responsibleRegistrarId,expense_splits:t.expenseSplits.map(s=>({expense_item_id:s.expenseItemId,amount:s.amount,comment:s.comment,contract_id:s.contractId,priority:s.priority})),comment:t.comment},a=await fetch(`${API_BASE_URL}/distribution/classify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){const s=await a.json();throw new Error(`Failed to classify request: ${s.detail||a.statusText}`)}return a.json()}static async returnRequest(t){const r={request_id:t.requestId,comment:t.comment},a=await fetch(`${API_BASE_URL}/distribution/return`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){const s=await a.json();throw new Error(`Failed to return request: ${s.detail||a.statusText}`)}return a.json()}static async getExpenseSplits(t){const r=await fetch(`${API_BASE_URL}/distribution/expense-splits/${t}`);if(!r.ok)throw new Error(`Failed to get expense splits: ${r.statusText}`);return r.json()}static async getPendingRequests(t=0,r=100){const a=await fetch(`${API_BASE_URL}/distribution/pending-requests?skip=${t}&limit=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Failed to get pending requests: ${a.statusText}`);return a.json()}static async sendRequestsParallel(t){const r={request_id:t.requestId,sub_registrar_id:t.subRegistrarId,distributor_id:t.distributorId,expense_splits:t.expenseSplits.map(a=>({expense_item_id:a.expenseItemId,amount:a.amount,comment:a.comment,contract_id:a.contractId,priority:a.priority})),comment:t.comment};return t.originalRequestId&&(r.original_request_id=t.originalRequestId),await Oe.post("/api/v1/distribution/send-requests",r)}static async splitRequestByArticles(t){const r=await fetch(`${API_BASE_URL}/distribution/split-request`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t.requestId,sub_registrar_id:t.subRegistrarId,distributor_id:t.distributorId,expense_splits:t.expenseSplits.map(a=>({expense_item_id:a.expenseItemId,amount:a.amount,comment:a.comment,contract_id:a.contractId,priority:a.priority})),comment:t.comment})});if(!r.ok)throw new Error(`Failed to split request: ${r.statusText}`);return r.json()}}const ju="http://localhost:8000/api/v1";class Fu{static async getAssignments(t=0,r=100){const a=await fetch(`${ju}/sub-registrar/assignments?skip=${t}&limit=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Failed to get assignments: ${a.statusText}`);return a.json()}static async getReport(t){const r=await fetch(`${ju}/sub-registrar/reports/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get report: ${r.statusText}`);return r.json()}static async saveDraftReport(t){const r=await fetch(`${ju}/sub-registrar/save-draft`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t.requestId,document_status:t.documentStatus,report_data:t.reportData})});if(!r.ok)throw new Error(`Failed to save draft report: ${r.statusText}`);return r.json()}static async publishReport(t){const r=await fetch(`${ju}/sub-registrar/publish-report`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t})});if(!r.ok)throw new Error(`Failed to publish report: ${r.statusText}`);return r.json()}static async saveClosingDocs(t,r){const a=await fetch(`${ju}/sub-registrar/closing-docs/${t}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw new Error(`Failed to save closing document: ${a.statusText}`)}}const Oh="http://localhost:8000/api/v1";class Nx{static async getDistributorRequests(t=0,r=100){const a=await fetch(`${Oh}/distributor/requests?skip=${t}&limit=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Failed to get distributor requests: ${a.statusText}`);return a.json()}static async getDistributorRequest(t){const r=await fetch(`${Oh}/distributor/requests/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get distributor request: ${r.statusText}`);return r.json()}static async linkExportContract(t,r){const a=await fetch(`${Oh}/distributor/requests/${t}/export-contract`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({export_contract_id:r.exportContractId})});if(!a.ok)throw new Error(`Failed to link export contract: ${a.statusText}`);return a.json()}static async getEnrichedRequest(t){const r=await fetch(`${Oh}/distributor/requests/${t}/enriched`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get enriched request: ${r.statusText}`);return r.json()}}const wu="http://localhost:8000/api/v1";class Uu{static async getExportContracts(t=0,r=100,a=!0){const s=await fetch(`${wu}/export-contracts/?skip=${t}&limit=${r}&is_active=${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to get export contracts: ${s.statusText}`);return s.json()}static async getExportContract(t){const r=await fetch(`${wu}/export-contracts/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get export contract: ${r.statusText}`);return r.json()}static async createExportContract(t){const r=await fetch(`${wu}/export-contracts/`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({contract_number:t.contractNumber,contract_date:t.contractDate,counterparty_id:t.counterpartyId,amount:t.amount,currency_code:t.currencyCode})});if(!r.ok)throw new Error(`Failed to create export contract: ${r.statusText}`);return r.json()}static async updateExportContract(t,r){const a=await fetch(`${wu}/export-contracts/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({contract_number:r.contractNumber,contract_date:r.contractDate,counterparty_id:r.counterpartyId,amount:r.amount,currency_code:r.currencyCode,is_active:r.isActive})});if(!a.ok)throw new Error(`Failed to update export contract: ${a.statusText}`);return a.json()}static async deleteExportContract(t){const r=await fetch(`${wu}/export-contracts/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to delete export contract: ${r.statusText}`)}}class Yl{static notifications=[];static listeners=[];static addNotification(t){const r={...t,id:Math.random().toString(36).substr(2,9),timestamp:new Date};this.notifications.unshift(r),this.notifications.length>50&&(this.notifications=this.notifications.slice(0,50)),this.showToastNotification(r),this.notifyListeners()}static getNotifications(){return[...this.notifications]}static getNotificationsForRole(t){return this.notifications.filter(r=>r.role===t)}static markAsRead(t){this.notifications.find(a=>a.id===t)&&(this.notifications=this.notifications.filter(a=>a.id!==t),this.notifyListeners())}static clearAll(){this.notifications=[],this.notifyListeners()}static subscribe(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}static notifyListeners(){this.listeners.forEach(t=>t([...this.notifications]))}static showToastNotification(t){const r={duration:t.type==="error"?5e3:3e3,action:t.actionRequired?{label:"Просмотреть",onClick:()=>{console.log("Navigate to request:",t.requestId)}}:void 0};switch(t.type){case"success":be.success(t.title,{description:t.message,...r});break;case"error":be.error(t.title,{description:t.message,...r});break;case"warning":be.warning(t.title,{description:t.message,...r});break;default:be.info(t.title,{description:t.message,...r});break}}static notifyRequestDistributed(t,r){this.addNotification({type:"success",title:"Заявка распределена",message:`Заявка ${r} успешно распределена между суб-регистратором и распорядителем`,role:"registrar",requestId:t})}static notifySubRegistrarAssigned(t,r){this.addNotification({type:"info",title:"Новое назначение",message:`Вам назначена заявка ${r} для обработки`,role:"sub_registrar",requestId:t,actionRequired:!0})}static notifyDistributorRequestCreated(t,r){this.addNotification({type:"info",title:"Новая заявка",message:`Получена заявка ${r} для обработки`,role:"distributor",requestId:t,actionRequired:!0})}static notifyReportPublished(t,r){this.addNotification({type:"success",title:"Отчёт опубликован",message:`Отчёт по заявке ${r} опубликован и обогатил данные для распорядителя`,role:"sub_registrar",requestId:t}),this.addNotification({type:"info",title:"Данные обогащены",message:`Заявка ${r} обогащена данными от суб-регистратора`,role:"distributor",requestId:t,actionRequired:!0})}static notifyExportContractLinked(t,r,a){this.addNotification({type:"success",title:"Контракт привязан",message:`Заявка ${r} привязана к экспортному контракту ${a}`,role:"distributor",requestId:t})}static notifyWorkflowError(t,r){this.addNotification({type:"error",title:"Ошибка в процессе",message:t,role:r})}static notifyWorkflowProgress(t,r){this.addNotification({type:"info",title:"Прогресс",message:t,role:r})}}class Sx{static getWorkflowProgress(t,r,a){const s=this.getWorkflowSteps(),i=this.getCurrentStepIndex(r,a);return{requestId:t,currentStep:s[i]?.id||"unknown",totalSteps:s.length,completedSteps:i,steps:s.map((l,u)=>({...l,status:this.getStepStatus(u,i,r,a),timestamp:u<i?new Date:void 0})),isComplete:i>=s.length-1,canProceed:this.canProceedToNextStep(r,a),nextRole:this.getNextRole(r,a)}}static getWorkflowSteps(){return[{id:"request-creation",name:"Создание заявки",role:"EXECUTOR",description:"Исполнитель создаёт заявку на оплату"},{id:"request-submission",name:"Подача заявки",role:"EXECUTOR",description:"Заявка отправлена на рассмотрение"},{id:"request-classification",name:"Классификация заявки",role:"registrar",description:"Регистратор классифицирует заявку по статьям расходов"},{id:"request-approval",name:"Одобрение заявки",role:"distributor",description:"Распорядитель одобряет заявку"},{id:"request-distribution",name:"Распределение заявки",role:"registrar",description:"Регистратор распределяет заявку между суб-регистратором и распорядителем"},{id:"document-collection",name:"Сбор документов",role:"sub_registrar",description:"Суб-регистратор собирает оригинальные документы"},{id:"report-publication",name:"Публикация отчёта",role:"sub_registrar",description:"Суб-регистратор публикует фактический отчёт"},{id:"export-contract-linking",name:"Привязка контракта",role:"distributor",description:"Распорядитель привязывает заявку к экспортному контракту"},{id:"payment-processing",name:"Обработка платежа",role:"treasurer",description:"Казначей обрабатывает платеж"},{id:"payment-completion",name:"Завершение платежа",role:"treasurer",description:"Платеж завершён"}]}static getCurrentStepIndex(t,r){let s={draft:0,submitted:1,classified:2,allocated:2,returned:1,approved:3,"approved-on-behalf":3,"to-pay":3,"in-register":3,"approved-for-payment":3,distributed:4,report_published:6,export_linked:7,"paid-full":9,"paid-partial":8,declined:1,rejected:1,cancelled:0}[t]||0;return r==="distributed"&&t==="distributed"?s=4:r==="report_published"&&t==="report_published"?s=6:r==="export_linked"&&t==="export_linked"&&(s=7),s}static getStepStatus(t,r,a,s){return t<r?"completed":t===r?"in-progress":"pending"}static canProceedToNextStep(t,r){return["submitted","classified","allocated","approved","approved-on-behalf","to-pay","in-register","approved-for-payment","distributed","report_published"].includes(t)}static getNextRole(t,r){return{draft:"EXECUTOR",submitted:"registrar",classified:"distributor",allocated:"distributor",returned:"EXECUTOR",approved:"registrar","approved-on-behalf":"registrar","to-pay":"registrar","in-register":"registrar","approved-for-payment":"registrar",distributed:"sub_registrar",report_published:"distributor",export_linked:"treasurer","paid-full":void 0,"paid-partial":"treasurer",declined:"EXECUTOR",rejected:"EXECUTOR",cancelled:void 0}[t]}static getProgressPercentage(t){return t.totalSteps===0?0:Math.round(t.completedSteps/t.totalSteps*100)}static getEstimatedTimeRemaining(t){t.totalSteps-t.completedSteps;const r={"request-creation":.5,"request-submission":.1,"request-classification":2,"request-approval":4,"request-distribution":.5,"document-collection":24,"report-publication":1,"export-contract-linking":2,"payment-processing":4,"payment-completion":1};let a=0;for(let s=t.completedSteps;s<t.totalSteps;s++){const i=t.steps[s];i&&(a+=r[i.id]||1)}return a<1?"Менее часа":a<24?`Около ${Math.round(a)} часов`:`Около ${Math.round(a/24)} дней`}static getWorkflowBottlenecks(t){const r=[],a=["document-collection","request-approval"],s=t.steps[t.completedSteps];s&&a.includes(s.id)&&r.push(`Текущий этап "${s.name}" может занять длительное время`);const i=["document-collection","export-contract-linking"];return t.steps.slice(t.completedSteps).filter(u=>i.includes(u.id)).length>0&&r.push("Ожидаются внешние действия для завершения процесса"),r}}class y7{cache=new Map;defaultTTL=300*1e3;maxSize=1e3;get(t){const r=this.cache.get(t);return r?Date.now()>r.expiresAt?(this.cache.delete(t),null):r.value:null}set(t,r,a,s=[]){this.cache.size>=this.maxSize&&this.evictOldest();const i=Date.now()+(a||this.defaultTTL);this.cache.set(t,{value:r,expiresAt:i,tags:s})}invalidate(t){this.cache.delete(t)}invalidatePattern(t){const r=new RegExp(t);for(const a of this.cache.keys())r.test(a)&&this.cache.delete(a)}invalidateByTags(t){for(const[r,a]of this.cache.entries())t.some(s=>a.tags.includes(s))&&this.cache.delete(r)}clear(){this.cache.clear()}getStats(){const t=Array.from(this.cache.entries()).map(([r,a])=>({key:r,expiresAt:a.expiresAt,tags:a.tags}));return{size:this.cache.size,maxSize:this.maxSize,hitRate:0,entries:t}}evictOldest(){const t=Array.from(this.cache.entries());t.sort((a,s)=>a[1].expiresAt-s[1].expiresAt);const r=Math.ceil(t.length*.1);for(let a=0;a<r;a++)this.cache.delete(t[a][0])}}class qn{static dictionaryItems(t){return`dictionary:${t}:items`}static dictionaryItem(t,r){return`dictionary:${t}:item:${r}`}static dictionarySearch(t,r){return`dictionary:${t}:search:${r}`}static dictionaryFilter(t,r){const a=Object.keys(r).sort().map(s=>`${s}:${r[s]}`).join("|");return`dictionary:${t}:filter:${a}`}static dictionaryStatistics(t){return`dictionary:${t}:statistics`}}const Nu={DICTIONARY:"dictionary",EXPENSE_ITEMS:"expense-articles",COUNTERPARTIES:"counterparties",CURRENCIES:"currencies",VAT_RATES:"vat-rates",SEARCH:"search",FILTER:"filter",STATISTICS:"statistics"};class _p{createError(t,r,a){return{field:t,message:r,code:a}}validateRequired(t,r){return t==null||t===""?[this.createError(r,`${r} is required`,"REQUIRED")]:[]}validateString(t,r,a,s){const i=[];return typeof t!="string"?(i.push(this.createError(r,`${r} must be a string`,"INVALID_TYPE")),i):(a&&t.length<a&&i.push(this.createError(r,`${r} must be at least ${a} characters`,"MIN_LENGTH")),s&&t.length>s&&i.push(this.createError(r,`${r} must be no more than ${s} characters`,"MAX_LENGTH")),i)}validateEmail(t,r){const a=[];return typeof t!="string"?(a.push(this.createError(r,`${r} must be a string`,"INVALID_TYPE")),a):(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||a.push(this.createError(r,`${r} must be a valid email address`,"INVALID_EMAIL")),a)}validateNumber(t,r,a,s){const i=[];return typeof t!="number"||isNaN(t)?(i.push(this.createError(r,`${r} must be a number`,"INVALID_TYPE")),i):(a!==void 0&&t<a&&i.push(this.createError(r,`${r} must be at least ${a}`,"MIN_VALUE")),s!==void 0&&t>s&&i.push(this.createError(r,`${r} must be no more than ${s}`,"MAX_VALUE")),i)}validateEnum(t,r,a){return a.includes(t)?[]:[this.createError(r,`${r} must be one of: ${a.join(", ")}`,"INVALID_ENUM")]}}class b7 extends _p{validate(t){const r=[];r.push(...this.validateRequired(t.name,"name")),r.push(...this.validateRequired(t.code,"code")),r.push(...this.validateRequired(t.ownerRole,"ownerRole")),r.push(...this.validateString(t.name,"name",1,255)),r.push(...this.validateString(t.code,"code",3,10)),t.code&&!/^\d{3}$/.test(t.code)&&r.push(this.createError("code","Code must be 3 digits","INVALID_FORMAT"));const a=["EXECUTOR","REGISTRAR","DISTRIBUTOR","TREASURER","ADMIN"];return r.push(...this.validateEnum(t.ownerRole,"ownerRole",a)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"name":return this.validateString(r,"name",1,255);case"code":return typeof r=="string"&&!/^\d{3}$/.test(r)?[this.createError("code","Code must be 3 digits","INVALID_FORMAT")]:this.validateString(r,"code",3,10);case"ownerRole":const a=["EXECUTOR","REGISTRAR","DISTRIBUTOR","TREASURER","ADMIN"];return this.validateEnum(r,"ownerRole",a);default:return[]}}}class j7 extends _p{validate(t){const r=[];r.push(...this.validateRequired(t.name,"name")),r.push(...this.validateRequired(t.abbreviation,"abbreviation")),r.push(...this.validateRequired(t.binIin,"binIin")),r.push(...this.validateRequired(t.email,"email")),r.push(...this.validateRequired(t.category,"category")),r.push(...this.validateString(t.name,"name",1,255)),r.push(...this.validateString(t.abbreviation,"abbreviation",1,50)),r.push(...this.validateString(t.binIin,"binIin",12,12)),r.push(...this.validateEmail(t.email,"email")),t.binIin&&!/^\d{12}$/.test(t.binIin)&&r.push(this.createError("binIin","BIN/IIN must be 12 digits","INVALID_FORMAT"));const a=["Поставщик СХ","Элеватор","Поставщик Услуг","Покупатель","Партнер/БВУ"];return r.push(...this.validateEnum(t.category,"category",a)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"name":return this.validateString(r,"name",1,255);case"email":return this.validateEmail(r,"email");case"binIin":return typeof r=="string"&&!/^\d{12}$/.test(r)?[this.createError("binIin","BIN/IIN must be 12 digits","INVALID_FORMAT")]:this.validateString(r,"binIin",12,12);case"category":const a=["Поставщик СХ","Элеватор","Поставщик Услуг","Покупатель","Партнер/БВУ"];return this.validateEnum(r,"category",a);default:return[]}}}class w7 extends _p{validate(t){const r=[];return r.push(...this.validateRequired(t.rate,"rate")),r.push(...this.validateRequired(t.name,"name")),t.rate!==void 0&&(typeof t.rate!="number"||t.rate<0||t.rate>100)&&r.push({field:"rate",message:"Rate must be a number between 0 and 100",code:"INVALID_RATE"}),r.push(...this.validateString(t.name,"name",1,255)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"rate":return typeof r!="number"||r<0||r>100?[{field:"rate",message:"Rate must be a number between 0 and 100",code:"INVALID_RATE"}]:[];case"name":return this.validateString(r,"name",1,255);default:return[]}}}class N7 extends _p{validate(t){const r=[];return r.push(...this.validateRequired(t.code,"code")),r.push(...this.validateString(t.code,"code",1,10)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"code":return this.validateString(r,"code",1,10);default:return[]}}}class S7{validators=new Map;constructor(){this.registerValidator("expense-articles",new b7),this.registerValidator("counterparties",new j7),this.registerValidator("vat-rates",new w7),this.registerValidator("currencies",new N7)}registerValidator(t,r){this.validators.set(t,r)}validate(t,r){const a=this.validators.get(t);return a?a.validate(r):{isValid:!1,errors:[{field:"type",message:`No validator found for type: ${t}`,code:"NO_VALIDATOR"}]}}validateField(t,r,a){const s=this.validators.get(t);return s?s.validateField(r,a):[{field:"type",message:`No validator found for type: ${t}`,code:"NO_VALIDATOR"}]}}class wl extends Error{constructor(t,r,a){super(`API Error ${t}: ${r}`),this.status=t,this.statusText=r,this.response=a,this.name="ApiError"}}class iM{baseUrl;authToken=null;timeout=3e4;constructor(t="/api"){this.baseUrl=t}setAuthToken(t){this.authToken=t}getHeaders(){const t={"Content-Type":"application/json"};return this.authToken&&(t.Authorization=`Bearer ${this.authToken}`),t}async request(t,r,a,s){const i=`${this.baseUrl}${r}`,l={method:t,headers:this.getHeaders(),...s};a&&t!=="GET"&&(l.body=JSON.stringify(a));const u=new AbortController,d=setTimeout(()=>u.abort(),this.timeout);try{const f=await fetch(i,{...l,signal:u.signal});if(clearTimeout(d),!f.ok){const h=await f.json().catch(()=>({}));throw new wl(f.status,f.statusText,h)}return f.status===204?{}:await f.json()}catch(f){throw clearTimeout(d),f instanceof wl?f:f.name==="AbortError"?new wl(408,"Request timeout"):new wl(0,f.message||"Network error")}}async get(t){return this.request("GET",t)}async post(t,r){return this.request("POST",t,r)}async put(t,r){return this.request("PUT",t,r)}async delete(t){return this.request("DELETE",t)}async upload(t,r){const a=new FormData;a.append("file",r);const s=`${this.baseUrl}${t}`,i={};this.authToken&&(i.Authorization=`Bearer ${this.authToken}`);const l=await fetch(s,{method:"POST",headers:i,body:a});if(!l.ok){const u=await l.json().catch(()=>({}));throw new wl(l.status,l.statusText,u)}return await l.json()}async download(t,r){const a=`${this.baseUrl}${t}`,s={};this.authToken&&(s.Authorization=`Bearer ${this.authToken}`);const i=await fetch(a,{method:"GET",headers:s,...r});if(!i.ok)throw new wl(i.status,i.statusText);return await i.blob()}}class _7{constructor(t){this.apiClient=t}getExpenseItems=()=>this.apiClient.get("/dictionaries/expense-articles");getExpenseItem=t=>this.apiClient.get(`/dictionaries/expense-articles/${t}`);createExpenseItem=t=>this.apiClient.post("/dictionaries/expense-articles",t);updateExpenseItem=(t,r)=>this.apiClient.put(`/dictionaries/expense-articles/${t}`,r);deleteExpenseItem=t=>this.apiClient.delete(`/dictionaries/expense-articles/${t}`);getCounterparties=async()=>(await this.apiClient.get("/dictionaries/counterparties")).map(r=>({id:r.id,name:r.name,abbreviation:r.name.substring(0,10)+"...",binIin:r.tax_id||"",phone:r.phone||"",email:r.email||"",address:r.address||"",region:r.region||"",category:r.category,isActive:r.is_active,code:r.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}));getCounterparty=async t=>{const r=await this.apiClient.get(`/dictionaries/counterparties/${t}`);return{id:r.id,name:r.name,abbreviation:r.name.substring(0,10)+"...",binIin:r.tax_id||"",phone:r.phone||"",email:r.email||"",address:r.address||"",region:r.region||"",category:r.category,isActive:r.is_active,code:r.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}};createCounterparty=t=>this.apiClient.post("/dictionaries/counterparties",t);updateCounterparty=(t,r)=>this.apiClient.put(`/dictionaries/counterparties/${t}`,r);deleteCounterparty=t=>this.apiClient.delete(`/dictionaries/counterparties/${t}`);getContracts=()=>Promise.resolve([]);getContract=t=>Promise.reject(new Error("Contracts dictionary is not supported"));createContract=t=>Promise.reject(new Error("Contracts dictionary is not supported"));updateContract=(t,r)=>Promise.reject(new Error("Contracts dictionary is not supported"));deleteContract=t=>Promise.reject(new Error("Contracts dictionary is not supported"));getNormatives=()=>Promise.resolve([]);getNormative=t=>Promise.reject(new Error("Normatives dictionary is not supported"));createNormative=t=>Promise.reject(new Error("Normatives dictionary is not supported"));updateNormative=(t,r)=>Promise.reject(new Error("Normatives dictionary is not supported"));deleteNormative=t=>Promise.reject(new Error("Normatives dictionary is not supported"));getPriorities=()=>Promise.resolve([]);getPriority=t=>Promise.reject(new Error("Priorities dictionary is not supported"));createPriority=t=>Promise.reject(new Error("Priorities dictionary is not supported"));updatePriority=(t,r)=>Promise.reject(new Error("Priorities dictionary is not supported"));deletePriority=t=>Promise.reject(new Error("Priorities dictionary is not supported"));getUsers=()=>Promise.resolve([]);getUser=t=>Promise.reject(new Error("Users dictionary is not supported"));createUser=t=>Promise.reject(new Error("Users dictionary is not supported"));updateUser=(t,r)=>Promise.reject(new Error("Users dictionary is not supported"));deleteUser=t=>Promise.reject(new Error("Users dictionary is not supported"));getCurrencies=async()=>(await this.apiClient.get("/dictionaries/currencies")).map(r=>({id:r.code,code:r.code,name:this.getCurrencyName(r.code),scale:r.scale,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}));getCurrency=async t=>{const r=await this.apiClient.get(`/dictionaries/currencies/${t}`);return{id:r.code,code:r.code,name:this.getCurrencyName(r.code),scale:r.scale,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}};getCurrencyName=t=>({KZT:"Казахстанский тенге",USD:"Доллар США",EUR:"Евро",RUB:"Российский рубль",CNY:"Китайский юань"})[t]||t;getVatRates=()=>this.apiClient.get("/dictionaries/vat-rates");getVatRate=t=>this.apiClient.get(`/dictionaries/vat-rates/${t}`);createVatRate=t=>this.apiClient.post("/dictionaries/vat-rates",t);updateVatRate=(t,r)=>this.apiClient.put(`/dictionaries/vat-rates/${t}`,r);deleteVatRate=t=>this.apiClient.delete(`/dictionaries/vat-rates/${t}`);bulkCreate=(t,r)=>this.apiClient.post(`/dictionaries/${t}/bulk`,{items:r});bulkUpdate=async(t,r)=>{let a=0,s=0;const i=[],l=[];for(const{id:u,data:d}of r)try{let f;t==="counterparties"?f=await this.updateCounterparty(u,d):t==="expense-articles"?f=await this.updateExpenseItem(u,d):t==="vat-rates"&&(f=await this.updateVatRate(u,d)),l.push(f),a++}catch(f){s++,i.push({id:u,error:f instanceof Error?f.message:"Unknown error"})}return{success_count:a,error_count:s,errors:i,updated_items:l}};bulkDelete=async(t,r)=>{let a=0,s=0;const i=[];for(const l of r)try{t==="counterparties"?await this.deleteCounterparty(l):t==="expense-articles"?await this.deleteExpenseItem(l):t==="vat-rates"&&await this.deleteVatRate(l),a++}catch(u){s++,i.push({id:l,error:u instanceof Error?u.message:"Unknown error"})}return{success_count:a,error_count:s,errors:i}};search=async(t,r)=>["counterparties","expense-articles","vat-rates","currencies"].includes(t)?t==="counterparties"?this.apiClient.get(`/dictionaries/counterparties?search=${encodeURIComponent(r)}`):t==="expense-articles"?this.apiClient.get(`/dictionaries/expense-articles?search=${encodeURIComponent(r)}`):t==="vat-rates"?this.apiClient.get(`/dictionaries/vat-rates?search=${encodeURIComponent(r)}`):t==="currencies"?this.apiClient.get("/dictionaries/currencies"):Promise.resolve([]):Promise.resolve([]);filter=async(t,r)=>{if(!["counterparties","expense-articles","vat-rates","currencies"].includes(t))return Promise.resolve([]);const s=new URLSearchParams;r.is_active!==void 0&&s.append("active_only",r.is_active.toString()),r.category&&s.append("category",r.category),r.search&&s.append("search",r.search);const i=s.toString(),l=i?`/dictionaries/${t}?${i}`:`/dictionaries/${t}`;return this.apiClient.get(l)};getStatistics=async t=>{if(!["counterparties","expense-articles","vat-rates","currencies"].includes(t))return{totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0};try{const a=await this.apiClient.get(`/dictionaries/${t}/statistics`);return{totalItems:a.totalItems,activeItems:a.activeItems,inactiveItems:a.inactiveItems,recentlyUpdated:a.recentlyUpdated}}catch(a){console.warn(`Failed to get statistics for ${t}, falling back to mock data:`,a);const s=await this.apiClient.get(`/dictionaries/${t}`);return{totalItems:s.length,activeItems:s.filter(i=>i.is_active).length,inactiveItems:s.filter(i=>!i.is_active).length,recentlyUpdated:0}}};export=(t,r)=>this.apiClient.download(`/dictionaries/export/${t}?format=${r.format||"csv"}&active_only=${r.active_only||!0}`);import=(t,r)=>this.apiClient.upload(`/dictionaries/import?dictionary_type=${t}`,r);getTemplate=t=>this.apiClient.download(`/dictionaries/template/${t}`)}class Ps{static instance;handlers=new Map;cache;validator;api;isOnline=!0;constructor(){this.cache=new y7,this.validator=new S7;const t=new iM("http://localhost:8000/api/v1");this.api=new _7(t),this.initializeHandlers(),this.setupOnlineStatusListener()}static getInstance(){return Ps.instance||(Ps.instance=new Ps),Ps.instance}initializeHandlers(){["expense-articles","counterparties","currencies","vat-rates"].forEach(r=>{const a=this.createHandler(r);this.handlers.set(r,a)})}createHandler(t){return{getItems:()=>this.getItems(t),getItemById:r=>this.getItemById(t,r),createItem:r=>this.createItem(t,r),updateItem:(r,a)=>this.updateItem(t,r,a),deleteItem:r=>this.deleteItem(t,r),validateItem:r=>this.validateItem(t,r),searchItems:r=>this.searchItems(t,r),getItemsByFilter:r=>this.getItemsByFilter(t,r),getStatistics:()=>this.getStatistics(t),bulkCreate:r=>this.bulkCreate(t,r),bulkUpdate:r=>this.bulkUpdate(t,r),bulkDelete:r=>this.bulkDelete(t,r),exportItems:r=>this.exportItems(t,r),importItems:r=>this.importItems(t,r)}}setupOnlineStatusListener(){typeof window<"u"&&(window.addEventListener("online",()=>{this.isOnline=!0,this.syncOfflineChanges()}),window.addEventListener("offline",()=>{this.isOnline=!1}))}getHandler(t){const r=this.handlers.get(t);return r||this.createMockHandler(t)}createMockHandler(t){return{getItems:()=>Promise.resolve([]),getItemById:()=>Promise.resolve(null),createItem:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),updateItem:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),deleteItem:()=>Promise.resolve(!1),validateItem:()=>({isValid:!1,errors:[{field:"type",message:`Dictionary type '${t}' is not supported`}]}),searchItems:()=>Promise.resolve([]),getItemsByFilter:()=>Promise.resolve([]),getStatistics:()=>Promise.resolve({totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0}),bulkCreate:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),bulkUpdate:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),bulkDelete:()=>Promise.resolve({success_count:0,error_count:0,errors:[]}),exportItems:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),importItems:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`))}}async getItems(t){const r=qn.dictionaryItems(t),a=this.cache.get(r);if(a)return a;try{let s;return this.isOnline?s=await this.getApiMethod(t,"getItems")():s=this.getOfflineData(t),this.cache.set(r,s,void 0,[Nu.DICTIONARY,t]),s}catch(s){return console.error(`Error fetching ${t} items:`,s),this.getOfflineData(t)}}async getItemById(t,r){const a=qn.dictionaryItem(t,r),s=this.cache.get(a);if(s)return s;try{let i;return this.isOnline?i=await this.getApiMethod(t,"getItem")(r):i=this.getOfflineData(t).find(u=>u.id===r)||null,i&&this.cache.set(a,i,void 0,[Nu.DICTIONARY,t]),i}catch(i){return console.error(`Error fetching ${t} item ${r}:`,i),null}}async createItem(t,r){const a=this.validator.validate(t,r);if(!a.isValid)throw new Error(`Validation failed: ${a.errors.map(s=>s.message).join(", ")}`);try{let s;return this.isOnline?s=await this.getApiMethod(t,"createItem")(r):s=this.createOfflineItem(t,r),this.cache.invalidate(qn.dictionaryItems(t)),this.cache.invalidateByTags([t]),s}catch(s){throw console.error(`Error creating ${t} item:`,s),s}}async updateItem(t,r,a){const s=this.validator.validate(t,a);if(!s.isValid)throw new Error(`Validation failed: ${s.errors.map(i=>i.message).join(", ")}`);try{let i;return this.isOnline?i=await this.getApiMethod(t,"updateItem")(r,a):i=this.updateOfflineItem(t,r,a),this.cache.invalidate(qn.dictionaryItems(t)),this.cache.invalidate(qn.dictionaryItem(t,r)),this.cache.invalidateByTags([t]),i}catch(i){throw console.error(`Error updating ${t} item ${r}:`,i),i}}async deleteItem(t,r){try{return this.isOnline?await this.getApiMethod(t,"deleteItem")(r):this.deleteOfflineItem(t,r),this.cache.invalidate(qn.dictionaryItems(t)),this.cache.invalidate(qn.dictionaryItem(t,r)),this.cache.invalidateByTags([t]),!0}catch(a){return console.error(`Error deleting ${t} item ${r}:`,a),!1}}validateItem(t,r){return this.validator.validate(t,r)}async searchItems(t,r){const a=qn.dictionarySearch(t,r),s=this.cache.get(a);if(s)return s;try{let i;return this.isOnline?i=await this.api.search(t,r):i=this.getOfflineData(t).filter(u=>u.name.toLowerCase().includes(r.toLowerCase())||u.code.toLowerCase().includes(r.toLowerCase())),this.cache.set(a,i,6e4,[Nu.SEARCH,t]),i}catch(i){return console.error(`Error searching ${t} items:`,i),[]}}async getItemsByFilter(t,r){const a=qn.dictionaryFilter(t,r),s=this.cache.get(a);if(s)return s;try{let i;if(this.isOnline)i=await this.api.filter(t,r);else{const l=this.getOfflineData(t);i=this.applyFilters(l,r)}return this.cache.set(a,i,6e4,[Nu.FILTER,t]),i}catch(i){return console.error(`Error filtering ${t} items:`,i),[]}}async getStatistics(t){const r=qn.dictionaryStatistics(t),a=this.cache.get(r);if(a)return a;try{let s;if(this.isOnline)s=await this.api.getStatistics(t);else{const i=this.getOfflineData(t);s=this.calculateStatistics(i)}return this.cache.set(r,s,3e5,[Nu.STATISTICS,t]),s}catch(s){return console.error(`Error getting ${t} statistics:`,s),{totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0}}}async bulkCreate(t,r){for(const a of r){const s=this.validator.validate(t,a);if(!s.isValid)throw new Error(`Validation failed for item: ${s.errors.map(i=>i.message).join(", ")}`)}try{let a;return this.isOnline?a=await this.api.bulkCreate(t,r):a=r.map(s=>this.createOfflineItem(t,s)),this.cache.invalidate(qn.dictionaryItems(t)),this.cache.invalidateByTags([t]),a}catch(a){throw console.error(`Error bulk creating ${t} items:`,a),a}}async bulkUpdate(t,r){try{let a;return this.isOnline?a=await this.api.bulkUpdate(t,r):a=r.map(({id:s,data:i})=>this.updateOfflineItem(t,s,i)),this.cache.invalidate(qn.dictionaryItems(t)),this.cache.invalidateByTags([t]),a}catch(a){throw console.error(`Error bulk updating ${t} items:`,a),a}}async bulkDelete(t,r){try{return this.isOnline?await this.api.bulkDelete(t,r):r.forEach(a=>this.deleteOfflineItem(t,a)),this.cache.invalidate(qn.dictionaryItems(t)),this.cache.invalidateByTags([t]),!0}catch(a){return console.error(`Error bulk deleting ${t} items:`,a),!1}}async exportItems(t,r){try{if(this.isOnline)return await this.api.export(t,r);{const a=this.getOfflineData(t),s=JSON.stringify(a,null,2);return new Blob([s],{type:"application/json"})}}catch(a){throw console.error(`Error exporting ${t} items:`,a),a}}async importItems(t,r){try{return this.isOnline?await this.api.import(t,r):{success:[],errors:[]}}catch(a){throw console.error(`Error importing ${t} items:`,a),a}}getApiMethod(t,r){const s={"expense-articles":{getItems:()=>this.api.getExpenseItems(),getItem:i=>this.api.getExpenseItem(i),createItem:i=>this.api.createExpenseItem(i),updateItem:(i,l)=>this.api.updateExpenseItem(i,l),deleteItem:i=>this.api.deleteExpenseItem(i)},counterparties:{getItems:()=>this.api.getCounterparties(),getItem:i=>this.api.getCounterparty(i),createItem:i=>this.api.createCounterparty(i),updateItem:(i,l)=>this.api.updateCounterparty(i,l),deleteItem:i=>this.api.deleteCounterparty(i)},currencies:{getItems:()=>this.api.getCurrencies(),getItem:i=>this.api.getCurrency(i),createItem:i=>Promise.reject(new Error("Currencies are read-only")),updateItem:(i,l)=>Promise.reject(new Error("Currencies are read-only")),deleteItem:i=>Promise.reject(new Error("Currencies are read-only"))},"vat-rates":{getItems:()=>this.api.getVatRates(),getItem:i=>this.api.getVatRate(i),createItem:i=>this.api.createVatRate(i),updateItem:(i,l)=>this.api.updateVatRate(i,l),deleteItem:i=>this.api.deleteVatRate(i)}}[t];if(!s||!s[r])throw new Error(`No API method found for ${t}.${r}`);return s[r]}getOfflineData(t){try{const r=localStorage.getItem(`dictionary_${t}`);return r?JSON.parse(r):[]}catch(r){return console.error(`Error loading offline data for ${t}:`,r),[]}}saveOfflineData(t,r){try{localStorage.setItem(`dictionary_${t}`,JSON.stringify(r))}catch(a){console.error(`Error saving offline data for ${t}:`,a)}}createOfflineItem(t,r){const a={...r,id:`offline-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:1},s=this.getOfflineData(t);return s.push(a),this.saveOfflineData(t,s),a}updateOfflineItem(t,r,a){const s=this.getOfflineData(t),i=s.findIndex(u=>u.id===r);if(i===-1)throw new Error(`Item not found: ${r}`);const l={...s[i],...a,updatedAt:new Date().toISOString(),version:(s[i].version||0)+1};return s[i]=l,this.saveOfflineData(t,s),l}deleteOfflineItem(t,r){const s=this.getOfflineData(t).filter(i=>i.id!==r);this.saveOfflineData(t,s)}applyFilters(t,r){return t.filter(a=>{for(const[s,i]of Object.entries(r)){if(i==null||i==="")continue;const l=a[s];if(s==="isActive"){if(l!==i)return!1}else if(s==="category"){if(l!==i)return!1}else if(s==="ownerRole"){if(l!==i)return!1}else if(s==="dateRange"){const u=new Date(l),d=new Date(i.start),f=new Date(i.end);if(u<d||u>f)return!1}else if(typeof i=="string"&&(!l||!l.toString().toLowerCase().includes(i.toLowerCase())))return!1}return!0})}calculateStatistics(t){const r=new Date,a=new Date(r.getTime()-10080*60*1e3);return{totalItems:t.length,activeItems:t.filter(s=>s.isActive).length,inactiveItems:t.filter(s=>!s.isActive).length,recentlyUpdated:t.filter(s=>new Date(s.updatedAt)>a).length}}async syncOfflineChanges(){console.log("Syncing offline changes...")}clearCache(){this.cache.clear()}getCacheStats(){return this.cache.getStats()}async ensureInitialized(){}}class _x{static cache=new Map;static CACHE_DURATION=300*1e3;static MAX_CACHE_SIZE=50;static async getRoleStatistics(t,r){const a=`role_stats_${t}_${r||"all"}`,s=this.getFromCache(a);if(s)return s;try{const i=await dt.getStatistics(t,r),l=aw(i);return this.setCache(a,l),l}catch(i){throw console.error("Error fetching role statistics:",i),new Error(`Failed to fetch statistics for role: ${t}`)}}static async getDashboardMetrics(t,r){const a=`dashboard_metrics_${t}_${r||"all"}`,s=this.getFromCache(a);if(s)return s;try{const i=await dt.getDashboardMetrics(t,r);return this.setCache(a,i),i}catch(i){throw console.error("Error fetching dashboard metrics:",i),new Error(`Failed to fetch dashboard metrics for role: ${t}`)}}static async getRegistryStatistics(){const t="registry_statistics",r=this.getFromCache(t);if(r)return r;try{const a=await x7.getStatistics();return this.setCache(t,a),a}catch(a){throw console.error("Error fetching registry statistics:",a),new Error("Failed to fetch registry statistics")}}static async getRealTimeStatistics(t,r){try{const a=await dt.getStatistics(t,r),s=`role_stats_${t}_${r||"all"}`;return this.setCache(s,a),a}catch(a){throw console.error("Error fetching real-time statistics:",a),new Error(`Failed to fetch real-time statistics for role: ${t}`)}}static async getAllRoleStatistics(){const t=["EXECUTOR","REGISTRAR","DISTRIBUTOR","TREASURER"],r={};try{const a=t.map(async i=>{try{const l=await this.getRoleStatistics(i);return{role:i,stats:l}}catch(l){return console.error(`Error fetching statistics for role ${i}:`,l),{role:i,stats:null}}});return(await Promise.all(a)).forEach(({role:i,stats:l})=>{r[i]=l}),r}catch(a){throw console.error("Error fetching all role statistics:",a),new Error("Failed to fetch statistics for all roles")}}static async getStatisticsWithFallback(t,r){try{return await this.getRealTimeStatistics(t,r)}catch(a){console.warn("Failed to fetch fresh statistics, trying cache:",a);const s=`role_stats_${t}_${r||"all"}`,i=this.getFromCache(s);if(i)return console.log("Using cached statistics as fallback"),i;throw a}}static clearCache(t,r){if(t){const a=`role_stats_${t}_${r||"all"}`;this.cache.delete(a),console.log(`Cleared cache for role: ${t}`)}else this.cache.clear(),console.log("Cleared all statistics cache")}static getCacheInfo(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}static getFromCache(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>r.expiresIn?(this.cache.delete(t),null):r.data:null}static setCache(t,r){this.cache.size>=this.MAX_CACHE_SIZE&&this.cleanupCache(),this.cache.set(t,{data:r,timestamp:Date.now(),expiresIn:this.CACHE_DURATION})}static cleanupCache(){const t=Date.now(),r=[];for(const[a,s]of this.cache.entries())t-s.timestamp>s.expiresIn&&r.push(a);r.forEach(a=>this.cache.delete(a)),this.cache.size>=this.MAX_CACHE_SIZE&&Array.from(this.cache.entries()).sort((i,l)=>i[1].timestamp-l[1].timestamp).slice(0,this.cache.size-this.MAX_CACHE_SIZE+1).forEach(([i])=>this.cache.delete(i))}}function oM(e,t,r){const[a,s]=x.useState(null),[i,l]=x.useState(!0),[u,d]=x.useState(null),[f,h]=x.useState(null),{enableCache:m=!0,refreshInterval:g=3e4,autoRefresh:j=!1}=r||{},w=x.useCallback(async(N=!1)=>{try{l(!0),d(null);let S;N||!m?S=await _x.getRealTimeStatistics(e,t):S=await _x.getStatisticsWithFallback(e,t),s(S),h(new Date)}catch(S){console.error("Error fetching role statistics:",S),d(S instanceof Error?S.message:"Failed to fetch statistics")}finally{l(!1)}},[e,t,m]);x.useEffect(()=>{w()},[w]),x.useEffect(()=>{if(!j)return;const N=setInterval(()=>{w()},g);return()=>clearInterval(N)},[j,g,w]);const b=x.useCallback(()=>{w(!0)},[w]),v=x.useCallback(()=>{_x.clearCache(e,t)},[e,t]);return{statistics:a,loading:i,error:u,lastUpdated:f,refresh:b,clearCache:v,formatted:a?.formatted||null}}const lM=[{id:"dashboard",label:"Dashboard",icon:n.jsx(X8,{className:"h-4 w-4"}),roles:["EXECUTOR","REGISTRAR","SUB_REGISTRAR","DISTRIBUTOR","TREASURER","ADMIN"]},{id:"requests",label:"Заявки",icon:n.jsx(yt,{className:"h-4 w-4"}),roles:["EXECUTOR","REGISTRAR","SUB_REGISTRAR","DISTRIBUTOR","TREASURER"],badge:"5"},{id:"sub-registrar-assignments",label:"Мои назначения",icon:n.jsx(yt,{className:"h-4 w-4"}),roles:["SUB_REGISTRAR"]},{id:"distributor-workflow",label:"Заявки для обработки",icon:n.jsx(yt,{className:"h-4 w-4"}),roles:["DISTRIBUTOR"]},{id:"export-contracts",label:"Экспортные контракты",icon:n.jsx(tm,{className:"h-4 w-4"}),roles:["DISTRIBUTOR"]},{id:"registers",label:"Реестры",icon:n.jsx(tm,{className:"h-4 w-4"}),roles:["TREASURER"]},{id:"unallocated",label:"Реестр нераспределенных расходов",icon:n.jsx(Wj,{className:"h-4 w-4"}),roles:["DISTRIBUTOR"]},{id:"dictionaries",label:"Справочники",icon:n.jsx(em,{className:"h-4 w-4"}),roles:["ADMIN"]},{id:"registrar-assignments",label:"Назначения регистраторов",icon:n.jsx(Kr,{className:"h-4 w-4"}),roles:["ADMIN"]},{id:"distributor-routing",label:"Маршрутизация распорядителей",icon:n.jsx(Kr,{className:"h-4 w-4"}),roles:["ADMIN"]},{id:"admin",label:"Админка",icon:n.jsx(Kd,{className:"h-4 w-4"}),roles:["ADMIN"]}];function C7({currentPage:e,onPageChange:t,currentRole:r,currentUser:a,isCreatingRequest:s=!1,paymentRequests:i=[],onFilterChange:l}){const u=r!=="EXECUTOR",{statistics:d,loading:f}=oM(r,a?.id,{enableCache:!0,autoRefresh:u,refreshInterval:3e4}),h=lM.filter(v=>v.roles.includes(r)).map(v=>{let N=v.badge;return v.id==="requests"&&d&&(r==="EXECUTOR"?N=(d.draftCount+d.submittedCount+d.classifiedCount+d.approvedCount+d.inRegistryCount).toString():r==="REGISTRAR"?N=(d.submittedCount+d.classifiedCount).toString():r==="DISTRIBUTOR"?N=d.approvedCount.toString():r==="TREASURER"&&(N=d.inRegistryCount.toString())),v.id==="registers"&&d&&(N=d.inRegistryCount.toString()),{...v,badge:N}}),g=f||!d?{draft:0,underReview:0,returnedForRevision:0,paid:0,declined:0,inWork:0,registered:0,overdue:0}:r==="EXECUTOR"?{draft:d.draftCount||0,underReview:(d.submittedCount||0)+(d.classifiedCount||0)+(d.approvedCount||0)+(d.inRegistryCount||0),returnedForRevision:d.rejectedCount||0,paid:0,declined:d.rejectedCount||0}:r==="REGISTRAR"?{inWork:d.submittedCount||0,registered:d.classifiedCount||0,overdue:d.overdue||0,returnedForRevision:d.rejectedCount||0,declined:d.rejectedCount||0}:r==="DISTRIBUTOR"?{pendingApproval:d.approvedCount||0,approved:d.approvedCount||0,rejected:d.rejectedCount||0}:r==="TREASURER"?{inRegistry:d.inRegistryCount||0,totalAmount:(d.totalRequests||0)*1e3,overdue:d.overdue||0}:{},j=v=>{if(s){be.warning("Завершите создание заявки или сохраните черновик перед переходом",{duration:4e3});return}t(v)},w=()=>{if(s){be.warning("Завершите создание заявки или сохраните черновик перед переходом",{duration:4e3});return}l&&l("drafts"),t("requests")},b=v=>{if(s){be.warning("Завершите создание заявки или сохраните черновик перед переходом",{duration:4e3});return}l&&l(v),t("requests")};return n.jsxs("nav",{className:"w-full md:w-64 border-r bg-white p-4 overflow-y-auto",children:[n.jsx("div",{className:"space-y-2",children:h.map(v=>n.jsxs(X,{variant:e===v.id?"secondary":"ghost",className:Ve("w-full justify-start gap-3",v.id==="unallocated"?"h-auto py-2 min-h-[2.5rem]":"h-10",e===v.id&&"bg-accent",s&&"opacity-50 cursor-not-allowed"),onClick:()=>j(v.id),disabled:s,children:[v.icon,n.jsx("span",{className:v.id==="unallocated"?"whitespace-normal break-words":"",children:v.label}),v.badge&&n.jsx("span",{className:"ml-auto bg-primary text-primary-foreground rounded-full px-2 py-0.5 text-xs",children:v.badge})]},v.id))}),n.jsxs("div",{className:Ve("mt-8 p-3 bg-muted rounded-lg",s&&"opacity-50"),children:[n.jsx("h4",{className:"font-medium mb-2",children:"Быстрая статистика"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[r==="EXECUTOR"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:w,children:[n.jsx(Jt,{className:"h-3 w-3 text-gray-500"}),n.jsxs("span",{children:[g.draft||0," черновик"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jt,{className:"h-3 w-3 text-orange-500"}),n.jsxs("span",{children:[g.underReview||0," на рассмотрении"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rt,{className:"h-3 w-3 text-red-500"}),n.jsxs("span",{children:[g.returnedForRevision||0," возвращен на доработку"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsxs("span",{children:[g.paid||0," оплачен"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rt,{className:"h-3 w-3 text-red-600"}),n.jsxs("span",{children:[g.declined||0," отклонен"]})]})]}),r==="REGISTRAR"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:()=>b("newRequests"),children:[n.jsx(Jt,{className:"h-3 w-3 text-orange-500"}),n.jsxs("span",{children:[g.inWork||0," в работе"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsxs("span",{children:[g.registered||0," зарегистрировано"]})]}),n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:()=>b("overdue"),children:[n.jsx(Rt,{className:"h-3 w-3 text-red-500"}),n.jsxs("span",{children:[g.overdue||0," просрочено"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rt,{className:"h-3 w-3 text-yellow-500"}),n.jsxs("span",{children:[g.returnedForRevision||0," возвращено на доработку"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wj,{className:"h-3 w-3 text-red-600"}),n.jsxs("span",{children:[g.declined||0," отклонено"]})]})]}),r==="DISTRIBUTOR"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jt,{className:"h-3 w-3 text-orange-500"}),n.jsx("span",{children:"1 в работе"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rt,{className:"h-3 w-3 text-yellow-500"}),n.jsx("span",{children:"0 отправлен на доработку"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{children:"15 утвержден на оплату"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{children:"25 оплачен"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wj,{className:"h-3 w-3 text-red-600"}),n.jsx("span",{children:"0 отклонен"})]})]}),r==="TREASURER"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jt,{className:"h-3 w-3 text-orange-500"}),n.jsx("span",{children:"2 в работе"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rt,{className:"h-3 w-3 text-yellow-500"}),n.jsx("span",{children:"1 отправлен на доработку"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{children:"5 включен в реестр на оплату"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{children:"25 оплачен"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rt,{className:"h-3 w-3 text-red-500"}),n.jsx("span",{children:"0 отклонен"})]})]}),r==="ADMIN"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{children:"4 активных пользователя"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(em,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{children:"12 справочников"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kd,{className:"h-3 w-3 text-gray-500"}),n.jsx("span",{children:"3 маршрута настроено"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{children:"Система работает"})]})]})]})]})]})}const E7={currentUser:null,currentRole:"EXECUTOR",currentPage:"dashboard",showCreateForm:!1,selectedRequestId:null,viewMode:"list",dashboardFilter:null,isLoading:!0,paymentRequests:[]};function T7(e,t){switch(t.type){case"SET_CURRENT_USER":return{...e,currentUser:t.payload};case"SET_CURRENT_ROLE":return{...e,currentRole:t.payload};case"SET_CURRENT_PAGE":return{...e,currentPage:t.payload};case"SET_SHOW_CREATE_FORM":return{...e,showCreateForm:t.payload};case"SET_SELECTED_REQUEST_ID":return{...e,selectedRequestId:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"SET_DASHBOARD_FILTER":return{...e,dashboardFilter:t.payload};case"SET_IS_LOADING":return{...e,isLoading:t.payload};case"SET_PAYMENT_REQUESTS":return{...e,paymentRequests:t.payload};case"UPDATE_PAYMENT_REQUEST":return{...e,paymentRequests:e.paymentRequests.map(r=>r.id===t.payload.id?t.payload:r)};case"ADD_PAYMENT_REQUEST":return{...e,paymentRequests:[t.payload,...e.paymentRequests]};case"RESET_FORM_STATE":return{...e,showCreateForm:!1,selectedRequestId:null,viewMode:"list"};case"RESET_ROLE_STATE":return{...e,currentPage:"dashboard",showCreateForm:!1,viewMode:"list",selectedRequestId:null,dashboardFilter:null};default:return e}}const cM=x.createContext(null);function A7({children:e}){const[t,r]=x.useReducer(T7,E7);return n.jsx(cM.Provider,{value:{state:t,dispatch:r},children:e})}function qi(){const e=x.useContext(cM);if(!e)throw new Error("useAppState must be used within an AppStateProvider");return e}const ye={setCurrentUser:e=>({type:"SET_CURRENT_USER",payload:e}),setCurrentRole:e=>({type:"SET_CURRENT_ROLE",payload:e}),setCurrentPage:e=>({type:"SET_CURRENT_PAGE",payload:e}),setShowCreateForm:e=>({type:"SET_SHOW_CREATE_FORM",payload:e}),setSelectedRequestId:e=>({type:"SET_SELECTED_REQUEST_ID",payload:e}),setViewMode:e=>({type:"SET_VIEW_MODE",payload:e}),setDashboardFilter:e=>({type:"SET_DASHBOARD_FILTER",payload:e}),setIsLoading:e=>({type:"SET_IS_LOADING",payload:e}),setPaymentRequests:e=>({type:"SET_PAYMENT_REQUESTS",payload:e}),updatePaymentRequest:e=>({type:"UPDATE_PAYMENT_REQUEST",payload:e}),addPaymentRequest:e=>({type:"ADD_PAYMENT_REQUEST",payload:e}),resetFormState:()=>({type:"RESET_FORM_STATE"}),resetRoleState:()=>({type:"RESET_ROLE_STATE"})};let lm=!0;const R7=e=>{lm=e,console.log(`API mode switched to: ${e?"MOCK":"API"}`),localStorage.setItem("api_mode",e?"mock":"api")},P7=()=>({useMockData:lm,mode:lm?"mock":"api"}),I7=()=>{const e=localStorage.getItem("api_mode");e&&(lm=e==="mock")};I7();function uM(){const{state:e,dispatch:t}=qi(),r=x.useCallback(async()=>{try{console.log("Starting to load initial data..."),t(ye.setIsLoading(!0)),console.log("Loading current user...");const v=await Vu.getCurrentUser();console.log("User loaded:",v),v&&v.is_active?t(ye.setCurrentUser(v)):(console.log("User is inactive, not setting current user"),t(ye.setCurrentUser(null))),console.log("Initial data loading completed successfully")}catch(v){console.error("Failed to load initial data:",v),be.error(`Ошибка загрузки данных: ${v.message||v}`)}finally{t(ye.setIsLoading(!1))}},[t]),a=x.useCallback(async v=>{try{console.log("Loading requests for role change:",v);const N=await dt.getAll({role:v});console.log("Requests loaded for role:",v,N.length),t(ye.setPaymentRequests(N))}catch(N){console.error("Failed to load requests for role:",v,N),be.error(`Ошибка загрузки заявок для роли ${k7(v)}: ${N.message||N}`)}},[t]),s=x.useCallback(async v=>{try{t(ye.setIsLoading(!0));const N=e.currentUser?.id||"dev-user-123";if(e.selectedRequestId&&v.id){const S=await dt.update(e.selectedRequestId,v);t(ye.updatePaymentRequest(S)),v.status==="draft"?be.success(`Черновик заявки ${S.requestNumber} успешно обновлен`):be.success(`Заявка ${S.requestNumber} успешно обновлена и отправлена на регистрацию`)}else{const S=await dt.create(v);t(ye.addPaymentRequest(S)),v.status==="draft"?be.success(`Черновик заявки ${S.requestNumber} успешно сохранен`):be.success(`Заявка ${S.requestNumber} успешно создана и отправлена на регистрацию`)}t(ye.resetFormState()),t(ye.setCurrentPage("requests"))}catch(N){console.error("Failed to submit request:",N),be.error(v.status==="draft"?"Ошибка сохранения черновика":"Ошибка создания заявки")}finally{t(ye.setIsLoading(!1))}},[e.currentUser,e.selectedRequestId,t]),i=x.useCallback(async v=>{try{t(ye.setIsLoading(!0));const N=e.currentUser?.id||"dev-user-123";if(e.selectedRequestId&&v.id){const S=await dt.update(e.selectedRequestId,{...v,status:"draft"});t(ye.updatePaymentRequest(S)),be.success(`Черновик заявки ${S.requestNumber} успешно обновлен`)}else{const S=await dt.create({...v,status:"draft"});t(ye.addPaymentRequest(S)),be.success(`Черновик заявки ${S.requestNumber} успешно сохранен`)}t(ye.resetFormState()),t(ye.setCurrentPage("requests"))}catch(N){console.error("Failed to save draft:",N),be.error("Ошибка сохранения черновика")}finally{t(ye.setIsLoading(!1))}},[e.currentUser,e.selectedRequestId,t]),l=x.useCallback(async(v,N)=>{if(e.selectedRequestId)try{t(ye.setIsLoading(!0));const S=await dt.classify(e.selectedRequestId,v,N);t(ye.updatePaymentRequest(S)),t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null)),t(ye.setCurrentPage("dashboard")),be.success("Заявка классифицирована и отправлена распорядителю")}catch(S){console.error("Failed to classify request:",S),be.error("Ошибка классификации заявки")}finally{t(ye.setIsLoading(!1))}},[e.selectedRequestId,t]),u=x.useCallback(async(v,N)=>{if(e.selectedRequestId)try{t(ye.setIsLoading(!0));const S=await dt.classify(e.selectedRequestId,v,N);t(ye.updatePaymentRequest(S));const C=await dt.sendToDistributor(e.selectedRequestId,v,N);t(ye.updatePaymentRequest(C)),t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null)),t(ye.setCurrentPage("dashboard")),be.success("Заявка классифицирована и отправлена распорядителю для проверки контрактов и нормативов")}catch(S){console.error("Failed to classify and send request to distributor:",S),be.error("Ошибка отправки заявки распорядителю")}finally{t(ye.setIsLoading(!1))}},[e.selectedRequestId,t]),d=x.useCallback(async v=>{if(e.selectedRequestId)try{t(ye.setIsLoading(!0));const N=await dt.returnRequest(e.selectedRequestId,v);t(ye.updatePaymentRequest(N)),t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null)),t(ye.setCurrentPage("dashboard")),be.success("Заявка возвращена")}catch(N){console.error("Failed to return request:",N),be.error("Ошибка возврата заявки")}finally{t(ye.setIsLoading(!1))}},[e.selectedRequestId,t]),f=x.useCallback(async(v,N,S)=>{if(e.selectedRequestId)try{t(ye.setIsLoading(!0));const C=await dt.approve(e.selectedRequestId,v,N,S);t(ye.updatePaymentRequest(C)),t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null)),be.success("Заявка утверждена и отправлена казначею")}catch(C){console.error("Failed to approve request:",C),be.error("Ошибка утверждения заявки")}finally{t(ye.setIsLoading(!1))}},[e.selectedRequestId,t]),h=x.useCallback(async(v,N,S)=>{if(e.selectedRequestId)try{t(ye.setIsLoading(!0));const C=await dt.updateStatus(e.selectedRequestId,"approved-on-behalf",{paymentAllocations:v,priority:N,executionComment:S});t(ye.updatePaymentRequest(C)),t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null)),be.success("Заявка согласована по поручению руководства и отправлена казначею")}catch(C){console.error("Failed to approve request on behalf:",C),be.error("Ошибка согласования заявки по поручению")}finally{t(ye.setIsLoading(!1))}},[e.selectedRequestId,t]),m=x.useCallback(async v=>{if(e.selectedRequestId)try{t(ye.setIsLoading(!0));const N=await dt.updateStatus(e.selectedRequestId,"declined",{executionComment:v});t(ye.updatePaymentRequest(N)),t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null)),be.success("Заявка отклонена")}catch(N){console.error("Failed to decline request:",N),be.error("Ошибка отклонения заявки")}finally{t(ye.setIsLoading(!1))}},[e.selectedRequestId,t]),g=x.useCallback(async(v,N)=>{if(e.selectedRequestId)try{t(ye.setIsLoading(!0));const S=await dt.updateStatus(e.selectedRequestId,v,N);t(ye.updatePaymentRequest(S)),t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null)),be.success(O7(v))}catch(S){console.error("Failed to update request status:",S),be.error("Ошибка обновления статуса заявки")}finally{t(ye.setIsLoading(!1))}},[e.selectedRequestId,t]),j=x.useCallback(async(v,N,S)=>{if(e.selectedRequestId)try{t(ye.setIsLoading(!0));const C=await dt.distributorAction(e.selectedRequestId,"approve",S,v,N);t(ye.updatePaymentRequest(C)),t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null)),be.success("Заявка утверждена распорядителем и отправлена казначею")}catch(C){console.error("Failed to approve request as distributor:",C),be.error("Ошибка утверждения заявки распорядителем")}finally{t(ye.setIsLoading(!1))}},[e.selectedRequestId,t]),w=x.useCallback(async v=>{if(e.selectedRequestId)try{t(ye.setIsLoading(!0));const N=await dt.distributorAction(e.selectedRequestId,"decline",v);t(ye.updatePaymentRequest(N)),t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null)),be.success("Заявка отклонена распорядителем")}catch(N){console.error("Failed to decline request as distributor:",N),be.error("Ошибка отклонения заявки распорядителем")}finally{t(ye.setIsLoading(!1))}},[e.selectedRequestId,t]),b=x.useCallback(async v=>{if(e.selectedRequestId)try{t(ye.setIsLoading(!0));const N=await dt.distributorAction(e.selectedRequestId,"return",v);t(ye.updatePaymentRequest(N)),t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null)),be.success("Заявка возвращена распорядителем регистратору")}catch(N){console.error("Failed to return request as distributor:",N),be.error("Ошибка возврата заявки регистратору")}finally{t(ye.setIsLoading(!1))}},[e.selectedRequestId,t]);return{loadInitialData:r,loadRequestsForRole:a,submitRequest:s,saveDraft:i,classifyRequest:l,classifyRequestWithItems:u,returnRequest:d,approveRequest:f,approveOnBehalfRequest:h,declineRequest:m,treasurerUpdateStatus:g,distributorApprove:j,distributorDecline:w,distributorReturn:b}}function k7(e){return{executor:"Исполнитель",registrar:"Регистратор",distributor:"Распорядитель",treasurer:"Казначей",admin:"Администратор"}[e]}function O7(e){switch(e){case"in-register":return"Платеж включен в реестр на оплату";case"approved-for-payment":return"Платеж утвержден к оплате";case"paid-full":return"Платеж отмечен как оплаченный полностью";case"paid-partial":return"Платеж отмечен как частично оплаченный";case"declined":return"Платеж отклонен";case"cancelled":return"Платеж аннулирован";default:return"Статус платежа обновлен"}}function D7(){const{state:e,dispatch:t}=qi(),{loadRequestsForRole:r}=uM(),a=x.useCallback(async i=>{t(ye.setCurrentRole(i)),t(ye.resetRoleState()),be.success(`Переключились на роль: ${s(i)}`),await r(i)},[t,r]),s=i=>({executor:"Исполнитель",registrar:"Регистратор",distributor:"Распорядитель",treasurer:"Казначей",admin:"Администратор"})[i];return{handleRoleChange:a,getRoleLabel:s}}function M7(){const{state:e,dispatch:t}=qi(),r=x.useCallback(()=>{e.currentRole==="EXECUTOR"&&t(ye.setShowCreateForm(!0))},[e.currentRole,t]),a=x.useCallback(i=>{t(ye.setSelectedRequestId(i));const l=e.paymentRequests.find(u=>u.id===i);e.currentRole==="EXECUTOR"?(t(ye.setCurrentPage("requests")),l&&l.status==="draft"?t(ye.setShowCreateForm(!0)):t(ye.setViewMode("view"))):e.currentRole==="REGISTRAR"?(t(ye.setCurrentPage("requests")),l&&l.status==="submitted"?t(ye.setViewMode("classify-items")):t(ye.setViewMode("view"))):e.currentRole==="DISTRIBUTOR"?(t(ye.setCurrentPage("requests")),l&&l.status==="classified"?t(ye.setViewMode("approve")):t(ye.setViewMode("view"))):e.currentRole==="TREASURER"&&(l&&["approved","in-register","approved-for-payment"].includes(l.status)?(t(ye.setCurrentPage("requests")),t(ye.setViewMode("treasurer-approve"))):be.info("Заявка не требует обработки казначеем"))},[e.currentRole,e.paymentRequests,t]),s=x.useCallback(i=>{t(ye.updatePaymentRequest(i))},[t]);return{handleCreateRequest:r,handleViewRequest:a,handleRequestUpdate:s}}var dM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$7="VisuallyHidden",fM=x.forwardRef((e,t)=>n.jsx(st.span,{...e,ref:t,style:{...dM,...e.style}}));fM.displayName=$7;var L7=fM,[Cp,hpe]=Dn("Tooltip",[zi]),Ep=zi(),hM="TooltipProvider",F7=700,iw="tooltip.open",[U7,J1]=Cp(hM),mM=e=>{const{__scopeTooltip:t,delayDuration:r=F7,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,l=x.useRef(!0),u=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),n.jsx(U7,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,a)},[a]),isPointerInTransitRef:u,onPointerInTransitChange:x.useCallback(f=>{u.current=f},[]),disableHoverableContent:s,children:i})};mM.displayName=hM;var id="Tooltip",[B7,rf]=Cp(id),pM=e=>{const{__scopeTooltip:t,children:r,open:a,defaultOpen:s,onOpenChange:i,disableHoverableContent:l,delayDuration:u}=e,d=J1(id,e.__scopeTooltip),f=Ep(t),[h,m]=x.useState(null),g=zr(),j=x.useRef(0),w=l??d.disableHoverableContent,b=u??d.delayDuration,v=x.useRef(!1),[N,S]=ls({prop:a,defaultProp:s??!1,onChange:P=>{P?(d.onOpen(),document.dispatchEvent(new CustomEvent(iw))):d.onClose(),i?.(P)},caller:id}),C=x.useMemo(()=>N?v.current?"delayed-open":"instant-open":"closed",[N]),A=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,v.current=!1,S(!0)},[S]),_=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,S(!1)},[S]),T=x.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>{v.current=!0,S(!0),j.current=0},b)},[b,S]);return x.useEffect(()=>()=>{j.current&&(window.clearTimeout(j.current),j.current=0)},[]),n.jsx(gp,{...f,children:n.jsx(B7,{scope:t,contentId:g,open:N,stateAttribute:C,trigger:h,onTriggerChange:m,onTriggerEnter:x.useCallback(()=>{d.isOpenDelayedRef.current?T():A()},[d.isOpenDelayedRef,T,A]),onTriggerLeave:x.useCallback(()=>{w?_():(window.clearTimeout(j.current),j.current=0)},[_,w]),onOpen:A,onClose:_,disableHoverableContent:w,children:r})})};pM.displayName=id;var ow="TooltipTrigger",gM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=rf(ow,r),i=J1(ow,r),l=Ep(r),u=x.useRef(null),d=Nt(t,u,s.onTriggerChange),f=x.useRef(!1),h=x.useRef(!1),m=x.useCallback(()=>f.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(Qd,{asChild:!0,...l,children:n.jsx(st.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:d,onPointerMove:ze(e.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ze(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ze(e.onPointerDown,()=>{s.open&&s.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ze(e.onFocus,()=>{f.current||s.onOpen()}),onBlur:ze(e.onBlur,s.onClose),onClick:ze(e.onClick,s.onClose)})})});gM.displayName=ow;var eN="TooltipPortal",[z7,q7]=Cp(eN,{forceMount:void 0}),vM=e=>{const{__scopeTooltip:t,forceMount:r,children:a,container:s}=e,i=rf(eN,t);return n.jsx(z7,{scope:t,forceMount:r,children:n.jsx(Mn,{present:r||i.open,children:n.jsx(_c,{asChild:!0,container:s,children:a})})})};vM.displayName=eN;var Xl="TooltipContent",xM=x.forwardRef((e,t)=>{const r=q7(Xl,e.__scopeTooltip),{forceMount:a=r.forceMount,side:s="top",...i}=e,l=rf(Xl,e.__scopeTooltip);return n.jsx(Mn,{present:a||l.open,children:l.disableHoverableContent?n.jsx(yM,{side:s,...i,ref:t}):n.jsx(W7,{side:s,...i,ref:t})})}),W7=x.forwardRef((e,t)=>{const r=rf(Xl,e.__scopeTooltip),a=J1(Xl,e.__scopeTooltip),s=x.useRef(null),i=Nt(t,s),[l,u]=x.useState(null),{trigger:d,onClose:f}=r,h=s.current,{onPointerInTransitChange:m}=a,g=x.useCallback(()=>{u(null),m(!1)},[m]),j=x.useCallback((w,b)=>{const v=w.currentTarget,N={x:w.clientX,y:w.clientY},S=K7(N,v.getBoundingClientRect()),C=Y7(N,S),A=X7(b.getBoundingClientRect()),_=Z7([...C,...A]);u(_),m(!0)},[m]);return x.useEffect(()=>()=>g(),[g]),x.useEffect(()=>{if(d&&h){const w=v=>j(v,h),b=v=>j(v,d);return d.addEventListener("pointerleave",w),h.addEventListener("pointerleave",b),()=>{d.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",b)}}},[d,h,j,g]),x.useEffect(()=>{if(l){const w=b=>{const v=b.target,N={x:b.clientX,y:b.clientY},S=d?.contains(v)||h?.contains(v),C=!Q7(N,l);S?g():C&&(g(),f())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[d,h,l,f,g]),n.jsx(yM,{...e,ref:i})}),[V7,H7]=Cp(id,{isInside:!1}),G7=bO("TooltipContent"),yM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...u}=e,d=rf(Xl,r),f=Ep(r),{onClose:h}=d;return x.useEffect(()=>(document.addEventListener(iw,h),()=>document.removeEventListener(iw,h)),[h]),x.useEffect(()=>{if(d.trigger){const m=g=>{g.target?.contains(d.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,h]),n.jsx(wc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:n.jsxs(vp,{"data-state":d.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(G7,{children:a}),n.jsx(V7,{scope:r,isInside:!0,children:n.jsx(L7,{id:d.contentId,role:"tooltip",children:s||a})})]})})});xM.displayName=Xl;var bM="TooltipArrow",jM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=Ep(r);return H7(bM,r).isInside?null:n.jsx(xp,{...s,...a,ref:t})});jM.displayName=bM;function K7(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,a,s,i)){case i:return"left";case s:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function Y7(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function X7(e){const{top:t,right:r,bottom:a,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:a},{x:s,y:a}]}function Q7(e,t){const{x:r,y:a}=e;let s=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const u=t[i],d=t[l],f=u.x,h=u.y,m=d.x,g=d.y;h>a!=g>a&&r<(m-f)*(a-h)/(g-h)+f&&(s=!s)}return s}function Z7(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),J7(t)}function J7(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const s=e[a];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;r.length>=2;){const i=r[r.length-1],l=r[r.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var e9=mM,t9=pM,r9=gM,n9=vM,a9=xM,s9=jM;function Tp({delayDuration:e=0,...t}){return n.jsx(e9,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function od({...e}){return n.jsx(Tp,{children:n.jsx(t9,{"data-slot":"tooltip",...e})})}function ld({...e}){return n.jsx(r9,{"data-slot":"tooltip-trigger",...e})}function cd({className:e,sideOffset:t=0,children:r,...a}){return n.jsx(n9,{children:n.jsxs(a9,{"data-slot":"tooltip-content",sideOffset:t,className:Ve("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...a,children:[r,n.jsx(s9,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const i9={draft:{label:"Черновик",variant:"secondary",className:"bg-gray-100 text-gray-800"},submitted:{label:"Новая",variant:"secondary",className:"bg-blue-100 text-blue-800"},classified:{label:"Классифицирована",variant:"secondary",className:"bg-yellow-100 text-yellow-800"},allocated:{label:"Распределена",variant:"secondary",className:"bg-purple-100 text-purple-800"},returned:{label:"Возвращена",variant:"secondary",className:"bg-orange-100 text-orange-800"},approved:{label:"Утверждена",variant:"secondary",className:"bg-green-100 text-green-800"},"approved-on-behalf":{label:"Согласована по поручению рук-ва",variant:"secondary",className:"bg-violet-100 text-violet-800"},"to-pay":{label:"К оплате",variant:"secondary",className:"bg-indigo-100 text-indigo-800"},"in-register":{label:"В реестре",variant:"secondary",className:"bg-cyan-100 text-cyan-800"},"approved-for-payment":{label:"Утверждена к оплате",variant:"secondary",className:"bg-teal-100 text-teal-800"},"paid-full":{label:"Оплачена полностью",variant:"secondary",className:"bg-emerald-100 text-emerald-800"},"paid-partial":{label:"Оплачена частично",variant:"secondary",className:"bg-lime-100 text-lime-800"},declined:{label:"Отклонена",variant:"secondary",className:"bg-red-100 text-red-800"},rejected:{label:"Отклонена",variant:"secondary",className:"bg-red-100 text-red-800"},cancelled:{label:"Аннулирована",variant:"secondary",className:"bg-slate-100 text-slate-800"}};function Wo({status:e,className:t,showTooltip:r,responsible:a,statusTime:s}){const i=i9[e];if(!i)return console.warn(`Unknown status: ${e}`),n.jsx(je,{variant:"secondary",className:`bg-gray-100 text-gray-800 border-0 ${t||""}`,children:e});const l=n.jsx(je,{variant:i.variant,className:`${i.className} border-0 ${t||""}`,children:i.label});return r&&a?n.jsx(Tp,{children:n.jsxs(od,{children:[n.jsx(ld,{asChild:!0,children:n.jsx("span",{children:l})}),n.jsx(cd,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium",children:["Ответственный: ",a]}),n.jsxs("div",{children:["Статус: ",i.label]}),s&&n.jsxs("div",{children:["Время: ",s]})]})})]})}):l}var tN="Progress",rN=100,[o9,mpe]=Dn(tN),[l9,c9]=o9(tN),wM=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:s,getValueLabel:i=u9,...l}=e;(s||s===0)&&!c2(s)&&console.error(d9(`${s}`,"Progress"));const u=c2(s)?s:rN;a!==null&&!u2(a,u)&&console.error(f9(`${a}`,"Progress"));const d=u2(a,u)?a:null,f=cm(d)?i(d,u):void 0;return n.jsx(l9,{scope:r,value:d,max:u,children:n.jsx(st.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":cm(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":_M(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});wM.displayName=tN;var NM="ProgressIndicator",SM=x.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,s=c9(NM,r);return n.jsx(st.div,{"data-state":_M(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});SM.displayName=NM;function u9(e,t){return`${Math.round(e/t*100)}%`}function _M(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function cm(e){return typeof e=="number"}function c2(e){return cm(e)&&!isNaN(e)&&e>0}function u2(e,t){return cm(e)&&!isNaN(e)&&e<=t&&e>=0}function d9(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${rN}\`.`}function f9(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${rN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var h9=wM,m9=SM;function nN({className:e,value:t,...r}){return n.jsx(h9,{"data-slot":"progress",className:Ve("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:n.jsx(m9,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function d2(e,[t,r]){return Math.min(r,Math.max(t,e))}function aN(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var p9=[" ","Enter","ArrowUp","ArrowDown"],g9=[" ","Enter"],Io="Select",[Ap,Rp,v9]=M1(Io),[Cc,ppe]=Dn(Io,[v9,zi]),Pp=zi(),[x9,Wi]=Cc(Io),[y9,b9]=Cc(Io),CM=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:s,onOpenChange:i,value:l,defaultValue:u,onValueChange:d,dir:f,name:h,autoComplete:m,disabled:g,required:j,form:w}=e,b=Pp(t),[v,N]=x.useState(null),[S,C]=x.useState(null),[A,_]=x.useState(!1),T=up(f),[P,O]=ls({prop:a,defaultProp:s??!1,onChange:i,caller:Io}),[I,B]=ls({prop:l,defaultProp:u,onChange:d,caller:Io}),q=x.useRef(null),G=v?w||!!v.closest("form"):!0,[V,Z]=x.useState(new Set),$=Array.from(V).map(M=>M.props.value).join(";");return n.jsx(gp,{...b,children:n.jsxs(x9,{required:j,scope:t,trigger:v,onTriggerChange:N,valueNode:S,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:_,contentId:zr(),value:I,onValueChange:B,open:P,onOpenChange:O,dir:T,triggerPointerDownPosRef:q,disabled:g,children:[n.jsx(Ap.Provider,{scope:t,children:n.jsx(y9,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(M=>{Z(k=>new Set(k).add(M))},[]),onNativeOptionRemove:x.useCallback(M=>{Z(k=>{const D=new Set(k);return D.delete(M),D})},[]),children:r})}),G?n.jsxs(KM,{"aria-hidden":!0,required:j,tabIndex:-1,name:h,autoComplete:m,value:I,onChange:M=>B(M.target.value),disabled:g,form:w,children:[I===void 0?n.jsx("option",{value:""}):null,Array.from(V)]},$):null]})})};CM.displayName=Io;var EM="SelectTrigger",TM=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...s}=e,i=Pp(r),l=Wi(EM,r),u=l.disabled||a,d=Nt(t,l.onTriggerChange),f=Rp(r),h=x.useRef("touch"),[m,g,j]=XM(b=>{const v=f().filter(C=>!C.disabled),N=v.find(C=>C.value===l.value),S=QM(v,b,N);S!==void 0&&l.onValueChange(S.value)}),w=b=>{u||(l.onOpenChange(!0),j()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return n.jsx(Qd,{asChild:!0,...i,children:n.jsx(st.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":YM(l.value)?"":void 0,...s,ref:d,onClick:ze(s.onClick,b=>{b.currentTarget.focus(),h.current!=="mouse"&&w(b)}),onPointerDown:ze(s.onPointerDown,b=>{h.current=b.pointerType;const v=b.target;v.hasPointerCapture(b.pointerId)&&v.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:ze(s.onKeyDown,b=>{const v=m.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(v&&b.key===" ")&&p9.includes(b.key)&&(w(),b.preventDefault())})})})});TM.displayName=EM;var AM="SelectValue",RM=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,children:i,placeholder:l="",...u}=e,d=Wi(AM,r),{onValueNodeHasChildrenChange:f}=d,h=i!==void 0,m=Nt(t,d.onValueNodeChange);return dn(()=>{f(h)},[f,h]),n.jsx(st.span,{...u,ref:m,style:{pointerEvents:"none"},children:YM(d.value)?n.jsx(n.Fragment,{children:l}):i})});RM.displayName=AM;var j9="SelectIcon",PM=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...s}=e;return n.jsx(st.span,{"aria-hidden":!0,...s,ref:t,children:a||"▼"})});PM.displayName=j9;var w9="SelectPortal",IM=e=>n.jsx(_c,{asChild:!0,...e});IM.displayName=w9;var ko="SelectContent",kM=x.forwardRef((e,t)=>{const r=Wi(ko,e.__scopeSelect),[a,s]=x.useState();if(dn(()=>{s(new DocumentFragment)},[]),!r.open){const i=a;return i?Hd.createPortal(n.jsx(OM,{scope:e.__scopeSelect,children:n.jsx(Ap.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(DM,{...e,ref:t})});kM.displayName=ko;var Aa=10,[OM,Vi]=Cc(ko),N9="SelectContentImpl",S9=ki("SelectContent.RemoveScroll"),DM=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:j,sticky:w,hideWhenDetached:b,avoidCollisions:v,...N}=e,S=Wi(ko,r),[C,A]=x.useState(null),[_,T]=x.useState(null),P=Nt(t,K=>A(K)),[O,I]=x.useState(null),[B,q]=x.useState(null),G=Rp(r),[V,Z]=x.useState(!1),$=x.useRef(!1);x.useEffect(()=>{if(C)return bp(C)},[C]),dp();const M=x.useCallback(K=>{const[fe,...le]=G().map(re=>re.ref.current),[Ee]=le.slice(-1),De=document.activeElement;for(const re of K)if(re===De||(re?.scrollIntoView({block:"nearest"}),re===fe&&_&&(_.scrollTop=0),re===Ee&&_&&(_.scrollTop=_.scrollHeight),re?.focus(),document.activeElement!==De))return},[G,_]),k=x.useCallback(()=>M([O,C]),[M,O,C]);x.useEffect(()=>{V&&k()},[V,k]);const{onOpenChange:D,triggerPointerDownPosRef:W}=S;x.useEffect(()=>{if(C){let K={x:0,y:0};const fe=Ee=>{K={x:Math.abs(Math.round(Ee.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(Ee.pageY)-(W.current?.y??0))}},le=Ee=>{K.x<=10&&K.y<=10?Ee.preventDefault():C.contains(Ee.target)||D(!1),document.removeEventListener("pointermove",fe),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",le,{capture:!0})}}},[C,D,W]),x.useEffect(()=>{const K=()=>D(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[D]);const[H,z]=XM(K=>{const fe=G().filter(De=>!De.disabled),le=fe.find(De=>De.ref.current===document.activeElement),Ee=QM(fe,K,le);Ee&&setTimeout(()=>Ee.ref.current.focus())}),F=x.useCallback((K,fe,le)=>{const Ee=!$.current&&!le;(S.value!==void 0&&S.value===fe||Ee)&&(I(K),Ee&&($.current=!0))},[S.value]),L=x.useCallback(()=>C?.focus(),[C]),Y=x.useCallback((K,fe,le)=>{const Ee=!$.current&&!le;(S.value!==void 0&&S.value===fe||Ee)&&q(K)},[S.value]),ee=a==="popper"?lw:MM,ce=ee===lw?{side:u,sideOffset:d,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:j,sticky:w,hideWhenDetached:b,avoidCollisions:v}:{};return n.jsx(OM,{scope:r,content:C,viewport:_,onViewportChange:T,itemRefCallback:F,selectedItem:O,onItemLeave:L,itemTextRefCallback:Y,focusSelectedItem:k,selectedItemText:B,position:a,isPositioned:V,searchRef:H,children:n.jsx(Jd,{as:S9,allowPinchZoom:!0,children:n.jsx(Yd,{asChild:!0,trapped:S.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:ze(s,K=>{S.trigger?.focus({preventScroll:!0}),K.preventDefault()}),children:n.jsx(wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:n.jsx(ee,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:K=>K.preventDefault(),...N,...ce,onPlaced:()=>Z(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:ze(N.onKeyDown,K=>{const fe=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!fe&&K.key.length===1&&z(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let Ee=G().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(K.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const De=K.target,re=Ee.indexOf(De);Ee=Ee.slice(re+1)}setTimeout(()=>M(Ee)),K.preventDefault()}})})})})})})});DM.displayName=N9;var _9="SelectItemAlignedPosition",MM=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...s}=e,i=Wi(ko,r),l=Vi(ko,r),[u,d]=x.useState(null),[f,h]=x.useState(null),m=Nt(t,P=>h(P)),g=Rp(r),j=x.useRef(!1),w=x.useRef(!0),{viewport:b,selectedItem:v,selectedItemText:N,focusSelectedItem:S}=l,C=x.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&f&&b&&v&&N){const P=i.trigger.getBoundingClientRect(),O=f.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),B=N.getBoundingClientRect();if(i.dir!=="rtl"){const De=B.left-O.left,re=I.left-De,$e=P.left-re,oe=P.width+$e,Ce=Math.max(oe,O.width),Ue=window.innerWidth-Aa,ot=d2(re,[Aa,Math.max(Aa,Ue-Ce)]);u.style.minWidth=oe+"px",u.style.left=ot+"px"}else{const De=O.right-B.right,re=window.innerWidth-I.right-De,$e=window.innerWidth-P.right-re,oe=P.width+$e,Ce=Math.max(oe,O.width),Ue=window.innerWidth-Aa,ot=d2(re,[Aa,Math.max(Aa,Ue-Ce)]);u.style.minWidth=oe+"px",u.style.right=ot+"px"}const q=g(),G=window.innerHeight-Aa*2,V=b.scrollHeight,Z=window.getComputedStyle(f),$=parseInt(Z.borderTopWidth,10),M=parseInt(Z.paddingTop,10),k=parseInt(Z.borderBottomWidth,10),D=parseInt(Z.paddingBottom,10),W=$+M+V+D+k,H=Math.min(v.offsetHeight*5,W),z=window.getComputedStyle(b),F=parseInt(z.paddingTop,10),L=parseInt(z.paddingBottom,10),Y=P.top+P.height/2-Aa,ee=G-Y,ce=v.offsetHeight/2,K=v.offsetTop+ce,fe=$+M+K,le=W-fe;if(fe<=Y){const De=q.length>0&&v===q[q.length-1].ref.current;u.style.bottom="0px";const re=f.clientHeight-b.offsetTop-b.offsetHeight,$e=Math.max(ee,ce+(De?L:0)+re+k),oe=fe+$e;u.style.height=oe+"px"}else{const De=q.length>0&&v===q[0].ref.current;u.style.top="0px";const $e=Math.max(Y,$+b.offsetTop+(De?F:0)+ce)+le;u.style.height=$e+"px",b.scrollTop=fe-Y+b.offsetTop}u.style.margin=`${Aa}px 0`,u.style.minHeight=H+"px",u.style.maxHeight=G+"px",a?.(),requestAnimationFrame(()=>j.current=!0)}},[g,i.trigger,i.valueNode,u,f,b,v,N,i.dir,a]);dn(()=>C(),[C]);const[A,_]=x.useState();dn(()=>{f&&_(window.getComputedStyle(f).zIndex)},[f]);const T=x.useCallback(P=>{P&&w.current===!0&&(C(),S?.(),w.current=!1)},[C,S]);return n.jsx(E9,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:j,onScrollButtonChange:T,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:n.jsx(st.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});MM.displayName=_9;var C9="SelectPopperPosition",lw=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:s=Aa,...i}=e,l=Pp(r);return n.jsx(vp,{...l,...i,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lw.displayName=C9;var[E9,sN]=Cc(ko,{}),cw="SelectViewport",$M=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...s}=e,i=Vi(cw,r),l=sN(cw,r),u=Nt(t,i.onViewportChange),d=x.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(Ap.Slot,{scope:r,children:n.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ze(s.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=l;if(g?.current&&m){const j=Math.abs(d.current-h.scrollTop);if(j>0){const w=window.innerHeight-Aa*2,b=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),N=Math.max(b,v);if(N<w){const S=N+j,C=Math.min(w,S),A=S-C;m.style.height=C+"px",m.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,m.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});$M.displayName=cw;var LM="SelectGroup",[T9,A9]=Cc(LM),R9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=zr();return n.jsx(T9,{scope:r,id:s,children:n.jsx(st.div,{role:"group","aria-labelledby":s,...a,ref:t})})});R9.displayName=LM;var FM="SelectLabel",P9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=A9(FM,r);return n.jsx(st.div,{id:s.id,...a,ref:t})});P9.displayName=FM;var um="SelectItem",[I9,UM]=Cc(um),BM=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:s=!1,textValue:i,...l}=e,u=Wi(um,r),d=Vi(um,r),f=u.value===a,[h,m]=x.useState(i??""),[g,j]=x.useState(!1),w=Nt(t,S=>d.itemRefCallback?.(S,a,s)),b=zr(),v=x.useRef("touch"),N=()=>{s||(u.onValueChange(a),u.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(I9,{scope:r,value:a,disabled:s,textId:b,isSelected:f,onItemTextChange:x.useCallback(S=>{m(C=>C||(S?.textContent??"").trim())},[]),children:n.jsx(Ap.ItemSlot,{scope:r,value:a,disabled:s,textValue:h,children:n.jsx(st.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:w,onFocus:ze(l.onFocus,()=>j(!0)),onBlur:ze(l.onBlur,()=>j(!1)),onClick:ze(l.onClick,()=>{v.current!=="mouse"&&N()}),onPointerUp:ze(l.onPointerUp,()=>{v.current==="mouse"&&N()}),onPointerDown:ze(l.onPointerDown,S=>{v.current=S.pointerType}),onPointerMove:ze(l.onPointerMove,S=>{v.current=S.pointerType,s?d.onItemLeave?.():v.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(l.onPointerLeave,S=>{S.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:ze(l.onKeyDown,S=>{d.searchRef?.current!==""&&S.key===" "||(g9.includes(S.key)&&N(),S.key===" "&&S.preventDefault())})})})})});BM.displayName=um;var Bu="SelectItemText",zM=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,...i}=e,l=Wi(Bu,r),u=Vi(Bu,r),d=UM(Bu,r),f=b9(Bu,r),[h,m]=x.useState(null),g=Nt(t,N=>m(N),d.onItemTextChange,N=>u.itemTextRefCallback?.(N,d.value,d.disabled)),j=h?.textContent,w=x.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:j},d.value),[d.disabled,d.value,j]),{onNativeOptionAdd:b,onNativeOptionRemove:v}=f;return dn(()=>(b(w),()=>v(w)),[b,v,w]),n.jsxs(n.Fragment,{children:[n.jsx(st.span,{id:d.textId,...i,ref:g}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Hd.createPortal(i.children,l.valueNode):null]})});zM.displayName=Bu;var qM="SelectItemIndicator",WM=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return UM(qM,r).isSelected?n.jsx(st.span,{"aria-hidden":!0,...a,ref:t}):null});WM.displayName=qM;var uw="SelectScrollUpButton",VM=x.forwardRef((e,t)=>{const r=Vi(uw,e.__scopeSelect),a=sN(uw,e.__scopeSelect),[s,i]=x.useState(!1),l=Nt(t,a.onScrollButtonChange);return dn(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;i(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?n.jsx(GM,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});VM.displayName=uw;var dw="SelectScrollDownButton",HM=x.forwardRef((e,t)=>{const r=Vi(dw,e.__scopeSelect),a=sN(dw,e.__scopeSelect),[s,i]=x.useState(!1),l=Nt(t,a.onScrollButtonChange);return dn(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<f;i(h)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?n.jsx(GM,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});HM.displayName=dw;var GM=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...s}=e,i=Vi("SelectScrollButton",r),l=x.useRef(null),u=Rp(r),d=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),dn(()=>{u().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),n.jsx(st.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ze(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(a,50))}),onPointerMove:ze(s.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(a,50))}),onPointerLeave:ze(s.onPointerLeave,()=>{d()})})}),k9="SelectSeparator",O9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return n.jsx(st.div,{"aria-hidden":!0,...a,ref:t})});O9.displayName=k9;var fw="SelectArrow",D9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=Pp(r),i=Wi(fw,r),l=Vi(fw,r);return i.open&&l.position==="popper"?n.jsx(xp,{...s,...a,ref:t}):null});D9.displayName=fw;var M9="SelectBubbleInput",KM=x.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const s=x.useRef(null),i=Nt(a,s),l=aN(t);return x.useEffect(()=>{const u=s.current;if(!u)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&h){const m=new Event("change",{bubbles:!0});h.call(u,t),u.dispatchEvent(m)}},[l,t]),n.jsx(st.select,{...r,style:{...dM,...r.style},ref:i,defaultValue:t})});KM.displayName=M9;function YM(e){return e===""||e===void 0}function XM(e){const t=cs(e),r=x.useRef(""),a=x.useRef(0),s=x.useCallback(l=>{const u=r.current+l;t(u),(function d(f){r.current=f,window.clearTimeout(a.current),f!==""&&(a.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,s,i]}function QM(e,t,r){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let l=$9(e,Math.max(i,0));s.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function $9(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var L9=CM,F9=TM,U9=RM,B9=PM,z9=IM,q9=kM,W9=$M,V9=BM,H9=zM,G9=WM,K9=VM,Y9=HM;function et({...e}){return n.jsx(L9,{"data-slot":"select",...e})}function tt({...e}){return n.jsx(U9,{"data-slot":"select-value",...e})}function rt({className:e,size:t="default",children:r,...a}){return n.jsxs(F9,{"data-slot":"select-trigger","data-size":t,className:Ve("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[r,n.jsx(B9,{asChild:!0,children:n.jsx(Qa,{className:"size-4 opacity-50"})})]})}function nt({className:e,children:t,position:r="popper",...a}){return n.jsx(z9,{children:n.jsxs(q9,{"data-slot":"select-content",className:Ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[n.jsx(X9,{}),n.jsx(W9,{className:Ve("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),n.jsx(Q9,{})]})})}function xe({className:e,children:t,...r}){return n.jsxs(V9,{"data-slot":"select-item",className:Ve("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[n.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:n.jsx(G9,{children:n.jsx(td,{className:"size-4"})})}),n.jsx(H9,{children:t})]})}function X9({className:e,...t}){return n.jsx(K9,{"data-slot":"select-scroll-up-button",className:Ve("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(w8,{className:"size-4"})})}function Q9({className:e,...t}){return n.jsx(Y9,{"data-slot":"select-scroll-down-button",className:Ve("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Qa,{className:"size-4"})})}var Cx,f2;function $n(){if(f2)return Cx;f2=1;var e=Array.isArray;return Cx=e,Cx}var Ex,h2;function ZM(){if(h2)return Ex;h2=1;var e=typeof Nh=="object"&&Nh&&Nh.Object===Object&&Nh;return Ex=e,Ex}var Tx,m2;function ms(){if(m2)return Tx;m2=1;var e=ZM(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Tx=r,Tx}var Ax,p2;function nf(){if(p2)return Ax;p2=1;var e=ms(),t=e.Symbol;return Ax=t,Ax}var Rx,g2;function Z9(){if(g2)return Rx;g2=1;var e=nf(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,s=e?e.toStringTag:void 0;function i(l){var u=r.call(l,s),d=l[s];try{l[s]=void 0;var f=!0}catch{}var h=a.call(l);return f&&(u?l[s]=d:delete l[s]),h}return Rx=i,Rx}var Px,v2;function J9(){if(v2)return Px;v2=1;var e=Object.prototype,t=e.toString;function r(a){return t.call(a)}return Px=r,Px}var Ix,x2;function Vs(){if(x2)return Ix;x2=1;var e=nf(),t=Z9(),r=J9(),a="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?s:a:i&&i in Object(u)?t(u):r(u)}return Ix=l,Ix}var kx,y2;function Hs(){if(y2)return kx;y2=1;function e(t){return t!=null&&typeof t=="object"}return kx=e,kx}var Ox,b2;function Ec(){if(b2)return Ox;b2=1;var e=Vs(),t=Hs(),r="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&e(s)==r}return Ox=a,Ox}var Dx,j2;function iN(){if(j2)return Dx;j2=1;var e=$n(),t=Ec(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,l){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||t(i)?!0:a.test(i)||!r.test(i)||l!=null&&i in Object(l)}return Dx=s,Dx}var Mx,w2;function Hi(){if(w2)return Mx;w2=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Mx=e,Mx}var $x,N2;function oN(){if(N2)return $x;N2=1;var e=Vs(),t=Hi(),r="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==a||d==s||d==r||d==i}return $x=l,$x}var Lx,S2;function eH(){if(S2)return Lx;S2=1;var e=ms(),t=e["__core-js_shared__"];return Lx=t,Lx}var Fx,_2;function tH(){if(_2)return Fx;_2=1;var e=eH(),t=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!t&&t in a}return Fx=r,Fx}var Ux,C2;function JM(){if(C2)return Ux;C2=1;var e=Function.prototype,t=e.toString;function r(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return Ux=r,Ux}var Bx,E2;function rH(){if(E2)return Bx;E2=1;var e=oN(),t=tH(),r=Hi(),a=JM(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,h=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||t(g))return!1;var j=e(g)?h:i;return j.test(a(g))}return Bx=m,Bx}var zx,T2;function nH(){if(T2)return zx;T2=1;function e(t,r){return t?.[r]}return zx=e,zx}var qx,A2;function Vo(){if(A2)return qx;A2=1;var e=rH(),t=nH();function r(a,s){var i=t(a,s);return e(i)?i:void 0}return qx=r,qx}var Wx,R2;function Ip(){if(R2)return Wx;R2=1;var e=Vo(),t=e(Object,"create");return Wx=t,Wx}var Vx,P2;function aH(){if(P2)return Vx;P2=1;var e=Ip();function t(){this.__data__=e?e(null):{},this.size=0}return Vx=t,Vx}var Hx,I2;function sH(){if(I2)return Hx;I2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Hx=e,Hx}var Gx,k2;function iH(){if(k2)return Gx;k2=1;var e=Ip(),t="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function s(i){var l=this.__data__;if(e){var u=l[i];return u===t?void 0:u}return a.call(l,i)?l[i]:void 0}return Gx=s,Gx}var Kx,O2;function oH(){if(O2)return Kx;O2=1;var e=Ip(),t=Object.prototype,r=t.hasOwnProperty;function a(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return Kx=a,Kx}var Yx,D2;function lH(){if(D2)return Yx;D2=1;var e=Ip(),t="__lodash_hash_undefined__";function r(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&s===void 0?t:s,this}return Yx=r,Yx}var Xx,M2;function cH(){if(M2)return Xx;M2=1;var e=aH(),t=sH(),r=iH(),a=oH(),s=lH();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,Xx=i,Xx}var Qx,$2;function uH(){if($2)return Qx;$2=1;function e(){this.__data__=[],this.size=0}return Qx=e,Qx}var Zx,L2;function lN(){if(L2)return Zx;L2=1;function e(t,r){return t===r||t!==t&&r!==r}return Zx=e,Zx}var Jx,F2;function kp(){if(F2)return Jx;F2=1;var e=lN();function t(r,a){for(var s=r.length;s--;)if(e(r[s][0],a))return s;return-1}return Jx=t,Jx}var ey,U2;function dH(){if(U2)return ey;U2=1;var e=kp(),t=Array.prototype,r=t.splice;function a(s){var i=this.__data__,l=e(i,s);if(l<0)return!1;var u=i.length-1;return l==u?i.pop():r.call(i,l,1),--this.size,!0}return ey=a,ey}var ty,B2;function fH(){if(B2)return ty;B2=1;var e=kp();function t(r){var a=this.__data__,s=e(a,r);return s<0?void 0:a[s][1]}return ty=t,ty}var ry,z2;function hH(){if(z2)return ry;z2=1;var e=kp();function t(r){return e(this.__data__,r)>-1}return ry=t,ry}var ny,q2;function mH(){if(q2)return ny;q2=1;var e=kp();function t(r,a){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,a])):s[i][1]=a,this}return ny=t,ny}var ay,W2;function Op(){if(W2)return ay;W2=1;var e=uH(),t=dH(),r=fH(),a=hH(),s=mH();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,ay=i,ay}var sy,V2;function cN(){if(V2)return sy;V2=1;var e=Vo(),t=ms(),r=e(t,"Map");return sy=r,sy}var iy,H2;function pH(){if(H2)return iy;H2=1;var e=cH(),t=Op(),r=cN();function a(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return iy=a,iy}var oy,G2;function gH(){if(G2)return oy;G2=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return oy=e,oy}var ly,K2;function Dp(){if(K2)return ly;K2=1;var e=gH();function t(r,a){var s=r.__data__;return e(a)?s[typeof a=="string"?"string":"hash"]:s.map}return ly=t,ly}var cy,Y2;function vH(){if(Y2)return cy;Y2=1;var e=Dp();function t(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return cy=t,cy}var uy,X2;function xH(){if(X2)return uy;X2=1;var e=Dp();function t(r){return e(this,r).get(r)}return uy=t,uy}var dy,Q2;function yH(){if(Q2)return dy;Q2=1;var e=Dp();function t(r){return e(this,r).has(r)}return dy=t,dy}var fy,Z2;function bH(){if(Z2)return fy;Z2=1;var e=Dp();function t(r,a){var s=e(this,r),i=s.size;return s.set(r,a),this.size+=s.size==i?0:1,this}return fy=t,fy}var hy,J2;function uN(){if(J2)return hy;J2=1;var e=pH(),t=vH(),r=xH(),a=yH(),s=bH();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,hy=i,hy}var my,eT;function e4(){if(eT)return my;eT=1;var e=uN(),t="Expected a function";function r(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var l=arguments,u=s?s.apply(this,l):l[0],d=i.cache;if(d.has(u))return d.get(u);var f=a.apply(this,l);return i.cache=d.set(u,f)||d,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,my=r,my}var py,tT;function jH(){if(tT)return py;tT=1;var e=e4(),t=500;function r(a){var s=e(a,function(l){return i.size===t&&i.clear(),l}),i=s.cache;return s}return py=r,py}var gy,rT;function wH(){if(rT)return gy;rT=1;var e=jH(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(l,u,d,f){i.push(d?f.replace(r,"$1"):u||l)}),i});return gy=a,gy}var vy,nT;function dN(){if(nT)return vy;nT=1;function e(t,r){for(var a=-1,s=t==null?0:t.length,i=Array(s);++a<s;)i[a]=r(t[a],a,t);return i}return vy=e,vy}var xy,aT;function NH(){if(aT)return xy;aT=1;var e=nf(),t=dN(),r=$n(),a=Ec(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(a(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return xy=l,xy}var yy,sT;function t4(){if(sT)return yy;sT=1;var e=NH();function t(r){return r==null?"":e(r)}return yy=t,yy}var by,iT;function r4(){if(iT)return by;iT=1;var e=$n(),t=iN(),r=wH(),a=t4();function s(i,l){return e(i)?i:t(i,l)?[i]:r(a(i))}return by=s,by}var jy,oT;function Mp(){if(oT)return jy;oT=1;var e=Ec();function t(r){if(typeof r=="string"||e(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return jy=t,jy}var wy,lT;function fN(){if(lT)return wy;lT=1;var e=r4(),t=Mp();function r(a,s){s=e(s,a);for(var i=0,l=s.length;a!=null&&i<l;)a=a[t(s[i++])];return i&&i==l?a:void 0}return wy=r,wy}var Ny,cT;function n4(){if(cT)return Ny;cT=1;var e=fN();function t(r,a,s){var i=r==null?void 0:e(r,a);return i===void 0?s:i}return Ny=t,Ny}var SH=n4();const xa=qt(SH);var Sy,uT;function _H(){if(uT)return Sy;uT=1;function e(t){return t==null}return Sy=e,Sy}var CH=_H();const It=qt(CH);var _y,dT;function EH(){if(dT)return _y;dT=1;var e=Vs(),t=$n(),r=Hs(),a="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==a}return _y=s,_y}var TH=EH();const Oo=qt(TH);var AH=oN();const wt=qt(AH);var RH=Hi();const Tc=qt(RH);var Cy={exports:{}},kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function PH(){if(fT)return kt;fT=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function b(v){if(typeof v=="object"&&v!==null){var N=v.$$typeof;switch(N){case e:switch(v=v.type,v){case r:case s:case a:case f:case h:return v;default:switch(v=v&&v.$$typeof,v){case u:case l:case d:case g:case m:case i:return v;default:return N}}case t:return N}}}return kt.ContextConsumer=l,kt.ContextProvider=i,kt.Element=e,kt.ForwardRef=d,kt.Fragment=r,kt.Lazy=g,kt.Memo=m,kt.Portal=t,kt.Profiler=s,kt.StrictMode=a,kt.Suspense=f,kt.SuspenseList=h,kt.isAsyncMode=function(){return!1},kt.isConcurrentMode=function(){return!1},kt.isContextConsumer=function(v){return b(v)===l},kt.isContextProvider=function(v){return b(v)===i},kt.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},kt.isForwardRef=function(v){return b(v)===d},kt.isFragment=function(v){return b(v)===r},kt.isLazy=function(v){return b(v)===g},kt.isMemo=function(v){return b(v)===m},kt.isPortal=function(v){return b(v)===t},kt.isProfiler=function(v){return b(v)===s},kt.isStrictMode=function(v){return b(v)===a},kt.isSuspense=function(v){return b(v)===f},kt.isSuspenseList=function(v){return b(v)===h},kt.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===s||v===a||v===f||v===h||v===j||typeof v=="object"&&v!==null&&(v.$$typeof===g||v.$$typeof===m||v.$$typeof===i||v.$$typeof===l||v.$$typeof===d||v.$$typeof===w||v.getModuleId!==void 0)},kt.typeOf=b,kt}var hT;function IH(){return hT||(hT=1,Cy.exports=PH()),Cy.exports}var kH=IH(),Ey,mT;function a4(){if(mT)return Ey;mT=1;var e=Vs(),t=Hs(),r="[object Number]";function a(s){return typeof s=="number"||t(s)&&e(s)==r}return Ey=a,Ey}var Ty,pT;function OH(){if(pT)return Ty;pT=1;var e=a4();function t(r){return e(r)&&r!=+r}return Ty=t,Ty}var DH=OH();const af=qt(DH);var MH=a4();const $H=qt(MH);var ka=function(t){return t===0?0:t>0?1:-1},jo=function(t){return Oo(t)&&t.indexOf("%")===t.length-1},Le=function(t){return $H(t)&&!af(t)},LH=function(t){return It(t)},Tr=function(t){return Le(t)||Oo(t)},FH=0,$p=function(t){var r=++FH;return"".concat(t||"").concat(r)},Do=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(t)&&!Oo(t))return a;var i;if(jo(t)){var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return af(i)&&(i=a),s&&i>r&&(i=r),i},Ci=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},UH=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},Nl=function(t,r){return Le(t)&&Le(r)?function(a){return t+a*(r-t)}:function(){return r}};function hw(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):xa(a,t))===r})}var BH=function(t,r){return Le(t)&&Le(r)?t-r:Oo(t)&&Oo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Bl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function mw(e){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mw(e)}var zH=["viewBox","children"],qH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gT=["points","pathLength"],Ay={svg:zH,polygon:gT,polyline:gT},hN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],dm=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Tc(a))return null;var s={};return Object.keys(a).forEach(function(i){hN.includes(i)&&(s[i]=r||function(l){return a[i](a,l)})}),s},WH=function(t,r,a){return function(s){return t(r,a,s),null}},fm=function(t,r,a){if(!Tc(t)||mw(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];hN.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=WH(l,r,a))}),s},VH=["children"],HH=["children"];function vT(e,t){if(e==null)return{};var r=GH(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function GH(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var xT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ds=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},yT=null,Ry=null,mN=function e(t){if(t===yT&&Array.isArray(Ry))return Ry;var r=[];return x.Children.forEach(t,function(a){It(a)||(kH.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),Ry=r,yT=t,r};function Da(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(s){return Ds(s)}):a=[Ds(t)],mN(e).forEach(function(s){var i=xa(s,"type.displayName")||xa(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function Hn(e,t){var r=Da(e,t);return r&&r[0]}var bT=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,s=r.height;return!(!Le(a)||a<=0||!Le(s)||s<=0)},KH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],YH=function(t){return t&&t.type&&Oo(t.type)&&KH.indexOf(t.type)>=0},XH=function(t,r,a,s){var i,l=(i=Ay?.[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!wt(t)&&(s&&l.includes(r)||qH.includes(r))||a&&hN.includes(r)},Pt=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(x.isValidElement(t)&&(s=t.props),!Tc(s))return null;var i={};return Object.keys(s).forEach(function(l){var u;XH((u=s)===null||u===void 0?void 0:u[l],l,r,a)&&(i[l]=s[l])}),i},pw=function e(t,r){if(t===r)return!0;var a=x.Children.count(t);if(a!==x.Children.count(r))return!1;if(a===0)return!0;if(a===1)return jT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var i=t[s],l=r[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!jT(i,l))return!1}return!0},jT=function(t,r){if(It(t)&&It(r))return!0;if(!It(t)&&!It(r)){var a=t.props||{},s=a.children,i=vT(a,VH),l=r.props||{},u=l.children,d=vT(l,HH);return s&&u?Bl(i,d)&&pw(s,u):!s&&!u?Bl(i,d):!1}return!1},wT=function(t,r){var a=[],s={};return mN(t).forEach(function(i,l){if(YH(i))a.push(i);else if(i){var u=Ds(i.type),d=r[u]||{},f=d.handler,h=d.once;if(f&&(!h||!s[u])){var m=f(i,u,l);a.push(m),s[u]=!0}}}),a},QH=function(t){var r=t&&t.type;return r&&xT[r]?xT[r]:null},ZH=function(t,r){return mN(r).indexOf(t)},JH=["children","width","height","viewBox","className","style","title","desc"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gw.apply(this,arguments)}function eG(e,t){if(e==null)return{};var r=tG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function tG(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function vw(e){var t=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,l=e.style,u=e.title,d=e.desc,f=eG(e,JH),h=s||{width:r,height:a,x:0,y:0},m=Ct("recharts-surface",i);return Q.createElement("svg",gw({},Pt(f,!0,"svg"),{className:m,width:r,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Q.createElement("title",null,u),Q.createElement("desc",null,d),t)}var rG=["children","className"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xw.apply(this,arguments)}function nG(e,t){if(e==null)return{};var r=aG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function aG(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var $r=Q.forwardRef(function(e,t){var r=e.children,a=e.className,s=nG(e,rG),i=Ct("recharts-layer",a);return Q.createElement("g",xw({className:i},Pt(s,!0),{ref:t}),r)}),Ms=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},Py,NT;function sG(){if(NT)return Py;NT=1;function e(t,r,a){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),a=a>i?i:a,a<0&&(a+=i),i=r>a?0:a-r>>>0,r>>>=0;for(var l=Array(i);++s<i;)l[s]=t[s+r];return l}return Py=e,Py}var Iy,ST;function iG(){if(ST)return Iy;ST=1;var e=sG();function t(r,a,s){var i=r.length;return s=s===void 0?i:s,!a&&s>=i?r:e(r,a,s)}return Iy=t,Iy}var ky,_T;function s4(){if(_T)return ky;_T=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+r+a,i="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+s+i+"]");function d(f){return u.test(f)}return ky=d,ky}var Oy,CT;function oG(){if(CT)return Oy;CT=1;function e(t){return t.split("")}return Oy=e,Oy}var Dy,ET;function lG(){if(ET)return Dy;ET=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+r+a,i="\\ufe0e\\ufe0f",l="["+e+"]",u="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",h="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",j="\\u200d",w=f+"?",b="["+i+"]?",v="(?:"+j+"(?:"+[h,m,g].join("|")+")"+b+w+")*",N=b+w+v,S="(?:"+[h+u+"?",u,m,g,l].join("|")+")",C=RegExp(d+"(?="+d+")|"+S+N,"g");function A(_){return _.match(C)||[]}return Dy=A,Dy}var My,TT;function cG(){if(TT)return My;TT=1;var e=oG(),t=s4(),r=lG();function a(s){return t(s)?r(s):e(s)}return My=a,My}var $y,AT;function uG(){if(AT)return $y;AT=1;var e=iG(),t=s4(),r=cG(),a=t4();function s(i){return function(l){l=a(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[i]()+f}}return $y=s,$y}var Ly,RT;function dG(){if(RT)return Ly;RT=1;var e=uG(),t=e("toUpperCase");return Ly=t,Ly}var fG=dG();const Lp=qt(fG);function Gt(e){return function(){return e}}const i4=Math.cos,hm=Math.sin,Ua=Math.sqrt,mm=Math.PI,Fp=2*mm,yw=Math.PI,bw=2*yw,go=1e-6,hG=bw-go;function o4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function mG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return o4;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class pG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?o4:mG(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,l){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=a-t,f=s-r,h=l-t,m=u-r,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>go)if(!(Math.abs(m*d-f*h)>go)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let j=a-l,w=s-u,b=d*d+f*f,v=j*j+w*w,N=Math.sqrt(b),S=Math.sqrt(g),C=i*Math.tan((yw-Math.acos((b+g-v)/(2*N*S)))/2),A=C/S,_=C/N;Math.abs(A-1)>go&&this._append`L${t+A*h},${r+A*m}`,this._append`A${i},${i},0,0,${+(m*j>h*w)},${this._x1=t+_*d},${this._y1=r+_*f}`}}arc(t,r,a,s,i,l){if(t=+t,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let u=a*Math.cos(s),d=a*Math.sin(s),f=t+u,h=r+d,m=1^l,g=l?s-i:i-s;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>go||Math.abs(this._y1-h)>go)&&this._append`L${f},${h}`,a&&(g<0&&(g=g%bw+bw),g>hG?this._append`A${a},${a},0,1,${m},${t-u},${r-d}A${a},${a},0,1,${m},${this._x1=f},${this._y1=h}`:g>go&&this._append`A${a},${a},0,${+(g>=yw)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function pN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new pG(t)}function gN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function l4(e){this._context=e}l4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Up(e){return new l4(e)}function c4(e){return e[0]}function u4(e){return e[1]}function d4(e,t){var r=Gt(!0),a=null,s=Up,i=null,l=pN(u);e=typeof e=="function"?e:e===void 0?c4:Gt(e),t=typeof t=="function"?t:t===void 0?u4:Gt(t);function u(d){var f,h=(d=gN(d)).length,m,g=!1,j;for(a==null&&(i=s(j=l())),f=0;f<=h;++f)!(f<h&&r(m=d[f],f,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,f,d),+t(m,f,d));if(j)return i=null,j+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Gt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Gt(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Gt(!!d),u):r},u.curve=function(d){return arguments.length?(s=d,a!=null&&(i=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=i=null:i=s(a=d),u):a},u}function Dh(e,t,r){var a=null,s=Gt(!0),i=null,l=Up,u=null,d=pN(f);e=typeof e=="function"?e:e===void 0?c4:Gt(+e),t=typeof t=="function"?t:Gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?u4:Gt(+r);function f(m){var g,j,w,b=(m=gN(m)).length,v,N=!1,S,C=new Array(b),A=new Array(b);for(i==null&&(u=l(S=d())),g=0;g<=b;++g){if(!(g<b&&s(v=m[g],g,m))===N)if(N=!N)j=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=g-1;w>=j;--w)u.point(C[w],A[w]);u.lineEnd(),u.areaEnd()}N&&(C[g]=+e(v,g,m),A[g]=+t(v,g,m),u.point(a?+a(v,g,m):C[g],r?+r(v,g,m):A[g]))}if(S)return u=null,S+""||null}function h(){return d4().defined(s).curve(l).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Gt(+m),a=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Gt(+m),f):e},f.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:Gt(+m),f):a},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Gt(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Gt(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Gt(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(a).y(t)},f.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Gt(!!m),f):s},f.curve=function(m){return arguments.length?(l=m,i!=null&&(u=l(i)),f):l},f.context=function(m){return arguments.length?(m==null?i=u=null:u=l(i=m),f):i},f}class f4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function gG(e){return new f4(e,!0)}function vG(e){return new f4(e,!1)}const vN={draw(e,t){const r=Ua(t/mm);e.moveTo(r,0),e.arc(0,0,r,0,Fp)}},xG={draw(e,t){const r=Ua(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},h4=Ua(1/3),yG=h4*2,bG={draw(e,t){const r=Ua(t/yG),a=r*h4;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},jG={draw(e,t){const r=Ua(t),a=-r/2;e.rect(a,a,r,r)}},wG=.8908130915292852,m4=hm(mm/10)/hm(7*mm/10),NG=hm(Fp/10)*m4,SG=-i4(Fp/10)*m4,_G={draw(e,t){const r=Ua(t*wG),a=NG*r,s=SG*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const l=Fp*i/5,u=i4(l),d=hm(l);e.lineTo(d*r,-u*r),e.lineTo(u*a-d*s,d*a+u*s)}e.closePath()}},Fy=Ua(3),CG={draw(e,t){const r=-Ua(t/(Fy*3));e.moveTo(0,r*2),e.lineTo(-Fy*r,-r),e.lineTo(Fy*r,-r),e.closePath()}},da=-.5,fa=Ua(3)/2,jw=1/Ua(12),EG=(jw/2+1)*3,TG={draw(e,t){const r=Ua(t/EG),a=r/2,s=r*jw,i=a,l=r*jw+r,u=-i,d=l;e.moveTo(a,s),e.lineTo(i,l),e.lineTo(u,d),e.lineTo(da*a-fa*s,fa*a+da*s),e.lineTo(da*i-fa*l,fa*i+da*l),e.lineTo(da*u-fa*d,fa*u+da*d),e.lineTo(da*a+fa*s,da*s-fa*a),e.lineTo(da*i+fa*l,da*l-fa*i),e.lineTo(da*u+fa*d,da*d-fa*u),e.closePath()}};function AG(e,t){let r=null,a=pN(s);e=typeof e=="function"?e:Gt(e||vN),t=typeof t=="function"?t:Gt(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Gt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function pm(){}function gm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function p4(e){this._context=e}p4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RG(e){return new p4(e)}function g4(e){this._context=e}g4.prototype={areaStart:pm,areaEnd:pm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:gm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PG(e){return new g4(e)}function v4(e){this._context=e}v4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:gm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IG(e){return new v4(e)}function x4(e){this._context=e}x4.prototype={areaStart:pm,areaEnd:pm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function kG(e){return new x4(e)}function PT(e){return e<0?-1:1}function IT(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),l=(r-e._y1)/(s||a<0&&-0),u=(i*s+l*a)/(a+s);return(PT(i)+PT(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function kT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Uy(e,t,r){var a=e._x0,s=e._y0,i=e._x1,l=e._y1,u=(i-a)/3;e._context.bezierCurveTo(a+u,s+u*t,i-u,l-u*r,i,l)}function vm(e){this._context=e}vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uy(this,this._t0,kT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Uy(this,kT(this,r=IT(this,e,t)),r);break;default:Uy(this,this._t0,r=IT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function y4(e){this._context=new b4(e)}(y4.prototype=Object.create(vm.prototype)).point=function(e,t){vm.prototype.point.call(this,t,e)};function b4(e){this._context=e}b4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function OG(e){return new vm(e)}function DG(e){return new y4(e)}function j4(e){this._context=e}j4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=OT(e),s=OT(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function OT(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),l=new Array(r);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(s[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function MG(e){return new j4(e)}function Bp(e,t){this._context=e,this._t=t}Bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function $G(e){return new Bp(e,.5)}function LG(e){return new Bp(e,0)}function FG(e){return new Bp(e,1)}function Ql(e,t){if((l=e.length)>1)for(var r=1,a,s,i=e[t[0]],l,u=i.length;r<l;++r)for(s=i,i=e[t[r]],a=0;a<u;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function ww(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function UG(e,t){return e[t]}function BG(e){const t=[];return t.key=e,t}function zG(){var e=Gt([]),t=ww,r=Ql,a=UG;function s(i){var l=Array.from(e.apply(this,arguments),BG),u,d=l.length,f=-1,h;for(const m of i)for(u=0,++f;u<d;++u)(l[u][f]=[0,+a(m,l[u].key,f,i)]).data=m;for(u=0,h=gN(t(l));u<d;++u)l[h[u]].index=u;return r(l,h),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Gt(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?ww:typeof i=="function"?i:Gt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Ql,s):r},s}function qG(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,l;s<i;++s){for(l=r=0;r<a;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<a;++r)e[r][s][1]/=l}Ql(e,t)}}function WG(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var l=0,u=0;l<s;++l)u+=e[l][r][1]||0;a[r][1]+=a[r][0]=-u/2}Ql(e,t)}}function VG(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,l;a<i;++a){for(var u=0,d=0,f=0;u<l;++u){for(var h=e[t[u]],m=h[a][1]||0,g=h[a-1][1]||0,j=(m-g)/2,w=0;w<u;++w){var b=e[t[w]],v=b[a][1]||0,N=b[a-1][1]||0;j+=v-N}d+=m,f+=j*m}s[a-1][1]+=s[a-1][0]=r,d&&(r-=f/d)}s[a-1][1]+=s[a-1][0]=r,Ql(e,t)}}function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}var HG=["type","size","sizeType"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Nw.apply(this,arguments)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function MT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(a){GG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function GG(e,t,r){return t=KG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=YG(e,"string");return ud(t)=="symbol"?t:t+""}function YG(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ud(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XG(e,t){if(e==null)return{};var r=QG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function QG(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var w4={symbolCircle:vN,symbolCross:xG,symbolDiamond:bG,symbolSquare:jG,symbolStar:_G,symbolTriangle:CG,symbolWye:TG},ZG=Math.PI/180,JG=function(t){var r="symbol".concat(Lp(t));return w4[r]||vN},eK=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*ZG;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},tK=function(t,r){w4["symbol".concat(Lp(t))]=r},xN=function(t){var r=t.type,a=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,l=t.sizeType,u=l===void 0?"area":l,d=XG(t,HG),f=MT(MT({},d),{},{type:a,size:i,sizeType:u}),h=function(){var v=JG(a),N=AG().type(v).size(eK(i,u,a));return N()},m=f.className,g=f.cx,j=f.cy,w=Pt(f,!0);return g===+g&&j===+j&&i===+i?Q.createElement("path",Nw({},w,{className:Ct("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(j,")"),d:h()})):null};xN.registerSymbol=tK;function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sw.apply(this,arguments)}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(a){dd(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aK(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,S4(a.key),a)}}function sK(e,t,r){return t&&aK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iK(e,t,r){return t=xm(t),oK(e,N4()?Reflect.construct(t,r||[],xm(e).constructor):t.apply(e,r))}function oK(e,t){if(t&&(Zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lK(e)}function lK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N4=function(){return!!e})()}function xm(e){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(e)}function cK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_w(e,t)}function _w(e,t){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_w(e,t)}function dd(e,t,r){return t=S4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S4(e){var t=uK(e,"string");return Zl(t)=="symbol"?t:t+""}function uK(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Zl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ha=32,yN=(function(e){function t(){return nK(this,t),iK(this,t,arguments)}return cK(t,e),sK(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=ha/2,l=ha/6,u=ha/3,d=a.inactive?s:a.color;if(a.type==="plainline")return Q.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:ha,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return Q.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(ha,"M").concat(2*u,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return Q.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ha/8,"h").concat(ha,"v").concat(ha*3/4,"h").concat(-ha,"z"),className:"recharts-legend-icon"});if(Q.isValidElement(a.legendIcon)){var f=rK({},a);return delete f.legendIcon,Q.cloneElement(a.legendIcon,f)}return Q.createElement(xN,{fill:d,cx:i,cy:i,size:ha,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,l=s.iconSize,u=s.layout,d=s.formatter,f=s.inactiveColor,h={x:0,y:0,width:ha,height:ha},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(j,w){var b=j.formatter||d,v=Ct(dd(dd({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",j.inactive));if(j.type==="none")return null;var N=wt(j.value)?null:j.value;Ms(!wt(j.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=j.inactive?f:j.color;return Q.createElement("li",Sw({className:v,style:m,key:"legend-item-".concat(w)},fm(a.props,j,w)),Q.createElement(vw,{width:l,height:l,viewBox:h,style:g},a.renderIcon(j)),Q.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(N,j,w):N))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,l=a.align;if(!s||!s.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return Q.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(x.PureComponent);dd(yN,"displayName","Legend");dd(yN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var By,LT;function dK(){if(LT)return By;LT=1;var e=Op();function t(){this.__data__=new e,this.size=0}return By=t,By}var zy,FT;function fK(){if(FT)return zy;FT=1;function e(t){var r=this.__data__,a=r.delete(t);return this.size=r.size,a}return zy=e,zy}var qy,UT;function hK(){if(UT)return qy;UT=1;function e(t){return this.__data__.get(t)}return qy=e,qy}var Wy,BT;function mK(){if(BT)return Wy;BT=1;function e(t){return this.__data__.has(t)}return Wy=e,Wy}var Vy,zT;function pK(){if(zT)return Vy;zT=1;var e=Op(),t=cN(),r=uN(),a=200;function s(i,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<a-1)return d.push([i,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(i,l),this.size=u.size,this}return Vy=s,Vy}var Hy,qT;function _4(){if(qT)return Hy;qT=1;var e=Op(),t=dK(),r=fK(),a=hK(),s=mK(),i=pK();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=s,l.prototype.set=i,Hy=l,Hy}var Gy,WT;function gK(){if(WT)return Gy;WT=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Gy=t,Gy}var Ky,VT;function vK(){if(VT)return Ky;VT=1;function e(t){return this.__data__.has(t)}return Ky=e,Ky}var Yy,HT;function C4(){if(HT)return Yy;HT=1;var e=uN(),t=gK(),r=vK();function a(s){var i=-1,l=s==null?0:s.length;for(this.__data__=new e;++i<l;)this.add(s[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=r,Yy=a,Yy}var Xy,GT;function E4(){if(GT)return Xy;GT=1;function e(t,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(r(t[a],a,t))return!0;return!1}return Xy=e,Xy}var Qy,KT;function T4(){if(KT)return Qy;KT=1;function e(t,r){return t.has(r)}return Qy=e,Qy}var Zy,YT;function A4(){if(YT)return Zy;YT=1;var e=C4(),t=E4(),r=T4(),a=1,s=2;function i(l,u,d,f,h,m){var g=d&a,j=l.length,w=u.length;if(j!=w&&!(g&&w>j))return!1;var b=m.get(l),v=m.get(u);if(b&&v)return b==u&&v==l;var N=-1,S=!0,C=d&s?new e:void 0;for(m.set(l,u),m.set(u,l);++N<j;){var A=l[N],_=u[N];if(f)var T=g?f(_,A,N,u,l,m):f(A,_,N,l,u,m);if(T!==void 0){if(T)continue;S=!1;break}if(C){if(!t(u,function(P,O){if(!r(C,O)&&(A===P||h(A,P,d,f,m)))return C.push(O)})){S=!1;break}}else if(!(A===_||h(A,_,d,f,m))){S=!1;break}}return m.delete(l),m.delete(u),S}return Zy=i,Zy}var Jy,XT;function xK(){if(XT)return Jy;XT=1;var e=ms(),t=e.Uint8Array;return Jy=t,Jy}var e0,QT;function yK(){if(QT)return e0;QT=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(s,i){a[++r]=[i,s]}),a}return e0=e,e0}var t0,ZT;function bN(){if(ZT)return t0;ZT=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(s){a[++r]=s}),a}return t0=e,t0}var r0,JT;function bK(){if(JT)return r0;JT=1;var e=nf(),t=xK(),r=lN(),a=A4(),s=yK(),i=bN(),l=1,u=2,d="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",j="[object RegExp]",w="[object Set]",b="[object String]",v="[object Symbol]",N="[object ArrayBuffer]",S="[object DataView]",C=e?e.prototype:void 0,A=C?C.valueOf:void 0;function _(T,P,O,I,B,q,G){switch(O){case S:if(T.byteLength!=P.byteLength||T.byteOffset!=P.byteOffset)return!1;T=T.buffer,P=P.buffer;case N:return!(T.byteLength!=P.byteLength||!q(new t(T),new t(P)));case d:case f:case g:return r(+T,+P);case h:return T.name==P.name&&T.message==P.message;case j:case b:return T==P+"";case m:var V=s;case w:var Z=I&l;if(V||(V=i),T.size!=P.size&&!Z)return!1;var $=G.get(T);if($)return $==P;I|=u,G.set(T,P);var M=a(V(T),V(P),I,B,q,G);return G.delete(T),M;case v:if(A)return A.call(T)==A.call(P)}return!1}return r0=_,r0}var n0,eA;function R4(){if(eA)return n0;eA=1;function e(t,r){for(var a=-1,s=r.length,i=t.length;++a<s;)t[i+a]=r[a];return t}return n0=e,n0}var a0,tA;function jK(){if(tA)return a0;tA=1;var e=R4(),t=$n();function r(a,s,i){var l=s(a);return t(a)?l:e(l,i(a))}return a0=r,a0}var s0,rA;function wK(){if(rA)return s0;rA=1;function e(t,r){for(var a=-1,s=t==null?0:t.length,i=0,l=[];++a<s;){var u=t[a];r(u,a,t)&&(l[i++]=u)}return l}return s0=e,s0}var i0,nA;function NK(){if(nA)return i0;nA=1;function e(){return[]}return i0=e,i0}var o0,aA;function SK(){if(aA)return o0;aA=1;var e=wK(),t=NK(),r=Object.prototype,a=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(u){return a.call(l,u)}))}:t;return o0=i,o0}var l0,sA;function _K(){if(sA)return l0;sA=1;function e(t,r){for(var a=-1,s=Array(t);++a<t;)s[a]=r(a);return s}return l0=e,l0}var c0,iA;function CK(){if(iA)return c0;iA=1;var e=Vs(),t=Hs(),r="[object Arguments]";function a(s){return t(s)&&e(s)==r}return c0=a,c0}var u0,oA;function jN(){if(oA)return u0;oA=1;var e=CK(),t=Hs(),r=Object.prototype,a=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&a.call(l,"callee")&&!s.call(l,"callee")};return u0=i,u0}var zu={exports:{}},d0,lA;function EK(){if(lA)return d0;lA=1;function e(){return!1}return d0=e,d0}zu.exports;var cA;function P4(){return cA||(cA=1,(function(e,t){var r=ms(),a=EK(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||a;e.exports=f})(zu,zu.exports)),zu.exports}var f0,uA;function wN(){if(uA)return f0;uA=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(a,s){var i=typeof a;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<s}return f0=r,f0}var h0,dA;function NN(){if(dA)return h0;dA=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return h0=t,h0}var m0,fA;function TK(){if(fA)return m0;fA=1;var e=Vs(),t=NN(),r=Hs(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",g="[object RegExp]",j="[object Set]",w="[object String]",b="[object WeakMap]",v="[object ArrayBuffer]",N="[object DataView]",S="[object Float32Array]",C="[object Float64Array]",A="[object Int8Array]",_="[object Int16Array]",T="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",I="[object Uint16Array]",B="[object Uint32Array]",q={};q[S]=q[C]=q[A]=q[_]=q[T]=q[P]=q[O]=q[I]=q[B]=!0,q[a]=q[s]=q[v]=q[i]=q[N]=q[l]=q[u]=q[d]=q[f]=q[h]=q[m]=q[g]=q[j]=q[w]=q[b]=!1;function G(V){return r(V)&&t(V.length)&&!!q[e(V)]}return m0=G,m0}var p0,hA;function I4(){if(hA)return p0;hA=1;function e(t){return function(r){return t(r)}}return p0=e,p0}var qu={exports:{}};qu.exports;var mA;function AK(){return mA||(mA=1,(function(e,t){var r=ZM(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i&&r.process,u=(function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(qu,qu.exports)),qu.exports}var g0,pA;function k4(){if(pA)return g0;pA=1;var e=TK(),t=I4(),r=AK(),a=r&&r.isTypedArray,s=a?t(a):e;return g0=s,g0}var v0,gA;function RK(){if(gA)return v0;gA=1;var e=_K(),t=jN(),r=$n(),a=P4(),s=wN(),i=k4(),l=Object.prototype,u=l.hasOwnProperty;function d(f,h){var m=r(f),g=!m&&t(f),j=!m&&!g&&a(f),w=!m&&!g&&!j&&i(f),b=m||g||j||w,v=b?e(f.length,String):[],N=v.length;for(var S in f)(h||u.call(f,S))&&!(b&&(S=="length"||j&&(S=="offset"||S=="parent")||w&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||s(S,N)))&&v.push(S);return v}return v0=d,v0}var x0,vA;function PK(){if(vA)return x0;vA=1;var e=Object.prototype;function t(r){var a=r&&r.constructor,s=typeof a=="function"&&a.prototype||e;return r===s}return x0=t,x0}var y0,xA;function O4(){if(xA)return y0;xA=1;function e(t,r){return function(a){return t(r(a))}}return y0=e,y0}var b0,yA;function IK(){if(yA)return b0;yA=1;var e=O4(),t=e(Object.keys,Object);return b0=t,b0}var j0,bA;function kK(){if(bA)return j0;bA=1;var e=PK(),t=IK(),r=Object.prototype,a=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var l=[];for(var u in Object(i))a.call(i,u)&&u!="constructor"&&l.push(u);return l}return j0=s,j0}var w0,jA;function sf(){if(jA)return w0;jA=1;var e=oN(),t=NN();function r(a){return a!=null&&t(a.length)&&!e(a)}return w0=r,w0}var N0,wA;function zp(){if(wA)return N0;wA=1;var e=RK(),t=kK(),r=sf();function a(s){return r(s)?e(s):t(s)}return N0=a,N0}var S0,NA;function OK(){if(NA)return S0;NA=1;var e=jK(),t=SK(),r=zp();function a(s){return e(s,r,t)}return S0=a,S0}var _0,SA;function DK(){if(SA)return _0;SA=1;var e=OK(),t=1,r=Object.prototype,a=r.hasOwnProperty;function s(i,l,u,d,f,h){var m=u&t,g=e(i),j=g.length,w=e(l),b=w.length;if(j!=b&&!m)return!1;for(var v=j;v--;){var N=g[v];if(!(m?N in l:a.call(l,N)))return!1}var S=h.get(i),C=h.get(l);if(S&&C)return S==l&&C==i;var A=!0;h.set(i,l),h.set(l,i);for(var _=m;++v<j;){N=g[v];var T=i[N],P=l[N];if(d)var O=m?d(P,T,N,l,i,h):d(T,P,N,i,l,h);if(!(O===void 0?T===P||f(T,P,u,d,h):O)){A=!1;break}_||(_=N=="constructor")}if(A&&!_){var I=i.constructor,B=l.constructor;I!=B&&"constructor"in i&&"constructor"in l&&!(typeof I=="function"&&I instanceof I&&typeof B=="function"&&B instanceof B)&&(A=!1)}return h.delete(i),h.delete(l),A}return _0=s,_0}var C0,_A;function MK(){if(_A)return C0;_A=1;var e=Vo(),t=ms(),r=e(t,"DataView");return C0=r,C0}var E0,CA;function $K(){if(CA)return E0;CA=1;var e=Vo(),t=ms(),r=e(t,"Promise");return E0=r,E0}var T0,EA;function D4(){if(EA)return T0;EA=1;var e=Vo(),t=ms(),r=e(t,"Set");return T0=r,T0}var A0,TA;function LK(){if(TA)return A0;TA=1;var e=Vo(),t=ms(),r=e(t,"WeakMap");return A0=r,A0}var R0,AA;function FK(){if(AA)return R0;AA=1;var e=MK(),t=cN(),r=$K(),a=D4(),s=LK(),i=Vs(),l=JM(),u="[object Map]",d="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",g="[object DataView]",j=l(e),w=l(t),b=l(r),v=l(a),N=l(s),S=i;return(e&&S(new e(new ArrayBuffer(1)))!=g||t&&S(new t)!=u||r&&S(r.resolve())!=f||a&&S(new a)!=h||s&&S(new s)!=m)&&(S=function(C){var A=i(C),_=A==d?C.constructor:void 0,T=_?l(_):"";if(T)switch(T){case j:return g;case w:return u;case b:return f;case v:return h;case N:return m}return A}),R0=S,R0}var P0,RA;function UK(){if(RA)return P0;RA=1;var e=_4(),t=A4(),r=bK(),a=DK(),s=FK(),i=$n(),l=P4(),u=k4(),d=1,f="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,j=g.hasOwnProperty;function w(b,v,N,S,C,A){var _=i(b),T=i(v),P=_?h:s(b),O=T?h:s(v);P=P==f?m:P,O=O==f?m:O;var I=P==m,B=O==m,q=P==O;if(q&&l(b)){if(!l(v))return!1;_=!0,I=!1}if(q&&!I)return A||(A=new e),_||u(b)?t(b,v,N,S,C,A):r(b,v,P,N,S,C,A);if(!(N&d)){var G=I&&j.call(b,"__wrapped__"),V=B&&j.call(v,"__wrapped__");if(G||V){var Z=G?b.value():b,$=V?v.value():v;return A||(A=new e),C(Z,$,N,S,A)}}return q?(A||(A=new e),a(b,v,N,S,C,A)):!1}return P0=w,P0}var I0,PA;function SN(){if(PA)return I0;PA=1;var e=UK(),t=Hs();function r(a,s,i,l,u){return a===s?!0:a==null||s==null||!t(a)&&!t(s)?a!==a&&s!==s:e(a,s,i,l,r,u)}return I0=r,I0}var k0,IA;function BK(){if(IA)return k0;IA=1;var e=_4(),t=SN(),r=1,a=2;function s(i,l,u,d){var f=u.length,h=f,m=!d;if(i==null)return!h;for(i=Object(i);f--;){var g=u[f];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++f<h;){g=u[f];var j=g[0],w=i[j],b=g[1];if(m&&g[2]){if(w===void 0&&!(j in i))return!1}else{var v=new e;if(d)var N=d(w,b,j,i,l,v);if(!(N===void 0?t(b,w,r|a,d,v):N))return!1}}return!0}return k0=s,k0}var O0,kA;function M4(){if(kA)return O0;kA=1;var e=Hi();function t(r){return r===r&&!e(r)}return O0=t,O0}var D0,OA;function zK(){if(OA)return D0;OA=1;var e=M4(),t=zp();function r(a){for(var s=t(a),i=s.length;i--;){var l=s[i],u=a[l];s[i]=[l,u,e(u)]}return s}return D0=r,D0}var M0,DA;function $4(){if(DA)return M0;DA=1;function e(t,r){return function(a){return a==null?!1:a[t]===r&&(r!==void 0||t in Object(a))}}return M0=e,M0}var $0,MA;function qK(){if(MA)return $0;MA=1;var e=BK(),t=zK(),r=$4();function a(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(l){return l===s||e(l,s,i)}}return $0=a,$0}var L0,$A;function WK(){if($A)return L0;$A=1;function e(t,r){return t!=null&&r in Object(t)}return L0=e,L0}var F0,LA;function VK(){if(LA)return F0;LA=1;var e=r4(),t=jN(),r=$n(),a=wN(),s=NN(),i=Mp();function l(u,d,f){d=e(d,u);for(var h=-1,m=d.length,g=!1;++h<m;){var j=i(d[h]);if(!(g=u!=null&&f(u,j)))break;u=u[j]}return g||++h!=m?g:(m=u==null?0:u.length,!!m&&s(m)&&a(j,m)&&(r(u)||t(u)))}return F0=l,F0}var U0,FA;function HK(){if(FA)return U0;FA=1;var e=WK(),t=VK();function r(a,s){return a!=null&&t(a,s,e)}return U0=r,U0}var B0,UA;function GK(){if(UA)return B0;UA=1;var e=SN(),t=n4(),r=HK(),a=iN(),s=M4(),i=$4(),l=Mp(),u=1,d=2;function f(h,m){return a(h)&&s(m)?i(l(h),m):function(g){var j=t(g,h);return j===void 0&&j===m?r(g,h):e(m,j,u|d)}}return B0=f,B0}var z0,BA;function Ac(){if(BA)return z0;BA=1;function e(t){return t}return z0=e,z0}var q0,zA;function KK(){if(zA)return q0;zA=1;function e(t){return function(r){return r?.[t]}}return q0=e,q0}var W0,qA;function YK(){if(qA)return W0;qA=1;var e=fN();function t(r){return function(a){return e(a,r)}}return W0=t,W0}var V0,WA;function XK(){if(WA)return V0;WA=1;var e=KK(),t=YK(),r=iN(),a=Mp();function s(i){return r(i)?e(a(i)):t(i)}return V0=s,V0}var H0,VA;function Gi(){if(VA)return H0;VA=1;var e=qK(),t=GK(),r=Ac(),a=$n(),s=XK();function i(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?a(l)?t(l[0],l[1]):e(l):s(l)}return H0=i,H0}var G0,HA;function L4(){if(HA)return G0;HA=1;function e(t,r,a,s){for(var i=t.length,l=a+(s?1:-1);s?l--:++l<i;)if(r(t[l],l,t))return l;return-1}return G0=e,G0}var K0,GA;function QK(){if(GA)return K0;GA=1;function e(t){return t!==t}return K0=e,K0}var Y0,KA;function ZK(){if(KA)return Y0;KA=1;function e(t,r,a){for(var s=a-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return Y0=e,Y0}var X0,YA;function JK(){if(YA)return X0;YA=1;var e=L4(),t=QK(),r=ZK();function a(s,i,l){return i===i?r(s,i,l):e(s,t,l)}return X0=a,X0}var Q0,XA;function eY(){if(XA)return Q0;XA=1;var e=JK();function t(r,a){var s=r==null?0:r.length;return!!s&&e(r,a,0)>-1}return Q0=t,Q0}var Z0,QA;function tY(){if(QA)return Z0;QA=1;function e(t,r,a){for(var s=-1,i=t==null?0:t.length;++s<i;)if(a(r,t[s]))return!0;return!1}return Z0=e,Z0}var J0,ZA;function rY(){if(ZA)return J0;ZA=1;function e(){}return J0=e,J0}var eb,JA;function nY(){if(JA)return eb;JA=1;var e=D4(),t=rY(),r=bN(),a=1/0,s=e&&1/r(new e([,-0]))[1]==a?function(i){return new e(i)}:t;return eb=s,eb}var tb,eR;function aY(){if(eR)return tb;eR=1;var e=C4(),t=eY(),r=tY(),a=T4(),s=nY(),i=bN(),l=200;function u(d,f,h){var m=-1,g=t,j=d.length,w=!0,b=[],v=b;if(h)w=!1,g=r;else if(j>=l){var N=f?null:s(d);if(N)return i(N);w=!1,g=a,v=new e}else v=f?[]:b;e:for(;++m<j;){var S=d[m],C=f?f(S):S;if(S=h||S!==0?S:0,w&&C===C){for(var A=v.length;A--;)if(v[A]===C)continue e;f&&v.push(C),b.push(S)}else g(v,C,h)||(v!==b&&v.push(C),b.push(S))}return b}return tb=u,tb}var rb,tR;function sY(){if(tR)return rb;tR=1;var e=Gi(),t=aY();function r(a,s){return a&&a.length?t(a,e(s,2)):[]}return rb=r,rb}var iY=sY();const rR=qt(iY);function F4(e,t,r){return t===!0?rR(e,r):wt(t)?rR(e,t):e}function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}var oY=["ref"];function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(a){qp(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aR(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,B4(a.key),a)}}function cY(e,t,r){return t&&aR(e.prototype,t),r&&aR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uY(e,t,r){return t=ym(t),dY(e,U4()?Reflect.construct(t,r||[],ym(e).constructor):t.apply(e,r))}function dY(e,t){if(t&&(Jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fY(e)}function fY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U4=function(){return!!e})()}function ym(e){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(e)}function hY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cw(e,t)}function Cw(e,t){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Cw(e,t)}function qp(e,t,r){return t=B4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B4(e){var t=mY(e,"string");return Jl(t)=="symbol"?t:t+""}function mY(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Jl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pY(e,t){if(e==null)return{};var r=gY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gY(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function vY(e){return e.value}function xY(e,t){if(Q.isValidElement(e))return Q.cloneElement(e,t);if(typeof e=="function")return Q.createElement(e,t);t.ref;var r=pY(t,oY);return Q.createElement(yN,r)}var sR=1,zl=(function(e){function t(){var r;lY(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=uY(this,t,[].concat(s)),qp(r,"lastBoundingBox",{width:-1,height:-1}),r}return hY(t,e),cY(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>sR||Math.abs(s.height-this.lastBoundingBox.height)>sR)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Cs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,l=s.align,u=s.verticalAlign,d=s.margin,f=s.chartWidth,h=s.chartHeight,m,g;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&i==="vertical"){var j=this.getBBoxSnapshot();m={left:((f||0)-j.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();g={top:((h||0)-w.height)/2}}else g=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Cs(Cs({},m),g)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,l=s.width,u=s.height,d=s.wrapperStyle,f=s.payloadUniqBy,h=s.payload,m=Cs(Cs({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return Q.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(j){a.wrapperNode=j}},xY(i,Cs(Cs({},this.props),{},{payload:F4(h,f,vY)})))}}],[{key:"getWithHeight",value:function(a,s){var i=Cs(Cs({},this.defaultProps),a.props),l=i.layout;return l==="vertical"&&Le(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||s}:null}}])})(x.PureComponent);qp(zl,"displayName","Legend");qp(zl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var nb,iR;function yY(){if(iR)return nb;iR=1;var e=nf(),t=jN(),r=$n(),a=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(a&&i&&i[a])}return nb=s,nb}var ab,oR;function z4(){if(oR)return ab;oR=1;var e=R4(),t=yY();function r(a,s,i,l,u){var d=-1,f=a.length;for(i||(i=t),u||(u=[]);++d<f;){var h=a[d];s>0&&i(h)?s>1?r(h,s-1,i,l,u):e(u,h):l||(u[u.length]=h)}return u}return ab=r,ab}var sb,lR;function bY(){if(lR)return sb;lR=1;function e(t){return function(r,a,s){for(var i=-1,l=Object(r),u=s(r),d=u.length;d--;){var f=u[t?d:++i];if(a(l[f],f,l)===!1)break}return r}}return sb=e,sb}var ib,cR;function jY(){if(cR)return ib;cR=1;var e=bY(),t=e();return ib=t,ib}var ob,uR;function q4(){if(uR)return ob;uR=1;var e=jY(),t=zp();function r(a,s){return a&&e(a,s,t)}return ob=r,ob}var lb,dR;function wY(){if(dR)return lb;dR=1;var e=sf();function t(r,a){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var l=s.length,u=a?l:-1,d=Object(s);(a?u--:++u<l)&&i(d[u],u,d)!==!1;);return s}}return lb=t,lb}var cb,fR;function _N(){if(fR)return cb;fR=1;var e=q4(),t=wY(),r=t(e);return cb=r,cb}var ub,hR;function W4(){if(hR)return ub;hR=1;var e=_N(),t=sf();function r(a,s){var i=-1,l=t(a)?Array(a.length):[];return e(a,function(u,d,f){l[++i]=s(u,d,f)}),l}return ub=r,ub}var db,mR;function NY(){if(mR)return db;mR=1;function e(t,r){var a=t.length;for(t.sort(r);a--;)t[a]=t[a].value;return t}return db=e,db}var fb,pR;function SY(){if(pR)return fb;pR=1;var e=Ec();function t(r,a){if(r!==a){var s=r!==void 0,i=r===null,l=r===r,u=e(r),d=a!==void 0,f=a===null,h=a===a,m=e(a);if(!f&&!m&&!u&&r>a||u&&d&&h&&!f&&!m||i&&d&&h||!s&&h||!l)return 1;if(!i&&!u&&!m&&r<a||m&&s&&l&&!i&&!u||f&&s&&l||!d&&l||!h)return-1}return 0}return fb=t,fb}var hb,gR;function _Y(){if(gR)return hb;gR=1;var e=SY();function t(r,a,s){for(var i=-1,l=r.criteria,u=a.criteria,d=l.length,f=s.length;++i<d;){var h=e(l[i],u[i]);if(h){if(i>=f)return h;var m=s[i];return h*(m=="desc"?-1:1)}}return r.index-a.index}return hb=t,hb}var mb,vR;function CY(){if(vR)return mb;vR=1;var e=dN(),t=fN(),r=Gi(),a=W4(),s=NY(),i=I4(),l=_Y(),u=Ac(),d=$n();function f(h,m,g){m.length?m=e(m,function(b){return d(b)?function(v){return t(v,b.length===1?b[0]:b)}:b}):m=[u];var j=-1;m=e(m,i(r));var w=a(h,function(b,v,N){var S=e(m,function(C){return C(b)});return{criteria:S,index:++j,value:b}});return s(w,function(b,v){return l(b,v,g)})}return mb=f,mb}var pb,xR;function EY(){if(xR)return pb;xR=1;function e(t,r,a){switch(a.length){case 0:return t.call(r);case 1:return t.call(r,a[0]);case 2:return t.call(r,a[0],a[1]);case 3:return t.call(r,a[0],a[1],a[2])}return t.apply(r,a)}return pb=e,pb}var gb,yR;function TY(){if(yR)return gb;yR=1;var e=EY(),t=Math.max;function r(a,s,i){return s=t(s===void 0?a.length-1:s,0),function(){for(var l=arguments,u=-1,d=t(l.length-s,0),f=Array(d);++u<d;)f[u]=l[s+u];u=-1;for(var h=Array(s+1);++u<s;)h[u]=l[u];return h[s]=i(f),e(a,this,h)}}return gb=r,gb}var vb,bR;function AY(){if(bR)return vb;bR=1;function e(t){return function(){return t}}return vb=e,vb}var xb,jR;function V4(){if(jR)return xb;jR=1;var e=Vo(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return xb=t,xb}var yb,wR;function RY(){if(wR)return yb;wR=1;var e=AY(),t=V4(),r=Ac(),a=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return yb=a,yb}var bb,NR;function PY(){if(NR)return bb;NR=1;var e=800,t=16,r=Date.now;function a(s){var i=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return bb=a,bb}var jb,SR;function IY(){if(SR)return jb;SR=1;var e=RY(),t=PY(),r=t(e);return jb=r,jb}var wb,_R;function kY(){if(_R)return wb;_R=1;var e=Ac(),t=TY(),r=IY();function a(s,i){return r(t(s,i,e),s+"")}return wb=a,wb}var Nb,CR;function Wp(){if(CR)return Nb;CR=1;var e=lN(),t=sf(),r=wN(),a=Hi();function s(i,l,u){if(!a(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],i):!1}return Nb=s,Nb}var Sb,ER;function OY(){if(ER)return Sb;ER=1;var e=z4(),t=CY(),r=kY(),a=Wp(),s=r(function(i,l){if(i==null)return[];var u=l.length;return u>1&&a(i,l[0],l[1])?l=[]:u>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return Sb=s,Sb}var DY=OY();const CN=qt(DY);function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ew.apply(this,arguments)}function MY(e,t){return UY(e)||FY(e,t)||LY(e,t)||$Y()}function $Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LY(e,t){if(e){if(typeof e=="string")return TR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TR(e,t)}}function TR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function FY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function UY(e){if(Array.isArray(e))return e}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(a){BY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BY(e,t,r){return t=zY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zY(e){var t=qY(e,"string");return fd(t)=="symbol"?t:t+""}function qY(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(fd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WY(e){return Array.isArray(e)&&Tr(e[0])&&Tr(e[1])?e.join(" ~ "):e}var VY=function(t){var r=t.separator,a=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,h=t.payload,m=t.formatter,g=t.itemSorter,j=t.wrapperClassName,w=t.labelClassName,b=t.label,v=t.labelFormatter,N=t.accessibilityLayer,S=N===void 0?!1:N,C=function(){if(h&&h.length){var G={padding:0,margin:0},V=(g?CN(h,g):h).map(function(Z,$){if(Z.type==="none")return null;var M=_b({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},u),k=Z.formatter||m||WY,D=Z.value,W=Z.name,H=D,z=W;if(k&&H!=null&&z!=null){var F=k(D,W,Z,$,h);if(Array.isArray(F)){var L=MY(F,2);H=L[0],z=L[1]}else H=F}return Q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:M},Tr(z)?Q.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Tr(z)?Q.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,Q.createElement("span",{className:"recharts-tooltip-item-value"},H),Q.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return Q.createElement("ul",{className:"recharts-tooltip-item-list",style:G},V)}return null},A=_b({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=_b({margin:0},f),T=!It(b),P=T?b:"",O=Ct("recharts-default-tooltip",j),I=Ct("recharts-tooltip-label",w);T&&v&&h!==void 0&&h!==null&&(P=v(b,h));var B=S?{role:"status","aria-live":"assertive"}:{};return Q.createElement("div",Ew({className:O,style:A},B),Q.createElement("p",{className:I,style:_},Q.isValidElement(P)?P:"".concat(P)),C())};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function Mh(e,t,r){return t=HY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HY(e){var t=GY(e,"string");return hd(t)=="symbol"?t:t+""}function GY(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(hd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Su="recharts-tooltip-wrapper",KY={visibility:"hidden"};function YY(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return Ct(Su,Mh(Mh(Mh(Mh({},"".concat(Su,"-right"),Le(r)&&t&&Le(t.x)&&r>=t.x),"".concat(Su,"-left"),Le(r)&&t&&Le(t.x)&&r<t.x),"".concat(Su,"-bottom"),Le(a)&&t&&Le(t.y)&&a>=t.y),"".concat(Su,"-top"),Le(a)&&t&&Le(t.y)&&a<t.y))}function RR(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(i&&Le(i[a]))return i[a];var h=r[a]-u-s,m=r[a]+s;if(t[a])return l[a]?h:m;if(l[a]){var g=h,j=d[a];return g<j?Math.max(m,d[a]):Math.max(h,d[a])}var w=m+u,b=d[a]+f;return w>b?Math.max(h,d[a]):Math.max(m,d[a])}function XY(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function QY(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,h,m;return l.height>0&&l.width>0&&r?(h=RR({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=RR({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=XY({translateX:h,translateY:m,useTranslate3d:u})):f=KY,{cssProperties:f,cssClasses:YY({translateX:h,translateY:m,coordinate:r})}}function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function IR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(a){Aw(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JY(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,G4(a.key),a)}}function eX(e,t,r){return t&&JY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tX(e,t,r){return t=bm(t),rX(e,H4()?Reflect.construct(t,r||[],bm(e).constructor):t.apply(e,r))}function rX(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nX(e)}function nX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!e})()}function bm(e){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bm(e)}function aX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tw(e,t)}function Tw(e,t){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Tw(e,t)}function Aw(e,t,r){return t=G4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G4(e){var t=sX(e,"string");return ec(t)=="symbol"?t:t+""}function sX(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ec(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kR=1,iX=(function(e){function t(){var r;ZY(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=tX(this,t,[].concat(s)),Aw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Aw(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return aX(t,e),eX(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>kR||Math.abs(a.height-this.state.lastBoundingBox.height)>kR)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.children,h=s.coordinate,m=s.hasPayload,g=s.isAnimationActive,j=s.offset,w=s.position,b=s.reverseDirection,v=s.useTranslate3d,N=s.viewBox,S=s.wrapperStyle,C=QY({allowEscapeViewBox:l,coordinate:h,offsetTopLeft:j,position:w,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:N}),A=C.cssClasses,_=C.cssProperties,T=IR(IR({transition:g&&i?"transform ".concat(u,"ms ").concat(d):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},S);return Q.createElement("div",{tabIndex:-1,className:A,style:T,ref:function(O){a.wrapperNode=O}},f)}}])})(x.PureComponent),oX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},of={isSsr:oX()};function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function DR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(a){EN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cX(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Y4(a.key),a)}}function uX(e,t,r){return t&&cX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dX(e,t,r){return t=jm(t),fX(e,K4()?Reflect.construct(t,r||[],jm(e).constructor):t.apply(e,r))}function fX(e,t){if(t&&(tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hX(e)}function hX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K4=function(){return!!e})()}function jm(e){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jm(e)}function mX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rw(e,t)}function Rw(e,t){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Rw(e,t)}function EN(e,t,r){return t=Y4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y4(e){var t=pX(e,"string");return tc(t)=="symbol"?t:t+""}function pX(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(tc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gX(e){return e.dataKey}function vX(e,t){return Q.isValidElement(e)?Q.cloneElement(e,t):typeof e=="function"?Q.createElement(e,t):Q.createElement(VY,t)}var Xa=(function(e){function t(){return lX(this,t),dX(this,t,arguments)}return mX(t,e),uX(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.content,h=s.coordinate,m=s.filterNull,g=s.isAnimationActive,j=s.offset,w=s.payload,b=s.payloadUniqBy,v=s.position,N=s.reverseDirection,S=s.useTranslate3d,C=s.viewBox,A=s.wrapperStyle,_=w??[];m&&_.length&&(_=F4(w.filter(function(P){return P.value!=null&&(P.hide!==!0||a.props.includeHidden)}),b,gX));var T=_.length>0;return Q.createElement(iX,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:g,active:i,coordinate:h,hasPayload:T,offset:j,position:v,reverseDirection:N,useTranslate3d:S,viewBox:C,wrapperStyle:A},vX(f,DR(DR({},this.props),{},{payload:_})))}}])})(x.PureComponent);EN(Xa,"displayName","Tooltip");EN(Xa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!of.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Cb,MR;function xX(){if(MR)return Cb;MR=1;var e=ms(),t=function(){return e.Date.now()};return Cb=t,Cb}var Eb,$R;function yX(){if($R)return Eb;$R=1;var e=/\s/;function t(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return Eb=t,Eb}var Tb,LR;function bX(){if(LR)return Tb;LR=1;var e=yX(),t=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return Tb=r,Tb}var Ab,FR;function X4(){if(FR)return Ab;FR=1;var e=bX(),t=Hi(),r=Ec(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return a;if(t(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=t(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=i.test(f);return m||l.test(f)?u(f.slice(2),m?2:8):s.test(f)?a:+f}return Ab=d,Ab}var Rb,UR;function jX(){if(UR)return Rb;UR=1;var e=Hi(),t=xX(),r=X4(),a="Expected a function",s=Math.max,i=Math.min;function l(u,d,f){var h,m,g,j,w,b,v=0,N=!1,S=!1,C=!0;if(typeof u!="function")throw new TypeError(a);d=r(d)||0,e(f)&&(N=!!f.leading,S="maxWait"in f,g=S?s(r(f.maxWait)||0,d):g,C="trailing"in f?!!f.trailing:C);function A(V){var Z=h,$=m;return h=m=void 0,v=V,j=u.apply($,Z),j}function _(V){return v=V,w=setTimeout(O,d),N?A(V):j}function T(V){var Z=V-b,$=V-v,M=d-Z;return S?i(M,g-$):M}function P(V){var Z=V-b,$=V-v;return b===void 0||Z>=d||Z<0||S&&$>=g}function O(){var V=t();if(P(V))return I(V);w=setTimeout(O,T(V))}function I(V){return w=void 0,C&&h?A(V):(h=m=void 0,j)}function B(){w!==void 0&&clearTimeout(w),v=0,h=b=m=w=void 0}function q(){return w===void 0?j:I(t())}function G(){var V=t(),Z=P(V);if(h=arguments,m=this,b=V,Z){if(w===void 0)return _(b);if(S)return clearTimeout(w),w=setTimeout(O,d),A(b)}return w===void 0&&(w=setTimeout(O,d)),j}return G.cancel=B,G.flush=q,G}return Rb=l,Rb}var Pb,BR;function wX(){if(BR)return Pb;BR=1;var e=jX(),t=Hi(),r="Expected a function";function a(s,i,l){var u=!0,d=!0;if(typeof s!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(s,i,{leading:u,maxWait:i,trailing:d})}return Pb=a,Pb}var NX=wX();const Q4=qt(NX);function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(a){SX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SX(e,t,r){return t=_X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=CX(e,"string");return md(t)=="symbol"?t:t+""}function CX(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(md(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EX(e,t){return PX(e)||RX(e,t)||AX(e,t)||TX()}function TX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AX(e,t){if(e){if(typeof e=="string")return qR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qR(e,t)}}function qR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function RX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function PX(e){if(Array.isArray(e))return e}var IX=x.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,l=i===void 0?"100%":i,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,h=f===void 0?0:f,m=e.minHeight,g=e.maxHeight,j=e.children,w=e.debounce,b=w===void 0?0:w,v=e.id,N=e.className,S=e.onResize,C=e.style,A=C===void 0?{}:C,_=x.useRef(null),T=x.useRef();T.current=S,x.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var P=x.useState({containerWidth:s.width,containerHeight:s.height}),O=EX(P,2),I=O[0],B=O[1],q=x.useCallback(function(V,Z){B(function($){var M=Math.round(V),k=Math.round(Z);return $.containerWidth===M&&$.containerHeight===k?$:{containerWidth:M,containerHeight:k}})},[]);x.useEffect(function(){var V=function(W){var H,z=W[0].contentRect,F=z.width,L=z.height;q(F,L),(H=T.current)===null||H===void 0||H.call(T,F,L)};b>0&&(V=Q4(V,b,{trailing:!0,leading:!1}));var Z=new ResizeObserver(V),$=_.current.getBoundingClientRect(),M=$.width,k=$.height;return q(M,k),Z.observe(_.current),function(){Z.disconnect()}},[q,b]);var G=x.useMemo(function(){var V=I.containerWidth,Z=I.containerHeight;if(V<0||Z<0)return null;Ms(jo(l)||jo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Ms(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=jo(l)?V:l,M=jo(d)?Z:d;r&&r>0&&($?M=$/r:M&&($=M*r),g&&M>g&&(M=g)),Ms($>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,M,l,d,h,m,r);var k=!Array.isArray(j)&&Ds(j.type).endsWith("Chart");return Q.Children.map(j,function(D){return Q.isValidElement(D)?x.cloneElement(D,$h({width:$,height:M},k?{style:$h({height:"100%",width:"100%",maxHeight:M,maxWidth:$},D.props.style)}:{})):D})},[r,j,d,g,m,h,I,l]);return Q.createElement("div",{id:v?"".concat(v):void 0,className:Ct("recharts-responsive-container",N),style:$h($h({},A),{},{width:l,height:d,minWidth:h,minHeight:m,maxHeight:g}),ref:_},G)}),Z4=function(t){return null};Z4.displayName="Cell";function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function WR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(r),!0).forEach(function(a){kX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kX(e,t,r){return t=OX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=DX(e,"string");return pd(t)=="symbol"?t:t+""}function DX(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(pd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sl={widthCache:{},cacheCount:0},MX=2e3,$X={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VR="recharts_measurement_span";function LX(e){var t=Pw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Hu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||of.isSsr)return{width:0,height:0};var a=LX(r),s=JSON.stringify({text:t,copyStyle:a});if(Sl.widthCache[s])return Sl.widthCache[s];try{var i=document.getElementById(VR);i||(i=document.createElement("span"),i.setAttribute("id",VR),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=Pw(Pw({},$X),a);Object.assign(i.style,l),i.textContent="".concat(t);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return Sl.widthCache[s]=d,++Sl.cacheCount>MX&&(Sl.cacheCount=0,Sl.widthCache={}),d}catch{return{width:0,height:0}}},FX=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function wm(e,t){return qX(e)||zX(e,t)||BX(e,t)||UX()}function UX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BX(e,t){if(e){if(typeof e=="string")return HR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HR(e,t)}}function HR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function zX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function qX(e){if(Array.isArray(e))return e}function WX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GR(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,HX(a.key),a)}}function VX(e,t,r){return t&&GR(e.prototype,t),r&&GR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HX(e){var t=GX(e,"string");return gd(t)=="symbol"?t:t+""}function GX(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(gd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,J4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XX=Object.keys(J4),kl="NaN";function QX(e,t){return e*J4[t]}var Lh=(function(){function e(t,r){WX(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!KX.test(r)&&(this.num=NaN,this.unit=""),XX.includes(r)&&(this.num=QX(t,r),this.unit="px")}return VX(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=YX.exec(r))!==null&&a!==void 0?a:[],i=wm(s,3),l=i[1],u=i[2];return new e(parseFloat(l),u??"")}}])})();function e$(e){if(e.includes(kl))return kl;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=KR.exec(t))!==null&&r!==void 0?r:[],s=wm(a,4),i=s[1],l=s[2],u=s[3],d=Lh.parse(i??""),f=Lh.parse(u??""),h=l==="*"?d.multiply(f):d.divide(f);if(h.isNaN())return kl;t=t.replace(KR,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,g=(m=YR.exec(t))!==null&&m!==void 0?m:[],j=wm(g,4),w=j[1],b=j[2],v=j[3],N=Lh.parse(w??""),S=Lh.parse(v??""),C=b==="+"?N.add(S):N.subtract(S);if(C.isNaN())return kl;t=t.replace(YR,C.toString())}return t}var XR=/\(([^()]*)\)/;function ZX(e){for(var t=e;t.includes("(");){var r=XR.exec(t),a=wm(r,2),s=a[1];t=t.replace(XR,e$(s))}return t}function JX(e){var t=e.replace(/\s+/g,"");return t=ZX(t),t=e$(t),t}function eQ(e){try{return JX(e)}catch{return kl}}function Ib(e){var t=eQ(e.slice(5,-1));return t===kl?"":t}var tQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rQ=["dx","dy","angle","className","breakAll"];function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Iw.apply(this,arguments)}function QR(e,t){if(e==null)return{};var r=nQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function nQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ZR(e,t){return oQ(e)||iQ(e,t)||sQ(e,t)||aQ()}function aQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sQ(e,t){if(e){if(typeof e=="string")return JR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JR(e,t)}}function JR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function iQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function oQ(e){if(Array.isArray(e))return e}var t$=/[ \f\n\r\t\v\u2028\u2029]+/,r$=function(t){var r=t.children,a=t.breakAll,s=t.style;try{var i=[];It(r)||(a?i=r.toString().split(""):i=r.toString().split(t$));var l=i.map(function(d){return{word:d,width:Hu(d,s).width}}),u=a?0:Hu(" ",s).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},lQ=function(t,r,a,s,i){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,h=Le(l),m=u,g=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(M,k){var D=k.word,W=k.width,H=M[M.length-1];if(H&&(s==null||i||H.width+W+a<Number(s)))H.words.push(D),H.width+=W+a;else{var z={words:[D],width:W};M.push(z)}return M},[])},j=g(r),w=function($){return $.reduce(function(M,k){return M.width>k.width?M:k})};if(!h)return j;for(var b="…",v=function($){var M=m.slice(0,$),k=r$({breakAll:f,style:d,children:M+b}).wordsWithComputedWidth,D=g(k),W=D.length>l||w(D).width>Number(s);return[W,D]},N=0,S=m.length-1,C=0,A;N<=S&&C<=m.length-1;){var _=Math.floor((N+S)/2),T=_-1,P=v(T),O=ZR(P,2),I=O[0],B=O[1],q=v(_),G=ZR(q,1),V=G[0];if(!I&&!V&&(N=_+1),I&&V&&(S=_-1),!I&&V){A=B;break}C++}return A||j},eP=function(t){var r=It(t)?[]:t.toString().split(t$);return[{words:r}]},cQ=function(t){var r=t.width,a=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,u=t.maxLines;if((r||a)&&!of.isSsr){var d,f,h=r$({breakAll:l,children:s,style:i});if(h){var m=h.wordsWithComputedWidth,g=h.spaceWidth;d=m,f=g}else return eP(s);return lQ({breakAll:l,children:s,maxLines:u,style:i},d,f,r,a)}return eP(s)},tP="#808080",Nm=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,h=t.scaleToFit,m=h===void 0?!1:h,g=t.textAnchor,j=g===void 0?"start":g,w=t.verticalAnchor,b=w===void 0?"end":w,v=t.fill,N=v===void 0?tP:v,S=QR(t,tQ),C=x.useMemo(function(){return cQ({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:m,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,m,S.style,S.width]),A=S.dx,_=S.dy,T=S.angle,P=S.className,O=S.breakAll,I=QR(S,rQ);if(!Tr(a)||!Tr(i))return null;var B=a+(Le(A)?A:0),q=i+(Le(_)?_:0),G;switch(b){case"start":G=Ib("calc(".concat(f,")"));break;case"middle":G=Ib("calc(".concat((C.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:G=Ib("calc(".concat(C.length-1," * -").concat(u,")"));break}var V=[];if(m){var Z=C[0].width,$=S.width;V.push("scale(".concat((Le($)?$/Z:1)/Z,")"))}return T&&V.push("rotate(".concat(T,", ").concat(B,", ").concat(q,")")),V.length&&(I.transform=V.join(" ")),Q.createElement("text",Iw({},Pt(I,!0),{x:B,y:q,className:Ct("recharts-text",P),textAnchor:j,fill:N.includes("url")?tP:N}),C.map(function(M,k){var D=M.words.join(O?"":" ");return Q.createElement("tspan",{x:B,dy:k===0?G:u,key:"".concat(D,"-").concat(k)},D)}))};function Pi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function TN(e){let t,r,a;e.length!==2?(t=Pi,r=(u,d)=>Pi(e(u),d),a=(u,d)=>e(u)-d):(t=e===Pi||e===uQ?e:dQ,r=e,a=e);function s(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;r(u[m],d)<0?f=m+1:h=m}while(f<h)}return f}function i(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;r(u[m],d)<=0?f=m+1:h=m}while(f<h)}return f}function l(u,d,f=0,h=u.length){const m=s(u,d,f,h-1);return m>f&&a(u[m-1],d)>-a(u[m],d)?m-1:m}return{left:s,center:l,right:i}}function dQ(){return 0}function n$(e){return e===null?NaN:+e}function*fQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const hQ=TN(Pi),lf=hQ.right;TN(n$).center;class rP extends Map{constructor(t,r=gQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(nP(this,t))}has(t){return super.has(nP(this,t))}set(t,r){return super.set(mQ(this,t),r)}delete(t){return super.delete(pQ(this,t))}}function nP({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function mQ({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function pQ({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function gQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vQ(e=Pi){if(e===Pi)return a$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function a$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xQ=Math.sqrt(50),yQ=Math.sqrt(10),bQ=Math.sqrt(2);function Sm(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),l=i>=xQ?10:i>=yQ?5:i>=bQ?2:1;let u,d,f;return s<0?(f=Math.pow(10,-s)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,s)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?Sm(e,t,r*2):[u,d,f]}function kw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,l]=a?Sm(t,e,r):Sm(e,t,r);if(!(i>=s))return[];const u=i-s+1,d=new Array(u);if(a)if(l<0)for(let f=0;f<u;++f)d[f]=(i-f)/-l;else for(let f=0;f<u;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(s+f)/-l;else for(let f=0;f<u;++f)d[f]=(s+f)*l;return d}function Ow(e,t,r){return t=+t,e=+e,r=+r,Sm(e,t,r)[2]}function Dw(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?Ow(t,e,r):Ow(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function aP(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function sP(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function s$(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?a$:vQ(s);a>r;){if(a-r>600){const d=a-r+1,f=t-r+1,h=Math.log(d),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(d-m)/d)*(f-d/2<0?-1:1),j=Math.max(r,Math.floor(t-f*m/d+g)),w=Math.min(a,Math.floor(t+(d-f)*m/d+g));s$(e,t,j,w,s)}const i=e[t];let l=r,u=a;for(_u(e,r,t),s(e[a],i)>0&&_u(e,r,a);l<u;){for(_u(e,l,u),++l,--u;s(e[l],i)<0;)++l;for(;s(e[u],i)>0;)--u}s(e[r],i)===0?_u(e,r,u):(++u,_u(e,u,a)),u<=t&&(r=u+1),t<=u&&(a=u-1)}return e}function _u(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function jQ(e,t,r){if(e=Float64Array.from(fQ(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return sP(e);if(t>=1)return aP(e);var a,s=(a-1)*t,i=Math.floor(s),l=aP(s$(e,i).subarray(0,i+1)),u=sP(e.subarray(i+1));return l+(u-l)*(s-i)}}function wQ(e,t,r=n$){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),l=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return l+(u-l)*(s-i)}}function NQ(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function ba(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Mw=Symbol("implicit");function AN(){var e=new rP,t=[],r=[],a=Mw;function s(i){let l=e.get(i);if(l===void 0){if(a!==Mw)return a;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new rP;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return AN(t,r).unknown(a)},ba.apply(s,arguments),s}function vd(){var e=AN().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,l,u=!1,d=0,f=0,h=.5;delete e.unknown;function m(){var g=t().length,j=s<a,w=j?s:a,b=j?a:s;i=(b-w)/Math.max(1,g-d+f*2),u&&(i=Math.floor(i)),w+=(b-w-i*(g-d))*h,l=i*(1-d),u&&(w=Math.round(w),l=Math.round(l));var v=NQ(g).map(function(N){return w+i*N});return r(j?v.reverse():v)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([a,s]=g,a=+a,s=+s,m()):[a,s]},e.rangeRound=function(g){return[a,s]=g,a=+a,s=+s,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(u=!!g,m()):u},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),m()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return vd(t(),[a,s]).round(u).paddingInner(d).paddingOuter(f).align(h)},ba.apply(m(),arguments)}function i$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return i$(t())},e}function Gu(){return i$(vd.apply(null,arguments).paddingInner(1))}function RN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function o$(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function cf(){}var xd=.7,_m=1/xd,ql="\\s*([+-]?\\d+)\\s*",yd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SQ=/^#([0-9a-f]{3,8})$/,_Q=new RegExp(`^rgb\\(${ql},${ql},${ql}\\)$`),CQ=new RegExp(`^rgb\\(${ss},${ss},${ss}\\)$`),EQ=new RegExp(`^rgba\\(${ql},${ql},${ql},${yd}\\)$`),TQ=new RegExp(`^rgba\\(${ss},${ss},${ss},${yd}\\)$`),AQ=new RegExp(`^hsl\\(${yd},${ss},${ss}\\)$`),RQ=new RegExp(`^hsla\\(${yd},${ss},${ss},${yd}\\)$`),iP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RN(cf,bd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oP,formatHex:oP,formatHex8:PQ,formatHsl:IQ,formatRgb:lP,toString:lP});function oP(){return this.rgb().formatHex()}function PQ(){return this.rgb().formatHex8()}function IQ(){return l$(this).formatHsl()}function lP(){return this.rgb().formatRgb()}function bd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=SQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cP(t):r===3?new On(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Fh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Fh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_Q.exec(e))?new On(t[1],t[2],t[3],1):(t=CQ.exec(e))?new On(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=EQ.exec(e))?Fh(t[1],t[2],t[3],t[4]):(t=TQ.exec(e))?Fh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AQ.exec(e))?fP(t[1],t[2]/100,t[3]/100,1):(t=RQ.exec(e))?fP(t[1],t[2]/100,t[3]/100,t[4]):iP.hasOwnProperty(e)?cP(iP[e]):e==="transparent"?new On(NaN,NaN,NaN,0):null}function cP(e){return new On(e>>16&255,e>>8&255,e&255,1)}function Fh(e,t,r,a){return a<=0&&(e=t=r=NaN),new On(e,t,r,a)}function kQ(e){return e instanceof cf||(e=bd(e)),e?(e=e.rgb(),new On(e.r,e.g,e.b,e.opacity)):new On}function $w(e,t,r,a){return arguments.length===1?kQ(e):new On(e,t,r,a??1)}function On(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}RN(On,$w,o$(cf,{brighter(e){return e=e==null?_m:Math.pow(_m,e),new On(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xd:Math.pow(xd,e),new On(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new On(Co(this.r),Co(this.g),Co(this.b),Cm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uP,formatHex:uP,formatHex8:OQ,formatRgb:dP,toString:dP}));function uP(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}`}function OQ(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}${wo((isNaN(this.opacity)?1:this.opacity)*255)}`}function dP(){const e=Cm(this.opacity);return`${e===1?"rgb(":"rgba("}${Co(this.r)}, ${Co(this.g)}, ${Co(this.b)}${e===1?")":`, ${e})`}`}function Cm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Co(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wo(e){return e=Co(e),(e<16?"0":"")+e.toString(16)}function fP(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ia(e,t,r,a)}function l$(e){if(e instanceof Ia)return new Ia(e.h,e.s,e.l,e.opacity);if(e instanceof cf||(e=bd(e)),!e)return new Ia;if(e instanceof Ia)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),l=NaN,u=i-s,d=(i+s)/2;return u?(t===i?l=(r-a)/u+(r<a)*6:r===i?l=(a-t)/u+2:l=(t-r)/u+4,u/=d<.5?i+s:2-i-s,l*=60):u=d>0&&d<1?0:l,new Ia(l,u,d,e.opacity)}function DQ(e,t,r,a){return arguments.length===1?l$(e):new Ia(e,t,r,a??1)}function Ia(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}RN(Ia,DQ,o$(cf,{brighter(e){return e=e==null?_m:Math.pow(_m,e),new Ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xd:Math.pow(xd,e),new Ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new On(kb(e>=240?e-240:e+120,s,a),kb(e,s,a),kb(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Ia(hP(this.h),Uh(this.s),Uh(this.l),Cm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cm(this.opacity);return`${e===1?"hsl(":"hsla("}${hP(this.h)}, ${Uh(this.s)*100}%, ${Uh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hP(e){return e=(e||0)%360,e<0?e+360:e}function Uh(e){return Math.max(0,Math.min(1,e||0))}function kb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const PN=e=>()=>e;function MQ(e,t){return function(r){return e+r*t}}function $Q(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function LQ(e){return(e=+e)==1?c$:function(t,r){return r-t?$Q(t,r,e):PN(isNaN(t)?r:t)}}function c$(e,t){var r=t-e;return r?MQ(e,r):PN(isNaN(e)?t:e)}const mP=(function e(t){var r=LQ(t);function a(s,i){var l=r((s=$w(s)).r,(i=$w(i)).r),u=r(s.g,i.g),d=r(s.b,i.b),f=c$(s.opacity,i.opacity);return function(h){return s.r=l(h),s.g=u(h),s.b=d(h),s.opacity=f(h),s+""}}return a.gamma=e,a})(1);function FQ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function UQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function BQ(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),l;for(l=0;l<a;++l)s[l]=Rc(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(u){for(l=0;l<a;++l)i[l]=s[l](u);return i}}function zQ(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function Em(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function qQ(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Rc(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var Lw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ob=new RegExp(Lw.source,"g");function WQ(e){return function(){return e}}function VQ(e){return function(t){return e(t)+""}}function HQ(e,t){var r=Lw.lastIndex=Ob.lastIndex=0,a,s,i,l=-1,u=[],d=[];for(e=e+"",t=t+"";(a=Lw.exec(e))&&(s=Ob.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),u[l]?u[l]+=i:u[++l]=i),(a=a[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:Em(a,s)})),r=Ob.lastIndex;return r<t.length&&(i=t.slice(r),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?VQ(d[0].x):WQ(t):(t=d.length,function(f){for(var h=0,m;h<t;++h)u[(m=d[h]).i]=m.x(f);return u.join("")})}function Rc(e,t){var r=typeof t,a;return t==null||r==="boolean"?PN(t):(r==="number"?Em:r==="string"?(a=bd(t))?(t=a,mP):HQ:t instanceof bd?mP:t instanceof Date?zQ:UQ(t)?FQ:Array.isArray(t)?BQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qQ:Em)(e,t)}function IN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function GQ(e,t){t===void 0&&(t=e,e=Rc);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(l){var u=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[u](l-u)}}function KQ(e){return function(){return e}}function Tm(e){return+e}var pP=[0,1];function bn(e){return e}function Fw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:KQ(isNaN(t)?NaN:.5)}function YQ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function XQ(e,t,r){var a=e[0],s=e[1],i=t[0],l=t[1];return s<a?(a=Fw(s,a),i=r(l,i)):(a=Fw(a,s),i=r(i,l)),function(u){return i(a(u))}}function QQ(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=Fw(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(u){var d=lf(e,u,1,a)-1;return i[d](s[d](u))}}function uf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vp(){var e=pP,t=pP,r=Rc,a,s,i,l=bn,u,d,f;function h(){var g=Math.min(e.length,t.length);return l!==bn&&(l=YQ(e[0],e[g-1])),u=g>2?QQ:XQ,d=f=null,m}function m(g){return g==null||isNaN(g=+g)?i:(d||(d=u(e.map(a),t,r)))(a(l(g)))}return m.invert=function(g){return l(s((f||(f=u(t,e.map(a),Em)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,Tm),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=IN,h()},m.clamp=function(g){return arguments.length?(l=g?!0:bn,h()):l!==bn},m.interpolate=function(g){return arguments.length?(r=g,h()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,j){return a=g,s=j,h()}}function kN(){return Vp()(bn,bn)}function ZQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Am(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function rc(e){return e=Am(Math.abs(e)),e?e[1]:NaN}function JQ(e,t){return function(r,a){for(var s=r.length,i=[],l=0,u=e[0],d=0;s>0&&u>0&&(d+u+1>a&&(u=Math.max(1,a-d)),i.push(r.substring(s-=u,s+u)),!((d+=u+1)>a));)u=e[l=(l+1)%e.length];return i.reverse().join(t)}}function eZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jd(e){if(!(t=tZ.exec(e)))throw new Error("invalid format: "+e);var t;return new ON({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jd.prototype=ON.prototype;function ON(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ON.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rZ(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var u$;function nZ(e,t){var r=Am(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(u$=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Am(e,Math.max(0,t+i-1))[0]}function gP(e,t){var r=Am(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const vP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gP(e*100,t),r:gP,s:nZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xP(e){return e}var yP=Array.prototype.map,bP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function aZ(e){var t=e.grouping===void 0||e.thousands===void 0?xP:JQ(yP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?xP:eZ(yP.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m){m=jd(m);var g=m.fill,j=m.align,w=m.sign,b=m.symbol,v=m.zero,N=m.width,S=m.comma,C=m.precision,A=m.trim,_=m.type;_==="n"?(S=!0,_="g"):vP[_]||(C===void 0&&(C=12),A=!0,_="g"),(v||g==="0"&&j==="=")&&(v=!0,g="0",j="=");var T=b==="$"?r:b==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",P=b==="$"?a:/[%p]/.test(_)?l:"",O=vP[_],I=/[defgprs%]/.test(_);C=C===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function B(q){var G=T,V=P,Z,$,M;if(_==="c")V=O(q)+V,q="";else{q=+q;var k=q<0||1/q<0;if(q=isNaN(q)?d:O(Math.abs(q),C),A&&(q=rZ(q)),k&&+q==0&&w!=="+"&&(k=!1),G=(k?w==="("?w:u:w==="-"||w==="("?"":w)+G,V=(_==="s"?bP[8+u$/3]:"")+V+(k&&w==="("?")":""),I){for(Z=-1,$=q.length;++Z<$;)if(M=q.charCodeAt(Z),48>M||M>57){V=(M===46?s+q.slice(Z+1):q.slice(Z))+V,q=q.slice(0,Z);break}}}S&&!v&&(q=t(q,1/0));var D=G.length+q.length+V.length,W=D<N?new Array(N-D+1).join(g):"";switch(S&&v&&(q=t(W+q,W.length?N-V.length:1/0),W=""),j){case"<":q=G+q+V+W;break;case"=":q=G+W+q+V;break;case"^":q=W.slice(0,D=W.length>>1)+G+q+V+W.slice(D);break;default:q=W+G+q+V;break}return i(q)}return B.toString=function(){return m+""},B}function h(m,g){var j=f((m=jd(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(rc(g)/3)))*3,b=Math.pow(10,-w),v=bP[8+w/3];return function(N){return j(b*N)+v}}return{format:f,formatPrefix:h}}var Bh,DN,d$;sZ({thousands:",",grouping:[3],currency:["$",""]});function sZ(e){return Bh=aZ(e),DN=Bh.format,d$=Bh.formatPrefix,Bh}function iZ(e){return Math.max(0,-rc(Math.abs(e)))}function oZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rc(t)/3)))*3-rc(Math.abs(e)))}function lZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rc(t)-rc(e))+1}function f$(e,t,r,a){var s=Dw(e,t,r),i;switch(a=jd(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=oZ(s,l))&&(a.precision=i),d$(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=lZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=iZ(s))&&(a.precision=i-(a.type==="%")*2);break}}return DN(a)}function Ki(e){var t=e.domain;return e.ticks=function(r){var a=t();return kw(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return f$(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,l=a[s],u=a[i],d,f,h=10;for(u<l&&(f=l,l=u,u=f,f=s,s=i,i=f);h-- >0;){if(f=Ow(l,u,r),f===d)return a[s]=l,a[i]=u,t(a);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Rm(){var e=kN();return e.copy=function(){return uf(e,Rm())},ba.apply(e,arguments),Ki(e)}function h$(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Tm),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return h$(e).unknown(t)},e=arguments.length?Array.from(e,Tm):[0,1],Ki(r)}function m$(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],l;return i<s&&(l=r,r=a,a=l,l=s,s=i,i=l),e[r]=t.floor(s),e[a]=t.ceil(i),e}function jP(e){return Math.log(e)}function wP(e){return Math.exp(e)}function cZ(e){return-Math.log(-e)}function uZ(e){return-Math.exp(-e)}function dZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fZ(e){return e===10?dZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function NP(e){return(t,r)=>-e(-t,r)}function MN(e){const t=e(jP,wP),r=t.domain;let a=10,s,i;function l(){return s=hZ(a),i=fZ(a),r()[0]<0?(s=NP(s),i=NP(i),e(cZ,uZ)):e(jP,wP),t}return t.base=function(u){return arguments.length?(a=+u,l()):a},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],h=d[d.length-1];const m=h<f;m&&([f,h]=[h,f]);let g=s(f),j=s(h),w,b;const v=u==null?10:+u;let N=[];if(!(a%1)&&j-g<v){if(g=Math.floor(g),j=Math.ceil(j),f>0){for(;g<=j;++g)for(w=1;w<a;++w)if(b=g<0?w/i(-g):w*i(g),!(b<f)){if(b>h)break;N.push(b)}}else for(;g<=j;++g)for(w=a-1;w>=1;--w)if(b=g>0?w/i(-g):w*i(g),!(b<f)){if(b>h)break;N.push(b)}N.length*2<v&&(N=kw(f,h,v))}else N=kw(g,j,Math.min(j-g,v)).map(i);return m?N.reverse():N},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=jd(d)).precision==null&&(d.trim=!0),d=DN(d)),u===1/0)return d;const f=Math.max(1,a*u/t.ticks().length);return h=>{let m=h/i(Math.round(s(h)));return m*a<a-.5&&(m*=a),m<=f?d(h):""}},t.nice=()=>r(m$(r(),{floor:u=>i(Math.floor(s(u))),ceil:u=>i(Math.ceil(s(u)))})),t}function p$(){const e=MN(Vp()).domain([1,10]);return e.copy=()=>uf(e,p$()).base(e.base()),ba.apply(e,arguments),e}function SP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _P(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $N(e){var t=1,r=e(SP(t),_P(t));return r.constant=function(a){return arguments.length?e(SP(t=+a),_P(t)):t},Ki(r)}function g$(){var e=$N(Vp());return e.copy=function(){return uf(e,g$()).constant(e.constant())},ba.apply(e,arguments)}function CP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pZ(e){return e<0?-e*e:e*e}function LN(e){var t=e(bn,bn),r=1;function a(){return r===1?e(bn,bn):r===.5?e(mZ,pZ):e(CP(r),CP(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},Ki(t)}function FN(){var e=LN(Vp());return e.copy=function(){return uf(e,FN()).exponent(e.exponent())},ba.apply(e,arguments),e}function gZ(){return FN.apply(null,arguments).exponent(.5)}function EP(e){return Math.sign(e)*e*e}function vZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function v$(){var e=kN(),t=[0,1],r=!1,a;function s(i){var l=vZ(e(i));return isNaN(l)?a:r?Math.round(l):l}return s.invert=function(i){return e.invert(EP(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Tm)).map(EP)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return v$(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},ba.apply(s,arguments),Ki(s)}function x$(){var e=[],t=[],r=[],a;function s(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=wQ(e,l/u);return i}function i(l){return l==null||isNaN(l=+l)?a:t[lf(r,l)]}return i.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Pi),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return x$().domain(e).range(t).unknown(a)},ba.apply(i,arguments)}function y$(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function l(d){return d!=null&&d<=d?s[lf(a,d,0,r)]:i}function u(){var d=-1;for(a=new Array(r);++d<r;)a[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,u()):s.slice()},l.invertExtent=function(d){var f=s.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,a[0]]:f>=r?[a[r-1],t]:[a[f-1],a[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return a.slice()},l.copy=function(){return y$().domain([e,t]).range(s).unknown(i)},ba.apply(Ki(l),arguments)}function b$(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[lf(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return b$().domain(e).range(t).unknown(r)},ba.apply(s,arguments)}const Db=new Date,Mb=new Date;function Ar(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),u=s.ceil(i);return i-l<u-i?l:u},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,u)=>{const d=[];if(i=s.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let f;do d.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<l);return d},s.filter=i=>Ar(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!i(l););else for(;--u>=0;)for(;t(l,1),!i(l););}),r&&(s.count=(i,l)=>(Db.setTime(+i),Mb.setTime(+l),e(Db),e(Mb),Math.floor(r(Db,Mb))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?l=>a(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const Pm=Ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Pm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Pm);Pm.range;const Is=1e3,ga=Is*60,ks=ga*60,zs=ks*24,UN=zs*7,TP=zs*30,$b=zs*365,No=Ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Is)},(e,t)=>(t-e)/Is,e=>e.getUTCSeconds());No.range;const BN=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Is)},(e,t)=>{e.setTime(+e+t*ga)},(e,t)=>(t-e)/ga,e=>e.getMinutes());BN.range;const zN=Ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ga)},(e,t)=>(t-e)/ga,e=>e.getUTCMinutes());zN.range;const qN=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Is-e.getMinutes()*ga)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getHours());qN.range;const WN=Ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCHours());WN.range;const df=Ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ga)/zs,e=>e.getDate()-1);df.range;const Hp=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zs,e=>e.getUTCDate()-1);Hp.range;const j$=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zs,e=>Math.floor(e/zs));j$.range;function Ho(e){return Ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ga)/UN)}const Gp=Ho(0),Im=Ho(1),xZ=Ho(2),yZ=Ho(3),nc=Ho(4),bZ=Ho(5),jZ=Ho(6);Gp.range;Im.range;xZ.range;yZ.range;nc.range;bZ.range;jZ.range;function Go(e){return Ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/UN)}const Kp=Go(0),km=Go(1),wZ=Go(2),NZ=Go(3),ac=Go(4),SZ=Go(5),_Z=Go(6);Kp.range;km.range;wZ.range;NZ.range;ac.range;SZ.range;_Z.range;const VN=Ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());VN.range;const HN=Ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());HN.range;const qs=Ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});qs.range;const Ws=Ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ws.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ws.range;function w$(e,t,r,a,s,i){const l=[[No,1,Is],[No,5,5*Is],[No,15,15*Is],[No,30,30*Is],[i,1,ga],[i,5,5*ga],[i,15,15*ga],[i,30,30*ga],[s,1,ks],[s,3,3*ks],[s,6,6*ks],[s,12,12*ks],[a,1,zs],[a,2,2*zs],[r,1,UN],[t,1,TP],[t,3,3*TP],[e,1,$b]];function u(f,h,m){const g=h<f;g&&([f,h]=[h,f]);const j=m&&typeof m.range=="function"?m:d(f,h,m),w=j?j.range(f,+h+1):[];return g?w.reverse():w}function d(f,h,m){const g=Math.abs(h-f)/m,j=TN(([,,v])=>v).right(l,g);if(j===l.length)return e.every(Dw(f/$b,h/$b,m));if(j===0)return Pm.every(Math.max(Dw(f,h,m),1));const[w,b]=l[g/l[j-1][2]<l[j][2]/g?j-1:j];return w.every(b)}return[u,d]}const[CZ,EZ]=w$(Ws,HN,Kp,j$,WN,zN),[TZ,AZ]=w$(qs,VN,Gp,df,qN,BN);function Lb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function RZ(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Eu(s),h=Tu(s),m=Eu(i),g=Tu(i),j=Eu(l),w=Tu(l),b=Eu(u),v=Tu(u),N=Eu(d),S=Tu(d),C={a:k,A:D,b:W,B:H,c:null,d:OP,e:OP,f:JZ,g:cJ,G:dJ,H:XZ,I:QZ,j:ZZ,L:N$,m:eJ,M:tJ,p:z,q:F,Q:$P,s:LP,S:rJ,u:nJ,U:aJ,V:sJ,w:iJ,W:oJ,x:null,X:null,y:lJ,Y:uJ,Z:fJ,"%":MP},A={a:L,A:Y,b:ee,B:ce,c:null,d:DP,e:DP,f:gJ,g:CJ,G:TJ,H:hJ,I:mJ,j:pJ,L:_$,m:vJ,M:xJ,p:K,q:fe,Q:$P,s:LP,S:yJ,u:bJ,U:jJ,V:wJ,w:NJ,W:SJ,x:null,X:null,y:_J,Y:EJ,Z:AJ,"%":MP},_={a:B,A:q,b:G,B:V,c:Z,d:IP,e:IP,f:HZ,g:PP,G:RP,H:kP,I:kP,j:zZ,L:VZ,m:BZ,M:qZ,p:I,q:UZ,Q:KZ,s:YZ,S:WZ,u:DZ,U:MZ,V:$Z,w:OZ,W:LZ,x:$,X:M,y:PP,Y:RP,Z:FZ,"%":GZ};C.x=T(r,C),C.X=T(a,C),C.c=T(t,C),A.x=T(r,A),A.X=T(a,A),A.c=T(t,A);function T(le,Ee){return function(De){var re=[],$e=-1,oe=0,Ce=le.length,Ue,ot,bt;for(De instanceof Date||(De=new Date(+De));++$e<Ce;)le.charCodeAt($e)===37&&(re.push(le.slice(oe,$e)),(ot=AP[Ue=le.charAt(++$e)])!=null?Ue=le.charAt(++$e):ot=Ue==="e"?" ":"0",(bt=Ee[Ue])&&(Ue=bt(De,ot)),re.push(Ue),oe=$e+1);return re.push(le.slice(oe,$e)),re.join("")}}function P(le,Ee){return function(De){var re=Cu(1900,void 0,1),$e=O(re,le,De+="",0),oe,Ce;if($e!=De.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Ee&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(oe=Fb(Cu(re.y,0,1)),Ce=oe.getUTCDay(),oe=Ce>4||Ce===0?km.ceil(oe):km(oe),oe=Hp.offset(oe,(re.V-1)*7),re.y=oe.getUTCFullYear(),re.m=oe.getUTCMonth(),re.d=oe.getUTCDate()+(re.w+6)%7):(oe=Lb(Cu(re.y,0,1)),Ce=oe.getDay(),oe=Ce>4||Ce===0?Im.ceil(oe):Im(oe),oe=df.offset(oe,(re.V-1)*7),re.y=oe.getFullYear(),re.m=oe.getMonth(),re.d=oe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Ce="Z"in re?Fb(Cu(re.y,0,1)).getUTCDay():Lb(Cu(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Ce+5)%7:re.w+re.U*7-(Ce+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Fb(re)):Lb(re)}}function O(le,Ee,De,re){for(var $e=0,oe=Ee.length,Ce=De.length,Ue,ot;$e<oe;){if(re>=Ce)return-1;if(Ue=Ee.charCodeAt($e++),Ue===37){if(Ue=Ee.charAt($e++),ot=_[Ue in AP?Ee.charAt($e++):Ue],!ot||(re=ot(le,De,re))<0)return-1}else if(Ue!=De.charCodeAt(re++))return-1}return re}function I(le,Ee,De){var re=f.exec(Ee.slice(De));return re?(le.p=h.get(re[0].toLowerCase()),De+re[0].length):-1}function B(le,Ee,De){var re=j.exec(Ee.slice(De));return re?(le.w=w.get(re[0].toLowerCase()),De+re[0].length):-1}function q(le,Ee,De){var re=m.exec(Ee.slice(De));return re?(le.w=g.get(re[0].toLowerCase()),De+re[0].length):-1}function G(le,Ee,De){var re=N.exec(Ee.slice(De));return re?(le.m=S.get(re[0].toLowerCase()),De+re[0].length):-1}function V(le,Ee,De){var re=b.exec(Ee.slice(De));return re?(le.m=v.get(re[0].toLowerCase()),De+re[0].length):-1}function Z(le,Ee,De){return O(le,t,Ee,De)}function $(le,Ee,De){return O(le,r,Ee,De)}function M(le,Ee,De){return O(le,a,Ee,De)}function k(le){return l[le.getDay()]}function D(le){return i[le.getDay()]}function W(le){return d[le.getMonth()]}function H(le){return u[le.getMonth()]}function z(le){return s[+(le.getHours()>=12)]}function F(le){return 1+~~(le.getMonth()/3)}function L(le){return l[le.getUTCDay()]}function Y(le){return i[le.getUTCDay()]}function ee(le){return d[le.getUTCMonth()]}function ce(le){return u[le.getUTCMonth()]}function K(le){return s[+(le.getUTCHours()>=12)]}function fe(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Ee=T(le+="",C);return Ee.toString=function(){return le},Ee},parse:function(le){var Ee=P(le+="",!1);return Ee.toString=function(){return le},Ee},utcFormat:function(le){var Ee=T(le+="",A);return Ee.toString=function(){return le},Ee},utcParse:function(le){var Ee=P(le+="",!0);return Ee.toString=function(){return le},Ee}}}var AP={"-":"",_:" ",0:"0"},qr=/^\s*\d+/,PZ=/^%/,IZ=/[\\^$*+?|[\]().{}]/g;function At(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function kZ(e){return e.replace(IZ,"\\$&")}function Eu(e){return new RegExp("^(?:"+e.map(kZ).join("|")+")","i")}function Tu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function OZ(e,t,r){var a=qr.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function DZ(e,t,r){var a=qr.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function MZ(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function $Z(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function LZ(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function RP(e,t,r){var a=qr.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function PP(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function FZ(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function UZ(e,t,r){var a=qr.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function BZ(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function IP(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function zZ(e,t,r){var a=qr.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function kP(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function qZ(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function WZ(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function VZ(e,t,r){var a=qr.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function HZ(e,t,r){var a=qr.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function GZ(e,t,r){var a=PZ.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function KZ(e,t,r){var a=qr.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function YZ(e,t,r){var a=qr.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function OP(e,t){return At(e.getDate(),t,2)}function XZ(e,t){return At(e.getHours(),t,2)}function QZ(e,t){return At(e.getHours()%12||12,t,2)}function ZZ(e,t){return At(1+df.count(qs(e),e),t,3)}function N$(e,t){return At(e.getMilliseconds(),t,3)}function JZ(e,t){return N$(e,t)+"000"}function eJ(e,t){return At(e.getMonth()+1,t,2)}function tJ(e,t){return At(e.getMinutes(),t,2)}function rJ(e,t){return At(e.getSeconds(),t,2)}function nJ(e){var t=e.getDay();return t===0?7:t}function aJ(e,t){return At(Gp.count(qs(e)-1,e),t,2)}function S$(e){var t=e.getDay();return t>=4||t===0?nc(e):nc.ceil(e)}function sJ(e,t){return e=S$(e),At(nc.count(qs(e),e)+(qs(e).getDay()===4),t,2)}function iJ(e){return e.getDay()}function oJ(e,t){return At(Im.count(qs(e)-1,e),t,2)}function lJ(e,t){return At(e.getFullYear()%100,t,2)}function cJ(e,t){return e=S$(e),At(e.getFullYear()%100,t,2)}function uJ(e,t){return At(e.getFullYear()%1e4,t,4)}function dJ(e,t){var r=e.getDay();return e=r>=4||r===0?nc(e):nc.ceil(e),At(e.getFullYear()%1e4,t,4)}function fJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function DP(e,t){return At(e.getUTCDate(),t,2)}function hJ(e,t){return At(e.getUTCHours(),t,2)}function mJ(e,t){return At(e.getUTCHours()%12||12,t,2)}function pJ(e,t){return At(1+Hp.count(Ws(e),e),t,3)}function _$(e,t){return At(e.getUTCMilliseconds(),t,3)}function gJ(e,t){return _$(e,t)+"000"}function vJ(e,t){return At(e.getUTCMonth()+1,t,2)}function xJ(e,t){return At(e.getUTCMinutes(),t,2)}function yJ(e,t){return At(e.getUTCSeconds(),t,2)}function bJ(e){var t=e.getUTCDay();return t===0?7:t}function jJ(e,t){return At(Kp.count(Ws(e)-1,e),t,2)}function C$(e){var t=e.getUTCDay();return t>=4||t===0?ac(e):ac.ceil(e)}function wJ(e,t){return e=C$(e),At(ac.count(Ws(e),e)+(Ws(e).getUTCDay()===4),t,2)}function NJ(e){return e.getUTCDay()}function SJ(e,t){return At(km.count(Ws(e)-1,e),t,2)}function _J(e,t){return At(e.getUTCFullYear()%100,t,2)}function CJ(e,t){return e=C$(e),At(e.getUTCFullYear()%100,t,2)}function EJ(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function TJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ac(e):ac.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function AJ(){return"+0000"}function MP(){return"%"}function $P(e){return+e}function LP(e){return Math.floor(+e/1e3)}var _l,E$,T$;RJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RJ(e){return _l=RZ(e),E$=_l.format,_l.parse,T$=_l.utcFormat,_l.utcParse,_l}function PJ(e){return new Date(e)}function IJ(e){return e instanceof Date?+e:+new Date(+e)}function GN(e,t,r,a,s,i,l,u,d,f){var h=kN(),m=h.invert,g=h.domain,j=f(".%L"),w=f(":%S"),b=f("%I:%M"),v=f("%I %p"),N=f("%a %d"),S=f("%b %d"),C=f("%B"),A=f("%Y");function _(T){return(d(T)<T?j:u(T)<T?w:l(T)<T?b:i(T)<T?v:a(T)<T?s(T)<T?N:S:r(T)<T?C:A)(T)}return h.invert=function(T){return new Date(m(T))},h.domain=function(T){return arguments.length?g(Array.from(T,IJ)):g().map(PJ)},h.ticks=function(T){var P=g();return e(P[0],P[P.length-1],T??10)},h.tickFormat=function(T,P){return P==null?_:f(P)},h.nice=function(T){var P=g();return(!T||typeof T.range!="function")&&(T=t(P[0],P[P.length-1],T??10)),T?g(m$(P,T)):h},h.copy=function(){return uf(h,GN(e,t,r,a,s,i,l,u,d,f))},h}function kJ(){return ba.apply(GN(TZ,AZ,qs,VN,Gp,df,qN,BN,No,E$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function OJ(){return ba.apply(GN(CZ,EZ,Ws,HN,Kp,Hp,WN,zN,No,T$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yp(){var e=0,t=1,r,a,s,i,l=bn,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(s===0?.5:(m=(i(m)-r)*s,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function h(m){return function(g){var j,w;return arguments.length?([j,w]=g,l=m(j,w),f):[l(0),l(1)]}}return f.range=h(Rc),f.rangeRound=h(IN),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return i=m,r=m(e),a=m(t),s=r===a?0:1/(a-r),f}}function Yi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function A$(){var e=Ki(Yp()(bn));return e.copy=function(){return Yi(e,A$())},Gs.apply(e,arguments)}function R$(){var e=MN(Yp()).domain([1,10]);return e.copy=function(){return Yi(e,R$()).base(e.base())},Gs.apply(e,arguments)}function P$(){var e=$N(Yp());return e.copy=function(){return Yi(e,P$()).constant(e.constant())},Gs.apply(e,arguments)}function KN(){var e=LN(Yp());return e.copy=function(){return Yi(e,KN()).exponent(e.exponent())},Gs.apply(e,arguments)}function DJ(){return KN.apply(null,arguments).exponent(.5)}function I$(){var e=[],t=bn;function r(a){if(a!=null&&!isNaN(a=+a))return t((lf(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Pi),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>jQ(e,i/a))},r.copy=function(){return I$(t).domain(e)},Gs.apply(r,arguments)}function Xp(){var e=0,t=.5,r=1,a=1,s,i,l,u,d,f=bn,h,m=!1,g;function j(b){return isNaN(b=+b)?g:(b=.5+((b=+h(b))-i)*(a*b<a*i?u:d),f(m?Math.max(0,Math.min(1,b)):b))}j.domain=function(b){return arguments.length?([e,t,r]=b,s=h(e=+e),i=h(t=+t),l=h(r=+r),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),a=i<s?-1:1,j):[e,t,r]},j.clamp=function(b){return arguments.length?(m=!!b,j):m},j.interpolator=function(b){return arguments.length?(f=b,j):f};function w(b){return function(v){var N,S,C;return arguments.length?([N,S,C]=v,f=GQ(b,[N,S,C]),j):[f(0),f(.5),f(1)]}}return j.range=w(Rc),j.rangeRound=w(IN),j.unknown=function(b){return arguments.length?(g=b,j):g},function(b){return h=b,s=b(e),i=b(t),l=b(r),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),a=i<s?-1:1,j}}function k$(){var e=Ki(Xp()(bn));return e.copy=function(){return Yi(e,k$())},Gs.apply(e,arguments)}function O$(){var e=MN(Xp()).domain([.1,1,10]);return e.copy=function(){return Yi(e,O$()).base(e.base())},Gs.apply(e,arguments)}function D$(){var e=$N(Xp());return e.copy=function(){return Yi(e,D$()).constant(e.constant())},Gs.apply(e,arguments)}function YN(){var e=LN(Xp());return e.copy=function(){return Yi(e,YN()).exponent(e.exponent())},Gs.apply(e,arguments)}function MJ(){return YN.apply(null,arguments).exponent(.5)}const FP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vd,scaleDiverging:k$,scaleDivergingLog:O$,scaleDivergingPow:YN,scaleDivergingSqrt:MJ,scaleDivergingSymlog:D$,scaleIdentity:h$,scaleImplicit:Mw,scaleLinear:Rm,scaleLog:p$,scaleOrdinal:AN,scalePoint:Gu,scalePow:FN,scaleQuantile:x$,scaleQuantize:y$,scaleRadial:v$,scaleSequential:A$,scaleSequentialLog:R$,scaleSequentialPow:KN,scaleSequentialQuantile:I$,scaleSequentialSqrt:DJ,scaleSequentialSymlog:P$,scaleSqrt:gZ,scaleSymlog:g$,scaleThreshold:b$,scaleTime:kJ,scaleUtc:OJ,tickFormat:f$},Symbol.toStringTag,{value:"Module"}));var Ub,UP;function M$(){if(UP)return Ub;UP=1;var e=Ec();function t(r,a,s){for(var i=-1,l=r.length;++i<l;){var u=r[i],d=a(u);if(d!=null&&(f===void 0?d===d&&!e(d):s(d,f)))var f=d,h=u}return h}return Ub=t,Ub}var Bb,BP;function $J(){if(BP)return Bb;BP=1;function e(t,r){return t>r}return Bb=e,Bb}var zb,zP;function LJ(){if(zP)return zb;zP=1;var e=M$(),t=$J(),r=Ac();function a(s){return s&&s.length?e(s,r,t):void 0}return zb=a,zb}var FJ=LJ();const Qp=qt(FJ);var qb,qP;function UJ(){if(qP)return qb;qP=1;function e(t,r){return t<r}return qb=e,qb}var Wb,WP;function BJ(){if(WP)return Wb;WP=1;var e=M$(),t=UJ(),r=Ac();function a(s){return s&&s.length?e(s,r,t):void 0}return Wb=a,Wb}var zJ=BJ();const Zp=qt(zJ);var Vb,VP;function qJ(){if(VP)return Vb;VP=1;var e=dN(),t=Gi(),r=W4(),a=$n();function s(i,l){var u=a(i)?e:r;return u(i,t(l,3))}return Vb=s,Vb}var Hb,HP;function WJ(){if(HP)return Hb;HP=1;var e=z4(),t=qJ();function r(a,s){return e(t(a,s),1)}return Hb=r,Hb}var VJ=WJ();const HJ=qt(VJ);var Gb,GP;function GJ(){if(GP)return Gb;GP=1;var e=SN();function t(r,a){return e(r,a)}return Gb=t,Gb}var KJ=GJ();const XN=qt(KJ);var Pc=1e9,YJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZN,er=!0,ya="[DecimalError] ",Eo=ya+"Invalid argument: ",QN=ya+"Exponent out of range: ",Ic=Math.floor,vo=Math.pow,XJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yn,Dr=1e7,Qt=7,$$=9007199254740991,Om=Ic($$/Qt),Ge={};Ge.absoluteValue=Ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ge.comparedTo=Ge.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ge.dividedBy=Ge.div=function(e){return $s(this,new this.constructor(e))};Ge.dividedToIntegerBy=Ge.idiv=function(e){var t=this,r=t.constructor;return Vt($s(t,new r(e),0,1),r.precision)};Ge.equals=Ge.eq=function(e){return!this.cmp(e)};Ge.exponent=function(){return yr(this)};Ge.greaterThan=Ge.gt=function(e){return this.cmp(e)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(e){return this.cmp(e)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(e){return this.cmp(e)<0};Ge.lessThanOrEqualTo=Ge.lte=function(e){return this.cmp(e)<1};Ge.logarithm=Ge.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Yn))throw Error(ya+"NaN");if(r.s<1)throw Error(ya+(r.s?"NaN":"-Infinity"));return r.eq(Yn)?new a(0):(er=!1,t=$s(wd(r,i),wd(e,i),i),er=!0,Vt(t,s))};Ge.minus=Ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?U$(t,e):L$(t,(e.s=-e.s,e))};Ge.modulo=Ge.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(ya+"NaN");return r.s?(er=!1,t=$s(r,e,0,1).times(e),er=!0,r.minus(t)):Vt(new a(r),s)};Ge.naturalExponential=Ge.exp=function(){return F$(this)};Ge.naturalLogarithm=Ge.ln=function(){return wd(this)};Ge.negated=Ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ge.plus=Ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?L$(t,e):U$(t,(e.s=-e.s,e))};Ge.precision=Ge.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Eo+e);if(t=yr(s)+1,a=s.d.length-1,r=a*Qt+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Ge.squareRoot=Ge.sqrt=function(){var e,t,r,a,s,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(ya+"NaN")}for(e=yr(u),er=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=rs(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Ic((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new d(t)):a=new d(s.toString()),r=d.precision,s=l=r+3;;)if(i=a,a=i.plus($s(u,i,l+2)).times(.5),rs(i.d).slice(0,l)===(t=rs(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(Vt(i,r+1,0),i.times(i).eq(u)){a=i;break}}else if(t!="9999")break;l+=4}return er=!0,Vt(a,r)};Ge.times=Ge.mul=function(e){var t,r,a,s,i,l,u,d,f,h=this,m=h.constructor,g=h.d,j=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,d=g.length,f=j.length,d<f&&(i=g,g=j,j=i,l=d,d=f,f=l),i=[],l=d+f,a=l;a--;)i.push(0);for(a=f;--a>=0;){for(t=0,s=d+a;s>a;)u=i[s]+j[a]*g[s-a-1]+t,i[s--]=u%Dr|0,t=u/Dr|0;i[s]=(i[s]+t)%Dr|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,er?Vt(e,m.precision):e};Ge.toDecimalPlaces=Ge.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(ds(e,0,Pc),t===void 0?t=a.rounding:ds(t,0,8),Vt(r,e+yr(r)+1,t))};Ge.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=Mo(a,!0):(ds(e,0,Pc),t===void 0?t=s.rounding:ds(t,0,8),a=Vt(new s(a),e+1,t),r=Mo(a,!0,e+1)),r};Ge.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?Mo(s):(ds(e,0,Pc),t===void 0?t=i.rounding:ds(t,0,8),a=Vt(new i(s),e+yr(s)+1,t),r=Mo(a.abs(),!1,e+yr(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ge.toInteger=Ge.toint=function(){var e=this,t=e.constructor;return Vt(new t(e),yr(e)+1,t.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(e){var t,r,a,s,i,l,u=this,d=u.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(Yn);if(u=new d(u),!u.s){if(e.s<1)throw Error(ya+"Infinity");return u}if(u.eq(Yn))return u;if(a=d.precision,e.eq(Yn))return Vt(u,a);if(t=e.e,r=e.d.length-1,l=t>=r,i=u.s,l){if((r=h<0?-h:h)<=$$){for(s=new d(Yn),t=Math.ceil(a/Qt+4),er=!1;r%2&&(s=s.times(u),YP(s.d,t)),r=Ic(r/2),r!==0;)u=u.times(u),YP(u.d,t);return er=!0,e.s<0?new d(Yn).div(s):Vt(s,a)}}else if(i<0)throw Error(ya+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,er=!1,s=e.times(wd(u,a+f)),er=!0,s=F$(s),s.s=i,s};Ge.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=yr(s),a=Mo(s,r<=i.toExpNeg||r>=i.toExpPos)):(ds(e,1,Pc),t===void 0?t=i.rounding:ds(t,0,8),s=Vt(new i(s),e,t),r=yr(s),a=Mo(s,e<=r||r<=i.toExpNeg,e)),a};Ge.toSignificantDigits=Ge.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(ds(e,1,Pc),t===void 0?t=a.rounding:ds(t,0,8)),Vt(new a(r),e,t)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=yr(e),r=e.constructor;return Mo(e,t<=r.toExpNeg||t>=r.toExpPos)};function L$(e,t){var r,a,s,i,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),er?Vt(t,m):t;if(d=e.d,f=t.d,l=e.e,s=t.e,d=d.slice(),i=l-s,i){for(i<0?(a=d,i=-i,u=f.length):(a=f,s=l,u=d.length),l=Math.ceil(m/Qt),u=l>u?l+1:u+1,i>u&&(i=u,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,a=f,f=d,d=a),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/Dr|0,d[i]%=Dr;for(r&&(d.unshift(r),++s),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=s,er?Vt(t,m):t}function ds(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Eo+e)}function rs(e){var t,r,a,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)a=e[t]+"",r=Qt-a.length,r&&(i+=ji(r)),i+=a;l=e[t],a=l+"",r=Qt-a.length,r&&(i+=ji(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var $s=(function(){function e(a,s){var i,l=0,u=a.length;for(a=a.slice();u--;)i=a[u]*s+l,a[u]=i%Dr|0,l=i/Dr|0;return l&&a.unshift(l),a}function t(a,s,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(a[u]!=s[u]){d=a[u]>s[u]?1:-1;break}return d}function r(a,s,i){for(var l=0;i--;)a[i]-=l,l=a[i]<s[i]?1:0,a[i]=l*Dr+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,l){var u,d,f,h,m,g,j,w,b,v,N,S,C,A,_,T,P,O,I=a.constructor,B=a.s==s.s?1:-1,q=a.d,G=s.d;if(!a.s)return new I(a);if(!s.s)throw Error(ya+"Division by zero");for(d=a.e-s.e,P=G.length,_=q.length,j=new I(B),w=j.d=[],f=0;G[f]==(q[f]||0);)++f;if(G[f]>(q[f]||0)&&--d,i==null?S=i=I.precision:l?S=i+(yr(a)-yr(s))+1:S=i,S<0)return new I(0);if(S=S/Qt+2|0,f=0,P==1)for(h=0,G=G[0],S++;(f<_||h)&&S--;f++)C=h*Dr+(q[f]||0),w[f]=C/G|0,h=C%G|0;else{for(h=Dr/(G[0]+1)|0,h>1&&(G=e(G,h),q=e(q,h),P=G.length,_=q.length),A=P,b=q.slice(0,P),v=b.length;v<P;)b[v++]=0;O=G.slice(),O.unshift(0),T=G[0],G[1]>=Dr/2&&++T;do h=0,u=t(G,b,P,v),u<0?(N=b[0],P!=v&&(N=N*Dr+(b[1]||0)),h=N/T|0,h>1?(h>=Dr&&(h=Dr-1),m=e(G,h),g=m.length,v=b.length,u=t(m,b,g,v),u==1&&(h--,r(m,P<g?O:G,g))):(h==0&&(u=h=1),m=G.slice()),g=m.length,g<v&&m.unshift(0),r(b,m,v),u==-1&&(v=b.length,u=t(G,b,P,v),u<1&&(h++,r(b,P<v?O:G,v))),v=b.length):u===0&&(h++,b=[0]),w[f++]=h,u&&b[0]?b[v++]=q[A]||0:(b=[q[A]],v=1);while((A++<_||b[0]!==void 0)&&S--)}return w[0]||w.shift(),j.e=d,Vt(j,l?i+yr(j)+1:i)}})();function F$(e,t){var r,a,s,i,l,u,d=0,f=0,h=e.constructor,m=h.precision;if(yr(e)>16)throw Error(QN+yr(e));if(!e.s)return new h(Yn);for(er=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(a=Math.log(vo(2,f))/Math.LN10*2+5|0,u+=a,r=s=i=new h(Yn),h.precision=u;;){if(s=Vt(s.times(e),u),r=r.times(++d),l=i.plus($s(s,r,u)),rs(l.d).slice(0,u)===rs(i.d).slice(0,u)){for(;f--;)i=Vt(i.times(i),u);return h.precision=m,t==null?(er=!0,Vt(i,m)):i}i=l}}function yr(e){for(var t=e.e*Qt,r=e.d[0];r>=10;r/=10)t++;return t}function Kb(e,t,r){if(t>e.LN10.sd())throw er=!0,r&&(e.precision=r),Error(ya+"LN10 precision limit exceeded");return Vt(new e(e.LN10),t)}function ji(e){for(var t="";e--;)t+="0";return t}function wd(e,t){var r,a,s,i,l,u,d,f,h,m=1,g=10,j=e,w=j.d,b=j.constructor,v=b.precision;if(j.s<1)throw Error(ya+(j.s?"NaN":"-Infinity"));if(j.eq(Yn))return new b(0);if(t==null?(er=!1,f=v):f=t,j.eq(10))return t==null&&(er=!0),Kb(b,f);if(f+=g,b.precision=f,r=rs(w),a=r.charAt(0),i=yr(j),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)j=j.times(e),r=rs(j.d),a=r.charAt(0),m++;i=yr(j),a>1?(j=new b("0."+r),i++):j=new b(a+"."+r.slice(1))}else return d=Kb(b,f+2,v).times(i+""),j=wd(new b(a+"."+r.slice(1)),f-g).plus(d),b.precision=v,t==null?(er=!0,Vt(j,v)):j;for(u=l=j=$s(j.minus(Yn),j.plus(Yn),f),h=Vt(j.times(j),f),s=3;;){if(l=Vt(l.times(h),f),d=u.plus($s(l,new b(s),f)),rs(d.d).slice(0,f)===rs(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(Kb(b,f+2,v).times(i+""))),u=$s(u,new b(m),f),b.precision=v,t==null?(er=!0,Vt(u,v)):u;u=d,s+=2}}function KP(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=Ic(r/Qt),e.d=[],a=(r+1)%Qt,r<0&&(a+=Qt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Qt;a<s;)e.d.push(+t.slice(a,a+=Qt));t=t.slice(a),a=Qt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),er&&(e.e>Om||e.e<-Om))throw Error(QN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Vt(e,t,r){var a,s,i,l,u,d,f,h,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=Qt,s=t,f=m[h=0];else{if(h=Math.ceil((a+1)/Qt),i=m.length,h>=i)return e;for(f=i=m[h],l=1;i>=10;i/=10)l++;a%=Qt,s=a-Qt+l}if(r!==void 0&&(i=vo(10,l-s-1),u=f/i%10|0,d=t<0||m[h+1]!==void 0||f%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(a>0?s>0?f/vo(10,l-s):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(i=yr(e),m.length=1,t=t-i-1,m[0]=vo(10,(Qt-t%Qt)%Qt),e.e=Ic(-t/Qt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=h,i=1,h--):(m.length=h+1,i=vo(10,Qt-a),m[h]=s>0?(f/vo(10,l-s)%vo(10,s)|0)*i:0),d)for(;;)if(h==0){(m[0]+=i)==Dr&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=Dr)break;m[h--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(er&&(e.e>Om||e.e<-Om))throw Error(QN+yr(e));return e}function U$(e,t){var r,a,s,i,l,u,d,f,h,m,g=e.constructor,j=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),er?Vt(t,j):t;if(d=e.d,m=t.d,a=t.e,f=e.e,d=d.slice(),l=f-a,l){for(h=l<0,h?(r=d,l=-l,u=m.length):(r=m,a=f,u=d.length),s=Math.max(Math.ceil(j/Qt),u)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=d.length,u=m.length,h=s<u,h&&(u=s),s=0;s<u;s++)if(d[s]!=m[s]){h=d[s]<m[s];break}l=0}for(h&&(r=d,d=m,m=r,t.s=-t.s),u=d.length,s=m.length-u;s>0;--s)d[u++]=0;for(s=m.length;s>l;){if(d[--s]<m[s]){for(i=s;i&&d[--i]===0;)d[i]=Dr-1;--d[i],d[s]+=Dr}d[s]-=m[s]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(t.d=d,t.e=a,er?Vt(t,j):t):new g(0)}function Mo(e,t,r){var a,s=yr(e),i=rs(e.d),l=i.length;return t?(r&&(a=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+ji(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ji(-s-1)+i,r&&(a=r-l)>0&&(i+=ji(a))):s>=l?(i+=ji(s+1-l),r&&(a=r-s-1)>0&&(i=i+"."+ji(a))):((a=s+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-l)>0&&(s+1===l&&(i+="."),i+=ji(a))),e.s<0?"-"+i:i}function YP(e,t){if(e.length>t)return e.length=t,!0}function B$(e){var t,r,a;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Eo+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return KP(l,i.toString())}else if(typeof i!="string")throw Error(Eo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,XJ.test(i))KP(l,i);else throw Error(Eo+i)}if(s.prototype=Ge,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=B$,s.config=s.set=QJ,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function QJ(e){if(!e||typeof e!="object")throw Error(ya+"Object expected");var t,r,a,s=["precision",1,Pc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(Ic(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Eo+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Eo+r+": "+a);return this}var ZN=B$(YJ);Yn=new ZN(1);const Ft=ZN;function ZJ(e){return ree(e)||tee(e)||eee(e)||JJ()}function JJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eee(e,t){if(e){if(typeof e=="string")return Uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(e,t)}}function tee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ree(e){if(Array.isArray(e))return Uw(e)}function Uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var nee=function(t){return t},z$={},q$=function(t){return t===z$},XP=function(t){return function r(){return arguments.length===0||arguments.length===1&&q$(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},aee=function e(t,r){return t===1?r:XP(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var l=s.filter(function(u){return u!==z$}).length;return l>=t?r.apply(void 0,s):e(t-l,XP(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var h=s.map(function(m){return q$(m)?d.shift():m});return r.apply(void 0,ZJ(h).concat(d))}))})},Jp=function(t){return aee(t.length,t)},Bw=function(t,r){for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},see=Jp(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),iee=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return nee;var s=r.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},zw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},W$=function(t){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return r&&i.every(function(u,d){return u===r[d]})||(r=i,a=t.apply(void 0,i)),a}};function oee(e){var t;return e===0?t=1:t=Math.floor(new Ft(e).abs().log(10).toNumber())+1,t}function lee(e,t,r){for(var a=new Ft(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var cee=Jp(function(e,t,r){var a=+e,s=+t;return a+r*(s-a)}),uee=Jp(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),dee=Jp(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const eg={rangeStep:lee,getDigitCount:oee,interpolateNumber:cee,uninterpolateNumber:uee,uninterpolateTruncation:dee};function qw(e){return mee(e)||hee(e)||V$(e)||fee()}function fee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function mee(e){if(Array.isArray(e))return Ww(e)}function Nd(e,t){return vee(e)||gee(e,t)||V$(e,t)||pee()}function pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V$(e,t){if(e){if(typeof e=="string")return Ww(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(e,t)}}function Ww(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function gee(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),u;!(a=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));a=!0);}catch(d){s=!0,i=d}finally{try{!a&&l.return!=null&&l.return()}finally{if(s)throw i}}return r}}function vee(e){if(Array.isArray(e))return e}function H$(e){var t=Nd(e,2),r=t[0],a=t[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function G$(e,t,r){if(e.lte(0))return new Ft(0);var a=eg.getDigitCount(e.toNumber()),s=new Ft(10).pow(a),i=e.div(s),l=a!==1?.05:.1,u=new Ft(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=u.mul(s);return t?d:new Ft(Math.ceil(d))}function xee(e,t,r){var a=1,s=new Ft(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new Ft(10).pow(eg.getDigitCount(e)-1),s=new Ft(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Ft(Math.floor(e)))}else e===0?s=new Ft(Math.floor((t-1)/2)):r||(s=new Ft(Math.floor(e)));var l=Math.floor((t-1)/2),u=iee(see(function(d){return s.add(new Ft(d-l).mul(a)).toNumber()}),Bw);return u(0,t)}function K$(e,t,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var i=G$(new Ft(t).sub(e).div(r-1),a,s),l;e<=0&&t>=0?l=new Ft(0):(l=new Ft(e).add(t).div(2),l=l.sub(new Ft(l).mod(i)));var u=Math.ceil(l.sub(e).div(i).toNumber()),d=Math.ceil(new Ft(t).sub(l).div(i).toNumber()),f=u+d+1;return f>r?K$(e,t,r,a,s+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:i,tickMin:l.sub(new Ft(u).mul(i)),tickMax:l.add(new Ft(d).mul(i))})}function yee(e){var t=Nd(e,2),r=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),u=H$([r,a]),d=Nd(u,2),f=d[0],h=d[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(qw(Bw(0,s-1).map(function(){return 1/0}))):[].concat(qw(Bw(0,s-1).map(function(){return-1/0})),[h]);return r>a?zw(m):m}if(f===h)return xee(f,s,i);var g=K$(f,h,l,i),j=g.step,w=g.tickMin,b=g.tickMax,v=eg.rangeStep(w,b.add(new Ft(.1).mul(j)),j);return r>a?zw(v):v}function bee(e,t){var r=Nd(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=H$([a,s]),u=Nd(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[a,s];if(d===f)return[d];var h=Math.max(t,2),m=G$(new Ft(f).sub(d).div(h-1),i,0),g=[].concat(qw(eg.rangeStep(new Ft(d),new Ft(f).sub(new Ft(.99).mul(m)),m)),[f]);return a>s?zw(g):g}var jee=W$(yee),wee=W$(bee),Nee="Invariant failed";function $o(e,t){throw new Error(Nee)}var See=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dm.apply(this,arguments)}function _ee(e,t){return Aee(e)||Tee(e,t)||Eee(e,t)||Cee()}function Cee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eee(e,t){if(e){if(typeof e=="string")return QP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QP(e,t)}}function QP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Tee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Aee(e){if(Array.isArray(e))return e}function Ree(e,t){if(e==null)return{};var r=Pee(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Pee(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Iee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kee(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Q$(a.key),a)}}function Oee(e,t,r){return t&&kee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dee(e,t,r){return t=Mm(t),Mee(e,Y$()?Reflect.construct(t,r||[],Mm(e).constructor):t.apply(e,r))}function Mee(e,t){if(t&&(sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ee(e)}function $ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y$=function(){return!!e})()}function Mm(e){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mm(e)}function Lee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vw(e,t)}function Vw(e,t){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Vw(e,t)}function X$(e,t,r){return t=Q$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q$(e){var t=Fee(e,"string");return sc(t)=="symbol"?t:t+""}function Fee(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(sc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tg=(function(e){function t(){return Iee(this,t),Dee(this,t,arguments)}return Lee(t,e),Oee(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,l=a.width,u=a.dataKey,d=a.data,f=a.dataPointFormatter,h=a.xAxis,m=a.yAxis,g=Ree(a,See),j=Pt(g,!1);this.props.direction==="x"&&h.type!=="number"&&$o();var w=d.map(function(b){var v=f(b,u),N=v.x,S=v.y,C=v.value,A=v.errorVal;if(!A)return null;var _=[],T,P;if(Array.isArray(A)){var O=_ee(A,2);T=O[0],P=O[1]}else T=P=A;if(i==="vertical"){var I=h.scale,B=S+s,q=B+l,G=B-l,V=I(C-T),Z=I(C+P);_.push({x1:Z,y1:q,x2:Z,y2:G}),_.push({x1:V,y1:B,x2:Z,y2:B}),_.push({x1:V,y1:q,x2:V,y2:G})}else if(i==="horizontal"){var $=m.scale,M=N+s,k=M-l,D=M+l,W=$(C-T),H=$(C+P);_.push({x1:k,y1:H,x2:D,y2:H}),_.push({x1:M,y1:W,x2:M,y2:H}),_.push({x1:k,y1:W,x2:D,y2:W})}return Q.createElement($r,Dm({className:"recharts-errorBar",key:"bar-".concat(_.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},j),_.map(function(z){return Q.createElement("line",Dm({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return Q.createElement($r,{className:"recharts-errorBars"},w)}}])})(Q.Component);X$(tg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});X$(tg,"displayName","ErrorBar");function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function ZP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(r),!0).forEach(function(a){Uee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Uee(e,t,r){return t=Bee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bee(e){var t=zee(e,"string");return Sd(t)=="symbol"?t:t+""}function zee(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Sd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z$=function(t){var r=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=Hn(r,zl);if(!l)return null;var u=zl.defaultProps,d=u!==void 0?mo(mo({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:i==="children"?f=(a||[]).reduce(function(h,m){var g=m.item,j=m.props,w=j.sectors||j.data||[];return h.concat(w.map(function(b){return{type:l.props.iconType||g.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(a||[]).map(function(h){var m=h.item,g=m.type.defaultProps,j=g!==void 0?mo(mo({},g),m.props):{},w=j.dataKey,b=j.name,v=j.legendType,N=j.hide;return{inactive:N,dataKey:w,type:d.iconType||v||"square",color:JN(m),value:b||w,payload:j}}),mo(mo(mo({},d),zl.getWithHeight(l,s)),{},{payload:f,item:l})};function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function JP(e){return Hee(e)||Vee(e)||Wee(e)||qee()}function qee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wee(e,t){if(e){if(typeof e=="string")return Hw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hw(e,t)}}function Vee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hee(e){if(Array.isArray(e))return Hw(e)}function Hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(a){Wl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Wl(e,t,r){return t=Gee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gee(e){var t=Kee(e,"string");return _d(t)=="symbol"?t:t+""}function Kee(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(_d(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fs(e,t,r){return It(e)||It(t)?r:Tr(t)?xa(e,t,r):wt(t)?t(e):r}function Ku(e,t,r,a){var s=HJ(e,function(u){return fs(u,t)});if(r==="number"){var i=s.filter(function(u){return Le(u)||parseFloat(u)});return i.length?[Zp(i),Qp(i)]:[1/0,-1/0]}var l=a?s.filter(function(u){return!It(u)}):s;return l.map(function(u){return Tr(u)||u instanceof Date?u:""})}var Yee=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=a?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<u;f++){var h=f>0?s[f-1].coordinate:s[u-1].coordinate,m=s[f].coordinate,g=f>=u-1?s[0].coordinate:s[f+1].coordinate,j=void 0;if(ka(m-h)!==ka(g-m)){var w=[];if(ka(g-m)===ka(d[1]-d[0])){j=g;var b=m+d[1]-d[0];w[0]=Math.min(b,(b+h)/2),w[1]=Math.max(b,(b+h)/2)}else{j=h;var v=g+d[1]-d[0];w[0]=Math.min(m,(v+m)/2),w[1]=Math.max(m,(v+m)/2)}var N=[Math.min(m,(j+m)/2),Math.max(m,(j+m)/2)];if(t>N[0]&&t<=N[1]||t>=w[0]&&t<=w[1]){l=s[f].index;break}}else{var S=Math.min(h,g),C=Math.max(h,g);if(t>(S+m)/2&&t<=(C+m)/2){l=s[f].index;break}}}else for(var A=0;A<u;A++)if(A===0&&t<=(a[A].coordinate+a[A+1].coordinate)/2||A>0&&A<u-1&&t>(a[A].coordinate+a[A-1].coordinate)/2&&t<=(a[A].coordinate+a[A+1].coordinate)/2||A===u-1&&t>(a[A].coordinate+a[A-1].coordinate)/2){l=a[A].index;break}return l},JN=function(t){var r,a=t,s=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,l=i.stroke,u=i.fill,d;switch(s){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},Xee=function(t){var r=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},u=Object.keys(i),d=0,f=u.length;d<f;d++)for(var h=i[u[d]].stackGroups,m=Object.keys(h),g=0,j=m.length;g<j;g++){var w=h[m[g]],b=w.items,v=w.cateAxisId,N=b.filter(function(P){return Ds(P.type).indexOf("Bar")>=0});if(N&&N.length){var S=N[0].type.defaultProps,C=S!==void 0?ir(ir({},S),N[0].props):N[0].props,A=C.barSize,_=C[v];l[_]||(l[_]=[]);var T=It(A)?r:A;l[_].push({item:N[0],stackList:N.slice(1),barSize:It(T)?void 0:Do(T,a,0)})}}return l},Qee=function(t){var r=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=Do(r,s,0,!0),h,m=[];if(l[0].barSize===+l[0].barSize){var g=!1,j=s/d,w=l.reduce(function(A,_){return A+_.barSize||0},0);w+=(d-1)*f,w>=s&&(w-=(d-1)*f,f=0),w>=s&&j>0&&(g=!0,j*=.9,w=d*j);var b=(s-w)/2>>0,v={offset:b-f,size:0};h=l.reduce(function(A,_){var T={item:_.item,position:{offset:v.offset+v.size+f,size:g?j:_.barSize}},P=[].concat(JP(A),[T]);return v=P[P.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(O){P.push({item:O,position:v})}),P},m)}else{var N=Do(a,s,0,!0);s-2*N-(d-1)*f<=0&&(f=0);var S=(s-2*N-(d-1)*f)/d;S>1&&(S>>=0);var C=u===+u?Math.min(S,u):S;h=l.reduce(function(A,_,T){var P=[].concat(JP(A),[{item:_.item,position:{offset:N+(S+f)*T+(S-C)/2,size:C}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(O){P.push({item:O,position:P[P.length-1].position})}),P},m)}return h},Zee=function(t,r,a,s){var i=a.children,l=a.width,u=a.margin,d=l-(u.left||0)-(u.right||0),f=Z$({children:i,legendWidth:d});if(f){var h=s||{},m=h.width,g=h.height,j=f.align,w=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&w==="middle")&&j!=="center"&&Le(t[j]))return ir(ir({},t),{},Wl({},j,t[j]+(m||0)));if((b==="horizontal"||b==="vertical"&&j==="center")&&w!=="middle"&&Le(t[w]))return ir(ir({},t),{},Wl({},w,t[w]+(g||0)))}return t},Jee=function(t,r,a){return It(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},J$=function(t,r,a,s,i){var l=r.props.children,u=Da(l,tg).filter(function(f){return Jee(s,i,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,h){var m=fs(h,a);if(It(m))return f;var g=Array.isArray(m)?[Zp(m),Qp(m)]:[m,m],j=d.reduce(function(w,b){var v=fs(h,b,0),N=g[0]-Math.abs(Array.isArray(v)?v[0]:v),S=g[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(N,w[0]),Math.max(S,w[1])]},[1/0,-1/0]);return[Math.min(j[0],f[0]),Math.max(j[1],f[1])]},[1/0,-1/0])}return null},ete=function(t,r,a,s,i){var l=r.map(function(u){return J$(t,u,a,i,s)}).filter(function(u){return!It(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},eL=function(t,r,a,s,i){var l=r.map(function(d){var f=d.props.dataKey;return a==="number"&&f&&J$(t,d,f,s)||Ku(t,f,a,i)});if(a==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var h=0,m=f.length;h<m;h++)u[f[h]]||(u[f[h]]=!0,d.push(f[h]));return d},[])},tL=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},rL=function(t,r,a,s){if(s)return t.map(function(d){return d.coordinate});var i,l,u=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===a&&(l=!0),d.coordinate});return i||u.push(r),l||u.push(a),u},Os=function(t,r,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,f=(r||a)&&l==="category"&&s.bandwidth?s.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&u?.length>=2?ka(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var g=i?i.indexOf(m):m;return{coordinate:s(g)+f,value:m,offset:f}});return h.filter(function(m){return!af(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,g){return{coordinate:s(m)+f,value:m,index:g,offset:f}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+f,value:m,offset:f}}):s.domain().map(function(m,g){return{coordinate:s(m)+f,value:i?i[m]:m,index:g,offset:f}})},Yb=new WeakMap,zh=function(t,r){if(typeof r!="function")return t;Yb.has(t)||Yb.set(t,new WeakMap);var a=Yb.get(t);if(a.has(r))return a.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},tte=function(t,r,a){var s=t.scale,i=t.type,l=t.layout,u=t.axisType;if(s==="auto")return l==="radial"&&u==="radiusAxis"?{scale:vd(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:Rm(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Gu(),realScaleType:"point"}:i==="category"?{scale:vd(),realScaleType:"band"}:{scale:Rm(),realScaleType:"linear"};if(Oo(s)){var d="scale".concat(Lp(s));return{scale:(FP[d]||Gu)(),realScaleType:FP[d]?d:"point"}}return wt(s)?{scale:s}:{scale:Gu(),realScaleType:"point"}},tI=1e-4,rte=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-tI,l=Math.max(s[0],s[1])+tI,u=t(r[0]),d=t(r[a-1]);(u<i||u>l||d<i||d>l)&&t.domain([r[0],r[a-1]])}},nte=function(t,r){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===r)return t[a].position;return null},ate=function(t,r){if(!r||r.length!==2||!Le(r[0])||!Le(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Le(t[0])||t[0]<a)&&(i[0]=a),(!Le(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},ste=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0,u=0;u<r;++u){var d=af(t[u][a][1])?t[u][a][0]:t[u][a][1];d>=0?(t[u][a][0]=i,t[u][a][1]=i+d,i=t[u][a][1]):(t[u][a][0]=l,t[u][a][1]=l+d,l=t[u][a][1])}},ite=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0;l<r;++l){var u=af(t[l][a][1])?t[l][a][0]:t[l][a][1];u>=0?(t[l][a][0]=i,t[l][a][1]=i+u,i=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},ote={sign:ste,expand:qG,none:Ql,silhouette:WG,wiggle:VG,positive:ite},lte=function(t,r,a){var s=r.map(function(u){return u.props.dataKey}),i=ote[a],l=zG().keys(s).value(function(u,d){return+fs(u,d,0)}).order(ww).offset(i);return l(t)},cte=function(t,r,a,s,i,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(m,g){var j,w=(j=g.type)!==null&&j!==void 0&&j.defaultProps?ir(ir({},g.type.defaultProps),g.props):g.props,b=w.stackId,v=w.hide;if(v)return m;var N=w[a],S=m[N]||{hasStack:!1,stackGroups:{}};if(Tr(b)){var C=S.stackGroups[b]||{numericAxisId:a,cateAxisId:s,items:[]};C.items.push(g),S.hasStack=!0,S.stackGroups[b]=C}else S.stackGroups[$p("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[g]};return ir(ir({},m),{},Wl({},N,S))},d),h={};return Object.keys(f).reduce(function(m,g){var j=f[g];if(j.hasStack){var w={};j.stackGroups=Object.keys(j.stackGroups).reduce(function(b,v){var N=j.stackGroups[v];return ir(ir({},b),{},Wl({},v,{numericAxisId:a,cateAxisId:s,items:N.items,stackedData:lte(t,N.items,i)}))},w)}return ir(ir({},m),{},Wl({},g,j))},h)},ute=function(t,r){var a=r.realScaleType,s=r.type,i=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=a||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var h=jee(f,i,u);return t.domain([Zp(h),Qp(h)]),{niceTicks:h}}if(i&&s==="number"){var m=t.domain(),g=wee(m,i,u);return{niceTicks:g}}return null},rI=function(t){var r=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return a[u]?a[u].coordinate+s:null;var d=fs(l,r.dataKey,r.domain[u]);return It(d)?null:r.scale(d)-i/2+s},dte=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},fte=function(t,r){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Tr(i)){var l=r[i];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},hte=function(t){return t.reduce(function(r,a){return[Zp(a.concat([r[0]]).filter(Le)),Qp(a.concat([r[1]]).filter(Le))]},[1/0,-1/0])},nL=function(t,r,a){return Object.keys(t).reduce(function(s,i){var l=t[i],u=l.stackedData,d=u.reduce(function(f,h){var m=hte(h.slice(r,a+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},nI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gw=function(t,r,a){if(wt(t))return t(r,a);if(!Array.isArray(t))return r;var s=[];if(Le(t[0]))s[0]=a?t[0]:Math.min(t[0],r[0]);else if(nI.test(t[0])){var i=+nI.exec(t[0])[1];s[0]=r[0]-i}else wt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Le(t[1]))s[1]=a?t[1]:Math.max(t[1],r[1]);else if(aI.test(t[1])){var l=+aI.exec(t[1])[1];s[1]=r[1]+l}else wt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},$m=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=CN(r,function(m){return m.coordinate}),l=1/0,u=1,d=i.length;u<d;u++){var f=i[u],h=i[u-1];l=Math.min((f.coordinate||0)-(h.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},sI=function(t,r,a){return!t||!t.length||XN(t,xa(a,"type.defaultProps.domain"))?r:t},aL=function(t,r){var a=t.type.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,l=a.unit,u=a.formatter,d=a.tooltipType,f=a.chartType,h=a.hide;return ir(ir({},Pt(t,!1)),{},{dataKey:s,unit:l,formatter:u,name:i||s,color:JN(t),value:fs(r,s),type:d,payload:r,chartType:f,hide:h})};function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function oI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(a){mte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mte(e,t,r){return t=pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pte(e){var t=gte(e,"string");return Cd(t)=="symbol"?t:t+""}function gte(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Cd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lm=Math.PI/180,vte=function(t){return t*180/Math.PI},Yr=function(t,r,a,s){return{x:t+Math.cos(-Lm*s)*a,y:r+Math.sin(-Lm*s)*a}},xte=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-l,2))},yte=function(t,r){var a=t.x,s=t.y,i=r.cx,l=r.cy,u=xte({x:a,y:s},{x:i,y:l});if(u<=0)return{radius:u};var d=(a-i)/u,f=Math.acos(d);return s>l&&(f=2*Math.PI-f),{radius:u,angle:vte(f),angleInRadian:f}},bte=function(t){var r=t.startAngle,a=t.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),l=Math.min(s,i);return{startAngle:r-l*360,endAngle:a-l*360}},jte=function(t,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),l=Math.floor(s/360),u=Math.min(i,l);return t+u*360},lI=function(t,r){var a=t.x,s=t.y,i=yte({x:a,y:s},r),l=i.radius,u=i.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var h=bte(r),m=h.startAngle,g=h.endAngle,j=u,w;if(m<=g){for(;j>g;)j-=360;for(;j<m;)j+=360;w=j>=m&&j<=g}else{for(;j>m;)j-=360;for(;j<g;)j+=360;w=j>=g&&j<=m}return w?oI(oI({},r),{},{radius:l,angle:jte(j,r)}):null};function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}var wte=["offset"];function Nte(e){return Ete(e)||Cte(e)||_te(e)||Ste()}function Ste(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _te(e,t){if(e){if(typeof e=="string")return Kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(e,t)}}function Cte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ete(e){if(Array.isArray(e))return Kw(e)}function Kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Tte(e,t){if(e==null)return{};var r=Ate(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ate(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(a){Rte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rte(e,t,r){return t=Pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pte(e){var t=Ite(e,"string");return Ed(t)=="symbol"?t:t+""}function Ite(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ed(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Td.apply(this,arguments)}var kte=function(t){var r=t.value,a=t.formatter,s=It(t.children)?r:t.children;return wt(a)?a(s):s},Ote=function(t,r){var a=ka(r-t),s=Math.min(Math.abs(r-t),360);return a*s},Dte=function(t,r,a){var s=t.position,i=t.viewBox,l=t.offset,u=t.className,d=i,f=d.cx,h=d.cy,m=d.innerRadius,g=d.outerRadius,j=d.startAngle,w=d.endAngle,b=d.clockWise,v=(m+g)/2,N=Ote(j,w),S=N>=0?1:-1,C,A;s==="insideStart"?(C=j+S*l,A=b):s==="insideEnd"?(C=w-S*l,A=!b):s==="end"&&(C=w+S*l,A=b),A=N<=0?A:!A;var _=Yr(f,h,v,C),T=Yr(f,h,v,C+(A?1:-1)*359),P="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(A?0:1,`,
    `).concat(T.x,",").concat(T.y),O=It(t.id)?$p("recharts-radial-line-"):t.id;return Q.createElement("text",Td({},a,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",u)}),Q.createElement("defs",null,Q.createElement("path",{id:O,d:P})),Q.createElement("textPath",{xlinkHref:"#".concat(O)},r))},Mte=function(t){var r=t.viewBox,a=t.offset,s=t.position,i=r,l=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,h=i.startAngle,m=i.endAngle,g=(h+m)/2;if(s==="outside"){var j=Yr(l,u,f+a,g),w=j.x,b=j.y;return{x:w,y:b,textAnchor:w>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var v=(d+f)/2,N=Yr(l,u,v,g),S=N.x,C=N.y;return{x:S,y:C,textAnchor:"middle",verticalAnchor:"middle"}},$te=function(t){var r=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,l=r,u=l.x,d=l.y,f=l.width,h=l.height,m=h>=0?1:-1,g=m*s,j=m>0?"end":"start",w=m>0?"start":"end",b=f>=0?1:-1,v=b*s,N=b>0?"end":"start",S=b>0?"start":"end";if(i==="top"){var C={x:u+f/2,y:d-m*s,textAnchor:"middle",verticalAnchor:j};return _r(_r({},C),a?{height:Math.max(d-a.y,0),width:f}:{})}if(i==="bottom"){var A={x:u+f/2,y:d+h+g,textAnchor:"middle",verticalAnchor:w};return _r(_r({},A),a?{height:Math.max(a.y+a.height-(d+h),0),width:f}:{})}if(i==="left"){var _={x:u-v,y:d+h/2,textAnchor:N,verticalAnchor:"middle"};return _r(_r({},_),a?{width:Math.max(_.x-a.x,0),height:h}:{})}if(i==="right"){var T={x:u+f+v,y:d+h/2,textAnchor:S,verticalAnchor:"middle"};return _r(_r({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:h}:{})}var P=a?{width:f,height:h}:{};return i==="insideLeft"?_r({x:u+v,y:d+h/2,textAnchor:S,verticalAnchor:"middle"},P):i==="insideRight"?_r({x:u+f-v,y:d+h/2,textAnchor:N,verticalAnchor:"middle"},P):i==="insideTop"?_r({x:u+f/2,y:d+g,textAnchor:"middle",verticalAnchor:w},P):i==="insideBottom"?_r({x:u+f/2,y:d+h-g,textAnchor:"middle",verticalAnchor:j},P):i==="insideTopLeft"?_r({x:u+v,y:d+g,textAnchor:S,verticalAnchor:w},P):i==="insideTopRight"?_r({x:u+f-v,y:d+g,textAnchor:N,verticalAnchor:w},P):i==="insideBottomLeft"?_r({x:u+v,y:d+h-g,textAnchor:S,verticalAnchor:j},P):i==="insideBottomRight"?_r({x:u+f-v,y:d+h-g,textAnchor:N,verticalAnchor:j},P):Tc(i)&&(Le(i.x)||jo(i.x))&&(Le(i.y)||jo(i.y))?_r({x:u+Do(i.x,f),y:d+Do(i.y,h),textAnchor:"end",verticalAnchor:"end"},P):_r({x:u+f/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Lte=function(t){return"cx"in t&&Le(t.cx)};function on(e){var t=e.offset,r=t===void 0?5:t,a=Tte(e,wte),s=_r({offset:r},a),i=s.viewBox,l=s.position,u=s.value,d=s.children,f=s.content,h=s.className,m=h===void 0?"":h,g=s.textBreakAll;if(!i||It(u)&&It(d)&&!x.isValidElement(f)&&!wt(f))return null;if(x.isValidElement(f))return x.cloneElement(f,s);var j;if(wt(f)){if(j=x.createElement(f,s),x.isValidElement(j))return j}else j=kte(s);var w=Lte(i),b=Pt(s,!0);if(w&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Dte(s,j,b);var v=w?Mte(s):$te(s);return Q.createElement(Nm,Td({className:Ct("recharts-label",m)},b,v,{breakAll:g}),j)}on.displayName="Label";var sL=function(t){var r=t.cx,a=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,h=t.outerRadius,m=t.x,g=t.y,j=t.top,w=t.left,b=t.width,v=t.height,N=t.clockWise,S=t.labelViewBox;if(S)return S;if(Le(b)&&Le(v)){if(Le(m)&&Le(g))return{x:m,y:g,width:b,height:v};if(Le(j)&&Le(w))return{x:j,y:w,width:b,height:v}}return Le(m)&&Le(g)?{x:m,y:g,width:0,height:0}:Le(r)&&Le(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:l||s||0,innerRadius:f||0,outerRadius:h||d||u||0,clockWise:N}:t.viewBox?t.viewBox:{}},Fte=function(t,r){return t?t===!0?Q.createElement(on,{key:"label-implicit",viewBox:r}):Tr(t)?Q.createElement(on,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===on?x.cloneElement(t,{key:"label-implicit",viewBox:r}):Q.createElement(on,{key:"label-implicit",content:t,viewBox:r}):wt(t)?Q.createElement(on,{key:"label-implicit",content:t,viewBox:r}):Tc(t)?Q.createElement(on,Td({viewBox:r},t,{key:"label-implicit"})):null:null},Ute=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=sL(t),l=Da(s,on).map(function(d,f){return x.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!a)return l;var u=Fte(t.label,r||i);return[u].concat(Nte(l))};on.parseViewBox=sL;on.renderCallByParent=Ute;var Xb,uI;function Bte(){if(uI)return Xb;uI=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Xb=e,Xb}var zte=Bte();const qte=qt(zte);function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}var Wte=["valueAccessor"],Vte=["data","dataKey","clockWise","id","textBreakAll"];function Hte(e){return Xte(e)||Yte(e)||Kte(e)||Gte()}function Gte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kte(e,t){if(e){if(typeof e=="string")return Yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yw(e,t)}}function Yte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xte(e){if(Array.isArray(e))return Yw(e)}function Yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fm.apply(this,arguments)}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(a){Qte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Qte(e,t,r){return t=Zte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zte(e){var t=Jte(e,"string");return Ad(t)=="symbol"?t:t+""}function Jte(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ad(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hI(e,t){if(e==null)return{};var r=ere(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ere(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var tre=function(t){return Array.isArray(t.value)?qte(t.value):t.value};function To(e){var t=e.valueAccessor,r=t===void 0?tre:t,a=hI(e,Wte),s=a.data,i=a.dataKey,l=a.clockWise,u=a.id,d=a.textBreakAll,f=hI(a,Vte);return!s||!s.length?null:Q.createElement($r,{className:"recharts-label-list"},s.map(function(h,m){var g=It(i)?r(h,m):fs(h&&h.payload,i),j=It(u)?{}:{id:"".concat(u,"-").concat(m)};return Q.createElement(on,Fm({},Pt(h,!0),f,j,{parentViewBox:h.parentViewBox,value:g,textBreakAll:d,viewBox:on.parseViewBox(It(l)?h:fI(fI({},h),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}To.displayName="LabelList";function rre(e,t){return e?e===!0?Q.createElement(To,{key:"labelList-implicit",data:t}):Q.isValidElement(e)||wt(e)?Q.createElement(To,{key:"labelList-implicit",data:t,content:e}):Tc(e)?Q.createElement(To,Fm({data:t},e,{key:"labelList-implicit"})):null:null}function nre(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=Da(a,To).map(function(l,u){return x.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return s;var i=rre(e.label,t);return[i].concat(Hte(s))}To.renderCallByParent=nre;function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xw.apply(this,arguments)}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(a){are(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function are(e,t,r){return t=sre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sre(e){var t=ire(e,"string");return Rd(t)=="symbol"?t:t+""}function ire(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Rd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ore=function(t,r){var a=ka(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},qh=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,h=d*(u?1:-1)+s,m=Math.asin(d/h)/Lm,g=f?i:i+l*m,j=Yr(r,a,h,g),w=Yr(r,a,s,g),b=f?i-l*m:i,v=Yr(r,a,h*Math.cos(m*Lm),b);return{center:j,circleTangency:w,lineTangency:v,theta:m}},iL=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,u=t.endAngle,d=ore(l,u),f=l+d,h=Yr(r,a,i,l),m=Yr(r,a,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var j=Yr(r,a,s,l),w=Yr(r,a,s,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(j.x,",").concat(j.y," Z")}else g+="L ".concat(r,",").concat(a," Z");return g},lre=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,h=t.endAngle,m=ka(h-f),g=qh({cx:r,cy:a,radius:i,angle:f,sign:m,cornerRadius:l,cornerIsExternal:d}),j=g.circleTangency,w=g.lineTangency,b=g.theta,v=qh({cx:r,cy:a,radius:i,angle:h,sign:-m,cornerRadius:l,cornerIsExternal:d}),N=v.circleTangency,S=v.lineTangency,C=v.theta,A=d?Math.abs(f-h):Math.abs(f-h)-b-C;if(A<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):iL({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:f,endAngle:h});var _="M ".concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(s>0){var T=qh({cx:r,cy:a,radius:s,angle:f,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),P=T.circleTangency,O=T.lineTangency,I=T.theta,B=qh({cx:r,cy:a,radius:s,angle:h,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),q=B.circleTangency,G=B.lineTangency,V=B.theta,Z=d?Math.abs(f-h):Math.abs(f-h)-I-V;if(Z<0&&l===0)return"".concat(_,"L").concat(r,",").concat(a,"Z");_+="L".concat(G.x,",").concat(G.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(Z>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,"Z")}else _+="L".concat(r,",").concat(a,"Z");return _},cre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},oL=function(t){var r=pI(pI({},cre),t),a=r.cx,s=r.cy,i=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,g=r.className;if(l<i||h===m)return null;var j=Ct("recharts-sector",g),w=l-i,b=Do(u,w,0,!0),v;return b>0&&Math.abs(h-m)<360?v=lre({cx:a,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(b,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:m}):v=iL({cx:a,cy:s,innerRadius:i,outerRadius:l,startAngle:h,endAngle:m}),Q.createElement("path",Xw({},Pt(r,!0),{className:j,d:v,role:"img"}))};function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qw.apply(this,arguments)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function vI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(a){ure(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ure(e,t,r){return t=dre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dre(e){var t=fre(e,"string");return Pd(t)=="symbol"?t:t+""}function fre(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Pd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xI={curveBasisClosed:PG,curveBasisOpen:IG,curveBasis:RG,curveBumpX:gG,curveBumpY:vG,curveLinearClosed:kG,curveLinear:Up,curveMonotoneX:OG,curveMonotoneY:DG,curveNatural:MG,curveStep:$G,curveStepAfter:FG,curveStepBefore:LG},Wh=function(t){return t.x===+t.x&&t.y===+t.y},Au=function(t){return t.x},Ru=function(t){return t.y},hre=function(t,r){if(wt(t))return t;var a="curve".concat(Lp(t));return(a==="curveMonotone"||a==="curveBump")&&r?xI["".concat(a).concat(r==="vertical"?"Y":"X")]:xI[a]||Up},mre=function(t){var r=t.type,a=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,h=hre(a,u),m=f?i.filter(function(b){return Wh(b)}):i,g;if(Array.isArray(l)){var j=f?l.filter(function(b){return Wh(b)}):l,w=m.map(function(b,v){return vI(vI({},b),{},{base:j[v]})});return u==="vertical"?g=Dh().y(Ru).x1(Au).x0(function(b){return b.base.x}):g=Dh().x(Au).y1(Ru).y0(function(b){return b.base.y}),g.defined(Wh).curve(h),g(w)}return u==="vertical"&&Le(l)?g=Dh().y(Ru).x1(Au).x0(l):Le(l)?g=Dh().x(Au).y1(Ru).y0(l):g=d4().x(Au).y(Ru),g.defined(Wh).curve(h),g(m)},yI=function(t){var r=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var l=a&&a.length?mre(t):s;return x.createElement("path",Qw({},Pt(t,!1),dm(t),{className:Ct("recharts-curve",r),d:l,ref:i}))},Qb={exports:{}},Zb,bI;function pre(){if(bI)return Zb;bI=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zb=e,Zb}var Jb,jI;function gre(){if(jI)return Jb;jI=1;var e=pre();function t(){}function r(){}return r.resetWarningCache=t,Jb=function(){function a(l,u,d,f,h,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},Jb}var wI;function vre(){return wI||(wI=1,Qb.exports=gre()()),Qb.exports}var xre=vre();const Ot=qt(xre);var yre=Object.getOwnPropertyNames,bre=Object.getOwnPropertySymbols,jre=Object.prototype.hasOwnProperty;function NI(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function Vh(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var i=s.cache,l=i.get(r),u=i.get(a);if(l&&u)return l===a&&u===r;i.set(r,a),i.set(a,r);var d=e(r,a,s);return i.delete(r),i.delete(a),d}}function SI(e){return yre(e).concat(bre(e))}var wre=Object.hasOwn||(function(e,t){return jre.call(e,t)});function Ko(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Nre="__v",Sre="__o",_re="_owner",_I=Object.getOwnPropertyDescriptor,CI=Object.keys;function Cre(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function Ere(e,t){return Ko(e.getTime(),t.getTime())}function Tre(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Are(e,t){return e===t}function EI(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),l,u,d=0;(l=i.next())&&!l.done;){for(var f=t.entries(),h=!1,m=0;(u=f.next())&&!u.done;){if(s[m]){m++;continue}var g=l.value,j=u.value;if(r.equals(g[0],j[0],d,m,e,t,r)&&r.equals(g[1],j[1],g[0],j[0],e,t,r)){h=s[m]=!0;break}m++}if(!h)return!1;d++}return!0}var Rre=Ko;function Pre(e,t,r){var a=CI(e),s=a.length;if(CI(t).length!==s)return!1;for(;s-- >0;)if(!lL(e,t,r,a[s]))return!1;return!0}function Pu(e,t,r){var a=SI(e),s=a.length;if(SI(t).length!==s)return!1;for(var i,l,u;s-- >0;)if(i=a[s],!lL(e,t,r,i)||(l=_I(e,i),u=_I(t,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function Ire(e,t){return Ko(e.valueOf(),t.valueOf())}function kre(e,t){return e.source===t.source&&e.flags===t.flags}function TI(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),l,u;(l=i.next())&&!l.done;){for(var d=t.values(),f=!1,h=0;(u=d.next())&&!u.done;){if(!s[h]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=s[h]=!0;break}h++}if(!f)return!1}return!0}function Ore(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Dre(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function lL(e,t,r,a){return(a===_re||a===Sre||a===Nre)&&(e.$$typeof||t.$$typeof)?!0:wre(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var Mre="[object Arguments]",$re="[object Boolean]",Lre="[object Date]",Fre="[object Error]",Ure="[object Map]",Bre="[object Number]",zre="[object Object]",qre="[object RegExp]",Wre="[object Set]",Vre="[object String]",Hre="[object URL]",Gre=Array.isArray,AI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,RI=Object.assign,Kre=Object.prototype.toString.call.bind(Object.prototype.toString);function Yre(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,l=e.areNumbersEqual,u=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,h=e.areSetsEqual,m=e.areTypedArraysEqual,g=e.areUrlsEqual;return function(w,b,v){if(w===b)return!0;if(w==null||b==null)return!1;var N=typeof w;if(N!==typeof b)return!1;if(N!=="object")return N==="number"?l(w,b,v):N==="function"?s(w,b,v):!1;var S=w.constructor;if(S!==b.constructor)return!1;if(S===Object)return u(w,b,v);if(Gre(w))return t(w,b,v);if(AI!=null&&AI(w))return m(w,b,v);if(S===Date)return r(w,b,v);if(S===RegExp)return f(w,b,v);if(S===Map)return i(w,b,v);if(S===Set)return h(w,b,v);var C=Kre(w);return C===Lre?r(w,b,v):C===qre?f(w,b,v):C===Ure?i(w,b,v):C===Wre?h(w,b,v):C===zre?typeof w.then!="function"&&typeof b.then!="function"&&u(w,b,v):C===Hre?g(w,b,v):C===Fre?a(w,b,v):C===Mre?u(w,b,v):C===$re||C===Bre||C===Vre?d(w,b,v):!1}}function Xre(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?Pu:Cre,areDatesEqual:Ere,areErrorsEqual:Tre,areFunctionsEqual:Are,areMapsEqual:a?NI(EI,Pu):EI,areNumbersEqual:Rre,areObjectsEqual:a?Pu:Pre,arePrimitiveWrappersEqual:Ire,areRegExpsEqual:kre,areSetsEqual:a?NI(TI,Pu):TI,areTypedArraysEqual:a?Pu:Ore,areUrlsEqual:Dre};if(r&&(s=RI({},s,r(s))),t){var i=Vh(s.areArraysEqual),l=Vh(s.areMapsEqual),u=Vh(s.areObjectsEqual),d=Vh(s.areSetsEqual);s=RI({},s,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return s}function Qre(e){return function(t,r,a,s,i,l,u){return e(t,r,u)}}function Zre(e){var t=e.circular,r=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(d,f){var h=a(),m=h.cache,g=m===void 0?t?new WeakMap:void 0:m,j=h.meta;return r(d,f,{cache:g,equals:s,meta:j,strict:i})};if(t)return function(d,f){return r(d,f,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var l={cache:void 0,equals:s,meta:void 0,strict:i};return function(d,f){return r(d,f,l)}}var Jre=Xi();Xi({strict:!0});Xi({circular:!0});Xi({circular:!0,strict:!0});Xi({createInternalComparator:function(){return Ko}});Xi({strict:!0,createInternalComparator:function(){return Ko}});Xi({circular:!0,createInternalComparator:function(){return Ko}});Xi({circular:!0,createInternalComparator:function(){return Ko},strict:!0});function Xi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,l=i===void 0?!1:i,u=Xre(e),d=Yre(u),f=a?a(d):Qre(d);return Zre({circular:r,comparator:d,createState:s,equals:f,strict:l})}function ene(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function PI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):ene(s)};requestAnimationFrame(a)}function Zw(e){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zw(e)}function tne(e){return sne(e)||ane(e)||nne(e)||rne()}function rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nne(e,t){if(e){if(typeof e=="string")return II(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return II(e,t)}}function II(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ane(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sne(e){if(Array.isArray(e))return e}function ine(){var e={},t=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,u=tne(l),d=u[0],f=u.slice(1);if(typeof d=="number"){PI(s.bind(null,f),d);return}s(d),PI(s.bind(null,f));return}Zw(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function OI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(a){cL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cL(e,t,r){return t=one(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function one(e){var t=lne(e,"string");return Id(t)==="symbol"?t:String(t)}function lne(e,t){if(Id(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Id(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cne=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},une=function(t){return t},dne=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Yu=function(t,r){return Object.keys(r).reduce(function(a,s){return OI(OI({},a),{},cL({},s,t(s,r[s])))},{})},DI=function(t,r,a){return t.map(function(s){return"".concat(dne(s)," ").concat(r,"ms ").concat(a)}).join(",")};function fne(e,t){return pne(e)||mne(e,t)||uL(e,t)||hne()}function hne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function pne(e){if(Array.isArray(e))return e}function gne(e){return yne(e)||xne(e)||uL(e)||vne()}function vne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uL(e,t){if(e){if(typeof e=="string")return Jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(e,t)}}function xne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yne(e){if(Array.isArray(e))return Jw(e)}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Um=1e-4,dL=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},fL=function(t,r){return t.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},MI=function(t,r){return function(a){var s=dL(t,r);return fL(s,a)}},bne=function(t,r){return function(a){var s=dL(t,r),i=[].concat(gne(s.map(function(l,u){return l*u}).slice(1)),[0]);return fL(i,a)}},$I=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0],i=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,l=1,u=1;break;case"ease":s=.25,i=.1,l=.25,u=1;break;case"ease-in":s=.42,i=0,l=1,u=1;break;case"ease-out":s=.42,i=0,l=.58,u=1;break;case"ease-in-out":s=0,i=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),h=fne(f,4);s=h[0],i=h[1],l=h[2],u=h[3]}}}var m=MI(s,l),g=MI(i,u),j=bne(s,l),w=function(N){return N>1?1:N<0?0:N},b=function(N){for(var S=N>1?1:N,C=S,A=0;A<8;++A){var _=m(C)-S,T=j(C);if(Math.abs(_-S)<Um||T<Um)return g(C);C=w(C-_/T)}return g(C)};return b.isStepper=!1,b},jne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,l=t.dt,u=l===void 0?17:l,d=function(h,m,g){var j=-(h-m)*a,w=g*i,b=g+(j-w)*u/1e3,v=g*u/1e3+h;return Math.abs(v-m)<Um&&Math.abs(b)<Um?[m,0]:[v,b]};return d.isStepper=!0,d.dt=u,d},wne=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $I(s);case"spring":return jne();default:if(s.split("(")[0]==="cubic-bezier")return $I(s)}return typeof s=="function"?s:null};function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function LI(e){return _ne(e)||Sne(e)||hL(e)||Nne()}function Nne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _ne(e){if(Array.isArray(e))return t1(e)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(a){e1(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function e1(e,t,r){return t=Cne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cne(e){var t=Ene(e,"string");return kd(t)==="symbol"?t:String(t)}function Ene(e,t){if(kd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(kd(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tne(e,t){return Pne(e)||Rne(e,t)||hL(e,t)||Ane()}function Ane(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hL(e,t){if(e){if(typeof e=="string")return t1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(e,t)}}function t1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Rne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Pne(e){if(Array.isArray(e))return e}var Bm=function(t,r,a){return t+(r-t)*a},r1=function(t){var r=t.from,a=t.to;return r!==a},Ine=function e(t,r,a){var s=Yu(function(i,l){if(r1(l)){var u=t(l.from,l.to,l.velocity),d=Tne(u,2),f=d[0],h=d[1];return Gr(Gr({},l),{},{from:f,velocity:h})}return l},r);return a<1?Yu(function(i,l){return r1(l)?Gr(Gr({},l),{},{velocity:Bm(l.velocity,s[i].velocity,a),from:Bm(l.from,s[i].from,a)}):l},r):e(t,s,a-1)};const kne=(function(e,t,r,a,s){var i=cne(e,t),l=i.reduce(function(v,N){return Gr(Gr({},v),{},e1({},N,[e[N],t[N]]))},{}),u=i.reduce(function(v,N){return Gr(Gr({},v),{},e1({},N,{from:e[N],velocity:0,to:t[N]}))},{}),d=-1,f,h,m=function(){return null},g=function(){return Yu(function(N,S){return S.from},u)},j=function(){return!Object.values(u).filter(r1).length},w=function(N){f||(f=N);var S=N-f,C=S/r.dt;u=Ine(r,u,C),s(Gr(Gr(Gr({},e),t),g())),f=N,j()||(d=requestAnimationFrame(m))},b=function(N){h||(h=N);var S=(N-h)/a,C=Yu(function(_,T){return Bm.apply(void 0,LI(T).concat([r(S)]))},l);if(s(Gr(Gr(Gr({},e),t),C)),S<1)d=requestAnimationFrame(m);else{var A=Yu(function(_,T){return Bm.apply(void 0,LI(T).concat([r(1)]))},l);s(Gr(Gr(Gr({},e),t),A))}};return m=r.isStepper?w:b,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}var One=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Dne(e,t){if(e==null)return{};var r=Mne(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Mne(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ej(e){return Une(e)||Fne(e)||Lne(e)||$ne()}function $ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lne(e,t){if(e){if(typeof e=="string")return n1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n1(e,t)}}function Fne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Une(e){if(Array.isArray(e))return n1(e)}function n1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(a){Wu(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Wu(e,t,r){return t=mL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zne(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,mL(a.key),a)}}function qne(e,t,r){return t&&zne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mL(e){var t=Wne(e,"string");return ic(t)==="symbol"?t:String(t)}function Wne(e,t){if(ic(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ic(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a1(e,t)}function a1(e,t){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},a1(e,t)}function Hne(e){var t=Gne();return function(){var a=zm(e),s;if(t){var i=zm(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return s1(this,s)}}function s1(e,t){if(t&&(ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i1(e)}function i1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zm(e){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(e)}var $i=(function(e){Vne(r,e);var t=Hne(r);function r(a,s){var i;Bne(this,r),i=t.call(this,a,s);var l=i.props,u=l.isActive,d=l.attributeName,f=l.from,h=l.to,m=l.steps,g=l.children,j=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(i1(i)),i.changeStyle=i.changeStyle.bind(i1(i)),!u||j<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:h}),s1(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof g=="function")return i.state={style:f},s1(i);i.state={style:d?Wu({},d,f):f}}else i.state={style:{}};return i}return qne(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,u=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,h=i.to,m=i.from,g=this.state.style;if(u){if(!l){var j={style:d?Wu({},d,h):h};this.state&&g&&(d&&g[d]!==h||!d&&g!==h)&&this.setState(j);return}if(!(Jre(s.to,h)&&s.canBegin&&s.isActive)){var w=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=w||f?m:s.to;if(this.state&&g){var v={style:d?Wu({},d,b):b};(d&&g[d]!==b||!d&&g!==b)&&this.setState(v)}this.runAnimation(Ta(Ta({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,u=s.to,d=s.duration,f=s.easing,h=s.begin,m=s.onAnimationEnd,g=s.onAnimationStart,j=kne(l,u,wne(f),d,this.changeStyle),w=function(){i.stopJSAnimation=j()};this.manager.start([g,h,w,d,m])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,u=s.begin,d=s.onAnimationStart,f=l[0],h=f.style,m=f.duration,g=m===void 0?0:m,j=function(b,v,N){if(N===0)return b;var S=v.duration,C=v.easing,A=C===void 0?"ease":C,_=v.style,T=v.properties,P=v.onAnimationEnd,O=N>0?l[N-1]:v,I=T||Object.keys(_);if(typeof A=="function"||A==="spring")return[].concat(ej(b),[i.runJSAnimation.bind(i,{from:O.style,to:_,duration:S,easing:A}),S]);var B=DI(I,S,A),q=Ta(Ta(Ta({},O.style),_),{},{transition:B});return[].concat(ej(b),[q,S,P]).filter(une)};return this.manager.start([d].concat(ej(l.reduce(j,[h,Math.max(g,u)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=ine());var i=s.begin,l=s.duration,u=s.attributeName,d=s.to,f=s.easing,h=s.onAnimationStart,m=s.onAnimationEnd,g=s.steps,j=s.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof j=="function"||f==="spring"){this.runJSAnimation(s);return}if(g.length>1){this.runStepAnimation(s);return}var b=u?Wu({},u,d):d,v=DI(Object.keys(b),l,f);w.start([h,i,Ta(Ta({},b),{},{transition:v}),l,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var u=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=Dne(s,One),f=x.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!u||f===0||l<=0)return i;var m=function(j){var w=j.props,b=w.style,v=b===void 0?{}:b,N=w.className,S=x.cloneElement(j,Ta(Ta({},d),{},{style:Ta(Ta({},v),h),className:N}));return S};return f===1?m(x.Children.only(i)):Q.createElement("div",null,x.Children.map(i,function(g){return m(g)}))}}]),r})(x.PureComponent);$i.displayName="Animate";$i.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$i.propTypes={from:Ot.oneOfType([Ot.object,Ot.string]),to:Ot.oneOfType([Ot.object,Ot.string]),attributeName:Ot.string,duration:Ot.number,begin:Ot.number,easing:Ot.oneOfType([Ot.string,Ot.func]),steps:Ot.arrayOf(Ot.shape({duration:Ot.number.isRequired,style:Ot.object.isRequired,easing:Ot.oneOfType([Ot.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ot.func]),properties:Ot.arrayOf("string"),onAnimationEnd:Ot.func})),children:Ot.oneOfType([Ot.node,Ot.func]),isActive:Ot.bool,canBegin:Ot.bool,onAnimationEnd:Ot.func,shouldReAnimate:Ot.bool,onAnimationStart:Ot.func,onAnimationReStart:Ot.func};function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qm.apply(this,arguments)}function Kne(e,t){return Zne(e)||Qne(e,t)||Xne(e,t)||Yne()}function Yne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xne(e,t){if(e){if(typeof e=="string")return BI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BI(e,t)}}function BI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Qne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Zne(e){if(Array.isArray(e))return e}function zI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(r),!0).forEach(function(a){Jne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jne(e,t,r){return t=eae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eae(e){var t=tae(e,"string");return Od(t)=="symbol"?t:t+""}function tae(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Od(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WI=function(t,r,a,s,i){var l=Math.min(Math.abs(a)/2,Math.abs(s)/2),u=s>=0?1:-1,d=a>=0?1:-1,f=s>=0&&a>=0||s<0&&a<0?1:0,h;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,j=4;g<j;g++)m[g]=i[g]>l?l:i[g];h="M".concat(t,",").concat(r+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+d*m[0],",").concat(r)),h+="L ".concat(t+a-d*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+a,",").concat(r+u*m[1])),h+="L ".concat(t+a,",").concat(r+s-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+a-d*m[2],",").concat(r+s)),h+="L ".concat(t+d*m[3],",").concat(r+s),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+s-u*m[3])),h+="Z"}else if(l>0&&i===+i&&i>0){var w=Math.min(l,i);h="M ".concat(t,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(r,`
            L `).concat(t+a-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+a,",").concat(r+u*w,`
            L `).concat(t+a,",").concat(r+s-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+a-d*w,",").concat(r+s,`
            L `).concat(t+d*w,",").concat(r+s,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(r+s-u*w," Z")}else h="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return h},rae=function(t,r){if(!t||!r)return!1;var a=t.x,s=t.y,i=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(i,i+u),h=Math.max(i,i+u),m=Math.min(l,l+d),g=Math.max(l,l+d);return a>=f&&a<=h&&s>=m&&s<=g}return!1},nae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eS=function(t){var r=qI(qI({},nae),t),a=x.useRef(),s=x.useState(-1),i=Kne(s,2),l=i[0],u=i[1];x.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var A=a.current.getTotalLength();A&&u(A)}catch{}},[]);var d=r.x,f=r.y,h=r.width,m=r.height,g=r.radius,j=r.className,w=r.animationEasing,b=r.animationDuration,v=r.animationBegin,N=r.isAnimationActive,S=r.isUpdateAnimationActive;if(d!==+d||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var C=Ct("recharts-rectangle",j);return S?Q.createElement($i,{canBegin:l>0,from:{width:h,height:m,x:d,y:f},to:{width:h,height:m,x:d,y:f},duration:b,animationEasing:w,isActive:S},function(A){var _=A.width,T=A.height,P=A.x,O=A.y;return Q.createElement($i,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,isActive:N,easing:w},Q.createElement("path",qm({},Pt(r,!0),{className:C,d:WI(P,O,_,T,g),ref:a})))}):Q.createElement("path",qm({},Pt(r,!0),{className:C,d:WI(d,f,h,m,g)}))};function o1(){return o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o1.apply(this,arguments)}var pL=function(t){var r=t.cx,a=t.cy,s=t.r,i=t.className,l=Ct("recharts-dot",i);return r===+r&&a===+a&&s===+s?x.createElement("circle",o1({},Pt(t,!1),dm(t),{className:l,cx:r,cy:a,r:s})):null};function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}var aae=["x","y","top","left","width","height","className"];function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l1.apply(this,arguments)}function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(a){iae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iae(e,t,r){return t=oae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oae(e){var t=lae(e,"string");return Dd(t)=="symbol"?t:t+""}function lae(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Dd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cae(e,t){if(e==null)return{};var r=uae(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function uae(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var dae=function(t,r,a,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(r,"h").concat(a)},fae=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,h=t.width,m=h===void 0?0:h,g=t.height,j=g===void 0?0:g,w=t.className,b=cae(t,aae),v=sae({x:a,y:i,top:u,left:f,width:m,height:j},b);return!Le(a)||!Le(i)||!Le(m)||!Le(j)||!Le(u)||!Le(f)?null:Q.createElement("path",l1({},Pt(v,!0),{className:Ct("recharts-cross",w),d:dae(a,i,m,j,u,f)}))},tj,HI;function hae(){if(HI)return tj;HI=1;var e=O4(),t=e(Object.getPrototypeOf,Object);return tj=t,tj}var rj,GI;function mae(){if(GI)return rj;GI=1;var e=Vs(),t=hae(),r=Hs(),a="[object Object]",s=Function.prototype,i=Object.prototype,l=s.toString,u=i.hasOwnProperty,d=l.call(Object);function f(h){if(!r(h)||e(h)!=a)return!1;var m=t(h);if(m===null)return!0;var g=u.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return rj=f,rj}var pae=mae();const gae=qt(pae);var nj,KI;function vae(){if(KI)return nj;KI=1;var e=Vs(),t=Hs(),r="[object Boolean]";function a(s){return s===!0||s===!1||t(s)&&e(s)==r}return nj=a,nj}var xae=vae();const yae=qt(xae);function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wm.apply(this,arguments)}function bae(e,t){return Sae(e)||Nae(e,t)||wae(e,t)||jae()}function jae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wae(e,t){if(e){if(typeof e=="string")return YI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YI(e,t)}}function YI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Nae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Sae(e){if(Array.isArray(e))return e}function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function QI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(a){_ae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _ae(e,t,r){return t=Cae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cae(e){var t=Eae(e,"string");return Md(t)=="symbol"?t:t+""}function Eae(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Md(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZI=function(t,r,a,s,i){var l=a-s,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+a,",").concat(r),u+="L ".concat(t+a-l/2,",").concat(r+i),u+="L ".concat(t+a-l/2-s,",").concat(r+i),u+="L ".concat(t,",").concat(r," Z"),u},Tae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Aae=function(t){var r=QI(QI({},Tae),t),a=x.useRef(),s=x.useState(-1),i=bae(s,2),l=i[0],u=i[1];x.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var C=a.current.getTotalLength();C&&u(C)}catch{}},[]);var d=r.x,f=r.y,h=r.upperWidth,m=r.lowerWidth,g=r.height,j=r.className,w=r.animationEasing,b=r.animationDuration,v=r.animationBegin,N=r.isUpdateAnimationActive;if(d!==+d||f!==+f||h!==+h||m!==+m||g!==+g||h===0&&m===0||g===0)return null;var S=Ct("recharts-trapezoid",j);return N?Q.createElement($i,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:h,lowerWidth:m,height:g,x:d,y:f},duration:b,animationEasing:w,isActive:N},function(C){var A=C.upperWidth,_=C.lowerWidth,T=C.height,P=C.x,O=C.y;return Q.createElement($i,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,easing:w},Q.createElement("path",Wm({},Pt(r,!0),{className:S,d:ZI(P,O,A,_,T),ref:a})))}):Q.createElement("g",null,Q.createElement("path",Wm({},Pt(r,!0),{className:S,d:ZI(d,f,h,m,g)})))},Rae=["option","shapeType","propTransformer","activeClassName","isActive"];function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function Pae(e,t){if(e==null)return{};var r=Iae(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Iae(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function JI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Vm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(r),!0).forEach(function(a){kae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kae(e,t,r){return t=Oae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oae(e){var t=Dae(e,"string");return $d(t)=="symbol"?t:t+""}function Dae(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if($d(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mae(e,t){return Vm(Vm({},t),e)}function $ae(e,t){return e==="symbols"}function ek(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Q.createElement(eS,r);case"trapezoid":return Q.createElement(Aae,r);case"sector":return Q.createElement(oL,r);case"symbols":if($ae(t))return Q.createElement(xN,r);break;default:return null}}function Lae(e){return x.isValidElement(e)?e.props:e}function Fae(e){var t=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?Mae:a,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,u=e.isActive,d=Pae(e,Rae),f;if(x.isValidElement(t))f=x.cloneElement(t,Vm(Vm({},d),Lae(t)));else if(wt(t))f=t(d);else if(gae(t)&&!yae(t)){var h=s(t,d);f=Q.createElement(ek,{shapeType:r,elementProps:h})}else{var m=d;f=Q.createElement(ek,{shapeType:r,elementProps:m})}return u?Q.createElement($r,{className:l},f):f}function rg(e,t){return t!=null&&"trapezoids"in e.props}function ng(e,t){return t!=null&&"sectors"in e.props}function Ld(e,t){return t!=null&&"points"in e.props}function Uae(e,t){var r,a,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function Bae(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function zae(e,t){var r=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return r&&a&&s}function qae(e,t){var r;return rg(e,t)?r=Uae:ng(e,t)?r=Bae:Ld(e,t)&&(r=zae),r}function Wae(e,t){var r;return rg(e,t)?r="trapezoids":ng(e,t)?r="sectors":Ld(e,t)&&(r="points"),r}function Vae(e,t){if(rg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ng(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Ld(e,t)?t.payload:{}}function Hae(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=Wae(r,t),i=Vae(r,t),l=a.filter(function(d,f){var h=XN(i,d),m=r.props[s].filter(function(w){var b=qae(r,t);return b(w,t)}),g=r.props[s].indexOf(m[m.length-1]),j=f===g;return h&&j}),u=a.indexOf(l[l.length-1]);return u}var aj,tk;function Gae(){if(tk)return aj;tk=1;var e=Math.ceil,t=Math.max;function r(a,s,i,l){for(var u=-1,d=t(e((s-a)/(i||1)),0),f=Array(d);d--;)f[l?d:++u]=a,a+=i;return f}return aj=r,aj}var sj,rk;function gL(){if(rk)return sj;rk=1;var e=X4(),t=1/0,r=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return sj=a,sj}var ij,nk;function Kae(){if(nk)return ij;nk=1;var e=Gae(),t=Wp(),r=gL();function a(s){return function(i,l,u){return u&&typeof u!="number"&&t(i,l,u)&&(l=u=void 0),i=r(i),l===void 0?(l=i,i=0):l=r(l),u=u===void 0?i<l?1:-1:r(u),e(i,l,u,s)}}return ij=a,ij}var oj,ak;function Yae(){if(ak)return oj;ak=1;var e=Kae(),t=e();return oj=t,oj}var Xae=Yae();const Hm=qt(Xae);function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(a){vL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vL(e,t,r){return t=Qae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qae(e){var t=Zae(e,"string");return Fd(t)=="symbol"?t:t+""}function Zae(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Fd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jae=["Webkit","Moz","O","ms"],ese=function(t,r){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Jae.reduce(function(i,l){return ik(ik({},i),{},vL({},l+a,r))},{});return s[t]=r,s};function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gm.apply(this,arguments)}function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(a){Vn(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lk(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yL(a.key),a)}}function rse(e,t,r){return t&&lk(e.prototype,t),r&&lk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nse(e,t,r){return t=Km(t),ase(e,xL()?Reflect.construct(t,r||[],Km(e).constructor):t.apply(e,r))}function ase(e,t){if(t&&(oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sse(e)}function sse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xL=function(){return!!e})()}function Km(e){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(e)}function ise(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c1(e,t)}function c1(e,t){return c1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},c1(e,t)}function Vn(e,t,r){return t=yL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yL(e){var t=ose(e,"string");return oc(t)=="symbol"?t:t+""}function ose(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(oc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lse=function(t){var r=t.data,a=t.startIndex,s=t.endIndex,i=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Gu().domain(Hm(0,d)).range([i,i+l-u]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(a),endX:f(s),scale:f,scaleValues:h}},ck=function(t){return t.changedTouches&&!!t.changedTouches.length},lc=(function(e){function t(r){var a;return tse(this,t),a=nse(this,t,[r]),Vn(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Vn(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Vn(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,l=s.onDragEnd,u=s.startIndex;l?.({endIndex:i,startIndex:u})}),a.detachDragEndListener()}),Vn(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Vn(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Vn(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Vn(a,"handleSlideDragStart",function(s){var i=ck(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return ise(t,e),rse(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,h=f.length-1,m=Math.min(s,i),g=Math.max(s,i),j=t.getIndexInRange(l,m),w=t.getIndexInRange(l,g);return{startIndex:j-j%d,endIndex:w===h?h:w-w%d}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,l=s.tickFormatter,u=s.dataKey,d=fs(i[a],u,a);return wt(l)?l(d,a):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,l=s.startX,u=s.endX,d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.startIndex,j=d.endIndex,w=d.onChange,b=a.pageX-i;b>0?b=Math.min(b,f+h-m-u,f+h-m-l):b<0&&(b=Math.max(b,f-l,f-u));var v=this.getIndex({startX:l+b,endX:u+b});(v.startIndex!==g||v.endIndex!==j)&&w&&w(v),this.setState({startX:l+b,endX:u+b,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=ck(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,u=s.endX,d=s.startX,f=this.state[l],h=this.props,m=h.x,g=h.width,j=h.travellerWidth,w=h.onChange,b=h.gap,v=h.data,N={startX:this.state.startX,endX:this.state.endX},S=a.pageX-i;S>0?S=Math.min(S,m+g-j-f):S<0&&(S=Math.max(S,m-f)),N[l]=f+S;var C=this.getIndex(N),A=C.startIndex,_=C.endIndex,T=function(){var O=v.length-1;return l==="startX"&&(u>d?A%b===0:_%b===0)||u<d&&_===O||l==="endX"&&(u>d?_%b===0:A%b===0)||u>d&&_===O};this.setState(Vn(Vn({},l,f+S),"brushMoveStartX",a.pageX),function(){w&&T()&&w(C)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,h=this.state[s],m=u.indexOf(h);if(m!==-1){var g=m+a;if(!(g===-1||g>=u.length)){var j=u[g];s==="startX"&&j>=f||s==="endX"&&j<=d||this.setState(Vn({},s,j),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.fill,f=a.stroke;return Q.createElement("rect",{stroke:f,fill:d,x:s,y:i,width:l,height:u})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.data,f=a.children,h=a.padding,m=x.Children.only(f);return m?Q.cloneElement(m,{x:s,y:i,width:l,height:u,margin:h,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,l,u=this,d=this.props,f=d.y,h=d.travellerWidth,m=d.height,g=d.traveller,j=d.ariaLabel,w=d.data,b=d.startIndex,v=d.endIndex,N=Math.max(a,this.props.x),S=lj(lj({},Pt(this.props,!1)),{},{x:N,y:f,width:h,height:m}),C=j||"Min value: ".concat((i=w[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=w[v])===null||l===void 0?void 0:l.name);return Q.createElement($r,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),u.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,s))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,S))}},{key:"renderSlide",value:function(a,s){var i=this.props,l=i.y,u=i.height,d=i.stroke,f=i.travellerWidth,h=Math.min(a,s)+f,m=Math.max(Math.abs(s-a)-f,0);return Q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:h,y:l,width:m,height:u})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,l=a.y,u=a.height,d=a.travellerWidth,f=a.stroke,h=this.state,m=h.startX,g=h.endX,j=5,w={pointerEvents:"none",fill:f};return Q.createElement($r,{className:"recharts-brush-texts"},Q.createElement(Nm,Gm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-j,y:l+u/2},w),this.getTextOfTick(s)),Q.createElement(Nm,Gm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+d+j,y:l+u/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,l=a.children,u=a.x,d=a.y,f=a.width,h=a.height,m=a.alwaysShowText,g=this.state,j=g.startX,w=g.endX,b=g.isTextActive,v=g.isSlideMoving,N=g.isTravellerMoving,S=g.isTravellerFocused;if(!s||!s.length||!Le(u)||!Le(d)||!Le(f)||!Le(h)||f<=0||h<=0)return null;var C=Ct("recharts-brush",i),A=Q.Children.count(l)===1,_=ese("userSelect","none");return Q.createElement($r,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(j,w),this.renderTravellerLayer(j,"startX"),this.renderTravellerLayer(w,"endX"),(b||v||N||S||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,l=a.width,u=a.height,d=a.stroke,f=Math.floor(i+u/2)-1;return Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:s,y:i,width:l,height:u,fill:d,stroke:"none"}),Q.createElement("line",{x1:s+1,y1:f,x2:s+l-1,y2:f,fill:"none",stroke:"#fff"}),Q.createElement("line",{x1:s+1,y1:f+2,x2:s+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return Q.isValidElement(a)?i=Q.cloneElement(a,s):wt(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,l=a.width,u=a.x,d=a.travellerWidth,f=a.updateId,h=a.startIndex,m=a.endIndex;if(i!==s.prevData||f!==s.prevUpdateId)return lj({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},i&&i.length?lse({data:i,width:l,x:u,travellerWidth:d,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||u!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([u,u+l-d]);var g=s.scale.domain().map(function(j){return s.scale(j)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,l=0,u=i-1;u-l>1;){var d=Math.floor((l+u)/2);a[d]>s?u=d:l=d}return s>=a[u]?u:l}}])})(x.PureComponent);Vn(lc,"displayName","Brush");Vn(lc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cj,uk;function cse(){if(uk)return cj;uk=1;var e=_N();function t(r,a){var s;return e(r,function(i,l,u){return s=a(i,l,u),!s}),!!s}return cj=t,cj}var uj,dk;function use(){if(dk)return uj;dk=1;var e=E4(),t=Gi(),r=cse(),a=$n(),s=Wp();function i(l,u,d){var f=a(l)?e:r;return d&&s(l,u,d)&&(u=void 0),f(l,t(u,3))}return uj=i,uj}var dse=use();const fse=qt(dse);var is=function(t,r){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===r},dj,fk;function hse(){if(fk)return dj;fk=1;var e=V4();function t(r,a,s){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[a]=s}return dj=t,dj}var fj,hk;function mse(){if(hk)return fj;hk=1;var e=hse(),t=q4(),r=Gi();function a(s,i){var l={};return i=r(i,3),t(s,function(u,d,f){e(l,d,i(u,d,f))}),l}return fj=a,fj}var pse=mse();const gse=qt(pse);var hj,mk;function vse(){if(mk)return hj;mk=1;function e(t,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(!r(t[a],a,t))return!1;return!0}return hj=e,hj}var mj,pk;function xse(){if(pk)return mj;pk=1;var e=_N();function t(r,a){var s=!0;return e(r,function(i,l,u){return s=!!a(i,l,u),s}),s}return mj=t,mj}var pj,gk;function yse(){if(gk)return pj;gk=1;var e=vse(),t=xse(),r=Gi(),a=$n(),s=Wp();function i(l,u,d){var f=a(l)?e:t;return d&&s(l,u,d)&&(u=void 0),f(l,r(u,3))}return pj=i,pj}var bse=yse();const bL=qt(bse);var jse=["x","y"];function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function u1(){return u1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u1.apply(this,arguments)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(a){wse(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wse(e,t,r){return t=Nse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nse(e){var t=Sse(e,"string");return Ud(t)=="symbol"?t:t+""}function Sse(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ud(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _se(e,t){if(e==null)return{};var r=Cse(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Cse(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Ese(e,t){var r=e.x,a=e.y,s=_se(e,jse),i="".concat(r),l=parseInt(i,10),u="".concat(a),d=parseInt(u,10),f="".concat(t.height||s.height),h=parseInt(f,10),m="".concat(t.width||s.width),g=parseInt(m,10);return Iu(Iu(Iu(Iu(Iu({},t),s),l?{x:l}:{}),d?{y:d}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function xk(e){return Q.createElement(Fae,u1({shapeType:"rectangle",propTransformer:Ese,activeClassName:"recharts-active-bar"},e))}var Tse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=Le(a)||LH(a);return i?t(a,s):(i||$o(),r)}},Ase=["value","background"],jL;function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Rse(e,t){if(e==null)return{};var r=Pse(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Pse(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ym.apply(this,arguments)}function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(a){Ai(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bk(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,NL(a.key),a)}}function kse(e,t,r){return t&&bk(e.prototype,t),r&&bk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ose(e,t,r){return t=Xm(t),Dse(e,wL()?Reflect.construct(t,r||[],Xm(e).constructor):t.apply(e,r))}function Dse(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mse(e)}function Mse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wL=function(){return!!e})()}function Xm(e){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(e)}function $se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d1(e,t)}function d1(e,t){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},d1(e,t)}function Ai(e,t,r){return t=NL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NL(e){var t=Lse(e,"string");return cc(t)=="symbol"?t:t+""}function Lse(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(cc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Li=(function(e){function t(){var r;Ise(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=Ose(this,t,[].concat(s)),Ai(r,"state",{isAnimationFinished:!1}),Ai(r,"id",$p("recharts-bar-")),Ai(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Ai(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return $se(t,e),kse(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,l=i.shape,u=i.dataKey,d=i.activeIndex,f=i.activeBar,h=Pt(this.props,!1);return a&&a.map(function(m,g){var j=g===d,w=j?f:l,b=gr(gr(gr({},h),m),{},{isActive:j,option:w,index:g,dataKey:u,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Q.createElement($r,Ym({className:"recharts-bar-rectangle"},fm(s.props,m,g),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(g)}),Q.createElement(xk,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,l=s.layout,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,g=this.state.prevData;return Q.createElement($i,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t,b=i.map(function(v,N){var S=g&&g[N];if(S){var C=Nl(S.x,v.x),A=Nl(S.y,v.y),_=Nl(S.width,v.width),T=Nl(S.height,v.height);return gr(gr({},v),{},{x:C(w),y:A(w),width:_(w),height:T(w)})}if(l==="horizontal"){var P=Nl(0,v.height),O=P(w);return gr(gr({},v),{},{y:v.y+v.height-O,height:O})}var I=Nl(0,v.width),B=I(w);return gr(gr({},v),{},{width:B})});return Q.createElement($r,null,a.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!XN(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,l=s.dataKey,u=s.activeIndex,d=Pt(this.props.background,!1);return i.map(function(f,h){f.value;var m=f.background,g=Rse(f,Ase);if(!m)return null;var j=gr(gr(gr(gr(gr({},g),{},{fill:"#eee"},m),d),fm(a.props,f,h)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:h,className:"recharts-bar-background-rectangle"});return Q.createElement(xk,Ym({key:"background-bar-".concat(h),option:a.props.background,isActive:h===u},j))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,u=i.xAxis,d=i.yAxis,f=i.layout,h=i.children,m=Da(h,tg);if(!m)return null;var g=f==="vertical"?l[0].height/2:l[0].width/2,j=function(v,N){var S=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:S,errorVal:fs(v,N)}},w={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Q.createElement($r,w,m.map(function(b){return Q.cloneElement(b,{key:"error-bar-".concat(s,"-").concat(b.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:g,dataPointFormatter:j})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,l=a.className,u=a.xAxis,d=a.yAxis,f=a.left,h=a.top,m=a.width,g=a.height,j=a.isAnimationActive,w=a.background,b=a.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,N=Ct("recharts-bar",l),S=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,A=S||C,_=It(b)?this.id:b;return Q.createElement($r,{className:N},S||C?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(_)},Q.createElement("rect",{x:S?f:f-m/2,y:C?h:h-g/2,width:S?m:m*2,height:C?g:g*2}))):null,Q.createElement($r,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(_,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,_),(!j||v)&&To.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(x.PureComponent);jL=Li;Ai(Li,"displayName","Bar");Ai(Li,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!of.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ai(Li,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,h=e.dataStartIndex,m=e.displayedData,g=e.offset,j=nte(a,r);if(!j)return null;var w=t.layout,b=r.type.defaultProps,v=b!==void 0?gr(gr({},b),r.props):r.props,N=v.dataKey,S=v.children,C=v.minPointSize,A=w==="horizontal"?l:i,_=f?A.scale.domain():null,T=dte({numericAxis:A}),P=Da(S,Z4),O=m.map(function(I,B){var q,G,V,Z,$,M;f?q=ate(f[h+B],_):(q=fs(I,N),Array.isArray(q)||(q=[T,q]));var k=Tse(C,jL.defaultProps.minPointSize)(q[1],B);if(w==="horizontal"){var D,W=[l.scale(q[0]),l.scale(q[1])],H=W[0],z=W[1];G=rI({axis:i,ticks:u,bandSize:s,offset:j.offset,entry:I,index:B}),V=(D=z??H)!==null&&D!==void 0?D:void 0,Z=j.size;var F=H-z;if($=Number.isNaN(F)?0:F,M={x:G,y:l.y,width:Z,height:l.height},Math.abs(k)>0&&Math.abs($)<Math.abs(k)){var L=ka($||k)*(Math.abs(k)-Math.abs($));V-=L,$+=L}}else{var Y=[i.scale(q[0]),i.scale(q[1])],ee=Y[0],ce=Y[1];if(G=ee,V=rI({axis:l,ticks:d,bandSize:s,offset:j.offset,entry:I,index:B}),Z=ce-ee,$=j.size,M={x:i.x,y:V,width:i.width,height:$},Math.abs(k)>0&&Math.abs(Z)<Math.abs(k)){var K=ka(Z||k)*(Math.abs(k)-Math.abs(Z));Z+=K}}return gr(gr(gr({},I),{},{x:G,y:V,width:Z,height:$,value:f?q:q[1],payload:I,background:M},P&&P[B]&&P[B].props),{},{tooltipPayload:[aL(r,I)],tooltipPosition:{x:G+Z/2,y:V+$/2}})});return gr({data:O,layout:w},g)});function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function Fse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jk(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,SL(a.key),a)}}function Use(e,t,r){return t&&jk(e.prototype,t),r&&jk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(a){ag(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ag(e,t,r){return t=SL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SL(e){var t=Bse(e,"string");return Bd(t)=="symbol"?t:t+""}function Bse(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Bd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zse=function(t,r,a,s,i){var l=t.width,u=t.height,d=t.layout,f=t.children,h=Object.keys(r),m={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:u-a.bottom,bottomMirror:u-a.bottom},g=!!Hn(f,Li);return h.reduce(function(j,w){var b=r[w],v=b.orientation,N=b.domain,S=b.padding,C=S===void 0?{}:S,A=b.mirror,_=b.reversed,T="".concat(v).concat(A?"Mirror":""),P,O,I,B,q;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var G=N[1]-N[0],V=1/0,Z=b.categoricalDomain.sort(BH);if(Z.forEach(function(Y,ee){ee>0&&(V=Math.min((Y||0)-(Z[ee-1]||0),V))}),Number.isFinite(V)){var $=V/G,M=b.layout==="vertical"?a.height:a.width;if(b.padding==="gap"&&(P=$*M/2),b.padding==="no-gap"){var k=Do(t.barCategoryGap,$*M),D=$*M/2;P=D-k-(D-k)/M*k}}}s==="xAxis"?O=[a.left+(C.left||0)+(P||0),a.left+a.width-(C.right||0)-(P||0)]:s==="yAxis"?O=d==="horizontal"?[a.top+a.height-(C.bottom||0),a.top+(C.top||0)]:[a.top+(C.top||0)+(P||0),a.top+a.height-(C.bottom||0)-(P||0)]:O=b.range,_&&(O=[O[1],O[0]]);var W=tte(b,i,g),H=W.scale,z=W.realScaleType;H.domain(N).range(O),rte(H);var F=ute(H,Ra(Ra({},b),{},{realScaleType:z}));s==="xAxis"?(q=v==="top"&&!A||v==="bottom"&&A,I=a.left,B=m[T]-q*b.height):s==="yAxis"&&(q=v==="left"&&!A||v==="right"&&A,I=m[T]-q*b.width,B=a.top);var L=Ra(Ra(Ra({},b),F),{},{realScaleType:z,x:I,y:B,scale:H,width:s==="xAxis"?a.width:b.width,height:s==="yAxis"?a.height:b.height});return L.bandSize=$m(L,F),!b.hide&&s==="xAxis"?m[T]+=(q?-1:1)*L.height:b.hide||(m[T]+=(q?-1:1)*L.width),Ra(Ra({},j),{},ag({},w,L))},{})},_L=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return{x:Math.min(a,i),y:Math.min(s,l),width:Math.abs(i-a),height:Math.abs(l-s)}},qse=function(t){var r=t.x1,a=t.y1,s=t.x2,i=t.y2;return _L({x:r,y:a},{x:s,y:i})},CL=(function(){function e(t){Fse(this,e),this.scale=t}return Use(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();ag(CL,"EPS",1e-4);var tS=function(t){var r=Object.keys(t).reduce(function(a,s){return Ra(Ra({},a),{},ag({},s,CL.create(t[s])))},{});return Ra(Ra({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,u=i.position;return gse(s,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(s){return bL(s,function(i,l){return r[l].isInRange(i)})}})};function Wse(e){return(e%180+180)%180}var Vse=function(t){var r=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Wse(s),l=i*Math.PI/180,u=Math.atan(a/r),d=l>u&&l<Math.PI-u?a/Math.sin(l):r/Math.cos(l);return Math.abs(d)},gj,Nk;function Hse(){if(Nk)return gj;Nk=1;var e=Gi(),t=sf(),r=zp();function a(s){return function(i,l,u){var d=Object(i);if(!t(i)){var f=e(l,3);i=r(i),l=function(m){return f(d[m],m,d)}}var h=s(i,l,u);return h>-1?d[f?i[h]:h]:void 0}}return gj=a,gj}var vj,Sk;function Gse(){if(Sk)return vj;Sk=1;var e=gL();function t(r){var a=e(r),s=a%1;return a===a?s?a-s:a:0}return vj=t,vj}var xj,_k;function Kse(){if(_k)return xj;_k=1;var e=L4(),t=Gi(),r=Gse(),a=Math.max;function s(i,l,u){var d=i==null?0:i.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=a(d+f,0)),e(i,t(l,3),f)}return xj=s,xj}var yj,Ck;function Yse(){if(Ck)return yj;Ck=1;var e=Hse(),t=Kse(),r=e(t);return yj=r,yj}var Xse=Yse();const Qse=qt(Xse);var Zse=e4();const Jse=qt(Zse);var eie=Jse(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),rS=x.createContext(void 0),nS=x.createContext(void 0),EL=x.createContext(void 0),TL=x.createContext({}),AL=x.createContext(void 0),RL=x.createContext(0),PL=x.createContext(0),Ek=function(t){var r=t.state,a=r.xAxisMap,s=r.yAxisMap,i=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,h=eie(i);return Q.createElement(rS.Provider,{value:a},Q.createElement(nS.Provider,{value:s},Q.createElement(TL.Provider,{value:i},Q.createElement(EL.Provider,{value:h},Q.createElement(AL.Provider,{value:l},Q.createElement(RL.Provider,{value:f},Q.createElement(PL.Provider,{value:d},u)))))))},tie=function(){return x.useContext(AL)},IL=function(t){var r=x.useContext(rS);r==null&&$o();var a=r[t];return a==null&&$o(),a},rie=function(){var t=x.useContext(rS);return Ci(t)},nie=function(){var t=x.useContext(nS),r=Qse(t,function(a){return bL(a.domain,Number.isFinite)});return r||Ci(t)},kL=function(t){var r=x.useContext(nS);r==null&&$o();var a=r[t];return a==null&&$o(),a},aie=function(){var t=x.useContext(EL);return t},sie=function(){return x.useContext(TL)},aS=function(){return x.useContext(PL)},sS=function(){return x.useContext(RL)};function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function iie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oie(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,DL(a.key),a)}}function lie(e,t,r){return t&&oie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cie(e,t,r){return t=Qm(t),uie(e,OL()?Reflect.construct(t,r||[],Qm(e).constructor):t.apply(e,r))}function uie(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return die(e)}function die(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OL=function(){return!!e})()}function Qm(e){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(e)}function fie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f1(e,t)}function f1(e,t){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},f1(e,t)}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ak(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(a){iS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iS(e,t,r){return t=DL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DL(e){var t=hie(e,"string");return uc(t)=="symbol"?t:t+""}function hie(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(uc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mie(e,t){return xie(e)||vie(e,t)||gie(e,t)||pie()}function pie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gie(e,t){if(e){if(typeof e=="string")return Rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rk(e,t)}}function Rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function vie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function xie(e){if(Array.isArray(e))return e}function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h1.apply(this,arguments)}var yie=function(t,r){var a;return Q.isValidElement(t)?a=Q.cloneElement(t,r):wt(t)?a=t(r):a=Q.createElement("line",h1({},r,{className:"recharts-reference-line-line"})),a},bie=function(t,r,a,s,i,l,u,d,f){var h=i.x,m=i.y,g=i.width,j=i.height;if(a){var w=f.y,b=t.y.apply(w,{position:l});if(is(f,"discard")&&!t.y.isInRange(b))return null;var v=[{x:h+g,y:b},{x:h,y:b}];return d==="left"?v.reverse():v}if(r){var N=f.x,S=t.x.apply(N,{position:l});if(is(f,"discard")&&!t.x.isInRange(S))return null;var C=[{x:S,y:m+j},{x:S,y:m}];return u==="top"?C.reverse():C}if(s){var A=f.segment,_=A.map(function(T){return t.apply(T,{position:l})});return is(f,"discard")&&fse(_,function(T){return!t.isInRange(T)})?null:_}return null};function jie(e){var t=e.x,r=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=tie(),h=IL(s),m=kL(i),g=aie();if(!f||!g)return null;Ms(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var j=tS({x:h.scale,y:m.scale}),w=Tr(t),b=Tr(r),v=a&&a.length===2,N=bie(j,w,b,v,g,e.position,h.orientation,m.orientation,e);if(!N)return null;var S=mie(N,2),C=S[0],A=C.x,_=C.y,T=S[1],P=T.x,O=T.y,I=is(e,"hidden")?"url(#".concat(f,")"):void 0,B=Ak(Ak({clipPath:I},Pt(e,!0)),{},{x1:A,y1:_,x2:P,y2:O});return Q.createElement($r,{className:Ct("recharts-reference-line",u)},yie(l,B),on.renderCallByParent(e,qse({x1:A,y1:_,x2:P,y2:O})))}var sg=(function(e){function t(){return iie(this,t),cie(this,t,arguments)}return fie(t,e),lie(t,[{key:"render",value:function(){return Q.createElement(jie,this.props)}}])})(Q.Component);iS(sg,"displayName","ReferenceLine");iS(sg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m1.apply(this,arguments)}function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(a){ig(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nie(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$L(a.key),a)}}function Sie(e,t,r){return t&&Nie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ie(e,t,r){return t=Zm(t),Cie(e,ML()?Reflect.construct(t,r||[],Zm(e).constructor):t.apply(e,r))}function Cie(e,t){if(t&&(dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eie(e)}function Eie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ML(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!e})()}function Zm(e){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(e)}function Tie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p1(e,t)}function p1(e,t){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},p1(e,t)}function ig(e,t,r){return t=$L(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $L(e){var t=Aie(e,"string");return dc(t)=="symbol"?t:t+""}function Aie(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(dc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rie=function(t){var r=t.x,a=t.y,s=t.xAxis,i=t.yAxis,l=tS({x:s.scale,y:i.scale}),u=l.apply({x:r,y:a},{bandAware:!0});return is(t,"discard")&&!l.isInRange(u)?null:u},og=(function(e){function t(){return wie(this,t),_ie(this,t,arguments)}return Tie(t,e),Sie(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,l=a.r,u=a.alwaysShow,d=a.clipPathId,f=Tr(s),h=Tr(i);if(Ms(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=Rie(this.props);if(!m)return null;var g=m.x,j=m.y,w=this.props,b=w.shape,v=w.className,N=is(this.props,"hidden")?"url(#".concat(d,")"):void 0,S=Ik(Ik({clipPath:N},Pt(this.props,!0)),{},{cx:g,cy:j});return Q.createElement($r,{className:Ct("recharts-reference-dot",v)},t.renderDot(b,S),on.renderCallByParent(this.props,{x:g-l,y:j-l,width:2*l,height:2*l}))}}])})(Q.Component);ig(og,"displayName","ReferenceDot");ig(og,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ig(og,"renderDot",function(e,t){var r;return Q.isValidElement(e)?r=Q.cloneElement(e,t):wt(e)?r=e(t):r=Q.createElement(pL,m1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},g1.apply(this,arguments)}function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ok(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(r),!0).forEach(function(a){lg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Pie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iie(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,FL(a.key),a)}}function kie(e,t,r){return t&&Iie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oie(e,t,r){return t=Jm(t),Die(e,LL()?Reflect.construct(t,r||[],Jm(e).constructor):t.apply(e,r))}function Die(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mie(e)}function Mie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!e})()}function Jm(e){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jm(e)}function $ie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v1(e,t)}function v1(e,t){return v1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},v1(e,t)}function lg(e,t,r){return t=FL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FL(e){var t=Lie(e,"string");return fc(t)=="symbol"?t:t+""}function Lie(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(fc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fie=function(t,r,a,s,i){var l=i.x1,u=i.x2,d=i.y1,f=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var g=tS({x:h.scale,y:m.scale}),j={x:t?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:a?g.y.apply(d,{position:"start"}):g.y.rangeMin},w={x:r?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:s?g.y.apply(f,{position:"end"}):g.y.rangeMax};return is(i,"discard")&&(!g.isInRange(j)||!g.isInRange(w))?null:_L(j,w)},cg=(function(e){function t(){return Pie(this,t),Oie(this,t,arguments)}return $ie(t,e),kie(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,l=a.y1,u=a.y2,d=a.className,f=a.alwaysShow,h=a.clipPathId;Ms(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Tr(s),g=Tr(i),j=Tr(l),w=Tr(u),b=this.props.shape;if(!m&&!g&&!j&&!w&&!b)return null;var v=Fie(m,g,j,w,this.props);if(!v&&!b)return null;var N=is(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Q.createElement($r,{className:Ct("recharts-reference-area",d)},t.renderRect(b,Ok(Ok({clipPath:N},Pt(this.props,!0)),v)),on.renderCallByParent(this.props,v))}}])})(Q.Component);lg(cg,"displayName","ReferenceArea");lg(cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lg(cg,"renderRect",function(e,t){var r;return Q.isValidElement(e)?r=Q.cloneElement(e,t):wt(e)?r=e(t):r=Q.createElement(eS,g1({},t,{className:"recharts-reference-area-rect"})),r});function UL(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function Uie(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return Vse(a,r)}function Bie(e,t,r){var a=r==="width",s=e.x,i=e.y,l=e.width,u=e.height;return t===1?{start:a?s:i,end:a?s+l:i+u}:{start:a?s+l:i+u,end:a?s:i}}function ep(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function zie(e,t){return UL(e,t+1)}function qie(e,t,r,a,s){for(var i=(a||[]).slice(),l=t.start,u=t.end,d=0,f=1,h=l,m=function(){var w=a?.[d];if(w===void 0)return{v:UL(a,f)};var b=d,v,N=function(){return v===void 0&&(v=r(w,b)),v},S=w.coordinate,C=d===0||ep(e,S,N,h,u);C||(d=0,h=l,f+=1),C&&(h=S+e*(N()/2+s),d+=f)},g;f<=i.length;)if(g=m(),g)return g.v;return[]}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function Dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(r),!0).forEach(function(a){Wie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Wie(e,t,r){return t=Vie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vie(e){var t=Hie(e,"string");return zd(t)=="symbol"?t:t+""}function Hie(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(zd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gie(e,t,r,a,s){for(var i=(a||[]).slice(),l=i.length,u=t.start,d=t.end,f=function(g){var j=i[g],w,b=function(){return w===void 0&&(w=r(j,g)),w};if(g===l-1){var v=e*(j.coordinate+e*b()/2-d);i[g]=j=sn(sn({},j),{},{tickCoord:v>0?j.coordinate-v*e:j.coordinate})}else i[g]=j=sn(sn({},j),{},{tickCoord:j.coordinate});var N=ep(e,j.tickCoord,b,u,d);N&&(d=j.tickCoord-e*(b()/2+s),i[g]=sn(sn({},j),{},{isShow:!0}))},h=l-1;h>=0;h--)f(h);return i}function Kie(e,t,r,a,s,i){var l=(a||[]).slice(),u=l.length,d=t.start,f=t.end;if(i){var h=a[u-1],m=r(h,u-1),g=e*(h.coordinate+e*m/2-f);l[u-1]=h=sn(sn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var j=ep(e,h.tickCoord,function(){return m},d,f);j&&(f=h.tickCoord-e*(m/2+s),l[u-1]=sn(sn({},h),{},{isShow:!0}))}for(var w=i?u-1:u,b=function(S){var C=l[S],A,_=function(){return A===void 0&&(A=r(C,S)),A};if(S===0){var T=e*(C.coordinate-e*_()/2-d);l[S]=C=sn(sn({},C),{},{tickCoord:T<0?C.coordinate-T*e:C.coordinate})}else l[S]=C=sn(sn({},C),{},{tickCoord:C.coordinate});var P=ep(e,C.tickCoord,_,d,f);P&&(d=C.tickCoord+e*(_()/2+s),l[S]=sn(sn({},C),{},{isShow:!0}))},v=0;v<w;v++)b(v);return l}function oS(e,t,r){var a=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,h=e.unit,m=e.angle;if(!s||!s.length||!a)return[];if(Le(d)||of.isSsr)return zie(s,typeof d=="number"&&Le(d)?d:0);var g=[],j=u==="top"||u==="bottom"?"width":"height",w=h&&j==="width"?Hu(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(C,A){var _=wt(f)?f(C.value,A):C.value;return j==="width"?Uie(Hu(_,{fontSize:t,letterSpacing:r}),w,m):Hu(_,{fontSize:t,letterSpacing:r})[j]},v=s.length>=2?ka(s[1].coordinate-s[0].coordinate):1,N=Bie(i,v,j);return d==="equidistantPreserveStart"?qie(v,N,b,s,l):(d==="preserveStart"||d==="preserveStartEnd"?g=Kie(v,N,b,s,l,d==="preserveStartEnd"):g=Gie(v,N,b,s,l),g.filter(function(S){return S.isShow}))}var Yie=["viewBox"],Xie=["viewBox"],Qie=["ticks"];function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ol.apply(this,arguments)}function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(a){lS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bj(e,t){if(e==null)return{};var r=Zie(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Zie(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Jie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $k(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,zL(a.key),a)}}function eoe(e,t,r){return t&&$k(e.prototype,t),r&&$k(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function toe(e,t,r){return t=tp(t),roe(e,BL()?Reflect.construct(t,r||[],tp(e).constructor):t.apply(e,r))}function roe(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return noe(e)}function noe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BL=function(){return!!e})()}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(e)}function aoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x1(e,t)}function x1(e,t){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},x1(e,t)}function lS(e,t,r){return t=zL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zL(e){var t=soe(e,"string");return hc(t)=="symbol"?t:t+""}function soe(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(hc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kc=(function(e){function t(r){var a;return Jie(this,t),a=toe(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return aoe(t,e),eoe(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,l=bj(a,Yie),u=this.props,d=u.viewBox,f=bj(u,Xie);return!Bl(i,d)||!Bl(l,f)||!Bl(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,l=s.y,u=s.width,d=s.height,f=s.orientation,h=s.tickSize,m=s.mirror,g=s.tickMargin,j,w,b,v,N,S,C=m?-1:1,A=a.tickSize||h,_=Le(a.tickCoord)?a.tickCoord:a.coordinate;switch(f){case"top":j=w=a.coordinate,v=l+ +!m*d,b=v-C*A,S=b-C*g,N=_;break;case"left":b=v=a.coordinate,w=i+ +!m*u,j=w-C*A,N=j-C*g,S=_;break;case"right":b=v=a.coordinate,w=i+ +m*u,j=w+C*A,N=j+C*g,S=_;break;default:j=w=a.coordinate,v=l+ +m*d,b=v+C*A,S=b+C*g,N=_;break}return{line:{x1:j,y1:b,x2:w,y2:v},tick:{x:N,y:S}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.orientation,f=a.mirror,h=a.axisLine,m=Sr(Sr(Sr({},Pt(this.props,!1)),Pt(h,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!f||d==="bottom"&&f);m=Sr(Sr({},m),{},{x1:s,y1:i+g*u,x2:s+l,y2:i+g*u})}else{var j=+(d==="left"&&!f||d==="right"&&f);m=Sr(Sr({},m),{},{x1:s+j*l,y1:i,x2:s+j*l,y2:i+u})}return Q.createElement("line",Ol({},m,{className:Ct("recharts-cartesian-axis-line",xa(h,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var l=this,u=this.props,d=u.tickLine,f=u.stroke,h=u.tick,m=u.tickFormatter,g=u.unit,j=oS(Sr(Sr({},this.props),{},{ticks:a}),s,i),w=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),v=Pt(this.props,!1),N=Pt(h,!1),S=Sr(Sr({},v),{},{fill:"none"},Pt(d,!1)),C=j.map(function(A,_){var T=l.getTickLineCoord(A),P=T.line,O=T.tick,I=Sr(Sr(Sr(Sr({textAnchor:w,verticalAnchor:b},v),{},{stroke:"none",fill:f},N),O),{},{index:_,payload:A,visibleTicksCount:j.length,tickFormatter:m});return Q.createElement($r,Ol({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},fm(l.props,A,_)),d&&Q.createElement("line",Ol({},S,P,{className:Ct("recharts-cartesian-axis-tick-line",xa(d,"className"))})),h&&t.renderTickItem(h,I,"".concat(wt(m)?m(A.value,_):A.value).concat(g||"")))});return Q.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,l=s.width,u=s.height,d=s.ticksGenerator,f=s.className,h=s.hide;if(h)return null;var m=this.props,g=m.ticks,j=bj(m,Qie),w=g;return wt(d)&&(w=g&&g.length>0?d(this.props):d(j)),l<=0||u<=0||!w||!w.length?null:Q.createElement($r,{className:Ct("recharts-cartesian-axis",f),ref:function(v){a.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),on.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var l,u=Ct(s.className,"recharts-cartesian-axis-tick-value");return Q.isValidElement(a)?l=Q.cloneElement(a,Sr(Sr({},s),{},{className:u})):wt(a)?l=a(Sr(Sr({},s),{},{className:u})):l=Q.createElement(Nm,Ol({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})(x.Component);lS(kc,"displayName","CartesianAxis");lS(kc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ioe=["x1","y1","x2","y2","key"],ooe=["offset"];function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}function Lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(r),!0).forEach(function(a){loe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function loe(e,t,r){return t=coe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function coe(e){var t=uoe(e,"string");return Lo(t)=="symbol"?t:t+""}function uoe(e,t){if(Lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Lo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},So.apply(this,arguments)}function Fk(e,t){if(e==null)return{};var r=doe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function doe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var foe=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,l=t.width,u=t.height,d=t.ry;return Q.createElement("rect",{x:s,y:i,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function qL(e,t){var r;if(Q.isValidElement(e))r=Q.cloneElement(e,t);else if(wt(e))r=e(t);else{var a=t.x1,s=t.y1,i=t.x2,l=t.y2,u=t.key,d=Fk(t,ioe),f=Pt(d,!1);f.offset;var h=Fk(f,ooe);r=Q.createElement("line",So({},h,{x1:a,y1:s,x2:i,y2:l,fill:"none",key:u}))}return r}function hoe(e){var t=e.x,r=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=ln(ln({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return qL(s,f)});return Q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function moe(e){var t=e.y,r=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=ln(ln({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return qL(s,f)});return Q.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function poe(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,i=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var h=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,j){return g-j});s!==h[0]&&h.unshift(0);var m=h.map(function(g,j){var w=!h[j+1],b=w?s+l-g:h[j+1]-g;if(b<=0)return null;var v=j%t.length;return Q.createElement("rect",{key:"react-".concat(j),y:g,x:a,height:b,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function goe(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!a||!a.length)return null;var h=f.map(function(g){return Math.round(g+i-i)}).sort(function(g,j){return g-j});i!==h[0]&&h.unshift(0);var m=h.map(function(g,j){var w=!h[j+1],b=w?i+u-g:h[j+1]-g;if(b<=0)return null;var v=j%a.length;return Q.createElement("rect",{key:"react-".concat(j),x:g,y:l,width:b,height:d,stroke:"none",fill:a[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var voe=function(t,r){var a=t.xAxis,s=t.width,i=t.height,l=t.offset;return rL(oS(ln(ln(ln({},kc.defaultProps),a),{},{ticks:Os(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.left,l.left+l.width,r)},xoe=function(t,r){var a=t.yAxis,s=t.width,i=t.height,l=t.offset;return rL(oS(ln(ln(ln({},kc.defaultProps),a),{},{ticks:Os(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.top,l.top+l.height,r)},Cl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function WL(e){var t,r,a,s,i,l,u=aS(),d=sS(),f=sie(),h=ln(ln({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Cl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Cl.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:Cl.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Cl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Cl.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Cl.verticalFill,x:Le(e.x)?e.x:f.left,y:Le(e.y)?e.y:f.top,width:Le(e.width)?e.width:f.width,height:Le(e.height)?e.height:f.height}),m=h.x,g=h.y,j=h.width,w=h.height,b=h.syncWithTicks,v=h.horizontalValues,N=h.verticalValues,S=rie(),C=nie();if(!Le(j)||j<=0||!Le(w)||w<=0||!Le(m)||m!==+m||!Le(g)||g!==+g)return null;var A=h.verticalCoordinatesGenerator||voe,_=h.horizontalCoordinatesGenerator||xoe,T=h.horizontalPoints,P=h.verticalPoints;if((!T||!T.length)&&wt(_)){var O=v&&v.length,I=_({yAxis:C?ln(ln({},C),{},{ticks:O?v:C.ticks}):void 0,width:u,height:d,offset:f},O?!0:b);Ms(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Lo(I),"]")),Array.isArray(I)&&(T=I)}if((!P||!P.length)&&wt(A)){var B=N&&N.length,q=A({xAxis:S?ln(ln({},S),{},{ticks:B?N:S.ticks}):void 0,width:u,height:d,offset:f},B?!0:b);Ms(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Lo(q),"]")),Array.isArray(q)&&(P=q)}return Q.createElement("g",{className:"recharts-cartesian-grid"},Q.createElement(foe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),Q.createElement(hoe,So({},h,{offset:f,horizontalPoints:T,xAxis:S,yAxis:C})),Q.createElement(moe,So({},h,{offset:f,verticalPoints:P,xAxis:S,yAxis:C})),Q.createElement(poe,So({},h,{horizontalPoints:T})),Q.createElement(goe,So({},h,{verticalPoints:P})))}WL.displayName="CartesianGrid";function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function yoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function boe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,GL(a.key),a)}}function joe(e,t,r){return t&&boe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function woe(e,t,r){return t=rp(t),Noe(e,VL()?Reflect.construct(t,r||[],rp(e).constructor):t.apply(e,r))}function Noe(e,t){if(t&&(mc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Soe(e)}function Soe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VL=function(){return!!e})()}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rp(e)}function _oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y1(e,t)}function y1(e,t){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},y1(e,t)}function HL(e,t,r){return t=GL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GL(e){var t=Coe(e,"string");return mc(t)=="symbol"?t:t+""}function Coe(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(mc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b1.apply(this,arguments)}function Eoe(e){var t=e.xAxisId,r=aS(),a=sS(),s=IL(t);return s==null?null:x.createElement(kc,b1({},s,{className:Ct("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return Os(l,!0)}}))}var ug=(function(e){function t(){return yoe(this,t),woe(this,t,arguments)}return _oe(t,e),joe(t,[{key:"render",value:function(){return x.createElement(Eoe,this.props)}}])})(x.Component);HL(ug,"displayName","XAxis");HL(ug,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Toe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aoe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XL(a.key),a)}}function Roe(e,t,r){return t&&Aoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Poe(e,t,r){return t=np(t),Ioe(e,KL()?Reflect.construct(t,r||[],np(e).constructor):t.apply(e,r))}function Ioe(e,t){if(t&&(pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return koe(e)}function koe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!e})()}function np(e){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},np(e)}function Ooe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j1(e,t)}function j1(e,t){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},j1(e,t)}function YL(e,t,r){return t=XL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=Doe(e,"string");return pc(t)=="symbol"?t:t+""}function Doe(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(pc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},w1.apply(this,arguments)}var Moe=function(t){var r=t.yAxisId,a=aS(),s=sS(),i=kL(r);return i==null?null:x.createElement(kc,w1({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(u){return Os(u,!0)}}))},dg=(function(e){function t(){return Toe(this,t),Poe(this,t,arguments)}return Ooe(t,e),Roe(t,[{key:"render",value:function(){return x.createElement(Moe,this.props)}}])})(x.Component);YL(dg,"displayName","YAxis");YL(dg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Uk(e){return Uoe(e)||Foe(e)||Loe(e)||$oe()}function $oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Loe(e,t){if(e){if(typeof e=="string")return N1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(e,t)}}function Foe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uoe(e){if(Array.isArray(e))return N1(e)}function N1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var S1=function(t,r,a,s,i){var l=Da(t,sg),u=Da(t,og),d=[].concat(Uk(l),Uk(u)),f=Da(t,cg),h="".concat(s,"Id"),m=s[0],g=r;if(d.length&&(g=d.reduce(function(b,v){if(v.props[h]===a&&is(v.props,"extendDomain")&&Le(v.props[m])){var N=v.props[m];return[Math.min(b[0],N),Math.max(b[1],N)]}return b},g)),f.length){var j="".concat(m,"1"),w="".concat(m,"2");g=f.reduce(function(b,v){if(v.props[h]===a&&is(v.props,"extendDomain")&&Le(v.props[j])&&Le(v.props[w])){var N=v.props[j],S=v.props[w];return[Math.min(b[0],N,S),Math.max(b[1],N,S)]}return b},g)}return i&&i.length&&(g=i.reduce(function(b,v){return Le(v)?[Math.min(b[0],v),Math.max(b[1],v)]:b},g)),g},jj={exports:{}},Bk;function Boe(){return Bk||(Bk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function i(d,f,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var j=new s(h,m||d,g),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],j]:d._events[w].push(j):(d._events[w]=j,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new a:delete d._events[f]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,j=m.length,w=new Array(j);g<j;g++)w[g]=m[g].fn;return w},u.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,g,j,w){var b=r?r+f:f;if(!this._events[b])return!1;var v=this._events[b],N=arguments.length,S,C;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),N){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,m),!0;case 4:return v.fn.call(v.context,h,m,g),!0;case 5:return v.fn.call(v.context,h,m,g,j),!0;case 6:return v.fn.call(v.context,h,m,g,j,w),!0}for(C=1,S=new Array(N-1);C<N;C++)S[C-1]=arguments[C];v.fn.apply(v.context,S)}else{var A=v.length,_;for(C=0;C<A;C++)switch(v[C].once&&this.removeListener(f,v[C].fn,void 0,!0),N){case 1:v[C].fn.call(v[C].context);break;case 2:v[C].fn.call(v[C].context,h);break;case 3:v[C].fn.call(v[C].context,h,m);break;case 4:v[C].fn.call(v[C].context,h,m,g);break;default:if(!S)for(_=1,S=new Array(N-1);_<N;_++)S[_-1]=arguments[_];v[C].fn.apply(v[C].context,S)}}return!0},u.prototype.on=function(f,h,m){return i(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return i(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,g){var j=r?r+f:f;if(!this._events[j])return this;if(!h)return l(this,j),this;var w=this._events[j];if(w.fn)w.fn===h&&(!g||w.once)&&(!m||w.context===m)&&l(this,j);else{for(var b=0,v=[],N=w.length;b<N;b++)(w[b].fn!==h||g&&!w[b].once||m&&w[b].context!==m)&&v.push(w[b]);v.length?this._events[j]=v.length===1?v[0]:v:l(this,j)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&l(this,h)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(jj)),jj.exports}var zoe=Boe();const qoe=qt(zoe);var wj=new qoe,Nj="recharts.syncMouseEvents";function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function Woe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Voe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,QL(a.key),a)}}function Hoe(e,t,r){return t&&Voe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sj(e,t,r){return t=QL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QL(e){var t=Goe(e,"string");return qd(t)=="symbol"?t:t+""}function Goe(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(qd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Koe=(function(){function e(){Woe(this,e),Sj(this,"activeIndex",0),Sj(this,"coordinateList",[]),Sj(this,"layout","horizontal")}return Hoe(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,i=s===void 0?null:s,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,h=r.offset,m=h===void 0?null:h,g=r.mouseHandlerCallback,j=g===void 0?null:g;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=j??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,u=s.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((a=window)===null||a===void 0?void 0:a.scrollY)||0,m=i+d+f,g=l+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function Yoe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e?.[0],s=e?.[1];if(a&&s&&Le(a)&&Le(s))return!0}return!1}function Xoe(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function ZL(e){var t=e.cx,r=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,l=Yr(t,r,a,s),u=Yr(t,r,a,i);return{points:[l,u],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function Qoe(e,t,r){var a,s,i,l;if(e==="horizontal")a=t.x,i=a,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,h=t.outerRadius,m=t.angle,g=Yr(u,d,f,m),j=Yr(u,d,h,m);a=g.x,s=g.y,i=j.x,l=j.y}else return ZL(t);return[{x:a,y:s},{x:i,y:l}]}function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(a){Zoe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zoe(e,t,r){return t=Joe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Joe(e){var t=ele(e,"string");return Wd(t)=="symbol"?t:t+""}function ele(e,t){if(Wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Wd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tle(e){var t,r,a=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,h=e.tooltipAxisBandSize,m=e.layout,g=e.chartName,j=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!j||!i||!l||g!=="ScatterChart"&&s!=="axis")return null;var w,b=yI;if(g==="ScatterChart")w=l,b=fae;else if(g==="BarChart")w=Xoe(m,l,d,h),b=eS;else if(m==="radial"){var v=ZL(l),N=v.cx,S=v.cy,C=v.radius,A=v.startAngle,_=v.endAngle;w={cx:N,cy:S,startAngle:A,endAngle:_,innerRadius:C,outerRadius:C},b=oL}else w={points:Qoe(m,l,d)},b=yI;var T=Hh(Hh(Hh(Hh({stroke:"#ccc",pointerEvents:"none"},d),w),Pt(j,!1)),{},{payload:u,payloadIndex:f,className:Ct("recharts-tooltip-cursor",j.className)});return x.isValidElement(j)?x.cloneElement(j,T):x.createElement(b,T)}var rle=["item"],nle=["children","className","width","height","style","compact","title","desc"];function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dl.apply(this,arguments)}function qk(e,t){return ile(e)||sle(e,t)||e3(e,t)||ale()}function ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function ile(e){if(Array.isArray(e))return e}function Wk(e,t){if(e==null)return{};var r=ole(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ole(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function lle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cle(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,t3(a.key),a)}}function ule(e,t,r){return t&&cle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dle(e,t,r){return t=ap(t),fle(e,JL()?Reflect.construct(t,r||[],ap(e).constructor):t.apply(e,r))}function fle(e,t){if(t&&(gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hle(e)}function hle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JL=function(){return!!e})()}function ap(e){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ap(e)}function mle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_1(e,t)}function _1(e,t){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_1(e,t)}function vc(e){return vle(e)||gle(e)||e3(e)||ple()}function ple(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e3(e,t){if(e){if(typeof e=="string")return C1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(e,t)}}function gle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vle(e){if(Array.isArray(e))return C1(e)}function C1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(r),!0).forEach(function(a){ut(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ut(e,t,r){return t=t3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t3(e){var t=xle(e,"string");return gc(t)=="symbol"?t:t+""}function xle(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(gc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yle={xAxis:["bottom","top"],yAxis:["left","right"]},ble={width:"100%",height:"100%"},r3={x:0,y:0};function Gh(e){return e}var jle=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},wle=function(t,r,a,s){var i=r.find(function(h){return h&&h.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,u=s.radius;return we(we(we({},s),Yr(s.cx,s.cy,u,l)),{},{angle:l,radius:u})}var d=i.coordinate,f=s.angle;return we(we(we({},s),Yr(s.cx,s.cy,d,f)),{},{angle:f,radius:d})}return r3},fg=function(t,r){var a=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,l=(a??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(vc(u),vc(f)):u},[]);return l.length>0?l:t&&t.length&&Le(s)&&Le(i)?t.slice(s,i+1):[]};function n3(e){return e==="number"?[0,"auto"]:void 0}var E1=function(t,r,a,s){var i=t.graphicalItems,l=t.tooltipAxis,u=fg(r,t);return a<0||!i||!i.length||a>=u.length?null:i.reduce(function(d,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var j=m===void 0?u:m;g=hw(j,l.dataKey,s)}else g=m&&m[a]||u[a];return g?[].concat(vc(d),[aL(f,g)]):d},[])},Hk=function(t,r,a,s){var i=s||{x:t.chartX,y:t.chartY},l=jle(i,a),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,h=Yee(l,u,f,d);if(h>=0&&f){var m=f[h]&&f[h].value,g=E1(t,r,h,m),j=wle(a,u,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:g,activeCoordinate:j}}return null},Nle=function(t,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,h=t.layout,m=t.children,g=t.stackOffset,j=tL(h,i);return a.reduce(function(w,b){var v,N=b.type.defaultProps!==void 0?we(we({},b.type.defaultProps),b.props):b.props,S=N.type,C=N.dataKey,A=N.allowDataOverflow,_=N.allowDuplicatedCategory,T=N.scale,P=N.ticks,O=N.includeHidden,I=N[l];if(w[I])return w;var B=fg(t.data,{graphicalItems:s.filter(function(F){var L,Y=l in F.props?F.props[l]:(L=F.type.defaultProps)===null||L===void 0?void 0:L[l];return Y===I}),dataStartIndex:d,dataEndIndex:f}),q=B.length,G,V,Z;Yoe(N.domain,A,S)&&(G=Gw(N.domain,null,A),j&&(S==="number"||T!=="auto")&&(Z=Ku(B,C,"category")));var $=n3(S);if(!G||G.length===0){var M,k=(M=N.domain)!==null&&M!==void 0?M:$;if(C){if(G=Ku(B,C,S),S==="category"&&j){var D=UH(G);_&&D?(V=G,G=Hm(0,q)):_||(G=sI(k,G,b).reduce(function(F,L){return F.indexOf(L)>=0?F:[].concat(vc(F),[L])},[]))}else if(S==="category")_?G=G.filter(function(F){return F!==""&&!It(F)}):G=sI(k,G,b).reduce(function(F,L){return F.indexOf(L)>=0||L===""||It(L)?F:[].concat(vc(F),[L])},[]);else if(S==="number"){var W=ete(B,s.filter(function(F){var L,Y,ee=l in F.props?F.props[l]:(L=F.type.defaultProps)===null||L===void 0?void 0:L[l],ce="hide"in F.props?F.props.hide:(Y=F.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return ee===I&&(O||!ce)}),C,i,h);W&&(G=W)}j&&(S==="number"||T!=="auto")&&(Z=Ku(B,C,"category"))}else j?G=Hm(0,q):u&&u[I]&&u[I].hasStack&&S==="number"?G=g==="expand"?[0,1]:nL(u[I].stackGroups,d,f):G=eL(B,s.filter(function(F){var L=l in F.props?F.props[l]:F.type.defaultProps[l],Y="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return L===I&&(O||!Y)}),S,h,!0);if(S==="number")G=S1(m,G,I,i,P),k&&(G=Gw(k,G,A));else if(S==="category"&&k){var H=k,z=G.every(function(F){return H.indexOf(F)>=0});z&&(G=H)}}return we(we({},w),{},ut({},I,we(we({},N),{},{axisType:i,domain:G,categoricalDomain:Z,duplicateDomain:V,originalDomain:(v=N.domain)!==null&&v!==void 0?v:$,isCategorical:j,layout:h})))},{})},Sle=function(t,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,h=t.layout,m=t.children,g=fg(t.data,{graphicalItems:a,dataStartIndex:d,dataEndIndex:f}),j=g.length,w=tL(h,i),b=-1;return a.reduce(function(v,N){var S=N.type.defaultProps!==void 0?we(we({},N.type.defaultProps),N.props):N.props,C=S[l],A=n3("number");if(!v[C]){b++;var _;return w?_=Hm(0,j):u&&u[C]&&u[C].hasStack?(_=nL(u[C].stackGroups,d,f),_=S1(m,_,C,i)):(_=Gw(A,eL(g,a.filter(function(T){var P,O,I=l in T.props?T.props[l]:(P=T.type.defaultProps)===null||P===void 0?void 0:P[l],B="hide"in T.props?T.props.hide:(O=T.type.defaultProps)===null||O===void 0?void 0:O.hide;return I===C&&!B}),"number",h),s.defaultProps.allowDataOverflow),_=S1(m,_,C,i)),we(we({},v),{},ut({},C,we(we({axisType:i},s.defaultProps),{},{hide:!0,orientation:xa(yle,"".concat(i,".").concat(b%2),null),domain:_,originalDomain:A,isCategorical:w,layout:h})))}return v},{})},_le=function(t,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,h=t.children,m="".concat(s,"Id"),g=Da(h,i),j={};return g&&g.length?j=Nle(t,{axes:g,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(j=Sle(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),j},Cle=function(t){var r=Ci(t),a=Os(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:CN(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:$m(r,a)}},Gk=function(t){var r=t.children,a=t.defaultShowTooltip,s=Hn(r,lc),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},Ele=function(t){return!t||!t.length?!1:t.some(function(r){var a=Ds(r&&r.type);return a&&a.indexOf("Bar")>=0})},Kk=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Tle=function(t,r){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,u=t.yAxisMap,d=u===void 0?{}:u,f=a.width,h=a.height,m=a.children,g=a.margin||{},j=Hn(m,lc),w=Hn(m,zl),b=Object.keys(d).reduce(function(_,T){var P=d[T],O=P.orientation;return!P.mirror&&!P.hide?we(we({},_),{},ut({},O,_[O]+P.width)):_},{left:g.left||0,right:g.right||0}),v=Object.keys(l).reduce(function(_,T){var P=l[T],O=P.orientation;return!P.mirror&&!P.hide?we(we({},_),{},ut({},O,xa(_,"".concat(O))+P.height)):_},{top:g.top||0,bottom:g.bottom||0}),N=we(we({},v),b),S=N.bottom;j&&(N.bottom+=j.props.height||lc.defaultProps.height),w&&r&&(N=Zee(N,s,a,r));var C=f-N.left-N.right,A=h-N.top-N.bottom;return we(we({brushBottom:S},N),{},{width:Math.max(C,0),height:Math.max(A,0)})},Ale=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Rle=function(t){var r=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,h=t.formatAxisMap,m=t.defaultProps,g=function(N,S){var C=S.graphicalItems,A=S.stackGroups,_=S.offset,T=S.updateId,P=S.dataStartIndex,O=S.dataEndIndex,I=N.barSize,B=N.layout,q=N.barGap,G=N.barCategoryGap,V=N.maxBarSize,Z=Kk(B),$=Z.numericAxisName,M=Z.cateAxisName,k=Ele(C),D=[];return C.forEach(function(W,H){var z=fg(N.data,{graphicalItems:[W],dataStartIndex:P,dataEndIndex:O}),F=W.type.defaultProps!==void 0?we(we({},W.type.defaultProps),W.props):W.props,L=F.dataKey,Y=F.maxBarSize,ee=F["".concat($,"Id")],ce=F["".concat(M,"Id")],K={},fe=d.reduce(function(Fe,at){var Lt=S["".concat(at.axisType,"Map")],Zr=F["".concat(at.axisType,"Id")];Lt&&Lt[Zr]||at.axisType==="zAxis"||$o();var Jr=Lt[Zr];return we(we({},Fe),{},ut(ut({},at.axisType,Jr),"".concat(at.axisType,"Ticks"),Os(Jr)))},K),le=fe[M],Ee=fe["".concat(M,"Ticks")],De=A&&A[ee]&&A[ee].hasStack&&fte(W,A[ee].stackGroups),re=Ds(W.type).indexOf("Bar")>=0,$e=$m(le,Ee),oe=[],Ce=k&&Xee({barSize:I,stackGroups:A,totalSize:Ale(fe,M)});if(re){var Ue,ot,bt=It(Y)?V:Y,te=(Ue=(ot=$m(le,Ee,!0))!==null&&ot!==void 0?ot:bt)!==null&&Ue!==void 0?Ue:0;oe=Qee({barGap:q,barCategoryGap:G,bandSize:te!==$e?te:$e,sizeList:Ce[ce],maxBarSize:bt}),te!==$e&&(oe=oe.map(function(Fe){return we(we({},Fe),{},{position:we(we({},Fe.position),{},{offset:Fe.position.offset-te/2})})}))}var se=W&&W.type&&W.type.getComposedData;se&&D.push({props:we(we({},se(we(we({},fe),{},{displayedData:z,props:N,dataKey:L,item:W,bandSize:$e,barPosition:oe,offset:_,stackedData:De,layout:B,dataStartIndex:P,dataEndIndex:O}))),{},ut(ut(ut({key:W.key||"item-".concat(H)},$,fe[$]),M,fe[M]),"animationId",T)),childIndex:ZH(W,N.children),item:W})}),D},j=function(N,S){var C=N.props,A=N.dataStartIndex,_=N.dataEndIndex,T=N.updateId;if(!bT({props:C}))return null;var P=C.children,O=C.layout,I=C.stackOffset,B=C.data,q=C.reverseStackOrder,G=Kk(O),V=G.numericAxisName,Z=G.cateAxisName,$=Da(P,a),M=cte(B,$,"".concat(V,"Id"),"".concat(Z,"Id"),I,q),k=d.reduce(function(F,L){var Y="".concat(L.axisType,"Map");return we(we({},F),{},ut({},Y,_le(C,we(we({},L),{},{graphicalItems:$,stackGroups:L.axisType===V&&M,dataStartIndex:A,dataEndIndex:_}))))},{}),D=Tle(we(we({},k),{},{props:C,graphicalItems:$}),S?.legendBBox);Object.keys(k).forEach(function(F){k[F]=h(C,k[F],D,F.replace("Map",""),r)});var W=k["".concat(Z,"Map")],H=Cle(W),z=g(C,we(we({},k),{},{dataStartIndex:A,dataEndIndex:_,updateId:T,graphicalItems:$,stackGroups:M,offset:D}));return we(we({formattedGraphicalItems:z,graphicalItems:$,offset:D,stackGroups:M},H),k)},w=(function(v){function N(S){var C,A,_;return lle(this,N),_=dle(this,N,[S]),ut(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ut(_,"accessibilityManager",new Koe),ut(_,"handleLegendBBoxUpdate",function(T){if(T){var P=_.state,O=P.dataStartIndex,I=P.dataEndIndex,B=P.updateId;_.setState(we({legendBBox:T},j({props:_.props,dataStartIndex:O,dataEndIndex:I,updateId:B},we(we({},_.state),{},{legendBBox:T}))))}}),ut(_,"handleReceiveSyncEvent",function(T,P,O){if(_.props.syncId===T){if(O===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(P)}}),ut(_,"handleBrushChange",function(T){var P=T.startIndex,O=T.endIndex;if(P!==_.state.dataStartIndex||O!==_.state.dataEndIndex){var I=_.state.updateId;_.setState(function(){return we({dataStartIndex:P,dataEndIndex:O},j({props:_.props,dataStartIndex:P,dataEndIndex:O,updateId:I},_.state))}),_.triggerSyncEvent({dataStartIndex:P,dataEndIndex:O})}}),ut(_,"handleMouseEnter",function(T){var P=_.getMouseInfo(T);if(P){var O=we(we({},P),{},{isTooltipActive:!0});_.setState(O),_.triggerSyncEvent(O);var I=_.props.onMouseEnter;wt(I)&&I(O,T)}}),ut(_,"triggeredAfterMouseMove",function(T){var P=_.getMouseInfo(T),O=P?we(we({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(O),_.triggerSyncEvent(O);var I=_.props.onMouseMove;wt(I)&&I(O,T)}),ut(_,"handleItemMouseEnter",function(T){_.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),ut(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),ut(_,"handleMouseMove",function(T){T.persist(),_.throttleTriggeredAfterMouseMove(T)}),ut(_,"handleMouseLeave",function(T){_.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};_.setState(P),_.triggerSyncEvent(P);var O=_.props.onMouseLeave;wt(O)&&O(P,T)}),ut(_,"handleOuterEvent",function(T){var P=QH(T),O=xa(_.props,"".concat(P));if(P&&wt(O)){var I,B;/.*touch.*/i.test(P)?B=_.getMouseInfo(T.changedTouches[0]):B=_.getMouseInfo(T),O((I=B)!==null&&I!==void 0?I:{},T)}}),ut(_,"handleClick",function(T){var P=_.getMouseInfo(T);if(P){var O=we(we({},P),{},{isTooltipActive:!0});_.setState(O),_.triggerSyncEvent(O);var I=_.props.onClick;wt(I)&&I(O,T)}}),ut(_,"handleMouseDown",function(T){var P=_.props.onMouseDown;if(wt(P)){var O=_.getMouseInfo(T);P(O,T)}}),ut(_,"handleMouseUp",function(T){var P=_.props.onMouseUp;if(wt(P)){var O=_.getMouseInfo(T);P(O,T)}}),ut(_,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),ut(_,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&_.handleMouseDown(T.changedTouches[0])}),ut(_,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&_.handleMouseUp(T.changedTouches[0])}),ut(_,"handleDoubleClick",function(T){var P=_.props.onDoubleClick;if(wt(P)){var O=_.getMouseInfo(T);P(O,T)}}),ut(_,"handleContextMenu",function(T){var P=_.props.onContextMenu;if(wt(P)){var O=_.getMouseInfo(T);P(O,T)}}),ut(_,"triggerSyncEvent",function(T){_.props.syncId!==void 0&&wj.emit(Nj,_.props.syncId,T,_.eventEmitterSymbol)}),ut(_,"applySyncEvent",function(T){var P=_.props,O=P.layout,I=P.syncMethod,B=_.state.updateId,q=T.dataStartIndex,G=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)_.setState(we({dataStartIndex:q,dataEndIndex:G},j({props:_.props,dataStartIndex:q,dataEndIndex:G,updateId:B},_.state)));else if(T.activeTooltipIndex!==void 0){var V=T.chartX,Z=T.chartY,$=T.activeTooltipIndex,M=_.state,k=M.offset,D=M.tooltipTicks;if(!k)return;if(typeof I=="function")$=I(D,T);else if(I==="value"){$=-1;for(var W=0;W<D.length;W++)if(D[W].value===T.activeLabel){$=W;break}}var H=we(we({},k),{},{x:k.left,y:k.top}),z=Math.min(V,H.x+H.width),F=Math.min(Z,H.y+H.height),L=D[$]&&D[$].value,Y=E1(_.state,_.props.data,$),ee=D[$]?{x:O==="horizontal"?D[$].coordinate:z,y:O==="horizontal"?F:D[$].coordinate}:r3;_.setState(we(we({},T),{},{activeLabel:L,activeCoordinate:ee,activePayload:Y,activeTooltipIndex:$}))}else _.setState(T)}),ut(_,"renderCursor",function(T){var P,O=_.state,I=O.isTooltipActive,B=O.activeCoordinate,q=O.activePayload,G=O.offset,V=O.activeTooltipIndex,Z=O.tooltipAxisBandSize,$=_.getTooltipEventType(),M=(P=T.props.active)!==null&&P!==void 0?P:I,k=_.props.layout,D=T.key||"_recharts-cursor";return Q.createElement(tle,{key:D,activeCoordinate:B,activePayload:q,activeTooltipIndex:V,chartName:r,element:T,isActive:M,layout:k,offset:G,tooltipAxisBandSize:Z,tooltipEventType:$})}),ut(_,"renderPolarAxis",function(T,P,O){var I=xa(T,"type.axisType"),B=xa(_.state,"".concat(I,"Map")),q=T.type.defaultProps,G=q!==void 0?we(we({},q),T.props):T.props,V=B&&B[G["".concat(I,"Id")]];return x.cloneElement(T,we(we({},V),{},{className:Ct(I,V.className),key:T.key||"".concat(P,"-").concat(O),ticks:Os(V,!0)}))}),ut(_,"renderPolarGrid",function(T){var P=T.props,O=P.radialLines,I=P.polarAngles,B=P.polarRadius,q=_.state,G=q.radiusAxisMap,V=q.angleAxisMap,Z=Ci(G),$=Ci(V),M=$.cx,k=$.cy,D=$.innerRadius,W=$.outerRadius;return x.cloneElement(T,{polarAngles:Array.isArray(I)?I:Os($,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(B)?B:Os(Z,!0).map(function(H){return H.coordinate}),cx:M,cy:k,innerRadius:D,outerRadius:W,key:T.key||"polar-grid",radialLines:O})}),ut(_,"renderLegend",function(){var T=_.state.formattedGraphicalItems,P=_.props,O=P.children,I=P.width,B=P.height,q=_.props.margin||{},G=I-(q.left||0)-(q.right||0),V=Z$({children:O,formattedGraphicalItems:T,legendWidth:G,legendContent:f});if(!V)return null;var Z=V.item,$=Wk(V,rle);return x.cloneElement(Z,we(we({},$),{},{chartWidth:I,chartHeight:B,margin:q,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),ut(_,"renderTooltip",function(){var T,P=_.props,O=P.children,I=P.accessibilityLayer,B=Hn(O,Xa);if(!B)return null;var q=_.state,G=q.isTooltipActive,V=q.activeCoordinate,Z=q.activePayload,$=q.activeLabel,M=q.offset,k=(T=B.props.active)!==null&&T!==void 0?T:G;return x.cloneElement(B,{viewBox:we(we({},M),{},{x:M.left,y:M.top}),active:k,label:$,payload:k?Z:[],coordinate:V,accessibilityLayer:I})}),ut(_,"renderBrush",function(T){var P=_.props,O=P.margin,I=P.data,B=_.state,q=B.offset,G=B.dataStartIndex,V=B.dataEndIndex,Z=B.updateId;return x.cloneElement(T,{key:T.key||"_recharts-brush",onChange:zh(_.handleBrushChange,T.props.onChange),data:I,x:Le(T.props.x)?T.props.x:q.left,y:Le(T.props.y)?T.props.y:q.top+q.height+q.brushBottom-(O.bottom||0),width:Le(T.props.width)?T.props.width:q.width,startIndex:G,endIndex:V,updateId:"brush-".concat(Z)})}),ut(_,"renderReferenceElement",function(T,P,O){if(!T)return null;var I=_,B=I.clipPathId,q=_.state,G=q.xAxisMap,V=q.yAxisMap,Z=q.offset,$=T.type.defaultProps||{},M=T.props,k=M.xAxisId,D=k===void 0?$.xAxisId:k,W=M.yAxisId,H=W===void 0?$.yAxisId:W;return x.cloneElement(T,{key:T.key||"".concat(P,"-").concat(O),xAxis:G[D],yAxis:V[H],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:B})}),ut(_,"renderActivePoints",function(T){var P=T.item,O=T.activePoint,I=T.basePoint,B=T.childIndex,q=T.isRange,G=[],V=P.props.key,Z=P.item.type.defaultProps!==void 0?we(we({},P.item.type.defaultProps),P.item.props):P.item.props,$=Z.activeDot,M=Z.dataKey,k=we(we({index:B,dataKey:M,cx:O.x,cy:O.y,r:4,fill:JN(P.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Pt($,!1)),dm($));return G.push(N.renderActiveDot($,k,"".concat(V,"-activePoint-").concat(B))),I?G.push(N.renderActiveDot($,we(we({},k),{},{cx:I.x,cy:I.y}),"".concat(V,"-basePoint-").concat(B))):q&&G.push(null),G}),ut(_,"renderGraphicChild",function(T,P,O){var I=_.filterFormatItem(T,P,O);if(!I)return null;var B=_.getTooltipEventType(),q=_.state,G=q.isTooltipActive,V=q.tooltipAxis,Z=q.activeTooltipIndex,$=q.activeLabel,M=_.props.children,k=Hn(M,Xa),D=I.props,W=D.points,H=D.isRange,z=D.baseLine,F=I.item.type.defaultProps!==void 0?we(we({},I.item.type.defaultProps),I.item.props):I.item.props,L=F.activeDot,Y=F.hide,ee=F.activeBar,ce=F.activeShape,K=!!(!Y&&G&&k&&(L||ee||ce)),fe={};B!=="axis"&&k&&k.props.trigger==="click"?fe={onClick:zh(_.handleItemMouseEnter,T.props.onClick)}:B!=="axis"&&(fe={onMouseLeave:zh(_.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:zh(_.handleItemMouseEnter,T.props.onMouseEnter)});var le=x.cloneElement(T,we(we({},I.props),fe));function Ee(at){return typeof V.dataKey=="function"?V.dataKey(at.payload):null}if(K)if(Z>=0){var De,re;if(V.dataKey&&!V.allowDuplicatedCategory){var $e=typeof V.dataKey=="function"?Ee:"payload.".concat(V.dataKey.toString());De=hw(W,$e,$),re=H&&z&&hw(z,$e,$)}else De=W?.[Z],re=H&&z&&z[Z];if(ce||ee){var oe=T.props.activeIndex!==void 0?T.props.activeIndex:Z;return[x.cloneElement(T,we(we(we({},I.props),fe),{},{activeIndex:oe})),null,null]}if(!It(De))return[le].concat(vc(_.renderActivePoints({item:I,activePoint:De,basePoint:re,childIndex:Z,isRange:H})))}else{var Ce,Ue=(Ce=_.getItemByXY(_.state.activeCoordinate))!==null&&Ce!==void 0?Ce:{graphicalItem:le},ot=Ue.graphicalItem,bt=ot.item,te=bt===void 0?T:bt,se=ot.childIndex,Fe=we(we(we({},I.props),fe),{},{activeIndex:se});return[x.cloneElement(te,Fe),null,null]}return H?[le,null,null]:[le,null]}),ut(_,"renderCustomized",function(T,P,O){return x.cloneElement(T,we(we({key:"recharts-customized-".concat(O)},_.props),_.state))}),ut(_,"renderMap",{CartesianGrid:{handler:Gh,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Gh},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Gh},YAxis:{handler:Gh},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((C=S.id)!==null&&C!==void 0?C:$p("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=Q4(_.triggeredAfterMouseMove,(A=S.throttleDelay)!==null&&A!==void 0?A:1e3/60),_.state={},_}return mle(N,v),ule(N,[{key:"componentDidMount",value:function(){var C,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,A=C.children,_=C.data,T=C.height,P=C.layout,O=Hn(A,Xa);if(O){var I=O.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,q=E1(this.state,_,I,B),G=this.state.tooltipTicks[I].coordinate,V=(this.state.offset.top+T)/2,Z=P==="horizontal",$=Z?{x:G,y:V}:{y:G,x:V},M=this.state.formattedGraphicalItems.find(function(D){var W=D.item;return W.type.name==="Scatter"});M&&($=we(we({},$),M.props.points[I].tooltipPosition),q=M.props.points[I].tooltipPayload);var k={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:B,activePayload:q,activeCoordinate:$};this.setState(k),this.renderCursor(O),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var _,T;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(C){pw([Hn(C.children,Xa)],[Hn(this.props.children,Xa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=Hn(this.props.children,Xa);if(C&&typeof C.props.shared=="boolean"){var A=C.props.shared?"axis":"item";return u.indexOf(A)>=0?A:i}return i}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var A=this.container,_=A.getBoundingClientRect(),T=FX(_),P={chartX:Math.round(C.pageX-T.left),chartY:Math.round(C.pageY-T.top)},O=_.width/A.offsetWidth||1,I=this.inRange(P.chartX,P.chartY,O);if(!I)return null;var B=this.state,q=B.xAxisMap,G=B.yAxisMap,V=this.getTooltipEventType(),Z=Hk(this.state,this.props.data,this.props.layout,I);if(V!=="axis"&&q&&G){var $=Ci(q).scale,M=Ci(G).scale,k=$&&$.invert?$.invert(P.chartX):null,D=M&&M.invert?M.invert(P.chartY):null;return we(we({},P),{},{xValue:k,yValue:D},Z)}return Z?we(we({},P),Z):null}},{key:"inRange",value:function(C,A){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,P=C/_,O=A/_;if(T==="horizontal"||T==="vertical"){var I=this.state.offset,B=P>=I.left&&P<=I.left+I.width&&O>=I.top&&O<=I.top+I.height;return B?{x:P,y:O}:null}var q=this.state,G=q.angleAxisMap,V=q.radiusAxisMap;if(G&&V){var Z=Ci(G);return lI({x:P,y:O},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,A=this.getTooltipEventType(),_=Hn(C,Xa),T={};_&&A==="axis"&&(_.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=dm(this.props,this.handleOuterEvent);return we(we({},P),T)}},{key:"addListener",value:function(){wj.on(Nj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wj.removeListener(Nj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,A,_){for(var T=this.state.formattedGraphicalItems,P=0,O=T.length;P<O;P++){var I=T[P];if(I.item===C||I.props.key===C.key||A===Ds(I.item.type)&&_===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,A=this.state.offset,_=A.left,T=A.top,P=A.height,O=A.width;return Q.createElement("defs",null,Q.createElement("clipPath",{id:C},Q.createElement("rect",{x:_,y:T,height:P,width:O})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(A,_){var T=qk(_,2),P=T[0],O=T[1];return we(we({},A),{},ut({},P,O.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(A,_){var T=qk(_,2),P=T[0],O=T[1];return we(we({},A),{},ut({},P,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[C])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(C){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[C])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(C){var A=this.state,_=A.formattedGraphicalItems,T=A.activeItem;if(_&&_.length)for(var P=0,O=_.length;P<O;P++){var I=_[P],B=I.props,q=I.item,G=q.type.defaultProps!==void 0?we(we({},q.type.defaultProps),q.props):q.props,V=Ds(q.type);if(V==="Bar"){var Z=(B.data||[]).find(function(D){return rae(C,D)});if(Z)return{graphicalItem:I,payload:Z}}else if(V==="RadialBar"){var $=(B.data||[]).find(function(D){return lI(C,D)});if($)return{graphicalItem:I,payload:$}}else if(rg(I,T)||ng(I,T)||Ld(I,T)){var M=Hae({graphicalItem:I,activeTooltipItem:T,itemData:G.data}),k=G.activeIndex===void 0?M:G.activeIndex;return{graphicalItem:we(we({},I),{},{childIndex:k}),payload:Ld(I,T)?G.data[M]:I.props.data[M]}}}return null}},{key:"render",value:function(){var C=this;if(!bT(this))return null;var A=this.props,_=A.children,T=A.className,P=A.width,O=A.height,I=A.style,B=A.compact,q=A.title,G=A.desc,V=Wk(A,nle),Z=Pt(V,!1);if(B)return Q.createElement(Ek,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement(vw,Dl({},Z,{width:P,height:O,title:q,desc:G}),this.renderClipPath(),wT(_,this.renderMap)));if(this.props.accessibilityLayer){var $,M;Z.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,Z.role=(M=this.props.role)!==null&&M!==void 0?M:"application",Z.onKeyDown=function(D){C.accessibilityManager.keyboardEvent(D)},Z.onFocus=function(){C.accessibilityManager.focus()}}var k=this.parseEventsOfWrapper();return Q.createElement(Ek,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement("div",Dl({className:Ct("recharts-wrapper",T),style:we({position:"relative",cursor:"default",width:P,height:O},I)},k,{ref:function(W){C.container=W}}),Q.createElement(vw,Dl({},Z,{width:P,height:O,title:q,desc:G,style:ble}),this.renderClipPath(),wT(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(x.Component);ut(w,"displayName",r),ut(w,"defaultProps",we({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),ut(w,"getDerivedStateFromProps",function(v,N){var S=v.dataKey,C=v.data,A=v.children,_=v.width,T=v.height,P=v.layout,O=v.stackOffset,I=v.margin,B=N.dataStartIndex,q=N.dataEndIndex;if(N.updateId===void 0){var G=Gk(v);return we(we(we({},G),{},{updateId:0},j(we(we({props:v},G),{},{updateId:0}),N)),{},{prevDataKey:S,prevData:C,prevWidth:_,prevHeight:T,prevLayout:P,prevStackOffset:O,prevMargin:I,prevChildren:A})}if(S!==N.prevDataKey||C!==N.prevData||_!==N.prevWidth||T!==N.prevHeight||P!==N.prevLayout||O!==N.prevStackOffset||!Bl(I,N.prevMargin)){var V=Gk(v),Z={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},$=we(we({},Hk(N,C,P)),{},{updateId:N.updateId+1}),M=we(we(we({},V),Z),$);return we(we(we({},M),j(we({props:v},M),N)),{},{prevDataKey:S,prevData:C,prevWidth:_,prevHeight:T,prevLayout:P,prevStackOffset:O,prevMargin:I,prevChildren:A})}if(!pw(A,N.prevChildren)){var k,D,W,H,z=Hn(A,lc),F=z&&(k=(D=z.props)===null||D===void 0?void 0:D.startIndex)!==null&&k!==void 0?k:B,L=z&&(W=(H=z.props)===null||H===void 0?void 0:H.endIndex)!==null&&W!==void 0?W:q,Y=F!==B||L!==q,ee=!It(C),ce=ee&&!Y?N.updateId:N.updateId+1;return we(we({updateId:ce},j(we(we({props:v},N),{},{updateId:ce,dataStartIndex:F,dataEndIndex:L}),N)),{},{prevChildren:A,dataStartIndex:F,dataEndIndex:L})}return null}),ut(w,"renderActiveDot",function(v,N,S){var C;return x.isValidElement(v)?C=x.cloneElement(v,N):wt(v)?C=v(N):C=Q.createElement(pL,N),Q.createElement($r,{className:"recharts-active-dot",key:S},C)});var b=x.forwardRef(function(N,S){return Q.createElement(w,Dl({},N,{ref:S}))});return b.displayName=w.displayName,b},Ple=Rle({chartName:"BarChart",GraphicalChild:Li,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ug},{axisType:"yAxis",AxisComp:dg}],formatAxisMap:zse});function Et(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Jn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function or(e,t){const r=Et(e);return isNaN(t)?Jn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function jn(e,t){const r=Et(e);if(isNaN(t))return Jn(e,NaN);if(!t)return r;const a=r.getDate(),s=Jn(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return a>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}const cS=6048e5,Ile=864e5,a3=6e4,s3=36e5;let kle={};function ff(){return kle}function ea(e,t){const r=ff(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Et(e),i=s.getDay(),l=(i<a?7:0)+i-a;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Fo(e){return ea(e,{weekStartsOn:1})}function i3(e){const t=Et(e),r=t.getFullYear(),a=Jn(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Fo(a),i=Jn(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const l=Fo(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function xc(e){const t=Et(e);return t.setHours(0,0,0,0),t}function sp(e){const t=Et(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ns(e,t){const r=xc(e),a=xc(t),s=+r-sp(r),i=+a-sp(a);return Math.round((s-i)/Ile)}function Ole(e){const t=i3(e),r=Jn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Fo(r)}function T1(e,t){const r=t*7;return or(e,r)}function Dle(e,t){return jn(e,t*12)}function Mle(e){let t;return e.forEach(function(r){const a=Et(r);(t===void 0||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function $le(e){let t;return e.forEach(r=>{const a=Et(r);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}function Xr(e,t){const r=xc(e),a=xc(t);return+r==+a}function uS(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Lle(e){if(!uS(e)&&typeof e!="number")return!1;const t=Et(e);return!isNaN(Number(t))}function Vd(e,t){const r=Et(e),a=Et(t),s=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return s*12+i}function Fle(e,t,r){const a=ea(e,r),s=ea(t,r),i=+a-sp(a),l=+s-sp(s);return Math.round((i-l)/cS)}function dS(e){const t=Et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Qr(e){const t=Et(e);return t.setDate(1),t.setHours(0,0,0,0),t}function o3(e){const t=Et(e),r=Jn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function fS(e,t){const r=ff(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Et(e),i=s.getDay(),l=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function l3(e){return fS(e,{weekStartsOn:1})}const Ule={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ble=(e,t,r)=>{let a;const s=Ule[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Vl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const zle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vle={date:Vl({formats:zle,defaultWidth:"full"}),time:Vl({formats:qle,defaultWidth:"full"}),dateTime:Vl({formats:Wle,defaultWidth:"full"})},Hle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gle=(e,t,r,a)=>Hle[e];function Ja(e){return(t,r)=>{const a=r?.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):l;s=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;s=e.values[u]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Kle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ece=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tce={ordinalNumber:ece,era:Ja({values:Kle,defaultWidth:"wide"}),quarter:Ja({values:Yle,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ja({values:Xle,defaultWidth:"wide"}),day:Ja({values:Qle,defaultWidth:"wide"}),dayPeriod:Ja({values:Zle,defaultWidth:"wide",formattingValues:Jle,defaultFormattingWidth:"wide"})};function es(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const l=i[0],u=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?nce(u,m=>m.test(l)):rce(u,m=>m.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const h=t.slice(l.length);return{value:f,rest:h}}}function rce(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function nce(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function c3(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const u=t.slice(s.length);return{value:l,rest:u}}}const ace=/^(\d+)(th|st|nd|rd)?/i,sce=/\d+/i,ice={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oce={any:[/^b/i,/^(a|c)/i]},lce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cce={any:[/1/i,/2/i,/3/i,/4/i]},uce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gce={ordinalNumber:c3({matchPattern:ace,parsePattern:sce,valueCallback:e=>parseInt(e,10)}),era:es({matchPatterns:ice,defaultMatchWidth:"wide",parsePatterns:oce,defaultParseWidth:"any"}),quarter:es({matchPatterns:lce,defaultMatchWidth:"wide",parsePatterns:cce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:es({matchPatterns:uce,defaultMatchWidth:"wide",parsePatterns:dce,defaultParseWidth:"any"}),day:es({matchPatterns:fce,defaultMatchWidth:"wide",parsePatterns:hce,defaultParseWidth:"any"}),dayPeriod:es({matchPatterns:mce,defaultMatchWidth:"any",parsePatterns:pce,defaultParseWidth:"any"})},u3={code:"en-US",formatDistance:Ble,formatLong:Vle,formatRelative:Gle,localize:tce,match:gce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vce(e){const t=Et(e);return ns(t,o3(t))+1}function d3(e){const t=Et(e),r=+Fo(t)-+Ole(t);return Math.round(r/cS)+1}function f3(e,t){const r=Et(e),a=r.getFullYear(),s=ff(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=Jn(e,0);l.setFullYear(a+1,0,i),l.setHours(0,0,0,0);const u=ea(l,t),d=Jn(e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const f=ea(d,t);return r.getTime()>=u.getTime()?a+1:r.getTime()>=f.getTime()?a:a-1}function xce(e,t){const r=ff(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=f3(e,t),i=Jn(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),ea(i,t)}function h3(e,t){const r=Et(e),a=+ea(r,t)-+xce(r,t);return Math.round(a/cS)+1}function Mt(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const yi={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Mt(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mt(r+1,2)},d(e,t){return Mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mt(e.getHours()%12||12,t.length)},H(e,t){return Mt(e.getHours(),t.length)},m(e,t){return Mt(e.getMinutes(),t.length)},s(e,t){return Mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return Mt(s,t.length)}},El={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yk={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return yi.y(e,t)},Y:function(e,t,r,a){const s=f3(e,a),i=s>0?s:1-s;if(t==="YY"){const l=i%100;return Mt(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mt(i,t.length)},R:function(e,t){const r=i3(e);return Mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mt(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Mt(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Mt(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return yi.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Mt(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const s=h3(e,a);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Mt(s,t.length)},I:function(e,t,r){const a=d3(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Mt(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):yi.d(e,t)},D:function(e,t,r){const a=vce(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Mt(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Mt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Mt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),s=a===0?7:a;switch(t){case"i":return String(s);case"ii":return Mt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let s;switch(a===12?s=El.noon:a===0?s=El.midnight:s=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let s;switch(a>=17?s=El.evening:a>=12?s=El.afternoon:a>=4?s=El.morning:s=El.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return yi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):yi.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Mt(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Mt(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):yi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):yi.s(e,t)},S:function(e,t){return yi.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Qk(a);case"XXXX":case"XX":return xo(a);case"XXXXX":case"XXX":default:return xo(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return Qk(a);case"xxxx":case"xx":return xo(a);case"xxxxx":case"xxx":default:return xo(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Xk(a,":");case"OOOO":default:return"GMT"+xo(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Xk(a,":");case"zzzz":default:return"GMT"+xo(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return Mt(a,t.length)},T:function(e,t,r){const a=e.getTime();return Mt(a,t.length)}};function Xk(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?r+String(s):r+String(s)+t+Mt(i,2)}function Qk(e,t){return e%60===0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):xo(e,t)}function xo(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Mt(Math.trunc(a/60),2),i=Mt(a%60,2);return r+s+t+i}const Zk=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},m3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},yce=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return Zk(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Zk(a,t)).replace("{{time}}",m3(s,t))},bce={p:m3,P:yce},jce=/^D+$/,wce=/^Y+$/,Nce=["D","DD","YY","YYYY"];function Sce(e){return jce.test(e)}function _ce(e){return wce.test(e)}function Cce(e,t,r){const a=Ece(e,t,r);if(console.warn(a),Nce.includes(e))throw new RangeError(a)}function Ece(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Tce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ace=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rce=/^'([^]*?)'?$/,Pce=/''/g,Ice=/[a-zA-Z]/;function mt(e,t,r){const a=ff(),s=r?.locale??a.locale??u3,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=Et(e);if(!Lle(u))throw new RangeError("Invalid time value");let d=t.match(Ace).map(h=>{const m=h[0];if(m==="p"||m==="P"){const g=bce[m];return g(h,s.formatLong)}return h}).join("").match(Tce).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const m=h[0];if(m==="'")return{isToken:!1,value:kce(h)};if(Yk[m])return{isToken:!0,value:h};if(m.match(Ice))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:h}});s.localize.preprocessor&&(d=s.localize.preprocessor(u,d));const f={firstWeekContainsDate:i,weekStartsOn:l,locale:s};return d.map(h=>{if(!h.isToken)return h.value;const m=h.value;(!r?.useAdditionalWeekYearTokens&&_ce(m)||!r?.useAdditionalDayOfYearTokens&&Sce(m))&&Cce(m,t,String(e));const g=Yk[m[0]];return g(u,m,s.localize,f)}).join("")}function kce(e){const t=e.match(Rce);return t?t[1].replace(Pce,"'"):e}function Oce(e){const t=Et(e),r=t.getFullYear(),a=t.getMonth(),s=Jn(e,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Dce(e){return Math.trunc(+Et(e)/1e3)}function Mce(e){const t=Et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function $ce(e,t){return Fle(Mce(e),Qr(e),t)+1}function Ts(e,t){const r=Et(e),a=Et(t);return r.getTime()>a.getTime()}function p3(e,t){const r=Et(e),a=Et(t);return+r<+a}function Jk(e,t,r){const a=ea(e,r),s=ea(t,r);return+a==+s}function hS(e,t){const r=Et(e),a=Et(t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function Lce(e,t){const r=Et(e),a=Et(t);return r.getFullYear()===a.getFullYear()}function _j(e,t){return or(e,-t)}function Wn(e,t){const a=zce(e);let s;if(a.date){const d=qce(a.date,2);s=Wce(d.restDateString,d.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let l=0,u;if(a.time&&(l=Vce(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(u=Hce(a.timezone),isNaN(u))return new Date(NaN)}else{const d=new Date(i+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(i+l+u)}const Kh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Fce=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Uce=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zce(e){const t={},r=e.split(Kh.dateTimeDelimiter);let a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],Kh.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Kh.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const s=Kh.timezone.exec(a);s?(t.time=a.replace(s[1],""),t.timezone=s[1]):t.time=a}return t}function qce(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function Wce(e,t){if(t===null)return new Date(NaN);const r=e.match(Fce);if(!r)return new Date(NaN);const a=!!r[4],s=ku(r[1]),i=ku(r[2])-1,l=ku(r[3]),u=ku(r[4]),d=ku(r[5])-1;if(a)return Qce(t,u,d)?Gce(t,u,d):new Date(NaN);{const f=new Date(0);return!Yce(t,i,l)||!Xce(t,s)?new Date(NaN):(f.setUTCFullYear(t,i,Math.max(s,l)),f)}}function ku(e){return e?parseInt(e):1}function Vce(e){const t=e.match(Uce);if(!t)return NaN;const r=Cj(t[1]),a=Cj(t[2]),s=Cj(t[3]);return Zce(r,a,s)?r*s3+a*a3+s*1e3:NaN}function Cj(e){return e&&parseFloat(e.replace(",","."))||0}function Hce(e){if(e==="Z")return 0;const t=e.match(Bce);if(!t)return 0;const r=t[1]==="+"?-1:1,a=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Jce(a,s)?r*(a*s3+s*a3):NaN}function Gce(e,t,r){const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,i=(t-1)*7+r+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const Kce=[31,null,31,30,31,30,31,31,30,31,30,31];function g3(e){return e%400===0||e%4===0&&e%100!==0}function Yce(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Kce[t]||(g3(e)?29:28))}function Xce(e,t){return t>=1&&t<=(g3(e)?366:365)}function Qce(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Zce(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Jce(e,t){return t>=0&&t<=59}function Ej(e,t){const r=Et(e),a=r.getFullYear(),s=r.getDate(),i=Jn(e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);const l=Oce(i);return r.setMonth(t,Math.min(s,l)),r}function eO(e,t){const r=Et(e);return isNaN(+r)?Jn(e,NaN):(r.setFullYear(t),r)}function Ou(e,t){if(e.one!==void 0&&t===1)return e.one;const r=t%10,a=t%100;return r===1&&a!==11?e.singularNominative.replace("{{count}}",String(t)):r>=2&&r<=4&&(a<10||a>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function mn(e){return(t,r)=>r?.addSuffix?r.comparison&&r.comparison>0?e.future?Ou(e.future,t):"через "+Ou(e.regular,t):e.past?Ou(e.past,t):Ou(e.regular,t)+" назад":Ou(e.regular,t)}const eue={lessThanXSeconds:mn({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:mn({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(e,t)=>t?.addSuffix?t.comparison&&t.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:mn({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:mn({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:mn({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:mn({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:mn({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:mn({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:mn({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:mn({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:mn({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:mn({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:mn({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:mn({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:mn({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},tue=(e,t,r)=>eue[e](t,r),rue={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},nue={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},aue={any:"{{date}}, {{time}}"},sue={date:Vl({formats:rue,defaultWidth:"full"}),time:Vl({formats:nue,defaultWidth:"full"}),dateTime:Vl({formats:aue,defaultWidth:"any"})},mS=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function iue(e){const t=mS[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function tO(e){const t=mS[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function oue(e){const t=mS[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}const lue={lastWeek:(e,t,r)=>{const a=e.getDay();return Jk(e,t,r)?tO(a):iue(a)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(e,t,r)=>{const a=e.getDay();return Jk(e,t,r)?tO(a):oue(a)},other:"P"},cue=(e,t,r,a)=>{const s=lue[e];return typeof s=="function"?s(t,r,a):s},uue={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},due={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},fue={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},hue={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},mue={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},pue={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},gue={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},vue=(e,t)=>{const r=Number(e),a=t?.unit;let s;return a==="date"?s="-е":a==="week"||a==="minute"||a==="second"?s="-я":s="-й",r+s},xue={ordinalNumber:vue,era:Ja({values:uue,defaultWidth:"wide"}),quarter:Ja({values:due,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ja({values:fue,defaultWidth:"wide",formattingValues:hue,defaultFormattingWidth:"wide"}),day:Ja({values:mue,defaultWidth:"wide"}),dayPeriod:Ja({values:pue,defaultWidth:"any",formattingValues:gue,defaultFormattingWidth:"wide"})},yue=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,bue=/\d+/i,jue={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},wue={any:[/^д/i,/^н/i]},Nue={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},Sue={any:[/1/i,/2/i,/3/i,/4/i]},_ue={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},Cue={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},Eue={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},Tue={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},Aue={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},Rue={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},Pue={ordinalNumber:c3({matchPattern:yue,parsePattern:bue,valueCallback:e=>parseInt(e,10)}),era:es({matchPatterns:jue,defaultMatchWidth:"wide",parsePatterns:wue,defaultParseWidth:"any"}),quarter:es({matchPatterns:Nue,defaultMatchWidth:"wide",parsePatterns:Sue,defaultParseWidth:"any",valueCallback:e=>e+1}),month:es({matchPatterns:_ue,defaultMatchWidth:"wide",parsePatterns:Cue,defaultParseWidth:"any"}),day:es({matchPatterns:Eue,defaultMatchWidth:"wide",parsePatterns:Tue,defaultParseWidth:"any"}),dayPeriod:es({matchPatterns:Aue,defaultMatchWidth:"wide",parsePatterns:Rue,defaultParseWidth:"any"})},St={code:"ru",formatDistance:tue,formatLong:sue,formatRelative:cue,localize:xue,match:Pue,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Iue({className:e,paymentRequests:t=[]}){const[r,a]=x.useState("week_days"),s=new Date,i=[{value:"week_days",label:"Неделя по дням"},{value:"month_days",label:"Месяц по дням"},{value:"quarter_decades",label:"Квартал по декадам"},{value:"halfyear_months",label:"Полгода по месяцам"}],l=x.useMemo(()=>t.filter(h=>["approved","to-pay"].includes(h.status)),[t]),u=x.useMemo(()=>{const h=[];switch(r){case"week_days":{const m=ea(s,{weekStartsOn:1});for(let g=0;g<7;g++){const j=or(m,g),w=mt(j,"yyyy-MM-dd"),b=l.filter(N=>Xr(Wn(N.dueDate),j)),v=b.filter(N=>Ts(s,Wn(N.dueDate)));h.push({date:w,label:mt(j,"EEE d",{locale:St}),amount:b.reduce((N,S)=>N+S.amount,0),overdue:v.reduce((N,S)=>N+S.amount,0),count:b.length,overdueCount:v.length})}break}case"month_days":{const m=Qr(s),g=new Date(s.getFullYear(),s.getMonth()+1,0).getDate();for(let j=0;j<g;j++){const w=or(m,j),b=mt(w,"yyyy-MM-dd"),v=l.filter(S=>Xr(Wn(S.dueDate),w)),N=v.filter(S=>Ts(s,Wn(S.dueDate)));h.push({date:b,label:mt(w,"d",{locale:St}),amount:v.reduce((S,C)=>S+C.amount,0),overdue:N.reduce((S,C)=>S+C.amount,0),count:v.length,overdueCount:N.length})}break}case"quarter_decades":{const m=Qr(s);for(let g=0;g<9;g++){const j=Math.floor(g/3),w=g%3,b=jn(m,j);let v,N,S;w===0?(v=b,N=or(b,9),S=`${mt(b,"MMM",{locale:St})} 1-10`):w===1?(v=or(b,10),N=or(b,19),S=`${mt(b,"MMM",{locale:St})} 11-20`):(v=or(b,20),N=or(jn(b,1),-1),S=`${mt(b,"MMM",{locale:St})} 21-${mt(N,"d")}`);const C=l.filter(_=>{const T=Wn(_.dueDate);return T>=v&&T<=N}),A=C.filter(_=>Ts(s,Wn(_.dueDate)));h.push({date:mt(v,"yyyy-MM-dd"),label:S,amount:C.reduce((_,T)=>_+T.amount,0),overdue:A.reduce((_,T)=>_+T.amount,0),count:C.length,overdueCount:A.length})}break}case"halfyear_months":{const m=Qr(s);for(let g=0;g<6;g++){const j=jn(m,g),w=jn(j,1),b=l.filter(N=>{const S=Wn(N.dueDate);return S>=j&&S<w}),v=b.filter(N=>Ts(s,Wn(N.dueDate)));h.push({date:mt(j,"yyyy-MM-dd"),label:mt(j,"MMM yyyy",{locale:St}),amount:b.reduce((N,S)=>N+S.amount,0),overdue:v.reduce((N,S)=>N+S.amount,0),count:b.length,overdueCount:v.length})}break}}return h},[r,l,s]),d=x.useMemo(()=>{const h=l.filter(g=>Xr(Wn(g.dueDate),s)),m=l.filter(g=>Ts(s,Wn(g.dueDate)));return{todayAmount:h.reduce((g,j)=>g+j.amount,0),todayCount:h.length,overdueAmount:m.reduce((g,j)=>g+j.amount,0),overdueCount:m.length,totalAmount:l.reduce((g,j)=>g+j.amount,0),totalCount:l.length}},[l,s]),f=h=>h>=1e6?`${(h/1e6).toFixed(1)}M`:h>=1e3?`${(h/1e3).toFixed(0)}K`:h.toString();return n.jsxs("div",{className:`space-y-6 ${e}`,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"К оплате сегодня"}),n.jsx(vr,{className:"h-4 w-4 text-blue-500"})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.todayAmount.toLocaleString()," ₸"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.todayCount," заявок"]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Просрочено"}),n.jsx(Rt,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[d.overdueAmount.toLocaleString()," ₸"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.overdueCount," заявок"]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Всего к оплате"}),n.jsx(D1,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.totalAmount.toLocaleString()," ₸"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.totalCount," заявок"]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Готовность"}),n.jsx(Jt,{className:"h-4 w-4 text-orange-500"})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.totalCount>0?Math.round(d.todayCount/d.totalCount*100):0,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"На сегодня"})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{children:"График платежей"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Суммы платежей по срокам выполнения"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(et,{value:r,onValueChange:h=>a(h),children:[n.jsx(rt,{className:"w-48",children:n.jsx(tt,{})}),n.jsx(nt,{children:i.map(h=>n.jsx(xe,{value:h.value,children:h.label},h.value))})]})})]})}),n.jsxs(pe,{children:[n.jsx("div",{className:"h-80",children:n.jsx(IX,{width:"100%",height:"100%",children:n.jsxs(Ple,{data:u,margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(WL,{strokeDasharray:"3 3"}),n.jsx(ug,{dataKey:"label",fontSize:12,angle:r==="month_days"?-45:0,textAnchor:r==="month_days"?"end":"middle",height:r==="month_days"?60:40}),n.jsx(dg,{fontSize:12,tickFormatter:f}),n.jsx(Xa,{formatter:(h,m)=>[`${h.toLocaleString()} ₸`,m==="amount"?"Сумма":"Просрочено"],labelFormatter:h=>`Период: ${h}`}),n.jsx(sg,{x:mt(s,r.includes("days")?"d":"MMM",{locale:St}),stroke:"#ef4444",strokeDasharray:"2 2",label:"Сегодня"}),n.jsx(Li,{dataKey:"amount",fill:"hsl(var(--chart-1))",name:"amount",radius:[2,2,0,0]}),n.jsx(Li,{dataKey:"overdue",fill:"#ef4444",name:"overdue",radius:[2,2,0,0]})]})})}),n.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"hsl(var(--chart-1))"}}),n.jsx("span",{className:"text-sm",children:"Запланировано"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),n.jsx("span",{className:"text-sm",children:"Просрочено"})]})]})]})]}),d.overdueCount>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Rt,{className:"h-5 w-5 text-red-500"}),"Просроченные платежи (",d.overdueCount,")"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-2",children:[l.filter(h=>Ts(s,Wn(h.dueDate))).slice(0,5).map(h=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:h.docNumber}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Просрочено на ",Math.ceil((s.getTime()-Wn(h.dueDate).getTime())/(1e3*60*60*24))," дн."]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium text-red-600",children:[h.amount.toLocaleString()," ₸"]}),n.jsx(je,{variant:"destructive",className:"text-xs",children:mt(Wn(h.dueDate),"d MMM",{locale:St})})]})]},h.id)),d.overdueCount>5&&n.jsx("div",{className:"text-center py-2",children:n.jsxs(X,{variant:"outline",size:"sm",children:["Показать еще ",d.overdueCount-5," просроченных"]})})]})})]})]})}function kue({paymentRequests:e,onFilterChange:t,currentFilter:r,onViewRequest:a}){const[s,i]=x.useState(null),l=e.filter(_=>["approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(_.status)),u=e.filter(_=>_.status==="approved"),d=new Date(Date.now()-300*60*1e3),f=u.filter(_=>new Date(_.createdAt)<d),h=e.filter(_=>_.status==="in-register"),m=e.filter(_=>_.status==="approved-for-payment"),g=u.reduce((_,T)=>{const P=T.currency||"KZT";return _[P]||(_[P]={count:0,amount:0}),_[P].count+=1,_[P].amount+=T.amount,_},{}),j=l.reduce((_,T)=>{const P=T.status;return _[P]||(_[P]=0),_[P]+=1,_},{}),w=(_,T)=>{const P={KZT:"₸",USD:"$",EUR:"€",RUB:"₽",CNY:"¥"};return`${_.toLocaleString()} ${P[T]||T}`},b=_=>({approved:"Новые","in-register":"В реестре","approved-for-payment":"К оплате","paid-full":"Оплачено","paid-partial":"Частично оплачено",declined:"Отклонено",returned:"Возвращено"})[_]||_,v=_=>({approved:"bg-orange-100 text-orange-700","in-register":"bg-blue-100 text-blue-700","approved-for-payment":"bg-purple-100 text-purple-700","paid-full":"bg-green-100 text-green-700","paid-partial":"bg-yellow-100 text-yellow-700",declined:"bg-red-100 text-red-700",returned:"bg-gray-100 text-gray-700"})[_]||"bg-gray-100 text-gray-700",N=_=>{t&&t(r===_?null:_)},S=f.length,C=m.length,A=u.length+h.length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(me,{className:"border-l-4 border-l-orange-500",children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Gl,{className:"h-5 w-5 text-orange-500"}),"Требует внимания"]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md ${S>0?"border-red-200 bg-red-50":"border-green-200 bg-green-50"} ${r==="overdue"?"ring-2 ring-primary":""}`,onClick:()=>N("overdue"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rt,{className:`h-4 w-4 ${S>0?"text-red-500":"text-green-500"}`}),n.jsx("span",{className:"font-medium",children:"Просрочено"})]}),n.jsx(je,{variant:S>0?"destructive":"default",children:S})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S>0?"Свыше 5 часов без обработки":"Все в порядке"})]}),n.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md ${C>0?"border-purple-200 bg-purple-50":"border-gray-200 bg-gray-50"}`,onClick:()=>N("approved-for-payment"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(MO,{className:"h-4 w-4 text-purple-500"}),n.jsx("span",{className:"font-medium",children:"Готово к оплате"})]}),n.jsx(je,{variant:C>0?"secondary":"outline",children:C})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Утверждено и ожидает оплаты"})]}),n.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md ${A>0?"border-blue-200 bg-blue-50":"border-gray-200 bg-gray-50"} ${r==="newRequests"?"ring-2 ring-primary":""}`,onClick:()=>N("newRequests"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jt,{className:"h-4 w-4 text-blue-500"}),n.jsx("span",{className:"font-medium",children:"В работе"})]}),n.jsx(je,{variant:A>0?"secondary":"outline",children:A})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Требует рассмотрения казначеем"})]})]}),n.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[n.jsxs(X,{size:"sm",onClick:()=>N("newRequests"),disabled:u.length===0,children:[n.jsx(Oi,{className:"h-4 w-4 mr-1"}),"Обработать новые (",u.length,")"]}),n.jsxs(X,{size:"sm",variant:"outline",onClick:()=>i(s==="register"?null:"register"),children:[n.jsx(yt,{className:"h-4 w-4 mr-1"}),"Создать реестр"]})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(O6,{className:"h-5 w-5 text-blue-500"}),"Обзор ликвидности"]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>i(s==="currencies"?null:"currencies"),children:[s==="currencies"?"Свернуть":"Развернуть",n.jsx(Bj,{className:`h-4 w-4 ml-1 transition-transform ${s==="currencies"?"rotate-90":""}`})]})]})}),n.jsx(pe,{children:s==="currencies"?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:["KZT","USD","EUR","RUB","CNY"].map(_=>{const T=g[_]||{count:0,amount:0};return n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium",children:_}),n.jsx(je,{variant:"outline",children:T.count})]}),n.jsx("div",{className:"text-lg font-semibold mb-1",children:w(T.amount,_)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"К обработке"})]},_)})}):n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Object.entries(g).slice(0,3).map(([_,T])=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:_}),n.jsx("div",{className:"font-semibold",children:w(T.amount,_)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[T.count," заявок"]})]},_)),Object.keys(g).length>3&&n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Еще"}),n.jsxs("div",{className:"font-semibold",children:["+",Object.keys(g).length-3]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"валют"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ll,{className:"h-5 w-5 text-green-500"}),"Статус workflow"]})}),n.jsxs(pe,{children:[n.jsx("div",{className:"space-y-3",children:Object.entries(j).map(([_,T])=>{const P=l.length>0?T/l.length*100:0;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(je,{className:v(_),variant:"secondary",children:b(_)}),n.jsx("span",{className:"text-sm",children:T})]}),n.jsx("div",{className:"w-24",children:n.jsx(nN,{value:P,className:"h-2"})})]},_)})}),n.jsx("div",{className:"mt-4 pt-4 border-t",children:n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Всего заявок"}),n.jsx("span",{className:"font-medium",children:l.length})]})})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-5 w-5 text-purple-500"}),"График платежей"]})}),n.jsx(pe,{children:n.jsx(Iue,{})})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(D1,{className:"h-5 w-5 text-emerald-500"}),"Показатели эффективности"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round((j["paid-full"]||0)/Math.max(l.length,1)*100),"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Успешно оплачено"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(((j["paid-full"]||0)+(j["paid-partial"]||0))/Math.max(l.length,1)*100),"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Общая оплата"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:f.length>0?"⚠️":"✅"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"SLA соблюдение"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:h.length+m.length}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Готово к оплате"})]})]})})]})]})}function lr(e){const{isAdmin:t,user:r}=Ui(),[a,s]=x.useState({currentDictionary:e,selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}),[i,l]=x.useState([]),[u,d]=x.useState(null),f=Ps.getInstance(),h=x.useMemo(()=>f.getHandler(e),[f,e]),m=x.useCallback(async()=>{s(M=>({...M,isLoading:!0,error:null}));try{const M=await h.getItems();l(M),s(k=>({...k,pagination:{...k.pagination,total:M.length,totalPages:Math.ceil(M.length/k.pagination.pageSize)}}))}catch(M){s(k=>({...k,error:M instanceof Error?M.message:"Failed to load items"}))}finally{s(M=>({...M,isLoading:!1}))}},[h]),g=x.useCallback(async()=>{try{const M=await h.getStatistics();d(M)}catch(M){console.error("Failed to load statistics:",M)}},[h]),j=x.useCallback(async M=>{s(k=>({...k,searchQuery:M,isLoading:!0}));try{const k=await h.searchItems(M);l(k)}catch(k){s(D=>({...D,error:k instanceof Error?k.message:"Search failed"}))}finally{s(k=>({...k,isLoading:!1}))}},[h]),w=x.useCallback(async M=>{s(k=>({...k,filters:M,isLoading:!0}));try{const k=await h.getItemsByFilter(M);l(k)}catch(k){s(D=>({...D,error:k instanceof Error?k.message:"Filter failed"}))}finally{s(k=>({...k,isLoading:!1}))}},[h]),b=x.useCallback(async M=>{s(k=>({...k,isLoading:!0,error:null}));try{const k=await h.createItem(M);return l(D=>[...D,k]),s(D=>({...D,editingItem:null})),k}catch(k){const D=k instanceof Error?k.message:"Failed to create item";throw s(W=>({...W,error:D})),k}finally{s(k=>({...k,isLoading:!1}))}},[h]),v=x.useCallback(async(M,k)=>{s(D=>({...D,isLoading:!0,error:null}));try{const D=await h.updateItem(M,k);return l(W=>W.map(H=>H.id===M?D:H)),s(W=>({...W,editingItem:null})),D}catch(D){const W=D instanceof Error?D.message:"Failed to update item";throw s(H=>({...H,error:W})),D}finally{s(D=>({...D,isLoading:!1}))}},[h]),N=x.useCallback(async M=>{s(k=>({...k,isLoading:!0,error:null}));try{const k=await h.deleteItem(M);return k&&(l(D=>D.filter(W=>W.id!==M)),s(D=>({...D,selectedItems:D.selectedItems.filter(W=>W!==M)}))),k}catch(k){const D=k instanceof Error?k.message:"Failed to delete item";return s(W=>({...W,error:D})),!1}finally{s(k=>({...k,isLoading:!1}))}},[h]),S=x.useCallback(async M=>{s(k=>({...k,isLoading:!0,error:null}));try{const k=await h.bulkCreate(M);return l(D=>[...D,...k]),k}catch(k){const D=k instanceof Error?k.message:"Failed to create items";throw s(W=>({...W,error:D})),k}finally{s(k=>({...k,isLoading:!1}))}},[h]),C=x.useCallback(async M=>{s(k=>({...k,isLoading:!0,error:null}));try{const k=await h.bulkUpdate(M);return l(D=>{const W=new Map(k.map(H=>[H.id,H]));return D.map(H=>W.get(H.id)||H)}),s(D=>({...D,selectedItems:[]})),k}catch(k){const D=k instanceof Error?k.message:"Failed to update items";throw s(W=>({...W,error:D})),k}finally{s(k=>({...k,isLoading:!1}))}},[h]),A=x.useCallback(async M=>{s(k=>({...k,isLoading:!0,error:null}));try{const k=await h.bulkDelete(M);return k&&(l(D=>D.filter(W=>!M.includes(W.id))),s(D=>({...D,selectedItems:[]}))),k}catch(k){const D=k instanceof Error?k.message:"Failed to delete items";return s(W=>({...W,error:D})),!1}finally{s(k=>({...k,isLoading:!1}))}},[h]),_=x.useCallback(async M=>{try{return await h.exportItems(M)}catch(k){const D=k instanceof Error?k.message:"Failed to export items";throw s(W=>({...W,error:D})),k}},[h]),T=x.useCallback(async M=>{s(k=>({...k,isLoading:!0,error:null}));try{const k=await h.importItems(M);return k.success.length>0&&l(D=>[...D,...k.success]),k}catch(k){const D=k instanceof Error?k.message:"Failed to import items";throw s(W=>({...W,error:D})),k}finally{s(k=>({...k,isLoading:!1}))}},[h]),P=x.useCallback(M=>h.validateItem(M),[h]),O=x.useCallback(M=>{s(k=>({...k,selectedItems:k.selectedItems.includes(M)?k.selectedItems.filter(D=>D!==M):[...k.selectedItems,M]}))},[]),I=x.useCallback(()=>{s(M=>({...M,selectedItems:i.map(k=>k.id)}))},[i]),B=x.useCallback(()=>{s(M=>({...M,selectedItems:[]}))},[]),q=x.useCallback(M=>{s(k=>({...k,editingItem:M}))},[]),G=x.useCallback(M=>{s(k=>({...k,bulkActionMode:M,selectedItems:M?k.selectedItems:[]}))},[]),V=x.useCallback(M=>{s(k=>({...k,pagination:{...k.pagination,...M}}))},[]),Z=x.useCallback(()=>{s(M=>({...M,error:null}))},[]),$=x.useCallback(async()=>{const M=[m()];t&&M.push(g()),await Promise.all(M)},[m,g,t]);return x.useEffect(()=>{e==="counterparties"&&r?.roles?.some(M=>M.code==="EXECUTOR")||(m(),t&&g())},[m,g,t,e,r]),{items:i,statistics:u,state:a,loadItems:m,loadStatistics:g,searchItems:j,filterItems:w,createItem:b,updateItem:v,deleteItem:N,bulkCreate:S,bulkUpdate:C,bulkDelete:A,exportItems:_,importItems:T,validateItem:P,selectItem:O,selectAllItems:I,clearSelection:B,setEditingItem:q,setBulkActionMode:G,updatePagination:V,clearError:Z,refresh:$}}function Oue(e,t){const r=typeof e=="string"?parseFloat(e):e;if(isNaN(r))return"0,00";const s=r.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!0}).replace(/\s/g," ");return t?`${s} ${t}`:s}function Lr(e,t="KZT"){return Oue(e,t)}const v3=(e={})=>{const[t,r]=x.useState([]),[a,s]=x.useState(!1),[i,l]=x.useState(null),[u,d]=x.useState(!0),[f,h]=x.useState(0),{status:m,searchTerm:g,counterpartyFilter:j,page:w=1,limit:b=10}=e,v=x.useCallback(async()=>{try{s(!0),l(null);const S=new URLSearchParams;S.append("role","EXECUTOR"),m&&m!=="all"&&S.append("status",m),g&&S.append("search",g),j&&j!=="all"&&S.append("counterparty_id",j),S.append("page",w.toString()),S.append("limit",b.toString());const C=await dt.getAll({role:"EXECUTOR"});let A=C;m&&m!=="all"&&(A=C.filter(_=>_.status===m)),g&&(A=A.filter(_=>_.requestNumber?.toLowerCase().includes(g.toLowerCase())||_.description?.toLowerCase().includes(g.toLowerCase()))),j&&j!=="all"&&(A=A.filter(_=>_.counterpartyId===j)),r(A),d(A.length===b),h(A.length)}catch(S){const C=S instanceof Error?S.message:"Failed to fetch requests";l(C),console.error("Error fetching executor requests:",S)}finally{s(!1)}},[m,g,j,w,b]),N=x.useCallback(async()=>{await v()},[v]);return x.useEffect(()=>{v()},[v]),{data:t,loading:a,error:i,refetch:N,hasMore:u,totalCount:f}},Xu=(e,t="dd.MM.yyyy")=>{if(!e)return"Не указано";try{const r=new Date(e);return isNaN(r.getTime())?"Неверная дата":mt(r,t,{locale:St})}catch(r){return console.warn("Error formatting date:",r),"Ошибка даты"}};function Due({onViewRequest:e,onCreateRequest:t}){const[r,a]=x.useState(null),[s,i]=x.useState(1),[l,u]=x.useState(""),d=5,{items:f}=lr("counterparties"),{data:h,loading:m,error:g}=v3({status:r&&r!=="total"?r:void 0,page:s,limit:d}),{statistics:j,loading:w,error:b}=oM("EXECUTOR"),v=m||w,N=g||b,S=x.useMemo(()=>{let G=[...h];if(r)switch(r){case"draft":G=G.filter(V=>V.status==="draft");break;case"submitted":G=G.filter(V=>V.status==="submitted");break;case"in-register":G=G.filter(V=>V.status==="in-register");break;case"to-pay":G=G.filter(V=>V.status==="to-pay");break;case"rejected":G=G.filter(V=>V.status==="rejected");break}return G.sort((V,Z)=>{try{const $=new Date(V.createdAt),M=new Date(Z.createdAt);return isNaN($.getTime())||isNaN(M.getTime())?0:M.getTime()-$.getTime()}catch{return 0}})},[h,r]),C=Math.ceil(S.length/d),A=(s-1)*d,_=A+d,T=S.slice(A,_),P=x.useMemo(()=>j?{total:j.totalRequests||0,inProgress:j.submittedCount||0,approvedNotPaid:j.inRegistryCount||0,paid:(j.paidFullCount||0)+(j.paidPartialCount||0),declined:j.rejectedCount||0,draft:j.draftCount||0,totalAmount:j.totalAmount||0}:{total:0,inProgress:0,approvedNotPaid:0,paid:0,declined:0,draft:0,totalAmount:0},[j]),O=x.useCallback(G=>f.find(V=>V.id===G)?.name||"Неизвестен",[f]),I=x.useCallback(G=>{a(r===G?null:G),i(1)},[r]),B=x.useCallback(G=>{u(G.target.value)},[]),q=x.useCallback(G=>{if(G.key==="Enter"){const V=parseInt(l);V>=1&&V<=C&&(i(V),u(""))}},[l,C]);return v?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Обзор системы управления платежами"})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mr,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"text-muted-foreground",children:"Загрузка данных заявок..."})]})})]}):N?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Обзор системы управления платежами"})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rt,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ошибка загрузки данных"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:N}),n.jsx(X,{onClick:()=>window.location.reload(),variant:"outline",children:"Попробовать снова"})]})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Обзор системы управления платежами"})]}),n.jsxs(X,{onClick:t,children:[n.jsx(un,{className:"h-4 w-4 mr-2"}),"Новая заявка"]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Фильтры заявок"}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="draft"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("draft"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(B8,{className:"h-3 w-3 text-gray-500"}),n.jsx("span",{className:"text-xs font-medium",children:"Черновики"})]}),n.jsx("div",{className:"text-lg font-semibold",children:P.draft})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="submitted"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("submitted"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Jt,{className:"h-3 w-3 text-orange-500"}),n.jsx("span",{className:"text-xs font-medium",children:"В работе"})]}),n.jsx("div",{className:"text-lg font-semibold",children:P.inProgress})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="in-register"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("in-register"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(pt,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{className:"text-xs font-medium",children:"Согласовано"})]}),n.jsx("div",{className:"text-lg font-semibold",children:P.approvedNotPaid})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="to-pay"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("to-pay"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{className:"text-xs font-medium",children:"Оплачено"})]}),n.jsx("div",{className:"text-lg font-semibold",children:P.paid})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="rejected"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("rejected"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Rt,{className:"h-3 w-3 text-red-500"}),n.jsx("span",{className:"text-xs font-medium",children:"Отклонено"})]}),n.jsx("div",{className:"text-lg font-semibold",children:P.declined})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="total"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("total"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(yt,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs font-medium",children:"Всего"})]}),n.jsx("div",{className:"text-lg font-semibold",children:P.total})]})]})]})}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ae,{children:"Последние заявки"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:S.length>0&&n.jsxs("span",{children:["Показано ",A+1,"-",Math.min(_,S.length)," из ",S.length]})})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"space-y-3",children:[T.map(G=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>e?.(G.id),children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:G.requestNumber}),n.jsx("p",{className:"text-sm text-muted-foreground",children:O(G.counterpartyId)})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-medium",children:Lr(G.amount,G.currency)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:Xu(G.createdAt)})]}),n.jsx(Wo,{status:G.status})]})]},G.id)),S.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Нет заявок для отображения"})]}),C>1&&n.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(1),disabled:s===1,className:"hidden sm:flex",children:"Первая"}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(G=>Math.max(G-1,1)),disabled:s===1,children:"Назад"}),n.jsxs("span",{className:"text-sm text-muted-foreground hidden sm:block",children:["Страница ",s," из ",C]}),n.jsxs("span",{className:"text-sm text-muted-foreground sm:hidden",children:[s,"/",C]}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(G=>Math.min(G+1,C)),disabled:s===C,children:"Вперед"}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(C),disabled:s===C,className:"hidden sm:flex",children:"Последняя"})]}),n.jsx("div",{className:"flex items-center gap-1 overflow-x-auto",children:(()=>{const V=[];if(C<=7)for(let Z=1;Z<=C;Z++)V.push(n.jsx(X,{variant:s===Z?"default":"outline",size:"sm",onClick:()=>i(Z),className:"w-8 h-8 p-0",children:Z},Z));else{const Z=Math.floor(3.5);V.push(n.jsx(X,{variant:s===1?"default":"outline",size:"sm",onClick:()=>i(1),className:"w-8 h-8 p-0",children:"1"},1)),s>Z+2&&V.push(n.jsx("span",{className:"px-2 text-muted-foreground",children:"..."},"ellipsis1"));const $=Math.max(2,s-Z),M=Math.min(C-1,s+Z);for(let k=$;k<=M;k++)k!==1&&k!==C&&V.push(n.jsx(X,{variant:s===k?"default":"outline",size:"sm",onClick:()=>i(k),className:"w-8 h-8 p-0",children:k},k));s<C-Z-1&&V.push(n.jsx("span",{className:"px-2 text-muted-foreground",children:"..."},"ellipsis2")),C>1&&V.push(n.jsx(X,{variant:s===C?"default":"outline",size:"sm",onClick:()=>i(C),className:"w-8 h-8 p-0",children:C},C))}return V})()}),C>10&&n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Перейти к:"}),n.jsx(Ie,{type:"number",min:"1",max:C,value:l,onChange:B,onKeyDown:q,placeholder:"№",className:"w-16 h-8 text-center"})]})]})]})]})]})}function rO({currentRole:e,onFilterChange:t,currentFilter:r,onViewRequest:a,onCreateRequest:s,paymentRequests:i=[]}){const[l,u]=x.useState([]),[d,f]=x.useState(!1),[h,m]=x.useState(null),{items:g}=lr("counterparties");if(x.useEffect(()=>{(async()=>{f(!0),m(null);try{const T=await dt.getAll({role:e});u(T)}catch(T){console.error("Dashboard: Error loading payment requests:",T),m("Ошибка загрузки данных заявок"),u([])}finally{f(!1)}})()},[e]),e==="EXECUTOR")return n.jsx(Due,{onViewRequest:a,onCreateRequest:s});const j=(i.length>0?i:l).filter(_=>!_.deleted),b=(()=>{const _=j;if(e==="REGISTRAR"){const $=_.filter(F=>["submitted","classified","returned","declined"].includes(F.status)),M=_.filter(F=>F.status==="submitted"),k=_.filter(F=>F.status==="classified"),D=_.filter(F=>F.status==="declined"),W=_.filter(F=>F.status==="returned"),H=new Date;H.setHours(0,0,0,0);const z=M.filter(F=>{try{const L=new Date(F.dueDate);return isNaN(L.getTime())?!1:(L.setHours(0,0,0,0),L<H)}catch{return!1}});return{total:$.length,newRequests:M.length,inProgress:M.length,registered:k.length,overdueCount:z.length,returnedForRevision:W.length,declinedStats:D.length}}if(e==="DISTRIBUTOR"){const $=_.filter(ee=>["classified","approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(ee.status)),M=_.filter(ee=>ee.status==="classified"),k=_.filter(ee=>ee.status==="approved"),D=new Date;D.setHours(0,0,0,0);const W=M.filter(ee=>{try{const ce=new Date(ee.dueDate);return isNaN(ce.getTime())?!1:(ce.setHours(0,0,0,0),ce<D)}catch{return!1}}),H=_.filter(ee=>["classified"].includes(ee.status)).length,z=_.filter(ee=>ee.status==="returned").length,F=_.filter(ee=>["approved","in-register","approved-for-payment"].includes(ee.status)).length,L=_.filter(ee=>["paid-full","paid-partial"].includes(ee.status)).length,Y=_.filter(ee=>ee.status==="declined").length;return{total:$.length,newRequests:M.length,toApprove:M.length,approved:k.length,overdueCount:W.length,totalAmount:[...M,...k].reduce((ee,ce)=>ee+ce.amount,0),inWork:H,returnedForRevision:z,approvedForPayment:F,paid:L,declined:Y}}if(e==="EXECUTOR"){const $=_.filter(ce=>["draft","submitted","classified","approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(ce.status)),M=_.filter(ce=>ce.status==="draft"),k=_.filter(ce=>ce.status==="submitted"),D=_.filter(ce=>ce.status==="classified"),W=_.filter(ce=>ce.status==="approved"),H=_.filter(ce=>ce.status==="in-register"),z=_.filter(ce=>["paid-full","paid-partial"].includes(ce.status)),F=_.filter(ce=>ce.status==="declined"),L=_.filter(ce=>ce.status==="returned"),Y=k.length+D.length+W.length+H.length,ee=W.length+H.length;return{total:$.length,draft:M.length,inProgress:Y,approvedNotPaid:ee,paid:z.length,declined:F.length,returnedForRevision:L.length,totalAmount:$.reduce((ce,K)=>ce+(K.amount||0),0)}}const T=_.filter($=>["approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes($.status)),P=_.filter($=>$.status==="approved"),O=new Date;O.setHours(0,0,0,0);const I=P.filter($=>{try{const M=new Date($.dueDate);return isNaN(M.getTime())?!1:(M.setHours(0,0,0,0),M<O)}catch{return!1}}),B=_.filter($=>["approved"].includes($.status)).length,q=_.filter($=>$.status==="returned").length,G=_.filter($=>["in-register"].includes($.status)).length,V=_.filter($=>["paid-full","paid-partial"].includes($.status)).length,Z=_.filter($=>$.status==="declined").length;return{total:T.length,newRequests:P.length,overdueCount:I.length,inWork:B,returnedForRevision:q,inRegister:G,paid:V,declined:Z}})(),N=(()=>{let T=[...j];if(e==="REGISTRAR"){if(T=T.filter(P=>["submitted","classified","returned","declined"].includes(P.status)),r)switch(r){case"total":break;case"newRequests":T=T.filter(P=>P.status==="submitted");break;case"overdue":T=T.filter(P=>{if(P.status==="submitted")try{const O=new Date(P.dueDate);if(isNaN(O.getTime()))return!1;const I=new Date;return I.setHours(0,0,0,0),O.setHours(0,0,0,0),O<I}catch{return!1}return!1});break}}else if(e==="DISTRIBUTOR"){if(T=T.filter(P=>["classified","approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(P.status)),r){const P=new Date;switch(P.setHours(0,0,0,0),r){case"total":break;case"newRequests":T=T.filter(O=>O.status==="classified");break;case"overdue":T=T.filter(O=>{if(O.status==="classified")try{const I=new Date(O.dueDate);return isNaN(I.getTime())?!1:(I.setHours(0,0,0,0),I<P)}catch{return!1}return!1});break;case"approved":T=T.filter(O=>["approved","in-register","approved-for-payment"].includes(O.status));break;case"returned":T=T.filter(O=>O.status==="returned");break;case"paid":T=T.filter(O=>["paid-full","paid-partial"].includes(O.status));break}}}else if(e==="TREASURER"&&(T=T.filter(P=>["approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(P.status)),r))switch(r){case"total":break;case"newRequests":T=T.filter(P=>P.status==="approved");break;case"overdue":T=T.filter(P=>{if(P.status==="approved")try{const O=new Date(P.dueDate);if(isNaN(O.getTime()))return!1;const I=new Date;return I.setHours(0,0,0,0),O.setHours(0,0,0,0),O<I}catch{return!1}return!1});break}return T.sort((P,O)=>{try{const I=new Date(P.createdAt),B=new Date(O.createdAt);return isNaN(I.getTime())||isNaN(B.getTime())?0:B.getTime()-I.getTime()}catch{return 0}}).slice(0,5)})(),S=_=>g.find(T=>T.id===_)?.name||"Неизвестен",C=_=>{try{const T=new Date(_);return isNaN(T.getTime())?"Некорректная дата":mt(T,"d MMM",{locale:St})}catch{return"Некорректная дата"}},A=_=>{if(console.log("Dashboard: Filter clicked:",_,"Current filter:",r),t){const T=r===_?null:_;console.log("Dashboard: Setting new filter:",T),t(T)}};return d?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Обзор системы управления платежами"})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mr,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"text-muted-foreground",children:"Загрузка данных заявок..."})]})})]}):h?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Обзор системы управления платежами"})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rt,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ошибка загрузки данных"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:h}),n.jsx(X,{onClick:()=>window.location.reload(),variant:"outline",children:"Попробовать снова"})]})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Обзор системы управления платежами"})]}),e!=="EXECUTOR"&&n.jsxs("div",{className:`grid gap-4 ${e==="DISTRIBUTOR"?"grid-cols-1 md:grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"}`,children:[e==="REGISTRAR"&&n.jsxs(n.Fragment,{children:[n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="total"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("total"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Всего"}),n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:b.total}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Всех заявок"})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="newRequests"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("newRequests"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Новые заявки"}),n.jsx(Rt,{className:"h-4 w-4 text-orange-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:b.newRequests}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Требуют обработки"})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="overdue"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("overdue"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Просроченные"}),n.jsx(Rt,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.overdueCount||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Заявок просрочено"})]})]})]}),e==="DISTRIBUTOR"&&n.jsxs(n.Fragment,{children:[n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="newRequests"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("newRequests"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"В работе"}),n.jsx(Rt,{className:"h-4 w-4 text-orange-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:b.inWork||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Требуют рассмотрения"})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="overdue"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("overdue"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Просрочено"}),n.jsx(vr,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.overdueCount||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Заявок просрочено"})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="approved"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("approved"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Утверждено"}),n.jsx(pt,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.approvedForPayment||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"К оплате"})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="returned"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("returned"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"На доработку"}),n.jsx(Oa,{className:"h-4 w-4 text-blue-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.returnedForRevision||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Возвращено"})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="paid"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("paid"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Оплачено"}),n.jsx(Xn,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-700",children:b.paid||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Заявок оплачено"})]})]})]}),e==="TREASURER"&&n.jsx("div",{className:"col-span-full",children:n.jsx(kue,{paymentRequests:i.length>0?i:l,onFilterChange:t,currentFilter:r,onViewRequest:a})})]}),e!=="treasurer"&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"Последние заявки"})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-3",children:[N.map(_=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>a?.(_.id),children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:_.requestNumber}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S(_.counterpartyId)})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-medium",children:Lr(_.amount,_.currency)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:C(_.createdAt)})]}),n.jsx(Wo,{status:_.status})]})]},_.id)),N.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Нет заявок для отображения"})]})})]})]})}function Fr({className:e,...t}){return n.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:n.jsx("table",{"data-slot":"table",className:Ve("w-full caption-bottom text-sm",e),...t})})}function Ur({className:e,...t}){return n.jsx("thead",{"data-slot":"table-header",className:Ve("[&_tr]:border-b",e),...t})}function Br({className:e,...t}){return n.jsx("tbody",{"data-slot":"table-body",className:Ve("[&_tr:last-child]:border-0",e),...t})}function gt({className:e,...t}){return n.jsx("tr",{"data-slot":"table-row",className:Ve("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function _e({className:e,...t}){return n.jsx("th",{"data-slot":"table-head",className:Ve("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Ne({className:e,...t}){return n.jsx("td",{"data-slot":"table-cell",className:Ve("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Mue({filteredRequests:e,currentFilter:t,onFilterClick:r}){const a=()=>{const u=new Date(Date.now()-18e6);return e.filter(d=>d.status==="submitted"&&new Date(d.createdAt)<u).length},s=[{id:"in-work",title:"В работе",value:e.filter(u=>u.status==="submitted").length,icon:n.jsx(Rt,{className:"h-4 w-4 text-orange-500"}),color:"text-orange-500",isClickable:!0,filterType:"in-work",tooltip:"Заявки, ожидающие классификации регистратором"},{id:"registered",title:"Зарегистрировано",value:e.filter(u=>u.status==="classified").length,icon:n.jsx(yt,{className:"h-4 w-4 text-green-500"}),color:"text-green-500",isClickable:!0,filterType:"registered",tooltip:"Заявки, успешно классифицированные и переданные распорядителю"},{id:"overdue",title:"Просрочено",value:a(),icon:n.jsx(vr,{className:"h-4 w-4 text-red-500"}),color:"text-red-500",isClickable:!0,filterType:"overdue",tooltip:"Заявки, поданные более 5 часов назад и еще не обработанные"},{id:"returned",title:"Возвращено на доработку",value:e.filter(u=>u.status==="returned").length,icon:n.jsx(os,{className:"h-4 w-4 text-blue-500"}),color:"text-blue-500",isClickable:!0,filterType:"returned",tooltip:"Заявки, возвращенные на доработку исполнителю"},{id:"declined",title:"Отклонено",value:e.filter(u=>u.status==="declined").length,icon:n.jsx(yt,{className:"h-4 w-4 text-red-600"}),color:"text-red-600",isClickable:!0,filterType:"declined",tooltip:"Отклоненные заявки"}],i=u=>{u.isClickable&&u.filterType&&r(u.filterType)},l=u=>{const d="transition-all duration-300 ease-out";if(u.isClickable){const f=t===u.filterType;return`${d} cursor-pointer hover:shadow-lg hover:scale-[1.03] active:scale-[0.98] ${f?"ring-2 ring-primary shadow-lg scale-[1.02] bg-primary/5 border-primary/20":"hover:bg-accent/30 hover:border-primary/30"}`}return`${d} hover:shadow-md hover:scale-[1.01]`};return n.jsx(Tp,{children:n.jsxs("div",{className:"space-y-4",children:[t&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in-50 duration-300",children:[n.jsx(Bi,{className:"h-4 w-4 text-primary"}),n.jsxs("span",{className:"text-sm",children:["Активен фильтр: ",n.jsx("strong",{children:s.find(u=>u.filterType===t)?.title})]}),n.jsxs(je,{variant:"secondary",className:"ml-2",children:[e.length," заявок"]}),n.jsxs(od,{children:[n.jsx(ld,{asChild:!0,children:n.jsx("div",{children:n.jsx(X,{variant:"ghost",size:"sm",className:"ml-auto h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>r(t),children:n.jsx(cp,{className:"h-3 w-3"})})})}),n.jsx(cd,{children:n.jsx("p",{children:"Сбросить фильтр"})})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:s.map(u=>n.jsxs(od,{children:[n.jsx(ld,{asChild:!0,children:n.jsx("div",{children:n.jsx(me,{className:l(u),onClick:()=>i(u),children:n.jsxs(pe,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:u.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:u.title}),n.jsx("p",{className:"text-2xl font-semibold mt-1",children:u.value.toLocaleString()})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[!u.isClickable&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"Информационная плитка"}),t===u.filterType&&n.jsx(je,{variant:"default",size:"sm",className:"animate-pulse",children:"Активен"})]})]})})})}),n.jsx(cd,{side:"bottom",className:"max-w-xs",children:n.jsx("p",{children:u.tooltip})})]},u.id))})]})})}function $ue({filteredRequests:e,currentFilter:t,onFilterClick:r}){const a=[{id:"in-work",title:"В работе",value:e.filter(l=>l.status==="classified").length,icon:n.jsx(Rt,{className:"h-4 w-4 text-orange-500"}),color:"text-orange-500",isClickable:!0,filterType:"in-work",tooltip:"Заявки, ожидающие рассмотрения распорядителем"},{id:"returned-for-revision",title:"Отправлен на доработку",value:e.filter(l=>l.status==="returned").length,icon:n.jsx(Oa,{className:"h-4 w-4 text-blue-500"}),color:"text-blue-500",isClickable:!0,filterType:"returned-for-revision",tooltip:"Заявки, отправленные на доработку"},{id:"approved-for-payment",title:"Утвержден на оплату",value:e.filter(l=>["approved","approved-on-behalf","in-register","approved-for-payment"].includes(l.status)).length,icon:n.jsx(pt,{className:"h-4 w-4 text-green-500"}),color:"text-green-500",isClickable:!0,filterType:"approved-for-payment",tooltip:"Заявки, утвержденные к оплате"},{id:"approved-on-behalf",title:"Согласован по поручению рук-ва",value:e.filter(l=>l.status==="approved-on-behalf").length,icon:n.jsx(pt,{className:"h-4 w-4 text-purple-500"}),color:"text-purple-500",isClickable:!0,filterType:"approved-on-behalf",tooltip:"Заявки, согласованные по поручению руководства"},{id:"paid",title:"Оплачен",value:e.filter(l=>["paid-full","paid-partial"].includes(l.status)).length,icon:n.jsx(Xn,{className:"h-4 w-4 text-green-600"}),color:"text-green-600",isClickable:!0,filterType:"paid",tooltip:"Оплаченные заявки"},{id:"declined",title:"Отклонен",value:e.filter(l=>l.status==="declined").length,icon:n.jsx(Gn,{className:"h-4 w-4 text-red-500"}),color:"text-red-500",isClickable:!0,filterType:"declined",tooltip:"Отклоненные заявки"}],s=l=>{l.isClickable&&l.filterType&&r(l.filterType)},i=l=>{const u="transition-all duration-300 ease-out";if(l.isClickable){const d=t===l.filterType;return`${u} cursor-pointer hover:shadow-lg hover:scale-[1.03] active:scale-[0.98] ${d?"ring-2 ring-primary shadow-lg scale-[1.02] bg-primary/5 border-primary/20":"hover:bg-accent/30 hover:border-primary/30"}`}return`${u} hover:shadow-md hover:scale-[1.01]`};return n.jsx(Tp,{children:n.jsxs("div",{className:"space-y-4",children:[t&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in-50 duration-300",children:[n.jsx(Bi,{className:"h-4 w-4 text-primary"}),n.jsxs("span",{className:"text-sm",children:["Активен фильтр: ",n.jsx("strong",{children:a.find(l=>l.filterType===t)?.title})]}),n.jsxs(je,{variant:"secondary",className:"ml-2",children:[e.length," заявок"]}),n.jsxs(od,{children:[n.jsx(ld,{asChild:!0,children:n.jsx("div",{children:n.jsx(X,{variant:"ghost",size:"sm",className:"ml-auto h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>r(t),children:n.jsx(cp,{className:"h-3 w-3"})})})}),n.jsx(cd,{children:n.jsx("p",{children:"Сбросить фильтр"})})]})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:a.map(l=>n.jsxs(od,{children:[n.jsx(ld,{asChild:!0,children:n.jsx("div",{children:n.jsx(me,{className:i(l),onClick:()=>s(l),children:n.jsxs(pe,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-shrink-0",children:l.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground truncate leading-tight",children:l.title}),n.jsx("p",{className:"text-xl font-semibold mt-0.5",children:l.value.toLocaleString()})]})]}),t===l.filterType&&n.jsx("div",{className:"mt-2 flex justify-end",children:n.jsx(je,{variant:"default",size:"sm",className:"animate-pulse text-xs",children:"Активен"})})]})})})}),n.jsx(cd,{side:"bottom",className:"max-w-xs",children:n.jsx("p",{children:l.tooltip})})]},l.id))})]})})}function Lue({currentRole:e,onCreateRequest:t,onViewRequest:r,dashboardFilter:a,onClearFilter:s,paymentRequests:i}){const{items:l}=lr("counterparties"),[u,d]=x.useState(""),[f,h]=x.useState("all"),[m,g]=x.useState("all"),[j,w]=x.useState(null),[b,v]=x.useState([]),[N,S]=x.useState(!0),[C,A]=x.useState(null);x.useEffect(()=>{(async()=>{try{if(S(!0),A(null),i&&i.length>0)v(i);else{const M=await dt.getAll({role:e,status:a||void 0});v(M)}}catch(M){console.error("Error loading requests:",M),A("Ошибка загрузки заявок"),v([])}finally{S(!1)}})()},[e,a,i]);const _=$=>{try{const M=new Date($);return isNaN(M.getTime())?"Некорректная дата":mt(M,"d MMM",{locale:St})}catch{return"Некорректная дата"}},T=$=>{try{const M=new Date($);return isNaN(M.getTime())?"Некорректная дата":mt(M,"d MMM HH:mm",{locale:St})}catch{return"Некорректная дата"}},P=$=>{try{const M=new Date($);return!isNaN(M.getTime())&&M<new Date}catch{return!1}},O=($,M)=>{try{const k=new Date($);if(isNaN(k.getTime()))return!1;const D=new Date(Date.now()-M*60*60*1e3);return k<D}catch{return!1}},I=x.useMemo(()=>{let $=[...b];if(e==="REGISTRAR"){if($=$.filter(M=>["submitted","classified","returned","declined","approved","in-register","paid-full","paid-partial"].includes(M.status)),j)switch(j){case"draft":$=$.filter(M=>M.status==="draft");break;case"inProgress":$=$.filter(M=>["submitted","classified","approved","in-register"].includes(M.status));break;case"approvedNotPaid":$=$.filter(M=>["approved","in-register"].includes(M.status));break;case"paid":$=$.filter(M=>["paid-full","paid-partial"].includes(M.status));break;case"declined":$=$.filter(M=>["declined","rejected"].includes(M.status));break;case"total":break;case"newRequests":$=$.filter(M=>M.status==="submitted");break;case"overdue":$=$.filter(M=>M.status==="submitted"&&O(M.createdAt,5));break}}else if(e==="DISTRIBUTOR"){if($=$.filter(M=>["classified","approved","approved-on-behalf","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(M.status)),j)switch(j){case"total":break;case"in-work":$=$.filter(M=>M.status==="classified");break;case"returned-for-revision":$=$.filter(M=>M.status==="returned");break;case"approved-for-payment":$=$.filter(M=>["approved","approved-on-behalf","in-register","approved-for-payment"].includes(M.status));break;case"approved-on-behalf":$=$.filter(M=>M.status==="approved-on-behalf");break;case"paid":$=$.filter(M=>["paid-full","paid-partial"].includes(M.status));break;case"declined":$=$.filter(M=>M.status==="declined");break;case"newRequests":$=$.filter(M=>M.status==="classified");break;case"overdue":$=$.filter(M=>M.status==="classified"&&O(M.createdAt,5));break}}else if(e==="TREASURER"&&($=$.filter(M=>["approved","approved-on-behalf","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(M.status)),j))switch(j){case"total":break;case"newRequests":$=$.filter(M=>["approved","approved-on-behalf"].includes(M.status));break;case"overdue":$=$.filter(M=>["approved","approved-on-behalf"].includes(M.status)&&O(M.createdAt,5));break}return u&&($=$.filter(M=>{const k=l.find(D=>D.id===M.counterpartyId);return M.docNumber.toLowerCase().includes(u.toLowerCase())||M.requestNumber?.toLowerCase().includes(u.toLowerCase())||M.description.toLowerCase().includes(u.toLowerCase())||k?.name.toLowerCase().includes(u.toLowerCase())||M.amount.toString().includes(u)})),f!=="all"&&($=$.filter(M=>M.counterpartyId===f)),m!=="all"&&($=$.filter(M=>M.status===m)),$.sort((M,k)=>{try{const D=new Date(M.createdAt),W=new Date(k.createdAt);return isNaN(D.getTime())||isNaN(W.getTime())?0:W.getTime()-D.getTime()}catch{return 0}})},[b,u,f,m,e,j,a,l]),B=$=>l.find(M=>M.id===$)?.name||"Неизвестен",q=()=>[...new Set(b.map(M=>M.counterpartyId))].map(M=>{const k=l.find(D=>D.id===M);return k?{id:M,name:k.name}:{id:M,name:"Неизвестен"}}).sort((M,k)=>M.name.localeCompare(k.name)),G=$=>{switch($){case"submitted":return"Регистратор";case"classified":case"allocated":return"Распорядитель";case"approved":case"approved-on-behalf":case"in-register":case"approved-for-payment":return"Казначей";case"paid-full":case"paid-partial":return"Завершено";case"declined":case"cancelled":return"Отклонено";case"returned":return"Возвращено";case"draft":return"У автора";default:return"-"}},V=$=>{w(j===$?null:$)},Z=()=>I.filter($=>["approved","approved-on-behalf"].includes($.status)&&O($.createdAt,5)).length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Заявки на оплату"}),n.jsx("p",{className:"text-muted-foreground",children:e==="REGISTRAR"?"Заявки для классификации":e==="DISTRIBUTOR"?"Заявки для согласования":e==="TREASURER"?"Заявки к оплате":""})]}),n.jsx("div",{className:"flex gap-2",children:a&&n.jsx(X,{variant:"outline",onClick:s,children:"Очистить фильтр"})})]}),(e==="REGISTRAR"||e==="DISTRIBUTOR")&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Bi,{className:"h-4 w-4"}),"Фильтры"]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{placeholder:"Поиск по номеру, описанию...",value:u,onChange:$=>d($.target.value),className:"pl-10"})]}),n.jsxs(et,{value:f,onValueChange:h,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Контрагент"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все контрагенты"}),q().map($=>n.jsx(xe,{value:$.id,children:$.name},$.id))]})]}),n.jsxs(et,{value:m,onValueChange:g,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Статус"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все статусы"}),n.jsx(xe,{value:"draft",children:"Черновики"}),n.jsx(xe,{value:"submitted",children:"Новые"}),n.jsx(xe,{value:"classified",children:"Классифицированные"}),n.jsx(xe,{value:"approved",children:"Согласованные"}),n.jsx(xe,{value:"in-register",children:"В реестре"}),n.jsx(xe,{value:"paid-full",children:"Оплачено полностью"}),n.jsx(xe,{value:"paid-partial",children:"Оплачено частично"}),n.jsx(xe,{value:"declined",children:"Отклонено"}),n.jsx(xe,{value:"returned",children:"Возвращено"})]})]})]})})})]}),e==="REGISTRAR"?n.jsx(Mue,{filteredRequests:I,currentFilter:j,onFilterClick:V}):e==="DISTRIBUTOR"?n.jsx($ue,{filteredRequests:I,currentFilter:j,onFilterClick:V}):e==="TREASURER"?n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsx(me,{className:`cursor-pointer transition-all hover:shadow-md ${j==="total"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>V("total"),children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего"}),n.jsx("p",{className:"text-xl font-semibold",children:I.length})]})]})})}),n.jsx(me,{className:`cursor-pointer transition-all hover:shadow-md ${j==="newRequests"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>V("newRequests"),children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Новые заявки"}),n.jsx("p",{className:"text-xl font-semibold",children:I.filter($=>["approved","approved-on-behalf"].includes($.status)).length})]})]})})}),n.jsx(me,{className:`cursor-pointer transition-all hover:shadow-md ${j==="overdue"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>V("overdue"),children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Просроченные"}),n.jsx("p",{className:"text-xl font-semibold",children:Z()})]})]})})})]}):n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"На рассмотрении"}),n.jsx("p",{className:"text-xl font-semibold",children:I.filter($=>["submitted","classified"].includes($.status)).length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(os,{className:"h-4 w-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Контрагентов"}),n.jsx("p",{className:"text-xl font-semibold",children:new Set(I.map($=>$.counterpartyId)).size})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Просрочено"}),n.jsx("p",{className:"text-xl font-semibold",children:I.filter($=>P($.dueDate)).length})]})]})})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ae,{children:["Заявки (",I.length,")"]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Экспорт xlsx"]})]}),n.jsx(pe,{children:N?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:"Загрузка заявок..."})]})}):C?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-500 mb-2",children:"Ошибка загрузки заявок"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:C})]})}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{children:"№ заявки"}),n.jsx(_e,{children:"Контрагент"}),n.jsx(_e,{children:"Сумма"}),n.jsx(_e,{children:"Срок оплаты"}),n.jsx(_e,{children:"Статус"}),n.jsx(_e,{children:"У кого на рассмотрении"}),n.jsx(_e,{children:"Создана"})]})}),n.jsx(Br,{children:I.map($=>n.jsxs(gt,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r?.($.id),children:[n.jsx(Ne,{className:"font-medium",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:$.requestNumber||$.docNumber}),$.requestNumber&&n.jsx("span",{className:"text-xs text-muted-foreground",children:$.docNumber})]})}),n.jsx(Ne,{children:B($.counterpartyId)}),n.jsx(Ne,{children:n.jsx("div",{className:"flex items-center gap-1",children:n.jsx("span",{children:Lr($.amount,$.currency)})})}),n.jsx(Ne,{children:n.jsxs("div",{className:`flex items-center gap-2 ${P($.dueDate)?"text-red-600":""}`,children:[_($.dueDate),P($.dueDate)&&n.jsx(je,{variant:"destructive",className:"text-xs",children:"Просрочено"})]})}),n.jsx(Ne,{children:n.jsx(Wo,{status:$.status,showTooltip:e==="EXECUTOR",responsible:G($.status),statusTime:T($.updatedAt||$.createdAt)})}),n.jsx(Ne,{className:"text-muted-foreground",children:G($.status)}),n.jsx(Ne,{className:"text-muted-foreground",children:_($.createdAt)})]},$.id))})]}),I.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Заявки не найдены"})]})})]})]})}var ft=function(){return ft=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ft.apply(this,arguments)};function Fue(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function x3(e,t,r){for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function hf(e){return e.mode==="multiple"}function mf(e){return e.mode==="range"}function hg(e){return e.mode==="single"}var Uue={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Bue(e,t){return mt(e,"LLLL y",t)}function zue(e,t){return mt(e,"d",t)}function que(e,t){return mt(e,"LLLL",t)}function Wue(e){return"".concat(e)}function Vue(e,t){return mt(e,"cccccc",t)}function Hue(e,t){return mt(e,"yyyy",t)}var Gue=Object.freeze({__proto__:null,formatCaption:Bue,formatDay:zue,formatMonthCaption:que,formatWeekNumber:Wue,formatWeekdayName:Vue,formatYearCaption:Hue}),Kue=function(e,t,r){return mt(e,"do MMMM (EEEE)",r)},Yue=function(){return"Month: "},Xue=function(){return"Go to next month"},Que=function(){return"Go to previous month"},Zue=function(e,t){return mt(e,"cccc",t)},Jue=function(e){return"Week n. ".concat(e)},ede=function(){return"Year: "},tde=Object.freeze({__proto__:null,labelDay:Kue,labelMonthDropdown:Yue,labelNext:Xue,labelPrevious:Que,labelWeekNumber:Jue,labelWeekday:Zue,labelYearDropdown:ede});function rde(){var e="buttons",t=Uue,r=u3,a={},s={},i=1,l={},u=new Date;return{captionLayout:e,classNames:t,formatters:Gue,labels:tde,locale:r,modifiersClassNames:a,modifiers:s,numberOfMonths:i,styles:l,today:u,mode:"default"}}function nde(e){var t=e.fromYear,r=e.toYear,a=e.fromMonth,s=e.toMonth,i=e.fromDate,l=e.toDate;return a?i=Qr(a):t&&(i=new Date(t,0,1)),s?l=dS(s):r&&(l=new Date(r,11,31)),{fromDate:i?xc(i):void 0,toDate:l?xc(l):void 0}}var y3=x.createContext(void 0);function ade(e){var t,r=e.initialProps,a=rde(),s=nde(r),i=s.fromDate,l=s.toDate,u=(t=r.captionLayout)!==null&&t!==void 0?t:a.captionLayout;u!=="buttons"&&(!i||!l)&&(u="buttons");var d;(hg(r)||hf(r)||mf(r))&&(d=r.onSelect);var f=ft(ft(ft({},a),r),{captionLayout:u,classNames:ft(ft({},a.classNames),r.classNames),components:ft({},r.components),formatters:ft(ft({},a.formatters),r.formatters),fromDate:i,labels:ft(ft({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:ft(ft({},a.modifiers),r.modifiers),modifiersClassNames:ft(ft({},a.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:ft(ft({},a.styles),r.styles),toDate:l});return n.jsx(y3.Provider,{value:f,children:e.children})}function Kt(){var e=x.useContext(y3);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function b3(e){var t=Kt(),r=t.locale,a=t.classNames,s=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:a.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function sde(e){return n.jsx("svg",ft({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function j3(e){var t,r,a=e.onChange,s=e.value,i=e.children,l=e.caption,u=e.className,d=e.style,f=Kt(),h=(r=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:sde;return n.jsxs("div",{className:u,style:d,children:[n.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:s,onChange:a,children:i}),n.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[l,n.jsx(h,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function ide(e){var t,r=Kt(),a=r.fromDate,s=r.toDate,i=r.styles,l=r.locale,u=r.formatters.formatMonthCaption,d=r.classNames,f=r.components,h=r.labels.labelMonthDropdown;if(!a)return n.jsx(n.Fragment,{});if(!s)return n.jsx(n.Fragment,{});var m=[];if(Lce(a,s))for(var g=Qr(a),j=a.getMonth();j<=s.getMonth();j++)m.push(Ej(g,j));else for(var g=Qr(new Date),j=0;j<=11;j++)m.push(Ej(g,j));var w=function(v){var N=Number(v.target.value),S=Ej(Qr(e.displayMonth),N);e.onChange(S)},b=(t=f?.Dropdown)!==null&&t!==void 0?t:j3;return n.jsx(b,{name:"months","aria-label":h(),className:d.dropdown_month,style:i.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:l}),children:m.map(function(v){return n.jsx("option",{value:v.getMonth(),children:u(v,{locale:l})},v.getMonth())})})}function ode(e){var t,r=e.displayMonth,a=Kt(),s=a.fromDate,i=a.toDate,l=a.locale,u=a.styles,d=a.classNames,f=a.components,h=a.formatters.formatYearCaption,m=a.labels.labelYearDropdown,g=[];if(!s)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var j=s.getFullYear(),w=i.getFullYear(),b=j;b<=w;b++)g.push(eO(o3(new Date),b));var v=function(S){var C=eO(Qr(r),Number(S.target.value));e.onChange(C)},N=(t=f?.Dropdown)!==null&&t!==void 0?t:j3;return n.jsx(N,{name:"years","aria-label":m(),className:d.dropdown_year,style:u.dropdown_year,onChange:v,value:r.getFullYear(),caption:h(r,{locale:l}),children:g.map(function(S){return n.jsx("option",{value:S.getFullYear(),children:h(S,{locale:l})},S.getFullYear())})})}function lde(e,t){var r=x.useState(e),a=r[0],s=r[1],i=t===void 0?a:t;return[i,s]}function cde(e){var t=e.month,r=e.defaultMonth,a=e.today,s=t||r||a||new Date,i=e.toDate,l=e.fromDate,u=e.numberOfMonths,d=u===void 0?1:u;if(i&&Vd(i,s)<0){var f=-1*(d-1);s=jn(i,f)}return l&&Vd(s,l)<0&&(s=l),Qr(s)}function ude(){var e=Kt(),t=cde(e),r=lde(t,e.month),a=r[0],s=r[1],i=function(l){var u;if(!e.disableNavigation){var d=Qr(l);s(d),(u=e.onMonthChange)===null||u===void 0||u.call(e,d)}};return[a,i]}function dde(e,t){for(var r=t.reverseMonths,a=t.numberOfMonths,s=Qr(e),i=Qr(jn(s,a)),l=Vd(i,s),u=[],d=0;d<l;d++){var f=jn(s,d);u.push(f)}return r&&(u=u.reverse()),u}function fde(e,t){if(!t.disableNavigation){var r=t.toDate,a=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,l=a?i:1,u=Qr(e);if(!r)return jn(u,l);var d=Vd(r,e);if(!(d<i))return jn(u,l)}}function hde(e,t){if(!t.disableNavigation){var r=t.fromDate,a=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,l=a?i:1,u=Qr(e);if(!r)return jn(u,-l);var d=Vd(u,r);if(!(d<=0))return jn(u,-l)}}var w3=x.createContext(void 0);function mde(e){var t=Kt(),r=ude(),a=r[0],s=r[1],i=dde(a,t),l=fde(a,t),u=hde(a,t),d=function(m){return i.some(function(g){return hS(m,g)})},f=function(m,g){d(m)||(g&&p3(m,g)?s(jn(m,1+t.numberOfMonths*-1)):s(m))},h={currentMonth:a,displayMonths:i,goToMonth:s,goToDate:f,previousMonth:u,nextMonth:l,isDateDisplayed:d};return n.jsx(w3.Provider,{value:h,children:e.children})}function pf(){var e=x.useContext(w3);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function nO(e){var t,r=Kt(),a=r.classNames,s=r.styles,i=r.components,l=pf().goToMonth,u=function(h){l(jn(h,e.displayIndex?-e.displayIndex:0))},d=(t=i?.CaptionLabel)!==null&&t!==void 0?t:b3,f=n.jsx(d,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:a.caption_dropdowns,style:s.caption_dropdowns,children:[n.jsx("div",{className:a.vhidden,children:f}),n.jsx(ide,{onChange:u,displayMonth:e.displayMonth}),n.jsx(ode,{onChange:u,displayMonth:e.displayMonth})]})}function pde(e){return n.jsx("svg",ft({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gde(e){return n.jsx("svg",ft({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ip=x.forwardRef(function(e,t){var r=Kt(),a=r.classNames,s=r.styles,i=[a.button_reset,a.button];e.className&&i.push(e.className);var l=i.join(" "),u=ft(ft({},s.button_reset),s.button);return e.style&&Object.assign(u,e.style),n.jsx("button",ft({},e,{ref:t,type:"button",className:l,style:u}))});function vde(e){var t,r,a=Kt(),s=a.dir,i=a.locale,l=a.classNames,u=a.styles,d=a.labels,f=d.labelPrevious,h=d.labelNext,m=a.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var g=f(e.previousMonth,{locale:i}),j=[l.nav_button,l.nav_button_previous].join(" "),w=h(e.nextMonth,{locale:i}),b=[l.nav_button,l.nav_button_next].join(" "),v=(t=m?.IconRight)!==null&&t!==void 0?t:gde,N=(r=m?.IconLeft)!==null&&r!==void 0?r:pde;return n.jsxs("div",{className:l.nav,style:u.nav,children:[!e.hidePrevious&&n.jsx(ip,{name:"previous-month","aria-label":g,className:j,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?n.jsx(v,{className:l.nav_icon,style:u.nav_icon}):n.jsx(N,{className:l.nav_icon,style:u.nav_icon})}),!e.hideNext&&n.jsx(ip,{name:"next-month","aria-label":w,className:b,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?n.jsx(N,{className:l.nav_icon,style:u.nav_icon}):n.jsx(v,{className:l.nav_icon,style:u.nav_icon})})]})}function aO(e){var t=Kt().numberOfMonths,r=pf(),a=r.previousMonth,s=r.nextMonth,i=r.goToMonth,l=r.displayMonths,u=l.findIndex(function(w){return hS(e.displayMonth,w)}),d=u===0,f=u===l.length-1,h=t>1&&(d||!f),m=t>1&&(f||!d),g=function(){a&&i(a)},j=function(){s&&i(s)};return n.jsx(vde,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:s,previousMonth:a,onPreviousClick:g,onNextClick:j})}function xde(e){var t,r=Kt(),a=r.classNames,s=r.disableNavigation,i=r.styles,l=r.captionLayout,u=r.components,d=(t=u?.CaptionLabel)!==null&&t!==void 0?t:b3,f;return s?f=n.jsx(d,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?f=n.jsx(nO,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?f=n.jsxs(n.Fragment,{children:[n.jsx(nO,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(aO,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=n.jsxs(n.Fragment,{children:[n.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(aO,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:a.caption,style:i.caption,children:f})}function yde(e){var t=Kt(),r=t.footer,a=t.styles,s=t.classNames.tfoot;return r?n.jsx("tfoot",{className:s,style:a.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function bde(e,t,r){for(var a=r?Fo(new Date):ea(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var l=or(a,i);s.push(l)}return s}function jde(){var e=Kt(),t=e.classNames,r=e.styles,a=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,l=e.ISOWeek,u=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,f=bde(s,i,l);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[a&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),f.map(function(h,m){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(h,{locale:s}),children:u(h,{locale:s})},m)})]})}function wde(){var e,t=Kt(),r=t.classNames,a=t.styles,s=t.components,i=(e=s?.HeadRow)!==null&&e!==void 0?e:jde;return n.jsx("thead",{style:a.head,className:r.head,children:n.jsx(i,{})})}function Nde(e){var t=Kt(),r=t.locale,a=t.formatters.formatDay;return n.jsx(n.Fragment,{children:a(e.date,{locale:r})})}var pS=x.createContext(void 0);function Sde(e){if(!hf(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(pS.Provider,{value:t,children:e.children})}return n.jsx(_de,{initialProps:e.initialProps,children:e.children})}function _de(e){var t=e.initialProps,r=e.children,a=t.selected,s=t.min,i=t.max,l=function(f,h,m){var g,j;(g=t.onDayClick)===null||g===void 0||g.call(t,f,h,m);var w=!!(h.selected&&s&&a?.length===s);if(!w){var b=!!(!h.selected&&i&&a?.length===i);if(!b){var v=a?x3([],a):[];if(h.selected){var N=v.findIndex(function(S){return Xr(f,S)});v.splice(N,1)}else v.push(f);(j=t.onSelect)===null||j===void 0||j.call(t,v,f,h,m)}}},u={disabled:[]};a&&u.disabled.push(function(f){var h=i&&a.length>i-1,m=a.some(function(g){return Xr(g,f)});return!!(h&&!m)});var d={selected:a,onDayClick:l,modifiers:u};return n.jsx(pS.Provider,{value:d,children:r})}function gS(){var e=x.useContext(pS);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Cde(e,t){var r=t||{},a=r.from,s=r.to;return a&&s?Xr(s,e)&&Xr(a,e)?void 0:Xr(s,e)?{from:s,to:void 0}:Xr(a,e)?void 0:Ts(a,e)?{from:e,to:s}:{from:a,to:e}:s?Ts(e,s)?{from:s,to:e}:{from:e,to:s}:a?p3(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var vS=x.createContext(void 0);function Ede(e){if(!mf(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(vS.Provider,{value:t,children:e.children})}return n.jsx(Tde,{initialProps:e.initialProps,children:e.children})}function Tde(e){var t=e.initialProps,r=e.children,a=t.selected,s=a||{},i=s.from,l=s.to,u=t.min,d=t.max,f=function(j,w,b){var v,N;(v=t.onDayClick)===null||v===void 0||v.call(t,j,w,b);var S=Cde(j,a);(N=t.onSelect)===null||N===void 0||N.call(t,S,j,w,b)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(h.range_start=[i],l?(h.range_end=[l],Xr(i,l)||(h.range_middle=[{after:i,before:l}])):h.range_end=[i]):l&&(h.range_start=[l],h.range_end=[l]),u&&(i&&!l&&h.disabled.push({after:_j(i,u-1),before:or(i,u-1)}),i&&l&&h.disabled.push({after:i,before:or(i,u-1)}),!i&&l&&h.disabled.push({after:_j(l,u-1),before:or(l,u-1)})),d){if(i&&!l&&(h.disabled.push({before:or(i,-d+1)}),h.disabled.push({after:or(i,d-1)})),i&&l){var m=ns(l,i)+1,g=d-m;h.disabled.push({before:_j(i,g)}),h.disabled.push({after:or(l,g)})}!i&&l&&(h.disabled.push({before:or(l,-d+1)}),h.disabled.push({after:or(l,d-1)}))}return n.jsx(vS.Provider,{value:{selected:a,onDayClick:f,modifiers:h},children:r})}function xS(){var e=x.useContext(vS);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Jh(e){return Array.isArray(e)?x3([],e):e!==void 0?[e]:[]}function Ade(e){var t={};return Object.entries(e).forEach(function(r){var a=r[0],s=r[1];t[a]=Jh(s)}),t}var La;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(La||(La={}));var Rde=La.Selected,Es=La.Disabled,Pde=La.Hidden,Ide=La.Today,Tj=La.RangeEnd,Aj=La.RangeMiddle,Rj=La.RangeStart,kde=La.Outside;function Ode(e,t,r){var a,s=(a={},a[Rde]=Jh(e.selected),a[Es]=Jh(e.disabled),a[Pde]=Jh(e.hidden),a[Ide]=[e.today],a[Tj]=[],a[Aj]=[],a[Rj]=[],a[kde]=[],a);return e.fromDate&&s[Es].push({before:e.fromDate}),e.toDate&&s[Es].push({after:e.toDate}),hf(e)?s[Es]=s[Es].concat(t.modifiers[Es]):mf(e)&&(s[Es]=s[Es].concat(r.modifiers[Es]),s[Rj]=r.modifiers[Rj],s[Aj]=r.modifiers[Aj],s[Tj]=r.modifiers[Tj]),s}var N3=x.createContext(void 0);function Dde(e){var t=Kt(),r=gS(),a=xS(),s=Ode(t,r,a),i=Ade(t.modifiers),l=ft(ft({},s),i);return n.jsx(N3.Provider,{value:l,children:e.children})}function S3(){var e=x.useContext(N3);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Mde(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function $de(e){return!!(e&&typeof e=="object"&&"from"in e)}function Lde(e){return!!(e&&typeof e=="object"&&"after"in e)}function Fde(e){return!!(e&&typeof e=="object"&&"before"in e)}function Ude(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Bde(e,t){var r,a=t.from,s=t.to;if(a&&s){var i=ns(s,a)<0;i&&(r=[s,a],a=r[0],s=r[1]);var l=ns(e,a)>=0&&ns(s,e)>=0;return l}return s?Xr(s,e):a?Xr(a,e):!1}function zde(e){return uS(e)}function qde(e){return Array.isArray(e)&&e.every(uS)}function Wde(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(zde(r))return Xr(e,r);if(qde(r))return r.includes(e);if($de(r))return Bde(e,r);if(Ude(r))return r.dayOfWeek.includes(e.getDay());if(Mde(r)){var a=ns(r.before,e),s=ns(r.after,e),i=a>0,l=s<0,u=Ts(r.before,r.after);return u?l&&i:i||l}return Lde(r)?ns(e,r.after)>0:Fde(r)?ns(r.before,e)>0:typeof r=="function"?r(e):!1})}function yS(e,t,r){var a=Object.keys(t).reduce(function(i,l){var u=t[l];return Wde(e,u)&&i.push(l),i},[]),s={};return a.forEach(function(i){return s[i]=!0}),r&&!hS(e,r)&&(s.outside=!0),s}function Vde(e,t){for(var r=Qr(e[0]),a=dS(e[e.length-1]),s,i,l=r;l<=a;){var u=yS(l,t),d=!u.disabled&&!u.hidden;if(!d){l=or(l,1);continue}if(u.selected)return l;u.today&&!i&&(i=l),s||(s=l),l=or(l,1)}return i||s}var Hde=365;function _3(e,t){var r=t.moveBy,a=t.direction,s=t.context,i=t.modifiers,l=t.retry,u=l===void 0?{count:0,lastFocused:e}:l,d=s.weekStartsOn,f=s.fromDate,h=s.toDate,m=s.locale,g={day:or,week:T1,month:jn,year:Dle,startOfWeek:function(v){return s.ISOWeek?Fo(v):ea(v,{locale:m,weekStartsOn:d})},endOfWeek:function(v){return s.ISOWeek?l3(v):fS(v,{locale:m,weekStartsOn:d})}},j=g[r](e,a==="after"?1:-1);a==="before"&&f?j=Mle([f,j]):a==="after"&&h&&(j=$le([h,j]));var w=!0;if(i){var b=yS(j,i);w=!b.disabled&&!b.hidden}return w?j:u.count>Hde?u.lastFocused:_3(j,{moveBy:r,direction:a,context:s,modifiers:i,retry:ft(ft({},u),{count:u.count+1})})}var C3=x.createContext(void 0);function Gde(e){var t=pf(),r=S3(),a=x.useState(),s=a[0],i=a[1],l=x.useState(),u=l[0],d=l[1],f=Vde(t.displayMonths,r),h=s??(u&&t.isDateDisplayed(u))?u:f,m=function(){d(s),i(void 0)},g=function(v){i(v)},j=Kt(),w=function(v,N){if(s){var S=_3(s,{moveBy:v,direction:N,context:j,modifiers:r});Xr(s,S)||(t.goToDate(S,s),g(S))}},b={focusedDay:s,focusTarget:h,blur:m,focus:g,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return n.jsx(C3.Provider,{value:b,children:e.children})}function bS(){var e=x.useContext(C3);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Kde(e,t){var r=S3(),a=yS(e,r,t);return a}var jS=x.createContext(void 0);function Yde(e){if(!hg(e.initialProps)){var t={selected:void 0};return n.jsx(jS.Provider,{value:t,children:e.children})}return n.jsx(Xde,{initialProps:e.initialProps,children:e.children})}function Xde(e){var t=e.initialProps,r=e.children,a=function(i,l,u){var d,f,h;if((d=t.onDayClick)===null||d===void 0||d.call(t,i,l,u),l.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,i,l,u);return}(h=t.onSelect)===null||h===void 0||h.call(t,i,i,l,u)},s={selected:t.selected,onDayClick:a};return n.jsx(jS.Provider,{value:s,children:r})}function E3(){var e=x.useContext(jS);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Qde(e,t){var r=Kt(),a=E3(),s=gS(),i=xS(),l=bS(),u=l.focusDayAfter,d=l.focusDayBefore,f=l.focusWeekAfter,h=l.focusWeekBefore,m=l.blur,g=l.focus,j=l.focusMonthBefore,w=l.focusMonthAfter,b=l.focusYearBefore,v=l.focusYearAfter,N=l.focusStartOfWeek,S=l.focusEndOfWeek,C=function(k){var D,W,H,z;hg(r)?(D=a.onDayClick)===null||D===void 0||D.call(a,e,t,k):hf(r)?(W=s.onDayClick)===null||W===void 0||W.call(s,e,t,k):mf(r)?(H=i.onDayClick)===null||H===void 0||H.call(i,e,t,k):(z=r.onDayClick)===null||z===void 0||z.call(r,e,t,k)},A=function(k){var D;g(e),(D=r.onDayFocus)===null||D===void 0||D.call(r,e,t,k)},_=function(k){var D;m(),(D=r.onDayBlur)===null||D===void 0||D.call(r,e,t,k)},T=function(k){var D;(D=r.onDayMouseEnter)===null||D===void 0||D.call(r,e,t,k)},P=function(k){var D;(D=r.onDayMouseLeave)===null||D===void 0||D.call(r,e,t,k)},O=function(k){var D;(D=r.onDayPointerEnter)===null||D===void 0||D.call(r,e,t,k)},I=function(k){var D;(D=r.onDayPointerLeave)===null||D===void 0||D.call(r,e,t,k)},B=function(k){var D;(D=r.onDayTouchCancel)===null||D===void 0||D.call(r,e,t,k)},q=function(k){var D;(D=r.onDayTouchEnd)===null||D===void 0||D.call(r,e,t,k)},G=function(k){var D;(D=r.onDayTouchMove)===null||D===void 0||D.call(r,e,t,k)},V=function(k){var D;(D=r.onDayTouchStart)===null||D===void 0||D.call(r,e,t,k)},Z=function(k){var D;(D=r.onDayKeyUp)===null||D===void 0||D.call(r,e,t,k)},$=function(k){var D;switch(k.key){case"ArrowLeft":k.preventDefault(),k.stopPropagation(),r.dir==="rtl"?u():d();break;case"ArrowRight":k.preventDefault(),k.stopPropagation(),r.dir==="rtl"?d():u();break;case"ArrowDown":k.preventDefault(),k.stopPropagation(),f();break;case"ArrowUp":k.preventDefault(),k.stopPropagation(),h();break;case"PageUp":k.preventDefault(),k.stopPropagation(),k.shiftKey?b():j();break;case"PageDown":k.preventDefault(),k.stopPropagation(),k.shiftKey?v():w();break;case"Home":k.preventDefault(),k.stopPropagation(),N();break;case"End":k.preventDefault(),k.stopPropagation(),S();break}(D=r.onDayKeyDown)===null||D===void 0||D.call(r,e,t,k)},M={onClick:C,onFocus:A,onBlur:_,onKeyDown:$,onKeyUp:Z,onMouseEnter:T,onMouseLeave:P,onPointerEnter:O,onPointerLeave:I,onTouchCancel:B,onTouchEnd:q,onTouchMove:G,onTouchStart:V};return M}function Zde(){var e=Kt(),t=E3(),r=gS(),a=xS(),s=hg(e)?t.selected:hf(e)?r.selected:mf(e)?a.selected:void 0;return s}function Jde(e){return Object.values(La).includes(e)}function efe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(a){var s=e.modifiersClassNames[a];if(s)r.push(s);else if(Jde(a)){var i=e.classNames["day_".concat(a)];i&&r.push(i)}}),r}function tfe(e,t){var r=ft({},e.styles.day);return Object.keys(t).forEach(function(a){var s;r=ft(ft({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[a])}),r}function rfe(e,t,r){var a,s,i,l=Kt(),u=bS(),d=Kde(e,t),f=Qde(e,d),h=Zde(),m=!!(l.onDayClick||l.mode!=="default");x.useEffect(function(){var T;d.outside||u.focusedDay&&m&&Xr(u.focusedDay,e)&&((T=r.current)===null||T===void 0||T.focus())},[u.focusedDay,e,r,m,d.outside]);var g=efe(l,d).join(" "),j=tfe(l,d),w=!!(d.outside&&!l.showOutsideDays||d.hidden),b=(i=(s=l.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Nde,v=n.jsx(b,{date:e,displayMonth:t,activeModifiers:d}),N={style:j,className:g,children:v,role:"gridcell"},S=u.focusTarget&&Xr(u.focusTarget,e)&&!d.outside,C=u.focusedDay&&Xr(u.focusedDay,e),A=ft(ft(ft({},N),(a={disabled:d.disabled,role:"gridcell"},a["aria-selected"]=d.selected,a.tabIndex=C||S?0:-1,a)),f),_={isButton:m,isHidden:w,activeModifiers:d,selectedDays:h,buttonProps:A,divProps:N};return _}function nfe(e){var t=x.useRef(null),r=rfe(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(ip,ft({name:"day",ref:t},r.buttonProps)):n.jsx("div",ft({},r.divProps))}function afe(e){var t=e.number,r=e.dates,a=Kt(),s=a.onWeekNumberClick,i=a.styles,l=a.classNames,u=a.locale,d=a.labels.labelWeekNumber,f=a.formatters.formatWeekNumber,h=f(Number(t),{locale:u});if(!s)return n.jsx("span",{className:l.weeknumber,style:i.weeknumber,children:h});var m=d(Number(t),{locale:u}),g=function(j){s(t,r,j)};return n.jsx(ip,{name:"week-number","aria-label":m,className:l.weeknumber,style:i.weeknumber,onClick:g,children:h})}function sfe(e){var t,r,a=Kt(),s=a.styles,i=a.classNames,l=a.showWeekNumber,u=a.components,d=(t=u?.Day)!==null&&t!==void 0?t:nfe,f=(r=u?.WeekNumber)!==null&&r!==void 0?r:afe,h;return l&&(h=n.jsx("td",{className:i.cell,style:s.cell,children:n.jsx(f,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:s.row,children:[h,e.dates.map(function(m){return n.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:n.jsx(d,{displayMonth:e.displayMonth,date:m})},Dce(m))})]})}function sO(e,t,r){for(var a=r?.ISOWeek?l3(t):fS(t,r),s=r?.ISOWeek?Fo(e):ea(e,r),i=ns(a,s),l=[],u=0;u<=i;u++)l.push(or(s,u));var d=l.reduce(function(f,h){var m=r?.ISOWeek?d3(h):h3(h,r),g=f.find(function(j){return j.weekNumber===m});return g?(g.dates.push(h),f):(f.push({weekNumber:m,dates:[h]}),f)},[]);return d}function ife(e,t){var r=sO(Qr(e),dS(e),t);if(t?.useFixedWeeks){var a=$ce(e,t);if(a<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],l=T1(i,6-a),u=sO(T1(i,1),l,t);r.push.apply(r,u)}}return r}function ofe(e){var t,r,a,s=Kt(),i=s.locale,l=s.classNames,u=s.styles,d=s.hideHead,f=s.fixedWeeks,h=s.components,m=s.weekStartsOn,g=s.firstWeekContainsDate,j=s.ISOWeek,w=ife(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:j,locale:i,weekStartsOn:m,firstWeekContainsDate:g}),b=(t=h?.Head)!==null&&t!==void 0?t:wde,v=(r=h?.Row)!==null&&r!==void 0?r:sfe,N=(a=h?.Footer)!==null&&a!==void 0?a:yde;return n.jsxs("table",{id:e.id,className:l.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&n.jsx(b,{}),n.jsx("tbody",{className:l.tbody,style:u.tbody,children:w.map(function(S){return n.jsx(v,{displayMonth:e.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),n.jsx(N,{displayMonth:e.displayMonth})]})}function lfe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var cfe=lfe()?x.useLayoutEffect:x.useEffect,Pj=!1,ufe=0;function iO(){return"react-day-picker-".concat(++ufe)}function dfe(e){var t,r=e??(Pj?iO():null),a=x.useState(r),s=a[0],i=a[1];return cfe(function(){s===null&&i(iO())},[]),x.useEffect(function(){Pj===!1&&(Pj=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function ffe(e){var t,r,a=Kt(),s=a.dir,i=a.classNames,l=a.styles,u=a.components,d=pf().displayMonths,f=dfe(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),h=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,m=[i.month],g=l.month,j=e.displayIndex===0,w=e.displayIndex===d.length-1,b=!j&&!w;s==="rtl"&&(t=[j,w],w=t[0],j=t[1]),j&&(m.push(i.caption_start),g=ft(ft({},g),l.caption_start)),w&&(m.push(i.caption_end),g=ft(ft({},g),l.caption_end)),b&&(m.push(i.caption_between),g=ft(ft({},g),l.caption_between));var v=(r=u?.Caption)!==null&&r!==void 0?r:xde;return n.jsxs("div",{className:m.join(" "),style:g,children:[n.jsx(v,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(ofe,{id:h,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function hfe(e){var t=Kt(),r=t.classNames,a=t.styles;return n.jsx("div",{className:r.months,style:a.months,children:e.children})}function mfe(e){var t,r,a=e.initialProps,s=Kt(),i=bS(),l=pf(),u=x.useState(!1),d=u[0],f=u[1];x.useEffect(function(){s.initialFocus&&i.focusTarget&&(d||(i.focus(i.focusTarget),f(!0)))},[s.initialFocus,d,i.focus,i.focusTarget,i]);var h=[s.classNames.root,s.className];s.numberOfMonths>1&&h.push(s.classNames.multiple_months),s.showWeekNumber&&h.push(s.classNames.with_weeknumber);var m=ft(ft({},s.styles.root),s.style),g=Object.keys(a).filter(function(w){return w.startsWith("data-")}).reduce(function(w,b){var v;return ft(ft({},w),(v={},v[b]=a[b],v))},{}),j=(r=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:hfe;return n.jsx("div",ft({className:h.join(" "),style:m,dir:s.dir,id:s.id,nonce:a.nonce,title:a.title,lang:a.lang},g,{children:n.jsx(j,{children:l.displayMonths.map(function(w,b){return n.jsx(ffe,{displayIndex:b,displayMonth:w},b)})})}))}function pfe(e){var t=e.children,r=Fue(e,["children"]);return n.jsx(ade,{initialProps:r,children:n.jsx(mde,{children:n.jsx(Yde,{initialProps:r,children:n.jsx(Sde,{initialProps:r,children:n.jsx(Ede,{initialProps:r,children:n.jsx(Dde,{children:n.jsx(Gde,{children:t})})})})})})})}function gfe(e){return n.jsx(pfe,ft({},e,{children:n.jsx(mfe,{initialProps:e})}))}function yo({className:e,classNames:t,showOutsideDays:r=!0,...a}){return n.jsx(gfe,{showOutsideDays:r,className:Ve("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Ve(Zu({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Ve("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",a.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Ve(Zu({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:s,...i})=>n.jsx(y8,{className:Ve("size-4",s),...i}),IconRight:({className:s,...i})=>n.jsx(qj,{className:Ve("size-4",s),...i})},...a})}var mg="Popover",[T3,gpe]=Dn(mg,[zi]),gf=zi(),[vfe,Qi]=T3(mg),A3=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:l=!1}=e,u=gf(t),d=x.useRef(null),[f,h]=x.useState(!1),[m,g]=ls({prop:a,defaultProp:s??!1,onChange:i,caller:mg});return n.jsx(gp,{...u,children:n.jsx(vfe,{scope:t,contentId:zr(),triggerRef:d,open:m,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(j=>!j),[g]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>h(!0),[]),onCustomAnchorRemove:x.useCallback(()=>h(!1),[]),modal:l,children:r})})};A3.displayName=mg;var R3="PopoverAnchor",xfe=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=Qi(R3,r),i=gf(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=s;return x.useEffect(()=>(l(),()=>u()),[l,u]),n.jsx(Qd,{...i,...a,ref:t})});xfe.displayName=R3;var P3="PopoverTrigger",I3=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=Qi(P3,r),i=gf(r),l=Nt(t,s.triggerRef),u=n.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$3(s.open),...a,ref:l,onClick:ze(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:n.jsx(Qd,{asChild:!0,...i,children:u})});I3.displayName=P3;var wS="PopoverPortal",[yfe,bfe]=T3(wS,{forceMount:void 0}),k3=e=>{const{__scopePopover:t,forceMount:r,children:a,container:s}=e,i=Qi(wS,t);return n.jsx(yfe,{scope:t,forceMount:r,children:n.jsx(Mn,{present:r||i.open,children:n.jsx(_c,{asChild:!0,container:s,children:a})})})};k3.displayName=wS;var yc="PopoverContent",O3=x.forwardRef((e,t)=>{const r=bfe(yc,e.__scopePopover),{forceMount:a=r.forceMount,...s}=e,i=Qi(yc,e.__scopePopover);return n.jsx(Mn,{present:a||i.open,children:i.modal?n.jsx(wfe,{...s,ref:t}):n.jsx(Nfe,{...s,ref:t})})});O3.displayName=yc;var jfe=ki("PopoverContent.RemoveScroll"),wfe=x.forwardRef((e,t)=>{const r=Qi(yc,e.__scopePopover),a=x.useRef(null),s=Nt(t,a),i=x.useRef(!1);return x.useEffect(()=>{const l=a.current;if(l)return bp(l)},[]),n.jsx(Jd,{as:jfe,allowPinchZoom:!0,children:n.jsx(D3,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,l=>{l.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:ze(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Nfe=x.forwardRef((e,t)=>{const r=Qi(yc,e.__scopePopover),a=x.useRef(!1),s=x.useRef(!1);return n.jsx(D3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||r.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),D3=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,...m}=e,g=Qi(yc,r),j=gf(r);return dp(),n.jsx(Yd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(wc,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:h,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:n.jsx(vp,{"data-state":$3(g.open),role:"dialog",id:g.contentId,...j,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),M3="PopoverClose",Sfe=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=Qi(M3,r);return n.jsx(st.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,()=>s.onOpenChange(!1))})});Sfe.displayName=M3;var _fe="PopoverArrow",Cfe=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=gf(r);return n.jsx(xp,{...s,...a,ref:t})});Cfe.displayName=_fe;function $3(e){return e?"open":"closed"}var Efe=A3,Tfe=I3,Afe=k3,Rfe=O3;function pn({...e}){return n.jsx(Efe,{"data-slot":"popover",...e})}function gn({...e}){return n.jsx(Tfe,{"data-slot":"popover-trigger",...e})}function vn({className:e,align:t="center",sideOffset:r=4,...a}){return n.jsx(Afe,{children:n.jsx(Rfe,{"data-slot":"popover-content",align:t,sideOffset:r,className:Ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...a})})}var pg="Dialog",[L3,F3]=Dn(pg),[Pfe,Ba]=L3(pg),U3=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,u=x.useRef(null),d=x.useRef(null),[f,h]=ls({prop:a,defaultProp:s??!1,onChange:i,caller:pg});return n.jsx(Pfe,{scope:t,triggerRef:u,contentRef:d,contentId:zr(),titleId:zr(),descriptionId:zr(),open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),modal:l,children:r})};U3.displayName=pg;var B3="DialogTrigger",z3=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ba(B3,r),i=Nt(t,s.triggerRef);return n.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_S(s.open),...a,ref:i,onClick:ze(e.onClick,s.onOpenToggle)})});z3.displayName=B3;var NS="DialogPortal",[Ife,q3]=L3(NS,{forceMount:void 0}),W3=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:s}=e,i=Ba(NS,t);return n.jsx(Ife,{scope:t,forceMount:r,children:x.Children.map(a,l=>n.jsx(Mn,{present:r||i.open,children:n.jsx(_c,{asChild:!0,container:s,children:l})}))})};W3.displayName=NS;var op="DialogOverlay",V3=x.forwardRef((e,t)=>{const r=q3(op,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=Ba(op,e.__scopeDialog);return i.modal?n.jsx(Mn,{present:a||i.open,children:n.jsx(Ofe,{...s,ref:t})}):null});V3.displayName=op;var kfe=ki("DialogOverlay.RemoveScroll"),Ofe=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ba(op,r);return n.jsx(Jd,{as:kfe,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(st.div,{"data-state":_S(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Uo="DialogContent",H3=x.forwardRef((e,t)=>{const r=q3(Uo,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=Ba(Uo,e.__scopeDialog);return n.jsx(Mn,{present:a||i.open,children:i.modal?n.jsx(Dfe,{...s,ref:t}):n.jsx(Mfe,{...s,ref:t})})});H3.displayName=Uo;var Dfe=x.forwardRef((e,t)=>{const r=Ba(Uo,e.__scopeDialog),a=x.useRef(null),s=Nt(t,r.contentRef,a);return x.useEffect(()=>{const i=a.current;if(i)return bp(i)},[]),n.jsx(G3,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:ze(e.onFocusOutside,i=>i.preventDefault())})}),Mfe=x.forwardRef((e,t)=>{const r=Ba(Uo,e.__scopeDialog),a=x.useRef(!1),s=x.useRef(!1);return n.jsx(G3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||r.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),G3=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=e,u=Ba(Uo,r),d=x.useRef(null),f=Nt(t,d);return dp(),n.jsxs(n.Fragment,{children:[n.jsx(Yd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(wc,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":_S(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Lfe,{titleId:u.titleId}),n.jsx(Ufe,{contentRef:d,descriptionId:u.descriptionId})]})]})}),SS="DialogTitle",K3=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ba(SS,r);return n.jsx(st.h2,{id:s.titleId,...a,ref:t})});K3.displayName=SS;var Y3="DialogDescription",X3=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ba(Y3,r);return n.jsx(st.p,{id:s.descriptionId,...a,ref:t})});X3.displayName=Y3;var Q3="DialogClose",Z3=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ba(Q3,r);return n.jsx(st.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,()=>s.onOpenChange(!1))})});Z3.displayName=Q3;function _S(e){return e?"open":"closed"}var J3="DialogTitleWarning",[$fe,e5]=$6(J3,{contentName:Uo,titleName:SS,docsSlug:"dialog"}),Lfe=({titleId:e})=>{const t=e5(J3),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Ffe="DialogDescriptionWarning",Ufe=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e5(Ffe).contentName}}.`;return x.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},CS=U3,t5=z3,ES=W3,gg=V3,vg=H3,r5=K3,n5=X3,TS=Z3;function Ut({...e}){return n.jsx(CS,{"data-slot":"dialog",...e})}function Fa({...e}){return n.jsx(t5,{"data-slot":"dialog-trigger",...e})}function Bfe({...e}){return n.jsx(ES,{"data-slot":"dialog-portal",...e})}const a5=x.forwardRef(({className:e,...t},r)=>n.jsx(gg,{ref:r,"data-slot":"dialog-overlay",className:Ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));a5.displayName=gg.displayName;const $t=x.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(Bfe,{children:[n.jsx(a5,{}),n.jsxs(vg,{ref:a,"data-slot":"dialog-content",className:Ve("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n.jsxs(TS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[n.jsx(cp,{}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$t.displayName=vg.displayName;function Bt({className:e,...t}){return n.jsx("div",{"data-slot":"dialog-header",className:Ve("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Ml({className:e,...t}){return n.jsx("div",{"data-slot":"dialog-footer",className:Ve("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function zt({className:e,...t}){return n.jsx(r5,{"data-slot":"dialog-title",className:Ve("text-lg leading-none font-semibold",e),...t})}function Wt({className:e,...t}){return n.jsx(n5,{"data-slot":"dialog-description",className:Ve("text-muted-foreground text-sm",e),...t})}var oO=1,zfe=.9,qfe=.8,Wfe=.17,Ij=.1,kj=.999,Vfe=.9999,Hfe=.99,Gfe=/[\\\/_+.#"@\[\(\{&]/,Kfe=/[\\\/_+.#"@\[\(\{&]/g,Yfe=/[\s-]/,s5=/[\s-]/g;function A1(e,t,r,a,s,i,l){if(i===t.length)return s===e.length?oO:Hfe;var u=`${s},${i}`;if(l[u]!==void 0)return l[u];for(var d=a.charAt(i),f=r.indexOf(d,s),h=0,m,g,j,w;f>=0;)m=A1(e,t,r,a,f+1,i+1,l),m>h&&(f===s?m*=oO:Gfe.test(e.charAt(f-1))?(m*=qfe,j=e.slice(s,f-1).match(Kfe),j&&s>0&&(m*=Math.pow(kj,j.length))):Yfe.test(e.charAt(f-1))?(m*=zfe,w=e.slice(s,f-1).match(s5),w&&s>0&&(m*=Math.pow(kj,w.length))):(m*=Wfe,s>0&&(m*=Math.pow(kj,f-s))),e.charAt(f)!==t.charAt(i)&&(m*=Vfe)),(m<Ij&&r.charAt(f-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&r.charAt(f-1)!==a.charAt(i))&&(g=A1(e,t,r,a,f+1,i+2,l),g*Ij>m&&(m=g*Ij)),m>h&&(h=m),f=r.indexOf(d,f+1);return l[u]=h,h}function lO(e){return e.toLowerCase().replace(s5," ")}function Xfe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,A1(e,t,lO(e),lO(t),0,0,{})}var Du='[cmdk-group=""]',Oj='[cmdk-group-items=""]',Qfe='[cmdk-group-heading=""]',i5='[cmdk-item=""]',cO=`${i5}:not([aria-disabled="true"])`,R1="cmdk-item-select",Rl="data-value",Zfe=(e,t,r)=>Xfe(e,t,r),o5=x.createContext(void 0),vf=()=>x.useContext(o5),l5=x.createContext(void 0),AS=()=>x.useContext(l5),c5=x.createContext(void 0),u5=x.forwardRef((e,t)=>{let r=Pl(()=>{var F,L;return{search:"",value:(L=(F=e.value)!=null?F:e.defaultValue)!=null?L:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Pl(()=>new Set),s=Pl(()=>new Map),i=Pl(()=>new Map),l=Pl(()=>new Set),u=d5(e),{label:d,children:f,value:h,onValueChange:m,filter:g,shouldFilter:j,loop:w,disablePointerSelection:b=!1,vimBindings:v=!0,...N}=e,S=zr(),C=zr(),A=zr(),_=x.useRef(null),T=che();Bo(()=>{if(h!==void 0){let F=h.trim();r.current.value=F,P.emit()}},[h]),Bo(()=>{T(6,V)},[]);let P=x.useMemo(()=>({subscribe:F=>(l.current.add(F),()=>l.current.delete(F)),snapshot:()=>r.current,setState:(F,L,Y)=>{var ee,ce,K,fe;if(!Object.is(r.current[F],L)){if(r.current[F]=L,F==="search")G(),B(),T(1,q);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let le=document.getElementById(A);le?le.focus():(ee=document.getElementById(S))==null||ee.focus()}if(T(7,()=>{var le;r.current.selectedItemId=(le=Z())==null?void 0:le.id,P.emit()}),Y||T(5,V),((ce=u.current)==null?void 0:ce.value)!==void 0){let le=L??"";(fe=(K=u.current).onValueChange)==null||fe.call(K,le);return}}P.emit()}},emit:()=>{l.current.forEach(F=>F())}}),[]),O=x.useMemo(()=>({value:(F,L,Y)=>{var ee;L!==((ee=i.current.get(F))==null?void 0:ee.value)&&(i.current.set(F,{value:L,keywords:Y}),r.current.filtered.items.set(F,I(L,Y)),T(2,()=>{B(),P.emit()}))},item:(F,L)=>(a.current.add(F),L&&(s.current.has(L)?s.current.get(L).add(F):s.current.set(L,new Set([F]))),T(3,()=>{G(),B(),r.current.value||q(),P.emit()}),()=>{i.current.delete(F),a.current.delete(F),r.current.filtered.items.delete(F);let Y=Z();T(4,()=>{G(),Y?.getAttribute("id")===F&&q(),P.emit()})}),group:F=>(s.current.has(F)||s.current.set(F,new Set),()=>{i.current.delete(F),s.current.delete(F)}),filter:()=>u.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:S,inputId:A,labelId:C,listInnerRef:_}),[]);function I(F,L){var Y,ee;let ce=(ee=(Y=u.current)==null?void 0:Y.filter)!=null?ee:Zfe;return F?ce(F,r.current.search,L):0}function B(){if(!r.current.search||u.current.shouldFilter===!1)return;let F=r.current.filtered.items,L=[];r.current.filtered.groups.forEach(ee=>{let ce=s.current.get(ee),K=0;ce.forEach(fe=>{let le=F.get(fe);K=Math.max(le,K)}),L.push([ee,K])});let Y=_.current;$().sort((ee,ce)=>{var K,fe;let le=ee.getAttribute("id"),Ee=ce.getAttribute("id");return((K=F.get(Ee))!=null?K:0)-((fe=F.get(le))!=null?fe:0)}).forEach(ee=>{let ce=ee.closest(Oj);ce?ce.appendChild(ee.parentElement===ce?ee:ee.closest(`${Oj} > *`)):Y.appendChild(ee.parentElement===Y?ee:ee.closest(`${Oj} > *`))}),L.sort((ee,ce)=>ce[1]-ee[1]).forEach(ee=>{var ce;let K=(ce=_.current)==null?void 0:ce.querySelector(`${Du}[${Rl}="${encodeURIComponent(ee[0])}"]`);K?.parentElement.appendChild(K)})}function q(){let F=$().find(Y=>Y.getAttribute("aria-disabled")!=="true"),L=F?.getAttribute(Rl);P.setState("value",L||void 0)}function G(){var F,L,Y,ee;if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let ce=0;for(let K of a.current){let fe=(L=(F=i.current.get(K))==null?void 0:F.value)!=null?L:"",le=(ee=(Y=i.current.get(K))==null?void 0:Y.keywords)!=null?ee:[],Ee=I(fe,le);r.current.filtered.items.set(K,Ee),Ee>0&&ce++}for(let[K,fe]of s.current)for(let le of fe)if(r.current.filtered.items.get(le)>0){r.current.filtered.groups.add(K);break}r.current.filtered.count=ce}function V(){var F,L,Y;let ee=Z();ee&&(((F=ee.parentElement)==null?void 0:F.firstChild)===ee&&((Y=(L=ee.closest(Du))==null?void 0:L.querySelector(Qfe))==null||Y.scrollIntoView({block:"nearest"})),ee.scrollIntoView({block:"nearest"}))}function Z(){var F;return(F=_.current)==null?void 0:F.querySelector(`${i5}[aria-selected="true"]`)}function $(){var F;return Array.from(((F=_.current)==null?void 0:F.querySelectorAll(cO))||[])}function M(F){let L=$()[F];L&&P.setState("value",L.getAttribute(Rl))}function k(F){var L;let Y=Z(),ee=$(),ce=ee.findIndex(fe=>fe===Y),K=ee[ce+F];(L=u.current)!=null&&L.loop&&(K=ce+F<0?ee[ee.length-1]:ce+F===ee.length?ee[0]:ee[ce+F]),K&&P.setState("value",K.getAttribute(Rl))}function D(F){let L=Z(),Y=L?.closest(Du),ee;for(;Y&&!ee;)Y=F>0?ohe(Y,Du):lhe(Y,Du),ee=Y?.querySelector(cO);ee?P.setState("value",ee.getAttribute(Rl)):k(F)}let W=()=>M($().length-1),H=F=>{F.preventDefault(),F.metaKey?W():F.altKey?D(1):k(1)},z=F=>{F.preventDefault(),F.metaKey?M(0):F.altKey?D(-1):k(-1)};return x.createElement(st.div,{ref:t,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:F=>{var L;(L=N.onKeyDown)==null||L.call(N,F);let Y=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||Y))switch(F.key){case"n":case"j":{v&&F.ctrlKey&&H(F);break}case"ArrowDown":{H(F);break}case"p":case"k":{v&&F.ctrlKey&&z(F);break}case"ArrowUp":{z(F);break}case"Home":{F.preventDefault(),M(0);break}case"End":{F.preventDefault(),W();break}case"Enter":{F.preventDefault();let ee=Z();if(ee){let ce=new Event(R1);ee.dispatchEvent(ce)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:dhe},d),xg(e,F=>x.createElement(l5.Provider,{value:P},x.createElement(o5.Provider,{value:O},F))))}),Jfe=x.forwardRef((e,t)=>{var r,a;let s=zr(),i=x.useRef(null),l=x.useContext(c5),u=vf(),d=d5(e),f=(a=(r=d.current)==null?void 0:r.forceMount)!=null?a:l?.forceMount;Bo(()=>{if(!f)return u.item(s,l?.id)},[f]);let h=f5(s,i,[e.value,e.children,i],e.keywords),m=AS(),g=Fi(T=>T.value&&T.value===h.current),j=Fi(T=>f||u.filter()===!1?!0:T.search?T.filtered.items.get(s)>0:!0);x.useEffect(()=>{let T=i.current;if(!(!T||e.disabled))return T.addEventListener(R1,w),()=>T.removeEventListener(R1,w)},[j,e.onSelect,e.disabled]);function w(){var T,P;b(),(P=(T=d.current).onSelect)==null||P.call(T,h.current)}function b(){m.setState("value",h.current,!0)}if(!j)return null;let{disabled:v,value:N,onSelect:S,forceMount:C,keywords:A,..._}=e;return x.createElement(st.div,{ref:Ls(i,t),..._,id:s,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!g,"data-disabled":!!v,"data-selected":!!g,onPointerMove:v||u.getDisablePointerSelection()?void 0:b,onClick:v?void 0:w},e.children)}),ehe=x.forwardRef((e,t)=>{let{heading:r,children:a,forceMount:s,...i}=e,l=zr(),u=x.useRef(null),d=x.useRef(null),f=zr(),h=vf(),m=Fi(j=>s||h.filter()===!1?!0:j.search?j.filtered.groups.has(l):!0);Bo(()=>h.group(l),[]),f5(l,u,[e.value,e.heading,d]);let g=x.useMemo(()=>({id:l,forceMount:s}),[s]);return x.createElement(st.div,{ref:Ls(u,t),...i,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&x.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:f},r),xg(e,j=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?f:void 0},x.createElement(c5.Provider,{value:g},j))))}),the=x.forwardRef((e,t)=>{let{alwaysRender:r,...a}=e,s=x.useRef(null),i=Fi(l=>!l.search);return!r&&!i?null:x.createElement(st.div,{ref:Ls(s,t),...a,"cmdk-separator":"",role:"separator"})}),rhe=x.forwardRef((e,t)=>{let{onValueChange:r,...a}=e,s=e.value!=null,i=AS(),l=Fi(f=>f.search),u=Fi(f=>f.selectedItemId),d=vf();return x.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),x.createElement(st.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:s?e.value:l,onChange:f=>{s||i.setState("search",f.target.value),r?.(f.target.value)}})}),nhe=x.forwardRef((e,t)=>{let{children:r,label:a="Suggestions",...s}=e,i=x.useRef(null),l=x.useRef(null),u=Fi(f=>f.selectedItemId),d=vf();return x.useEffect(()=>{if(l.current&&i.current){let f=l.current,h=i.current,m,g=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let j=f.offsetHeight;h.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return g.observe(f),()=>{cancelAnimationFrame(m),g.unobserve(f)}}},[]),x.createElement(st.div,{ref:Ls(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":a,id:d.listId},xg(e,f=>x.createElement("div",{ref:Ls(l,d.listInnerRef),"cmdk-list-sizer":""},f)))}),ahe=x.forwardRef((e,t)=>{let{open:r,onOpenChange:a,overlayClassName:s,contentClassName:i,container:l,...u}=e;return x.createElement(CS,{open:r,onOpenChange:a},x.createElement(ES,{container:l},x.createElement(gg,{"cmdk-overlay":"",className:s}),x.createElement(vg,{"aria-label":e.label,"cmdk-dialog":"",className:i},x.createElement(u5,{ref:t,...u}))))}),she=x.forwardRef((e,t)=>Fi(r=>r.filtered.count===0)?x.createElement(st.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),ihe=x.forwardRef((e,t)=>{let{progress:r,children:a,label:s="Loading...",...i}=e;return x.createElement(st.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},xg(e,l=>x.createElement("div",{"aria-hidden":!0},l)))}),Oc=Object.assign(u5,{List:nhe,Item:Jfe,Input:rhe,Group:ehe,Separator:the,Dialog:ahe,Empty:she,Loading:ihe});function ohe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function lhe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function d5(e){let t=x.useRef(e);return Bo(()=>{t.current=e}),t}var Bo=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Pl(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Fi(e){let t=AS(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function f5(e,t,r,a=[]){let s=x.useRef(),i=vf();return Bo(()=>{var l;let u=(()=>{var f;for(let h of r){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(f=h.current.textContent)==null?void 0:f.trim():s.current}})(),d=a.map(f=>f.trim());i.value(e,u,d),(l=t.current)==null||l.setAttribute(Rl,u),s.current=u}),s}var che=()=>{let[e,t]=x.useState(),r=Pl(()=>new Map);return Bo(()=>{r.current.forEach(a=>a()),r.current=new Map},[e]),(a,s)=>{r.current.set(a,s),t({})}};function uhe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function xg({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(uhe(t),{ref:t.ref},r(t.props.children)):r(t)}var dhe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function wi({className:e,...t}){return n.jsx(Oc,{"data-slot":"command",className:Ve("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function Ni({className:e,...t}){return n.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[n.jsx(xr,{className:"size-4 shrink-0 opacity-50"}),n.jsx(Oc.Input,{"data-slot":"command-input",className:Ve("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function Si({className:e,...t}){return n.jsx(Oc.List,{"data-slot":"command-list",className:Ve("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function _i({...e}){return n.jsx(Oc.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function As({className:e,...t}){return n.jsx(Oc.Group,{"data-slot":"command-group",className:Ve("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function Ei({className:e,...t}){return n.jsx(Oc.Item,{"data-slot":"command-item",className:Ve("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Qu(e){const[t,r]=x.useState([]),[a,s]=x.useState(!1),[i,l]=x.useState(null),u=Ps.getInstance(),d=x.useMemo(()=>u.getHandler(e),[u,e]),f=x.useCallback(async()=>{s(!0),l(null);try{const h=await d.getItems();r(h)}catch(h){console.error(`Failed to load ${e}:`,h),l(h instanceof Error?h.message:`Failed to load ${e}`)}finally{s(!1)}},[d,e]);return x.useEffect(()=>{f()},[f]),{items:t,loading:a,error:i,refetch:f}}function fhe({value:e,onValueChange:t,onCounterpartyAdd:r,filterByCategory:a,onCategoryChange:s,compact:i=!1}){const[l,u]=x.useState(!1),[d,f]=x.useState(""),{items:h,loading:m,error:g}=Qu("counterparties"),j=h.filter(N=>{const S=N.isActive,C=!a||N.category===a,A=!d||N.name?.toLowerCase().includes(d.toLowerCase())||N.binIin?.includes(d)||N.email&&N.email.toLowerCase().includes(d.toLowerCase())||N.region&&N.region.toLowerCase().includes(d.toLowerCase())||N.abbreviation?.toLowerCase().includes(d.toLowerCase());return S&&C&&A}),w=j.reduce((N,S)=>{const C=S.category;return N[C]||(N[C]=[]),N[C].push(S),N},{}),b=h.find(N=>N.id===e),v=N=>{switch(N){case"Поставщик СХ":return"bg-green-100 text-green-800";case"Элеватор":return"bg-blue-100 text-blue-800";case"Поставщик Услуг":return"bg-orange-100 text-orange-800";case"Покупатель":return"bg-purple-100 text-purple-800";case"Партнер/БВУ":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"space-y-2",children:[!i&&n.jsxs(ae,{children:["Контрагент *",a&&n.jsx(je,{className:`ml-2 ${v(a)}`,children:a})]}),n.jsxs("div",{className:"flex gap-2 items-stretch",style:{alignItems:"stretch"},children:[n.jsx("div",{className:"flex-1",children:n.jsxs(et,{value:a||"",onValueChange:N=>{s&&s(N)},children:[n.jsx(rt,{className:"h-12 min-h-12",style:{height:"48px",minHeight:"48px"},children:n.jsx(tt,{placeholder:"Выберите категорию"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"Поставщик СХ",children:"Поставщик СХ"}),n.jsx(xe,{value:"Элеватор",children:"Элеватор"}),n.jsx(xe,{value:"Поставщик Услуг",children:"Поставщик Услуг"}),n.jsx(xe,{value:"Покупатель",children:"Покупатель"}),n.jsx(xe,{value:"Партнер/БВУ",children:"Партнер/БВУ"})]})]})}),n.jsx("div",{className:"flex-1",children:n.jsxs(pn,{open:l,onOpenChange:N=>{u(N),N||f("")},children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between h-12 min-h-12",style:{height:"48px",minHeight:"48px"},children:[b?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(os,{className:"h-4 w-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:b.name})]}):n.jsx("span",{className:"text-muted-foreground",children:a?`Выберите контрагента (${a})...`:"Выберите контрагента..."}),n.jsx(FO,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(vn,{className:"w-full p-0",align:"start",children:n.jsxs(wi,{shouldFilter:!1,children:[n.jsx(Ni,{placeholder:a?`Поиск среди ${a.toLowerCase()}...`:"Поиск контрагента...",value:d,onValueChange:f}),n.jsxs(Si,{className:"max-h-[300px]",children:[n.jsx(_i,{children:m?n.jsxs("div",{className:"flex items-center justify-center py-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),n.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Загрузка контрагентов..."})]}):g?n.jsxs("div",{className:"text-center py-4 text-red-500",children:[n.jsx("p",{children:"Ошибка загрузки контрагентов"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:g})]}):j.length===0?a?`Контрагенты категории "${a}" не найдены.`:"Контрагент не найден.":null}),a?n.jsx(As,{children:j.map(N=>n.jsxs(Ei,{value:N.id,onSelect:()=>{t(N.id),u(!1)},className:"flex items-start gap-2 p-3",children:[n.jsx(td,{className:Ve("h-4 w-4 mt-0.5 flex-shrink-0",e===N.id?"opacity-100":"opacity-0")}),n.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[n.jsx("span",{className:"truncate",children:N.name}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["БИН/ИИН: ",N.binIin]}),N.region&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(kE,{className:"h-3 w-3"}),N.region]})]})]})]},N.id))}):Object.entries(w).map(([N,S])=>n.jsx(As,{heading:N,children:S.map(C=>n.jsxs(Ei,{value:C.id,onSelect:()=>{t(C.id),u(!1)},className:"flex items-start gap-2 p-3",children:[n.jsx(td,{className:Ve("h-4 w-4 mt-0.5 flex-shrink-0",e===C.id?"opacity-100":"opacity-0")}),n.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"truncate",children:C.name}),n.jsx(je,{className:`${v(C.category)} text-xs px-1 py-0 flex-shrink-0`,children:C.category})]}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["БИН/ИИН: ",C.binIin]}),C.region&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(kE,{className:"h-3 w-3"}),C.region]})]})]})]},C.id))},N))]})]})})]})}),n.jsx("div",{className:"flex-1 rounded-md border p-3 bg-muted/30 h-12 min-h-12 flex items-center",style:{height:"48px",minHeight:"48px"},children:b?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4 text-sm text-muted-foreground w-full",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"БИН/ИИН:"})," ",b.binIin]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Адрес:"})," ",b.address||"Не указан"]})]}):n.jsx("div",{className:"text-sm text-muted-foreground w-full text-center",children:"Выберите контрагента для просмотра деталей"})})]})]})}function h5({onFileSelect:e,onFileNameChange:t,acceptedTypes:r=[".pdf",".jpg",".jpeg",".png"],maxSize:a=10,currentFileName:s,files:i=[],onRemoveFile:l,onViewFile:u,multiple:d=!1}){const f=h=>{if(!h)return;Array.from(h).forEach(g=>{if(g.size>a*1024*1024){alert(`Файл "${g.name}" слишком большой. Максимальный размер: ${a}MB`);return}e(g)})};return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",asChild:!0,size:"sm",children:n.jsxs("label",{className:"cursor-pointer",children:[n.jsx(Ao,{className:"h-4 w-4 mr-1"}),d?"Выберите файлы":"Выберите файл",n.jsx("input",{type:"file",className:"hidden",accept:r.join(","),multiple:d,onChange:h=>f(h.target.files)})]})}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.join(", "),", макс. ",a,"MB"]})]}),i&&i.length>0&&n.jsx("div",{className:"space-y-1",children:i.map(h=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[n.jsx(yt,{className:"h-3 w-3 text-blue-500 flex-shrink-0"}),n.jsx("span",{className:"font-medium truncate",children:h.name}),n.jsxs("span",{className:"text-gray-500 flex-shrink-0",children:["(",h.originalName,")"]})]}),n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[u&&n.jsx(X,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>u(h.url),children:"Просмотр"}),l&&n.jsx(X,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>l(h.id),children:n.jsx(cp,{className:"h-3 w-3"})})]})]},h.id))})]})}function hhe(){const e=Date.now().toString().slice(-6),t=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`REQ-${e}-${t}`}const mhe=e=>{const{formData:t,draftId:r,debounceMs:a=1e3,enabled:s=!0,autoSaveDisabled:i=!1,onDraftCreated:l}=e,[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,g]=x.useState(null),[j,w]=x.useState(null),b=x.useRef(null),v=x.useRef(0),N=x.useRef(s),S=x.useRef(null);x.useEffect(()=>{N.current=s},[s]);const C=()=>{b.current!==null&&(window.clearTimeout(b.current),b.current=null)},A=x.useCallback(()=>{C(),v.current+=1},[]),_=x.useCallback(()=>d(!1),[]),T=x.useCallback(async O=>{if(N.current&&O===v.current&&!(t.status&&t.status!==Ti.DRAFT))try{if(h(!0),w(null),S.current=O,r){const{status:I,...B}=t;await dt.update(r,{...B,payingCompany:B.payingCompany,docType:B.docType,counterpartyCategory:B.counterpartyCategory,currency:B.currency,vatRate:B.vatRate})}else{const I=await dt.create({...t,status:Ti.DRAFT,payingCompany:t.payingCompany,docType:t.docType,counterpartyCategory:t.counterpartyCategory,currency:t.currency,vatRate:t.vatRate});if(O!==v.current)return;l?.(I.id)}if(O!==v.current)return;d(!1),g(new Date)}catch(I){if(O!==v.current)return;w(I?.message??"Auto-save error")}finally{O===S.current&&(h(!1),S.current=null)}},[r,t,l]);x.useEffect(()=>{if(!s||i||t.status&&t.status!==Ti.DRAFT)return;d(!0),C();const O=v.current+1;return v.current=O,b.current=window.setTimeout(()=>{T(O)},a),()=>{C(),v.current+=1}},[t.payingCompany,t.docType,t.counterpartyId,t.counterpartyCategory,t.amount,t.currency,t.vatRate,t.dueDate,t.expenseCategory,t.productService,t.volume,t.priceRate,t.period,t.docNumber,t.docDate,t.fileName,t.docFileUrl,t.files?.length,s,i,a]),x.useEffect(()=>{(!s||i)&&A()},[s,i]);const P=x.useCallback(async()=>{if(!s||!u||i||!t.counterpartyId||!t.dueDate||f)return;const O=v.current+1;v.current=O,await T(O)},[s,u,i,t.counterpartyId,t.dueDate,f,T]);return{isDirty:u,isSaving:f,lastSaved:m,error:j,saveDraft:P,markClean:_,cancelAutoSave:A}},m5=e=>{const{docType:t,docNumber:r,docDate:a,payingCompany:s,counterpartyName:i}=e,l=w=>{try{const b=new Date(w);return isNaN(b.getTime())?"unknown-date":b.toISOString().split("T")[0]}catch{return"unknown-date"}},u=w=>w.replace(/[^a-zA-Z0-9а-яА-Я\s-]/g,"").replace(/\s+/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),d=l(a),f=u(t),h=u(r),m=u(s),g=u(i);return[f,h,d,m,g].filter(Boolean).join("_")+".pdf"};function p5({onSubmit:e,onCancel:t,onSaveDraft:r,initialData:a,isEditing:s,selectedRequestId:i}){const{user:l}=Ui(),{items:u}=Qu("counterparties"),{items:d}=Qu("currencies"),{items:f}=Qu("vat-rates"),[h,m]=x.useState({payingCompany:"",docType:"",counterpartyId:"",counterpartyCategory:"",amount:"",currency:"",vatRate:"",dueDate:void 0,docNumber:"",docDate:"",fileName:"",docFileUrl:"",files:[],expenseCategory:"",productService:"",volume:"",priceRate:"",period:""}),[g,j]=x.useState({}),[w,b]=x.useState(!1),[v,N]=x.useState(!1),[S,C]=x.useState(!1),[A,_]=x.useState(null),[T,P]=x.useState(!1),[O,I]=x.useState(!1),B=Q.useRef(null),q=Q.useRef(!1),G=Q.useRef(!1),V=x.useCallback(oe=>{_(oe),B.current=oe},[]);x.useEffect(()=>{B.current=A},[A]);const Z=()=>{m({payingCompany:"",docType:"",counterpartyId:"",counterpartyCategory:"",amount:"",currency:"",vatRate:"",dueDate:void 0,docNumber:"",docDate:"",fileName:"",docFileUrl:"",files:[],expenseCategory:"",productService:"",volume:"",priceRate:"",period:""})},$=q.current?Ti.SUBMITTED:Ti.DRAFT,{isDirty:M,isSaving:k,lastSaved:D,error:W,markClean:H,cancelAutoSave:z}=mhe({formData:{id:A||void 0,payingCompany:h.payingCompany,docType:h.docType,counterpartyId:h.counterpartyId,counterpartyCategory:h.counterpartyCategory,amount:h.amount?Number(h.amount.replace(",",".")):0,currency:h.currency,vatRate:h.vatRate,dueDate:h.dueDate?.toISOString().split("T")[0]||"",description:[h.expenseCategory&&`Статья расходов: ${h.expenseCategory}`,h.productService&&`Товар/услуга: ${h.productService}`,h.volume&&`Объем: ${h.volume}`,h.priceRate&&`Цена/тариф: ${h.priceRate}`,h.period&&`Период: ${h.period}`].filter(Boolean).join(", "),expenseCategory:h.expenseCategory,productService:h.productService,volume:h.volume,priceRate:h.priceRate,period:h.period,docNumber:h.docNumber,docDate:h.docDate,fileName:h.fileName,docFileUrl:h.docFileUrl,files:h.files||[],status:$,createdBy:l?.id||"",history:[],expenseSplits:[],paymentAllocations:[],paymentExecution:void 0,attachments:[]},draftId:A||void 0,enabled:O&&!v&&!S&&!w&&!T&&!q.current&&!G.current,autoSaveDisabled:T,onDraftCreated:V}),F=(oe=!1)=>{const Ce=[h.expenseCategory&&`Статья расходов: ${h.expenseCategory}`,h.productService&&`Товар/услуга: ${h.productService}`,h.volume&&`Объем: ${h.volume}`,h.priceRate&&`Цена/тариф: ${h.priceRate}`,h.period&&`Период: ${h.period}`].filter(Boolean).join(", ");return{...A?{id:A}:{},...A?{}:{requestNumber:hhe()},payingCompany:h.payingCompany||"",docType:h.docType||"",counterpartyId:h.counterpartyId,counterpartyCategory:h.counterpartyCategory,amount:h.amount?Number(h.amount.replace(",",".")):0,currency:h.currency||"",vatRate:h.vatRate||"Неизвестно",dueDate:h.dueDate?.toISOString().split("T")[0]||"",description:Ce,expenseCategory:h.expenseCategory,productService:h.productService,volume:h.volume,priceRate:h.priceRate,period:h.period,docNumber:h.docNumber,docDate:h.docDate,fileName:h.fileName,docFileUrl:h.docFileUrl,files:h.files||[],...oe?{status:Ti.DRAFT}:{},...A?{updatedAt:new Date().toISOString()}:{createdAt:new Date().toISOString()},history:[{id:Date.now().toString(),date:new Date().toISOString(),action:oe?"Черновик сохранен":"Заявка отправлена на рассмотрение",userId:l?.id||"",role:"EXECUTOR"}],expenseSplits:[]}};x.useEffect(()=>{a&&s&&(m({payingCompany:a.payingCompany||"",docType:a.docType||"",counterpartyId:a.counterpartyId||"",counterpartyCategory:a.counterpartyCategory||"",amount:a.amount?a.amount.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}):"",currency:a.currency||"",vatRate:a.vatRate||"",dueDate:a.dueDate?new Date(a.dueDate):void 0,docNumber:a.docNumber||"",docDate:a.docDate||"",fileName:a.fileName||"",docFileUrl:a.docFileUrl||"",files:a.files||[],expenseCategory:a.expenseCategory||"",productService:a.productService||"",volume:a.volume||"",priceRate:a.priceRate||"",period:a.period||""}),_(a.id),B.current=a.id,a.status&&a.status!==Ti.DRAFT&&(P(!0),q.current=!0))},[a,s]),x.useEffect(()=>{i&&!s&&(_(i),B.current=i)},[i,s]),x.useEffect(()=>()=>{z()},[z]);const L=oe=>{const Ce=Y(),Ue=oe.name.split(".").pop(),ot=((h.files?.length||0)+1).toString().padStart(2,"0"),bt=Ce?`${Ce}_${ot}.${Ue}`:oe.name,te={id:`file_${Date.now()}`,name:bt,url:`/uploads/${bt}`,originalName:oe.name,mimeType:oe.type||"application/octet-stream",docType:h.docType||"Заявка"};m(se=>({...se,files:[...se.files||[],te],docFileUrl:te.url,fileName:te.name})),be.success("Файл загружен")},Y=()=>{if(!h.docType||!h.docNumber||!h.docDate||!h.payingCompany||!h.counterpartyId)return"";const Ce=u.find(Ue=>Ue.id===h.counterpartyId)?.name||"Unknown";return m5({docType:h.docType,docNumber:h.docNumber,docDate:h.docDate,payingCompany:h.payingCompany,counterpartyName:Ce})};x.useEffect(()=>{const oe=Y();oe&&!h.fileName.includes("original_")&&m(Ce=>({...Ce,fileName:oe}))},[h.docType,h.docNumber,h.docDate,h.payingCompany,h.counterpartyId]);const ee=oe=>{m(Ce=>({...Ce,fileName:oe}))},ce=oe=>{m(Ce=>{const Ue=(Ce.files||[]).filter(ot=>ot.id!==oe);return{...Ce,files:Ue,docFileUrl:Ue[0]?.url||"",fileName:Ue[0]?.name||""}}),be.success("Файл удален")},K=oe=>{window.open(oe,"_blank")},fe=oe=>{const Ce=oe.replace(/[^\d.,]/g,"");m(Ue=>({...Ue,amount:Ce}))},le=()=>{const oe={};return h.payingCompany||(oe.payingCompany="Выберите оплачивающую компанию"),h.docType||(oe.docType="Выберите тип документа-основания"),h.counterpartyCategory||(oe.counterpartyCategory="Выберите категорию контрагента"),h.counterpartyId||(oe.counterparty="Выберите контрагента"),h.docNumber||(oe.docNumber="Номер документа обязателен"),h.docDate||(oe.docDate="Дата документа обязательна"),(h.files?.length||0)===0&&(oe.file="Необходимо приложить документ-основание"),(!h.amount||isNaN(Number(h.amount.replace(",",".")))||Number(h.amount.replace(",","."))<=0)&&(oe.amount="Введите корректную сумму"),(!h.currency||h.currency.trim()==="")&&(oe.currency="Валюта обязательна для заполнения"),(!h.vatRate||h.vatRate.trim()==="")&&(oe.vatRate="Ставка НДС обязательна для заполнения"),h.dueDate||(oe.dueDate="Выберите срок оплаты"),h.expenseCategory.trim()||(oe.expenseCategory="Статья расходов обязательна для заполнения"),h.productService.trim()||(oe.productService="Товар/услуга обязательны для заполнения"),h.volume.trim()||(oe.volume="Объем обязателен для заполнения"),h.priceRate.trim()||(oe.priceRate="Цена/тариф обязательны для заполнения"),h.period.trim()||(oe.period="Период обязателен для заполнения"),j(oe),Object.keys(oe).length===0},Ee=()=>{if(!le()){be.error("Пожалуйста, исправьте ошибки в форме");return}G.current=!0,z(),P(!0),b(!0)},De=async()=>{z();let oe=0;for(;k&&oe<10;)await new Promise(Ue=>setTimeout(Ue,100)),oe++;G.current&&B.current==null&&A==null&&await new Promise(Ue=>setTimeout(Ue,0));let Ce=B.current??A;if(Ce){const Ue=F(!1),{status:ot,...bt}=Ue;return await dt.update(Ce,bt),await dt.submit(Ce)}else{const Ue=F(!0);return Ce=(await dt.create(Ue)).id,_(Ce),B.current=Ce,await dt.submit(Ce)}},re=async()=>{N(!0),b(!1),G.current=!0,q.current=!0,P(!0),z();try{const oe=await De();H(),_(null),B.current=null,Z(),I(!1),be.success("Заявка успешно отправлена на рассмотрение"),e(oe)}catch(oe){console.error("Failed to submit request:",oe),be.error("Ошибка при отправке заявки"),q.current=!1,P(!1),G.current=!1}finally{G.current=!1,N(!1)}},$e=async()=>{if(!S)try{if(C(!0),A){console.log("🔄 Manual save: Updating existing draft...");const oe=F(!0),Ce=await dt.update(A,oe);H(),be.success("Черновик сохранен"),r&&r(Ce)}else{console.log("📝 Manual save: Creating new draft...");const oe=F(!0),Ce=await dt.create(oe);_(Ce.id),B.current=Ce.id,H(),be.success("Черновик сохранен"),r&&r(Ce)}}catch(oe){console.error("Failed to save draft:",oe),be.error("Ошибка при сохранении черновика")}finally{C(!1)}};return n.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",onClick:t,children:[n.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Назад"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold",children:s?"Редактирование заявки":"Новая заявка на оплату"}),n.jsx("p",{className:"text-muted-foreground",children:s?"Внесите изменения в заявку":"Заполните форму для создания новой заявки"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[k&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary"}),n.jsx("span",{children:"Сохранение..."})]}),D&&!k&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsxs("span",{children:["Сохранено ",mt(D,"HH:mm",{locale:St})]})]}),M&&!k&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"h-2 w-2 bg-orange-500 rounded-full"}),n.jsx("span",{children:"Есть несохраненные изменения"})]})]})]}),W&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-red-600",children:["Ошибка автосохранения: ",W]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"Информация о документе"]})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"payingCompany",children:"Оплачивающая компания *"}),n.jsxs(et,{value:h.payingCompany||"",onValueChange:oe=>m(Ce=>({...Ce,payingCompany:oe})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите компанию"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"SD",children:"SD"}),n.jsx(xe,{value:"KD",children:"KD"}),n.jsx(xe,{value:"AEK",children:"AEK"}),n.jsx(xe,{value:"ADT",children:"ADT"}),n.jsx(xe,{value:"KAS",children:"KAS"})]})]}),g.payingCompany&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.payingCompany})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"docType",children:"Тип документа-основания *"}),n.jsxs(et,{value:h.docType||"",onValueChange:oe=>m(Ce=>({...Ce,docType:oe})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите тип"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"СНО",children:"СНО"}),n.jsx(xe,{value:"АО",children:"АО"}),n.jsx(xe,{value:"Договор",children:"Договор"}),n.jsx(xe,{value:"Debit note",children:"Debit note"}),n.jsx(xe,{value:"АВР",children:"АВР"}),n.jsx(xe,{value:"Акт сверки",children:"Акт сверки"}),n.jsx(xe,{value:"ЭСФ",children:"ЭСФ"}),n.jsx(xe,{value:"Заявка",children:"Заявка"}),n.jsx(xe,{value:"Счет-фактура",children:"Счет-фактура"}),n.jsx(xe,{value:"Акт выполненных работ",children:"Акт выполненных работ"}),n.jsx(xe,{value:"Накладная",children:"Накладная"})]})]}),g.docType&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.docType})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fhe,{value:h.counterpartyId,onValueChange:oe=>m(Ce=>({...Ce,counterpartyId:oe})),filterByCategory:h.counterpartyCategory,onCategoryChange:oe=>{m(Ce=>({...Ce,counterpartyCategory:oe,counterpartyId:""}))}}),g.counterparty&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.counterparty}),g.counterpartyCategory&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.counterpartyCategory})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"docNumber",children:"Номер документа *"}),n.jsx(Ie,{id:"docNumber",value:h.docNumber,onChange:oe=>m(Ce=>({...Ce,docNumber:oe.target.value})),placeholder:"Введите номер документа"}),g.docNumber&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.docNumber})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"docDate",children:"Дата документа *"}),n.jsx(Ie,{id:"docDate",type:"date",value:h.docDate,onChange:oe=>m(Ce=>({...Ce,docDate:oe.target.value}))}),g.docDate&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.docDate})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"file",children:"Документы-основания *"}),n.jsx(h5,{onFileSelect:L,onFileNameChange:ee,currentFileName:h.fileName,files:h.files,onRemoveFile:ce,onViewFile:K,acceptedTypes:[".pdf",".doc",".docx",".xls",".xlsx",".jpg",".jpeg",".png"],maxSize:10,multiple:!0}),g.file&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.file})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(MO,{className:"h-5 w-5"}),"Информация об оплате"]})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"amount",children:"Сумма *"}),n.jsx(Ie,{id:"amount",value:h.amount,onChange:oe=>fe(oe.target.value),placeholder:"0,00"}),g.amount&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.amount})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"currency",children:"Валюта *"}),n.jsxs(et,{value:h.currency||"",onValueChange:oe=>m(Ce=>({...Ce,currency:oe})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите валюту"})}),n.jsx(nt,{children:d.map(oe=>n.jsx(xe,{value:oe.code,children:oe.name||oe.code},oe.code))})]}),g.currency&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.currency})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"vatRate",children:"Ставка НДС *"}),n.jsxs(et,{value:h.vatRate||"",onValueChange:oe=>m(Ce=>({...Ce,vatRate:oe})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите ставку НДС"})}),n.jsx(nt,{children:f.map(oe=>n.jsx(xe,{value:oe.name,children:oe.name},oe.id))})]}),g.vatRate&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.vatRate})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"dueDate",children:"Срок оплаты *"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:Ve("w-full justify-start text-left font-normal",!h.dueDate&&"text-muted-foreground"),children:[n.jsx(vr,{className:"mr-2 h-4 w-4"}),h.dueDate?mt(h.dueDate,"dd.MM.yyyy",{locale:St}):"Выберите дату"]})}),n.jsx(vn,{className:"w-auto p-0",children:n.jsx(yo,{mode:"single",selected:h.dueDate,onSelect:oe=>m(Ce=>({...Ce,dueDate:oe})),initialFocus:!0})})]}),g.dueDate&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.dueDate})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Описание заявки"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"expenseCategory",className:"text-xs",children:"Статья расходов *"}),n.jsx(Ie,{id:"expenseCategory",value:h.expenseCategory,onChange:oe=>m(Ce=>({...Ce,expenseCategory:oe.target.value})),placeholder:"Введите статью расходов",className:"h-8 text-sm"}),g.expenseCategory&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:g.expenseCategory})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"productService",className:"text-xs",children:"Товар/услуга *"}),n.jsx(Ie,{id:"productService",value:h.productService,onChange:oe=>m(Ce=>({...Ce,productService:oe.target.value})),placeholder:"Введите товар или услугу",className:"h-8 text-sm"}),g.productService&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:g.productService})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"volume",className:"text-xs",children:"Объем *"}),n.jsx(Ie,{id:"volume",value:h.volume,onChange:oe=>m(Ce=>({...Ce,volume:oe.target.value})),placeholder:"Введите объем",className:"h-8 text-sm"}),g.volume&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:g.volume})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"priceRate",className:"text-xs",children:"Цена/тариф *"}),n.jsx(Ie,{id:"priceRate",value:h.priceRate,onChange:oe=>m(Ce=>({...Ce,priceRate:oe.target.value})),placeholder:"Введите цену или тариф",className:"h-8 text-sm"}),g.priceRate&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:g.priceRate})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"period",className:"text-xs",children:"Период *"}),n.jsx(Ie,{id:"period",value:h.period,onChange:oe=>m(Ce=>({...Ce,period:oe.target.value})),placeholder:"Введите период",className:"h-8 text-sm"}),g.period&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:g.period})]})]})]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(X,{variant:"outline",onClick:$e,disabled:v||S,children:[n.jsx(Gd,{className:"h-4 w-4 mr-2"}),S?"Сохранение...":"Сохранить черновик"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",onClick:t,disabled:v,children:"Отмена"}),n.jsxs(X,{onClick:Ee,disabled:v,children:[n.jsx(lp,{className:"h-4 w-4 mr-2"}),v?"Отправка...":"Отправить заявку"]})]})]}),n.jsx(Ut,{open:w,onOpenChange:b,children:n.jsxs($t,{children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Подтверждение отправки"}),n.jsx(Wt,{children:"Вы уверены, что хотите отправить заявку на рассмотрение? После отправки вы не сможете редактировать заявку."})]}),n.jsxs(Ml,{children:[n.jsx(X,{variant:"outline",onClick:()=>b(!1),children:"Отмена"}),n.jsx(X,{onClick:re,children:"Отправить заявку"})]})]})})]})}const Dj=[{status:"draft",label:"Черновик"},{status:"submitted",label:"Подана"},{status:"classified",label:"Классифицирована"},{status:"approved",label:"Утверждена"},{status:"in-register",label:"К оплате"},{status:"paid-full",label:"Оплачена"}];function phe({status:e,className:t}){const r=Dj.findIndex(i=>i.status===e),a=r>=0?(r+1)/Dj.length*100:0,s=(i,l)=>e==="declined"||e==="returned"||e==="rejected"?i<=r?n.jsx(Gn,{className:"h-4 w-4 text-red-500"}):n.jsx(PE,{className:"h-4 w-4 text-gray-300"}):i<r?n.jsx(pt,{className:"h-4 w-4 text-green-500"}):i===r?n.jsx(Jt,{className:"h-4 w-4 text-blue-500"}):n.jsx(PE,{className:"h-4 w-4 text-gray-300"});return n.jsxs("div",{className:`space-y-3 ${t||""}`,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Прогресс заявки"}),n.jsxs("span",{className:"text-muted-foreground",children:[Math.round(a),"%"]})]}),n.jsx(nN,{value:a,className:`h-2 ${e==="declined"||e==="returned"||e==="rejected"?"[&>div]:bg-red-500":""}`}),n.jsx("div",{className:"hidden md:flex items-center justify-between",children:Dj.map((i,l)=>n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s(l,i.status),n.jsx("span",{className:`text-xs text-center max-w-16 ${l<=r?"text-foreground":"text-muted-foreground"}`,children:i.label})]},i.status))})]})}function RS({request:e,getCounterpartyName:t,getCounterpartyCategory:r,getVatRate:a,onViewDocument:s,onDownloadDocument:i,showDocumentActions:l=!0,className:u=""}){const d=h=>{if(!h)return"Не указано";const m=new Date(h);return isNaN(m.getTime())?"Некорректная дата":new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}).format(m)},f=h=>{if(h.fileName)return h.fileName;const m=h.requestNumber||"UNKNOWN",g=new Date(h.createdAt).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit"}).replace(/\./g,""),j=h.payingCompany||"KD",w=t(h.counterpartyId).split(" ")[0];return`Заявка_${m}_${g}_${j}_${w}`};return n.jsxs(me,{className:u,children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"Информация по заявке"]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Оплачивающая компания"}),n.jsx("p",{className:"text-sm",children:e.payingCompany||"Не указано"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Дата документа"}),n.jsx("p",{className:"text-sm",children:d(e.docDate)})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Сумма"}),n.jsx("p",{className:"text-lg font-semibold",children:Lr(e.amount,e.currency)})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Тип документа-основания"}),n.jsx("p",{className:"text-sm",children:e.docType||"Заявка"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ro,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Категория контрагента"}),n.jsx("p",{className:"text-sm",children:r?r(e.counterpartyId):e.counterpartyCategory||"Не указано"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(i6,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Ставка НДС"}),n.jsx("p",{className:"text-sm",children:a?a(e.vatRate):e.vatRate||"Не указано"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Номер документа"}),n.jsx("p",{className:"text-sm",children:e.docNumber})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Контрагент"}),n.jsx("p",{className:"text-sm",children:t(e.counterpartyId)})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Срок оплаты"}),n.jsx("p",{className:"text-sm",children:d(e.dueDate)})]})]})]}),e.description&&n.jsx("div",{className:"mt-6 pt-4 border-t",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(n8,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm",children:"Описание"}),n.jsx("div",{className:"text-sm mt-2",children:e.description.split(`
`).map((h,m)=>{const g=h.indexOf(":");if(g!==-1){const j=h.substring(0,g+1),w=h.substring(g+1),v=["Статья расходов:","Товар/услуга:","Объем:","Цена/тариф:","Период:"].some(N=>j.toLowerCase().includes(N.toLowerCase()));return n.jsxs("span",{className:"inline-block mr-4",children:[n.jsx("span",{className:v?"font-bold":"font-semibold",children:j}),n.jsx("span",{children:w})]},m)}return h.trim()?n.jsx("span",{className:"inline-block mr-4",children:h},m):null})})]})]})}),l&&n.jsx("div",{className:"mt-6 pt-4 border-t",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm",children:"Документы-основания"}),e.files&&e.files.length>0?n.jsx("div",{className:"space-y-2 mt-2",children:e.files.map((h,m)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-lg bg-gray-50",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:h.originalName||h.name}),h.url&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Доступен для просмотра"})]}),n.jsxs("div",{className:"flex gap-1",children:[h.url&&n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>window.open(h.url,"_blank"),children:[n.jsx(Oi,{className:"h-4 w-4 mr-1"}),"Просмотр"]}),h.url&&n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{const g=document.createElement("a");g.href=h.url,g.download=h.originalName||h.name,g.click()},children:[n.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Скачать"]})]})]},h.id||m))}):n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground flex-1",children:f(e)}),s&&n.jsxs(X,{variant:"outline",size:"sm",onClick:s,children:[n.jsx(Oi,{className:"h-4 w-4 mr-1"}),"Просмотр"]}),i&&n.jsxs(X,{variant:"outline",size:"sm",onClick:i,children:[n.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Скачать"]})]})]})]})})]})]})}function g5({request:e,initialSplits:t,isSplitMode:r=!1}){const[a,s]=x.useState(()=>t&&t.length>0?t.map(j=>({expenseItemId:j.expenseItemId,amount:j.amount,comment:j.comment,contractId:j.contractId,priority:j.priority})):[{expenseItemId:"",amount:e.amount||0,comment:""}]),i=x.useMemo(()=>a.reduce((j,w)=>j+(w.amount||0),0),[a]),l=x.useMemo(()=>Math.abs(i-e.amount)<.01,[i,e.amount]),u=x.useMemo(()=>{const j=[],w=a.filter(N=>!N.expenseItemId);w.length>0&&j.push(`${w.length} статей не имеют назначенного расходного элемента`);const b=a.filter(N=>"subRegistrarId"in N&&!N.subRegistrarId);b.length>0&&j.push(`Необходимо выбрать суб-регистратора для ${b.length} позиций`),l||j.push(`Сумма ${r?"разделения":"распределения"} (${i.toLocaleString()}) не равна сумме документа (${e.amount.toLocaleString()})`);const v=a.filter(N=>!N.amount||N.amount<=0);return v.length>0&&j.push(`${v.length} статей не имеют указанной суммы`),r&&a.length<2&&j.push("Для разделения заявки необходимо минимум 2 статьи расходов"),j},[a,l,i,e.amount,r]),d=x.useMemo(()=>{const j=[],w=a.filter(v=>!v.expenseItemId);w.length>0&&j.push(`Необходимо выбрать статью расходов для ${w.length} позиций`);const b=a.filter(v=>"subRegistrarId"in v&&!v.subRegistrarId);return b.length>0&&j.push(`Необходимо выбрать суб-регистратора для ${b.length} позиций`),l||j.push(`Сумма ${r?"разделения":"распределения"} (${i.toLocaleString()}) не равна сумме заявки (${e.amount.toLocaleString()})`),r&&a.length<2&&j.push("Для разделения заявки необходимо минимум 2 статьи расходов"),j},[a,l,i,e.amount,r]),f=x.useMemo(()=>u.length===0,[u]),h=x.useCallback(()=>{s(j=>[...j,{expenseItemId:"",amount:0,comment:""}])},[]),m=x.useCallback(j=>{s(w=>w.length>1?w.filter((b,v)=>v!==j):w)},[]),g=x.useCallback((j,w,b)=>{s(v=>{const N=[...v];return N[j]={...N[j],[w]:b},N})},[]);return{splits:a,setSplits:s,totalSplit:i,isBalanced:l,addSplit:h,removeSplit:m,updateSplit:g,validationErrors:u,validationWarnings:d,isFormValid:f}}const PS=x.memo(({request:e,expenseItems:t,onSplitsChange:r,initialSplits:a,showValidation:s=!0,className:i="",isSplitMode:l=!1,onSplitRequest:u})=>{const{splits:d,totalSplit:f,isBalanced:h,addSplit:m,removeSplit:g,updateSplit:j}=g5({request:e,initialSplits:a,isSplitMode:l}),[w,b]=x.useState(null),[v,N]=x.useState([]),[S,C]=x.useState(!1);x.useEffect(()=>{r(d)},[d]),x.useEffect(()=>{A()},[]);const A=async()=>{try{C(!0);const P=await sw.getSubRegistrars();N(P)}catch(P){console.error("Error loading sub-registrars:",P),be.error("Ошибка загрузки суб-регистраторов")}finally{C(!1)}},_=P=>{const O=t.find(I=>I.id===P);return O?O.name:"Не выбрано"},T=()=>{if(d.length<2){be.error("Для разделения заявки необходимо минимум 2 статьи расходов");return}if(!h){be.error("Сумма распределения должна равняться сумме заявки");return}u&&u(d)};return n.jsx("div",{className:`space-y-4 ${i}`,children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[l?"Разделение заявки по статьям расходов":"Распределение по статьям расходов",n.jsxs(je,{variant:h?"default":"destructive",children:["Сумма: ",Lr(f,e.currency)]})]})}),n.jsxs(pe,{className:"space-y-4",children:[s&&!h&&n.jsxs(Ju,{variant:"destructive",children:[n.jsx(Rt,{className:"h-4 w-4"}),n.jsxs(ed,{children:["Сумма ",l?"разделения":"распределения"," (",Lr(f,e.currency),") не равна сумме документа (",Lr(e.amount,e.currency),")"]})]}),l&&d.length<2&&n.jsxs(Ju,{variant:"destructive",children:[n.jsx(Rt,{className:"h-4 w-4"}),n.jsxs(ed,{children:["Для разделения заявки необходимо минимум 2 статьи расходов. Добавьте еще ",2-d.length," статью."]})]}),d.map((P,O)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h4",{className:"font-medium",children:["Позиция ",O+1]}),d.length>1&&n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>g(O),children:n.jsx(Cr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Статья расходов *"}),n.jsxs(pn,{open:w===O,onOpenChange:I=>{b(I?O:null)},children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[_(P.expenseItemId),n.jsx(FO,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(vn,{className:"w-full p-0",align:"start",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:"Поиск статьи расходов..."}),n.jsxs(Si,{children:[n.jsx(_i,{children:"Статья не найдена."}),n.jsx(As,{children:t.map(I=>n.jsxs(Ei,{value:I.id,onSelect:B=>{j(O,"expenseItemId",B),b(null)},children:[n.jsx(td,{className:Ve("mr-2 h-4 w-4",P.expenseItemId===I.id?"opacity-100":"opacity-0")}),n.jsx("span",{children:I.name})]},I.id))})]})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Сумма *"}),n.jsx(Ie,{type:"number",value:P.amount||"",onChange:I=>j(O,"amount",Number(I.target.value)),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Суб-регистратор *"}),n.jsxs(et,{value:P.subRegistrarId||"",onValueChange:I=>j(O,"subRegistrarId",I),disabled:S,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите суб-регистратора"})}),n.jsx(nt,{children:v.map(I=>n.jsxs(xe,{value:I.id,children:[I.full_name," (",I.email,")"]},I.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Комментарий"}),n.jsx(Ie,{value:P.comment||"",onChange:I=>j(O,"comment",I.target.value),placeholder:"Дополнительная информация"})]})]})]},O)),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",onClick:m,className:"flex-1",children:[n.jsx(un,{className:"h-4 w-4 mr-2"}),"Добавить статью расходов"]}),l&&u&&n.jsx(X,{onClick:T,disabled:d.length<2||!h,className:"flex-1",children:"Разделить заявку"})]})]})]})})});PS.displayName="ExpenseSplitForm";function ghe({requestId:e,onCancel:t,onRequestUpdate:r}){const{items:a}=lr("counterparties"),{items:s}=lr("expense-articles"),{items:i}=lr("vat-rates"),[l,u]=x.useState(null),[d,f]=x.useState(!0),[h,m]=x.useState(!1);x.useEffect(()=>{e&&(async()=>{try{f(!0);const T=await dt.getById(e);u(T)}catch(T){console.error("Failed to load request:",T),be.error("Ошибка загрузки заявки")}finally{f(!1)}})()},[e]);const g=_=>{const T=a.find(P=>P.id===_);return T?T.name:"Неизвестный контрагент"},j=_=>{const T=a.find(P=>P.id===_);return T?T.category:"Не указано"},w=_=>{if(!_)return"Не указано";const T=i.find(P=>P.name===_);return T?T.name:_},b=_=>{if(_.fileName)return _.fileName;const T=a.find(O=>O.id===_.counterpartyId),P=T?.abbreviation||T?.name||"Unknown";return m5({docType:_.docType||"Заявка",docNumber:_.docNumber||_.requestNumber||"UNKNOWN",docDate:_.docDate||_.createdAt,payingCompany:_.payingCompany||"KD",counterpartyName:P})},v=_=>{_.url?window.open(_.url,"_blank"):be.info(`Просмотр документа: ${_.name}`)},N=()=>{m(!0)},S=async _=>{try{f(!0);const T=await dt.update(e,_);u(T),m(!1),r&&r(T);const P=_.status==="draft"?"сохранен":"обновлен и отправлен";be.success(`Черновик заявки ${P}`)}catch(T){console.error("Failed to update request:",T),be.error("Ошибка сохранения заявки")}finally{f(!1)}},C=()=>{m(!1)},A=_=>{const T=s.find(P=>P.id===_);return T?`${T.code} - ${T.name}`:_||"Неизвестно"};return h&&l?n.jsx(p5,{onSubmit:S,onCancel:C,onSaveDraft:S,initialData:l,isEditing:!0}):d?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(X,{variant:"ghost",size:"sm",onClick:t,children:[n.jsx(Oa,{className:"w-4 h-4"}),"Назад"]})}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]}):l?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:t,children:[n.jsx(Oa,{className:"w-4 h-4"}),"Назад"]}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-semibold",children:["Заявка ",l.requestNumber]}),n.jsx("p",{className:"text-muted-foreground",children:l.status==="draft"?"Просмотр и редактирование черновика":"Просмотр деталей заявки"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[l.status==="draft"&&n.jsxs(X,{onClick:N,className:"flex items-center gap-2",children:[n.jsx(cn,{className:"w-4 h-4"}),"Редактировать"]}),n.jsx(Wo,{status:l.status})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"Статус обработки"})}),n.jsx(pe,{children:n.jsx(phe,{status:l.status})})]}),n.jsx(RS,{request:l,getCounterpartyName:g,getCounterpartyCategory:j,getVatRate:w,onViewDocument:()=>v({name:b(l),url:l.docFileUrl}),onDownloadDocument:()=>v({name:b(l),url:l.docFileUrl}),showDocumentActions:!0}),l.expenseSplits&&l.expenseSplits.length>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gl,{className:"h-5 w-5"}),"Распределение по статьям расходов"]}),n.jsxs(je,{variant:"default",children:["Итого: ",Lr(l.expenseSplits.reduce((_,T)=>_+T.amount,0),l.currency)]})]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:l.expenseSplits.map((_,T)=>n.jsxs("div",{className:"flex justify-between items-start p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:A(_.expenseItemId)}),_.comment&&n.jsxs("div",{className:"mt-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Комментарий регистратора:"}),n.jsx("p",{className:"text-sm text-muted-foreground italic",children:_.comment})]})]}),n.jsx(je,{variant:"secondary",children:Lr(_.amount,l.currency)})]},T))})})]}),l.status==="approved"&&n.jsx(PS,{request:l,expenseItems:s,onSplitsChange:_=>{},showValidation:!0}),l.paymentAllocations&&l.paymentAllocations.length>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"Распределение платежа"})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:l.paymentAllocations.map((_,T)=>n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Договор"}),n.jsx("p",{className:"font-medium",children:_.contractId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Сумма"}),n.jsx("p",{className:"font-medium",children:Lr(_.amount,l.currency)})]})]}),_.comment&&n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Комментарий"}),n.jsx("p",{children:_.comment})]}),_.priority&&n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Приоритет"}),n.jsx(je,{variant:_.priority==="high"?"destructive":_.priority==="medium"?"default":"secondary",children:_.priority==="high"?"Высокий":_.priority==="medium"?"Средний":"Низкий"})]})]},T))})})]}),l.paymentExecution&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"Исполнение платежа"})}),n.jsxs(pe,{className:"space-y-4",children:[l.paymentExecution.actualAmount&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Фактическая сумма"}),n.jsx("p",{className:"font-medium",children:Lr(l.paymentExecution.actualAmount,l.currency)})]}),l.paymentExecution.executionDate&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Дата исполнения"}),n.jsx("p",{children:Xu(l.paymentExecution.executionDate)})]}),l.paymentExecution.exchangeRate&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Курс валют"}),n.jsx("p",{children:l.paymentExecution.exchangeRate})]}),l.paymentExecution.executionComment&&n.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[n.jsx("label",{className:"text-sm font-medium text-orange-800",children:"Комментарий казначея"}),n.jsx("p",{className:"mt-1 text-orange-700",children:l.paymentExecution.executionComment})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(X,{variant:"ghost",size:"sm",onClick:t,children:[n.jsx(Oa,{className:"w-4 h-4"}),"Назад"]})}),n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Заявка не найдена"})})]})}const vhe=e=>{const[t,r]=x.useState({}),[a,s]=x.useState(!1),[i,l]=x.useState(null),{requestIds:u}=e,d=x.useCallback(async()=>{if(u.length===0){r({});return}try{s(!0),l(null);const h={},m=u.map(async g=>{try{const b=(await dt.getRequestEvents(g)).map(g7).filter(v=>v.eventType==="REJECTED").sort((v,N)=>new Date(N.createdAt).getTime()-new Date(v.createdAt).getTime())[0];b&&b.comment&&(h[g]=b.comment)}catch(j){console.warn(`Failed to fetch events for request ${g}:`,j)}});await Promise.all(m),r(h)}catch(h){const m=h instanceof Error?h.message:"Failed to fetch rejection reasons";l(m),console.error("Error fetching rejection reasons:",h)}finally{s(!1)}},[u.join(",")]),f=x.useCallback(async()=>{await d()},[d]);return x.useEffect(()=>{d()},[d]),{rejectionReasons:t,loading:a,error:i,refetch:f}},Mj=e=>{if(!e)return!1;try{const t=new Date(e),r=new Date;return r.setHours(0,0,0,0),t.setHours(0,0,0,0),isNaN(t.getTime())?!1:t<r}catch(t){return console.warn("Error checking overdue date:",t),!1}};function xhe({onCreateRequest:e,onViewRequest:t,onEditRequest:r}){const{items:a}=Qu("counterparties"),[s,i]=x.useState(""),[l,u]=x.useState("all"),[d,f]=x.useState("all"),{data:h,loading:m,error:g}=v3({status:d!=="all"?d:void 0,searchTerm:s||void 0,counterpartyFilter:l!=="all"?l:void 0}),j=h.filter(C=>C.status==="rejected").map(C=>C.id),{rejectionReasons:w}=vhe({requestIds:j}),b=x.useMemo(()=>{const C=[...new Set(h.map(A=>A.counterpartyId))];return a.filter(A=>C.includes(A.id))},[h,a]),v=x.useMemo(()=>{let C=[...h];return s&&(C=C.filter(A=>{const _=a.find(T=>T.id===A.counterpartyId);return A.docNumber?.toLowerCase().includes(s.toLowerCase())||A.requestNumber?.toLowerCase().includes(s.toLowerCase())||A.description.toLowerCase().includes(s.toLowerCase())||_?.name?.toLowerCase().includes(s.toLowerCase())||A.amount.toString().includes(s)})),l!=="all"&&(C=C.filter(A=>A.counterpartyId===l)),d!=="all"&&(C=C.filter(A=>A.status===d)),C.sort((A,_)=>{try{const T=new Date(A.createdAt),P=new Date(_.createdAt);return isNaN(T.getTime())||isNaN(P.getTime())?0:P.getTime()-T.getTime()}catch{return 0}})},[h,s,l,d,a]),N=C=>a.find(A=>A.id===C)?.name||"Неизвестен",S=()=>{const C={draft:"Черновик",submitted:"В работе","in-register":"Согласовано",rejected:"Отклонено","to-pay":"Оплачено"};return[{value:"all",label:"Все статусы"},...["draft","submitted","in-register","rejected","to-pay"].map(T=>({value:T,label:C[T]||T}))]};return m?n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:"Загрузка заявок..."})]})})}):g?n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-500 mb-2",children:"Ошибка загрузки заявок"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:g}),n.jsx(X,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Попробовать снова"})]})})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Заявки на оплату"}),n.jsx("p",{className:"text-muted-foreground",children:"Все ваши заявки, отсортированные от новых к старым"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(X,{onClick:e,children:[n.jsx(un,{className:"h-4 w-4 mr-2"}),"Новая заявка"]})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Bi,{className:"h-4 w-4"}),"Фильтры"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{placeholder:"Поиск по номеру, описанию...",value:s,onChange:C=>i(C.target.value),className:"pl-10"})]}),n.jsxs(et,{value:l,onValueChange:u,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:`Контрагент (${b.length})`})}),n.jsxs(nt,{children:[n.jsxs(xe,{value:"all",children:["Все контрагенты (",b.length,")"]}),b.map(C=>n.jsx(xe,{value:C.id,children:C.name},C.id))]})]}),n.jsxs(et,{value:d,onValueChange:f,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Статус"})}),n.jsx(nt,{children:S().map(C=>n.jsx(xe,{value:C.value,children:C.label},C.value))})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего заявок"}),n.jsx("p",{className:"text-xl font-semibold",children:v.length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(os,{className:"h-4 w-4 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Контрагентов"}),n.jsx("p",{className:"text-xl font-semibold",children:new Set(v.map(C=>C.counterpartyId)).size})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xn,{className:"h-4 w-4 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Общая сумма"}),n.jsx("p",{className:"text-xl font-semibold",children:Lr(v.reduce((C,A)=>C+A.amount,0),"KZT")})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Просрочено"}),n.jsx("p",{className:"text-xl font-semibold",children:v.filter(C=>Mj(C.dueDate)).length})]})]})})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ae,{children:["Заявки (",v.length,")"]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Экспорт xlsx"]})]}),n.jsx(pe,{children:n.jsxs("div",{children:[n.jsxs(Fr,{className:"table-fixed w-full",children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{className:"w-32",children:"№ заявки"}),n.jsx(_e,{className:"w-40",children:"Контрагент"}),n.jsx(_e,{className:"w-24",children:"Сумма"}),n.jsx(_e,{className:"w-28",children:"Срок оплаты"}),n.jsx(_e,{className:"w-32",children:"Статус"}),n.jsx(_e,{className:"w-36",children:"У кого на рассмотрении"}),n.jsx(_e,{className:"w-28",children:"Создана"}),n.jsx(_e,{className:"w-16",children:"Действия"})]})}),n.jsx(Br,{children:v.map(C=>n.jsxs(gt,{className:"hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>t?.(C.id),children:[n.jsx(Ne,{className:"font-medium w-32",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"truncate text-ellipsis overflow-hidden",title:C.requestNumber||C.docNumber,style:{maxWidth:"128px"},children:C.requestNumber||C.docNumber}),C.requestNumber&&n.jsx("span",{className:"text-xs text-muted-foreground truncate text-ellipsis overflow-hidden",title:C.docNumber,style:{maxWidth:"128px"},children:C.docNumber}),C.status==="rejected"&&w[C.id]&&n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx(Rt,{className:"h-3 w-3 text-red-500"}),n.jsx("span",{className:"text-xs text-red-600 font-medium truncate text-ellipsis overflow-hidden",title:w[C.id],style:{maxWidth:"128px"},children:w[C.id]})]})]})}),n.jsx(Ne,{className:"w-40",children:n.jsx("span",{className:"truncate block text-ellipsis overflow-hidden",title:N(C.counterpartyId),style:{maxWidth:"160px"},children:N(C.counterpartyId)})}),n.jsx(Ne,{className:"w-24",children:n.jsx("div",{className:"flex items-center gap-1",children:n.jsx("span",{className:"truncate",children:Lr(C.amount,C.currency)})})}),n.jsx(Ne,{className:"w-28",children:n.jsxs("div",{className:`flex items-center gap-2 ${Mj(C.dueDate)?"text-red-600":""}`,children:[n.jsx("span",{className:"truncate",children:Xu(C.dueDate)}),Mj(C.dueDate)&&n.jsx(je,{variant:"destructive",className:"text-xs",children:"Просрочено"})]})}),n.jsx(Ne,{className:"w-32",children:n.jsx(Wo,{status:C.status,showTooltip:!0,responsible:wx(C.status),statusTime:Xu(C.updatedAt||C.createdAt)})}),n.jsx(Ne,{className:"text-muted-foreground w-36",children:n.jsx("span",{className:"truncate block text-ellipsis overflow-hidden",title:wx(C.status),style:{maxWidth:"144px"},children:wx(C.status)})}),n.jsx(Ne,{className:"text-muted-foreground w-28",children:n.jsx("span",{className:"truncate block",children:Xu(C.createdAt)})}),n.jsx(Ne,{className:"w-16",children:n.jsx("div",{className:"flex items-center justify-end gap-1",children:C.status==="rejected"&&r&&n.jsx(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:A=>{A.stopPropagation(),r(C.id)},title:"Редактировать",children:n.jsx(cn,{className:"h-4 w-4"})})})})]},C.id))})]}),v.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Заявки не найдены"})]})})]})]})}function Ri({className:e,...t}){return n.jsx("textarea",{"data-slot":"textarea",className:Ve("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}class yhe{static apiClient=new iM("http://localhost:8000/api/v1");static initializeAuth(){const t=localStorage.getItem("test_token");t&&this.apiClient.setAuthToken(t)}static async splitRequest(t){return this.initializeAuth(),await this.apiClient.post("/distribution/split-request",t)}static async getSplitRequests(t){return this.initializeAuth(),await this.apiClient.get(`/distribution/split-requests/${t}`)}}function uO({request:e,onSubmit:t,onReturn:r,onCancel:a}){const{user:s}=Ui(),{items:i,state:l}=lr("expense-articles"),{items:u,state:d}=lr("counterparties"),[f,h]=x.useState(""),[m,g]=x.useState(!1),[j,w]=x.useState(!1),[b,v]=x.useState(null),{splits:N,setSplits:S,validationWarnings:C,isFormValid:A}=g5({request:e,initialSplits:[]});x.useEffect(()=>{(async()=>{try{const I=await sw.getContractStatus(e.counterpartyId);v(I)}catch(I){console.error("Error loading contract status:",I)}})()},[e.counterpartyId]);const _=async()=>{if(!A){be.error("Исправьте ошибки валидации перед отправкой");return}if(!N||N.length===0){be.error("Добавьте статьи расходов для классификации");return}if((N||[]).filter(I=>!I.subRegistrarId).length>0){be.error("Выберите суб-регистратора для всех позиций");return}if(!e){be.error("Ошибка: объект заявки не найден");return}w(!0);try{let I;if(Array.isArray(e)){if(e.length===0)throw new Error("Invalid request array: array is empty");const W=e[0];if(W&&typeof W=="object"&&W.id)I=typeof W.id=="string"?W.id:String(W.id);else throw new Error("Invalid request array: first element must have an id property")}else if(typeof e=="object"&&e!==null)if(e.id)I=typeof e.id=="string"?e.id:String(e.id);else throw new Error("Invalid request object: missing id property");else if(typeof e=="string"){if(e.includes("[object")||e.includes(","))throw new Error(`Invalid request string: ${e}. Expected a valid request object.`);I=e}else throw new Error(`Invalid request type: ${typeof e}. Expected object or array.`);if(!I||I.includes("[object")||I.includes(","))throw new Error(`Invalid request ID: ${I}`);if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(I))throw new Error(`Invalid request ID format: ${I}. Expected UUID format.`);const q=(N||[]).map((W,H)=>({id:`split-${Date.now()}-${H}`,requestId:I,expenseItemId:W.expenseItemId,amount:W.amount,comment:W.comment,contractId:"outside-contract",priority:"medium",subRegistrarId:W.subRegistrarId})),G=(N||[]).reduce((W,H)=>{const z=H.subRegistrarId;return z&&(W[z]||(W[z]=[]),W[z].push(H)),W},{}),V=Object.keys(G);if(V.length===0)throw new Error("Не выбраны суб-регистраторы для разделения заявки");const Z=V[0],$=s?.id||"",M=(N||[]).map(W=>({expense_item_id:W.expenseItemId,amount:W.amount,comment:W.comment||"",contract_id:W.contractId||"outside-contract",priority:W.priority||"medium"})),k=await yhe.splitRequest({original_request_id:I,expense_splits:M,sub_registrar_id:Z,distributor_id:$,comment:"Заявка разделена на статьи расходов"});Yl.notifyRequestDistributed(I,e.requestNumber||"Без номера"),Yl.notifyDistributorRequestCreated(I,e.requestNumber||"Без номера"),be.success(`Заявка успешно разделена на ${k.split_requests.length} заявок`),window.location.reload();const D=(N||[]).map((W,H)=>({id:`split-${Date.now()}-${H}`,requestId:I,expenseItemId:W.expenseItemId,amount:W.amount,comment:W.comment,contractId:"outside-contract",priority:"medium",subRegistrarId:W.subRegistrarId}));t(D)}catch(I){console.error("Error classifying request:",I),be.error("Ошибка при классификации заявки")}finally{w(!1)}},T=async()=>{if(!f.trim()){be.error("Укажите причину возврата");return}if(console.log("DEBUG: Early request validation (return):",e),!e){be.error("Ошибка: объект заявки не найден");return}w(!0);try{let O;if(console.log("DEBUG: Raw request (return):",e),console.log("DEBUG: Request type (return):",typeof e),console.log("DEBUG: Is array (return):",Array.isArray(e)),Array.isArray(e)){if(e.length===0)throw new Error("Invalid request array: array is empty");const B=e[0];if(B&&typeof B=="object"&&B.id)O=typeof B.id=="string"?B.id:String(B.id),console.log("DEBUG: Using first request ID (return):",O);else throw new Error("Invalid request array: first element must have an id property")}else if(typeof e=="object"&&e!==null)if(e.id)O=typeof e.id=="string"?e.id:String(e.id),console.log("DEBUG: Using object request ID (return):",O);else throw new Error("Invalid request object: missing id property");else if(typeof e=="string"){if(e.includes("[object")||e.includes(","))throw new Error(`Invalid request string: ${e}. Expected a valid request object.`);O=e,console.log("DEBUG: Using string request ID (return):",O)}else throw new Error(`Invalid request type: ${typeof e}. Expected object or array.`);if(!O||O.includes("[object")||O.includes(","))throw console.error("ERROR: Invalid request ID detected (return):",O),console.error("ERROR: Request object was (return):",e),new Error(`Invalid request ID: ${O}`);if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(O))throw console.error("ERROR: Request ID is not a valid UUID (return):",O),console.error("ERROR: Request object was (return):",e),new Error(`Invalid request ID format: ${O}. Expected UUID format.`);await sw.returnRequest({requestId:O,comment:f}),be.success("Заявка возвращена исполнителю"),r(f),g(!1)}catch(O){console.error("Error returning request:",O),be.error("Ошибка при возврате заявки")}finally{w(!1)}},P=O=>u.find(I=>I.id===O)?.name||"Неизвестен";return l.isLoading||d.isLoading?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Загрузка справочников..."})]})}):l.error||d.error?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-destructive mb-2",children:"Ошибка загрузки справочников"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:l.error||d.error})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:a,children:n.jsx(Oa,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("h2",{children:["Классификация заявки ",e.requestNumber]}),n.jsx("p",{className:"text-muted-foreground",children:"Выберите статьи расходов и укажите суммы"})]})]})}),n.jsx(RS,{request:e,getCounterpartyName:P,onViewDocument:()=>{e.docFileUrl?window.open(e.docFileUrl,"_blank"):be.info(`Скачивание файла: ${e.fileName}`)},onDownloadDocument:()=>{be.info(`Скачивание файла: ${e.fileName}`)},showDocumentActions:!0}),b&&n.jsx(me,{className:b.hasContract?"border-green-200 bg-green-50":"border-red-200 bg-red-50",children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${b.hasContract?"bg-green-500":"bg-red-500"}`}),n.jsx("div",{className:"flex-1",children:b.hasContract?n.jsxs("div",{className:"text-green-800",children:[n.jsx("p",{className:"font-medium",children:"Имеется договор с контрагентом"}),n.jsxs("p",{className:"text-sm",children:["№ ",b.contractNumber," от ",b.contractDate]}),b.validityPeriod&&n.jsxs("p",{className:"text-sm mt-1",children:["Срок действия: ",b.validityPeriod]}),b.rates&&n.jsxs("p",{className:"text-sm mt-1",children:["Тарифы: ",b.rates]}),b.contractInfo&&n.jsxs("p",{className:"text-sm mt-1",children:["Информация: ",b.contractInfo]}),b.contractFileUrl&&n.jsx("button",{className:"text-sm mt-2 text-blue-600 hover:text-blue-800 underline",onClick:()=>window.open(b.contractFileUrl,"_blank"),children:"📄 Скачать договор"})]}):n.jsx("div",{className:"text-red-800",children:n.jsx("p",{className:"font-medium",children:"Договор с контрагентом отсутствует"})})})]})})}),n.jsx(PS,{request:e,expenseItems:i,onSplitsChange:S,showValidation:!0}),!A&&C.length>0&&n.jsx(me,{className:"border-amber-200 bg-amber-50",children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Rt,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-amber-800",children:"Требуется исправление"}),n.jsx("ul",{className:"space-y-1 text-sm text-amber-700",children:C.map((O,I)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-amber-600 rounded-full mt-2 flex-shrink-0"}),O]},I))})]})]})})}),n.jsxs("div",{className:"flex gap-2 pt-6 border-t",children:[n.jsxs(Ut,{open:m,onOpenChange:g,children:[n.jsx(Fa,{asChild:!0,children:n.jsx(X,{variant:"outline",children:"Вернуть"})}),n.jsxs($t,{children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Возврат заявки"}),n.jsx(Wt,{children:"Укажите причину возврата заявки исполнителю для доработки."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Причина возврата *"}),n.jsx(Ri,{placeholder:"Укажите причину возврата заявки исполнителю...",value:f,onChange:O=>h(O.target.value),rows:4})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>g(!1),children:"Отмена"}),n.jsx(X,{onClick:T,disabled:!f.trim(),children:"Вернуть заявку"})]})]})]})]}),n.jsxs(X,{onClick:_,disabled:!A||j,className:"flex-1",children:[n.jsx(Gd,{className:"w-4 h-4 mr-2"}),"Классифицировать"]})]})]})}const bhe=[{value:"АВР",label:"АВР"},{value:"Другое",label:"Другое"},{value:"Инвойс",label:"Инвойс"},{value:"УПД",label:"УПД"},{value:"ЭСФ",label:"ЭСФ"},{value:"АО",label:"АО"}],jhe=[{value:"not_received",label:"Не получены"},{value:"fully_received",label:"Получены в полном объеме"},{value:"partially_received",label:"Частично получены"}];function whe({request:e,onBack:t,onSave:r}){const{items:a,state:s}=lr("counterparties"),{state:i}=lr("expense-articles"),[l,u]=x.useState({documentType:"",documentNumber:"",documentDate:"",amountWithoutVat:0,vatAmount:0,currency:e.currency,files:[],originalDocumentsStatus:"not_received",comment:""}),[d,f]=x.useState(!1),[h,m]=x.useState(!1);x.useEffect(()=>{},[e.id]),x.useEffect(()=>{const _=l.documentType!==""&&l.documentNumber!==""&&l.documentDate!==""&&l.amountWithoutVat>0&&l.originalDocumentsStatus!=="";m(_)},[l]);const g=_=>a.find(T=>T.id===_)?.name||"Неизвестен",j=_=>a.find(T=>T.id===_)?.category||"Не указано",w=_=>_||"Не указано",b=(_,T)=>{u(P=>({...P,[_]:T}))},v=_=>{const T=_.map(P=>({id:`file-${Date.now()}-${Math.random()}`,name:P.name,url:URL.createObjectURL(P),originalName:P.name}));u(P=>({...P,files:[...P.files,...T]}))},N=_=>{u(T=>({...T,files:T.files.filter(P=>P.id!==_)}))},S=async()=>{if(!h){be.error("Заполните все обязательные поля");return}f(!0);try{await r(l),be.success("Данные закрывающих документов сохранены")}catch(_){console.error("Error saving closing document data:",_),be.error("Ошибка при сохранении данных")}finally{f(!1)}},C=_=>{switch(_){case"classified":return n.jsx(je,{className:"bg-blue-100 text-blue-800",children:"Классифицирована"});case"allocated":return n.jsx(je,{className:"bg-green-100 text-green-800",children:"Распределена"});case"returned":return n.jsx(je,{className:"bg-red-100 text-red-800",children:"Возвращена"});default:return n.jsx(je,{className:"bg-gray-100 text-gray-800",children:_})}},A=_=>{switch(_){case"classified":return n.jsx(pt,{className:"w-4 h-4 text-blue-600"});case"allocated":return n.jsx(pt,{className:"w-4 h-4 text-green-600"});case"returned":return n.jsx(Fs,{className:"w-4 h-4 text-red-600"});default:return n.jsx(Jt,{className:"w-4 h-4 text-gray-600"})}};return s.isLoading||i.isLoading?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Загрузка данных..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Oa,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-semibold",children:["Заявка ",e.requestNumber]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A(e.status),C(e.status)]})]})]}),n.jsxs(X,{onClick:S,disabled:!h||d,className:"flex items-center gap-2",children:[n.jsx(Gd,{className:"w-4 h-4"}),d?"Сохранение...":"Сохранить"]})]}),n.jsx(RS,{request:e,getCounterpartyName:g,getCounterpartyCategory:j,getVatRate:w,onViewDocument:()=>{e.docFileUrl?window.open(e.docFileUrl,"_blank"):be.info(`Просмотр документа: ${e.fileName}`)},onDownloadDocument:()=>{be.info(`Скачивание документа: ${e.fileName}`)},showDocumentActions:!0}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ro,{className:"h-5 w-5"}),"Информация от Регистратора"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:"Ответственный регистратор"}),n.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[n.jsx(Ro,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:"Айгуль Нурланова"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:"Дата классификации"}),n.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[n.jsx(vr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"15.01.2024 14:30"})]})]})]})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"Закрывающие документы"]})}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"document-type",className:"mb-2 block",children:"Тип закрывающего документа *"}),n.jsxs(et,{value:l.documentType,onValueChange:_=>b("documentType",_),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите тип документа"})}),n.jsx(nt,{children:bhe.map(_=>n.jsx(xe,{value:_.value,children:_.label},_.value))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"document-number",className:"mb-2 block",children:"№ документа *"}),n.jsx(Ie,{id:"document-number",value:l.documentNumber,onChange:_=>b("documentNumber",_.target.value),placeholder:"Введите номер документа"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"document-date",className:"mb-2 block",children:"Дата документа *"}),n.jsx(Ie,{id:"document-date",type:"date",value:l.documentDate,onChange:_=>b("documentDate",_.target.value)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"amount-without-vat",className:"mb-2 block",children:"Сумма без НДС, в валюте *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{id:"amount-without-vat",type:"number",value:l.amountWithoutVat||"",onChange:_=>b("amountWithoutVat",parseFloat(_.target.value)||0),placeholder:"0.00",className:"pl-10"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"vat-amount",className:"mb-2 block",children:"Сумма НДС, в валюте *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{id:"vat-amount",type:"number",value:l.vatAmount||"",onChange:_=>b("vatAmount",parseFloat(_.target.value)||0),placeholder:"0.00",className:"pl-10"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:"Валюта"}),n.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:n.jsx("span",{className:"font-medium",children:e.currency})})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:"Прикрепляю закрывающие документы"}),n.jsx(h5,{onFilesChange:v,onFileRemove:N,files:l.files,maxFiles:10,maxSize:10,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"original-documents-status",className:"mb-2 block",children:"Статус получения оригиналов документов *"}),n.jsxs(et,{value:l.originalDocumentsStatus,onValueChange:_=>b("originalDocumentsStatus",_),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите статус"})}),n.jsx(nt,{children:jhe.map(_=>n.jsx(xe,{value:_.value,children:_.label},_.value))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"comment",className:"mb-2 block",children:"Комментарий"}),n.jsx(Ri,{id:"comment",value:l.comment||"",onChange:_=>b("comment",_.target.value),placeholder:"Дополнительная информация...",rows:3})]}),n.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Сводка"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"Сумма без НДС:"}),n.jsx("span",{className:"ml-2 font-medium",children:Lr(l.amountWithoutVat,l.currency)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"Сумма НДС:"}),n.jsx("span",{className:"ml-2 font-medium",children:Lr(l.vatAmount,l.currency)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"Итого:"}),n.jsx("span",{className:"ml-2 font-medium",children:Lr(l.amountWithoutVat+l.vatAmount,l.currency)})]})]})]})]})]})]})}const Nhe=x.memo(({status:e,showIcon:t=!0,showBadge:r=!0,className:a=""})=>{const s=l=>{switch(l){case"classified":return n.jsx(pt,{className:"w-4 h-4 text-blue-600"});case"allocated":return n.jsx(pt,{className:"w-4 h-4 text-green-600"});case"returned":return n.jsx(Fs,{className:"w-4 h-4 text-red-600"});case"approved":return n.jsx(pt,{className:"w-4 h-4 text-green-600"});case"pending":return n.jsx(Jt,{className:"w-4 h-4 text-yellow-600"});default:return n.jsx(Jt,{className:"w-4 h-4 text-gray-600"})}},i=l=>{switch(l){case"classified":return n.jsx(je,{className:"bg-blue-100 text-blue-800",children:"Классифицирована"});case"allocated":return n.jsx(je,{className:"bg-green-100 text-green-800",children:"Распределена"});case"returned":return n.jsx(je,{className:"bg-red-100 text-red-800",children:"Возвращена"});case"approved":return n.jsx(je,{className:"bg-green-100 text-green-800",children:"Одобрена"});case"pending":return n.jsx(je,{className:"bg-yellow-100 text-yellow-800",children:"В ожидании"});default:return n.jsx(je,{className:"bg-gray-100 text-gray-800",children:l})}};return n.jsxs("div",{className:`flex items-center gap-2 ${a}`,children:[t&&s(e),r&&i(e)]})});Nhe.displayName="RequestStatus";const She=e=>{switch(e){case"classified":return n.jsx(pt,{className:"w-4 h-4 text-blue-600"});case"allocated":return n.jsx(pt,{className:"w-4 h-4 text-green-600"});case"returned":return n.jsx(Fs,{className:"w-4 h-4 text-red-600"});case"approved":return n.jsx(pt,{className:"w-4 h-4 text-green-600"});case"pending":return n.jsx(Jt,{className:"w-4 h-4 text-yellow-600"});default:return n.jsx(Jt,{className:"w-4 h-4 text-gray-600"})}},_he=e=>{switch(e){case"classified":return n.jsx(je,{className:"bg-blue-100 text-blue-800",children:"Классифицирована"});case"allocated":return n.jsx(je,{className:"bg-green-100 text-green-800",children:"Распределена"});case"returned":return n.jsx(je,{className:"bg-red-100 text-red-800",children:"Возвращена"});case"approved":return n.jsx(je,{className:"bg-green-100 text-green-800",children:"Одобрена"});case"pending":return n.jsx(je,{className:"bg-yellow-100 text-yellow-800",children:"В ожидании"});default:return n.jsx(je,{className:"bg-gray-100 text-gray-800",children:e})}},dO=(e,t)=>e.find(r=>r.id===t)?.name||"Неизвестен";function fO({currentUserId:e}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(""),[u,d]=x.useState("all"),[f,h]=x.useState(!0),[m,g]=x.useState(null),{items:j}=lr("counterparties");lr("expense-articles");const w=S=>new Date(S).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});x.useEffect(()=>{(async()=>{try{h(!0);const A=(await dt.getAll({responsibleRegistrarId:e})).map(_=>({id:_.id,requestNumber:_.number,createdAt:_.created_at,dueDate:_.due_date,counterpartyId:_.counterparty_id,amount:_.amount_total,currency:_.currency_code,description:_.title,status:_.status,responsibleRegistrarId:_.responsible_registrar_id,files:_.files||[],docType:_.doc_type,docNumber:_.doc_number,docDate:_.doc_date,payingCompany:_.paying_company,vatRate:_.vat_rate}));r(A),s(A)}catch(C){console.error("Error loading assigned requests:",C),r([]),s([])}finally{h(!1)}})()},[e]),x.useEffect(()=>{let S=t;i&&(S=S.filter(C=>C.requestNumber?.toLowerCase().includes(i.toLowerCase())||C.description.toLowerCase().includes(i.toLowerCase())||dO(j,C.counterpartyId).toLowerCase().includes(i.toLowerCase()))),u!=="all"&&(S=S.filter(C=>C.status===u)),s(S)},[t,i,u]);const b=S=>{g(S)},v=()=>{g(null)},N=async S=>{try{if(!m)throw new Error("No request selected");await Fu.saveClosingDocs(m.id,S),be.success("Закрывающие документы успешно сохранены")}catch(C){throw console.error("Error saving closing document:",C),be.error("Ошибка при сохранении закрывающих документов"),C}};return f?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Загрузка заявок..."})]})}):m?n.jsx(whe,{request:m,onBack:v,onSave:N}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Мои заявки"}),n.jsx("p",{className:"text-muted-foreground",children:"Заявки, назначенные вам как ответственному регистратору"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(je,{className:"bg-emerald-100 text-emerald-800",children:"Суб-Регистратор"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Всего заявок"}),n.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(pt,{className:"h-4 w-4 text-green-600"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Классифицированы"}),n.jsx("p",{className:"text-2xl font-bold",children:t.filter(S=>S.status==="classified").length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Fs,{className:"h-4 w-4 text-red-600"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Возвращены"}),n.jsx("p",{className:"text-2xl font-bold",children:t.filter(S=>S.status==="returned").length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Bi,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Общая сумма"}),n.jsx("p",{className:"text-2xl font-bold",children:Lr(t.reduce((S,C)=>S+C.amount,0),"KZT")})]})]})})})]}),n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(Ie,{placeholder:"Поиск по номеру, описанию или контрагенту...",value:i,onChange:S=>l(S.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[n.jsx("option",{value:"all",children:"Все статусы"}),n.jsx("option",{value:"classified",children:"Классифицированы"}),n.jsx("option",{value:"allocated",children:"Распределены"}),n.jsx("option",{value:"returned",children:"Возвращены"})]})})]})})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{children:["Список заявок (",a.length,")"]})}),n.jsx(pe,{children:a.length===0?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"Нет заявок для отображения"})}):n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{children:"Номер"}),n.jsx(_e,{children:"Контрагент"}),n.jsx(_e,{children:"Сумма"}),n.jsx(_e,{children:"Статус"}),n.jsx(_e,{children:"Дата создания"}),n.jsx(_e,{children:"Срок"}),n.jsx(_e,{children:"Действия"})]})}),n.jsx(Br,{children:a.map(S=>n.jsxs(gt,{children:[n.jsx(Ne,{className:"font-medium",children:S.requestNumber}),n.jsx(Ne,{children:dO(j,S.counterpartyId)}),n.jsx(Ne,{children:Lr(S.amount,S.currency)}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[She(S.status),_he(S.status)]})}),n.jsx(Ne,{children:w(S.createdAt)}),n.jsx(Ne,{children:w(S.dueDate)}),n.jsx(Ne,{children:n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>b(S),children:[n.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Просмотр"]})})]},S.id))})]})})]})]})}const Che=({onReportUpdate:e})=>{const[t,r]=x.useState([]),[a,s]=x.useState(new Map),[i,l]=x.useState(new Map),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,g]=x.useState(!1),[j,w]=x.useState(null),[b,v]=x.useState("Не получены"),[N,S]=x.useState("");x.useEffect(()=>{C()},[]);const C=async()=>{try{d(!0);const I=await Fu.getAssignments();r(I.assignments);const B=new Map,q=new Map;for(const G of I.assignments){try{const V=await Fu.getReport(G.requestId);B.set(G.requestId,V)}catch{}try{const V=await dt.getById(G.requestId);V&&q.set(G.requestId,V)}catch(V){console.error("Error loading request:",V)}}s(B),l(q)}catch(I){console.error("Error loading assignments:",I),be.error("Ошибка загрузки назначений")}finally{d(!1)}},A=async I=>{try{h(!0);const B={requestId:I.requestId,documentStatus:b,reportData:B?JSON.parse(B):void 0};await Fu.saveDraftReport(B),be.success("Отчёт сохранён как черновик"),await C(),e&&e()}catch(B){console.error("Error saving draft:",B),be.error("Ошибка сохранения черновика")}finally{h(!1)}},_=async I=>{try{g(!0),await Fu.publishReport(I.requestId);const B=i.get(I.requestId);B&&Yl.notifyReportPublished(I.requestId,B.requestNumber||"Без номера"),be.success("Отчёт опубликован"),await C(),e&&e()}catch(B){console.error("Error publishing report:",B),be.error("Ошибка публикации отчёта")}finally{g(!1)}},T=I=>{const B=a.get(I.requestId);return B?B.status==="draft"?n.jsx(je,{variant:"secondary",children:"Черновик"}):B.status==="published"?n.jsx(je,{variant:"default",children:"Опубликован"}):n.jsx(je,{variant:"outline",children:I.status}):n.jsx(je,{variant:"outline",children:"Новый"})},P=I=>{switch(I){case"Не получены":return n.jsx(Fs,{className:"h-4 w-4 text-red-500"});case"Получены в полном объёме":return n.jsx(pt,{className:"h-4 w-4 text-green-500"});case"Частично получены":return n.jsx(Jt,{className:"h-4 w-4 text-yellow-500"});default:return n.jsx(Fs,{className:"h-4 w-4 text-gray-500"})}},O=I=>{switch(I){case"Не получены":return"text-red-600";case"Получены в полном объёме":return"text-green-600";case"Частично получены":return"text-yellow-600";default:return"text-gray-600"}};return u?n.jsxs("div",{className:"flex items-center justify-center p-8",children:[n.jsx(Mr,{className:"h-8 w-8 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Загрузка назначений..."})]}):t.length===0?n.jsx(me,{children:n.jsxs(pe,{className:"p-8 text-center",children:[n.jsx(yt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Нет назначений"}),n.jsx("p",{className:"text-muted-foreground",children:"У вас пока нет назначенных заявок для обработки"})]})}):n.jsx("div",{className:"space-y-6",children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"Мои назначения"]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:t.map(I=>{const B=i.get(I.requestId),q=a.get(I.requestId);return n.jsx(me,{className:"border-l-4 border-l-blue-500",children:n.jsxs(pe,{className:"pt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:B?.requestNumber||`Заявка ${I.requestId.slice(0,8)}`}),n.jsx("p",{className:"text-sm text-muted-foreground",children:B?.description||"Описание недоступно"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Сумма:"}),n.jsxs("span",{className:"text-sm",children:[B?.amount," ",B?.currency]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Статус:"}),T(I)]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:"Статус документов"}),n.jsxs("div",{className:"flex items-center gap-2",children:[P(b),n.jsx("span",{className:`text-sm ${O(b)}`,children:b})]}),n.jsxs(et,{value:b,onValueChange:G=>v(G),children:[n.jsx(rt,{className:"w-full",children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"Не получены",children:"Не получены"}),n.jsx(xe,{value:"Получены в полном объёме",children:"Получены в полном объёме"}),n.jsx(xe,{value:"Частично получены",children:"Частично получены"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{size:"sm",variant:"outline",onClick:()=>A(I),disabled:f,className:"flex items-center gap-1",children:[f?n.jsx(Mr,{className:"h-3 w-3 animate-spin"}):n.jsx(Gd,{className:"h-3 w-3"}),"Сохранить в работе"]}),n.jsxs(X,{size:"sm",onClick:()=>_(I),disabled:m||!q,className:"flex items-center gap-1",children:[m?n.jsx(Mr,{className:"h-3 w-3 animate-spin"}):n.jsx(lp,{className:"h-3 w-3"}),"Опубликовать отчёт"]})]}),q&&n.jsx("div",{className:"text-xs text-muted-foreground",children:q.status==="draft"?n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Jt,{className:"h-3 w-3"}),"Черновик от ",new Date(q.createdAt).toLocaleDateString()]}):n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(pt,{className:"h-3 w-3"}),"Опубликован ",q.publishedAt&&new Date(q.publishedAt).toLocaleDateString()]})})]})]}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:"Данные отчёта (JSON)"}),n.jsx("textarea",{value:N,onChange:G=>S(G.target.value),placeholder:"Введите данные отчёта в формате JSON (необязательно)",className:"w-full px-3 py-2 border border-input rounded-md text-sm",rows:3})]})]})},I.id)})})})]})})};var yg="Checkbox",[Ehe,vpe]=Dn(yg),[The,IS]=Ehe(yg);function Ahe(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:s,disabled:i,form:l,name:u,onCheckedChange:d,required:f,value:h="on",internal_do_not_use_render:m}=e,[g,j]=ls({prop:r,defaultProp:s??!1,onChange:d,caller:yg}),[w,b]=x.useState(null),[v,N]=x.useState(null),S=x.useRef(!1),C=w?!!l||!!w.closest("form"):!0,A={checked:g,disabled:i,setChecked:j,control:w,setControl:b,name:u,form:l,value:h,hasConsumerStoppedPropagationRef:S,required:f,defaultChecked:Ii(s)?!1:s,isFormControl:C,bubbleInput:v,setBubbleInput:N};return n.jsx(The,{scope:t,...A,children:Rhe(m)?m(A):a})}var v5="CheckboxTrigger",x5=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},s)=>{const{control:i,value:l,disabled:u,checked:d,required:f,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:g,isFormControl:j,bubbleInput:w}=IS(v5,e),b=Nt(s,h),v=x.useRef(d);return x.useEffect(()=>{const N=i?.form;if(N){const S=()=>m(v.current);return N.addEventListener("reset",S),()=>N.removeEventListener("reset",S)}},[i,m]),n.jsx(st.button,{type:"button",role:"checkbox","aria-checked":Ii(d)?"mixed":d,"aria-required":f,"data-state":S5(d),"data-disabled":u?"":void 0,disabled:u,value:l,...a,ref:b,onKeyDown:ze(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:ze(r,N=>{m(S=>Ii(S)?!0:!S),w&&j&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});x5.displayName=v5;var y5=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:s,defaultChecked:i,required:l,disabled:u,value:d,onCheckedChange:f,form:h,...m}=e;return n.jsx(Ahe,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:u,required:l,onCheckedChange:f,name:a,form:h,value:d,internal_do_not_use_render:({isFormControl:g})=>n.jsxs(n.Fragment,{children:[n.jsx(x5,{...m,ref:t,__scopeCheckbox:r}),g&&n.jsx(N5,{__scopeCheckbox:r})]})})});y5.displayName=yg;var b5="CheckboxIndicator",j5=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...s}=e,i=IS(b5,r);return n.jsx(Mn,{present:a||Ii(i.checked)||i.checked===!0,children:n.jsx(st.span,{"data-state":S5(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});j5.displayName=b5;var w5="CheckboxBubbleInput",N5=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:l,required:u,disabled:d,name:f,value:h,form:m,bubbleInput:g,setBubbleInput:j}=IS(w5,e),w=Nt(r,j),b=aN(i),v=q1(a);x.useEffect(()=>{const S=g;if(!S)return;const C=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(C,"checked").set,T=!s.current;if(b!==i&&_){const P=new Event("click",{bubbles:T});S.indeterminate=Ii(i),_.call(S,Ii(i)?!1:i),S.dispatchEvent(P)}},[g,b,i,s]);const N=x.useRef(Ii(i)?!1:i);return n.jsx(st.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??N.current,required:u,disabled:d,name:f,value:h,form:m,...t,tabIndex:-1,ref:w,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});N5.displayName=w5;function Rhe(e){return typeof e=="function"}function Ii(e){return e==="indeterminate"}function S5(e){return Ii(e)?"indeterminate":e?"checked":"unchecked"}function Er({className:e,...t}){return n.jsx(y5,{"data-slot":"checkbox",className:Ve("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(j5,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:n.jsx(td,{className:"size-3.5"})})})}var bg="Tabs",[Phe,xpe]=Dn(bg,[yp]),_5=yp(),[Ihe,kS]=Phe(bg),C5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,h=up(u),[m,g]=ls({prop:a,onChange:s,defaultProp:i??"",caller:bg});return n.jsx(Ihe,{scope:r,baseId:zr(),value:m,onValueChange:g,orientation:l,dir:h,activationMode:d,children:n.jsx(st.div,{dir:h,"data-orientation":l,...f,ref:t})})});C5.displayName=bg;var E5="TabsList",T5=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...s}=e,i=kS(E5,r),l=_5(r);return n.jsx(xD,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:a,children:n.jsx(st.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});T5.displayName=E5;var A5="TabsTrigger",R5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:s=!1,...i}=e,l=kS(A5,r),u=_5(r),d=k5(l.baseId,a),f=O5(l.baseId,a),h=a===l.value;return n.jsx(yD,{asChild:!0,...u,focusable:!s,active:h,children:n.jsx(st.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:t,onMouseDown:ze(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?l.onValueChange(a):m.preventDefault()}),onKeyDown:ze(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(a)}),onFocus:ze(e.onFocus,()=>{const m=l.activationMode!=="manual";!h&&!s&&m&&l.onValueChange(a)})})})});R5.displayName=A5;var P5="TabsContent",I5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:s,children:i,...l}=e,u=kS(P5,r),d=k5(u.baseId,a),f=O5(u.baseId,a),h=a===u.value,m=x.useRef(h);return x.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),n.jsx(Mn,{present:s||h,children:({present:g})=>n.jsx(st.div,{"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&i})})});I5.displayName=P5;function k5(e,t){return`${e}-trigger-${t}`}function O5(e,t){return`${e}-content-${t}`}var khe=C5,Ohe=T5,Dhe=R5,Mhe=I5;function Dc({className:e,...t}){return n.jsx(khe,{"data-slot":"tabs",className:Ve("flex flex-col gap-2",e),...t})}function Mc({className:e,...t}){return n.jsx(Ohe,{"data-slot":"tabs-list",className:Ve("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function wn({className:e,...t}){return n.jsx(Dhe,{"data-slot":"tabs-trigger",className:Ve("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Nn({className:e,...t}){return n.jsx(Mhe,{"data-slot":"tabs-content",className:Ve("flex-1 outline-none",e),...t})}var D5="AlertDialog",[$he,ype]=Dn(D5,[F3]),Ks=F3(),M5=e=>{const{__scopeAlertDialog:t,...r}=e,a=Ks(t);return n.jsx(CS,{...a,...r,modal:!0})};M5.displayName=D5;var Lhe="AlertDialogTrigger",$5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Ks(r);return n.jsx(t5,{...s,...a,ref:t})});$5.displayName=Lhe;var Fhe="AlertDialogPortal",L5=e=>{const{__scopeAlertDialog:t,...r}=e,a=Ks(t);return n.jsx(ES,{...a,...r})};L5.displayName=Fhe;var Uhe="AlertDialogOverlay",F5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Ks(r);return n.jsx(gg,{...s,...a,ref:t})});F5.displayName=Uhe;var Hl="AlertDialogContent",[Bhe,zhe]=$he(Hl),qhe=bO("AlertDialogContent"),U5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...s}=e,i=Ks(r),l=x.useRef(null),u=Nt(t,l),d=x.useRef(null);return n.jsx($fe,{contentName:Hl,titleName:B5,docsSlug:"alert-dialog",children:n.jsx(Bhe,{scope:r,cancelRef:d,children:n.jsxs(vg,{role:"alertdialog",...i,...s,ref:u,onOpenAutoFocus:ze(s.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[n.jsx(qhe,{children:a}),n.jsx(Vhe,{contentRef:l})]})})})});U5.displayName=Hl;var B5="AlertDialogTitle",z5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Ks(r);return n.jsx(r5,{...s,...a,ref:t})});z5.displayName=B5;var q5="AlertDialogDescription",W5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Ks(r);return n.jsx(n5,{...s,...a,ref:t})});W5.displayName=q5;var Whe="AlertDialogAction",V5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Ks(r);return n.jsx(TS,{...s,...a,ref:t})});V5.displayName=Whe;var H5="AlertDialogCancel",G5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=zhe(H5,r),i=Ks(r),l=Nt(t,s);return n.jsx(TS,{...i,...a,ref:l})});G5.displayName=H5;var Vhe=({contentRef:e})=>{const t=`\`${Hl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hl}\` by passing a \`${q5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Hhe=M5,Ghe=$5,Khe=L5,Yhe=F5,Xhe=U5,Qhe=V5,Zhe=G5,Jhe=z5,eme=W5;function tme({...e}){return n.jsx(Hhe,{"data-slot":"alert-dialog",...e})}function rme({...e}){return n.jsx(Ghe,{"data-slot":"alert-dialog-trigger",...e})}function nme({...e}){return n.jsx(Khe,{"data-slot":"alert-dialog-portal",...e})}function ame({className:e,...t}){return n.jsx(Yhe,{"data-slot":"alert-dialog-overlay",className:Ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function sme({className:e,...t}){return n.jsxs(nme,{children:[n.jsx(ame,{}),n.jsx(Xhe,{"data-slot":"alert-dialog-content",className:Ve("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function ime({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-header",className:Ve("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ome({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-footer",className:Ve("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function lme({className:e,...t}){return n.jsx(Jhe,{"data-slot":"alert-dialog-title",className:Ve("text-lg font-semibold",e),...t})}function cme({className:e,...t}){return n.jsx(eme,{"data-slot":"alert-dialog-description",className:Ve("text-muted-foreground text-sm",e),...t})}function ume({className:e,...t}){return n.jsx(Qhe,{className:Ve(Zu(),e),...t})}function dme({className:e,...t}){return n.jsx(Zhe,{className:Ve(Zu({variant:"outline"}),e),...t})}var fme="Separator",hO="horizontal",hme=["horizontal","vertical"],K5=x.forwardRef((e,t)=>{const{decorative:r,orientation:a=hO,...s}=e,i=mme(a)?a:hO,u=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(st.div,{"data-orientation":i,...u,...s,ref:t})});K5.displayName=fme;function mme(e){return hme.includes(e)}var pme=K5;function ma({className:e,orientation:t="horizontal",decorative:r=!0,...a}){return n.jsx(pme,{"data-slot":"separator-root",decorative:r,orientation:t,className:Ve("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...a})}const Yh=[{id:"1",name:"Головной офис",level:0,children:[{id:"1.1",name:"Финансовый департамент",parentId:"1",level:1},{id:"1.2",name:"Коммерческий департамент",parentId:"1",level:1}]},{id:"2",name:"Элеватор Алматы",level:0},{id:"3",name:"Элеватор Астана",level:0}],$j=["Ведущий специалист по учету","Специалист по учету","Бухгалтер-аналитик","Старший бухгалтер","Главный бухгалтер"],mO=[{id:"1",expenseItemId:"1",expenseItemCode:"001",expenseItemName:"Закуп товара (EXW)",expenseItemPath:"001 Закуп товара (EXW)",orgUnitId:"1.1",orgUnitName:"Финансовый департамент",registrarPosition:"Ведущий специалист по учету",priority:1,effectiveFrom:"2025-01-01",effectiveTo:"2025-12-31",status:"active",createdBy:"admin",createdByName:"Администратор",createdAt:"2025-12-01T10:00:00Z"},{id:"2",expenseItemId:"4",expenseItemCode:"004",expenseItemName:"Автомобильные перевозки",expenseItemPath:"004 Автомобильные перевозки",registrarPosition:"Бухгалтер-аналитик",priority:2,effectiveFrom:"2025-07-01",status:"active",createdBy:"admin",createdByName:"Администратор",createdAt:"2025-11-15T14:30:00Z"},{id:"3",expenseItemId:"6",expenseItemCode:"006",expenseItemName:"Лабораторные услуги",expenseItemPath:"006 Лабораторные услуги",orgUnitId:"1.2",orgUnitName:"Коммерческий департамент",registrarPosition:"Специалист по учету",priority:1,effectiveFrom:"2025-01-01",status:"active",createdBy:"admin",createdByName:"Администратор",createdAt:"2025-11-20T09:15:00Z"}];function gme({onBack:e}={}){const{items:t}=lr("expense-articles"),[r,a]=x.useState(mO),[s,i]=x.useState(mO),[l,u]=x.useState([]),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[g,j]=x.useState(null),[w,b]=x.useState(!1),[v,N]=x.useState({expenseItem:"",orgUnit:"",status:"all",position:"all-positions",effectiveDate:new Date}),[S,C]=x.useState({expenseItemId:"",orgUnitId:"all-units",registrarPosition:"",priority:1,effectiveFrom:new Date,effectiveTo:null}),[A,_]=x.useState({expenseItemId:"",orgUnitId:"all-units",asOfDate:new Date}),[T,P]=x.useState([]);x.useEffect(()=>{let L=r.filter(Y=>{if(v.status!=="all"&&Y.status!==v.status||v.expenseItem&&!Y.expenseItemPath.toLowerCase().includes(v.expenseItem.toLowerCase())||v.orgUnit&&Y.orgUnitName&&!Y.orgUnitName.toLowerCase().includes(v.orgUnit.toLowerCase())||v.position&&v.position!=="all-positions"&&Y.registrarPosition!==v.position)return!1;const ee=mt(v.effectiveDate,"yyyy-MM-dd");return!(Y.effectiveFrom>ee||Y.effectiveTo&&Y.effectiveTo<ee)});i(L)},[r,v]);const O=async()=>{try{b(!0);const L={id:Date.now().toString(),expenseItemId:S.expenseItemId,expenseItemCode:k(S.expenseItemId),expenseItemName:D(S.expenseItemId),expenseItemPath:W(S.expenseItemId),orgUnitId:S.orgUnitId&&S.orgUnitId!=="all-units"?S.orgUnitId:void 0,orgUnitName:S.orgUnitId&&S.orgUnitId!=="all-units"?H(S.orgUnitId):void 0,registrarPosition:S.registrarPosition,priority:S.priority,effectiveFrom:mt(S.effectiveFrom,"yyyy-MM-dd"),effectiveTo:S.effectiveTo?mt(S.effectiveTo,"yyyy-MM-dd"):void 0,status:"active",createdBy:"current-user",createdByName:"Текущий пользователь",createdAt:new Date().toISOString()};a(Y=>[L,...Y]),f(!1),$(),be.success("Назначение регистратора создано")}catch(L){console.error("Error creating assignment:",L),be.error("Ошибка создания назначения")}finally{b(!1)}},I=async()=>{if(g)try{b(!0);const L={...g,expenseItemId:S.expenseItemId,expenseItemCode:k(S.expenseItemId),expenseItemName:D(S.expenseItemId),expenseItemPath:W(S.expenseItemId),orgUnitId:S.orgUnitId&&S.orgUnitId!=="all-units"?S.orgUnitId:void 0,orgUnitName:S.orgUnitId&&S.orgUnitId!=="all-units"?H(S.orgUnitId):void 0,registrarPosition:S.registrarPosition,priority:S.priority,effectiveFrom:mt(S.effectiveFrom,"yyyy-MM-dd"),effectiveTo:S.effectiveTo?mt(S.effectiveTo,"yyyy-MM-dd"):void 0};a(Y=>Y.map(ee=>ee.id===g.id?L:ee)),j(null),$(),be.success("Назначение регистратора обновлено")}catch(L){console.error("Error updating assignment:",L),be.error("Ошибка обновления назначения")}finally{b(!1)}},B=L=>{C({expenseItemId:L.expenseItemId,orgUnitId:L.orgUnitId||"all-units",registrarPosition:L.registrarPosition,priority:L.priority,effectiveFrom:new Date,effectiveTo:null}),f(!0)},q=async L=>{try{a(Y=>Y.map(ee=>ee.id===L?{...ee,status:"archived"}:ee)),be.success("Назначение архивировано")}catch(Y){console.error("Error archiving assignment:",Y),be.error("Ошибка архивирования назначения")}},G=()=>{const L=s.map(Y=>({"Код статьи":Y.expenseItemCode,"Статья расходов":Y.expenseItemName,Подразделение:Y.orgUnitName||"Все",Должность:Y.registrarPosition,Приоритет:Y.priority,"Действует с":Y.effectiveFrom,"Действует до":Y.effectiveTo||"Бессрочно",Статус:Y.status==="active"?"Активно":"Архив",Создал:Y.createdByName,"Дата создания":mt(new Date(Y.createdAt),"dd.MM.yyyy HH:mm",{locale:St})}));console.log("Exporting CSV:",L),be.success("Экспорт завершен")},V=()=>{be.success("Импорт шаблона загружен")},Z=async()=>{try{b(!0),P([{expenseItemId:"1",expenseItemName:"Закуп товара (EXW)",orgUnitId:"1.1",orgUnitName:"Финансовый департамент",registrarName:"Иванова А.С.",registrarPosition:"Ведущий специалист по учету",priority:1,effectiveFrom:"2025-01-01",effectiveTo:"2025-12-31"}]),be.success("Данные об ответственных загружены")}catch(L){console.error("Error looking up responsibles:",L),be.error("Ошибка загрузки данных об ответственных")}finally{b(!1)}},$=()=>{C({expenseItemId:"",orgUnitId:"all-units",registrarPosition:"",priority:1,effectiveFrom:new Date,effectiveTo:null})},M=L=>{j(L),C({expenseItemId:L.expenseItemId,orgUnitId:L.orgUnitId||"all-units",registrarPosition:L.registrarPosition,priority:L.priority,effectiveFrom:new Date(L.effectiveFrom),effectiveTo:L.effectiveTo?new Date(L.effectiveTo):null})},k=L=>{const Y=t.find(ee=>ee.id===L);return Y?Y.code:""},D=L=>{const Y=t.find(ee=>ee.id===L);return Y?Y.name:""},W=L=>{const Y=t.find(ee=>ee.id===L);return Y?`${Y.code} ${Y.name}`:""},H=L=>{const Y=ee=>{for(const ce of ee){if(ce.id===L)return ce.name;if(ce.children){const K=Y(ce.children);if(K)return K}}return""};return Y(Yh)},z=(L,Y)=>L.filter(ee=>ee.isActive).map(ee=>n.jsx(Ei,{className:"cursor-pointer",onSelect:()=>Y(ee),children:n.jsxs("span",{children:[ee.code," ",ee.name]})},ee.id)),F=(L,Y)=>L.map(ee=>n.jsxs("div",{children:[n.jsx(Ei,{className:"cursor-pointer",onSelect:()=>Y(ee),children:n.jsxs("span",{style:{paddingLeft:`${ee.level*16}px`},children:[ee.children?n.jsx(qj,{className:"w-4 h-4 inline mr-1"}):n.jsx("span",{className:"w-5 inline-block"}),ee.name]})}),ee.children&&F(ee.children,Y)]},ee.id));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[e&&n.jsx(X,{variant:"ghost",onClick:e,className:"pl-0",children:"← Н��зад"}),n.jsxs("div",{children:[n.jsx("h2",{children:"Назначения регистраторов"}),n.jsx("p",{className:"text-muted-foreground",children:"Управление назначениями регистраторов по статьям расходов"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",onClick:V,children:[n.jsx(Ao,{className:"w-4 h-4 mr-2"}),"Импорт"]}),n.jsxs(X,{variant:"outline",onClick:G,children:[n.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Экспорт"]}),n.jsxs(Ut,{open:d,onOpenChange:f,children:[n.jsx(Fa,{asChild:!0,children:n.jsxs(X,{onClick:()=>{$(),j(null)},children:[n.jsx(un,{className:"w-4 h-4 mr-2"}),"Создать назначение"]})}),n.jsxs($t,{className:"max-w-2xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:g?"Редактировать назначение":"Создать назначение регистратора"}),n.jsx(Wt,{children:g?"Измените параметры назначения регистратора для выбранной статьи расходов.":"Создайте новое назначение регистратора для обработки заявок по определенной статье расходов."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Статья расходов *"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[S.expenseItemId?W(S.expenseItemId):"Выберите статью",n.jsx(Qa,{className:"w-4 h-4"})]})}),n.jsx(vn,{className:"w-96 p-0",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:"Поиск статьи..."}),n.jsx(_i,{children:"Статья не найдена"}),n.jsx(Si,{className:"max-h-64",children:n.jsx(As,{children:z(t,L=>{C(Y=>({...Y,expenseItemId:L.id}))})})})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Подразделение"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[S.orgUnitId&&S.orgUnitId!=="all-units"?H(S.orgUnitId):"Все подразделения",n.jsx(Qa,{className:"w-4 h-4"})]})}),n.jsx(vn,{className:"w-80 p-0",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:"Поиск подразделения..."}),n.jsx(_i,{children:"Подразделение не найдено"}),n.jsx(Si,{className:"max-h-64",children:n.jsxs(As,{children:[n.jsx(Ei,{onSelect:()=>C(L=>({...L,orgUnitId:"all-units"})),children:"Все подразделения"}),F(Yh,L=>{C(Y=>({...Y,orgUnitId:L.id}))})]})})]})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Должность регистратора *"}),n.jsxs(et,{value:S.registrarPosition,onValueChange:L=>C(Y=>({...Y,registrarPosition:L})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите должность"})}),n.jsx(nt,{children:$j.map(L=>n.jsx(xe,{value:L,children:L},L))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Приоритет"}),n.jsxs(et,{value:S.priority.toString(),onValueChange:L=>C(Y=>({...Y,priority:parseInt(L)})),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"1",children:"1 (Высший)"}),n.jsx(xe,{value:"2",children:"2 (Высокий)"}),n.jsx(xe,{value:"3",children:"3 (Средний)"}),n.jsx(xe,{value:"4",children:"4 (Низкий)"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Действует с *"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(po,{className:"w-4 h-4 mr-2"}),mt(S.effectiveFrom,"dd.MM.yyyy",{locale:St})]})}),n.jsx(vn,{className:"w-auto p-0",children:n.jsx(yo,{mode:"single",selected:S.effectiveFrom,onSelect:L=>L&&C(Y=>({...Y,effectiveFrom:L})),locale:St})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Действует до"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(po,{className:"w-4 h-4 mr-2"}),S.effectiveTo?mt(S.effectiveTo,"dd.MM.yyyy",{locale:St}):"Бессрочно"]})}),n.jsx(vn,{className:"w-auto p-0",children:n.jsx(yo,{mode:"single",selected:S.effectiveTo||void 0,onSelect:L=>C(Y=>({...Y,effectiveTo:L||null})),locale:St})})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{f(!1),j(null),$()},children:"Отмена"}),n.jsx(X,{onClick:g?I:O,disabled:!S.expenseItemId||!S.registrarPosition||w,children:w?"Сохранение...":g?"Обновить":"Создать"})]})]})]})]})]})]}),n.jsxs(Dc,{defaultValue:"assignments",className:"space-y-4",children:[n.jsxs(Mc,{children:[n.jsx(wn,{value:"assignments",children:"Назначения"}),n.jsx(wn,{value:"lookup",children:"Просмотр на дату"})]}),n.jsxs(Nn,{value:"assignments",className:"space-y-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Статья расходов"}),n.jsx(Ie,{placeholder:"Поиск по статье...",value:v.expenseItem,onChange:L=>N(Y=>({...Y,expenseItem:L.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Подразделение"}),n.jsx(Ie,{placeholder:"Поиск по подразделению...",value:v.orgUnit,onChange:L=>N(Y=>({...Y,orgUnit:L.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Статус"}),n.jsxs(et,{value:v.status,onValueChange:L=>N(Y=>({...Y,status:L})),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все"}),n.jsx(xe,{value:"active",children:"Активные"}),n.jsx(xe,{value:"archived",children:"Архив"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Должность"}),n.jsxs(et,{value:v.position,onValueChange:L=>N(Y=>({...Y,position:L})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Все должности"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all-positions",children:"Все должности"}),$j.map(L=>n.jsx(xe,{value:L,children:L},L))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"На дату"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(po,{className:"w-4 h-4 mr-2"}),mt(v.effectiveDate,"dd.MM.yyyy",{locale:St})]})}),n.jsx(vn,{className:"w-auto p-0",children:n.jsx(yo,{mode:"single",selected:v.effectiveDate,onSelect:L=>L&&N(Y=>({...Y,effectiveDate:L})),locale:St})})]})]})]})})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ae,{children:["Назначения (",s.length,")"]}),l.length>0&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Выбрано: ",l.length]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(RE,{className:"w-4 h-4 mr-2"}),"Архивировать"]})]})]})}),n.jsxs(pe,{children:[n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{className:"w-12",children:n.jsx(Er,{checked:l.length===s.length,onCheckedChange:L=>{u(L?s.map(Y=>Y.id):[])}})}),n.jsx(_e,{children:"Статья расходов"}),n.jsx(_e,{children:"Подразделение"}),n.jsx(_e,{children:"Должность"}),n.jsx(_e,{className:"w-20",children:"Приоритет"}),n.jsx(_e,{children:"Период действия"}),n.jsx(_e,{className:"w-20",children:"Статус"}),n.jsx(_e,{children:"Создал"}),n.jsx(_e,{className:"w-12"})]})}),n.jsx(Br,{children:s.map(L=>n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsx(Er,{checked:l.includes(L.id),onCheckedChange:Y=>{u(Y?ee=>[...ee,L.id]:ee=>ee.filter(ce=>ce!==L.id))}})}),n.jsx(Ne,{children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qj,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:L.expenseItemCode})]}),n.jsx("div",{className:"text-sm text-muted-foreground ml-6",children:L.expenseItemName})]})}),n.jsx(Ne,{children:L.orgUnitName||n.jsx("span",{className:"text-muted-foreground italic",children:"Все подразделения"})}),n.jsx(Ne,{children:L.registrarPosition}),n.jsx(Ne,{children:n.jsx(je,{variant:"outline",children:L.priority})}),n.jsx(Ne,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{children:mt(new Date(L.effectiveFrom),"dd.MM.yyyy",{locale:St})}),n.jsx("div",{className:"text-muted-foreground",children:L.effectiveTo?`до ${mt(new Date(L.effectiveTo),"dd.MM.yyyy",{locale:St})}`:"бессрочно"})]})}),n.jsx(Ne,{children:n.jsx(je,{variant:L.status==="active"?"default":"secondary",children:L.status==="active"?"Активно":"Архив"})}),n.jsx(Ne,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{children:L.createdByName}),n.jsx("div",{className:"text-muted-foreground",children:mt(new Date(L.createdAt),"dd.MM.yy HH:mm",{locale:St})})]})}),n.jsx(Ne,{children:n.jsxs(ew,{children:[n.jsx(tw,{asChild:!0,children:n.jsx(X,{variant:"ghost",size:"sm",children:n.jsx(UO,{className:"w-4 h-4"})})}),n.jsxs(rw,{align:"end",children:[n.jsxs(bo,{onClick:()=>M(L),children:[n.jsx(cn,{className:"w-4 h-4 mr-2"}),"Редактировать"]}),n.jsxs(bo,{onClick:()=>B(L),children:[n.jsx(R8,{className:"w-4 h-4 mr-2"}),"Дублировать"]}),n.jsxs(bo,{children:[n.jsx(Vj,{className:"w-4 h-4 mr-2"}),"История"]}),n.jsx(ma,{}),n.jsxs(tme,{children:[n.jsx(rme,{asChild:!0,children:n.jsxs(bo,{onSelect:Y=>Y.preventDefault(),children:[n.jsx(RE,{className:"w-4 h-4 mr-2"}),"Архивировать"]})}),n.jsxs(sme,{children:[n.jsxs(ime,{children:[n.jsx(lme,{children:"Архивировать назначение?"}),n.jsx(cme,{children:"Назначение будет перемещено в архив и станет неактивным."})]}),n.jsxs(ome,{children:[n.jsx(dme,{children:"Отмена"}),n.jsx(ume,{onClick:()=>q(L.id),children:"Архивировать"})]})]})]})]})]})})]},L.id))})]}),s.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Назначения не найдены"})]})]})]}),n.jsx(Nn,{value:"lookup",className:"space-y-4",children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"Просмотр ответственных на дату"})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Статья расходов"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[A.expenseItemId?W(A.expenseItemId):"Выберите статью",n.jsx(Qa,{className:"w-4 h-4"})]})}),n.jsx(vn,{className:"w-96 p-0",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:"Поиск статьи..."}),n.jsx(_i,{children:"Статья не найдена"}),n.jsx(Si,{className:"max-h-64",children:n.jsx(As,{children:z(t,L=>{_(Y=>({...Y,expenseItemId:L.id}))})})})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Подразделение"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[A.orgUnitId&&A.orgUnitId!=="all-units"?H(A.orgUnitId):"Все подразделения",n.jsx(Qa,{className:"w-4 h-4"})]})}),n.jsx(vn,{className:"w-80 p-0",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:"Поиск подразделения..."}),n.jsx(_i,{children:"Подразделение не найдено"}),n.jsx(Si,{className:"max-h-64",children:n.jsxs(As,{children:[n.jsx(Ei,{onSelect:()=>_(L=>({...L,orgUnitId:"all-units"})),children:"Все подразделения"}),F(Yh,L=>{_(Y=>({...Y,orgUnitId:L.id}))})]})})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"На дату"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(po,{className:"w-4 h-4 mr-2"}),mt(A.asOfDate,"dd.MM.yyyy",{locale:St})]})}),n.jsx(vn,{className:"w-auto p-0",children:n.jsx(yo,{mode:"single",selected:A.asOfDate,onSelect:L=>L&&_(Y=>({...Y,asOfDate:L})),locale:St})})]})]})]}),n.jsxs(X,{onClick:Z,disabled:w,children:[n.jsx(xr,{className:"w-4 h-4 mr-2"}),w?"Поиск...":"Найти ответственных"]}),T.length>0&&n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{children:"Статья расходов"}),n.jsx(_e,{children:"Подразделение"}),n.jsx(_e,{children:"Ответственный"}),n.jsx(_e,{children:"Должность"}),n.jsx(_e,{children:"Приоритет"}),n.jsx(_e,{children:"Период действия"})]})}),n.jsx(Br,{children:T.map((L,Y)=>n.jsxs(gt,{children:[n.jsx(Ne,{children:L.expenseItemName}),n.jsx(Ne,{children:L.orgUnitName||n.jsx("span",{className:"text-muted-foreground italic",children:"Все подразделения"})}),n.jsx(Ne,{children:L.registrarName}),n.jsx(Ne,{children:L.registrarPosition}),n.jsx(Ne,{children:n.jsx(je,{variant:"outline",children:L.priority})}),n.jsx(Ne,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{children:mt(new Date(L.effectiveFrom),"dd.MM.yyyy",{locale:St})}),n.jsx("div",{className:"text-muted-foreground",children:L.effectiveTo?`до ${mt(new Date(L.effectiveTo),"dd.MM.yyyy",{locale:St})}`:"бессрочно"})]})})]},Y))})]})]})]})})]}),g&&n.jsx(Ut,{open:!!g,onOpenChange:L=>!L&&j(null),children:n.jsxs($t,{className:"max-w-2xl",children:[n.jsx(Bt,{children:n.jsx(zt,{children:"Редактировать назначение регистратора"})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Статья расходов *"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[S.expenseItemId?W(S.expenseItemId):"Выберите статью",n.jsx(Qa,{className:"w-4 h-4"})]})}),n.jsx(vn,{className:"w-96 p-0",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:"Поиск статьи..."}),n.jsx(_i,{children:"Статья не найдена"}),n.jsx(Si,{className:"max-h-64",children:n.jsx(As,{children:z(t,L=>{C(Y=>({...Y,expenseItemId:L.id}))})})})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Подразделение"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[S.orgUnitId?H(S.orgUnitId):"Все подразделения",n.jsx(Qa,{className:"w-4 h-4"})]})}),n.jsx(vn,{className:"w-80 p-0",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:"Поиск подразделения..."}),n.jsx(_i,{children:"Подразделение не найдено"}),n.jsx(Si,{className:"max-h-64",children:n.jsxs(As,{children:[n.jsx(Ei,{onSelect:()=>C(L=>({...L,orgUnitId:""})),children:"Все подразделения"}),F(Yh,L=>{C(Y=>({...Y,orgUnitId:L.id}))})]})})]})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Должность регистратора *"}),n.jsxs(et,{value:S.registrarPosition,onValueChange:L=>C(Y=>({...Y,registrarPosition:L})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите должность"})}),n.jsx(nt,{children:$j.map(L=>n.jsx(xe,{value:L,children:L},L))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Приоритет"}),n.jsxs(et,{value:S.priority.toString(),onValueChange:L=>C(Y=>({...Y,priority:parseInt(L)})),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"1",children:"1 (Высший)"}),n.jsx(xe,{value:"2",children:"2 (Высокий)"}),n.jsx(xe,{value:"3",children:"3 (Средний)"}),n.jsx(xe,{value:"4",children:"4 (Низкий)"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Действует с *"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(po,{className:"w-4 h-4 mr-2"}),mt(S.effectiveFrom,"dd.MM.yyyy",{locale:St})]})}),n.jsx(vn,{className:"w-auto p-0",children:n.jsx(yo,{mode:"single",selected:S.effectiveFrom,onSelect:L=>L&&C(Y=>({...Y,effectiveFrom:L})),locale:St})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Действует до"}),n.jsxs(pn,{children:[n.jsx(gn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(po,{className:"w-4 h-4 mr-2"}),S.effectiveTo?mt(S.effectiveTo,"dd.MM.yyyy",{locale:St}):"Бессрочно"]})}),n.jsx(vn,{className:"w-auto p-0",children:n.jsx(yo,{mode:"single",selected:S.effectiveTo||void 0,onSelect:L=>C(Y=>({...Y,effectiveTo:L||null})),locale:St})})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>j(null),children:"Отмена"}),n.jsx(X,{onClick:I,disabled:!S.expenseItemId||!S.registrarPosition||w,children:w?"Сохранение...":"Обновить"})]})]})]})})]})}function vme({onViewRequest:e,paymentRequests:t}){const[r,a]=x.useState([]),[s,i]=x.useState([]),[l,u]=x.useState(!0),[d,f]=x.useState(""),[h,m]=x.useState(!1),[g,j]=x.useState("all"),[w,b]=x.useState(""),[v,N]=x.useState(""),[S,C]=x.useState([]);x.useEffect(()=>{A()},[]),x.useEffect(()=>{_()},[r,d,h,g,w,v]);const A=async()=>{try{if(u(!0),t&&t.length>0)a(t);else{const q=await Al.getRequestsWithChiefAssignment("distributor");a(q)}const B=await Il.getCounterparties();C(B)}catch(B){console.error("Failed to load data:",B),be.error("Ошибка загрузки данных")}finally{u(!1)}},_=()=>{let B=[...r];d&&(B=B.filter(q=>q.requestNumber?.toLowerCase().includes(d.toLowerCase())||q.description.toLowerCase().includes(d.toLowerCase())||T(q.counterpartyId).toLowerCase().includes(d.toLowerCase()))),h&&(B=B.filter(q=>q.isAssignedToChief)),g&&g!=="all"&&(B=B.filter(q=>q.counterpartyId===g)),w&&(B=B.filter(q=>q.createdAt>=w)),v&&(B=B.filter(q=>q.createdAt<=v)),i(B)},T=B=>S.find(G=>G.id===B)?.name||"Неизвестно",P=(B,q)=>new Intl.NumberFormat("ru-KZ",{style:"currency",currency:q==="KZT"?"KZT":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(B),O=B=>{const q=new Date(B),G=new Date,V=Math.ceil((q.getTime()-G.getTime())/(1e3*60*60*24));return V<0?n.jsx(Rt,{className:"h-4 w-4 text-red-500"}):V<=3?n.jsx(Jt,{className:"h-4 w-4 text-orange-500"}):null},I=B=>B.expenseSplits?.length||0;return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Заявки к согласованию"}),n.jsx("p",{className:"text-muted-foreground",children:"Классифицированные заявки для распределения по контрактам"})]}),n.jsxs(je,{variant:"outline",className:"text-sm",children:[s.length," из ",r.length]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Bi,{className:"h-5 w-5"}),"Фильтры"]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Поиск"}),n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{placeholder:"Номер, описание, контрагент...",value:d,onChange:B=>f(B.target.value),className:"pl-10"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Контрагент"}),n.jsxs(et,{value:g,onValueChange:j,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Все контрагенты"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все контрагенты"}),S.map(B=>n.jsx(xe,{value:B.id,children:B.name},B.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Дата с"}),n.jsx(Ie,{type:"date",value:w,onChange:B=>b(B.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Дата по"}),n.jsx(Ie,{type:"date",value:v,onChange:B=>N(B.target.value)})]})]}),n.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:"onlyAssigned",checked:h,onCheckedChange:m}),n.jsx("label",{htmlFor:"onlyAssigned",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Только закрепленные статьи"})]}),h&&n.jsxs(je,{variant:"secondary",className:"text-xs",children:[n.jsx(Hj,{className:"h-3 w-3 mr-1"}),"Главный распорядитель"]})]})]})]}),n.jsx(me,{children:n.jsxs(pe,{className:"p-0",children:[n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{className:"w-[120px]",children:"№ заявки"}),n.jsx(_e,{children:"Контрагент"}),n.jsx(_e,{className:"text-right",children:"Сумма"}),n.jsx(_e,{children:"Срок"}),n.jsx(_e,{className:"text-center",children:"Позиций"}),n.jsx(_e,{className:"text-center",children:"Закрепление"}),n.jsx(_e,{children:"Приоритет"}),n.jsx(_e,{className:"w-[100px]",children:"Действия"})]})}),n.jsx(Br,{children:s.map(B=>n.jsxs(gt,{className:"hover:bg-muted/50",children:[n.jsx(Ne,{className:"font-medium",children:B.requestNumber}),n.jsx(Ne,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:T(B.counterpartyId)}),n.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:B.description})]})}),n.jsx(Ne,{className:"text-right",children:n.jsx("div",{className:"font-medium",children:P(B.amount,B.currency)})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[O(B.dueDate),n.jsx("span",{className:"text-sm",children:new Date(B.dueDate).toLocaleDateString("ru-RU")})]})}),n.jsx(Ne,{className:"text-center",children:n.jsx(je,{variant:"outline",children:I(B)})}),n.jsx(Ne,{className:"text-center",children:B.isAssignedToChief?n.jsxs(je,{variant:"secondary",className:"text-xs",children:[n.jsx(Hj,{className:"h-3 w-3 mr-1"}),"Закреплено"]}):n.jsx("span",{className:"text-muted-foreground text-sm",children:"Нет"})}),n.jsx(Ne,{children:B.priority&&n.jsx(je,{variant:"outline",className:"text-xs",children:B.priority})}),n.jsx(Ne,{children:n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>e(B.id),className:"h-8 w-8 p-0",children:n.jsx(Oi,{className:"h-4 w-4"})})})]},B.id))})]}),s.length===0&&n.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[n.jsx("p",{children:"Заявки не найдены"}),h&&n.jsx("p",{className:"text-sm mt-2",children:'Попробуйте снять фильтр "Только закрепленные статьи"'})]})]})})]})}const xme=({onRequestUpdate:e})=>{const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(new Map),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,g]=x.useState(null),[j,w]=x.useState("");x.useEffect(()=>{b()},[]);const b=async()=>{try{d(!0);const[C,A]=await Promise.all([Nx.getDistributorRequests(),Uu.getExportContracts()]);r(C.requests),s(A.contracts);const _=new Map;for(const T of C.requests)try{const P=await Nx.getEnrichedRequest(T.id);_.set(T.id,P)}catch(P){console.error("Error loading enriched data for request:",T.id,P)}l(_)}catch(C){console.error("Error loading data:",C),be.error("Ошибка загрузки данных")}finally{d(!1)}},v=async C=>{if(!j){be.error("Выберите экспортный контракт");return}try{h(!0),await Nx.linkExportContract(C.id,{exportContractId:j});const A=a.find(_=>_.id===j);A&&Yl.notifyExportContractLinked(C.id,`Заявка ${C.id.slice(0,8)}`,A.contractNumber),be.success("Экспортный контракт успешно привязан"),await b(),e&&e()}catch(A){console.error("Error linking contract:",A),be.error("Ошибка привязки контракта")}finally{h(!1),g(null),w("")}},N=C=>{switch(C.status){case"PENDING":return n.jsx(je,{variant:"outline",children:"Ожидает"});case"LINKED":return n.jsx(je,{variant:"default",children:"Привязан"});default:return n.jsx(je,{variant:"secondary",children:C.status})}},S=C=>{const A=i.get(C.id);return A?A.subRegistrarReport?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[n.jsx(pt,{className:"h-4 w-4"}),n.jsx("span",{children:"Обогащён данными от суб-регистратора"})]}):n.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-600",children:[n.jsx(Jt,{className:"h-4 w-4"}),n.jsx("span",{children:"Ожидает отчёта от суб-регистратора"})]}):null};return u?n.jsxs("div",{className:"flex items-center justify-center p-8",children:[n.jsx(Mr,{className:"h-8 w-8 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Загрузка заявок..."})]}):t.length===0?n.jsx(me,{children:n.jsxs(pe,{className:"p-8 text-center",children:[n.jsx(yt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Нет заявок"}),n.jsx("p",{className:"text-muted-foreground",children:"У вас пока нет заявок для обработки"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"Мои заявки"]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:t.map(C=>{const A=i.get(C.id),_=C.status==="LINKED";return n.jsx(me,{className:`border-l-4 ${_?"border-l-green-500":"border-l-blue-500"}`,children:n.jsxs(pe,{className:"pt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-medium",children:["Заявка ",C.id.slice(0,8)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Сумма:"}),n.jsx("span",{className:"text-sm",children:C.amount})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Статус:"}),N(C)]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Создано: ",new Date(C.createdAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:"Статус обогащения"}),S(C),A?.subRegistrarReport&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsxs("div",{children:["Статус документов: ",A.subRegistrarReport.documentStatus]}),n.jsxs("div",{children:["Отчёт: ",A.subRegistrarReport.status==="published"?"Опубликован":"Черновик"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:"Экспортный контракт"}),_?n.jsxs("div",{className:"text-sm text-green-600",children:[n.jsx(pt,{className:"h-4 w-4 inline mr-1"}),"Привязан"]}):n.jsxs(et,{value:j,onValueChange:w,disabled:!A?.subRegistrarReport,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите контракт"})}),n.jsx(nt,{children:a.map(T=>n.jsxs(xe,{value:T.id,children:[T.contractNumber," - ",T.contractDate]},T.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{size:"sm",onClick:()=>v(C),disabled:f||_||!A?.subRegistrarReport||!j,className:"flex items-center gap-1",children:[f?n.jsx(Mr,{className:"h-3 w-3 animate-spin"}):n.jsx(Z8,{className:"h-3 w-3"}),"Привязать контракт"]}),n.jsxs(X,{size:"sm",variant:"outline",onClick:()=>g(C),className:"flex items-center gap-1",children:[n.jsx(Oi,{className:"h-3 w-3"}),"Подробнее"]})]}),A?.exportLinks&&A.exportLinks.length>0&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsxs("div",{children:["Привязанных контрактов: ",A.exportLinks.length]}),n.jsxs("div",{children:["Последняя привязка: ",new Date(A.exportLinks[0].linkedAt).toLocaleDateString()]})]})]})]}),A?.subRegistrarReport&&n.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-md",children:[n.jsx("h5",{className:"text-sm font-medium mb-2",children:"Данные от суб-регистратора"}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[n.jsxs("div",{children:["Статус документов: ",A.subRegistrarReport.documentStatus]}),n.jsxs("div",{children:["Статус отчёта: ",A.subRegistrarReport.status==="published"?"Опубликован":"Черновик"]}),A.subRegistrarReport.publishedAt&&n.jsxs("div",{children:["Дата публикации: ",new Date(A.subRegistrarReport.publishedAt).toLocaleDateString()]}),A.subRegistrarReport.reportData&&n.jsxs("div",{children:["Дополнительные данные: ",JSON.stringify(A.subRegistrarReport.reportData)]})]})]})]})},C.id)})})})]}),m&&n.jsxs(me,{className:"fixed inset-4 z-50 bg-background border-2",children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Детали заявки"}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>g(null),children:"Закрыть"})]})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{className:"text-sm font-medium",children:"ID заявки"}),n.jsx("p",{className:"text-sm",children:m.id})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-sm font-medium",children:"Сумма"}),n.jsx("p",{className:"text-sm",children:m.amount})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-sm font-medium",children:"Статус"}),n.jsx("div",{className:"mt-1",children:N(m)})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-sm font-medium",children:"Дата создания"}),n.jsx("p",{className:"text-sm",children:new Date(m.createdAt).toLocaleString()})]})]})})]})]})},yme=({onContractSelect:e,selectedContractId:t,showCreateForm:r=!1})=>{const[a,s]=x.useState([]),[i,l]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,g]=x.useState(""),[j,w]=x.useState(r),[b,v]=x.useState(null),[N,S]=x.useState({contractNumber:"",contractDate:"",counterpartyId:"",amount:0,currencyCode:"KZT"});x.useEffect(()=>{C()},[]);const C=async()=>{try{l(!0);const I=await Uu.getExportContracts();s(I.contracts)}catch(I){console.error("Error loading contracts:",I),be.error("Ошибка загрузки контрактов")}finally{l(!1)}},A=async()=>{if(!N.contractNumber||!N.contractDate){be.error("Заполните обязательные поля");return}try{d(!0);const I=await Uu.createExportContract(N);s([...a,I]),S({contractNumber:"",contractDate:"",counterpartyId:"",amount:0,currencyCode:"KZT"}),w(!1),be.success("Контракт создан")}catch(I){console.error("Error creating contract:",I),be.error("Ошибка создания контракта")}finally{d(!1)}},_=async(I,B)=>{try{h(!0);const q=await Uu.updateExportContract(I,B);s(a.map(G=>G.id===I?q:G)),v(null),be.success("Контракт обновлён")}catch(q){console.error("Error updating contract:",q),be.error("Ошибка обновления контракта")}finally{h(!1)}},T=async I=>{if(confirm("Вы уверены, что хотите удалить этот контракт?"))try{await Uu.deleteExportContract(I),s(a.filter(B=>B.id!==I)),be.success("Контракт удалён")}catch(B){console.error("Error deleting contract:",B),be.error("Ошибка удаления контракта")}},P=a.filter(I=>I.contractNumber.toLowerCase().includes(m.toLowerCase())||I.contractDate.includes(m)),O=(I,B)=>{S(q=>({...q,[I]:B}))};return i?n.jsxs("div",{className:"flex items-center justify-center p-8",children:[n.jsx(Mr,{className:"h-8 w-8 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Загрузка контрактов..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Экспортные контракты"}),n.jsxs(X,{onClick:()=>w(!j),className:"flex items-center gap-2",children:[n.jsx(un,{className:"h-4 w-4"}),"Создать контракт"]})]})}),n.jsxs(pe,{children:[n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{placeholder:"Поиск по номеру или дате контракта...",value:m,onChange:I=>g(I.target.value),className:"pl-10"})]})}),j&&n.jsxs(me,{className:"mb-6 border-dashed",children:[n.jsx(Te,{children:n.jsx(Ae,{className:"text-lg",children:"Создать новый контракт"})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"contractNumber",children:"Номер контракта *"}),n.jsx(Ie,{id:"contractNumber",value:N.contractNumber,onChange:I=>O("contractNumber",I.target.value),placeholder:"Введите номер контракта"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"contractDate",children:"Дата контракта *"}),n.jsx(Ie,{id:"contractDate",type:"date",value:N.contractDate,onChange:I=>O("contractDate",I.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"amount",children:"Сумма"}),n.jsx(Ie,{id:"amount",type:"number",step:"0.01",value:N.amount,onChange:I=>O("amount",parseFloat(I.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"currencyCode",children:"Валюта"}),n.jsxs(et,{value:N.currencyCode,onValueChange:I=>O("currencyCode",I),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"KZT",children:"KZT"}),n.jsx(xe,{value:"USD",children:"USD"}),n.jsx(xe,{value:"EUR",children:"EUR"}),n.jsx(xe,{value:"RUB",children:"RUB"})]})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{onClick:A,disabled:u,className:"flex items-center gap-2",children:[u?n.jsx(Mr,{className:"h-4 w-4 animate-spin"}):n.jsx(un,{className:"h-4 w-4"}),"Создать"]}),n.jsx(X,{variant:"outline",onClick:()=>w(!1),children:"Отмена"})]})]})]}),n.jsx("div",{className:"space-y-3",children:P.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:m?"Контракты не найдены":"Нет контрактов"}):P.map(I=>n.jsx(me,{className:`cursor-pointer transition-colors ${t===I.id?"ring-2 ring-blue-500":""}`,onClick:()=>e?.(I),children:n.jsx(pe,{className:"pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:I.contractNumber}),n.jsx(je,{variant:I.isActive?"default":"secondary",children:I.isActive?"Активен":"Неактивен"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vr,{className:"h-3 w-3"}),new Date(I.contractDate).toLocaleDateString()]}),I.amount&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Xn,{className:"h-3 w-3"}),I.amount," ",I.currencyCode]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:B=>{B.stopPropagation(),v(I)},children:n.jsx(cn,{className:"h-3 w-3"})}),n.jsx(X,{size:"sm",variant:"outline",onClick:B=>{B.stopPropagation(),T(I.id)},children:n.jsx(Cr,{className:"h-3 w-3"})})]})]})})},I.id))})]})]}),b&&n.jsxs(me,{className:"fixed inset-4 z-50 bg-background border-2",children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Редактировать контракт"}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>v(null),children:"Закрыть"})]})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Номер контракта"}),n.jsx(Ie,{value:b.contractNumber,onChange:I=>v({...b,contractNumber:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Дата контракта"}),n.jsx(Ie,{type:"date",value:b.contractDate,onChange:I=>v({...b,contractDate:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Сумма"}),n.jsx(Ie,{type:"number",step:"0.01",value:b.amount||"",onChange:I=>v({...b,amount:parseFloat(I.target.value)||void 0})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Валюта"}),n.jsxs(et,{value:b.currencyCode||"KZT",onValueChange:I=>v({...b,currencyCode:I}),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"KZT",children:"KZT"}),n.jsx(xe,{value:"USD",children:"USD"}),n.jsx(xe,{value:"EUR",children:"EUR"}),n.jsx(xe,{value:"RUB",children:"RUB"})]})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{onClick:()=>_(b.id,{contractNumber:b.contractNumber,contractDate:b.contractDate,amount:b.amount,currencyCode:b.currencyCode}),disabled:f,children:[f?n.jsx(Mr,{className:"h-4 w-4 animate-spin mr-2"}):null,"Сохранить"]}),n.jsx(X,{variant:"outline",onClick:()=>v(null),children:"Отмена"})]})]})})]})]})};function bme({request:e,onApprove:t,onApproveOnBehalf:r,onReturn:a,onDecline:s,onCancel:i}){const[l,u]=x.useState("items"),[d,f]=x.useState([]),[h,m]=x.useState("p2"),[g,j]=x.useState(""),[w,b]=x.useState(""),[v,N]=x.useState(""),[S,C]=x.useState(!1),[A,_]=x.useState([]),[T,P]=x.useState([]),[O,I]=x.useState([]),[B,q]=x.useState([]),[G,V]=x.useState([]),[Z,$]=x.useState(!1),[M,k]=x.useState(!1);x.useEffect(()=>{D()},[e]),x.useEffect(()=>{W()},[d]);const D=async()=>{try{C(!0);const[re,$e,oe,Ce]=await Promise.all([Il.getContracts(),Il.getExpenseItems(),Il.getCounterparties(),Il.getPriorities()]);_(re),P($e),I(oe),q(Ce),e.paymentAllocations&&f(e.paymentAllocations)}catch(re){console.error("Failed to load data:",re),be.error("Ошибка загрузки данных")}finally{C(!1)}},W=()=>{const re=[],$e=d.reduce((oe,Ce)=>oe+Ce.amount,0);$e!==e.amount&&re.push(`Сумма распределений (${K($e,e.currency)}) не равна сумме заявки (${K(e.amount,e.currency)})`),d.forEach((oe,Ce)=>{if(oe.contractId==="none"||!oe.contractId){re.push(`Строка ${Ce+1}: Выберите договор`);return}const Ue=A.find(bt=>bt.id===oe.contractId);if(!Ue){re.push(`Строка ${Ce+1}: Договор не найден`);return}Ue.status!=="active"&&re.push(`Строка ${Ce+1}: Договор "${Ue.code}" неактивен`);const ot=Ue.limitTotal-Ue.usedTotal;oe.amount>ot&&re.push(`Строка ${Ce+1}: Превышен лимит договора "${Ue.code}" (доступно: ${K(ot,e.currency)})`),new Date(oe.plannedDate)<new Date&&re.push(`Строка ${Ce+1}: Плановая дата не может быть в прошлом`)}),V(re)},H=()=>{const re={id:`alloc_${Date.now()}`,contractId:"none",amount:0,currency:e.currency,plannedDate:new Date().toISOString().split("T")[0],comment:""};f([...d,re])},z=(re,$e,oe)=>{const Ce=[...d];Ce[re]={...Ce[re],[$e]:oe},f(Ce)},F=re=>{f(d.filter(($e,oe)=>oe!==re))},L=()=>{if(d.length===0){be.warning("Добавьте хотя бы одно распределение");return}const re=d.filter(ot=>ot.contractId&&ot.contractId!=="none");if(re.length===0){be.warning("Выберите договоры для автоматического распределения");return}const $e=Math.floor(e.amount/re.length),oe=e.amount-$e*re.length,Ce=[...d];let Ue=!1;re.forEach((ot,bt)=>{const te=d.findIndex(se=>se.id===ot.id);te!==-1&&(Ce[te].amount=$e+(bt===0&&!Ue?oe:0),bt===0&&(Ue=!0))}),f(Ce),be.success("Суммы распределены автоматически")},Y=re=>O.find(oe=>oe.id===re)?.name||"Неизвестно",ee=re=>T.find(oe=>oe.id===re)?.name||"Неизвестно",ce=(re,$e)=>A.filter(oe=>oe.counterpartyId===re&&oe.expenseItemId===$e&&oe.status==="active"),K=(re,$e)=>new Intl.NumberFormat("ru-KZ",{style:"currency",currency:$e==="KZT"?"KZT":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(re),fe=async()=>{if(G.length>0){be.error("Исправьте ошибки перед утверждением");return}if(d.length===0){be.error("Добавьте распределения");return}try{await t(d,h,g)}catch(re){console.error("Failed to approve:",re)}},le=async()=>{if(G.length>0){be.error("Исправьте ошибки перед согласованием");return}if(d.length===0){be.error("Добавьте распределения");return}try{await r(d,h,g)}catch(re){console.error("Failed to approve on behalf:",re)}},Ee=async()=>{if(!w.trim()){be.error("Укажите причину возврата");return}try{await a(w),$(!1)}catch(re){console.error("Failed to return:",re)}},De=async()=>{if(!v.trim()){be.error("Укажите причину отклонения");return}try{await s(v),k(!1)}catch(re){console.error("Failed to decline:",re)}};return S?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:i,children:[n.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Назад"]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-semibold",children:["Согласование заявки ",e.requestNumber]}),n.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[n.jsx(Wo,{status:e.status}),e.isAssignedToChief&&n.jsxs(je,{variant:"secondary",className:"text-xs",children:[n.jsx(Hj,{className:"h-3 w-3 mr-1"}),"Закреплено за главным распорядителем"]})]})]})]})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"Общая информация"})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Контрагент"}),n.jsx("p",{className:"font-medium",children:Y(e.counterpartyId)})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Сумма"}),n.jsx("p",{className:"font-medium",children:K(e.amount,e.currency)})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Срок оплаты"}),n.jsxs("p",{className:"font-medium flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4"}),new Date(e.dueDate).toLocaleDateString("ru-RU")]})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx(ae,{children:"Описание"}),n.jsx("p",{children:e.description})]})]})})]}),n.jsxs(Dc,{value:l,onValueChange:u,children:[n.jsxs(Mc,{className:"grid w-full grid-cols-2",children:[n.jsxs(wn,{value:"items",children:["Позиции (",e.expenseSplits?.length||0,")"]}),n.jsxs(wn,{value:"allocations",children:["Распределение (",d.length,")"]})]}),n.jsx(Nn,{value:"items",children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"Статьи расходов"})}),n.jsx(pe,{children:n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{children:"Статья расходов"}),n.jsx(_e,{className:"text-right",children:"Сумма без НДС"}),n.jsx(_e,{children:"Комментарий"})]})}),n.jsx(Br,{children:e.expenseSplits?.map(re=>n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsx("div",{children:n.jsx("div",{className:"font-medium",children:ee(re.expenseItemId)})})}),n.jsx(Ne,{className:"text-right font-medium",children:K(re.amount,e.currency)}),n.jsx(Ne,{children:re.comment&&n.jsx("span",{className:"text-sm text-muted-foreground",children:re.comment})})]},re.id))})]})})]})}),n.jsx(Nn,{value:"allocations",children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Распределение по контрактам"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:L,children:[n.jsx(zj,{className:"h-4 w-4 mr-2"}),"Автосплит"]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:H,children:[n.jsx(un,{className:"h-4 w-4 mr-2"}),"Добавить"]})]})]})}),n.jsxs(pe,{children:[G.length>0&&n.jsxs(Ju,{className:"mb-4",children:[n.jsx(Rt,{className:"h-4 w-4"}),n.jsx(ed,{children:n.jsx("ul",{className:"list-disc list-inside space-y-1",children:G.map((re,$e)=>n.jsx("li",{className:"text-sm",children:re},$e))})})]}),n.jsxs("div",{className:"space-y-4",children:[d.map((re,$e)=>n.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(je,{variant:"outline",children:["Распределение ",$e+1]}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>F($e),className:"text-red-600 hover:text-red-700",children:n.jsx(Cr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Договор"}),n.jsxs(et,{value:re.contractId,onValueChange:oe=>z($e,"contractId",oe),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите договор"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"none",disabled:!0,children:"Выберите договор"}),e.expenseSplits?.map(oe=>ce(e.counterpartyId,oe.expenseItemId).map(Ue=>n.jsx(xe,{value:Ue.id,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:Ue.code}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Лимит: ",K(Ue.limitTotal-Ue.usedTotal,e.currency)]})]})},Ue.id)))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Сумма"}),n.jsx(Ie,{type:"number",value:re.amount,onChange:oe=>z($e,"amount",Number(oe.target.value)),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Плановая дата"}),n.jsx(Ie,{type:"date",value:re.plannedDate,onChange:oe=>z($e,"plannedDate",oe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Валюта"}),n.jsx(Ie,{value:re.currency,disabled:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Комментарий"}),n.jsx(Ri,{value:re.comment||"",onChange:oe=>z($e,"comment",oe.target.value),placeholder:"Дополнительная информация...",rows:2})]})]},re.id)),d.length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx("p",{children:"Распределения не добавлены"}),n.jsxs(X,{variant:"outline",onClick:H,className:"mt-2",children:[n.jsx(un,{className:"h-4 w-4 mr-2"}),"Добавить первое распределение"]})]})]}),d.length>0&&n.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Общая сумма распределений:"}),n.jsx("span",{className:"font-medium",children:K(d.reduce((re,$e)=>re+$e.amount,0),e.currency)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Сумма заявки:"}),n.jsx("span",{className:"font-medium",children:K(e.amount,e.currency)})]}),n.jsxs("div",{className:"flex justify-between items-center border-t pt-2 mt-2",children:[n.jsx("span",{children:"Разница:"}),n.jsx("span",{className:`font-medium ${d.reduce((re,$e)=>re+$e.amount,0)===e.amount?"text-green-600":"text-red-600"}`,children:K(d.reduce((re,$e)=>re+$e.amount,0)-e.amount,e.currency)})]})]})]})]})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"Решение по заявке"})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Приоритет"}),n.jsxs(et,{value:h,onValueChange:m,children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsx(nt,{children:B.map(re=>n.jsx(xe,{value:re.id,children:re.label},re.id))})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Комментарий"}),n.jsx(Ri,{value:g,onChange:re=>j(re.target.value),placeholder:"Дополнительные комментарии...",rows:3})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsxs(X,{onClick:fe,disabled:G.length>0||d.length===0,className:"flex-1",children:[n.jsx(pt,{className:"h-4 w-4 mr-2"}),"Утвердить"]}),n.jsxs(X,{variant:"secondary",onClick:le,disabled:G.length>0||d.length===0,className:"flex-1",children:[n.jsx(pt,{className:"h-4 w-4 mr-2"}),"Согласовать по поручению"]}),n.jsxs(Ut,{open:Z,onOpenChange:$,children:[n.jsx(Fa,{asChild:!0,children:n.jsxs(X,{variant:"outline",children:[n.jsx(u6,{className:"h-4 w-4 mr-2"}),"Вернуть"]})}),n.jsxs($t,{children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Возврат заявки"}),n.jsx(Wt,{children:"Укажите причину возврата заявки на доработку"})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsx(Ri,{value:w,onChange:re=>b(re.target.value),placeholder:"Причина возврата...",rows:3})}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>$(!1),children:"Отмена"}),n.jsx(X,{onClick:Ee,children:"Вернуть"})]})]})]}),n.jsxs(Ut,{open:M,onOpenChange:k,children:[n.jsx(Fa,{asChild:!0,children:n.jsxs(X,{variant:"destructive",children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Отклонить"]})}),n.jsxs($t,{children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Отклонение заявки"}),n.jsx(Wt,{children:"Укажите причину отклонения заявки"})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsx(Ri,{value:v,onChange:re=>N(re.target.value),placeholder:"Причина отклонения...",rows:3})}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>k(!1),children:"Отмена"}),n.jsx(X,{variant:"destructive",onClick:De,children:"Отклонить"})]})]})]})]})]})]})]})}const jme=({currentRole:e,paymentRequests:t,onViewRequest:r,onNavigate:a})=>{const[s,i]=x.useState([]),[l,u]=x.useState(new Map);x.useEffect(()=>{const b=Yl.subscribe(i);return d(),b},[t]);const d=()=>{const b=new Map;t.forEach(v=>{const N=Sx.getWorkflowProgress(v.id,v.status,v.distributionStatus||"pending");b.set(v.id,N)}),u(b)},f=()=>{switch(e){case"registrar":return t.filter(b=>["approved","approved-on-behalf","to-pay","in-register","approved-for-payment"].includes(b.status));case"sub_registrar":return t.filter(b=>b.status==="distributed");case"distributor":return t.filter(b=>["distributed","report_published","export_linked"].includes(b.status));default:return t}},h=()=>{const b=f(),v=b.length;switch(e){case"registrar":return{total:v,pending:b.filter(N=>["approved","approved-on-behalf","to-pay","in-register","approved-for-payment"].includes(N.status)).length,distributed:b.filter(N=>N.status==="distributed").length,completed:b.filter(N=>["report_published","export_linked"].includes(N.status)).length};case"sub_registrar":return{total:v,pending:b.filter(N=>N.status==="distributed").length,inProgress:b.filter(N=>N.status==="distributed").length,completed:b.filter(N=>N.status==="report_published").length};case"distributor":return{total:v,pending:b.filter(N=>N.status==="distributed").length,enriched:b.filter(N=>N.status==="report_published").length,linked:b.filter(N=>N.status==="export_linked").length};default:return{total:v,pending:0,completed:0}}},m=b=>{switch(b.status){case"completed":return n.jsx(pt,{className:"h-4 w-4 text-green-500"});case"in-progress":return n.jsx(Jt,{className:"h-4 w-4 text-blue-500"});case"error":return n.jsx(Fs,{className:"h-4 w-4 text-red-500"});default:return n.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-gray-300"})}},g=b=>{switch(b.status){case"completed":return"text-green-600";case"in-progress":return"text-blue-600";case"error":return"text-red-600";default:return"text-gray-500"}},j=h(),w=f();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold",children:[e==="REGISTRAR"&&"Рабочий стол регистратора",e==="SUB_REGISTRAR"&&"Рабочий стол суб-регистратора",e==="DISTRIBUTOR"&&"Рабочий стол распорядителя"]}),n.jsxs("p",{className:"text-muted-foreground mt-2",children:[e==="REGISTRAR"&&"Управление распределением заявок",e==="SUB_REGISTRAR"&&"Обработка назначенных заявок",e==="DISTRIBUTOR"&&"Обработка заявок и привязка контрактов"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{onClick:()=>a("requests"),variant:"outline",className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-4 w-4"}),"Все заявки"]}),e==="REGISTRAR"&&n.jsxs(X,{onClick:()=>a("registrar-distribution"),className:"flex items-center gap-2",children:[n.jsx(Bj,{className:"h-4 w-4"}),"Распределить заявки"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Всего заявок"}),n.jsx("p",{className:"text-2xl font-bold",children:j.total})]}),n.jsx(yt,{className:"h-8 w-8 text-muted-foreground"})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e==="REGISTRAR"&&"Ожидают распределения",e==="SUB_REGISTRAR"&&"Назначены",e==="DISTRIBUTOR"&&"Ожидают обработки"]}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.pending})]}),n.jsx(Jt,{className:"h-8 w-8 text-blue-500"})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e==="REGISTRAR"&&"Распределены",e==="SUB_REGISTRAR"&&"В работе",e==="DISTRIBUTOR"&&"Обогащены"]}),n.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[e==="REGISTRAR"&&j.distributed,e==="SUB_REGISTRAR"&&j.inProgress,e==="DISTRIBUTOR"&&j.enriched]})]}),n.jsx(Ll,{className:"h-8 w-8 text-orange-500"})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e==="REGISTRAR"&&"Завершены",e==="SUB_REGISTRAR"&&"Завершены",e==="DISTRIBUTOR"&&"Привязаны"]}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e==="REGISTRAR"&&j.completed,e==="SUB_REGISTRAR"&&j.completed,e==="DISTRIBUTOR"&&j.linked]})]}),n.jsx(pt,{className:"h-8 w-8 text-green-500"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"Последние заявки"]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:w.slice(0,5).map(b=>{const v=l.get(b.id);return v?n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-muted/50",onClick:()=>r(b.id),children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:b.requestNumber||"Без номера"}),n.jsx(je,{variant:"outline",children:b.status})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.description||"Без описания"}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(nN,{value:Sx.getProgressPercentage(v),className:"flex-1 h-2"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Sx.getProgressPercentage(v),"%"]})]})]}),n.jsx(Bj,{className:"h-4 w-4 text-muted-foreground"})]},b.id):null})})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(D1,{className:"h-5 w-5"}),"Этапы процесса"]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:w.slice(0,1).map(b=>{const v=l.get(b.id);return v?n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:b.requestNumber||"Без номера"}),n.jsx("div",{className:"space-y-2",children:v.steps.slice(0,5).map((N,S)=>n.jsxs("div",{className:"flex items-center gap-3",children:[m(N),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${g(N)}`,children:N.name}),N.description&&n.jsx("p",{className:"text-xs text-muted-foreground",children:N.description})]}),N.role===e&&N.status==="in-progress"&&n.jsx(je,{variant:"outline",className:"text-xs",children:"Ваша очередь"})]},N.id))})]},b.id):null})})})]})]}),s.length>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Fs,{className:"h-5 w-5"}),"Уведомления"]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-2",children:s.slice(0,5).map(b=>n.jsx(Ju,{children:n.jsxs(ed,{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:b.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.message})]}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>Yl.markAsRead(b.id),children:"Закрыть"})]})},b.id))})})]})]})};var jg="Switch",[wme,bpe]=Dn(jg),[Nme,Sme]=wme(jg),Y5=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:s,defaultChecked:i,required:l,disabled:u,value:d="on",onCheckedChange:f,form:h,...m}=e,[g,j]=x.useState(null),w=Nt(t,C=>j(C)),b=x.useRef(!1),v=g?h||!!g.closest("form"):!0,[N,S]=ls({prop:s,defaultProp:i??!1,onChange:f,caller:jg});return n.jsxs(Nme,{scope:r,checked:N,disabled:u,children:[n.jsx(st.button,{type:"button",role:"switch","aria-checked":N,"aria-required":l,"data-state":J5(N),"data-disabled":u?"":void 0,disabled:u,value:d,...m,ref:w,onClick:ze(e.onClick,C=>{S(A=>!A),v&&(b.current=C.isPropagationStopped(),b.current||C.stopPropagation())})}),v&&n.jsx(Z5,{control:g,bubbles:!b.current,name:a,value:d,checked:N,required:l,disabled:u,form:h,style:{transform:"translateX(-100%)"}})]})});Y5.displayName=jg;var X5="SwitchThumb",Q5=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,s=Sme(X5,r);return n.jsx(st.span,{"data-state":J5(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});Q5.displayName=X5;var _me="SwitchBubbleInput",Z5=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...s},i)=>{const l=x.useRef(null),u=Nt(l,i),d=aN(r),f=q1(t);return x.useEffect(()=>{const h=l.current;if(!h)return;const m=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==r&&j){const w=new Event("click",{bubbles:a});j.call(h,r),h.dispatchEvent(w)}},[d,r,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:u,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Z5.displayName=_me;function J5(e){return e?"checked":"unchecked"}var Cme=Y5,Eme=Q5;function In({className:e,...t}){return n.jsx(Cme,{"data-slot":"switch",className:Ve("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(Eme,{"data-slot":"switch-thumb",className:Ve("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Tme({onBack:e}={}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(!0),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,g]=x.useState(""),[j,w]=x.useState(!0),[b,v]=x.useState(new Date().toISOString().split("T")[0]),[N,S]=x.useState([]),[C,A]=x.useState([]),[_,T]=x.useState([]),[P,O]=x.useState(!1),[I,B]=x.useState(!1),[q,G]=x.useState(null),[V,Z]=x.useState({expenseItemId:"",chiefDistributorUserId:"",effectiveFrom:new Date().toISOString().split("T")[0],effectiveTo:"",isActive:!0});x.useEffect(()=>{$()},[]),x.useEffect(()=>{M()},[t,u,f,m,j,b]);const $=async()=>{try{l(!0);const[K,fe,le]=await Promise.all([Al.getBindings(),Il.getExpenseItems(),Vu.getUsers()]);r(K),S(fe),A(le);const Ee=le.filter(De=>De.roles.includes("distributor"));T(Ee)}catch(K){console.error("Failed to load data:",K),be.error("Ошибка загрузки данных")}finally{l(!1)}},M=()=>{let K=[...t];if(u&&(K=K.filter(fe=>k(fe.expenseItemId).toLowerCase().includes(u.toLowerCase())||D(fe.chiefDistributorUserId).toLowerCase().includes(u.toLowerCase()))),f&&f!=="all"&&(K=K.filter(fe=>fe.expenseItemId===f)),m&&m!=="all"&&(K=K.filter(fe=>fe.chiefDistributorUserId===m)),j&&(K=K.filter(fe=>fe.isActive)),b){const fe=new Date(b);K=K.filter(le=>{const Ee=new Date(le.effectiveFrom),De=le.effectiveTo?new Date(le.effectiveTo):new Date("2099-12-31");return fe>=Ee&&fe<=De})}s(K)},k=K=>N.find(le=>le.id===K)?.name||"Неизвестно",D=K=>C.find(le=>le.id===K)?.name||"Неизвестно",W=()=>{Z({expenseItemId:"",chiefDistributorUserId:"",effectiveFrom:new Date().toISOString().split("T")[0],effectiveTo:"",isActive:!0})},H=async()=>{if(!V.expenseItemId||!V.chiefDistributorUserId){be.error("Заполните обязательные поля");return}try{const K=await Al.createBinding(V);r([K,...t]),O(!1),W(),be.success("Привязка создана успешно")}catch(K){console.error("Failed to create binding:",K),be.error("Ошибка создания привязки")}},z=K=>{G(K),Z({expenseItemId:K.expenseItemId,chiefDistributorUserId:K.chiefDistributorUserId,effectiveFrom:K.effectiveFrom,effectiveTo:K.effectiveTo||"",isActive:K.isActive}),B(!0)},F=async()=>{if(!q||!V.expenseItemId||!V.chiefDistributorUserId){be.error("Заполните обязательные поля");return}try{const K=await Al.updateBinding(q.id,V);r(t.map(fe=>fe.id===q.id?K:fe)),B(!1),G(null),W(),be.success("Привязка обновлена успешно")}catch(K){console.error("Failed to update binding:",K),be.error("Ошибка обновления привязки")}},L=async K=>{try{const fe=await Al.updateBinding(K.id,{...K,isActive:!K.isActive});r(t.map(le=>le.id===K.id?fe:le)),be.success(`Привязка ${fe.isActive?"активирована":"деактивирована"}`)}catch(fe){console.error("Failed to toggle binding:",fe),be.error("Ошибка изменения статуса")}},Y=async K=>{if(confirm("Вы уверены, что хотите удалить эту привязку?"))try{await Al.deleteBinding(K.id),r(t.filter(fe=>fe.id!==K.id)),be.success("Привязка удалена")}catch(fe){console.error("Failed to delete binding:",fe),be.error("Ошибка удаления привязки")}},ee=(K,fe)=>K.filter(le=>le.parentId===fe).map(le=>({...le,children:ee(K,le.id)})),ce=(K,fe=0)=>K.flatMap(le=>[n.jsx(xe,{value:le.id,children:"  ".repeat(fe)+le.name},le.id),...le.children?ce(le.children,fe+1):[]]);return i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[e&&n.jsx(X,{variant:"ghost",onClick:e,className:"pl-0",children:"← Назад"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Маршрутизация распорядителей"}),n.jsx("p",{className:"text-muted-foreground",children:"Назначение главных распорядителей к статьям расходов"})]})]}),n.jsxs(Ut,{open:P,onOpenChange:O,children:[n.jsx(Fa,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(un,{className:"h-4 w-4 mr-2"}),"Создать привязку"]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Создание привязки"}),n.jsx(Wt,{children:"Назначьте главного распорядителя для статьи расходов"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Статья расходов *"}),n.jsxs(et,{value:V.expenseItemId,onValueChange:K=>Z({...V,expenseItemId:K}),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите статью"})}),n.jsx(nt,{children:ce(ee(N))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Главный распорядитель *"}),n.jsxs(et,{value:V.chiefDistributorUserId,onValueChange:K=>Z({...V,chiefDistributorUserId:K}),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите распорядителя"})}),n.jsx(nt,{children:_.map(K=>n.jsx(xe,{value:K.id,children:K.name},K.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Действует с"}),n.jsx(Ie,{type:"date",value:V.effectiveFrom,onChange:K=>Z({...V,effectiveFrom:K.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Действует до"}),n.jsx(Ie,{type:"date",value:V.effectiveTo,onChange:K=>Z({...V,effectiveTo:K.target.value})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(In,{id:"isActive",checked:V.isActive,onCheckedChange:K=>Z({...V,isActive:K})}),n.jsx(ae,{htmlFor:"isActive",children:"Активна"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{O(!1),W()},children:"Отмена"}),n.jsx(X,{onClick:H,children:"Создать"})]})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Bi,{className:"h-5 w-5"}),"Фильтры"]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Поиск"}),n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{placeholder:"Статья или распорядитель...",value:u,onChange:K=>d(K.target.value),className:"pl-10"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Статья расходов"}),n.jsxs(et,{value:f,onValueChange:h,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Все статьи"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все статьи"}),ce(ee(N))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Распорядитель"}),n.jsxs(et,{value:m,onValueChange:g,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Все распорядители"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все распорядители"}),_.map(K=>n.jsx(xe,{value:K.id,children:K.name},K.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Действующие на дату"}),n.jsx(Ie,{type:"date",value:b,onChange:K=>v(K.target.value)})]})]}),n.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[n.jsx(In,{id:"activeOnly",checked:j,onCheckedChange:w}),n.jsx(ae,{htmlFor:"activeOnly",children:"Только активные"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Активные привязки"}),n.jsx("p",{className:"text-2xl font-semibold",children:t.filter(K=>K.isActive).length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ro,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Главных распорядителей"}),n.jsx("p",{className:"text-2xl font-semibold",children:new Set(t.filter(K=>K.isActive).map(K=>K.chiefDistributorUserId)).size})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(os,{className:"h-5 w-5 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Закрепленных статей"}),n.jsx("p",{className:"text-2xl font-semibold",children:new Set(t.filter(K=>K.isActive).map(K=>K.expenseItemId)).size})]})]})})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{children:["Привязки (",a.length," из ",t.length,")"]})}),n.jsxs(pe,{className:"p-0",children:[n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{children:"Статья расходов"}),n.jsx(_e,{children:"Главный распорядитель"}),n.jsx(_e,{children:"Период действия"}),n.jsx(_e,{className:"text-center",children:"Статус"}),n.jsx(_e,{className:"w-[150px]",children:"Действия"})]})}),n.jsx(Br,{children:a.map(K=>n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsx("div",{className:"font-medium",children:k(K.expenseItemId)})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ro,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:D(K.chiefDistributorUserId)})]})}),n.jsx(Ne,{children:n.jsx("div",{className:"text-sm",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(po,{className:"h-3 w-3"}),new Date(K.effectiveFrom).toLocaleDateString("ru-RU"),K.effectiveTo&&n.jsxs(n.Fragment,{children:[" - ",new Date(K.effectiveTo).toLocaleDateString("ru-RU")]})]})})}),n.jsx(Ne,{className:"text-center",children:n.jsx(je,{variant:K.isActive?"default":"secondary",children:K.isActive?"Активна":"Неактивна"})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>z(K),className:"h-8 w-8 p-0",children:n.jsx(cn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>L(K),className:"h-8 w-8 p-0",children:K.isActive?n.jsx(Rt,{className:"h-4 w-4 text-orange-600"}):n.jsx(pt,{className:"h-4 w-4 text-green-600"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Y(K),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:n.jsx(Cr,{className:"h-4 w-4"})})]})})]},K.id))})]}),a.length===0&&n.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[n.jsx("p",{children:"Привязки не найдены"}),n.jsx("p",{className:"text-sm mt-2",children:"Попробуйте изменить фильтры или создать новую привязку"})]})]})]}),n.jsx(Ut,{open:I,onOpenChange:B,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Редактирование привязки"}),n.jsx(Wt,{children:"Изменение параметров привязки распорядителя"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Статья расходов *"}),n.jsxs(et,{value:V.expenseItemId,onValueChange:K=>Z({...V,expenseItemId:K}),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите статью"})}),n.jsx(nt,{children:ce(ee(N))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Главный распорядитель *"}),n.jsxs(et,{value:V.chiefDistributorUserId,onValueChange:K=>Z({...V,chiefDistributorUserId:K}),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите распорядителя"})}),n.jsx(nt,{children:_.map(K=>n.jsx(xe,{value:K.id,children:K.name},K.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Действует с"}),n.jsx(Ie,{type:"date",value:V.effectiveFrom,onChange:K=>Z({...V,effectiveFrom:K.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Действует до"}),n.jsx(Ie,{type:"date",value:V.effectiveTo,onChange:K=>Z({...V,effectiveTo:K.target.value})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(In,{id:"isActiveEdit",checked:V.isActive,onCheckedChange:K=>Z({...V,isActive:K})}),n.jsx(ae,{htmlFor:"isActiveEdit",children:"Активна"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{B(!1),G(null),W()},children:"Отмена"}),n.jsx(X,{onClick:F,children:"Сохранить"})]})]})})]})}function Ame({onViewRequest:e}){const{items:t}=lr("counterparties"),{items:r}=lr("expense-articles"),[a,s]=x.useState([]),[i,l]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(""),[m,g]=x.useState("all"),[j,w]=x.useState("date"),[b,v]=x.useState("desc");x.useEffect(()=>{N()},[]),x.useEffect(()=>{S()},[a,f,m,j,b]);const N=async()=>{try{d(!0);const B=(await dt.getAll({role:"distributor"})).filter(q=>q.paymentAllocations&&q.paymentAllocations.some(G=>G.contractId==="outside-deals"));s(B)}catch(I){console.error("Failed to load unallocated requests:",I),be.error("Ошибка загрузки нераспределенных расходов")}finally{d(!1)}},S=()=>{let I=[...a];if(f.trim()){const B=f.toLowerCase();I=I.filter(q=>q.requestNumber?.toLowerCase().includes(B)||q.docNumber?.toLowerCase().includes(B)||C(q.counterpartyId).toLowerCase().includes(B)||q.description?.toLowerCase().includes(B))}m!=="all"&&(I=I.filter(B=>B.status===m)),I.sort((B,q)=>{let G=0;switch(j){case"date":G=new Date(B.dueDate).getTime()-new Date(q.dueDate).getTime();break;case"amount":G=B.amount-q.amount;break;case"counterparty":G=C(B.counterpartyId).localeCompare(C(q.counterpartyId));break}return b==="asc"?G:-G}),l(I)},C=I=>t.find(B=>B.id===I)?.name||"Неизвестен",A=I=>{const B=r.find(q=>q.id===I);return B?`${B.code} - ${B.name}`:"Неизвестно"},_=()=>i.reduce((I,B)=>I+B.amount,0),T=()=>{const I={approved:0,"in-register":0,"approved-for-payment":0,"paid-full":0,"paid-partial":0};return i.forEach(B=>{I.hasOwnProperty(B.status)&&I[B.status]++}),I},P=I=>{I.docFileUrl?window.open(I.docFileUrl,"_blank"):be.info(`Просмотр документа: ${I.fileName}`)};if(u)return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const O=T();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Реестр нераспределенных расходов"}),n.jsx("p",{className:"text-muted-foreground",children:'Заявки, по которым в "Назначении платежа" указано "Вне сделок"'})]}),n.jsx(X,{variant:"outline",onClick:N,children:"Обновить"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rt,{className:"h-4 w-4 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего заявок"}),n.jsx("p",{className:"text-2xl font-semibold",children:i.length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xn,{className:"h-4 w-4 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Общая сумма"}),n.jsxs("p",{className:"text-2xl font-semibold",children:[_().toLocaleString()," ₸"]})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gl,{className:"h-4 w-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Утверждено"}),n.jsx("p",{className:"text-2xl font-semibold",children:O.approved})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-4 w-4 text-purple-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Оплачено"}),n.jsx("p",{className:"text-2xl font-semibold",children:O["paid-full"]+O["paid-partial"]})]})]})})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Bi,{className:"h-5 w-5"}),"Фильтры и поиск"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Поиск"}),n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{placeholder:"Номер заявки, контрагент...",value:f,onChange:I=>h(I.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Статус"}),n.jsxs(et,{value:m,onValueChange:g,children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все статусы"}),n.jsx(xe,{value:"approved",children:"Утверждено"}),n.jsx(xe,{value:"in-register",children:"В реестре"}),n.jsx(xe,{value:"approved-for-payment",children:"К оплате"}),n.jsx(xe,{value:"paid-full",children:"Оплачено полностью"}),n.jsx(xe,{value:"paid-partial",children:"Оплачено частично"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Сортировка"}),n.jsxs(et,{value:j,onValueChange:I=>w(I),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"date",children:"По дате"}),n.jsx(xe,{value:"amount",children:"По сумме"}),n.jsx(xe,{value:"counterparty",children:"По контрагенту"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Направление"}),n.jsxs(et,{value:b,onValueChange:I=>v(I),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"desc",children:"По убыванию"}),n.jsx(xe,{value:"asc",children:"По возрастанию"})]})]})]})]})})]}),i.length===0?n.jsx(me,{children:n.jsxs(pe,{className:"p-12 text-center",children:[n.jsx(Rt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет нераспределенных расходов"}),n.jsx("p",{className:"text-muted-foreground",children:f||m!=="all"?"По заданным фильтрам ничего не найдено":"Все заявки распределены по контрактам"})]})}):n.jsx("div",{className:"space-y-4",children:i.map(I=>n.jsx(me,{className:"hover:shadow-md transition-shadow",children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(je,{variant:"outline",className:"font-mono",children:I.requestNumber}),n.jsx(Wo,{status:I.status}),n.jsxs(je,{variant:"secondary",className:"bg-orange-100 text-orange-700 border-orange-200",children:[n.jsx(Rt,{className:"h-3 w-3 mr-1"}),"Вне сделок"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[e&&n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>e(I.id),children:[n.jsx(Oi,{className:"h-4 w-4 mr-1"}),"Просмотр"]}),I.fileName&&n.jsx(n.Fragment,{children:n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>P(I),children:[n.jsx(L8,{className:"h-4 w-4 mr-1"}),"Документ"]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Контрагент"}),n.jsx("p",{className:"text-sm",children:C(I.counterpartyId)})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Сумма"}),n.jsxs("p",{className:"text-lg font-semibold",children:[I.amount.toLocaleString()," ",I.currency]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Срок оплаты"}),n.jsx("p",{className:"text-sm",children:mt(new Date(I.dueDate),"d MMMM yyyy",{locale:St})})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:"Документ"}),n.jsx("p",{className:"text-sm",children:I.docNumber})]})]})]}),I.expenseSplits&&I.expenseSplits.length>0&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Gl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"font-semibold text-sm",children:"Статьи расходов"})]}),n.jsx("div",{className:"space-y-2",children:I.expenseSplits.map((B,q)=>n.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[n.jsx("span",{className:"text-sm",children:A(B.expenseItemId)}),n.jsxs(je,{variant:"outline",children:[B.amount.toLocaleString()," ",I.currency]})]},q))})]}),I.paymentAllocations&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Rt,{className:"h-4 w-4 text-orange-500"}),n.jsx("p",{className:"font-semibold text-sm",children:"Назначение платежа"})]}),I.paymentAllocations.filter(B=>B.contractId==="outside-deals").map((B,q)=>n.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-orange-800",children:"Платеж вне сделок"}),n.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Данный платеж не привязан к конкретному контракту"}),B.comment&&n.jsxs("p",{className:"text-sm text-orange-700 mt-2 italic",children:["Комментарий: ",B.comment]})]}),n.jsxs(je,{variant:"outline",className:"bg-white",children:[B.amount.toLocaleString()," ",I.currency]})]})},q))]})]})})},I.id))})]})}function Rme({onBack:e,onUpdateRequest:t}){const{items:r}=lr("counterparties"),{items:a}=lr("priorities"),[s,i]=x.useState([]),[l,u]=x.useState("create"),[d,f]=x.useState({}),[h,m]=x.useState([]),[g,j]=x.useState(!0),[w,b]=x.useState(null);x.useEffect(()=>{(async()=>{try{j(!0),b(null);const z=await dt.getAll({role:"treasurer"});m(z)}catch(z){console.error("Error loading requests:",z),b("Ошибка загрузки заявок"),m([])}finally{j(!1)}})()},[]);const v=h.filter(H=>["approved","approved-on-behalf"].includes(H.status)),N=h.filter(H=>["in-register","approved-for-payment","paid-full","paid-partial"].includes(H.status)),S=H=>{i(z=>z.includes(H)?z.filter(F=>F!==H):[...z,H])},C=s.reduce((H,z)=>{const F=v.find(L=>L.id===z);return H+(F?.amount||0)},0),A=N.reduce((H,z)=>H+z.amount,0),_=H=>H?a.find(z=>z.id===H):null,T=H=>r.find(z=>z.id===H)?.name||"Неизвестен",P=H=>{switch(H){case"in-register":return"bg-purple-100 text-purple-800";case"approved-for-payment":return"bg-green-100 text-green-800";case"paid-full":return"bg-emerald-100 text-emerald-800";case"paid-partial":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},O=H=>{switch(H){case"in-register":return"В реестре";case"approved-for-payment":return"Утвержден к оплате";case"paid-full":return"Оплачен полностью";case"paid-partial":return"Частично оплачен";default:return"Неизвестен"}},I=async()=>{if(s.length!==0)try{await Promise.all(s.map(H=>dt.updateStatus(H,"in-register",{comment:"Включен в реестр на оплату"}))),t&&s.forEach(H=>{}),i([]),u("existing"),be.success(`Создан реестр с ${s.length} платежами на сумму ${C.toLocaleString()} ₸`)}catch(H){console.error("Error creating register:",H),be.error("Ошибка создания реестра")}},B=()=>{alert("Экспорт реестра в формате Excel")},q=()=>{alert("Экспорт реестра в формате PDF")},G=()=>{const H=[...new Set(N.map(z=>z.payingCompany).filter(Boolean))];alert(`Скачивание документов-оснований в разрезе оплачивающих компаний: ${H.join(", ")}`)},V=(H,z,F)=>{f(L=>({...L,[H]:{...L[H],[z]:F}}))},Z=H=>{const z=d[H]||{actualAmount:0,status:"paid-full",comment:"",executionDate:new Date().toISOString().split("T")[0]};if(z.actualAmount===0){const F=N.find(L=>L.id===H);z.actualAmount=F?.amount||0}return z},$=(H,z)=>z===H?"paid-full":z>0&&z<H?"paid-partial":"declined",M=H=>{const z=N.find(ce=>ce.id===H);if(!z||!t)return;const F=Z(H),L=F.actualAmount===0?"declined":$(z.amount,F.actualAmount),Y={...z,status:L,paymentExecution:{actualAmount:F.actualAmount,executionDate:F.executionDate,executionComment:F.comment,exchangeRate:1}};t(Y),f(ce=>{const K={...ce};return delete K[H],K});const ee=L==="paid-full"?"оплаченным полностью":L==="paid-partial"?"частично оплаченным":"отклоненным";be.success(`Платеж ${z.docNumber} отмечен как ${ee}`)},k=()=>{if(!t)return;const H=N.filter(z=>["in-register","approved-for-payment"].includes(z.status)&&d[z.id]);H.forEach(z=>{const F=Z(z.id),L=F.actualAmount===0?"declined":$(z.amount,F.actualAmount),Y={...z,status:L,paymentExecution:{actualAmount:F.actualAmount,executionDate:F.executionDate,executionComment:F.comment,exchangeRate:1}};t(Y)}),f({}),be.success(`Успешно обработано ${H.length} платежей`)},D=N.reduce((H,z)=>{const F=z.payingCompany||"Не указано";return H[F]||(H[F]=[]),H[F].push(z),H},{}),W=N.filter(H=>["in-register","approved-for-payment"].includes(H.status)).length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:e,children:[n.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Назад"]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Реестры платежей"}),n.jsx("p",{className:"text-muted-foreground",children:"Управление реестрами для отправки в банк"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:l==="create"?"default":"outline",onClick:()=>u("create"),children:"Создать реестр"}),n.jsxs(X,{variant:l==="existing"?"default":"outline",onClick:()=>u("existing"),children:["Текущий реестр (",N.length,")"]}),W>0&&n.jsxs(X,{variant:l==="process"?"default":"outline",onClick:()=>u("process"),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Обработать платежи (",W,")"]})]})]}),l==="create"&&n.jsxs(n.Fragment,{children:[n.jsx(me,{children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-8 w-8 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Выбрано заявок"}),n.jsx("p",{className:"text-2xl font-semibold",children:s.length})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xn,{className:"h-8 w-8 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Общая сумма"}),n.jsxs("p",{className:"text-2xl font-semibold",children:[C.toLocaleString()," ₸"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vr,{className:"h-8 w-8 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Реестр от"}),n.jsx("p",{className:"text-lg font-semibold",children:new Date().toLocaleDateString("ru-RU")})]})]})]})})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{children:["Утвержденные заявки для включения в реестр (",v.length,")"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-3",children:[v.map(H=>{const z=s.includes(H.id),F=_(H.priority);return n.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${z?"border-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>S(H.id),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:H.docNumber}),n.jsx(je,{variant:"outline",children:H.payingCompany}),n.jsx(je,{variant:"outline",children:H.dueDate}),F&&n.jsx(je,{style:{backgroundColor:`${F.color==="red"?"#fef2f2":F.color==="orange"?"#fff7ed":F.color==="yellow"?"#fefce8":F.color==="green"?"#f0fdf4":"#f9fafb"}`,color:`${F.color==="red"?"#b91c1c":F.color==="orange"?"#c2410c":F.color==="yellow"?"#a16207":F.color==="green"?"#166534":"#374151"}`},children:F.label})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[T(H.counterpartyId)," - ",H.description]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{children:["Сумма: ",n.jsxs("strong",{children:[H.amount.toLocaleString()," ",H.currency]})]}),n.jsxs("span",{children:["Срок: ",H.dueDate]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:`w-4 h-4 rounded border-2 ${z?"bg-primary border-primary":"border-muted-foreground"}`,children:z&&n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-xs",children:"✓"})})})]})},H.id)}),v.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"Нет утвержденных заявок для включения в реестр"})})]})})]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx(X,{variant:"outline",onClick:e,children:"Отмена"}),n.jsxs(X,{onClick:I,disabled:s.length===0,children:[n.jsx(lp,{className:"h-4 w-4 mr-2"}),"Создать реестр (",s.length,")"]})]})]}),l==="existing"&&n.jsxs(n.Fragment,{children:[n.jsx(me,{children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-8 w-8 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего платежей"}),n.jsx("p",{className:"text-2xl font-semibold",children:N.length})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xn,{className:"h-8 w-8 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Общая сумма"}),n.jsxs("p",{className:"text-2xl font-semibold",children:[A.toLocaleString()," ₸"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(os,{className:"h-8 w-8 text-purple-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Компаний"}),n.jsx("p",{className:"text-2xl font-semibold",children:Object.keys(D).length})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vr,{className:"h-8 w-8 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Обновлен"}),n.jsx("p",{className:"text-lg font-semibold",children:new Date().toLocaleDateString("ru-RU")})]})]})]})})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(OE,{className:"h-5 w-5"}),"Экспорт и документы"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs(X,{onClick:B,variant:"outline",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Скачать Excel"]}),n.jsxs(X,{onClick:q,variant:"outline",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Скачать PDF"]}),n.jsxs(X,{onClick:G,variant:"outline",children:[n.jsx(OE,{className:"h-4 w-4 mr-2"}),"Документы-основания"]})]})})]}),n.jsx("div",{className:"space-y-4",children:Object.entries(D).map(([H,z])=>n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(os,{className:"h-5 w-5"}),H," (",z.length," платежей)"]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:z.map(F=>{const L=_(F.priority);return n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:F.docNumber}),n.jsx(je,{className:P(F.status),children:O(F.status)}),n.jsx(je,{variant:"outline",children:F.dueDate}),L&&n.jsx(je,{style:{backgroundColor:`${L.color==="red"?"#fef2f2":L.color==="orange"?"#fff7ed":L.color==="yellow"?"#fefce8":L.color==="green"?"#f0fdf4":"#f9fafb"}`,color:`${L.color==="red"?"#b91c1c":L.color==="orange"?"#c2410c":L.color==="yellow"?"#a16207":L.color==="green"?"#166534":"#374151"}`},children:L.label})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[T(F.counterpartyId)," - ",F.description]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{children:["Сумма: ",n.jsxs("strong",{children:[F.amount.toLocaleString()," ",F.currency]})]}),n.jsxs("span",{children:["Срок: ",F.dueDate]}),F.paymentExecution?.actualAmount&&n.jsxs("span",{children:["Оплачено: ",n.jsxs("strong",{children:[F.paymentExecution.actualAmount.toLocaleString()," ₸"]})]})]})]})})},F.id)})})})]},H))}),N.length===0&&n.jsx(me,{children:n.jsx(pe,{className:"p-8 text-center text-muted-foreground",children:n.jsx("p",{children:"Реестр пуст. Создайте новый реестр, добавив утвержденные заявки."})})})]}),l==="process"&&n.jsx(n.Fragment,{children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Xn,{className:"h-5 w-5"}),"Обработка платежей"]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsx("p",{className:"text-sm text-blue-800 mb-2",children:n.jsx("strong",{children:"Инструкция:"})}),n.jsxs("ul",{className:"text-sm text-blue-700 list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Укажите фактическую сумму оплаты для каждой заявки"}),n.jsx("li",{children:'Если сумма равна заявленной - статус будет "Оплачено полностью"'}),n.jsx("li",{children:'Если сумма меньше заявленной - статус будет "Оплачено частично"'}),n.jsx("li",{children:'Если сумма равна 0 - статус будет "Отклонено"'}),n.jsx("li",{children:"Добавьте комментарий при необходимости"})]})]}),n.jsx("div",{className:"space-y-4",children:N.filter(H=>["in-register","approved-for-payment"].includes(H.status)).map(H=>{const z=Z(H.id),F=_(H.priority),L=z.actualAmount===0?"declined":$(H.amount,z.actualAmount);return n.jsx(me,{className:"border-l-4 border-l-orange-400",children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-medium",children:H.docNumber}),n.jsx(je,{variant:"outline",children:H.payingCompany}),n.jsx(je,{variant:"outline",children:H.dueDate}),F&&n.jsx(je,{style:{backgroundColor:`${F.color==="red"?"#fef2f2":F.color==="orange"?"#fff7ed":F.color==="yellow"?"#fefce8":F.color==="green"?"#f0fdf4":"#f9fafb"}`,color:`${F.color==="red"?"#b91c1c":F.color==="orange"?"#c2410c":F.color==="yellow"?"#a16207":F.color==="green"?"#166534":"#374151"}`},children:F.label})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[T(H.counterpartyId)," - ",H.description]}),n.jsx("div",{className:"text-sm",children:n.jsxs("span",{children:["Заявленная сумма: ",n.jsxs("strong",{children:[H.amount.toLocaleString()," ",H.currency]})]})})]}),n.jsx("div",{className:"text-right",children:n.jsx(je,{className:L==="paid-full"?"bg-green-100 text-green-800":L==="paid-partial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:L==="paid-full"?"Оплачено полностью":L==="paid-partial"?"Частично оплачено":"Отклонено"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Фактическая сумма оплаты *"}),n.jsx(Ie,{type:"number",value:z.actualAmount,onChange:Y=>V(H.id,"actualAmount",Number(Y.target.value)),placeholder:"0.00",min:"0",step:"0.01"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Дата оплаты *"}),n.jsx(Ie,{type:"date",value:z.executionDate,onChange:Y=>V(H.id,"executionDate",Y.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(ae,{children:"Комментарий"}),n.jsx(Ri,{value:z.comment,onChange:Y=>V(H.id,"comment",Y.target.value),placeholder:"Комментарий к оплате",rows:2})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(X,{onClick:()=>M(H.id),disabled:!z.actualAmount&&L!=="declined",variant:L==="declined"?"destructive":"default",children:[L==="paid-full"&&n.jsx(pt,{className:"h-4 w-4 mr-2"}),L==="paid-partial"&&n.jsx(Jt,{className:"h-4 w-4 mr-2"}),L==="declined"&&n.jsx(Gn,{className:"h-4 w-4 mr-2"}),L==="paid-full"?"Отметить как оплаченный полностью":L==="paid-partial"?"Отметить как частично оплаченный":"Отклонить платеж"]})})]})})},H.id)})}),n.jsxs("div",{className:"flex justify-between items-center mt-6 pt-6 border-t",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:["К обработке: ",W," платежей"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>u("existing"),children:"Отмена"}),n.jsxs(X,{onClick:k,disabled:Object.keys(d).length===0,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Gd,{className:"h-4 w-4 mr-2"}),"Обработать все заполненные (",Object.keys(d).length,")"]})]})]}),W===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(pt,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),n.jsx("p",{children:"Все платежи в реестре уже обработаны"})]})]})]})})]})}function Pme({request:e,onUpdateStatus:t,onCancel:r}){const[a,s]=x.useState(null),[i,l]=x.useState(""),[u,d]=x.useState(e.amount),[f,h]=x.useState(mt(new Date,"yyyy-MM-dd")),[m,g]=x.useState(1),[j,w]=x.useState(null),{items:b}=lr("counterparties"),{items:v}=lr("expense-articles"),{items:N}=lr("priorities"),{items:S}=lr("contracts");b.find($=>$.id===e.counterpartyId);const C=e.expenseSplits||[],A=e.paymentAllocations||[],_=$=>{const M=v.find(k=>k.id===$);return M?`${M.code} - ${M.name}`:"Неизвестно"},T=$=>N.find(M=>M.id===$),P=$=>b.find(M=>M.id===$)?.name||"Неизвестен",O=$=>$==="outside-deals"?{code:"Вне сделок",id:"outside-deals"}:S.find(M=>M.id===$),I=()=>{t(a,{actualAmount:a==="paid-partial"||a==="paid-full"?u:void 0,executionDate:a==="paid-partial"||a==="paid-full"?f:void 0,exchangeRate:a==="paid-partial"||a==="paid-full"?m:void 0,executionComment:i||void 0})},B=()=>{alert("Открытие документа: "+e.fileName)},q=()=>{alert("Скачивание документа: "+e.fileName)},G=$=>{$.target.files&&$.target.files[0]&&w($.target.files[0])},V=$=>{switch($){case"approved":return"bg-blue-100 text-blue-800";case"in-register":return"bg-purple-100 text-purple-800";case"approved-for-payment":return"bg-green-100 text-green-800";case"paid-full":return"bg-emerald-100 text-emerald-800";case"paid-partial":return"bg-yellow-100 text-yellow-800";case"declined":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Z=$=>{switch($){case"approved":return"Утверждена распорядителем";case"in-register":return"Включена в реестр";case"approved-for-payment":return"Утверждена к оплате";case"paid-full":return"Оплачена полностью";case"paid-partial":return"Оплачена частично";case"declined":return"Отклонена";case"cancelled":return"Аннулирована";default:return"Неизвестен"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:r,children:[n.jsx(Oa,{className:"h-4 w-4 mr-2"}),"К списку"]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Обработка платежа"}),n.jsx("p",{className:"text-muted-foreground",children:e.requestNumber?`Заявка: ${e.requestNumber}`:`Документ: ${e.docNumber}`})]}),n.jsx(je,{className:V(e.status),children:Z(e.status)})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"Информация о платеже"]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Оплачивающая компания"}),n.jsx("p",{className:"font-medium",children:e.payingCompany||"Не указано"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Контрагент"}),n.jsx("p",{className:"font-medium",children:P(e.counterpartyId)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Тип документа-основания"}),n.jsx("p",{className:"font-medium",children:e.docType||"Не указано"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Срок оплаты"}),n.jsx("p",{className:"font-medium",children:mt(new Date(e.dueDate),"d MMM yyyy",{locale:St})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Номер документа"}),n.jsx("p",{className:"font-medium",children:e.docNumber})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Дата документа"}),n.jsx("p",{className:"font-medium",children:e.docDate})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Сумма"}),n.jsxs("p",{className:"text-lg font-semibold text-primary",children:[e.amount.toLocaleString()," ",e.currency]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Ставка НДС"}),n.jsx("p",{className:"font-medium",children:e.vatRate||"Не указано"})]}),n.jsxs("div",{className:"sm:col-span-2 lg:col-span-4 space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Документ-основание"}),n.jsx("div",{className:"flex items-center gap-2",children:e.fileName&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-muted-foreground flex-1",children:e.fileName}),n.jsxs(X,{variant:"outline",size:"sm",onClick:B,children:[n.jsx(Oi,{className:"h-4 w-4 mr-1"}),"Просмотр"]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:q,children:[n.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Скачать"]})]})})]})]}),(e.expenseCategory||e.productService||e.volume||e.priceRate||e.period||e.description)&&n.jsxs(n.Fragment,{children:[n.jsx(ma,{className:"my-6"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ae,{className:"text-sm font-medium",children:"Описание платежа"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[e.expenseCategory&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Статья расходов:"})," ",e.expenseCategory]}),e.productService&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Товар/услуга:"})," ",e.productService]}),e.volume&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Объем:"})," ",e.volume]}),e.priceRate&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Тариф:"})," ",e.priceRate]}),e.period&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Период:"})," ",e.period]})]})]})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"Статьи расходов"})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:C.map(($,M)=>n.jsxs("div",{className:"flex justify-between items-start p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:_($.expenseItemId)}),$.comment&&n.jsxs("div",{className:"mt-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Комментарий регистратора:"}),n.jsx("p",{className:"text-sm text-muted-foreground italic",children:$.comment})]})]}),n.jsxs(je,{variant:"secondary",children:[$.amount.toLocaleString()," ",e.currency]})]},M))})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Gl,{className:"h-5 w-5"}),"Назначение платежа от распорядителя"]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:A.length>0?A.map(($,M)=>{const k=O($.contractId),D=$.priority?T($.priority):null;return n.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50/30",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Контракт"}),n.jsx("p",{className:"font-medium",children:k?.code||($.contractId==="outside-deals"?"Вне сделок":"Неизвестен")}),$.contractId==="outside-deals"&&n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx(Rt,{className:"h-3 w-3 text-orange-500"}),n.jsx("span",{className:"text-xs text-orange-600",children:"Не привязан к контракту"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Сумма распределения"}),n.jsxs("p",{className:"font-semibold text-lg",children:[$.amount.toLocaleString()," ",e.currency]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Приоритет"}),n.jsx("div",{className:"flex items-center gap-2",children:D?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${D.color==="red"?"bg-red-500":D.color==="orange"?"bg-orange-500":D.color==="yellow"?"bg-yellow-500":D.color==="green"?"bg-green-500":"bg-gray-500"}`}),n.jsx("span",{className:"text-sm font-medium",children:D.label})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"Не указан"})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"Платежное поручение"}),n.jsx("div",{className:"flex items-center gap-2",children:$.requiresPaymentOrder?n.jsxs(n.Fragment,{children:[n.jsx(I8,{className:"h-4 w-4 text-orange-500"}),n.jsx("span",{className:"text-sm font-medium text-orange-600",children:"Требуется"})]}):n.jsxs(n.Fragment,{children:[n.jsx(pt,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Не требуется"})]})})]})]}),$.comment&&n.jsxs("div",{className:"mt-4 pt-3 border-t bg-white rounded p-3",children:[n.jsxs(ae,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(Ro,{className:"h-3 w-3"}),"Комментарий распорядителя:"]}),n.jsx("p",{className:"text-sm mt-1 italic",children:$.comment})]})]},$.id)}):n.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[n.jsx(Gl,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Распорядитель еще не назначил контракты для данного платежа"})]})})})]}),e.history&&e.history.length>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"История и комментарии"})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:e.history.map($=>n.jsx("div",{className:"flex gap-3 p-3 bg-muted/30 rounded",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-sm font-medium",children:$.action}),n.jsx(je,{variant:"outline",className:"text-xs",children:$.role==="EXECUTOR"?"Исполнитель":$.role==="registrar"?"Регистратор":$.role==="distributor"?"Распорядитель":"Казначей"})]}),$.comment&&n.jsx("p",{className:"text-sm text-muted-foreground",children:$.comment}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:mt(new Date($.date),"d MMMM yyyy, HH:mm",{locale:St})})]})},$.id))})})]}),!a&&n.jsxs("div",{className:"flex flex-wrap gap-4 justify-end",children:[e.status==="approved"&&n.jsxs(X,{onClick:()=>s("in-register"),className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(pt,{className:"h-4 w-4 mr-2"}),"Включить в реестр на оплату"]}),(e.status==="in-register"||e.status==="approved-for-payment")&&n.jsxs(n.Fragment,{children:[n.jsxs(X,{onClick:()=>s("paid-full"),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(pt,{className:"h-4 w-4 mr-2"}),"Оплачено полностью"]}),n.jsxs(X,{variant:"outline",onClick:()=>s("paid-partial"),children:[n.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Оплачено частично"]})]}),n.jsxs(X,{variant:"destructive",onClick:()=>s("declined"),children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Отклонить"]}),n.jsxs(X,{variant:"outline",onClick:()=>s("cancelled"),children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Аннулировать"]})]}),a&&n.jsxs(me,{className:"border-2 border-primary",children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[a==="in-register"&&n.jsx(pt,{className:"h-4 w-4 text-purple-500"}),(a==="paid-full"||a==="paid-partial")&&n.jsx(pt,{className:"h-4 w-4 text-green-500"}),(a==="declined"||a==="cancelled")&&n.jsx(Gn,{className:"h-4 w-4 text-red-500"}),"Подтверждение действия"]})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("p",{children:[a==="in-register"&&"Платеж будет включен в реестр на оплату.",a==="paid-full"&&"Платеж будет помечен как оплаченный полностью.",a==="paid-partial"&&"Платеж будет помечен как частично оплаченный.",a==="declined"&&"Платеж будет отклонен.",a==="cancelled"&&"Платеж будет аннулирован."]}),(a==="paid-full"||a==="paid-partial")&&n.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded",children:[n.jsx("h4",{className:"font-medium",children:"Данные об оплате"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Фактическая сумма оплаты *"}),n.jsx(Ie,{type:"number",value:u,onChange:$=>d(Number($.target.value)),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Дата оплаты *"}),n.jsx(Ie,{type:"date",value:f,onChange:$=>h($.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Курс на момент оплаты"}),n.jsx(Ie,{type:"number",step:"0.01",value:m,onChange:$=>g(Number($.target.value)),placeholder:"1.00"})]})]}),A.some($=>$.requiresPaymentOrder)&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(Ao,{className:"h-4 w-4"}),"Платежное поручение *"]}),n.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded",children:[n.jsx("p",{className:"text-sm text-orange-700 mb-2",children:"Распорядитель указал, что для данного платежа требуется приложить платежное поручение"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ie,{type:"file",accept:".pdf,.doc,.docx",onChange:G,className:"flex-1"}),j&&n.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[n.jsx(pt,{className:"h-4 w-4"}),j.name]})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Комментарий"}),n.jsx(Ri,{value:i,onChange:$=>l($.target.value),placeholder:"Комментарий к действию",rows:3})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(X,{variant:"outline",onClick:()=>s(null),children:"Отмена"}),n.jsxs(X,{onClick:I,disabled:(a==="paid-full"||a==="paid-partial")&&(!u||!f),variant:a==="declined"||a==="cancelled"?"destructive":"default",children:[n.jsx(lp,{className:"h-4 w-4 mr-2"}),"Подтвердить"]})]})]})]})]})}class xn{static async getDepartments(){return Oe.get("/api/v1/positions/departments")}static async createDepartment(t){return Oe.post("/api/v1/positions/departments",t)}static async updateDepartment(t,r){return Oe.put(`/api/v1/positions/departments/${t}`,r)}static async deleteDepartment(t){return Oe.delete(`/api/v1/positions/departments/${t}`)}static async getPositions(){return Oe.get("/api/v1/positions")}static async getPosition(t){return Oe.get(`/api/v1/positions/${t}`)}static async createPosition(t){return Oe.post("/api/v1/positions",t)}static async updatePosition(t,r){return Oe.put(`/api/v1/positions/${t}`,r)}static async deletePosition(t){return Oe.delete(`/api/v1/positions/${t}`)}static async assignUserToPosition(t,r){return Oe.post(`/api/v1/positions/${t}/assign-user`,r)}static async getPositionUsers(t){return Oe.get(`/api/v1/positions/${t}/users`)}static async removeUserFromPosition(t){return Oe.delete(`/api/v1/positions/assignments/${t}`)}}class fr{static async getSystemStatistics(){return Oe.get("/api/v1/admin/statistics")}static async getActivityLog(t=50){return Oe.get(`/api/v1/admin/activity-log?limit=${t}`)}static async searchUsers(t){const r=new URLSearchParams;t.query&&r.append("query",t.query),t.role&&r.append("role",t.role),t.is_active!==void 0&&r.append("is_active",t.is_active.toString()),t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString());const a=r.toString(),s=a?`/api/v1/admin/users/search?${a}`:"/api/v1/admin/users/search";return Oe.get(s)}static async getUsersByRole(t){return Oe.get(`/api/v1/admin/users/by-role/${t}`)}static async bulkCreateUsers(t){return Oe.post("/api/v1/admin/users/bulk-create",{users:t})}static async bulkUpdateUsers(t){return Oe.put("/api/v1/admin/users/bulk-update",{users:t})}static async bulkDeleteUsers(t){return Oe.delete("/api/v1/admin/users/bulk-delete",{user_ids:t})}static async getRoleStatistics(){return Oe.get("/api/v1/admin/roles/statistics")}static async getRoleUsage(t){return Oe.get(`/api/v1/admin/roles/${t}/usage`)}static async getDepartments(){return xn.getDepartments()}static async createDepartment(t){return xn.createDepartment(t)}static async updateDepartment(t,r){return xn.updateDepartment(t,r)}static async deleteDepartment(t){return xn.deleteDepartment(t)}static async getPositions(){return xn.getPositions()}static async getPosition(t){return xn.getPosition(t)}static async createPosition(t){return xn.createPosition(t)}static async updatePosition(t,r){return xn.updatePosition(t,r)}static async deletePosition(t){return xn.deletePosition(t)}static async assignUserToPosition(t,r){return xn.assignUserToPosition(t,r)}static async getPositionUsers(t){return xn.getPositionUsers(t)}static async removeUserFromPosition(t){return xn.removeUserFromPosition(t)}}const Se={VIEW_DASHBOARD:"view_dashboard",VIEW_ADMIN_DASHBOARD:"view_admin_dashboard",VIEW_WORKFLOW_DASHBOARD:"view_workflow_dashboard",VIEW_REQUESTS:"view_requests",CREATE_REQUESTS:"create_requests",EDIT_REQUESTS:"edit_requests",DELETE_REQUESTS:"delete_requests",APPROVE_REQUESTS:"approve_requests",CLASSIFY_REQUESTS:"classify_requests",DISTRIBUTE_REQUESTS:"distribute_requests",RETURN_REQUESTS:"return_requests",VIEW_USERS:"view_users",CREATE_USERS:"create_users",EDIT_USERS:"edit_users",DELETE_USERS:"delete_users",MANAGE_USER_ROLES:"manage_user_roles",VIEW_ROLES:"view_roles",CREATE_ROLES:"create_roles",EDIT_ROLES:"edit_roles",DELETE_ROLES:"delete_roles",MANAGE_ROLE_PERMISSIONS:"manage_role_permissions",VIEW_DICTIONARIES:"view_dictionaries",MANAGE_DICTIONARIES:"manage_dictionaries",MANAGE_EXPENSE_ARTICLES:"manage_expense_articles",MANAGE_COUNTERPARTIES:"manage_counterparties",VIEW_EXPENSE_ARTICLE_ASSIGNMENTS:"view_expense_article_assignments",MANAGE_EXPENSE_ARTICLE_ASSIGNMENTS:"manage_expense_article_assignments",VIEW_REGISTERS:"view_registers",CREATE_REGISTERS:"create_registers",MANAGE_REGISTERS:"manage_registers",VIEW_SYSTEM_STATISTICS:"view_system_statistics",MANAGE_SYSTEM_SETTINGS:"manage_system_settings",VIEW_AUDIT_LOGS:"view_audit_logs",VIEW_SUB_REGISTRAR_ASSIGNMENTS:"view_sub_registrar_assignments",MANAGE_SUB_REGISTRAR_ASSIGNMENTS:"manage_sub_registrar_assignments",VIEW_DISTRIBUTOR_WORKFLOW:"view_distributor_workflow",MANAGE_DISTRIBUTOR_ROUTING:"manage_distributor_routing"},Ime={ADMIN:[Se.VIEW_DASHBOARD,Se.VIEW_ADMIN_DASHBOARD,Se.VIEW_WORKFLOW_DASHBOARD,Se.VIEW_REQUESTS,Se.CREATE_REQUESTS,Se.EDIT_REQUESTS,Se.DELETE_REQUESTS,Se.APPROVE_REQUESTS,Se.CLASSIFY_REQUESTS,Se.DISTRIBUTE_REQUESTS,Se.RETURN_REQUESTS,Se.VIEW_USERS,Se.CREATE_USERS,Se.EDIT_USERS,Se.DELETE_USERS,Se.MANAGE_USER_ROLES,Se.VIEW_ROLES,Se.CREATE_ROLES,Se.EDIT_ROLES,Se.DELETE_ROLES,Se.MANAGE_ROLE_PERMISSIONS,Se.VIEW_DICTIONARIES,Se.MANAGE_DICTIONARIES,Se.MANAGE_EXPENSE_ARTICLES,Se.MANAGE_COUNTERPARTIES,Se.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS,Se.MANAGE_EXPENSE_ARTICLE_ASSIGNMENTS,Se.VIEW_REGISTERS,Se.CREATE_REGISTERS,Se.MANAGE_REGISTERS,Se.VIEW_SYSTEM_STATISTICS,Se.MANAGE_SYSTEM_SETTINGS,Se.VIEW_AUDIT_LOGS,Se.VIEW_SUB_REGISTRAR_ASSIGNMENTS,Se.MANAGE_SUB_REGISTRAR_ASSIGNMENTS,Se.VIEW_DISTRIBUTOR_WORKFLOW,Se.MANAGE_DISTRIBUTOR_ROUTING],EXECUTOR:[Se.VIEW_DASHBOARD,Se.VIEW_REQUESTS,Se.CREATE_REQUESTS,Se.EDIT_REQUESTS,Se.DELETE_REQUESTS,Se.VIEW_DICTIONARIES,Se.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS],REGISTRAR:[Se.VIEW_DASHBOARD,Se.VIEW_WORKFLOW_DASHBOARD,Se.VIEW_REQUESTS,Se.CLASSIFY_REQUESTS,Se.DISTRIBUTE_REQUESTS,Se.RETURN_REQUESTS,Se.VIEW_DICTIONARIES,Se.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS,Se.VIEW_SUB_REGISTRAR_ASSIGNMENTS,Se.MANAGE_SUB_REGISTRAR_ASSIGNMENTS],SUB_REGISTRAR:[Se.VIEW_DASHBOARD,Se.VIEW_WORKFLOW_DASHBOARD,Se.VIEW_REQUESTS,Se.VIEW_DICTIONARIES,Se.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS],DISTRIBUTOR:[Se.VIEW_DASHBOARD,Se.VIEW_WORKFLOW_DASHBOARD,Se.VIEW_REQUESTS,Se.APPROVE_REQUESTS,Se.DISTRIBUTE_REQUESTS,Se.VIEW_DICTIONARIES,Se.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS,Se.VIEW_DISTRIBUTOR_WORKFLOW,Se.MANAGE_DISTRIBUTOR_ROUTING],TREASURER:[Se.VIEW_DASHBOARD,Se.VIEW_REQUESTS,Se.APPROVE_REQUESTS,Se.VIEW_REGISTERS,Se.CREATE_REGISTERS,Se.MANAGE_REGISTERS,Se.VIEW_DICTIONARIES,Se.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS]},OS=(e,t)=>(Ime[e]||[]).includes(t),DS=(e,t)=>t.some(r=>OS(e,r)),kme=(e,t)=>t.every(r=>OS(e,r)),Ome={dashboard:[Se.VIEW_DASHBOARD],admin:[Se.VIEW_ADMIN_DASHBOARD],requests:[Se.VIEW_REQUESTS],"user-management":[Se.VIEW_USERS],"role-management":[Se.VIEW_ROLES],dictionaries:[Se.VIEW_DICTIONARIES],"expense-article-assignment":[Se.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS],registers:[Se.VIEW_REGISTERS],"system-statistics":[Se.VIEW_SYSTEM_STATISTICS],"sub-registrar-assignments":[Se.VIEW_SUB_REGISTRAR_ASSIGNMENTS],"distributor-workflow":[Se.VIEW_DISTRIBUTOR_WORKFLOW],"distributor-routing":[Se.MANAGE_DISTRIBUTOR_ROUTING]},P1=(e,t)=>{const r=Ome[t]||[];return r.length===0?!0:DS(e,r)},Dme={SHOW_ADMIN_MENU:[Se.VIEW_ADMIN_DASHBOARD],SHOW_USER_MANAGEMENT:[Se.VIEW_USERS],SHOW_ROLE_MANAGEMENT:[Se.VIEW_ROLES],SHOW_DICTIONARIES:[Se.VIEW_DICTIONARIES],SHOW_EXPENSE_ARTICLE_ASSIGNMENTS:[Se.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS],SHOW_REGISTERS:[Se.VIEW_REGISTERS],SHOW_SYSTEM_STATISTICS:[Se.VIEW_SYSTEM_STATISTICS],SHOW_CREATE_REQUEST_BUTTON:[Se.CREATE_REQUESTS],SHOW_EDIT_REQUEST_BUTTON:[Se.EDIT_REQUESTS],SHOW_DELETE_REQUEST_BUTTON:[Se.DELETE_REQUESTS],SHOW_APPROVE_REQUEST_BUTTON:[Se.APPROVE_REQUESTS],SHOW_CLASSIFY_REQUEST_BUTTON:[Se.CLASSIFY_REQUESTS],SHOW_DISTRIBUTE_REQUEST_BUTTON:[Se.DISTRIBUTE_REQUESTS],SHOW_RETURN_REQUEST_BUTTON:[Se.RETURN_REQUESTS],SHOW_CREATE_USER_BUTTON:[Se.CREATE_USERS],SHOW_EDIT_USER_BUTTON:[Se.EDIT_USERS],SHOW_DELETE_USER_BUTTON:[Se.DELETE_USERS],SHOW_MANAGE_USER_ROLES_BUTTON:[Se.MANAGE_USER_ROLES],SHOW_CREATE_ROLE_BUTTON:[Se.CREATE_ROLES],SHOW_EDIT_ROLE_BUTTON:[Se.EDIT_ROLES],SHOW_DELETE_ROLE_BUTTON:[Se.DELETE_ROLES],SHOW_MANAGE_ROLE_PERMISSIONS_BUTTON:[Se.MANAGE_ROLE_PERMISSIONS],SHOW_MANAGE_DICTIONARIES_BUTTON:[Se.MANAGE_DICTIONARIES],SHOW_MANAGE_EXPENSE_ARTICLES_BUTTON:[Se.MANAGE_EXPENSE_ARTICLES],SHOW_MANAGE_COUNTERPARTIES_BUTTON:[Se.MANAGE_COUNTERPARTIES],SHOW_MANAGE_EXPENSE_ARTICLE_ASSIGNMENTS_BUTTON:[Se.MANAGE_EXPENSE_ARTICLE_ASSIGNMENTS],SHOW_CREATE_REGISTER_BUTTON:[Se.CREATE_REGISTERS],SHOW_MANAGE_REGISTERS_BUTTON:[Se.MANAGE_REGISTERS]},Mme=(e,t)=>{const r=Dme[t];return DS(e,r)},eF=e=>({hasPermission:t=>OS(e,t),hasAnyPermission:t=>DS(e,t),hasAllPermissions:t=>kme(e,t),canAccessRoute:t=>P1(e,t),canShowUIElement:t=>Mme(e,t)}),Mu=({userRole:e,permission:t,uiElement:r,children:a,fallback:s=null,requireAll:i=!1,permissions:l=[]})=>{const{hasPermission:u,hasAnyPermission:d,hasAllPermissions:f,canShowUIElement:h}=eF(e);let m=!1;return r?m=h(r):t?m=u(t):l.length>0?m=i?f(l):d(l):m=!0,m?n.jsx(n.Fragment,{children:a}):n.jsx(n.Fragment,{children:s})};function $me({onNavigate:e}){const{state:t}=qi(),[r,a]=x.useState({systemStats:null,dictionaryStats:null,loading:!0,error:null});return x.useEffect(()=>{(async()=>{try{a(d=>({...d,loading:!0,error:null}));const i=await fr.getSystemStatistics(),u=await Ps.getInstance().getStatistics("expense-articles");a({systemStats:i,dictionaryStats:u,loading:!1,error:null})}catch(i){console.error("Error loading statistics:",i),a(l=>({...l,loading:!1,error:"Ошибка загрузки статистики"}))}})()},[]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:"Администрирование системы"}),n.jsx("p",{className:"text-muted-foreground",children:"Управление пользователями, справочниками и ролями"}),r.error&&n.jsx("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-md",children:n.jsx("p",{className:"text-sm text-red-600",children:r.error})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Активные пользователи"}),n.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.loading?"-":r.systemStats?.active_users||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.loading?"Данные загружаются...":`Всего пользователей: ${r.systemStats?.total_users||0}`})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Справочники"}),n.jsx(em,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.loading?"-":r.dictionaryStats?.totalItems||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.loading?"Данные загружаются...":`Активных записей: ${r.dictionaryStats?.activeItems||0}`})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Система"}),n.jsx(Ll,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx(je,{variant:"secondary",className:r.loading?"bg-gray-100 text-gray-800":r.systemStats?.system_health==="healthy"?"bg-green-100 text-green-800":r.systemStats?.system_health==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:r.loading?"Загрузка...":r.systemStats?.system_health==="healthy"?"Работает":r.systemStats?.system_health==="warning"?"Предупреждение":"Ошибка"})}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r.loading?"Проверка состояния...":"Система активна"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(Mu,{userRole:t.currentRole,permission:Se.VIEW_DICTIONARIES,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(em,{className:"h-5 w-5"}),"Справочники"]}),n.jsx(sr,{children:"Управление справочниками статей расходов, контрагентов и других данных"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Статьи расходов"}),n.jsx(je,{variant:"outline",children:r.loading?"-":r.dictionaryStats?.totalItems||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Активных записей"}),n.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800",children:r.loading?"-":r.dictionaryStats?.activeItems||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Неактивных записей"}),n.jsx(je,{variant:"outline",className:"bg-gray-100 text-gray-800",children:r.loading?"-":r.dictionaryStats?.inactiveItems||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Обновлено недавно"}),n.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800",children:r.loading?"-":r.dictionaryStats?.recentlyUpdated||0})]}),n.jsx(X,{onClick:()=>e("dictionaries"),className:"w-full",children:"Управлять справочниками"})]})]})}),n.jsx(Mu,{userRole:t.currentRole,permission:Se.VIEW_USERS,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(A6,{className:"h-5 w-5"}),"Управление пользователями"]}),n.jsx(sr,{children:"Создание, редактирование и управление пользователями системы"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Активных пользователей"}),n.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800",children:r.loading?"-":r.systemStats?.active_users||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Всего пользователей"}),n.jsx(je,{variant:"outline",children:r.loading?"-":r.systemStats?.total_users||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Неактивных пользователей"}),n.jsx(je,{variant:"outline",className:"bg-gray-100 text-gray-800",children:r.loading?"-":(r.systemStats?.total_users||0)-(r.systemStats?.active_users||0)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Всего ролей"}),n.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800",children:r.loading?"-":r.systemStats?.total_roles||0})]}),n.jsx(X,{onClick:()=>e("user-management"),className:"w-full",children:"Управлять пользователями"})]})]})}),n.jsx(Mu,{userRole:t.currentRole,permission:Se.VIEW_ROLES,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(x6,{className:"h-5 w-5"}),"Управление ролями"]}),n.jsx(sr,{children:"Создание и настройка ролей, управление правами доступа"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Всего ролей"}),n.jsx(je,{variant:"outline",children:r.loading?"-":r.systemStats?.total_roles||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Активных ролей"}),n.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800",children:r.loading?"-":r.systemStats?.total_roles||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Пользователей с ролями"}),n.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800",children:r.loading?"-":r.systemStats?.active_users||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Заявок в системе"}),n.jsx(je,{variant:"outline",className:"bg-purple-100 text-purple-800",children:r.loading?"-":r.systemStats?.total_requests||0})]}),n.jsx(X,{onClick:()=>e("role-management"),className:"w-full",children:"Управлять ролями"})]})]})}),n.jsx(Mu,{userRole:t.currentRole,permission:Se.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"}),"Назначения статей расходов"]}),n.jsx(sr,{children:"Назначение пользователей к статьям расходов с ролями для контроля доступа"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Активных назначений"}),n.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800",children:r.loading?"-":"0"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Пользователей с назначениями"}),n.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800",children:r.loading?"-":"0"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Покрытие статей"}),n.jsx(je,{variant:"outline",className:"bg-purple-100 text-purple-800",children:r.loading?"-":"0%"})]}),n.jsx(X,{onClick:()=>e("expense-article-assignment"),className:"w-full",children:"Управлять назначениями"})]})]})}),n.jsx(Mu,{userRole:t.currentRole,permission:Se.VIEW_USERS,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(tm,{className:"h-5 w-5"}),"Позиции и департаменты"]}),n.jsx(sr,{children:"Управление организационной структурой и назначениями пользователей"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Позиций"}),n.jsx(je,{variant:"outline",children:"3"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Департаментов"}),n.jsx(je,{variant:"outline",children:"3"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Назначений"}),n.jsx(je,{variant:"outline",children:"6"})]}),n.jsx(X,{onClick:()=>e("position-management"),className:"w-full",children:"Управлять позициями"})]})]})}),n.jsxs(me,{className:"opacity-50",children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Kd,{className:"h-5 w-5"}),"Маршрутизация распорядителей",n.jsx(ux,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(sr,{children:"Настройка маршрутов утверждения для распорядителей"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Активных маршрутов"}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Распорядителей"}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Покрытие статей"}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsx(X,{disabled:!0,className:"w-full",children:"Недоступно"})]})]}),n.jsxs(me,{className:"opacity-50",children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(LO,{className:"h-5 w-5"}),"Статистика системы",n.jsx(ux,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(sr,{children:"Мониторинг производительности и активности системы"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Состояние системы"}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Время отклика"}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Доступность"}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsx(X,{disabled:!0,className:"w-full",children:"Недоступно"})]})]}),n.jsxs(me,{className:"opacity-50",children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(_o,{className:"h-5 w-5"}),"Системные настройки",n.jsx(ux,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(sr,{children:"Конфигурация системы, безопасность и мониторинг"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Уведомления"}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Бэкапы"}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Аудит"}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsx(X,{disabled:!0,className:"w-full",children:"Недоступно"})]})]})]})]})}class $l{static instance;static getInstance(){return $l.instance||($l.instance=new $l),$l.instance}async getAssignments(t){const r=new URLSearchParams;t?.user_id&&r.append("user_id",t.user_id),t?.role_id&&r.append("role_id",t.role_id),t?.expense_article_id&&r.append("expense_article_id",t.expense_article_id),t?.is_active!==void 0&&r.append("is_active",t.is_active.toString()),t?.page&&r.append("page",t.page.toString()),t?.limit&&r.append("limit",t.limit.toString());const a=Ze.baseUrl||"http://localhost:8000";return(await Oe.get(`${a}/api/v1/expense-article-roles?${r.toString()}`)).data}async getAssignment(t){const r=Ze.baseUrl||"http://localhost:8000";return(await Oe.get(`${r}/api/v1/expense-article-roles/${t}`)).data}async createAssignment(t){const r=Ze.baseUrl||"http://localhost:8000";return(await Oe.post(`${r}/api/v1/expense-article-roles`,t)).data}async updateAssignment(t,r){const a=Ze.baseUrl||"http://localhost:8000";return(await Oe.put(`${a}/api/v1/expense-article-roles/${t}`,r)).data}async deleteAssignment(t){const r=Ze.baseUrl||"http://localhost:8000";await Oe.delete(`${r}/api/v1/expense-article-roles/${t}`)}async bulkCreateAssignments(t){const r=Ze.baseUrl||"http://localhost:8000";return(await Oe.post(`${r}/api/v1/expense-article-roles/bulk`,{assignments:t})).data}async bulkUpdateAssignments(t){const r=Ze.baseUrl||"http://localhost:8000";return(await Oe.put(`${r}/api/v1/expense-article-roles/bulk`,{assignments:t})).data}async bulkDeleteAssignments(t){const r=Ze.baseUrl||"http://localhost:8000";await Oe.delete(`${r}/api/v1/expense-article-roles/bulk`,{data:{ids:t}})}async getAssignmentsByUser(t){const r=Ze.baseUrl||"http://localhost:8000";return(await Oe.get(`${r}/api/v1/expense-article-roles/user/${t}`)).data}async getAssignmentsByExpenseArticle(t){const r=Ze.baseUrl||"http://localhost:8000";return console.log("API_CONFIG.baseUrl:",Ze.baseUrl),console.log("Using baseUrl:",r),(await Oe.get(`${r}/api/v1/expense-article-roles/expense-article/${t}`)).data}async getStatistics(){const t=Ze.baseUrl||"http://localhost:8000";return(await Oe.get(`${t}/api/v1/expense-article-roles/statistics`)).data}async getUserAssignmentsForArticle(t,r){const a=Ze.baseUrl||"http://localhost:8000";return(await Oe.get(`${a}/api/v1/expense-article-roles/user/${r}/article/${t}`)).data}async checkUserAccess(t,r){try{return(await this.getUserAssignmentsForArticle(t,r)).some(s=>s.is_active)}catch(a){return console.error("Error checking user access:",a),!1}}}const pa=$l.getInstance();class Rs{static async getRoles(){return Oe.get(Ze.endpoints.getRoles)}static async getRole(t){return Oe.get(`${Ze.endpoints.getRole.replace(":id",t)}`)}static async createRole(t){return Oe.post(Ze.endpoints.createRole,t)}static async updateRole(t,r){return Oe.put(`${Ze.endpoints.updateRole.replace(":id",t)}`,r)}static async deleteRole(t){return Oe.delete(`${Ze.endpoints.deleteRole.replace(":id",t)}`)}static async getRoleStatistics(){return Oe.get("/api/v1/admin/roles/statistics")}static async getRoleUsage(t){return Oe.get(`/api/v1/admin/roles/${t}/usage`)}static async getPermissions(){return Promise.resolve([])}static async getRolePermissions(t){return Promise.resolve([])}static async updateRolePermissions(t,r){return Promise.resolve()}}const Tl=[{id:"expense-articles",label:"Статьи расходов",icon:yt,description:"Управление статьями расходов и их классификацией"},{id:"counterparties",label:"Контрагенты",icon:Pa,description:"База данных контрагентов и поставщиков"},{id:"vat-rates",label:"Ставки НДС",icon:zj,description:"Управление ставками НДС"},{id:"currencies",label:"Валюты",icon:zj,description:"Справочник валют (только просмотр)"}];function Lme({onBack:e}){const[t,r]=x.useState("expense-articles"),[a,s]=x.useState(""),[i,l]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,g]=x.useState(null),[j,w]=x.useState(""),[b,v]=x.useState(!1),[N,S]=x.useState(!1),[C,A]=x.useState(!1),[_,T]=x.useState(null),[P,O]=x.useState({totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0}),[I,B]=x.useState(!1),[q,G]=x.useState(null),[V,Z]=x.useState([]),[$,M]=x.useState([]),[k,D]=x.useState([]),[W,H]=x.useState(!1),[z,F]=x.useState({}),[L,Y]=x.useState({}),{items:ee,statistics:ce,state:K,searchItems:fe,filterItems:le,createItem:Ee,updateItem:De,deleteItem:re,bulkDelete:$e,exportItems:oe,importItems:Ce,selectItem:Ue,selectAllItems:ot,clearSelection:bt,refresh:te}=lr(t);x.useEffect(()=>{(async()=>{A(!0),T(null);try{await te()}catch(Be){T("Ошибка загрузки данных"),console.error("Error loading data:",Be)}finally{A(!1)}})()},[t,te]),x.useEffect(()=>{ce&&O({totalItems:ce.totalItems||0,activeItems:ce.activeItems||0,inactiveItems:ce.inactiveItems||0,recentlyUpdated:ce.recentlyUpdated||0})},[ce]),x.useEffect(()=>{(async()=>{try{const[Be,hr]=await Promise.all([fr.searchUsers({limit:100}),Rs.getRoles()]);M(Be),D(hr)}catch(Be){console.error("Error loading assignment data:",Be)}})()},[]);const se=x.useCallback(async de=>{A(!0),T(null),r(de),s(""),bt(),l(!1),d(!1),h(!1);try{await te()}catch(Be){T("Ошибка загрузки данных справочника"),console.error("Error loading dictionary data:",Be)}finally{A(!1)}},[bt,te]),Fe=x.useCallback(de=>{s(de),de.trim()&&fe(de)},[fe]),at=x.useCallback(()=>{g(null),l(!0),T(null)},[]),Lt=x.useCallback(async de=>{A(!0),T(null);try{await Ee(de),l(!1),await te()}catch(Be){T("Ошибка создания элемента"),console.error("Error creating item:",Be)}finally{A(!1)}},[Ee,te]),Zr=x.useCallback(de=>{g(de),Y(de),d(!0),T(null)},[]),Jr=x.useCallback(async de=>{if(window.confirm("Вы уверены, что хотите удалить этот элемент?")){A(!0),T(null);try{await re(de),await te()}catch(Be){T("Ошибка удаления элемента"),console.error("Error deleting item:",Be)}finally{A(!1)}}},[re,te]),ge=x.useCallback(async de=>{if(m){A(!0),T(null);try{await De(m.id,de),d(!1),g(null),Y({}),await te()}catch(Be){T("Ошибка обновления элемента"),console.error("Error updating item:",Be)}finally{A(!1)}}},[m,De,te]),it=x.useCallback(async de=>{if(K.selectedItems.length!==0){A(!0),T(null);try{switch(de){case"delete":window.confirm(`Вы уверены, что хотите удалить ${K.selectedItems.length} элементов?`)&&(await $e(K.selectedItems),await te());break;case"export":const Be=await oe({format:"json"}),hr=URL.createObjectURL(Be),ps=document.createElement("a");ps.href=hr,ps.download=`${t}-export.json`,ps.click(),URL.revokeObjectURL(hr);break;default:break}}catch(Be){T(`Ошибка выполнения массовой операции: ${de}`),console.error("Bulk action failed:",Be)}finally{A(!1)}}},[K.selectedItems,$e,oe,t,te]),tr=x.useCallback(async de=>{if(t==="expense-articles"){G(de),H(!0);try{const Be=await pa.getAssignmentsByExpenseArticle(de.id);Z([Be]),B(!0)}catch(Be){console.error("Error loading assignments:",Be),T("Ошибка загрузки назначений")}finally{H(!1)}}},[t]),ta=x.useCallback(async(de,Be)=>{if(q)try{await pa.createAssignment({user_id:de,role_id:Be,expense_article_id:q.id,valid_from:new Date().toISOString().split("T")[0]});const hr=await pa.getAssignmentsByExpenseArticle(q.id);Z([hr])}catch(hr){console.error("Error assigning user:",hr),T("Ошибка назначения пользователя")}},[q]),_n=x.useCallback(async de=>{try{if(await pa.bulkDeleteAssignments([de]),q){const Be=await pa.getAssignmentsByExpenseArticle(q.id);Z([Be])}}catch(Be){console.error("Error removing assignment:",Be),T("Ошибка удаления назначения")}},[q]);x.useCallback(async de=>{A(!0),T(null);try{await Ce(de),await te()}catch(Be){T("Ошибка импорта файла"),console.error("Import failed:",Be)}finally{A(!1)}},[Ce,te]);const za=x.useCallback(async()=>{A(!0),T(null);try{await te()}catch(de){T("Ошибка обновления данных"),console.error("Refresh failed:",de)}finally{A(!1)}},[te]),ra=de=>de?n.jsxs(je,{className:"bg-green-100 text-green-800",children:[n.jsx(pt,{className:"w-3 h-3 mr-1"}),"Активный"]}):n.jsxs(je,{className:"bg-red-100 text-red-800",children:[n.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Неактивный"]}),Yo=()=>{if(C)return n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"text-muted-foreground",children:"Загрузка данных..."})]})});if(K.error)return n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Gn,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 mb-2",children:"Ошибка загрузки данных"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:K.error})]})});if(!ee||ee.length===0)return n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Нет данных для отображения"}),n.jsxs(X,{onClick:at,className:"mt-4",disabled:C,children:[n.jsx(un,{className:"w-4 h-4 mr-2"}),"Добавить первый элемент"]})]})});switch(t){case"expense-articles":return n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{className:"w-12",children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.length===ee.length&&ee.length>0,onChange:ot,disabled:C})}),n.jsx(_e,{children:"Код"}),n.jsx(_e,{children:"Наименование"}),n.jsx(_e,{children:"Описание"}),n.jsx(_e,{children:"Статус"}),n.jsx(_e,{children:"Действия"})]})}),n.jsx(Br,{children:ee.map(de=>n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.includes(de.id),onChange:()=>Ue(de.id),disabled:C})}),n.jsx(Ne,{className:"font-mono",children:de.code}),n.jsx(Ne,{children:de.name}),n.jsx(Ne,{className:"max-w-xs truncate",children:de.description||"-"}),n.jsx(Ne,{children:ra(de.is_active)}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>tr(de),disabled:C,title:"Управление назначениями",children:n.jsx($u,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Zr(de),disabled:C,children:n.jsx(cn,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Jr(de.id),disabled:C,children:n.jsx(Cr,{className:"w-4 h-4"})})]})})]},de.id))})]});case"counterparties":return n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{className:"w-12",children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.length===ee.length&&ee.length>0,onChange:ot,disabled:C})}),n.jsx(_e,{children:"Наименование"}),n.jsx(_e,{children:"БИН/ИИН"}),n.jsx(_e,{children:"Категория"}),n.jsx(_e,{children:"Статус"}),n.jsx(_e,{children:"Действия"})]})}),n.jsx(Br,{children:ee.map(de=>n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.includes(de.id),onChange:()=>Ue(de.id),disabled:C})}),n.jsx(Ne,{children:de.name}),n.jsx(Ne,{className:"font-mono",children:de.binIin||"-"}),n.jsx(Ne,{children:de.category||"-"}),n.jsx(Ne,{children:ra(de.is_active)}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Zr(de),disabled:C,children:n.jsx(cn,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Jr(de.id),disabled:C,children:n.jsx(Cr,{className:"w-4 h-4"})})]})})]},de.id))})]});case"vat-rates":return n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{className:"w-12",children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.length===ee.length&&ee.length>0,onChange:ot,disabled:C})}),n.jsx(_e,{children:"Ставка (%)"}),n.jsx(_e,{children:"Наименование"}),n.jsx(_e,{children:"Статус"}),n.jsx(_e,{children:"Действия"})]})}),n.jsx(Br,{children:ee.map(de=>n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.includes(de.id),onChange:()=>Ue(de.id),disabled:C})}),n.jsxs(Ne,{className:"font-mono",children:[de.rate,"%"]}),n.jsx(Ne,{children:de.name}),n.jsx(Ne,{children:ra(de.is_active)}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Zr(de),disabled:C,children:n.jsx(cn,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Jr(de.id),disabled:C,children:n.jsx(Cr,{className:"w-4 h-4"})})]})})]},de.id))})]});case"currencies":return n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{className:"w-12",children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.length===ee.length&&ee.length>0,onChange:ot,disabled:C})}),n.jsx(_e,{children:"Код"}),n.jsx(_e,{children:"Масштаб"}),n.jsx(_e,{children:"Действия"})]})}),n.jsx(Br,{children:ee.map(de=>n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.includes(de.code),onChange:()=>Ue(de.code),disabled:C})}),n.jsx(Ne,{className:"font-mono",children:de.code}),n.jsx(Ne,{children:de.scale}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",disabled:!0,title:"Валюты доступны только для просмотра",children:n.jsx(cn,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",disabled:!0,title:"Валюты доступны только для просмотра",children:n.jsx(Cr,{className:"w-4 h-4"})})]})})]},de.code))})]});default:return n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Rt,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Неизвестный тип словаря"})]})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:"Управление справочниками"}),n.jsx("p",{className:"text-muted-foreground",children:"Централизованное управление всеми справочными данными системы"})]}),n.jsx(X,{onClick:e,variant:"outline",children:"Назад"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{onClick:at,disabled:C,children:[n.jsx(un,{className:"w-4 h-4 mr-2"}),"Добавить"]}),K.selectedItems.length>0&&n.jsxs(X,{variant:"destructive",onClick:()=>it("delete"),disabled:C,children:[n.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Удалить (",K.selectedItems.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",onClick:za,disabled:C,children:[C?n.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(yn,{className:"w-4 h-4 mr-2"}),"Обновить"]}),n.jsxs(X,{variant:"outline",onClick:()=>h(!0),disabled:C||K.selectedItems.length===0,children:[n.jsx(UO,{className:"w-4 h-4 mr-2"}),"Массовые операции"]}),n.jsxs(X,{variant:"outline",onClick:()=>v(!0),disabled:C,children:[n.jsx(IE,{className:"w-4 h-4 mr-2"}),"Импорт/Экспорт"]}),n.jsxs(X,{variant:"outline",onClick:()=>S(!0),disabled:C,children:[n.jsx(Vj,{className:"w-4 h-4 mr-2"}),"Аудит"]})]})]}),_&&n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-red-600",children:_}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>T(null),className:"text-red-600 hover:text-red-800",children:"✕"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Всего элементов"}),n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:C?"-":P.totalItems}),C&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Загрузка..."})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Активных"}),n.jsx(pt,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:C?"-":P.activeItems}),C&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Загрузка..."})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Неактивных"}),n.jsx(Gn,{className:"h-4 w-4 text-red-600"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:C?"-":P.inactiveItems}),C&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Загрузка..."})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Обновлено за неделю"}),n.jsx(Kd,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:C?"-":P.recentlyUpdated}),C&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Загрузка..."})]})]})]}),n.jsx(me,{className:"border-0 shadow-sm bg-gradient-to-r from-slate-50 to-gray-50",children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[n.jsx("div",{className:"flex-1 w-full lg:max-w-md",children:n.jsxs("div",{className:"relative group",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4 group-focus-within:text-primary transition-colors"}),n.jsx(Ie,{id:"search",placeholder:"Поиск по названию, коду или описанию...",value:a,onChange:de=>Fe(de.target.value),className:"pl-10 pr-4 h-11 bg-white border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200",disabled:C}),a&&n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Fe(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0 hover:bg-gray-100",children:n.jsx(Gn,{className:"h-3 w-3"})})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{le({})},className:"h-9 px-4 bg-white hover:bg-gray-50 border-gray-200",children:[n.jsx(yn,{className:"h-4 w-4 mr-2"}),"Сбросить"]}),n.jsxs(X,{onClick:()=>{le({})},className:"h-9 px-6 bg-primary hover:bg-primary/90 text-white shadow-sm",children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Поиск"]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[t==="expense-articles"&&n.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[n.jsx(ae,{htmlFor:"status-filter",className:"text-sm font-medium text-gray-700",children:"Статус"}),n.jsxs(et,{onValueChange:de=>{le({is_active:de==="active"})},children:[n.jsx(rt,{className:"h-9 bg-white border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20",children:n.jsx(tt,{placeholder:"Все статусы"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),"Все статусы"]})}),n.jsx(xe,{value:"active",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),"Активные"]})}),n.jsx(xe,{value:"inactive",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),"Неактивные"]})})]})]})]}),t==="counterparties"&&n.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[n.jsx(ae,{htmlFor:"category-filter",className:"text-sm font-medium text-gray-700",children:"Категория"}),n.jsxs(et,{onValueChange:de=>{le({category:de==="all"?void 0:de})},children:[n.jsx(rt,{className:"h-9 bg-white border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20",children:n.jsx(tt,{placeholder:"Все категории"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"w-4 h-4 text-gray-400"}),"Все категории"]})}),n.jsx(xe,{value:"Поставщик СХ",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"w-4 h-4 text-green-500"}),"Поставщик СХ"]})}),n.jsx(xe,{value:"Элеватор",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"w-4 h-4 text-blue-500"}),"Элеватор"]})}),n.jsx(xe,{value:"Поставщик Услуг",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"w-4 h-4 text-orange-500"}),"Поставщик Услуг"]})}),n.jsx(xe,{value:"Покупатель",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"w-4 h-4 text-purple-500"}),"Покупатель"]})}),n.jsx(xe,{value:"Партнер/БВУ",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"w-4 h-4 text-gray-500"}),"Партнер/БВУ"]})})]})]})]}),t==="vat-rates"&&n.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[n.jsx(ae,{htmlFor:"rate-filter",className:"text-sm font-medium text-gray-700",children:"Диапазон ставок"}),n.jsxs(et,{onValueChange:de=>{le({})},children:[n.jsx(rt,{className:"h-9 bg-white border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20",children:n.jsx(tt,{placeholder:"Все ставки"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все ставки"}),n.jsx(xe,{value:"0-10",children:"0% - 10%"}),n.jsx(xe,{value:"10-20",children:"10% - 20%"}),n.jsx(xe,{value:"20+",children:"20% и выше"})]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 pt-2 border-t border-gray-200",children:[n.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:(a||t==="expense-articles"||t==="counterparties")&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Активные фильтры:"}),a&&n.jsxs(je,{variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:[n.jsx(xr,{className:"w-3 h-3 mr-1"}),'"',a,'"',n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Fe(""),className:"ml-2 h-4 w-4 p-0 hover:bg-blue-300",children:n.jsx(Gn,{className:"h-3 w-3"})})]})]})}),n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{le({is_active:!0})},className:"h-8 px-3 text-xs hover:bg-green-50 hover:text-green-700",children:[n.jsx(pt,{className:"w-3 h-3 mr-1"}),"Только активные"]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{le({is_active:!1})},className:"h-8 px-3 text-xs hover:bg-red-50 hover:text-red-700",children:[n.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Только неактивные"]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{le({})},className:"h-8 px-3 text-xs hover:bg-gray-50",children:[n.jsx(yn,{className:"w-3 h-3 mr-1"}),"Показать все"]})]})]})]})})}),n.jsxs(Dc,{value:t,onValueChange:se,children:[n.jsx(Mc,{className:"flex w-full",children:Tl.map(de=>{const Be=de.icon;return n.jsxs(wn,{value:de.id,className:"flex items-center gap-2 flex-1",disabled:C,children:[n.jsx(Be,{className:"w-4 h-4"}),de.label]},de.id)})}),Tl.map(de=>n.jsx(Nn,{value:de.id,className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(de.icon,{className:"w-5 h-5"}),de.label]}),n.jsx(sr,{children:de.description})]}),n.jsx(pe,{children:Yo()})]})},de.id))]}),n.jsx(Ut,{open:f,onOpenChange:h,children:n.jsxs($t,{children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Массовые операции"}),n.jsxs(Wt,{children:["Выберите действие для ",K.selectedItems.length," выбранных элементов"]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs(et,{value:j,onValueChange:w,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите действие"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"delete",children:"Удалить"}),n.jsx(xe,{value:"export",children:"Экспортировать"}),n.jsx(xe,{value:"activate",children:"Активировать"}),n.jsx(xe,{value:"deactivate",children:"Деактивировать"})]})]})}),n.jsxs(Ml,{children:[n.jsx(X,{variant:"outline",onClick:()=>h(!1),children:"Отмена"}),n.jsxs(X,{onClick:()=>{it(j),h(!1)},disabled:!j||C,children:[C?n.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Выполнить"]})]})]})}),n.jsx(Ut,{open:b,onOpenChange:v,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Импорт/Экспорт справочника"}),n.jsxs(Wt,{children:['Управление данными справочника "',Tl.find(de=>de.id===t)?.label,'"']})]}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(IE,{className:"h-12 w-12 mx-auto mb-4"}),n.jsx("p",{children:"Функция импорта/экспорта будет реализована"})]})})]})}),n.jsx(Ut,{open:N,onOpenChange:S,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Аудит справочника"}),n.jsxs(Wt,{children:['История изменений и проверка целостности данных для "',Tl.find(de=>de.id===t)?.label,'"']})]}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Vj,{className:"h-12 w-12 mx-auto mb-4"}),n.jsx("p",{children:"Функция аудита будет реализована"})]})})]})}),n.jsx(Ut,{open:I,onOpenChange:B,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Назначения пользователей к статье расходов"}),n.jsxs(Wt,{children:['Управление назначениями для "',q?.name,'"']})]}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:W?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Mr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Загрузка назначений..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Текущие назначения"}),V.length===0||V[0]?.assignments?.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(DE,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Назначения не найдены"})]}):n.jsx("div",{className:"space-y-2",children:V[0]?.assignments?.map((de,Be)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:de.user_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:de.user_email})]}),n.jsx(je,{variant:"outline",children:de.role_name})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(de.valid_from).toLocaleDateString("ru-RU"),de.valid_to&&` - ${new Date(de.valid_to).toLocaleDateString("ru-RU")}`]}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>_n(`${de.user_id}-${de.role_id}`),children:n.jsx(DE,{className:"h-4 w-4"})})]})]},`${de.user_id}-${de.role_id}-${Be}`))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Добавить назначение"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Пользователь"}),n.jsxs(et,{onValueChange:de=>{if($.find(hr=>hr.id===de)&&q){const hr=k[0];hr&&ta(de,hr.id)}},children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите пользователя"})}),n.jsx(nt,{children:$.map(de=>n.jsxs(xe,{value:de.id,children:[de.full_name," (",de.email,")"]},de.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Роль"}),n.jsxs(et,{onValueChange:de=>{},children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите роль"})}),n.jsx(nt,{children:k.map(de=>n.jsxs(xe,{value:de.id,children:[de.name," (",de.code,")"]},de.id))})]})]})]})]})]})}),n.jsx(Ml,{children:n.jsx(X,{variant:"outline",onClick:()=>B(!1),children:"Закрыть"})})]})}),n.jsx(Ut,{open:i,onOpenChange:l,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Создание элемента"}),n.jsxs(Wt,{children:['Создание нового элемента в справочнике "',Tl.find(de=>de.id===t)?.label,'"']})]}),n.jsxs("div",{className:"space-y-4",children:[t==="expense-articles"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-code",children:"Код"}),n.jsx(Ie,{id:"create-code",placeholder:"Введите код статьи расходов",onChange:de=>F(Be=>({...Be,code:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:"Наименование"}),n.jsx(Ie,{id:"create-name",placeholder:"Введите наименование",onChange:de=>F(Be=>({...Be,name:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-description",children:"Описание"}),n.jsx(Ie,{id:"create-description",placeholder:"Введите описание",onChange:de=>F(Be=>({...Be,description:de.target.value}))})]})]}),t==="counterparties"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:"Наименование"}),n.jsx(Ie,{id:"create-name",placeholder:"Введите наименование контрагента",onChange:de=>F(Be=>({...Be,name:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-tax-id",children:"БИН/ИИН"}),n.jsx(Ie,{id:"create-tax-id",placeholder:"Введите БИН/ИИН",onChange:de=>F(Be=>({...Be,tax_id:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-category",children:"Категория"}),n.jsx(Ie,{id:"create-category",placeholder:"Введите категорию",onChange:de=>F(Be=>({...Be,category:de.target.value}))})]})]}),t==="vat-rates"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-rate",children:"Ставка (%)"}),n.jsx(Ie,{id:"create-rate",type:"number",step:"0.001",placeholder:"Введите ставку НДС",onChange:de=>F(Be=>({...Be,rate:parseFloat(de.target.value)}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:"Наименование"}),n.jsx(Ie,{id:"create-name",placeholder:"Введите наименование ставки",onChange:de=>F(Be=>({...Be,name:de.target.value}))})]})]})]}),n.jsxs(Ml,{children:[n.jsx(X,{variant:"outline",onClick:()=>l(!1),children:"Отмена"}),n.jsxs(X,{onClick:()=>Lt(z),disabled:C,children:[C?n.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Создать"]})]})]})}),n.jsx(Ut,{open:u,onOpenChange:d,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Редактирование элемента"}),n.jsxs(Wt,{children:['Редактирование элемента в справочнике "',Tl.find(de=>de.id===t)?.label,'"']})]}),n.jsxs("div",{className:"space-y-4",children:[t==="expense-articles"&&m&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-code",children:"Код"}),n.jsx(Ie,{id:"edit-code",defaultValue:m.code,onChange:de=>Y(Be=>({...Be,code:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:"Наименование"}),n.jsx(Ie,{id:"edit-name",defaultValue:m.name,onChange:de=>Y(Be=>({...Be,name:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-description",children:"Описание"}),n.jsx(Ie,{id:"edit-description",defaultValue:m.description||"",onChange:de=>Y(Be=>({...Be,description:de.target.value}))})]})]}),t==="counterparties"&&m&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:"Наименование"}),n.jsx(Ie,{id:"edit-name",defaultValue:m.name,onChange:de=>Y(Be=>({...Be,name:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-tax-id",children:"БИН/ИИН"}),n.jsx(Ie,{id:"edit-tax-id",defaultValue:m.tax_id||"",onChange:de=>Y(Be=>({...Be,tax_id:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-category",children:"Категория"}),n.jsx(Ie,{id:"edit-category",defaultValue:m.category||"",onChange:de=>Y(Be=>({...Be,category:de.target.value}))})]})]}),t==="vat-rates"&&m&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-rate",children:"Ставка (%)"}),n.jsx(Ie,{id:"edit-rate",type:"number",step:"0.001",defaultValue:m.rate,onChange:de=>Y(Be=>({...Be,rate:parseFloat(de.target.value)}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:"Наименование"}),n.jsx(Ie,{id:"edit-name",defaultValue:m.name,onChange:de=>Y(Be=>({...Be,name:de.target.value}))})]})]})]}),n.jsxs(Ml,{children:[n.jsx(X,{variant:"outline",onClick:()=>d(!1),children:"Отмена"}),n.jsxs(X,{onClick:()=>ge(L),disabled:C,children:[C?n.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Сохранить"]})]})]})})]})}function Fme({onBack:e}){const[t,r]=x.useState({notifications:{emailEnabled:!0,smsEnabled:!1,webhookEnabled:!0,overdueReminders:!0,approvalReminders:!0},security:{sessionTimeout:480,requirePasswordChange:!0,passwordChangeInterval:90,maxLoginAttempts:5,ipWhitelistEnabled:!1},backup:{autoBackup:!0,backupInterval:"daily",retentionDays:30,cloudBackup:!0},integration:{apiEnabled:!0,webhookUrl:"https://api.grainpay.kz/webhook",apiKey:"gp_*********************",bankIntegration:!0}}),a=(u,d,f)=>{r(h=>({...h,[u]:{...h[u],[d]:f}})),be.success("Настройка обновлена")},s=()=>{be.success("Настройки сохранены")},i=()=>{be.success("Резервное копирование запущено")},l=()=>{be.success("Соединение успешно")};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(X,{variant:"ghost",onClick:e,className:"pl-0",children:"← Назад"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:"Системные настройки"}),n.jsx("p",{className:"text-muted-foreground",children:"Конфигурация системы, безопасность и интеграции"})]})]}),n.jsx(X,{onClick:s,children:"Сохранить изменения"})]}),n.jsxs(Dc,{defaultValue:"notifications",className:"space-y-4",children:[n.jsxs(Mc,{className:"grid w-full grid-cols-4",children:[n.jsxs(wn,{value:"notifications",className:"flex items-center gap-2",children:[n.jsx($O,{className:"h-4 w-4"}),"Уведомления"]}),n.jsxs(wn,{value:"security",className:"flex items-center gap-2",children:[n.jsx(_o,{className:"h-4 w-4"}),"Безопасность"]}),n.jsxs(wn,{value:"backup",className:"flex items-center gap-2",children:[n.jsx(tm,{className:"h-4 w-4"}),"Резервные копии"]}),n.jsxs(wn,{value:"integration",className:"flex items-center gap-2",children:[n.jsx(p6,{className:"h-4 w-4"}),"Интеграции"]})]}),n.jsx(Nn,{value:"notifications",className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:"Настройки уведомлений"}),n.jsx(sr,{children:"Управление системными уведомлениями и напоминаниями"})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Email уведомления"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Отправка уведомлений по электронной почте"})]}),n.jsx(In,{checked:t.notifications.emailEnabled,onCheckedChange:u=>a("notifications","emailEnabled",u)})]}),n.jsx(ma,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"SMS уведомления"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Отправка SMS для критичных уведомлений"})]}),n.jsx(In,{checked:t.notifications.smsEnabled,onCheckedChange:u=>a("notifications","smsEnabled",u)})]}),n.jsx(ma,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Webhook уведомления"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Отправка уведомлений через webhook"})]}),n.jsx(In,{checked:t.notifications.webhookEnabled,onCheckedChange:u=>a("notifications","webhookEnabled",u)})]}),n.jsx(ma,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Напоминания о просроченных заявках"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Автоматические напоминания о заявках, превышающих SLA"})]}),n.jsx(In,{checked:t.notifications.overdueReminders,onCheckedChange:u=>a("notifications","overdueReminders",u)})]}),n.jsx(ma,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Напоминания об утверждении"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Напоминания распорядителям и казначеям о необходимости утверждения"})]}),n.jsx(In,{checked:t.notifications.approvalReminders,onCheckedChange:u=>a("notifications","approvalReminders",u)})]})]})]})}),n.jsx(Nn,{value:"security",className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:"Настройки безопасности"}),n.jsx(sr,{children:"Управление безопасностью и аутентификацией пользователей"})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"sessionTimeout",children:"Время сессии (минуты)"}),n.jsx(Ie,{id:"sessionTimeout",type:"number",value:t.security.sessionTimeout,onChange:u=>a("security","sessionTimeout",parseInt(u.target.value))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"maxLoginAttempts",children:"Максимум попыток входа"}),n.jsx(Ie,{id:"maxLoginAttempts",type:"number",value:t.security.maxLoginAttempts,onChange:u=>a("security","maxLoginAttempts",parseInt(u.target.value))})]})]}),n.jsx(ma,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Принудительная смена пароля"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Требовать смену пароля каждые ",t.security.passwordChangeInterval," дней"]})]}),n.jsx(In,{checked:t.security.requirePasswordChange,onCheckedChange:u=>a("security","requirePasswordChange",u)})]}),n.jsx(ma,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Белый список IP-адресов"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ограничить доступ только определенными IP-адресами"})]}),n.jsx(In,{checked:t.security.ipWhitelistEnabled,onCheckedChange:u=>a("security","ipWhitelistEnabled",u)})]})]})]})}),n.jsx(Nn,{value:"backup",className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:"Резервное копирование"}),n.jsx(sr,{children:"Настройки автоматического резервного копирования данных"})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Автоматическое резервное копирование"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Регулярное создание резервных копий системы"})]}),n.jsx(In,{checked:t.backup.autoBackup,onCheckedChange:u=>a("backup","autoBackup",u)})]}),n.jsx(ma,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Интервал резервного копирования"}),n.jsxs("select",{className:"w-full p-2 border rounded-md",value:t.backup.backupInterval,onChange:u=>a("backup","backupInterval",u.target.value),children:[n.jsx("option",{value:"hourly",children:"Каждый час"}),n.jsx("option",{value:"daily",children:"Ежедневно"}),n.jsx("option",{value:"weekly",children:"Еженедельно"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Хранить копии (дней)"}),n.jsx(Ie,{type:"number",value:t.backup.retentionDays,onChange:u=>a("backup","retentionDays",parseInt(u.target.value))})]})]}),n.jsx(ma,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Облачное резервное копирование"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Сохранение копий в облачном хранилище"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(In,{checked:t.backup.cloudBackup,onCheckedChange:u=>a("backup","cloudBackup",u)}),n.jsxs(X,{variant:"outline",size:"sm",onClick:i,children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Создать копию"]})]})]}),n.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(pt,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"font-medium",children:"Последняя резервная копия"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Создана: сегодня в 03:00 (размер: 145.6 МБ)"})]})]})]})}),n.jsx(Nn,{value:"integration",className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:"Внешние интеграции"}),n.jsx(sr,{children:"Настройки API и внешних интеграций системы"})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"API доступ"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Разрешить внешним системам использовать API"})]}),n.jsx(In,{checked:t.integration.apiEnabled,onCheckedChange:u=>a("integration","apiEnabled",u)})]}),n.jsx(ma,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"webhookUrl",children:"Webhook URL"}),n.jsx(Ie,{id:"webhookUrl",value:t.integration.webhookUrl,onChange:u=>a("integration","webhookUrl",u.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"apiKey",children:"API ключ"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ie,{id:"apiKey",type:"password",value:t.integration.apiKey,onChange:u=>a("integration","apiKey",u.target.value)}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(K8,{className:"h-4 w-4 mr-2"}),"Создать новый"]})]})]}),n.jsx(ma,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Интеграция с банком"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Автоматическая отправка реестров платежей в банк"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(In,{checked:t.integration.bankIntegration,onCheckedChange:u=>a("integration","bankIntegration",u)}),n.jsx(X,{variant:"outline",size:"sm",onClick:l,children:"Тест соединения"})]})]}),n.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(pt,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"font-medium",children:"Статус интеграций"})]}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"API статус:"}),n.jsx(je,{className:"bg-green-100 text-green-800",children:"Активен"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Банковская интеграция:"}),n.jsx(je,{className:"bg-green-100 text-green-800",children:"Подключена"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Последняя синхронизация:"}),n.jsx("span",{className:"text-muted-foreground",children:"10 минут назад"})]})]})]})]})]})})]})]})}function Ume({onBack:e}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(!1),[u,d]=x.useState({query:"",role:"",is_active:void 0,page:1,limit:20}),[f,h]=x.useState("all"),[m,g]=x.useState("all"),[j,w]=x.useState([]),[b,v]=x.useState(!1),[N,S]=x.useState(!1),[C,A]=x.useState(null),[_,T]=x.useState({full_name:"",email:"",phone:"",password:"",roles:[]}),[P,O]=x.useState([]),[I,B]=x.useState({id:"",full_name:"",email:"",phone:"",is_active:!0}),[q,G]=x.useState(!1),[V,Z]=x.useState(null),[$,M]=x.useState([]),[k,D]=x.useState([]),[W,H]=x.useState(!1),[z,F]=x.useState(!1),[L,Y]=x.useState(null),[ee,ce]=x.useState({position_id:"none",department_id:"none"});x.useEffect(()=>{K(),fe(),le(),Ee()},[]),x.useEffect(()=>{K()},[u,f,m]);const K=async()=>{l(!0);try{const ge={...u,position_id:f==="all"?void 0:f,department_id:m==="all"?void 0:m},it=await fr.searchUsers(ge);r(it)}catch(ge){console.error("Error loading users:",ge)}finally{l(!1)}},fe=async()=>{try{const ge=await Rs.getRoles();s(ge)}catch(ge){console.error("Error loading roles:",ge)}},le=async()=>{try{const ge=await xn.getPositions();M(ge)}catch(ge){console.error("Error loading positions:",ge)}},Ee=async()=>{try{const ge=await xn.getDepartments();D(ge)}catch(ge){console.error("Error loading departments:",ge)}},De=ge=>{d(it=>({...it,query:ge,page:1}))},re=ge=>{d(it=>({...it,role:ge==="all"?"":ge,page:1}))},$e=ge=>{d(it=>({...it,is_active:ge==="all"?void 0:ge==="active",page:1}))},oe=(ge,it)=>{w(it?tr=>[...tr,ge]:tr=>tr.filter(ta=>ta!==ge))},Ce=ge=>{w(ge?t.map(it=>it.id):[])},Ue=(ge,it)=>{O(it?tr=>[...tr,ge]:tr=>tr.filter(ta=>ta!==ge))},ot=async()=>{try{const ge=P.map(tr=>({role_id:tr,valid_from:new Date().toISOString().split("T")[0],is_primary:!1})),it={..._,roles:ge};await fr.bulkCreateUsers([it]),v(!1),T({full_name:"",email:"",phone:"",password:"",roles:[]}),O([]),K()}catch(ge){console.error("Error creating user:",ge)}},bt=ge=>{A(ge),B({id:ge.id,full_name:ge.full_name,email:ge.email,phone:ge.phone||"",is_active:ge.is_active}),S(!0)},te=async()=>{try{await fr.bulkUpdateUsers([I]),S(!1),A(null),K()}catch(ge){console.error("Error updating user:",ge)}},se=async()=>{if(j.length!==0)try{await fr.bulkDeleteUsers(j),w([]),K()}catch(ge){console.error("Error deleting users:",ge)}},Fe=(ge,it)=>{console.log("Add role",it,"to user",ge)},at=ge=>{Z(ge),G(!0)},Lt=ge=>{Y(ge),ce({position_id:ge.position?.id||"none",department_id:ge.department?.id||"none"}),H(!0)},Zr=ge=>{const it=$.find(tr=>tr.id===ge);ce(tr=>({...tr,position_id:ge,department_id:it?.department_id||"none"}))},Jr=async()=>{if(L)try{if(ee.position_id!=="none"){const ge={user_id:L.id,position_id:ee.position_id,valid_from:new Date().toISOString().split("T")[0],valid_to:void 0};await xn.assignUserToPosition(ee.position_id,ge)}H(!1),Y(null),K()}catch(ge){console.error("Error assigning position:",ge)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:"Управление пользователями"}),n.jsx("p",{className:"text-muted-foreground",children:"Создание, редактирование и управление пользователями системы"})]}),n.jsx(X,{onClick:e,variant:"outline",children:"Назад"})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(xr,{className:"h-5 w-5"}),"Поиск и фильтрация"]})}),n.jsx(pe,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"search",children:"Поиск"}),n.jsx(Ie,{id:"search",placeholder:"Имя или email...",value:u.query||"",onChange:ge=>De(ge.target.value)})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"role-filter",children:"Роль"}),n.jsxs(et,{value:u.role||"all",onValueChange:re,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите роль"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все роли"}),a.map(ge=>n.jsx(xe,{value:ge.code,children:ge.name},ge.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status-filter",children:"Статус"}),n.jsxs(et,{value:u.is_active===void 0?"all":u.is_active?"active":"inactive",onValueChange:$e,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите статус"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все"}),n.jsx(xe,{value:"active",children:"Активные"}),n.jsx(xe,{value:"inactive",children:"Неактивные"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-filter",children:"Позиция"}),n.jsxs(et,{value:f,onValueChange:h,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите позицию"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все позиции"}),$.map(ge=>n.jsxs(xe,{value:ge.id,children:[ge.title," ",ge.department?`(${ge.department.name})`:""]},ge.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"department-filter",children:"Департамент"}),n.jsxs(et,{value:m,onValueChange:g,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите департамент"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все департаменты"}),k.map(ge=>n.jsx(xe,{value:ge.id,children:ge.name},ge.id))]})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs(X,{onClick:K,className:"w-full",children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Поиск"]})})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ut,{open:b,onOpenChange:v,children:[n.jsx(Fa,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(un,{className:"h-4 w-4 mr-2"}),"Создать пользователя"]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Создание пользователя"}),n.jsx(Wt,{children:"Заполните форму для создания нового пользователя"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:"Полное имя"}),n.jsx(Ie,{id:"create-name",value:_.full_name,onChange:ge=>T(it=>({...it,full_name:ge.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-email",children:"Email"}),n.jsx(Ie,{id:"create-email",type:"email",value:_.email,onChange:ge=>T(it=>({...it,email:ge.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-phone",children:"Телефон"}),n.jsx(Ie,{id:"create-phone",value:_.phone,onChange:ge=>T(it=>({...it,phone:ge.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-password",children:"Пароль"}),n.jsx(Ie,{id:"create-password",type:"password",value:_.password,onChange:ge=>T(it=>({...it,password:ge.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Роли"}),n.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-3",children:a.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Роли не загружены"}):a.map(ge=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:`role-${ge.id}`,checked:P.includes(ge.id),onCheckedChange:it=>Ue(ge.id,it)}),n.jsxs(ae,{htmlFor:`role-${ge.id}`,className:"text-sm font-normal cursor-pointer",children:[ge.name," (",ge.code,")"]})]},ge.id))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{v(!1),O([])},children:"Отмена"}),n.jsx(X,{onClick:ot,children:"Создать"})]})]})]})]}),j.length>0&&n.jsxs(X,{variant:"destructive",onClick:se,children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Удалить (",j.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Экспорт"]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Ao,{className:"h-4 w-4 mr-2"}),"Импорт"]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"}),"Пользователи (",t.length,")"]})}),n.jsx(pe,{children:n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{className:"w-12",children:n.jsx(Er,{checked:j.length===t.length&&t.length>0,onCheckedChange:Ce})}),n.jsx(_e,{children:"Имя"}),n.jsx(_e,{children:"Email"}),n.jsx(_e,{children:"Телефон"}),n.jsx(_e,{children:"Позиция"}),n.jsx(_e,{children:"Департамент"}),n.jsx(_e,{children:"Роли"}),n.jsx(_e,{children:"Статус"}),n.jsx(_e,{children:"Действия"})]})}),n.jsx(Br,{children:i?n.jsx(gt,{children:n.jsx(Ne,{colSpan:9,className:"text-center py-8",children:"Загрузка..."})}):t.length===0?n.jsx(gt,{children:n.jsx(Ne,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"Пользователи не найдены"})}):t.map(ge=>n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsx(Er,{checked:j.includes(ge.id),onCheckedChange:it=>oe(ge.id,it)})}),n.jsx(Ne,{className:"font-medium",children:ge.full_name}),n.jsx(Ne,{children:ge.email}),n.jsx(Ne,{children:ge.phone||"-"}),n.jsx(Ne,{children:ge.position?n.jsx(je,{variant:"outline",children:ge.position.title}):n.jsx("span",{className:"text-muted-foreground",children:"Не назначена"})}),n.jsx(Ne,{children:ge.department?n.jsx(je,{variant:"outline",children:ge.department.name}):n.jsx("span",{className:"text-muted-foreground",children:"Не назначен"})}),n.jsx(Ne,{children:n.jsx("div",{className:"flex flex-wrap gap-1",children:ge.roles&&ge.roles.length>0?ge.roles.map(it=>n.jsx(je,{variant:"secondary",children:it.name},it.id)):n.jsx(je,{variant:"outline",className:"text-muted-foreground",children:"Роли не назначены"})})}),n.jsx(Ne,{children:n.jsx(je,{variant:ge.is_active?"default":"secondary",children:ge.is_active?"Активен":"Неактивен"})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>bt(ge),children:n.jsx(cn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Fe(ge.id,""),children:n.jsx(Kr,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>at(ge),title:"Управление статьями расходов",children:n.jsx(yt,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Lt(ge),title:"Управление позицией",children:n.jsx(Pa,{className:"h-4 w-4"})})]})})]},ge.id))})]})})]}),n.jsx(Ut,{open:N,onOpenChange:S,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Редактирование пользователя"}),n.jsx(Wt,{children:"Измените данные пользователя"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:"Полное имя"}),n.jsx(Ie,{id:"edit-name",value:I.full_name,onChange:ge=>B(it=>({...it,full_name:ge.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-email",children:"Email"}),n.jsx(Ie,{id:"edit-email",type:"email",value:I.email,onChange:ge=>B(it=>({...it,email:ge.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-phone",children:"Телефон"}),n.jsx(Ie,{id:"edit-phone",value:I.phone,onChange:ge=>B(it=>({...it,phone:ge.target.value}))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:"edit-active",checked:I.is_active,onCheckedChange:ge=>B(it=>({...it,is_active:ge}))}),n.jsx(ae,{htmlFor:"edit-active",children:"Активен"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>S(!1),children:"Отмена"}),n.jsx(X,{onClick:te,children:"Сохранить"})]})]})]})}),n.jsx(Ut,{open:q,onOpenChange:G,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Управление статьями расходов"}),n.jsxs(Wt,{children:["Назначение пользователя ",V?.full_name," к статьям расходов с ролями"]})]}),n.jsx("div",{className:"space-y-4",children:V&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(yt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Функция управления статьями расходов для пользователя"}),n.jsx("p",{className:"text-sm",children:"будет реализована в следующих версиях"}),n.jsx("div",{className:"mt-4",children:n.jsx(X,{variant:"outline",onClick:()=>G(!1),children:"Закрыть"})})]})})]})}),n.jsx(Ut,{open:W,onOpenChange:H,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Назначение позиции"}),n.jsxs(Wt,{children:['Назначьте позицию и департамент для пользователя "',L?.full_name,'"']})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-select",children:"Позиция"}),n.jsxs(et,{value:ee.position_id,onValueChange:Zr,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите позицию"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"none",children:"Без позиции"}),$.map(ge=>n.jsxs(xe,{value:ge.id,children:[ge.title," ",ge.department?`(${ge.department.name})`:""]},ge.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"department-select",children:"Департамент"}),n.jsxs(et,{value:ee.department_id,onValueChange:ge=>ce(it=>({...it,department_id:ge})),disabled:!0,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Автоматически привязан к позиции"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"none",children:"Без департамента"}),k.map(ge=>n.jsxs(xe,{value:ge.id,children:[ge.name," (",ge.code,")"]},ge.id))]})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Департамент автоматически привязывается к выбранной позиции"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>H(!1),children:"Отмена"}),n.jsx(X,{onClick:Jr,children:"Назначить"})]})]})]})})]})}function Bme({onBack:e}){const[t,r]=x.useState([]),[a,s]=x.useState(null),[i,l]=x.useState({}),[u,d]=x.useState(!1),[f,h]=x.useState(""),[m,g]=x.useState([]),[j,w]=x.useState(!1),[b,v]=x.useState(!1),[N,S]=x.useState(null),[C,A]=x.useState({code:"",name:""}),[_,T]=x.useState({code:"",name:"",is_active:!0});x.useEffect(()=>{P(),O()},[]);const P=async()=>{d(!0);try{const k=await Rs.getRoles();r(k);const D={};for(const W of k)try{const H=await Rs.getRoleUsage(W.id);D[W.id]=H}catch(H){console.error(`Error loading usage for role ${W.id}:`,H)}l(D)}catch(k){console.error("Error loading roles:",k)}finally{d(!1)}},O=async()=>{try{const k=await Rs.getRoleStatistics();s(k)}catch(k){console.error("Error loading statistics:",k)}},I=t.filter(k=>k.name.toLowerCase().includes(f.toLowerCase())||k.code.toLowerCase().includes(f.toLowerCase())),B=(k,D)=>{g(D?W=>[...W,k]:W=>W.filter(H=>H!==k))},q=k=>{g(k?I.map(D=>D.id):[])},G=async()=>{try{await Rs.createRole(C),w(!1),A({code:"",name:""}),P()}catch(k){console.error("Error creating role:",k)}},V=k=>{S(k),T({code:k.code,name:k.name,is_active:k.is_active??!0}),v(!0)},Z=async()=>{if(N)try{await Rs.updateRole(N.id,_),v(!1),S(null),P()}catch(k){console.error("Error updating role:",k)}},$=async()=>{if(m.length!==0)try{for(const k of m)await Rs.deleteRole(k);g([]),P()}catch(k){console.error("Error deleting roles:",k)}},M=k=>{console.log("Manage permissions for role",k)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:"Управление ролями"}),n.jsx("p",{className:"text-muted-foreground",children:"Создание, редактирование и управление ролями системы"})]}),n.jsx(X,{onClick:e,variant:"outline",children:"Назад"})]}),a&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Всего ролей"}),n.jsx(_o,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(pe,{children:n.jsx("div",{className:"text-2xl font-bold",children:a.total_roles})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Активных ролей"}),n.jsx(LO,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(pe,{children:n.jsx("div",{className:"text-2xl font-bold",children:a.active_roles})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Наиболее используемая"}),n.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(pe,{children:n.jsx("div",{className:"text-sm font-medium",children:a.most_used_role||"Нет данных"})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Наименее используемая"}),n.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(pe,{children:n.jsx("div",{className:"text-sm font-medium",children:a.least_used_role||"Нет данных"})})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(xr,{className:"h-5 w-5"}),"Поиск ролей"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Ie,{placeholder:"Поиск по названию или коду роли...",value:f,onChange:k=>h(k.target.value)})}),n.jsxs(X,{onClick:P,children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Поиск"]})]})})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ut,{open:j,onOpenChange:w,children:[n.jsx(Fa,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(un,{className:"h-4 w-4 mr-2"}),"Создать роль"]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Создание роли"}),n.jsx(Wt,{children:"Заполните форму для создания новой роли"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-code",children:"Код роли"}),n.jsx(Ie,{id:"create-code",placeholder:"admin, user, etc.",value:C.code,onChange:k=>A(D=>({...D,code:k.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:"Название роли"}),n.jsx(Ie,{id:"create-name",placeholder:"Администратор, Пользователь, etc.",value:C.name,onChange:k=>A(D=>({...D,name:k.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>w(!1),children:"Отмена"}),n.jsx(X,{onClick:G,children:"Создать"})]})]})]})]}),m.length>0&&n.jsxs(X,{variant:"destructive",onClick:$,children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Удалить (",m.length,")"]})]})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(_o,{className:"h-5 w-5"}),"Роли (",I.length,")"]})}),n.jsx(pe,{children:n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{className:"w-12",children:n.jsx(Er,{checked:m.length===I.length&&I.length>0,onCheckedChange:q})}),n.jsx(_e,{children:"Код"}),n.jsx(_e,{children:"Название"}),n.jsx(_e,{children:"Статус"}),n.jsx(_e,{children:"Пользователей"}),n.jsx(_e,{children:"Последнее назначение"}),n.jsx(_e,{children:"Действия"})]})}),n.jsx(Br,{children:u?n.jsx(gt,{children:n.jsx(Ne,{colSpan:7,className:"text-center py-8",children:"Загрузка..."})}):I.length===0?n.jsx(gt,{children:n.jsx(Ne,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Роли не найдены"})}):I.map(k=>{const D=i[k.id];return n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsx(Er,{checked:m.includes(k.id),onCheckedChange:W=>B(k.id,W)})}),n.jsx(Ne,{className:"font-mono text-sm",children:k.code}),n.jsx(Ne,{className:"font-medium",children:k.name}),n.jsx(Ne,{children:n.jsx(je,{variant:k.is_active?"default":"secondary",children:k.is_active?"Активна":"Неактивна"})}),n.jsx(Ne,{children:D?D.user_count:"-"}),n.jsx(Ne,{children:D?.last_assigned?new Date(D.last_assigned).toLocaleDateString("ru-RU"):"-"}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>V(k),children:n.jsx(cn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>M(k.id),children:n.jsx(_o,{className:"h-4 w-4"})})]})})]},k.id)})})]})})]}),n.jsx(Ut,{open:b,onOpenChange:v,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Редактирование роли"}),n.jsx(Wt,{children:"Измените данные роли"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-code",children:"Код роли"}),n.jsx(Ie,{id:"edit-code",value:_.code,onChange:k=>T(D=>({...D,code:k.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:"Название роли"}),n.jsx(Ie,{id:"edit-name",value:_.name,onChange:k=>T(D=>({...D,name:k.target.value}))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:"edit-active",checked:_.is_active,onCheckedChange:k=>T(D=>({...D,is_active:k}))}),n.jsx(ae,{htmlFor:"edit-active",children:"Активна"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>v(!1),children:"Отмена"}),n.jsx(X,{onClick:Z,children:"Сохранить"})]})]})]})})]})}function zme({onBack:e}){const[t,r]=x.useState(null),[a,s]=x.useState([]),[i,l]=x.useState(!1),[u,d]=x.useState(null);x.useEffect(()=>{f()},[]);const f=async()=>{l(!0);try{const[b,v]=await Promise.all([fr.getSystemStatistics(),fr.getActivityLog(20)]);r(b),s(v),d(new Date)}catch(b){console.error("Error loading system data:",b)}finally{l(!1)}},h=b=>{switch(b){case"healthy":return n.jsx(pt,{className:"h-5 w-5 text-green-500"});case"warning":return n.jsx(Jt,{className:"h-5 w-5 text-yellow-500"});case"error":return n.jsx(Fs,{className:"h-5 w-5 text-red-500"});default:return n.jsx(Ll,{className:"h-5 w-5 text-gray-500"})}},m=b=>{switch(b){case"healthy":return n.jsx(je,{className:"bg-green-100 text-green-800",children:"Здорово"});case"warning":return n.jsx(je,{className:"bg-yellow-100 text-yellow-800",children:"Предупреждение"});case"error":return n.jsx(je,{className:"bg-red-100 text-red-800",children:"Ошибка"});default:return n.jsx(je,{variant:"secondary",children:"Неизвестно"})}},g=b=>new Date(b).toLocaleString("ru-RU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=b=>{switch(b){case"user_created":return n.jsx(Kr,{className:"h-4 w-4 text-blue-500"});case"role_assigned":return n.jsx(_o,{className:"h-4 w-4 text-purple-500"});case"request_created":return n.jsx(yt,{className:"h-4 w-4 text-green-500"});default:return n.jsx(Ll,{className:"h-4 w-4 text-gray-500"})}},w=b=>{switch(b){case"user_created":return"Создан пользователь";case"role_assigned":return"Назначена роль";case"request_created":return"Создан запрос";default:return b}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:"Статистика системы"}),n.jsx("p",{className:"text-muted-foreground",children:"Обзор состояния системы и активности"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Обновлено: ",u.toLocaleTimeString("ru-RU")]}),n.jsxs(X,{onClick:f,disabled:i,variant:"outline",children:[n.jsx(yn,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Обновить"]}),n.jsx(X,{onClick:e,variant:"outline",children:"Назад"})]})]}),t&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Всего пользователей"}),n.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.total_users}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Активных: ",t.active_users]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Ролей в системе"}),n.jsx(_o,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.total_roles}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Управление доступом"})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Запросов"}),n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.total_requests}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Платежных запросов"})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Состояние системы"}),h(t.system_health)]}),n.jsxs(pe,{children:[n.jsx("div",{className:"flex items-center space-x-2",children:m(t.system_health)}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Статус работы"})]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ll,{className:"h-5 w-5"}),"Последняя активность"]}),n.jsx(sr,{children:"Список последних действий в системе"})]}),n.jsx(pe,{children:i?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(yn,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:"Загрузка активности..."})]}):a.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Нет данных об активности"}):n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{children:"Действие"}),n.jsx(_e,{children:"Пользователь"}),n.jsx(_e,{children:"Ресурс"}),n.jsx(_e,{children:"Время"}),n.jsx(_e,{children:"Детали"})]})}),n.jsx(Br,{children:a.map(b=>n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[j(b.action),n.jsx("span",{className:"font-medium",children:w(b.action)})]})}),n.jsx(Ne,{className:"font-medium",children:b.user_name}),n.jsx(Ne,{children:n.jsx(je,{variant:"outline",children:b.resource})}),n.jsx(Ne,{className:"text-sm text-muted-foreground",children:g(b.timestamp)}),n.jsx(Ne,{children:b.details&&Object.keys(b.details).length>0?n.jsx("div",{className:"text-sm",children:Object.entries(b.details).map(([v,N])=>n.jsxs("div",{className:"text-muted-foreground",children:[v,": ",String(N)]},v))}):n.jsx("span",{className:"text-muted-foreground",children:"-"})})]},b.id))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:"Использование ролей"}),n.jsx(sr,{children:"Статистика использования ролей в системе"})]}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Активных пользователей"}),n.jsx(je,{variant:"outline",children:t?.active_users||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Всего ролей"}),n.jsx(je,{variant:"outline",children:t?.total_roles||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Среднее ролей на пользователя"}),n.jsx(je,{variant:"outline",children:t&&t.active_users>0?(t.total_roles/t.active_users).toFixed(1):"0"})]})]})})]}),n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:"Производительность"}),n.jsx(sr,{children:"Показатели производительности системы"})]}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Время отклика API"}),n.jsx(je,{className:"bg-green-100 text-green-800",children:"~50ms"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Доступность"}),n.jsx(je,{className:"bg-green-100 text-green-800",children:"99.9%"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Загрузка базы данных"}),n.jsx(je,{className:"bg-yellow-100 text-yellow-800",children:"Средняя"})]})]})})]})]})]})}function qme({onBack:e}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState(!1),[m,g]=x.useState({page:1,limit:20}),[j,w]=x.useState([]),[b,v]=x.useState(!1),[N,S]=x.useState(!1),[C,A]=x.useState(null),[_,T]=x.useState({user_id:"",role_id:"",expense_article_id:"",valid_from:new Date().toISOString().split("T")[0]}),[P,O]=x.useState({valid_from:"",valid_to:"",is_active:!0}),[I,B]=x.useState("assignments"),[q,G]=x.useState(!1),[V,Z]=x.useState({user_ids:[],role_id:"",expense_article_ids:[],valid_from:new Date().toISOString().split("T")[0]}),[$,M]=x.useState([]),[k,D]=x.useState([]);x.useEffect(()=>{W(),H(),z(),F()},[]),x.useEffect(()=>{I==="assignments"?W():I==="by-user"?L():I==="by-article"&&Y()},[m,I]);const W=async()=>{h(!0);try{const te=await pa.getAssignments(m);r(te)}catch(te){console.error("Error loading assignments:",te)}finally{h(!1)}},H=async()=>{try{const te=await fr.searchUsers({limit:1e3});s(te)}catch(te){console.error("Error loading users:",te)}},z=async()=>{try{const te=await Rs.getRoles();l(te)}catch(te){console.error("Error loading roles:",te)}},F=async()=>{try{const se=await Ps.getInstance().getItems("expense-articles",{limit:1e3});d(se)}catch(te){console.error("Error loading expense articles:",te)}},L=async()=>{h(!0);try{const te=await pa.getAssignmentsByUser(m.user_id||"");M(te)}catch(te){console.error("Error loading user assignments:",te)}finally{h(!1)}},Y=async()=>{h(!0);try{const te=await pa.getAssignmentsByExpenseArticle(m.expense_article_id||"");D(te)}catch(te){console.error("Error loading article assignments:",te)}finally{h(!1)}},ee=te=>{g(se=>({...se,user_id:te==="all"?void 0:te,page:1}))},ce=te=>{g(se=>({...se,role_id:te==="all"?void 0:te,page:1}))},K=te=>{g(se=>({...se,expense_article_id:te==="all"?void 0:te,page:1}))},fe=te=>{g(se=>({...se,is_active:te==="all"?void 0:te==="active",page:1}))},le=(te,se)=>{w(se?Fe=>[...Fe,te]:Fe=>Fe.filter(at=>at!==te))},Ee=te=>{w(te?t.map(se=>se.id):[])},De=async()=>{try{await pa.createAssignment(_),v(!1),T({user_id:"",role_id:"",expense_article_id:"",valid_from:new Date().toISOString().split("T")[0]}),W()}catch(te){console.error("Error creating assignment:",te)}},re=te=>{A(te),O({valid_from:te.valid_from.split("T")[0],valid_to:te.valid_to?te.valid_to.split("T")[0]:"",is_active:te.is_active}),S(!0)},$e=async()=>{if(C)try{await pa.updateAssignment(C.id,P),S(!1),A(null),W()}catch(te){console.error("Error updating assignment:",te)}},oe=async()=>{if(j.length!==0)try{await pa.bulkDeleteAssignments(j),w([]),W()}catch(te){console.error("Error deleting assignments:",te)}},Ce=async()=>{try{const te=V.user_ids.flatMap(se=>V.expense_article_ids.map(Fe=>pa.assignUserToExpenseArticle(se,Fe,V.role_id)));await Promise.all(te),G(!1),Z({user_ids:[],role_id:"",expense_article_ids:[],valid_from:new Date().toISOString().split("T")[0]}),W()}catch(te){console.error("Error creating bulk assignments:",te)}},Ue=(te,se)=>{Z(se?Fe=>({...Fe,user_ids:[...Fe.user_ids,te]}):Fe=>({...Fe,user_ids:Fe.user_ids.filter(at=>at!==te)}))},ot=(te,se)=>{Z(se?Fe=>({...Fe,expense_article_ids:[...Fe.expense_article_ids,te]}):Fe=>({...Fe,expense_article_ids:Fe.expense_article_ids.filter(at=>at!==te)}))},bt=(te,se)=>te?se&&new Date(se)<new Date?n.jsx(je,{variant:"secondary",children:"Истекло"}):n.jsx(je,{variant:"default",className:"bg-green-100 text-green-800",children:"Активно"}):n.jsx(je,{variant:"destructive",children:"Неактивно"});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:"Назначения статей расходов"}),n.jsx("p",{className:"text-muted-foreground",children:"Управление назначениями пользователей к статьям расходов с ролями"})]}),n.jsx(X,{onClick:e,variant:"outline",children:"Назад"})]}),n.jsxs(Dc,{value:I,onValueChange:te=>B(te),children:[n.jsxs(Mc,{children:[n.jsx(wn,{value:"assignments",children:"Все назначения"}),n.jsx(wn,{value:"by-user",children:"По пользователям"}),n.jsx(wn,{value:"by-article",children:"По статьям"})]}),n.jsxs(Nn,{value:"assignments",className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(xr,{className:"h-5 w-5"}),"Поиск и фильтрация"]})}),n.jsx(pe,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"user-filter",children:"Пользователь"}),n.jsxs(et,{value:m.user_id||"all",onValueChange:ee,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите пользователя"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все пользователи"}),a.map(te=>n.jsx(xe,{value:te.id,children:te.full_name},te.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"role-filter",children:"Роль"}),n.jsxs(et,{value:m.role_id||"all",onValueChange:ce,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите роль"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все роли"}),i.map(te=>n.jsx(xe,{value:te.id,children:te.name},te.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"article-filter",children:"Статья расходов"}),n.jsxs(et,{value:m.expense_article_id||"all",onValueChange:K,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите статью"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все статьи"}),u.map(te=>n.jsx(xe,{value:te.id,children:te.name},te.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status-filter",children:"Статус"}),n.jsxs(et,{value:m.is_active===void 0?"all":m.is_active?"active":"inactive",onValueChange:fe,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите статус"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все"}),n.jsx(xe,{value:"active",children:"Активные"}),n.jsx(xe,{value:"inactive",children:"Неактивные"})]})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs(X,{onClick:W,className:"w-full",children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Поиск"]})})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ut,{open:b,onOpenChange:v,children:[n.jsx(Fa,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(un,{className:"h-4 w-4 mr-2"}),"Создать назначение"]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Создание назначения"}),n.jsx(Wt,{children:"Назначьте пользователя к статье расходов с определенной ролью"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-user",children:"Пользователь"}),n.jsxs(et,{value:_.user_id,onValueChange:te=>T(se=>({...se,user_id:te})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите пользователя"})}),n.jsx(nt,{children:a.map(te=>n.jsxs(xe,{value:te.id,children:[te.full_name," (",te.email,")"]},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-role",children:"Роль"}),n.jsxs(et,{value:_.role_id,onValueChange:te=>T(se=>({...se,role_id:te})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите роль"})}),n.jsx(nt,{children:i.map(te=>n.jsxs(xe,{value:te.id,children:[te.name," (",te.code,")"]},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-article",children:"Статья расходов"}),n.jsxs(et,{value:_.expense_article_id,onValueChange:te=>T(se=>({...se,expense_article_id:te})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите статью"})}),n.jsx(nt,{children:u.map(te=>n.jsxs(xe,{value:te.id,children:[te.name," (",te.code,")"]},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-valid-from",children:"Действует с"}),n.jsx(Ie,{id:"create-valid-from",type:"date",value:_.valid_from,onChange:te=>T(se=>({...se,valid_from:te.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-valid-to",children:"Действует до (необязательно)"}),n.jsx(Ie,{id:"create-valid-to",type:"date",value:_.valid_to||"",onChange:te=>T(se=>({...se,valid_to:te.target.value||void 0}))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>v(!1),children:"Отмена"}),n.jsx(X,{onClick:De,children:"Создать"})]})]})]})]}),n.jsxs(Ut,{open:q,onOpenChange:G,children:[n.jsx(Fa,{asChild:!0,children:n.jsxs(X,{variant:"outline",children:[n.jsx(Kr,{className:"h-4 w-4 mr-2"}),"Массовое назначение"]})}),n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Массовое назначение пользователей к статьям расходов"}),n.jsx(Wt,{children:"Выберите пользователей, статьи расходов и роль для массового назначения"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Роль"}),n.jsxs(et,{value:V.role_id,onValueChange:te=>Z(se=>({...se,role_id:te})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите роль"})}),n.jsx(nt,{children:i.map(te=>n.jsxs(xe,{value:te.id,children:[te.name," (",te.code,")"]},te.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Пользователи"}),n.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md p-2 space-y-2",children:a.map(te=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:`user-${te.id}`,checked:V.user_ids.includes(te.id),onCheckedChange:se=>Ue(te.id,se)}),n.jsxs(ae,{htmlFor:`user-${te.id}`,className:"text-sm",children:[te.full_name," (",te.email,")"]})]},te.id))})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Статьи расходов"}),n.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md p-2 space-y-2",children:u.map(te=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:`article-${te.id}`,checked:V.expense_article_ids.includes(te.id),onCheckedChange:se=>ot(te.id,se)}),n.jsxs(ae,{htmlFor:`article-${te.id}`,className:"text-sm",children:[te.name," (",te.code,")"]})]},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"bulk-valid-from",children:"Действует с"}),n.jsx(Ie,{id:"bulk-valid-from",type:"date",value:V.valid_from,onChange:te=>Z(se=>({...se,valid_from:te.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>G(!1),children:"Отмена"}),n.jsxs(X,{onClick:Ce,disabled:V.user_ids.length===0||V.expense_article_ids.length===0||!V.role_id,children:["Создать назначения (",V.user_ids.length*V.expense_article_ids.length,")"]})]})]})]})]}),j.length>0&&n.jsxs(X,{variant:"destructive",onClick:oe,children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Удалить (",j.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:W,children:[n.jsx(yn,{className:"h-4 w-4 mr-2"}),"Обновить"]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Экспорт"]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Ao,{className:"h-4 w-4 mr-2"}),"Импорт"]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"Назначения (",t.length,")"]})}),n.jsx(pe,{children:n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{className:"w-12",children:n.jsx(Er,{checked:j.length===t.length&&t.length>0,onCheckedChange:Ee})}),n.jsx(_e,{children:"Пользователь"}),n.jsx(_e,{children:"Роль"}),n.jsx(_e,{children:"Статья расходов"}),n.jsx(_e,{children:"Действует с"}),n.jsx(_e,{children:"Действует до"}),n.jsx(_e,{children:"Статус"}),n.jsx(_e,{children:"Действия"})]})}),n.jsx(Br,{children:f?n.jsx(gt,{children:n.jsx(Ne,{colSpan:8,className:"text-center py-8",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(yn,{className:"h-4 w-4 mr-2 animate-spin"}),"Загрузка..."]})})}):t.length===0?n.jsx(gt,{children:n.jsx(Ne,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Назначения не найдены"})}):t.map(te=>n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsx(Er,{checked:j.includes(te.id),onCheckedChange:se=>le(te.id,se)})}),n.jsx(Ne,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:te.user_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:te.user_email})]})}),n.jsx(Ne,{children:n.jsxs(je,{variant:"outline",children:[te.role_name," (",te.role_code,")"]})}),n.jsx(Ne,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:te.expense_article_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:te.expense_article_code})]})}),n.jsx(Ne,{children:new Date(te.valid_from).toLocaleDateString("ru-RU")}),n.jsx(Ne,{children:te.valid_to?new Date(te.valid_to).toLocaleDateString("ru-RU"):"-"}),n.jsx(Ne,{children:bt(te.is_active,te.valid_to)}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>re(te),children:n.jsx(cn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>oe(),children:n.jsx(Cr,{className:"h-4 w-4"})})]})})]},te.id))})]})})]})]}),n.jsx(Nn,{value:"by-user",className:"space-y-6",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"}),"Назначения по пользователям"]}),n.jsx(sr,{children:"Просмотр всех назначений, сгруппированных по пользователям"})]}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"user-select",children:"Выберите пользователя"}),n.jsxs(et,{value:m.user_id||"all",onValueChange:ee,children:[n.jsx(rt,{className:"w-64",children:n.jsx(tt,{placeholder:"Выберите пользователя"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все пользователи"}),a.map(te=>n.jsxs(xe,{value:te.id,children:[te.full_name," (",te.email,")"]},te.id))]})]})]}),n.jsxs(X,{onClick:L,disabled:f,children:[n.jsx(yn,{className:`h-4 w-4 mr-2 ${f?"animate-spin":""}`}),"Обновить"]})]}),f?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(yn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Загрузка назначений..."})]}):$.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Kr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Назначения не найдены"})]}):n.jsx("div",{className:"space-y-4",children:$.map(te=>n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"}),te.user_name]}),n.jsxs(sr,{children:[te.user_email," • ",te.assignments.length," назначений"]})]}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-2",children:te.assignments.map(se=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(je,{variant:"outline",children:se.role_name}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:se.expense_article_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:se.expense_article_code})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(se.valid_from).toLocaleDateString("ru-RU"),se.valid_to&&` - ${new Date(se.valid_to).toLocaleDateString("ru-RU")}`]}),bt(se.is_active,se.valid_to),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>re(se),children:n.jsx(cn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>oe(),children:n.jsx(Cr,{className:"h-4 w-4"})})]})]})]},se.id))})})]},te.user_id))})]})})]})}),n.jsx(Nn,{value:"by-article",className:"space-y-6",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"Назначения по статьям расходов"]}),n.jsx(sr,{children:"Просмотр всех назначений, сгруппированных по статьям расходов"})]}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"article-select",children:"Выберите статью расходов"}),n.jsxs(et,{value:m.expense_article_id||"all",onValueChange:K,children:[n.jsx(rt,{className:"w-64",children:n.jsx(tt,{placeholder:"Выберите статью"})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:"Все статьи"}),u.map(te=>n.jsxs(xe,{value:te.id,children:[te.name," (",te.code,")"]},te.id))]})]})]}),n.jsxs(X,{onClick:Y,disabled:f,children:[n.jsx(yn,{className:`h-4 w-4 mr-2 ${f?"animate-spin":""}`}),"Обновить"]})]}),f?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(yn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Загрузка назначений..."})]}):k.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(yt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Назначения не найдены"})]}):n.jsx("div",{className:"space-y-4",children:k.map(te=>n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),te.expense_article_name]}),n.jsxs(sr,{children:[te.expense_article_code," • ",te.assignments.length," назначений"]})]}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-2",children:te.assignments.map(se=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:se.user_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:se.user_email})]}),n.jsx(je,{variant:"outline",children:se.role_name})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(se.valid_from).toLocaleDateString("ru-RU"),se.valid_to&&` - ${new Date(se.valid_to).toLocaleDateString("ru-RU")}`]}),bt(se.is_active,se.valid_to),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>re(se),children:n.jsx(cn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>oe(),children:n.jsx(Cr,{className:"h-4 w-4"})})]})]})]},se.id))})})]},te.expense_article_id))})]})})]})})]}),n.jsx(Ut,{open:N,onOpenChange:S,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Редактирование назначения"}),n.jsx(Wt,{children:"Измените параметры назначения"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-valid-from",children:"Действует с"}),n.jsx(Ie,{id:"edit-valid-from",type:"date",value:P.valid_from||"",onChange:te=>O(se=>({...se,valid_from:te.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-valid-to",children:"Действует до (необязательно)"}),n.jsx(Ie,{id:"edit-valid-to",type:"date",value:P.valid_to||"",onChange:te=>O(se=>({...se,valid_to:te.target.value||void 0}))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:"edit-is-active",checked:P.is_active,onCheckedChange:te=>O(se=>({...se,is_active:te}))}),n.jsx(ae,{htmlFor:"edit-is-active",children:"Активно"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>S(!1),children:"Отмена"}),n.jsx(X,{onClick:$e,children:"Сохранить"})]})]})]})})]})}function Wme({onBack:e}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState([]),[u,d]=x.useState(!1),[f,h]=x.useState(""),[m,g]=x.useState([]),[j,w]=x.useState([]),[b,v]=x.useState(!1),[N,S]=x.useState(!1),[C,A]=x.useState(!1),[_,T]=x.useState(!1),[P,O]=x.useState(!1),[I,B]=x.useState(null),[q,G]=x.useState(null),[V,Z]=x.useState(null),[$,M]=x.useState("positions"),[k,D]=x.useState({name:"",code:"",department_id:""}),[W,H]=x.useState({name:"",code:""});x.useEffect(()=>{z(),F(),L()},[]);const z=async()=>{d(!0);try{const se=await fr.getPositions(),Fe=await Promise.all(se.map(async at=>{try{const Lt=await fr.getPositionUsers(at.id);return{...at,name:at.title,code:at.title,userCount:Lt.length}}catch(Lt){return console.warn(`Error loading users for position ${at.id}:`,Lt),{...at,name:at.title,code:at.title,userCount:0}}}));r(Fe)}catch(se){console.error("Error loading positions:",se)}finally{d(!1)}},F=async()=>{try{const se=await fr.getDepartments(),Fe=await Promise.all(se.map(async at=>{try{const Zr=(await fr.getPositions()).filter(ge=>ge.department_id===at.id);let Jr=0;for(const ge of Zr)try{const it=await fr.getPositionUsers(ge.id);Jr+=it.length}catch(it){console.warn(`Error loading users for position ${ge.id}:`,it)}return{...at,positions:Zr.map(ge=>({...ge,name:ge.title,code:ge.title})),userCount:Jr}}catch(Lt){return console.warn(`Error loading positions for department ${at.id}:`,Lt),{...at,positions:[],userCount:0}}}));s(Fe)}catch(se){console.error("Error loading departments:",se)}},L=async()=>{try{const se=await fr.searchUsers({limit:1e3});l(se)}catch(se){console.error("Error loading users:",se)}},Y=se=>{h(se)},ee=(se,Fe)=>{g(Fe?at=>[...at,se]:at=>at.filter(Lt=>Lt!==se))},ce=se=>{g(se?t.map(Fe=>Fe.id):[])},K=(se,Fe)=>{w(Fe?at=>[...at,se]:at=>at.filter(Lt=>Lt!==se))},fe=se=>{w(se?a.map(Fe=>Fe.id):[])},le=async()=>{try{await fr.createPosition({department_id:k.department_id,title:k.name,description:k.code,is_active:!0}),v(!1),D({name:"",code:"",department_id:""}),z()}catch(se){console.error("Error creating position:",se)}},Ee=async()=>{try{await fr.createDepartment({name:W.name,code:W.code}),S(!1),H({name:"",code:""}),F()}catch(se){console.error("Error creating department:",se)}},De=se=>{B(se),D({name:se.name,code:se.code,department_id:se.department_id}),A(!0)},re=se=>{G(se),H({name:se.name,code:se.code}),T(!0)},$e=async()=>{if(I)try{await fr.updatePosition(I.id,{department_id:k.department_id,title:k.name,description:k.code,is_active:!0}),A(!1),B(null),z()}catch(se){console.error("Error updating position:",se)}},oe=async()=>{if(q)try{await fr.updateDepartment(q.id,{name:W.name,code:W.code}),T(!1),G(null),F()}catch(se){console.error("Error updating department:",se)}},Ce=async()=>{if(m.length!==0)try{await Promise.all(m.map(se=>fr.deletePosition(se))),g([]),z()}catch(se){console.error("Error deleting positions:",se)}},Ue=async()=>{if(j.length!==0)try{await Promise.all(j.map(se=>fr.deleteDepartment(se))),w([]),F()}catch(se){console.error("Error deleting departments:",se)}},ot=se=>{Z(se),O(!0)},bt=t.filter(se=>se.name.toLowerCase().includes(f.toLowerCase())||se.code.toLowerCase().includes(f.toLowerCase())||se.department?.name.toLowerCase().includes(f.toLowerCase())),te=a.filter(se=>se.name.toLowerCase().includes(f.toLowerCase())||se.code.toLowerCase().includes(f.toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:"Управление позициями и департаментами"}),n.jsx("p",{className:"text-muted-foreground",children:"Управление организационной структурой и назначениями пользователей"})]}),n.jsx(X,{onClick:e,variant:"outline",children:"Назад"})]}),n.jsxs(Dc,{value:$,onValueChange:se=>M(se),children:[n.jsxs(Mc,{children:[n.jsx(wn,{value:"positions",children:"Позиции"}),n.jsx(wn,{value:"departments",children:"Департаменты"}),n.jsx(wn,{value:"assignments",children:"Назначения"})]}),n.jsxs(Nn,{value:"positions",className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(xr,{className:"h-5 w-5"}),"Поиск позиций"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Ie,{placeholder:"Поиск по названию, коду или департаменту...",value:f,onChange:se=>Y(se.target.value),className:"flex-1"}),n.jsxs(X,{onClick:z,disabled:u,children:[n.jsx(yn,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),"Обновить"]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ut,{open:b,onOpenChange:v,children:[n.jsx(Fa,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(un,{className:"h-4 w-4 mr-2"}),"Создать позицию"]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Создание позиции"}),n.jsx(Wt,{children:"Создайте новую позицию в организационной структуре"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-name",children:"Название позиции"}),n.jsx(Ie,{id:"position-name",value:k.name,onChange:se=>D(Fe=>({...Fe,name:se.target.value})),placeholder:"Введите название позиции"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-code",children:"Код позиции"}),n.jsx(Ie,{id:"position-code",value:k.code,onChange:se=>D(Fe=>({...Fe,code:se.target.value})),placeholder:"Введите код позиции"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-department",children:"Департамент"}),n.jsxs(et,{value:k.department_id,onValueChange:se=>D(Fe=>({...Fe,department_id:se})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите департамент"})}),n.jsx(nt,{children:a.map(se=>n.jsxs(xe,{value:se.id,children:[se.name," (",se.code,")"]},se.id))})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>v(!1),children:"Отмена"}),n.jsx(X,{onClick:le,children:"Создать"})]})]})]})]}),m.length>0&&n.jsxs(X,{variant:"destructive",onClick:Ce,children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Удалить (",m.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Экспорт"]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Ao,{className:"h-4 w-4 mr-2"}),"Импорт"]})]})]}),n.jsx(me,{children:n.jsx(pe,{className:"p-0",children:n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{className:"w-12",children:n.jsx(Er,{checked:m.length===bt.length&&bt.length>0,onCheckedChange:ce})}),n.jsx(_e,{children:"Название"}),n.jsx(_e,{children:"Код"}),n.jsx(_e,{children:"Департамент"}),n.jsx(_e,{children:"Пользователи"}),n.jsx(_e,{children:"Действия"})]})}),n.jsx(Br,{children:u?n.jsx(gt,{children:n.jsxs(Ne,{colSpan:6,className:"text-center py-8",children:[n.jsx(yn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Загрузка позиций..."})]})}):bt.length===0?n.jsx(gt,{children:n.jsxs(Ne,{colSpan:6,className:"text-center py-8",children:[n.jsx(Pa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"text-muted-foreground",children:"Позиции не найдены"})]})}):bt.map(se=>n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsx(Er,{checked:m.includes(se.id),onCheckedChange:Fe=>ee(se.id,Fe)})}),n.jsx(Ne,{className:"font-medium",children:se.name}),n.jsx(Ne,{className:"font-mono",children:se.code}),n.jsx(Ne,{children:n.jsxs(je,{variant:"outline",children:[se.department?.name," (",se.department?.code,")"]})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4"}),se.userCount||0]})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ot(se),title:"Управление пользователями",children:n.jsx($u,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>De(se),children:n.jsx(cn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Ce(),children:n.jsx(Cr,{className:"h-4 w-4"})})]})})]},se.id))})]})})})]}),n.jsxs(Nn,{value:"departments",className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(xr,{className:"h-5 w-5"}),"Поиск департаментов"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Ie,{placeholder:"Поиск по названию или коду...",value:f,onChange:se=>Y(se.target.value),className:"flex-1"}),n.jsxs(X,{onClick:F,disabled:u,children:[n.jsx(yn,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),"Обновить"]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ut,{open:N,onOpenChange:S,children:[n.jsx(Fa,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(un,{className:"h-4 w-4 mr-2"}),"Создать департамент"]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Создание департамента"}),n.jsx(Wt,{children:"Создайте новый департамент в организационной структуре"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"department-name",children:"Название департамента"}),n.jsx(Ie,{id:"department-name",value:W.name,onChange:se=>H(Fe=>({...Fe,name:se.target.value})),placeholder:"Введите название департамента"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"department-code",children:"Код департамента"}),n.jsx(Ie,{id:"department-code",value:W.code,onChange:se=>H(Fe=>({...Fe,code:se.target.value})),placeholder:"Введите код департамента"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>S(!1),children:"Отмена"}),n.jsx(X,{onClick:Ee,children:"Создать"})]})]})]})]}),j.length>0&&n.jsxs(X,{variant:"destructive",onClick:Ue,children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Удалить (",j.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Экспорт"]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Ao,{className:"h-4 w-4 mr-2"}),"Импорт"]})]})]}),n.jsx(me,{children:n.jsx(pe,{className:"p-0",children:n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(_e,{className:"w-12",children:n.jsx(Er,{checked:j.length===te.length&&te.length>0,onCheckedChange:fe})}),n.jsx(_e,{children:"Название"}),n.jsx(_e,{children:"Код"}),n.jsx(_e,{children:"Позиции"}),n.jsx(_e,{children:"Пользователи"}),n.jsx(_e,{children:"Действия"})]})}),n.jsx(Br,{children:u?n.jsx(gt,{children:n.jsxs(Ne,{colSpan:6,className:"text-center py-8",children:[n.jsx(yn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Загрузка департаментов..."})]})}):te.length===0?n.jsx(gt,{children:n.jsxs(Ne,{colSpan:6,className:"text-center py-8",children:[n.jsx(Pa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"text-muted-foreground",children:"Департаменты не найдены"})]})}):te.map(se=>n.jsxs(gt,{children:[n.jsx(Ne,{children:n.jsx(Er,{checked:j.includes(se.id),onCheckedChange:Fe=>K(se.id,Fe)})}),n.jsx(Ne,{className:"font-medium",children:se.name}),n.jsx(Ne,{className:"font-mono",children:se.code}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"h-4 w-4"}),se.positions?.length||0]})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4"}),se.userCount||0]})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>re(se),children:n.jsx(cn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Ue(),children:n.jsx(Cr,{className:"h-4 w-4"})})]})})]},se.id))})]})})})]}),n.jsx(Nn,{value:"assignments",className:"space-y-6",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx($u,{className:"h-5 w-5"}),"Назначения пользователей"]}),n.jsx(sr,{children:"Управление назначениями пользователей на позиции"})]}),n.jsx(pe,{children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx($u,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Функция назначений будет реализована в следующих версиях"})]})})]})})]}),n.jsx(Ut,{open:C,onOpenChange:A,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Редактирование позиции"}),n.jsx(Wt,{children:"Измените параметры позиции"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-position-name",children:"Название позиции"}),n.jsx(Ie,{id:"edit-position-name",value:k.name,onChange:se=>D(Fe=>({...Fe,name:se.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-position-code",children:"Код позиции"}),n.jsx(Ie,{id:"edit-position-code",value:k.code,onChange:se=>D(Fe=>({...Fe,code:se.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-position-department",children:"Департамент"}),n.jsxs(et,{value:k.department_id,onValueChange:se=>D(Fe=>({...Fe,department_id:se})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"Выберите департамент"})}),n.jsx(nt,{children:a.map(se=>n.jsxs(xe,{value:se.id,children:[se.name," (",se.code,")"]},se.id))})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>A(!1),children:"Отмена"}),n.jsx(X,{onClick:$e,children:"Сохранить"})]})]})]})}),n.jsx(Ut,{open:_,onOpenChange:T,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Редактирование департамента"}),n.jsx(Wt,{children:"Измените параметры департамента"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-department-name",children:"Название департамента"}),n.jsx(Ie,{id:"edit-department-name",value:W.name,onChange:se=>H(Fe=>({...Fe,name:se.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-department-code",children:"Код департамента"}),n.jsx(Ie,{id:"edit-department-code",value:W.code,onChange:se=>H(Fe=>({...Fe,code:se.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>T(!1),children:"Отмена"}),n.jsx(X,{onClick:oe,children:"Сохранить"})]})]})]})}),n.jsx(Ut,{open:P,onOpenChange:O,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Назначения пользователей на позицию"}),n.jsxs(Wt,{children:['Управление назначениями для "',V?.name,'"']})]}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx($u,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Функция назначений пользователей будет реализована в следующих версиях"})]})}),n.jsx(Ml,{children:n.jsx(X,{variant:"outline",onClick:()=>O(!1),children:"Закрыть"})})]})})]})}const Or=({userRole:e,currentPage:t,children:r,fallback:a=n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Доступ запрещен"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"У вас нет прав для доступа к этой странице"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Обратитесь к администратору для получения необходимых прав доступа"})]})})=>{const{canAccessRoute:s}=eF(e);return s(t)?n.jsx(n.Fragment,{children:r}):n.jsx(n.Fragment,{children:a})},Vme=({onBack:e})=>n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"API Integration Test"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Test component for API integration"}),n.jsx(X,{onClick:e,children:"Назад"})]}),Hme=({onBack:e})=>n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Dictionary API Test"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Test component for dictionary API"}),n.jsx(X,{onClick:e,children:"Назад"})]}),Gme=({onBack:e})=>n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Integration Test"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Test component for integration testing"}),n.jsx(X,{onClick:e,children:"Назад"})]});function Kme(){const{state:e,dispatch:t}=qi();D7();const{handleCreateRequest:r,handleViewRequest:a,handleRequestUpdate:s}=M7(),{isAuthenticated:i,isLoading:l,user:u}=Ui();return l?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Загрузка..."})]})}):i?(()=>{try{if(e.showCreateForm){const f=e.selectedRequestId?e.paymentRequests.find(h=>h.id===e.selectedRequestId):void 0;return n.jsx(p5,{onSubmit:h=>{t(ye.addPaymentRequest(h)),t(ye.resetFormState()),t(ye.setCurrentPage("requests")),be.success(`Заявка ${h.requestNumber} успешно создана и отправлена на регистрацию`)},onCancel:()=>{t(ye.resetFormState())},onSaveDraft:dt.update,initialData:f,isEditing:!!f,selectedRequestId:e.selectedRequestId||void 0})}if(e.viewMode==="view"&&e.selectedRequestId)return n.jsx(ghe,{requestId:e.selectedRequestId,onCancel:()=>{t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null)),e.currentPage==="requests"&&t(ye.setCurrentPage("dashboard"))},onRequestUpdate:s});if(e.currentPage==="requests"&&e.viewMode==="classify"&&e.selectedRequestId){const f=e.paymentRequests.find(h=>h.id===e.selectedRequestId);if(f)return n.jsx(uO,{request:f,onSubmit:(h,m)=>{console.log("onSubmit called with expenseSplits:",h),t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null))},onReturn:dt.return,onCancel:()=>{t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null))}})}if(e.currentPage==="requests"&&e.viewMode==="classify-items"&&e.selectedRequestId){const f=e.paymentRequests.find(h=>h.id===e.selectedRequestId);if(f)return n.jsx(uO,{request:f,onSubmit:(h,m)=>{console.log("onSubmit called with expenseSplits:",h),t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null))},onReturn:dt.return,onCancel:()=>{t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null))}})}if(e.currentPage==="requests"&&e.viewMode==="approve"&&e.selectedRequestId){const f=e.paymentRequests.find(h=>h.id===e.selectedRequestId);if(f)return n.jsx(bme,{request:f,onApprove:dt.approve,onApproveOnBehalf:dt.approve,onReturn:dt.return,onDecline:dt.reject,onCancel:()=>{t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null))}})}if(e.currentPage==="registers"&&e.viewMode==="register")return n.jsx(Rme,{onBack:()=>t(ye.setViewMode("list")),onUpdateRequest:s});if(e.currentPage==="requests"&&e.viewMode==="treasurer-approve"&&e.selectedRequestId){const f=e.paymentRequests.find(h=>h.id===e.selectedRequestId);if(f)return n.jsx(Pme,{request:f,onUpdateStatus:dt.update,onCancel:()=>{t(ye.setViewMode("list")),t(ye.setSelectedRequestId(null))}})}switch(e.currentPage){case"dashboard":return P1(e.currentRole,"admin")?n.jsx(Or,{userRole:e.currentRole,currentPage:"admin",children:n.jsx($me,{onNavigate:f=>t(ye.setCurrentPage(f))})}):e.currentRole==="SUB_REGISTRAR"?n.jsx(Or,{userRole:e.currentRole,currentPage:"sub-registrar-assignments",children:n.jsx(fO,{currentUserId:u?.id||""})}):P1(e.currentRole,"distributor-workflow")?n.jsx(Or,{userRole:e.currentRole,currentPage:"distributor-workflow",children:n.jsx(jme,{currentRole:e.currentRole,paymentRequests:e.paymentRequests,onNavigate:f=>t(ye.setCurrentPage(f))})}):n.jsx(Or,{userRole:e.currentRole,currentPage:"dashboard",children:n.jsx(rO,{currentRole:e.currentRole,onFilterChange:f=>{t(ye.setDashboardFilter(f)),!(e.currentRole==="REGISTRAR"||e.currentRole==="DISTRIBUTOR")&&f&&e.currentRole!=="EXECUTOR"&&t(ye.setCurrentPage("requests"))},currentFilter:e.dashboardFilter,onViewRequest:a,onCreateRequest:r,paymentRequests:e.paymentRequests})});case"requests":return n.jsx(Or,{userRole:e.currentRole,currentPage:"requests",children:e.currentRole==="EXECUTOR"?n.jsx(xhe,{onCreateRequest:r,onViewRequest:a,onEditRequest:f=>{t(ye.setSelectedRequestId(f)),t(ye.setShowCreateForm(!0))}}):e.currentRole==="DISTRIBUTOR"?n.jsx(vme,{paymentRequests:e.paymentRequests}):e.currentRole==="SUB_REGISTRAR"?n.jsx(fO,{currentUserId:u?.id||""}):n.jsx(Lue,{currentRole:e.currentRole,onCreateRequest:r,onViewRequest:a,dashboardFilter:e.dashboardFilter,onClearFilter:()=>t(ye.setDashboardFilter(null)),paymentRequests:e.paymentRequests})});case"registers":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Реестры платежей"}),n.jsx("p",{className:"text-muted-foreground",children:"Управление реестрами для отправки в банк"})]}),n.jsx(X,{onClick:()=>t(ye.setViewMode("register")),children:"Открыть реестр платежей"})]}),n.jsxs("div",{className:"p-8 text-center text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx("p",{children:"Здесь будет список созданных реестров"}),n.jsx("p",{className:"text-sm mt-2",children:"Пока что доступно только создание нового реестра"})]})]});case"dictionaries":return n.jsx(Or,{userRole:e.currentRole,currentPage:"dictionaries",children:n.jsx(Lme,{onBack:()=>t(ye.setCurrentPage("dashboard"))})});case"admin":return n.jsx(Or,{userRole:e.currentRole,currentPage:"admin",children:n.jsx(Fme,{onBack:()=>t(ye.setCurrentPage("dashboard"))})});case"user-management":return n.jsx(Or,{userRole:e.currentRole,currentPage:"user-management",children:n.jsx(Ume,{onBack:()=>t(ye.setCurrentPage("dashboard"))})});case"role-management":return n.jsx(Or,{userRole:e.currentRole,currentPage:"role-management",children:n.jsx(Bme,{onBack:()=>t(ye.setCurrentPage("dashboard"))})});case"system-statistics":return n.jsx(Or,{userRole:e.currentRole,currentPage:"system-statistics",children:n.jsx(zme,{onBack:()=>t(ye.setCurrentPage("dashboard"))})});case"expense-article-assignment":return n.jsx(Or,{userRole:e.currentRole,currentPage:"expense-article-assignment",children:n.jsx(qme,{onBack:()=>t(ye.setCurrentPage("dashboard"))})});case"position-management":return n.jsx(Or,{userRole:e.currentRole,currentPage:"position-management",children:n.jsx(Wme,{onBack:()=>t(ye.setCurrentPage("dashboard"))})});case"unallocated":return n.jsx(Or,{userRole:e.currentRole,currentPage:"unallocated",children:n.jsx(Ame,{onViewRequest:a})});case"registrar-assignments":return n.jsx(Or,{userRole:e.currentRole,currentPage:"registrar-assignments",children:n.jsx(gme,{onBack:()=>t(ye.setCurrentPage("dashboard"))})});case"distributor-routing":return n.jsx(Or,{userRole:e.currentRole,currentPage:"distributor-routing",children:n.jsx(Tme,{onBack:()=>t(ye.setCurrentPage("dashboard"))})});case"test-api":return n.jsx(Vme,{onBack:()=>t(ye.setCurrentPage("dashboard"))});case"test-dictionary-api":return n.jsx(Hme,{onBack:()=>t(ye.setCurrentPage("dashboard"))});case"integration-test":return n.jsx(Gme,{onBack:()=>t(ye.setCurrentPage("dashboard"))});case"sub-registrar-assignments":return n.jsx(Or,{userRole:e.currentRole,currentPage:"sub-registrar-assignments",children:n.jsx(Che,{onReportUpdate:()=>{be.success("Отчёт обновлён")}})});case"distributor-workflow":return n.jsx(Or,{userRole:e.currentRole,currentPage:"distributor-workflow",children:n.jsx(xme,{onRequestUpdate:()=>{be.success("Заявка обновлена")}})});case"export-contracts":return n.jsx(Or,{userRole:e.currentRole,currentPage:"export-contracts",children:n.jsx(yme,{onContractSelect:f=>{be.success(`Выбран контракт: ${f.contractNumber}`)}})});default:return n.jsx(rO,{currentRole:e.currentRole,paymentRequests:e.paymentRequests,onViewRequest:a})}}catch(f){return console.error("Error rendering page:",f),n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("p",{className:"text-red-600",children:"Произошла ошибка при загрузке страницы"}),n.jsx(X,{onClick:()=>window.location.reload(),className:"mt-4",children:"Обновить страницу"})]})}})():n.jsx(BO,{})}const Yme={currentDictionary:"expense-articles",dictionaries:{"expense-articles":{items:[],statistics:null,state:{currentDictionary:"expense-articles",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},counterparties:{items:[],statistics:null,state:{currentDictionary:"counterparties",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},"vat-rates":{items:[],statistics:null,state:{currentDictionary:"vat-rates",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},currencies:{items:[],statistics:null,state:{currentDictionary:"currencies",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}}},globalState:{isLoading:!1,error:null,lastUpdated:null}};function Xme(e,t){switch(t.type){case"SET_CURRENT_DICTIONARY":return{...e,currentDictionary:t.payload};case"SET_ITEMS":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:t.payload.items}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"SET_STATISTICS":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],statistics:t.payload.statistics}}};case"SET_STATE":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],state:{...e.dictionaries[t.payload.type].state,...t.payload.state}}}};case"ADD_ITEM":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:[...e.dictionaries[t.payload.type].items,t.payload.item]}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"UPDATE_ITEM":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:e.dictionaries[t.payload.type].items.map(r=>r.id===t.payload.id?{...r,...t.payload.item}:r)}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"DELETE_ITEM":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:e.dictionaries[t.payload.type].items.filter(r=>r.id!==t.payload.id)}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"SET_LOADING":return{...e,globalState:{...e.globalState,isLoading:t.payload}};case"SET_ERROR":return{...e,globalState:{...e.globalState,error:t.payload}};case"CLEAR_ERROR":return{...e,globalState:{...e.globalState,error:null}};case"RESET_DICTIONARY":return{...e,dictionaries:{...e.dictionaries,[t.payload]:{items:[],statistics:null,state:{currentDictionary:t.payload,selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}}}};default:return e}}const Qme=x.createContext(void 0);function Zme({children:e}){const[t,r]=x.useReducer(Xme,Yme),N={state:t,dispatch:r,getDictionaryState:S=>t.dictionaries[S].state,getDictionaryItems:S=>t.dictionaries[S].items,getDictionaryStatistics:S=>t.dictionaries[S].statistics,setCurrentDictionary:S=>{r({type:"SET_CURRENT_DICTIONARY",payload:S})},setItems:(S,C)=>{r({type:"SET_ITEMS",payload:{type:S,items:C}})},setStatistics:(S,C)=>{r({type:"SET_STATISTICS",payload:{type:S,statistics:C}})},updateDictionaryState:(S,C)=>{r({type:"SET_STATE",payload:{type:S,state:C}})},addItem:(S,C)=>{r({type:"ADD_ITEM",payload:{type:S,item:C}})},updateItem:(S,C,A)=>{r({type:"UPDATE_ITEM",payload:{type:S,id:C,item:A}})},deleteItem:(S,C)=>{r({type:"DELETE_ITEM",payload:{type:S,id:C}})},setLoading:S=>{r({type:"SET_LOADING",payload:S})},setError:S=>{r({type:"SET_ERROR",payload:S})},clearError:()=>{r({type:"CLEAR_ERROR"})},resetDictionary:S=>{r({type:"RESET_DICTIONARY",payload:S})}};return n.jsx(Qme.Provider,{value:N,children:e})}function Jme(){const{state:e,dispatch:t}=qi(),r=x.useCallback(async s=>{if(console.log("Toggle API mode requested:",s),R7(s),be.info(`Переключено на ${s?"mock":"API"} режим`),e.currentUser)try{const i=await dt.getAll({role:e.currentRole});t(ye.setPaymentRequests(i))}catch(i){console.error("Failed to reload after API mode toggle:",i),be.error("Ошибка загрузки после переключения режима")}},[e.currentUser,e.currentRole,t]),a=x.useCallback(()=>P7(),[]);return{handleToggleApiMode:r,getApiStatusInfo:a}}const epe=()=>{const{user:e,isAuthenticated:t}=Ui(),{dispatch:r}=qi();x.useEffect(()=>{if(t&&e&&e.is_active)if(e.roles&&e.roles.length>0){const a=e.roles.find(l=>l.is_primary)||e.roles[0],i={ADMIN:"ADMIN",REGISTRAR:"REGISTRAR",SUB_REGISTRAR:"SUB_REGISTRAR",DISTRIBUTOR:"DISTRIBUTOR",TREASURER:"TREASURER",EXECUTOR:"EXECUTOR"}[a.code]||"EXECUTOR";r(ye.setCurrentRole(i)),r(ye.setCurrentUser(e)),dt.getAll({role:i}).then(l=>{r(ye.setPaymentRequests(l))}).catch(l=>{console.error("useRoleSync: failed to load payment requests:",l)})}else console.warn("User has no roles assigned, defaulting to EXECUTOR"),r(ye.setCurrentRole("EXECUTOR")),r(ye.setCurrentUser(e)),dt.getAll({role:"EXECUTOR"}).then(a=>{r(ye.setPaymentRequests(a))}).catch(a=>{console.error("useRoleSync: failed to load payment requests:",a)});else(!t||e&&!e.is_active)&&(r(ye.setCurrentRole("EXECUTOR")),r(ye.setCurrentUser(null)))},[e,t,r])};var tpe=(e,t,r,a,s,i,l,u)=>{let d=document.documentElement,f=["light","dark"];function h(j){(Array.isArray(e)?e:[e]).forEach(w=>{let b=w==="class",v=b&&i?s.map(N=>i[N]||N):s;b?(d.classList.remove(...v),d.classList.add(i&&i[j]?i[j]:j)):d.setAttribute(w,j)}),m(j)}function m(j){u&&f.includes(j)&&(d.style.colorScheme=j)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)h(a);else try{let j=localStorage.getItem(t)||r,w=l&&j==="system"?g():j;h(w)}catch{}},rpe=x.createContext(void 0),npe={setTheme:e=>{},themes:[]},ape=()=>{var e;return(e=x.useContext(rpe))!=null?e:npe};x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:s,defaultTheme:i,value:l,themes:u,nonce:d,scriptProps:f})=>{let h=JSON.stringify([r,t,i,e,u,l,a,s]).slice(1,-1);return x.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${tpe.toString()})(${h})`}})});const spe=({...e})=>{const{theme:t="system"}=ape();return n.jsx(m7,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function ipe({logout:e}){const{state:t,dispatch:r}=qi(),{loadInitialData:a}=uM();return Jme(),epe(),x.useEffect(()=>{zO();const s=i=>{if(i.message&&i.message.includes("CSSScopeRule"))return console.warn("CSSScopeRule error caught and handled:",i.message),i.preventDefault(),!1};return window.addEventListener("error",s),()=>{window.removeEventListener("error",s)}},[]),x.useEffect(()=>{a()},[a]),t.isLoading&&!t.currentUser?n.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Загрузка..."})]})}):n.jsx(Zme,{children:n.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[n.jsx(BV,{currentRole:t.currentRole,onRoleChange:s=>r(ye.setCurrentRole(s)),userName:t.currentUser?.full_name||"Пользователь",onLogout:e}),n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n.jsx("div",{className:"hidden md:block",children:n.jsx(C7,{currentPage:t.currentPage,onPageChange:s=>r(ye.setCurrentPage(s)),currentRole:t.currentRole,currentUser:t.currentUser,isCreatingRequest:t.showCreateForm,paymentRequests:t.paymentRequests,onFilterChange:s=>r(ye.setDashboardFilter(s))})}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsx("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:n.jsx(Kme,{})})})]}),n.jsx("div",{className:"md:hidden border-t bg-white p-2",children:n.jsx("div",{className:"flex justify-around",children:lM.filter(s=>s.roles.includes(t.currentRole)).slice(0,4).map(s=>n.jsxs(X,{variant:t.currentPage===s.id?"default":"ghost",size:"sm",className:Ve("flex-col h-auto py-2 px-3",t.showCreateForm&&"opacity-50 cursor-not-allowed"),onClick:()=>{if(t.showCreateForm){be.warning("Завершите создание заявки или сохраните черновик перед переходом",{duration:4e3});return}r(ye.setCurrentPage(s.id))},disabled:t.showCreateForm,children:[s.icon,n.jsx("span",{className:"text-xs mt-1",children:s.label})]},s.id))})}),n.jsx(spe,{position:"top-right"})]})})}function ope(){return n.jsx(A7,{children:n.jsx(lpe,{})})}function lpe(){const{logout:e}=Ui();return n.jsx(ipe,{logout:e})}const cpe=()=>{const{isAuthenticated:e,isLoading:t}=Ui();return t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Mr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Загрузка..."})]})}):e?n.jsx(ope,{}):n.jsx(BO,{})};function upe(){return n.jsx(lB,{children:n.jsx(cpe,{})})}rB.createRoot(document.getElementById("root")).render(n.jsx(upe,{}));
