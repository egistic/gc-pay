function N8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lg={exports:{}},Qc={},Fg={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function S8(){if(H_)return it;H_=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=h&&z[h]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,y={};function g(z,F,$){this.props=z,this.context=F,this.refs=y,this.updater=$||b}g.prototype.isReactComponent={},g.prototype.setState=function(z,F){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,F,"setState")},g.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function S(){}S.prototype=g.prototype;function C(z,F,$){this.props=z,this.context=F,this.refs=y,this.updater=$||b}var _=C.prototype=new S;_.constructor=C,j(_,g.prototype),_.isPureReactComponent=!0;var O=Array.isArray,N=Object.prototype.hasOwnProperty,k={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function R(z,F,$){var Q,J={},le=null,Y=null;if(F!=null)for(Q in F.ref!==void 0&&(Y=F.ref),F.key!==void 0&&(le=""+F.key),F)N.call(F,Q)&&!A.hasOwnProperty(Q)&&(J[Q]=F[Q]);var ce=arguments.length-2;if(ce===1)J.children=$;else if(1<ce){for(var ie=Array(ce),xe=0;xe<ce;xe++)ie[xe]=arguments[xe+2];J.children=ie}if(z&&z.defaultProps)for(Q in ce=z.defaultProps,ce)J[Q]===void 0&&(J[Q]=ce[Q]);return{$$typeof:e,type:z,key:le,ref:Y,props:J,_owner:k.current}}function I(z,F){return{$$typeof:e,type:z.type,key:F,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function U(z){var F={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function($){return F[$]})}var W=/\/+/g;function H(z,F){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):F.toString(36)}function G(z,F,$,Q,J){var le=typeof z;(le==="undefined"||le==="boolean")&&(z=null);var Y=!1;if(z===null)Y=!0;else switch(le){case"string":case"number":Y=!0;break;case"object":switch(z.$$typeof){case e:case t:Y=!0}}if(Y)return Y=z,J=J(Y),z=Q===""?"."+H(Y,0):Q,O(J)?($="",z!=null&&($=z.replace(W,"$&/")+"/"),G(J,F,$,"",function(xe){return xe})):J!=null&&(L(J)&&(J=I(J,$+(!J.key||Y&&Y.key===J.key?"":(""+J.key).replace(W,"$&/")+"/")+z)),F.push(J)),1;if(Y=0,Q=Q===""?".":Q+":",O(z))for(var ce=0;ce<z.length;ce++){le=z[ce];var ie=Q+H(le,ce);Y+=G(le,F,$,ie,J)}else if(ie=v(z),typeof ie=="function")for(z=ie.call(z),ce=0;!(le=z.next()).done;)le=le.value,ie=Q+H(le,ce++),Y+=G(le,F,$,ie,J);else if(le==="object")throw F=String(z),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Y}function T(z,F,$){if(z==null)return z;var Q=[],J=0;return G(z,Q,"","",function(le){return F.call($,le,J++)}),Q}function D(z){if(z._status===-1){var F=z._result;F=F(),F.then(function($){(z._status===0||z._status===-1)&&(z._status=1,z._result=$)},function($){(z._status===0||z._status===-1)&&(z._status=2,z._result=$)}),z._status===-1&&(z._status=0,z._result=F)}if(z._status===1)return z._result.default;throw z._result}var V={current:null},B={transition:null},q={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:B,ReactCurrentOwner:k};function K(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:T,forEach:function(z,F,$){T(z,function(){F.apply(this,arguments)},$)},count:function(z){var F=0;return T(z,function(){F++}),F},toArray:function(z){return T(z,function(F){return F})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},it.Component=g,it.Fragment=r,it.Profiler=i,it.PureComponent=C,it.StrictMode=n,it.Suspense=d,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,it.act=K,it.cloneElement=function(z,F,$){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Q=j({},z.props),J=z.key,le=z.ref,Y=z._owner;if(F!=null){if(F.ref!==void 0&&(le=F.ref,Y=k.current),F.key!==void 0&&(J=""+F.key),z.type&&z.type.defaultProps)var ce=z.type.defaultProps;for(ie in F)N.call(F,ie)&&!A.hasOwnProperty(ie)&&(Q[ie]=F[ie]===void 0&&ce!==void 0?ce[ie]:F[ie])}var ie=arguments.length-2;if(ie===1)Q.children=$;else if(1<ie){ce=Array(ie);for(var xe=0;xe<ie;xe++)ce[xe]=arguments[xe+2];Q.children=ce}return{$$typeof:e,type:z.type,key:J,ref:le,props:Q,_owner:Y}},it.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:s,_context:z},z.Consumer=z},it.createElement=R,it.createFactory=function(z){var F=R.bind(null,z);return F.type=z,F},it.createRef=function(){return{current:null}},it.forwardRef=function(z){return{$$typeof:u,render:z}},it.isValidElement=L,it.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:D}},it.memo=function(z,F){return{$$typeof:f,type:z,compare:F===void 0?null:F}},it.startTransition=function(z){var F=B.transition;B.transition={};try{z()}finally{B.transition=F}},it.unstable_act=K,it.useCallback=function(z,F){return V.current.useCallback(z,F)},it.useContext=function(z){return V.current.useContext(z)},it.useDebugValue=function(){},it.useDeferredValue=function(z){return V.current.useDeferredValue(z)},it.useEffect=function(z,F){return V.current.useEffect(z,F)},it.useId=function(){return V.current.useId()},it.useImperativeHandle=function(z,F,$){return V.current.useImperativeHandle(z,F,$)},it.useInsertionEffect=function(z,F){return V.current.useInsertionEffect(z,F)},it.useLayoutEffect=function(z,F){return V.current.useLayoutEffect(z,F)},it.useMemo=function(z,F){return V.current.useMemo(z,F)},it.useReducer=function(z,F,$){return V.current.useReducer(z,F,$)},it.useRef=function(z){return V.current.useRef(z)},it.useState=function(z){return V.current.useState(z)},it.useSyncExternalStore=function(z,F,$){return V.current.useSyncExternalStore(z,F,$)},it.useTransition=function(){return V.current.useTransition()},it.version="18.3.1",it}var G_;function u1(){return G_||(G_=1,Fg.exports=S8()),Fg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function C8(){if(K_)return Qc;K_=1;var e=u1(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,h={},v=null,b=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(b=d.ref);for(p in d)n.call(d,p)&&!s.hasOwnProperty(p)&&(h[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)h[p]===void 0&&(h[p]=d[p]);return{$$typeof:t,type:u,key:v,ref:b,props:h,_owner:i.current}}return Qc.Fragment=r,Qc.jsx=l,Qc.jsxs=l,Qc}var Y_;function _8(){return Y_||(Y_=1,Lg.exports=C8()),Lg.exports}var a=_8(),th={},Bg={exports:{}},Qr={},zg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function E8(){return X_||(X_=1,(function(e){function t(B,q){var K=B.length;B.push(q);e:for(;0<K;){var z=K-1>>>1,F=B[z];if(0<i(F,q))B[z]=q,B[K]=F,K=z;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var q=B[0],K=B.pop();if(K!==q){B[0]=K;e:for(var z=0,F=B.length,$=F>>>1;z<$;){var Q=2*(z+1)-1,J=B[Q],le=Q+1,Y=B[le];if(0>i(J,K))le<F&&0>i(Y,J)?(B[z]=Y,B[le]=K,z=le):(B[z]=J,B[Q]=K,z=Q);else if(le<F&&0>i(Y,K))B[z]=Y,B[le]=K,z=le;else break e}}return q}function i(B,q){var K=B.sortIndex-q.sortIndex;return K!==0?K:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,h=null,v=3,b=!1,j=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var q=r(f);q!==null;){if(q.callback===null)n(f);else if(q.startTime<=B)n(f),q.sortIndex=q.expirationTime,t(d,q);else break;q=r(f)}}function O(B){if(y=!1,_(B),!j)if(r(d)!==null)j=!0,D(N);else{var q=r(f);q!==null&&V(O,q.startTime-B)}}function N(B,q){j=!1,y&&(y=!1,S(R),R=-1),b=!0;var K=v;try{for(_(q),h=r(d);h!==null&&(!(h.expirationTime>q)||B&&!U());){var z=h.callback;if(typeof z=="function"){h.callback=null,v=h.priorityLevel;var F=z(h.expirationTime<=q);q=e.unstable_now(),typeof F=="function"?h.callback=F:h===r(d)&&n(d),_(q)}else n(d);h=r(d)}if(h!==null)var $=!0;else{var Q=r(f);Q!==null&&V(O,Q.startTime-q),$=!1}return $}finally{h=null,v=K,b=!1}}var k=!1,A=null,R=-1,I=5,L=-1;function U(){return!(e.unstable_now()-L<I)}function W(){if(A!==null){var B=e.unstable_now();L=B;var q=!0;try{q=A(!0,B)}finally{q?H():(k=!1,A=null)}}else k=!1}var H;if(typeof C=="function")H=function(){C(W)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,T=G.port2;G.port1.onmessage=W,H=function(){T.postMessage(null)}}else H=function(){g(W,0)};function D(B){A=B,k||(k=!0,H())}function V(B,q){R=g(function(){B(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){j||b||(j=!0,D(N))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var K=v;v=q;try{return B()}finally{v=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=v;v=B;try{return q()}finally{v=K}},e.unstable_scheduleCallback=function(B,q,K){var z=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?z+K:z):K=z,B){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=K+F,B={id:p++,callback:q,priorityLevel:B,startTime:K,expirationTime:F,sortIndex:-1},K>z?(B.sortIndex=K,t(f,B),r(d)===null&&B===r(f)&&(y?(S(R),R=-1):y=!0,V(O,K-z))):(B.sortIndex=F,t(d,B),j||b||(j=!0,D(N))),B},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(B){var q=v;return function(){var K=v;v=q;try{return B.apply(this,arguments)}finally{v=K}}}})(Ug)),Ug}var Q_;function k8(){return Q_||(Q_=1,zg.exports=E8()),zg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function P8(){if(Z_)return Qr;Z_=1;var e=u1(),t=k8();function r(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(i[o]=c,o=0;o<c.length;o++)n.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(o){return d.call(h,o)?!0:d.call(p,o)?!1:f.test(o)?h[o]=!0:(p[o]=!0,!1)}function b(o,c,m,x){if(m!==null&&m.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function j(o,c,m,x){if(c===null||typeof c>"u"||b(o,c,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function y(o,c,m,x,E,P,M){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=E,this.mustUseProperty=m,this.propertyName=o,this.type=c,this.sanitizeURL=P,this.removeEmptyString=M}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){g[o]=new y(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];g[c]=new y(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){g[o]=new y(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){g[o]=new y(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){g[o]=new y(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){g[o]=new y(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){g[o]=new y(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){g[o]=new y(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){g[o]=new y(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(S,C);g[c]=new y(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(S,C);g[c]=new y(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(S,C);g[c]=new y(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){g[o]=new y(o,1,!1,o.toLowerCase(),null,!1,!1)}),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){g[o]=new y(o,1,!1,o.toLowerCase(),null,!0,!0)});function _(o,c,m,x){var E=g.hasOwnProperty(c)?g[c]:null;(E!==null?E.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(j(c,m,E,x)&&(m=null),x||E===null?v(c)&&(m===null?o.removeAttribute(c):o.setAttribute(c,""+m)):E.mustUseProperty?o[E.propertyName]=m===null?E.type===3?!1:"":m:(c=E.attributeName,x=E.attributeNamespace,m===null?o.removeAttribute(c):(E=E.type,m=E===3||E===4&&m===!0?"":""+m,x?o.setAttributeNS(x,c,m):o.setAttribute(c,m))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),B=Symbol.iterator;function q(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var K=Object.assign,z;function F(o){if(z===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);z=c&&c[1]||""}return`
`+z+o}var $=!1;function Q(o,c){if(!o||$)return"";$=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ue){var x=ue}Reflect.construct(o,[],c)}else{try{c.call()}catch(ue){x=ue}o.call(c.prototype)}else{try{throw Error()}catch(ue){x=ue}o()}}catch(ue){if(ue&&x&&typeof ue.stack=="string"){for(var E=ue.stack.split(`
`),P=x.stack.split(`
`),M=E.length-1,Z=P.length-1;1<=M&&0<=Z&&E[M]!==P[Z];)Z--;for(;1<=M&&0<=Z;M--,Z--)if(E[M]!==P[Z]){if(M!==1||Z!==1)do if(M--,Z--,0>Z||E[M]!==P[Z]){var ee=`
`+E[M].replace(" at new "," at ");return o.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",o.displayName)),ee}while(1<=M&&0<=Z);break}}}finally{$=!1,Error.prepareStackTrace=m}return(o=o?o.displayName||o.name:"")?F(o):""}function J(o){switch(o.tag){case 5:return F(o.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return o=Q(o.type,!1),o;case 11:return o=Q(o.type.render,!1),o;case 1:return o=Q(o.type,!0),o;default:return""}}function le(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case k:return"Portal";case I:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case G:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case U:return(o.displayName||"Context")+".Consumer";case L:return(o._context.displayName||"Context")+".Provider";case W:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case T:return c=o.displayName||null,c!==null?c:le(o.type)||"Memo";case D:c=o._payload,o=o._init;try{return le(o(c))}catch{}}return null}function Y(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(c);case 8:return c===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ce(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ie(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function xe(o){var c=ie(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,P=m.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return E.call(this)},set:function(M){x=""+M,P.call(this,M)}}),Object.defineProperty(o,c,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(M){x=""+M},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Ce(o){o._valueTracker||(o._valueTracker=xe(o))}function te(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return o&&(x=ie(o)?o.checked?"true":"false":o.value),o=x,o!==m?(c.setValue(o),!0):!1}function ae(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function de(o,c){var m=c.checked;return K({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??o._wrapperState.initialChecked})}function Me(o,c){var m=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;m=ce(c.value!=null?c.value:m),o._wrapperState={initialChecked:x,initialValue:m,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ge(o,c){c=c.checked,c!=null&&_(o,"checked",c,!1)}function tt(o,c){Ge(o,c);var m=ce(c.value),x=c.type;if(m!=null)x==="number"?(m===0&&o.value===""||o.value!=m)&&(o.value=""+m):o.value!==""+m&&(o.value=""+m);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?Ot(o,c.type,m):c.hasOwnProperty("defaultValue")&&Ot(o,c.type,ce(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function zt(o,c,m){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,m||c===o.value||(o.value=c),o.defaultValue=c}m=o.name,m!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,m!==""&&(o.name=m)}function Ot(o,c,m){(c!=="number"||ae(o.ownerDocument)!==o)&&(m==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+m&&(o.defaultValue=""+m))}var Vr=Array.isArray;function _r(o,c,m,x){if(o=o.options,c){c={};for(var E=0;E<m.length;E++)c["$"+m[E]]=!0;for(m=0;m<o.length;m++)E=c.hasOwnProperty("$"+o[m].value),o[m].selected!==E&&(o[m].selected=E),E&&x&&(o[m].defaultSelected=!0)}else{for(m=""+ce(m),c=null,E=0;E<o.length;E++){if(o[E].value===m){o[E].selected=!0,x&&(o[E].defaultSelected=!0);return}c!==null||o[E].disabled||(c=o[E])}c!==null&&(c.selected=!0)}}function Dt(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function an(o,c){var m=c.value;if(m==null){if(m=c.children,c=c.defaultValue,m!=null){if(c!=null)throw Error(r(92));if(Vr(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),m=c}o._wrapperState={initialValue:ce(m)}}function Es(o,c){var m=ce(c.value),x=ce(c.defaultValue);m!=null&&(m=""+m,m!==o.value&&(o.value=m),c.defaultValue==null&&o.defaultValue!==m&&(o.defaultValue=m)),x!=null&&(o.defaultValue=""+x)}function ks(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function Ps(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hc(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?Ps(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Os,Po=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,m,x,E){MSApp.execUnsafeLocalFunction(function(){return o(c,m,x,E)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(Os=Os||document.createElement("div"),Os.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Os.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function _n(o,c){if(c){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=c;return}}o.textContent=c}var Ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_i=["Webkit","ms","Moz","O"];Object.keys(Ci).forEach(function(o){_i.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Ci[c]=Ci[o]})});function Vd(o,c,m){return c==null||typeof c=="boolean"||c===""?"":m||typeof c!="number"||c===0||Ci.hasOwnProperty(o)&&Ci[o]?(""+c).trim():c+"px"}function Hd(o,c){o=o.style;for(var m in c)if(c.hasOwnProperty(m)){var x=m.indexOf("--")===0,E=Vd(m,c[m],x);m==="float"&&(m="cssFloat"),x?o.setProperty(m,E):o[m]=E}}var Gd=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(o,c){if(c){if(Gd[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function pc(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var As=null;function En(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var mc=null,Ei=null,Ba=null;function vc(o){if(o=Mc(o)){if(typeof mc!="function")throw Error(r(280));var c=o.stateNode;c&&(c=mf(c),mc(o.stateNode,o.type,c))}}function Je(o){Ei?Ba?Ba.push(o):Ba=[o]:Ei=o}function Gt(){if(Ei){var o=Ei,c=Ba;if(Ba=Ei=null,vc(o),c)for(o=0;o<c.length;o++)vc(c[o])}}function nr(o,c){return o(c)}function Er(){}var ki=!1;function Xt(o,c,m){if(ki)return o(c,m);ki=!0;try{return nr(o,c,m)}finally{ki=!1,(Ei!==null||Ba!==null)&&(Er(),Gt())}}function dr(o,c){var m=o.stateNode;if(m===null)return null;var x=mf(m);if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var Pi=!1;if(u)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Pi=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Pi=!1}function sn(o,c,m,x,E,P,M,Z,ee){var ue=Array.prototype.slice.call(arguments,3);try{c.apply(m,ue)}catch(be){this.onError(be)}}var Oi=!1,kn=null,gc=!1,nv=null,O5={onError:function(o){Oi=!0,kn=o}};function A5(o,c,m,x,E,P,M,Z,ee){Oi=!1,kn=null,sn.apply(O5,arguments)}function T5(o,c,m,x,E,P,M,Z,ee){if(A5.apply(this,arguments),Oi){if(Oi){var ue=kn;Oi=!1,kn=null}else throw Error(r(198));gc||(gc=!0,nv=ue)}}function Ts(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function mS(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function vS(o){if(Ts(o)!==o)throw Error(r(188))}function I5(o){var c=o.alternate;if(!c){if(c=Ts(o),c===null)throw Error(r(188));return c!==o?null:o}for(var m=o,x=c;;){var E=m.return;if(E===null)break;var P=E.alternate;if(P===null){if(x=E.return,x!==null){m=x;continue}break}if(E.child===P.child){for(P=E.child;P;){if(P===m)return vS(E),o;if(P===x)return vS(E),c;P=P.sibling}throw Error(r(188))}if(m.return!==x.return)m=E,x=P;else{for(var M=!1,Z=E.child;Z;){if(Z===m){M=!0,m=E,x=P;break}if(Z===x){M=!0,x=E,m=P;break}Z=Z.sibling}if(!M){for(Z=P.child;Z;){if(Z===m){M=!0,m=P,x=E;break}if(Z===x){M=!0,x=P,m=E;break}Z=Z.sibling}if(!M)throw Error(r(189))}}if(m.alternate!==x)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?o:c}function gS(o){return o=I5(o),o!==null?xS(o):null}function xS(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=xS(o);if(c!==null)return c;o=o.sibling}return null}var yS=t.unstable_scheduleCallback,bS=t.unstable_cancelCallback,R5=t.unstable_shouldYield,D5=t.unstable_requestPaint,Kt=t.unstable_now,M5=t.unstable_getCurrentPriorityLevel,av=t.unstable_ImmediatePriority,wS=t.unstable_UserBlockingPriority,Kd=t.unstable_NormalPriority,$5=t.unstable_LowPriority,jS=t.unstable_IdlePriority,Yd=null,oa=null;function L5(o){if(oa&&typeof oa.onCommitFiberRoot=="function")try{oa.onCommitFiberRoot(Yd,o,void 0,(o.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:z5,F5=Math.log,B5=Math.LN2;function z5(o){return o>>>=0,o===0?32:31-(F5(o)/B5|0)|0}var Xd=64,Qd=4194304;function xc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Zd(o,c){var m=o.pendingLanes;if(m===0)return 0;var x=0,E=o.suspendedLanes,P=o.pingedLanes,M=m&268435455;if(M!==0){var Z=M&~E;Z!==0?x=xc(Z):(P&=M,P!==0&&(x=xc(P)))}else M=m&~E,M!==0?x=xc(M):P!==0&&(x=xc(P));if(x===0)return 0;if(c!==0&&c!==x&&(c&E)===0&&(E=x&-x,P=c&-c,E>=P||E===16&&(P&4194240)!==0))return c;if((x&4)!==0&&(x|=m&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)m=31-qn(c),E=1<<m,x|=o[m],c&=~E;return x}function U5(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q5(o,c){for(var m=o.suspendedLanes,x=o.pingedLanes,E=o.expirationTimes,P=o.pendingLanes;0<P;){var M=31-qn(P),Z=1<<M,ee=E[M];ee===-1?((Z&m)===0||(Z&x)!==0)&&(E[M]=U5(Z,c)):ee<=c&&(o.expiredLanes|=Z),P&=~Z}}function iv(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function NS(){var o=Xd;return Xd<<=1,(Xd&4194240)===0&&(Xd=64),o}function sv(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function yc(o,c,m){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-qn(c),o[c]=m}function W5(o,c){var m=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<m;){var E=31-qn(m),P=1<<E;c[E]=0,x[E]=-1,o[E]=-1,m&=~P}}function ov(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var x=31-qn(m),E=1<<x;E&c|o[x]&c&&(o[x]|=c),m&=~E}}var St=0;function SS(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var CS,lv,_S,ES,kS,cv=!1,Jd=[],Ai=null,Ti=null,Ii=null,bc=new Map,wc=new Map,Ri=[],V5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PS(o,c){switch(o){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":bc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(c.pointerId)}}function jc(o,c,m,x,E,P){return o===null||o.nativeEvent!==P?(o={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:P,targetContainers:[E]},c!==null&&(c=Mc(c),c!==null&&lv(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),o)}function H5(o,c,m,x,E){switch(c){case"focusin":return Ai=jc(Ai,o,c,m,x,E),!0;case"dragenter":return Ti=jc(Ti,o,c,m,x,E),!0;case"mouseover":return Ii=jc(Ii,o,c,m,x,E),!0;case"pointerover":var P=E.pointerId;return bc.set(P,jc(bc.get(P)||null,o,c,m,x,E)),!0;case"gotpointercapture":return P=E.pointerId,wc.set(P,jc(wc.get(P)||null,o,c,m,x,E)),!0}return!1}function OS(o){var c=Is(o.target);if(c!==null){var m=Ts(c);if(m!==null){if(c=m.tag,c===13){if(c=mS(m),c!==null){o.blockedOn=c,kS(o.priority,function(){_S(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ef(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var m=dv(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(m===null){m=o.nativeEvent;var x=new m.constructor(m.type,m);As=x,m.target.dispatchEvent(x),As=null}else return c=Mc(m),c!==null&&lv(c),o.blockedOn=m,!1;c.shift()}return!0}function AS(o,c,m){ef(o)&&m.delete(c)}function G5(){cv=!1,Ai!==null&&ef(Ai)&&(Ai=null),Ti!==null&&ef(Ti)&&(Ti=null),Ii!==null&&ef(Ii)&&(Ii=null),bc.forEach(AS),wc.forEach(AS)}function Nc(o,c){o.blockedOn===c&&(o.blockedOn=null,cv||(cv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,G5)))}function Sc(o){function c(E){return Nc(E,o)}if(0<Jd.length){Nc(Jd[0],o);for(var m=1;m<Jd.length;m++){var x=Jd[m];x.blockedOn===o&&(x.blockedOn=null)}}for(Ai!==null&&Nc(Ai,o),Ti!==null&&Nc(Ti,o),Ii!==null&&Nc(Ii,o),bc.forEach(c),wc.forEach(c),m=0;m<Ri.length;m++)x=Ri[m],x.blockedOn===o&&(x.blockedOn=null);for(;0<Ri.length&&(m=Ri[0],m.blockedOn===null);)OS(m),m.blockedOn===null&&Ri.shift()}var Ao=O.ReactCurrentBatchConfig,tf=!0;function K5(o,c,m,x){var E=St,P=Ao.transition;Ao.transition=null;try{St=1,uv(o,c,m,x)}finally{St=E,Ao.transition=P}}function Y5(o,c,m,x){var E=St,P=Ao.transition;Ao.transition=null;try{St=4,uv(o,c,m,x)}finally{St=E,Ao.transition=P}}function uv(o,c,m,x){if(tf){var E=dv(o,c,m,x);if(E===null)kv(o,c,x,rf,m),PS(o,x);else if(H5(E,o,c,m,x))x.stopPropagation();else if(PS(o,x),c&4&&-1<V5.indexOf(o)){for(;E!==null;){var P=Mc(E);if(P!==null&&CS(P),P=dv(o,c,m,x),P===null&&kv(o,c,x,rf,m),P===E)break;E=P}E!==null&&x.stopPropagation()}else kv(o,c,x,null,m)}}var rf=null;function dv(o,c,m,x){if(rf=null,o=En(x),o=Is(o),o!==null)if(c=Ts(o),c===null)o=null;else if(m=c.tag,m===13){if(o=mS(c),o!==null)return o;o=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return rf=o,null}function TS(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M5()){case av:return 1;case wS:return 4;case Kd:case $5:return 16;case jS:return 536870912;default:return 16}default:return 16}}var Di=null,fv=null,nf=null;function IS(){if(nf)return nf;var o,c=fv,m=c.length,x,E="value"in Di?Di.value:Di.textContent,P=E.length;for(o=0;o<m&&c[o]===E[o];o++);var M=m-o;for(x=1;x<=M&&c[m-x]===E[P-x];x++);return nf=E.slice(o,1<x?1-x:void 0)}function af(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function sf(){return!0}function RS(){return!1}function on(o){function c(m,x,E,P,M){this._reactName=m,this._targetInst=E,this.type=x,this.nativeEvent=P,this.target=M,this.currentTarget=null;for(var Z in o)o.hasOwnProperty(Z)&&(m=o[Z],this[Z]=m?m(P):P[Z]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?sf:RS,this.isPropagationStopped=RS,this}return K(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=sf)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=sf)},persist:function(){},isPersistent:sf}),c}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hv=on(To),Cc=K({},To,{view:0,detail:0}),X5=on(Cc),pv,mv,_c,of=K({},Cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gv,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==_c&&(_c&&o.type==="mousemove"?(pv=o.screenX-_c.screenX,mv=o.screenY-_c.screenY):mv=pv=0,_c=o),pv)},movementY:function(o){return"movementY"in o?o.movementY:mv}}),DS=on(of),Q5=K({},of,{dataTransfer:0}),Z5=on(Q5),J5=K({},Cc,{relatedTarget:0}),vv=on(J5),eF=K({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),tF=on(eF),rF=K({},To,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),nF=on(rF),aF=K({},To,{data:0}),MS=on(aF),iF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lF(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=oF[o])?!!c[o]:!1}function gv(){return lF}var cF=K({},Cc,{key:function(o){if(o.key){var c=iF[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=af(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?sF[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gv,charCode:function(o){return o.type==="keypress"?af(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?af(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),uF=on(cF),dF=K({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$S=on(dF),fF=K({},Cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gv}),hF=on(fF),pF=K({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),mF=on(pF),vF=K({},of,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),gF=on(vF),xF=[9,13,27,32],xv=u&&"CompositionEvent"in window,Ec=null;u&&"documentMode"in document&&(Ec=document.documentMode);var yF=u&&"TextEvent"in window&&!Ec,LS=u&&(!xv||Ec&&8<Ec&&11>=Ec),FS=" ",BS=!1;function zS(o,c){switch(o){case"keyup":return xF.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function US(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Io=!1;function bF(o,c){switch(o){case"compositionend":return US(c);case"keypress":return c.which!==32?null:(BS=!0,FS);case"textInput":return o=c.data,o===FS&&BS?null:o;default:return null}}function wF(o,c){if(Io)return o==="compositionend"||!xv&&zS(o,c)?(o=IS(),nf=fv=Di=null,Io=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return LS&&c.locale!=="ko"?null:c.data;default:return null}}var jF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qS(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!jF[o.type]:c==="textarea"}function WS(o,c,m,x){Je(x),c=ff(c,"onChange"),0<c.length&&(m=new hv("onChange","change",null,m,x),o.push({event:m,listeners:c}))}var kc=null,Pc=null;function NF(o){lC(o,0)}function lf(o){var c=Lo(o);if(te(c))return o}function SF(o,c){if(o==="change")return c}var VS=!1;if(u){var yv;if(u){var bv="oninput"in document;if(!bv){var HS=document.createElement("div");HS.setAttribute("oninput","return;"),bv=typeof HS.oninput=="function"}yv=bv}else yv=!1;VS=yv&&(!document.documentMode||9<document.documentMode)}function GS(){kc&&(kc.detachEvent("onpropertychange",KS),Pc=kc=null)}function KS(o){if(o.propertyName==="value"&&lf(Pc)){var c=[];WS(c,Pc,o,En(o)),Xt(NF,c)}}function CF(o,c,m){o==="focusin"?(GS(),kc=c,Pc=m,kc.attachEvent("onpropertychange",KS)):o==="focusout"&&GS()}function _F(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return lf(Pc)}function EF(o,c){if(o==="click")return lf(c)}function kF(o,c){if(o==="input"||o==="change")return lf(c)}function PF(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Wn=typeof Object.is=="function"?Object.is:PF;function Oc(o,c){if(Wn(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var E=m[x];if(!d.call(c,E)||!Wn(o[E],c[E]))return!1}return!0}function YS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function XS(o,c){var m=YS(o);o=0;for(var x;m;){if(m.nodeType===3){if(x=o+m.textContent.length,o<=c&&x>=c)return{node:m,offset:c-o};o=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=YS(m)}}function QS(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?QS(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function ZS(){for(var o=window,c=ae();c instanceof o.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)o=c.contentWindow;else break;c=ae(o.document)}return c}function wv(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function OF(o){var c=ZS(),m=o.focusedElem,x=o.selectionRange;if(c!==m&&m&&m.ownerDocument&&QS(m.ownerDocument.documentElement,m)){if(x!==null&&wv(m)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in m)m.selectionStart=c,m.selectionEnd=Math.min(o,m.value.length);else if(o=(c=m.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var E=m.textContent.length,P=Math.min(x.start,E);x=x.end===void 0?P:Math.min(x.end,E),!o.extend&&P>x&&(E=x,x=P,P=E),E=XS(m,P);var M=XS(m,x);E&&M&&(o.rangeCount!==1||o.anchorNode!==E.node||o.anchorOffset!==E.offset||o.focusNode!==M.node||o.focusOffset!==M.offset)&&(c=c.createRange(),c.setStart(E.node,E.offset),o.removeAllRanges(),P>x?(o.addRange(c),o.extend(M.node,M.offset)):(c.setEnd(M.node,M.offset),o.addRange(c)))}}for(c=[],o=m;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<c.length;m++)o=c[m],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var AF=u&&"documentMode"in document&&11>=document.documentMode,Ro=null,jv=null,Ac=null,Nv=!1;function JS(o,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Nv||Ro==null||Ro!==ae(x)||(x=Ro,"selectionStart"in x&&wv(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ac&&Oc(Ac,x)||(Ac=x,x=ff(jv,"onSelect"),0<x.length&&(c=new hv("onSelect","select",null,c,m),o.push({event:c,listeners:x}),c.target=Ro)))}function cf(o,c){var m={};return m[o.toLowerCase()]=c.toLowerCase(),m["Webkit"+o]="webkit"+c,m["Moz"+o]="moz"+c,m}var Do={animationend:cf("Animation","AnimationEnd"),animationiteration:cf("Animation","AnimationIteration"),animationstart:cf("Animation","AnimationStart"),transitionend:cf("Transition","TransitionEnd")},Sv={},eC={};u&&(eC=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function uf(o){if(Sv[o])return Sv[o];if(!Do[o])return o;var c=Do[o],m;for(m in c)if(c.hasOwnProperty(m)&&m in eC)return Sv[o]=c[m];return o}var tC=uf("animationend"),rC=uf("animationiteration"),nC=uf("animationstart"),aC=uf("transitionend"),iC=new Map,sC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(o,c){iC.set(o,c),s(c,[o])}for(var Cv=0;Cv<sC.length;Cv++){var _v=sC[Cv],TF=_v.toLowerCase(),IF=_v[0].toUpperCase()+_v.slice(1);Mi(TF,"on"+IF)}Mi(tC,"onAnimationEnd"),Mi(rC,"onAnimationIteration"),Mi(nC,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(aC,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tc));function oC(o,c,m){var x=o.type||"unknown-event";o.currentTarget=m,T5(x,c,void 0,o),o.currentTarget=null}function lC(o,c){c=(c&4)!==0;for(var m=0;m<o.length;m++){var x=o[m],E=x.event;x=x.listeners;e:{var P=void 0;if(c)for(var M=x.length-1;0<=M;M--){var Z=x[M],ee=Z.instance,ue=Z.currentTarget;if(Z=Z.listener,ee!==P&&E.isPropagationStopped())break e;oC(E,Z,ue),P=ee}else for(M=0;M<x.length;M++){if(Z=x[M],ee=Z.instance,ue=Z.currentTarget,Z=Z.listener,ee!==P&&E.isPropagationStopped())break e;oC(E,Z,ue),P=ee}}}if(gc)throw o=nv,gc=!1,nv=null,o}function Mt(o,c){var m=c[Rv];m===void 0&&(m=c[Rv]=new Set);var x=o+"__bubble";m.has(x)||(cC(c,o,2,!1),m.add(x))}function Ev(o,c,m){var x=0;c&&(x|=4),cC(m,o,x,c)}var df="_reactListening"+Math.random().toString(36).slice(2);function Ic(o){if(!o[df]){o[df]=!0,n.forEach(function(m){m!=="selectionchange"&&(RF.has(m)||Ev(m,!1,o),Ev(m,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[df]||(c[df]=!0,Ev("selectionchange",!1,c))}}function cC(o,c,m,x){switch(TS(c)){case 1:var E=K5;break;case 4:E=Y5;break;default:E=uv}m=E.bind(null,c,m,o),E=void 0,!Pi||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),x?E!==void 0?o.addEventListener(c,m,{capture:!0,passive:E}):o.addEventListener(c,m,!0):E!==void 0?o.addEventListener(c,m,{passive:E}):o.addEventListener(c,m,!1)}function kv(o,c,m,x,E){var P=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var M=x.tag;if(M===3||M===4){var Z=x.stateNode.containerInfo;if(Z===E||Z.nodeType===8&&Z.parentNode===E)break;if(M===4)for(M=x.return;M!==null;){var ee=M.tag;if((ee===3||ee===4)&&(ee=M.stateNode.containerInfo,ee===E||ee.nodeType===8&&ee.parentNode===E))return;M=M.return}for(;Z!==null;){if(M=Is(Z),M===null)return;if(ee=M.tag,ee===5||ee===6){x=P=M;continue e}Z=Z.parentNode}}x=x.return}Xt(function(){var ue=P,be=En(m),je=[];e:{var ye=iC.get(o);if(ye!==void 0){var Te=hv,$e=o;switch(o){case"keypress":if(af(m)===0)break e;case"keydown":case"keyup":Te=uF;break;case"focusin":$e="focus",Te=vv;break;case"focusout":$e="blur",Te=vv;break;case"beforeblur":case"afterblur":Te=vv;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=DS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Z5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=hF;break;case tC:case rC:case nC:Te=tF;break;case aC:Te=mF;break;case"scroll":Te=X5;break;case"wheel":Te=gF;break;case"copy":case"cut":case"paste":Te=nF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=$S}var ze=(c&4)!==0,Yt=!ze&&o==="scroll",se=ze?ye!==null?ye+"Capture":null:ye;ze=[];for(var re=ue,oe;re!==null;){oe=re;var Se=oe.stateNode;if(oe.tag===5&&Se!==null&&(oe=Se,se!==null&&(Se=dr(re,se),Se!=null&&ze.push(Rc(re,Se,oe)))),Yt)break;re=re.return}0<ze.length&&(ye=new Te(ye,$e,null,m,be),je.push({event:ye,listeners:ze}))}}if((c&7)===0){e:{if(ye=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",ye&&m!==As&&($e=m.relatedTarget||m.fromElement)&&(Is($e)||$e[za]))break e;if((Te||ye)&&(ye=be.window===be?be:(ye=be.ownerDocument)?ye.defaultView||ye.parentWindow:window,Te?($e=m.relatedTarget||m.toElement,Te=ue,$e=$e?Is($e):null,$e!==null&&(Yt=Ts($e),$e!==Yt||$e.tag!==5&&$e.tag!==6)&&($e=null)):(Te=null,$e=ue),Te!==$e)){if(ze=DS,Se="onMouseLeave",se="onMouseEnter",re="mouse",(o==="pointerout"||o==="pointerover")&&(ze=$S,Se="onPointerLeave",se="onPointerEnter",re="pointer"),Yt=Te==null?ye:Lo(Te),oe=$e==null?ye:Lo($e),ye=new ze(Se,re+"leave",Te,m,be),ye.target=Yt,ye.relatedTarget=oe,Se=null,Is(be)===ue&&(ze=new ze(se,re+"enter",$e,m,be),ze.target=oe,ze.relatedTarget=Yt,Se=ze),Yt=Se,Te&&$e)t:{for(ze=Te,se=$e,re=0,oe=ze;oe;oe=Mo(oe))re++;for(oe=0,Se=se;Se;Se=Mo(Se))oe++;for(;0<re-oe;)ze=Mo(ze),re--;for(;0<oe-re;)se=Mo(se),oe--;for(;re--;){if(ze===se||se!==null&&ze===se.alternate)break t;ze=Mo(ze),se=Mo(se)}ze=null}else ze=null;Te!==null&&uC(je,ye,Te,ze,!1),$e!==null&&Yt!==null&&uC(je,Yt,$e,ze,!0)}}e:{if(ye=ue?Lo(ue):window,Te=ye.nodeName&&ye.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ye.type==="file")var Ue=SF;else if(qS(ye))if(VS)Ue=kF;else{Ue=_F;var We=CF}else(Te=ye.nodeName)&&Te.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Ue=EF);if(Ue&&(Ue=Ue(o,ue))){WS(je,Ue,m,be);break e}We&&We(o,ye,ue),o==="focusout"&&(We=ye._wrapperState)&&We.controlled&&ye.type==="number"&&Ot(ye,"number",ye.value)}switch(We=ue?Lo(ue):window,o){case"focusin":(qS(We)||We.contentEditable==="true")&&(Ro=We,jv=ue,Ac=null);break;case"focusout":Ac=jv=Ro=null;break;case"mousedown":Nv=!0;break;case"contextmenu":case"mouseup":case"dragend":Nv=!1,JS(je,m,be);break;case"selectionchange":if(AF)break;case"keydown":case"keyup":JS(je,m,be)}var Ve;if(xv)e:{switch(o){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Io?zS(o,m)&&(Xe="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Xe="onCompositionStart");Xe&&(LS&&m.locale!=="ko"&&(Io||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Io&&(Ve=IS()):(Di=be,fv="value"in Di?Di.value:Di.textContent,Io=!0)),We=ff(ue,Xe),0<We.length&&(Xe=new MS(Xe,o,null,m,be),je.push({event:Xe,listeners:We}),Ve?Xe.data=Ve:(Ve=US(m),Ve!==null&&(Xe.data=Ve)))),(Ve=yF?bF(o,m):wF(o,m))&&(ue=ff(ue,"onBeforeInput"),0<ue.length&&(be=new MS("onBeforeInput","beforeinput",null,m,be),je.push({event:be,listeners:ue}),be.data=Ve))}lC(je,c)})}function Rc(o,c,m){return{instance:o,listener:c,currentTarget:m}}function ff(o,c){for(var m=c+"Capture",x=[];o!==null;){var E=o,P=E.stateNode;E.tag===5&&P!==null&&(E=P,P=dr(o,m),P!=null&&x.unshift(Rc(o,P,E)),P=dr(o,c),P!=null&&x.push(Rc(o,P,E))),o=o.return}return x}function Mo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function uC(o,c,m,x,E){for(var P=c._reactName,M=[];m!==null&&m!==x;){var Z=m,ee=Z.alternate,ue=Z.stateNode;if(ee!==null&&ee===x)break;Z.tag===5&&ue!==null&&(Z=ue,E?(ee=dr(m,P),ee!=null&&M.unshift(Rc(m,ee,Z))):E||(ee=dr(m,P),ee!=null&&M.push(Rc(m,ee,Z)))),m=m.return}M.length!==0&&o.push({event:c,listeners:M})}var DF=/\r\n?/g,MF=/\u0000|\uFFFD/g;function dC(o){return(typeof o=="string"?o:""+o).replace(DF,`
`).replace(MF,"")}function hf(o,c,m){if(c=dC(c),dC(o)!==c&&m)throw Error(r(425))}function pf(){}var Pv=null,Ov=null;function Av(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Tv=typeof setTimeout=="function"?setTimeout:void 0,$F=typeof clearTimeout=="function"?clearTimeout:void 0,fC=typeof Promise=="function"?Promise:void 0,LF=typeof queueMicrotask=="function"?queueMicrotask:typeof fC<"u"?function(o){return fC.resolve(null).then(o).catch(FF)}:Tv;function FF(o){setTimeout(function(){throw o})}function Iv(o,c){var m=c,x=0;do{var E=m.nextSibling;if(o.removeChild(m),E&&E.nodeType===8)if(m=E.data,m==="/$"){if(x===0){o.removeChild(E),Sc(c);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=E}while(m);Sc(c)}function $i(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function hC(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return o;c--}else m==="/$"&&c++}o=o.previousSibling}return null}var $o=Math.random().toString(36).slice(2),la="__reactFiber$"+$o,Dc="__reactProps$"+$o,za="__reactContainer$"+$o,Rv="__reactEvents$"+$o,BF="__reactListeners$"+$o,zF="__reactHandles$"+$o;function Is(o){var c=o[la];if(c)return c;for(var m=o.parentNode;m;){if(c=m[za]||m[la]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(o=hC(o);o!==null;){if(m=o[la])return m;o=hC(o)}return c}o=m,m=o.parentNode}return null}function Mc(o){return o=o[la]||o[za],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Lo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function mf(o){return o[Dc]||null}var Dv=[],Fo=-1;function Li(o){return{current:o}}function $t(o){0>Fo||(o.current=Dv[Fo],Dv[Fo]=null,Fo--)}function At(o,c){Fo++,Dv[Fo]=o.current,o.current=c}var Fi={},kr=Li(Fi),Hr=Li(!1),Rs=Fi;function Bo(o,c){var m=o.type.contextTypes;if(!m)return Fi;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var E={},P;for(P in m)E[P]=c[P];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=E),E}function Gr(o){return o=o.childContextTypes,o!=null}function vf(){$t(Hr),$t(kr)}function pC(o,c,m){if(kr.current!==Fi)throw Error(r(168));At(kr,c),At(Hr,m)}function mC(o,c,m){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var E in x)if(!(E in c))throw Error(r(108,Y(o)||"Unknown",E));return K({},m,x)}function gf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Fi,Rs=kr.current,At(kr,o),At(Hr,Hr.current),!0}function vC(o,c,m){var x=o.stateNode;if(!x)throw Error(r(169));m?(o=mC(o,c,Rs),x.__reactInternalMemoizedMergedChildContext=o,$t(Hr),$t(kr),At(kr,o)):$t(Hr),At(Hr,m)}var Ua=null,xf=!1,Mv=!1;function gC(o){Ua===null?Ua=[o]:Ua.push(o)}function UF(o){xf=!0,gC(o)}function Bi(){if(!Mv&&Ua!==null){Mv=!0;var o=0,c=St;try{var m=Ua;for(St=1;o<m.length;o++){var x=m[o];do x=x(!0);while(x!==null)}Ua=null,xf=!1}catch(E){throw Ua!==null&&(Ua=Ua.slice(o+1)),yS(av,Bi),E}finally{St=c,Mv=!1}}return null}var zo=[],Uo=0,yf=null,bf=0,Pn=[],On=0,Ds=null,qa=1,Wa="";function Ms(o,c){zo[Uo++]=bf,zo[Uo++]=yf,yf=o,bf=c}function xC(o,c,m){Pn[On++]=qa,Pn[On++]=Wa,Pn[On++]=Ds,Ds=o;var x=qa;o=Wa;var E=32-qn(x)-1;x&=~(1<<E),m+=1;var P=32-qn(c)+E;if(30<P){var M=E-E%5;P=(x&(1<<M)-1).toString(32),x>>=M,E-=M,qa=1<<32-qn(c)+E|m<<E|x,Wa=P+o}else qa=1<<P|m<<E|x,Wa=o}function $v(o){o.return!==null&&(Ms(o,1),xC(o,1,0))}function Lv(o){for(;o===yf;)yf=zo[--Uo],zo[Uo]=null,bf=zo[--Uo],zo[Uo]=null;for(;o===Ds;)Ds=Pn[--On],Pn[On]=null,Wa=Pn[--On],Pn[On]=null,qa=Pn[--On],Pn[On]=null}var ln=null,cn=null,Ft=!1,Vn=null;function yC(o,c){var m=Rn(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=o,c=o.deletions,c===null?(o.deletions=[m],o.flags|=16):c.push(m)}function bC(o,c){switch(o.tag){case 5:var m=o.type;return c=c.nodeType!==1||m.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,ln=o,cn=$i(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,ln=o,cn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(m=Ds!==null?{id:qa,overflow:Wa}:null,o.memoizedState={dehydrated:c,treeContext:m,retryLane:1073741824},m=Rn(18,null,null,0),m.stateNode=c,m.return=o,o.child=m,ln=o,cn=null,!0):!1;default:return!1}}function Fv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Bv(o){if(Ft){var c=cn;if(c){var m=c;if(!bC(o,c)){if(Fv(o))throw Error(r(418));c=$i(m.nextSibling);var x=ln;c&&bC(o,c)?yC(x,m):(o.flags=o.flags&-4097|2,Ft=!1,ln=o)}}else{if(Fv(o))throw Error(r(418));o.flags=o.flags&-4097|2,Ft=!1,ln=o}}}function wC(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ln=o}function wf(o){if(o!==ln)return!1;if(!Ft)return wC(o),Ft=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Av(o.type,o.memoizedProps)),c&&(c=cn)){if(Fv(o))throw jC(),Error(r(418));for(;c;)yC(o,c),c=$i(c.nextSibling)}if(wC(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"){if(c===0){cn=$i(o.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++}o=o.nextSibling}cn=null}}else cn=ln?$i(o.stateNode.nextSibling):null;return!0}function jC(){for(var o=cn;o;)o=$i(o.nextSibling)}function qo(){cn=ln=null,Ft=!1}function zv(o){Vn===null?Vn=[o]:Vn.push(o)}var qF=O.ReactCurrentBatchConfig;function $c(o,c,m){if(o=m.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var x=m.stateNode}if(!x)throw Error(r(147,o));var E=x,P=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===P?c.ref:(c=function(M){var Z=E.refs;M===null?delete Z[P]:Z[P]=M},c._stringRef=P,c)}if(typeof o!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,o))}return o}function jf(o,c){throw o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function NC(o){var c=o._init;return c(o._payload)}function SC(o){function c(se,re){if(o){var oe=se.deletions;oe===null?(se.deletions=[re],se.flags|=16):oe.push(re)}}function m(se,re){if(!o)return null;for(;re!==null;)c(se,re),re=re.sibling;return null}function x(se,re){for(se=new Map;re!==null;)re.key!==null?se.set(re.key,re):se.set(re.index,re),re=re.sibling;return se}function E(se,re){return se=Ki(se,re),se.index=0,se.sibling=null,se}function P(se,re,oe){return se.index=oe,o?(oe=se.alternate,oe!==null?(oe=oe.index,oe<re?(se.flags|=2,re):oe):(se.flags|=2,re)):(se.flags|=1048576,re)}function M(se){return o&&se.alternate===null&&(se.flags|=2),se}function Z(se,re,oe,Se){return re===null||re.tag!==6?(re=Tg(oe,se.mode,Se),re.return=se,re):(re=E(re,oe),re.return=se,re)}function ee(se,re,oe,Se){var Ue=oe.type;return Ue===A?be(se,re,oe.props.children,Se,oe.key):re!==null&&(re.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===D&&NC(Ue)===re.type)?(Se=E(re,oe.props),Se.ref=$c(se,re,oe),Se.return=se,Se):(Se=Hf(oe.type,oe.key,oe.props,null,se.mode,Se),Se.ref=$c(se,re,oe),Se.return=se,Se)}function ue(se,re,oe,Se){return re===null||re.tag!==4||re.stateNode.containerInfo!==oe.containerInfo||re.stateNode.implementation!==oe.implementation?(re=Ig(oe,se.mode,Se),re.return=se,re):(re=E(re,oe.children||[]),re.return=se,re)}function be(se,re,oe,Se,Ue){return re===null||re.tag!==7?(re=Ws(oe,se.mode,Se,Ue),re.return=se,re):(re=E(re,oe),re.return=se,re)}function je(se,re,oe){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Tg(""+re,se.mode,oe),re.return=se,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case N:return oe=Hf(re.type,re.key,re.props,null,se.mode,oe),oe.ref=$c(se,null,re),oe.return=se,oe;case k:return re=Ig(re,se.mode,oe),re.return=se,re;case D:var Se=re._init;return je(se,Se(re._payload),oe)}if(Vr(re)||q(re))return re=Ws(re,se.mode,oe,null),re.return=se,re;jf(se,re)}return null}function ye(se,re,oe,Se){var Ue=re!==null?re.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Ue!==null?null:Z(se,re,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case N:return oe.key===Ue?ee(se,re,oe,Se):null;case k:return oe.key===Ue?ue(se,re,oe,Se):null;case D:return Ue=oe._init,ye(se,re,Ue(oe._payload),Se)}if(Vr(oe)||q(oe))return Ue!==null?null:be(se,re,oe,Se,null);jf(se,oe)}return null}function Te(se,re,oe,Se,Ue){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return se=se.get(oe)||null,Z(re,se,""+Se,Ue);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case N:return se=se.get(Se.key===null?oe:Se.key)||null,ee(re,se,Se,Ue);case k:return se=se.get(Se.key===null?oe:Se.key)||null,ue(re,se,Se,Ue);case D:var We=Se._init;return Te(se,re,oe,We(Se._payload),Ue)}if(Vr(Se)||q(Se))return se=se.get(oe)||null,be(re,se,Se,Ue,null);jf(re,Se)}return null}function $e(se,re,oe,Se){for(var Ue=null,We=null,Ve=re,Xe=re=0,pr=null;Ve!==null&&Xe<oe.length;Xe++){Ve.index>Xe?(pr=Ve,Ve=null):pr=Ve.sibling;var vt=ye(se,Ve,oe[Xe],Se);if(vt===null){Ve===null&&(Ve=pr);break}o&&Ve&&vt.alternate===null&&c(se,Ve),re=P(vt,re,Xe),We===null?Ue=vt:We.sibling=vt,We=vt,Ve=pr}if(Xe===oe.length)return m(se,Ve),Ft&&Ms(se,Xe),Ue;if(Ve===null){for(;Xe<oe.length;Xe++)Ve=je(se,oe[Xe],Se),Ve!==null&&(re=P(Ve,re,Xe),We===null?Ue=Ve:We.sibling=Ve,We=Ve);return Ft&&Ms(se,Xe),Ue}for(Ve=x(se,Ve);Xe<oe.length;Xe++)pr=Te(Ve,se,Xe,oe[Xe],Se),pr!==null&&(o&&pr.alternate!==null&&Ve.delete(pr.key===null?Xe:pr.key),re=P(pr,re,Xe),We===null?Ue=pr:We.sibling=pr,We=pr);return o&&Ve.forEach(function(Yi){return c(se,Yi)}),Ft&&Ms(se,Xe),Ue}function ze(se,re,oe,Se){var Ue=q(oe);if(typeof Ue!="function")throw Error(r(150));if(oe=Ue.call(oe),oe==null)throw Error(r(151));for(var We=Ue=null,Ve=re,Xe=re=0,pr=null,vt=oe.next();Ve!==null&&!vt.done;Xe++,vt=oe.next()){Ve.index>Xe?(pr=Ve,Ve=null):pr=Ve.sibling;var Yi=ye(se,Ve,vt.value,Se);if(Yi===null){Ve===null&&(Ve=pr);break}o&&Ve&&Yi.alternate===null&&c(se,Ve),re=P(Yi,re,Xe),We===null?Ue=Yi:We.sibling=Yi,We=Yi,Ve=pr}if(vt.done)return m(se,Ve),Ft&&Ms(se,Xe),Ue;if(Ve===null){for(;!vt.done;Xe++,vt=oe.next())vt=je(se,vt.value,Se),vt!==null&&(re=P(vt,re,Xe),We===null?Ue=vt:We.sibling=vt,We=vt);return Ft&&Ms(se,Xe),Ue}for(Ve=x(se,Ve);!vt.done;Xe++,vt=oe.next())vt=Te(Ve,se,Xe,vt.value,Se),vt!==null&&(o&&vt.alternate!==null&&Ve.delete(vt.key===null?Xe:vt.key),re=P(vt,re,Xe),We===null?Ue=vt:We.sibling=vt,We=vt);return o&&Ve.forEach(function(j8){return c(se,j8)}),Ft&&Ms(se,Xe),Ue}function Yt(se,re,oe,Se){if(typeof oe=="object"&&oe!==null&&oe.type===A&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case N:e:{for(var Ue=oe.key,We=re;We!==null;){if(We.key===Ue){if(Ue=oe.type,Ue===A){if(We.tag===7){m(se,We.sibling),re=E(We,oe.props.children),re.return=se,se=re;break e}}else if(We.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===D&&NC(Ue)===We.type){m(se,We.sibling),re=E(We,oe.props),re.ref=$c(se,We,oe),re.return=se,se=re;break e}m(se,We);break}else c(se,We);We=We.sibling}oe.type===A?(re=Ws(oe.props.children,se.mode,Se,oe.key),re.return=se,se=re):(Se=Hf(oe.type,oe.key,oe.props,null,se.mode,Se),Se.ref=$c(se,re,oe),Se.return=se,se=Se)}return M(se);case k:e:{for(We=oe.key;re!==null;){if(re.key===We)if(re.tag===4&&re.stateNode.containerInfo===oe.containerInfo&&re.stateNode.implementation===oe.implementation){m(se,re.sibling),re=E(re,oe.children||[]),re.return=se,se=re;break e}else{m(se,re);break}else c(se,re);re=re.sibling}re=Ig(oe,se.mode,Se),re.return=se,se=re}return M(se);case D:return We=oe._init,Yt(se,re,We(oe._payload),Se)}if(Vr(oe))return $e(se,re,oe,Se);if(q(oe))return ze(se,re,oe,Se);jf(se,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,re!==null&&re.tag===6?(m(se,re.sibling),re=E(re,oe),re.return=se,se=re):(m(se,re),re=Tg(oe,se.mode,Se),re.return=se,se=re),M(se)):m(se,re)}return Yt}var Wo=SC(!0),CC=SC(!1),Nf=Li(null),Sf=null,Vo=null,Uv=null;function qv(){Uv=Vo=Sf=null}function Wv(o){var c=Nf.current;$t(Nf),o._currentValue=c}function Vv(o,c,m){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===m)break;o=o.return}}function Ho(o,c){Sf=o,Uv=Vo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(Kr=!0),o.firstContext=null)}function An(o){var c=o._currentValue;if(Uv!==o)if(o={context:o,memoizedValue:c,next:null},Vo===null){if(Sf===null)throw Error(r(308));Vo=o,Sf.dependencies={lanes:0,firstContext:o}}else Vo=Vo.next=o;return c}var $s=null;function Hv(o){$s===null?$s=[o]:$s.push(o)}function _C(o,c,m,x){var E=c.interleaved;return E===null?(m.next=m,Hv(c)):(m.next=E.next,E.next=m),c.interleaved=m,Va(o,x)}function Va(o,c){o.lanes|=c;var m=o.alternate;for(m!==null&&(m.lanes|=c),m=o,o=o.return;o!==null;)o.childLanes|=c,m=o.alternate,m!==null&&(m.childLanes|=c),m=o,o=o.return;return m.tag===3?m.stateNode:null}var zi=!1;function Gv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EC(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ha(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function Ui(o,c,m){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(ht&2)!==0){var E=x.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),x.pending=c,Va(o,m)}return E=x.interleaved,E===null?(c.next=c,Hv(x)):(c.next=E.next,E.next=c),x.interleaved=c,Va(o,m)}function Cf(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,m|=x,c.lanes=m,ov(o,m)}}function kC(o,c){var m=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var E=null,P=null;if(m=m.firstBaseUpdate,m!==null){do{var M={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};P===null?E=P=M:P=P.next=M,m=m.next}while(m!==null);P===null?E=P=c:P=P.next=c}else E=P=c;m={baseState:x.baseState,firstBaseUpdate:E,lastBaseUpdate:P,shared:x.shared,effects:x.effects},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}function _f(o,c,m,x){var E=o.updateQueue;zi=!1;var P=E.firstBaseUpdate,M=E.lastBaseUpdate,Z=E.shared.pending;if(Z!==null){E.shared.pending=null;var ee=Z,ue=ee.next;ee.next=null,M===null?P=ue:M.next=ue,M=ee;var be=o.alternate;be!==null&&(be=be.updateQueue,Z=be.lastBaseUpdate,Z!==M&&(Z===null?be.firstBaseUpdate=ue:Z.next=ue,be.lastBaseUpdate=ee))}if(P!==null){var je=E.baseState;M=0,be=ue=ee=null,Z=P;do{var ye=Z.lane,Te=Z.eventTime;if((x&ye)===ye){be!==null&&(be=be.next={eventTime:Te,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var $e=o,ze=Z;switch(ye=c,Te=m,ze.tag){case 1:if($e=ze.payload,typeof $e=="function"){je=$e.call(Te,je,ye);break e}je=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=ze.payload,ye=typeof $e=="function"?$e.call(Te,je,ye):$e,ye==null)break e;je=K({},je,ye);break e;case 2:zi=!0}}Z.callback!==null&&Z.lane!==0&&(o.flags|=64,ye=E.effects,ye===null?E.effects=[Z]:ye.push(Z))}else Te={eventTime:Te,lane:ye,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},be===null?(ue=be=Te,ee=je):be=be.next=Te,M|=ye;if(Z=Z.next,Z===null){if(Z=E.shared.pending,Z===null)break;ye=Z,Z=ye.next,ye.next=null,E.lastBaseUpdate=ye,E.shared.pending=null}}while(!0);if(be===null&&(ee=je),E.baseState=ee,E.firstBaseUpdate=ue,E.lastBaseUpdate=be,c=E.shared.interleaved,c!==null){E=c;do M|=E.lane,E=E.next;while(E!==c)}else P===null&&(E.shared.lanes=0);Bs|=M,o.lanes=M,o.memoizedState=je}}function PC(o,c,m){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],E=x.callback;if(E!==null){if(x.callback=null,x=m,typeof E!="function")throw Error(r(191,E));E.call(x)}}}var Lc={},ca=Li(Lc),Fc=Li(Lc),Bc=Li(Lc);function Ls(o){if(o===Lc)throw Error(r(174));return o}function Kv(o,c){switch(At(Bc,c),At(Fc,o),At(ca,Lc),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:hc(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=hc(c,o)}$t(ca),At(ca,c)}function Go(){$t(ca),$t(Fc),$t(Bc)}function OC(o){Ls(Bc.current);var c=Ls(ca.current),m=hc(c,o.type);c!==m&&(At(Fc,o),At(ca,m))}function Yv(o){Fc.current===o&&($t(ca),$t(Fc))}var Ut=Li(0);function Ef(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Xv=[];function Qv(){for(var o=0;o<Xv.length;o++)Xv[o]._workInProgressVersionPrimary=null;Xv.length=0}var kf=O.ReactCurrentDispatcher,Zv=O.ReactCurrentBatchConfig,Fs=0,qt=null,ar=null,fr=null,Pf=!1,zc=!1,Uc=0,WF=0;function Pr(){throw Error(r(321))}function Jv(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!Wn(o[m],c[m]))return!1;return!0}function eg(o,c,m,x,E,P){if(Fs=P,qt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,kf.current=o===null||o.memoizedState===null?KF:YF,o=m(x,E),zc){P=0;do{if(zc=!1,Uc=0,25<=P)throw Error(r(301));P+=1,fr=ar=null,c.updateQueue=null,kf.current=XF,o=m(x,E)}while(zc)}if(kf.current=Tf,c=ar!==null&&ar.next!==null,Fs=0,fr=ar=qt=null,Pf=!1,c)throw Error(r(300));return o}function tg(){var o=Uc!==0;return Uc=0,o}function ua(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?qt.memoizedState=fr=o:fr=fr.next=o,fr}function Tn(){if(ar===null){var o=qt.alternate;o=o!==null?o.memoizedState:null}else o=ar.next;var c=fr===null?qt.memoizedState:fr.next;if(c!==null)fr=c,ar=o;else{if(o===null)throw Error(r(310));ar=o,o={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},fr===null?qt.memoizedState=fr=o:fr=fr.next=o}return fr}function qc(o,c){return typeof c=="function"?c(o):c}function rg(o){var c=Tn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=o;var x=ar,E=x.baseQueue,P=m.pending;if(P!==null){if(E!==null){var M=E.next;E.next=P.next,P.next=M}x.baseQueue=E=P,m.pending=null}if(E!==null){P=E.next,x=x.baseState;var Z=M=null,ee=null,ue=P;do{var be=ue.lane;if((Fs&be)===be)ee!==null&&(ee=ee.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),x=ue.hasEagerState?ue.eagerState:o(x,ue.action);else{var je={lane:be,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};ee===null?(Z=ee=je,M=x):ee=ee.next=je,qt.lanes|=be,Bs|=be}ue=ue.next}while(ue!==null&&ue!==P);ee===null?M=x:ee.next=Z,Wn(x,c.memoizedState)||(Kr=!0),c.memoizedState=x,c.baseState=M,c.baseQueue=ee,m.lastRenderedState=x}if(o=m.interleaved,o!==null){E=o;do P=E.lane,qt.lanes|=P,Bs|=P,E=E.next;while(E!==o)}else E===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function ng(o){var c=Tn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=o;var x=m.dispatch,E=m.pending,P=c.memoizedState;if(E!==null){m.pending=null;var M=E=E.next;do P=o(P,M.action),M=M.next;while(M!==E);Wn(P,c.memoizedState)||(Kr=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),m.lastRenderedState=P}return[P,x]}function AC(){}function TC(o,c){var m=qt,x=Tn(),E=c(),P=!Wn(x.memoizedState,E);if(P&&(x.memoizedState=E,Kr=!0),x=x.queue,ag(DC.bind(null,m,x,o),[o]),x.getSnapshot!==c||P||fr!==null&&fr.memoizedState.tag&1){if(m.flags|=2048,Wc(9,RC.bind(null,m,x,E,c),void 0,null),hr===null)throw Error(r(349));(Fs&30)!==0||IC(m,c,E)}return E}function IC(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=qt.updateQueue,c===null?(c={lastEffect:null,stores:null},qt.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function RC(o,c,m,x){c.value=m,c.getSnapshot=x,MC(c)&&$C(o)}function DC(o,c,m){return m(function(){MC(c)&&$C(o)})}function MC(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!Wn(o,m)}catch{return!0}}function $C(o){var c=Va(o,1);c!==null&&Yn(c,o,1,-1)}function LC(o){var c=ua();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:o},c.queue=o,o=o.dispatch=GF.bind(null,qt,o),[c.memoizedState,o]}function Wc(o,c,m,x){return o={tag:o,create:c,destroy:m,deps:x,next:null},c=qt.updateQueue,c===null?(c={lastEffect:null,stores:null},qt.updateQueue=c,c.lastEffect=o.next=o):(m=c.lastEffect,m===null?c.lastEffect=o.next=o:(x=m.next,m.next=o,o.next=x,c.lastEffect=o)),o}function FC(){return Tn().memoizedState}function Of(o,c,m,x){var E=ua();qt.flags|=o,E.memoizedState=Wc(1|c,m,void 0,x===void 0?null:x)}function Af(o,c,m,x){var E=Tn();x=x===void 0?null:x;var P=void 0;if(ar!==null){var M=ar.memoizedState;if(P=M.destroy,x!==null&&Jv(x,M.deps)){E.memoizedState=Wc(c,m,P,x);return}}qt.flags|=o,E.memoizedState=Wc(1|c,m,P,x)}function BC(o,c){return Of(8390656,8,o,c)}function ag(o,c){return Af(2048,8,o,c)}function zC(o,c){return Af(4,2,o,c)}function UC(o,c){return Af(4,4,o,c)}function qC(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function WC(o,c,m){return m=m!=null?m.concat([o]):null,Af(4,4,qC.bind(null,c,o),m)}function ig(){}function VC(o,c){var m=Tn();c=c===void 0?null:c;var x=m.memoizedState;return x!==null&&c!==null&&Jv(c,x[1])?x[0]:(m.memoizedState=[o,c],o)}function HC(o,c){var m=Tn();c=c===void 0?null:c;var x=m.memoizedState;return x!==null&&c!==null&&Jv(c,x[1])?x[0]:(o=o(),m.memoizedState=[o,c],o)}function GC(o,c,m){return(Fs&21)===0?(o.baseState&&(o.baseState=!1,Kr=!0),o.memoizedState=m):(Wn(m,c)||(m=NS(),qt.lanes|=m,Bs|=m,o.baseState=!0),c)}function VF(o,c){var m=St;St=m!==0&&4>m?m:4,o(!0);var x=Zv.transition;Zv.transition={};try{o(!1),c()}finally{St=m,Zv.transition=x}}function KC(){return Tn().memoizedState}function HF(o,c,m){var x=Hi(o);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},YC(o))XC(c,m);else if(m=_C(o,c,m,x),m!==null){var E=$r();Yn(m,o,x,E),QC(m,c,x)}}function GF(o,c,m){var x=Hi(o),E={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(YC(o))XC(c,E);else{var P=o.alternate;if(o.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var M=c.lastRenderedState,Z=P(M,m);if(E.hasEagerState=!0,E.eagerState=Z,Wn(Z,M)){var ee=c.interleaved;ee===null?(E.next=E,Hv(c)):(E.next=ee.next,ee.next=E),c.interleaved=E;return}}catch{}finally{}m=_C(o,c,E,x),m!==null&&(E=$r(),Yn(m,o,x,E),QC(m,c,x))}}function YC(o){var c=o.alternate;return o===qt||c!==null&&c===qt}function XC(o,c){zc=Pf=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function QC(o,c,m){if((m&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,m|=x,c.lanes=m,ov(o,m)}}var Tf={readContext:An,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},KF={readContext:An,useCallback:function(o,c){return ua().memoizedState=[o,c===void 0?null:c],o},useContext:An,useEffect:BC,useImperativeHandle:function(o,c,m){return m=m!=null?m.concat([o]):null,Of(4194308,4,qC.bind(null,c,o),m)},useLayoutEffect:function(o,c){return Of(4194308,4,o,c)},useInsertionEffect:function(o,c){return Of(4,2,o,c)},useMemo:function(o,c){var m=ua();return c=c===void 0?null:c,o=o(),m.memoizedState=[o,c],o},useReducer:function(o,c,m){var x=ua();return c=m!==void 0?m(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=HF.bind(null,qt,o),[x.memoizedState,o]},useRef:function(o){var c=ua();return o={current:o},c.memoizedState=o},useState:LC,useDebugValue:ig,useDeferredValue:function(o){return ua().memoizedState=o},useTransition:function(){var o=LC(!1),c=o[0];return o=VF.bind(null,o[1]),ua().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,m){var x=qt,E=ua();if(Ft){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),hr===null)throw Error(r(349));(Fs&30)!==0||IC(x,c,m)}E.memoizedState=m;var P={value:m,getSnapshot:c};return E.queue=P,BC(DC.bind(null,x,P,o),[o]),x.flags|=2048,Wc(9,RC.bind(null,x,P,m,c),void 0,null),m},useId:function(){var o=ua(),c=hr.identifierPrefix;if(Ft){var m=Wa,x=qa;m=(x&~(1<<32-qn(x)-1)).toString(32)+m,c=":"+c+"R"+m,m=Uc++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=WF++,c=":"+c+"r"+m.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},YF={readContext:An,useCallback:VC,useContext:An,useEffect:ag,useImperativeHandle:WC,useInsertionEffect:zC,useLayoutEffect:UC,useMemo:HC,useReducer:rg,useRef:FC,useState:function(){return rg(qc)},useDebugValue:ig,useDeferredValue:function(o){var c=Tn();return GC(c,ar.memoizedState,o)},useTransition:function(){var o=rg(qc)[0],c=Tn().memoizedState;return[o,c]},useMutableSource:AC,useSyncExternalStore:TC,useId:KC,unstable_isNewReconciler:!1},XF={readContext:An,useCallback:VC,useContext:An,useEffect:ag,useImperativeHandle:WC,useInsertionEffect:zC,useLayoutEffect:UC,useMemo:HC,useReducer:ng,useRef:FC,useState:function(){return ng(qc)},useDebugValue:ig,useDeferredValue:function(o){var c=Tn();return ar===null?c.memoizedState=o:GC(c,ar.memoizedState,o)},useTransition:function(){var o=ng(qc)[0],c=Tn().memoizedState;return[o,c]},useMutableSource:AC,useSyncExternalStore:TC,useId:KC,unstable_isNewReconciler:!1};function Hn(o,c){if(o&&o.defaultProps){c=K({},c),o=o.defaultProps;for(var m in o)c[m]===void 0&&(c[m]=o[m]);return c}return c}function sg(o,c,m,x){c=o.memoizedState,m=m(x,c),m=m==null?c:K({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var If={isMounted:function(o){return(o=o._reactInternals)?Ts(o)===o:!1},enqueueSetState:function(o,c,m){o=o._reactInternals;var x=$r(),E=Hi(o),P=Ha(x,E);P.payload=c,m!=null&&(P.callback=m),c=Ui(o,P,E),c!==null&&(Yn(c,o,E,x),Cf(c,o,E))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var x=$r(),E=Hi(o),P=Ha(x,E);P.tag=1,P.payload=c,m!=null&&(P.callback=m),c=Ui(o,P,E),c!==null&&(Yn(c,o,E,x),Cf(c,o,E))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=$r(),x=Hi(o),E=Ha(m,x);E.tag=2,c!=null&&(E.callback=c),c=Ui(o,E,x),c!==null&&(Yn(c,o,x,m),Cf(c,o,x))}};function ZC(o,c,m,x,E,P,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,P,M):c.prototype&&c.prototype.isPureReactComponent?!Oc(m,x)||!Oc(E,P):!0}function JC(o,c,m){var x=!1,E=Fi,P=c.contextType;return typeof P=="object"&&P!==null?P=An(P):(E=Gr(c)?Rs:kr.current,x=c.contextTypes,P=(x=x!=null)?Bo(o,E):Fi),c=new c(m,P),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=If,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=E,o.__reactInternalMemoizedMaskedChildContext=P),c}function e_(o,c,m,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==o&&If.enqueueReplaceState(c,c.state,null)}function og(o,c,m,x){var E=o.stateNode;E.props=m,E.state=o.memoizedState,E.refs={},Gv(o);var P=c.contextType;typeof P=="object"&&P!==null?E.context=An(P):(P=Gr(c)?Rs:kr.current,E.context=Bo(o,P)),E.state=o.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(sg(o,c,P,m),E.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(c=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),c!==E.state&&If.enqueueReplaceState(E,E.state,null),_f(o,m,E,x),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308)}function Ko(o,c){try{var m="",x=c;do m+=J(x),x=x.return;while(x);var E=m}catch(P){E=`
Error generating stack: `+P.message+`
`+P.stack}return{value:o,source:c,stack:E,digest:null}}function lg(o,c,m){return{value:o,source:null,stack:m??null,digest:c??null}}function cg(o,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var QF=typeof WeakMap=="function"?WeakMap:Map;function t_(o,c,m){m=Ha(-1,m),m.tag=3,m.payload={element:null};var x=c.value;return m.callback=function(){Bf||(Bf=!0,Sg=x),cg(o,c)},m}function r_(o,c,m){m=Ha(-1,m),m.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var E=c.value;m.payload=function(){return x(E)},m.callback=function(){cg(o,c)}}var P=o.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(m.callback=function(){cg(o,c),typeof x!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})}),m}function n_(o,c,m){var x=o.pingCache;if(x===null){x=o.pingCache=new QF;var E=new Set;x.set(c,E)}else E=x.get(c),E===void 0&&(E=new Set,x.set(c,E));E.has(m)||(E.add(m),o=d8.bind(null,o,c,m),c.then(o,o))}function a_(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function i_(o,c,m,x,E){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(c=Ha(-1,1),c.tag=2,Ui(m,c,1))),m.lanes|=1),o):(o.flags|=65536,o.lanes=E,o)}var ZF=O.ReactCurrentOwner,Kr=!1;function Mr(o,c,m,x){c.child=o===null?CC(c,null,m,x):Wo(c,o.child,m,x)}function s_(o,c,m,x,E){m=m.render;var P=c.ref;return Ho(c,E),x=eg(o,c,m,x,P,E),m=tg(),o!==null&&!Kr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~E,Ga(o,c,E)):(Ft&&m&&$v(c),c.flags|=1,Mr(o,c,x,E),c.child)}function o_(o,c,m,x,E){if(o===null){var P=m.type;return typeof P=="function"&&!Ag(P)&&P.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(c.tag=15,c.type=P,l_(o,c,P,x,E)):(o=Hf(m.type,null,x,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(P=o.child,(o.lanes&E)===0){var M=P.memoizedProps;if(m=m.compare,m=m!==null?m:Oc,m(M,x)&&o.ref===c.ref)return Ga(o,c,E)}return c.flags|=1,o=Ki(P,x),o.ref=c.ref,o.return=c,c.child=o}function l_(o,c,m,x,E){if(o!==null){var P=o.memoizedProps;if(Oc(P,x)&&o.ref===c.ref)if(Kr=!1,c.pendingProps=x=P,(o.lanes&E)!==0)(o.flags&131072)!==0&&(Kr=!0);else return c.lanes=o.lanes,Ga(o,c,E)}return ug(o,c,m,x,E)}function c_(o,c,m){var x=c.pendingProps,E=x.children,P=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(Xo,un),un|=m;else{if((m&1073741824)===0)return o=P!==null?P.baseLanes|m:m,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,At(Xo,un),un|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=P!==null?P.baseLanes:m,At(Xo,un),un|=x}else P!==null?(x=P.baseLanes|m,c.memoizedState=null):x=m,At(Xo,un),un|=x;return Mr(o,c,E,m),c.child}function u_(o,c){var m=c.ref;(o===null&&m!==null||o!==null&&o.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function ug(o,c,m,x,E){var P=Gr(m)?Rs:kr.current;return P=Bo(c,P),Ho(c,E),m=eg(o,c,m,x,P,E),x=tg(),o!==null&&!Kr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~E,Ga(o,c,E)):(Ft&&x&&$v(c),c.flags|=1,Mr(o,c,m,E),c.child)}function d_(o,c,m,x,E){if(Gr(m)){var P=!0;gf(c)}else P=!1;if(Ho(c,E),c.stateNode===null)Df(o,c),JC(c,m,x),og(c,m,x,E),x=!0;else if(o===null){var M=c.stateNode,Z=c.memoizedProps;M.props=Z;var ee=M.context,ue=m.contextType;typeof ue=="object"&&ue!==null?ue=An(ue):(ue=Gr(m)?Rs:kr.current,ue=Bo(c,ue));var be=m.getDerivedStateFromProps,je=typeof be=="function"||typeof M.getSnapshotBeforeUpdate=="function";je||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(Z!==x||ee!==ue)&&e_(c,M,x,ue),zi=!1;var ye=c.memoizedState;M.state=ye,_f(c,x,M,E),ee=c.memoizedState,Z!==x||ye!==ee||Hr.current||zi?(typeof be=="function"&&(sg(c,m,be,x),ee=c.memoizedState),(Z=zi||ZC(c,m,Z,x,ye,ee,ue))?(je||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(c.flags|=4194308)):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=ee),M.props=x,M.state=ee,M.context=ue,x=Z):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{M=c.stateNode,EC(o,c),Z=c.memoizedProps,ue=c.type===c.elementType?Z:Hn(c.type,Z),M.props=ue,je=c.pendingProps,ye=M.context,ee=m.contextType,typeof ee=="object"&&ee!==null?ee=An(ee):(ee=Gr(m)?Rs:kr.current,ee=Bo(c,ee));var Te=m.getDerivedStateFromProps;(be=typeof Te=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(Z!==je||ye!==ee)&&e_(c,M,x,ee),zi=!1,ye=c.memoizedState,M.state=ye,_f(c,x,M,E);var $e=c.memoizedState;Z!==je||ye!==$e||Hr.current||zi?(typeof Te=="function"&&(sg(c,m,Te,x),$e=c.memoizedState),(ue=zi||ZC(c,m,ue,x,ye,$e,ee)||!1)?(be||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(x,$e,ee),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(x,$e,ee)),typeof M.componentDidUpdate=="function"&&(c.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof M.componentDidUpdate!="function"||Z===o.memoizedProps&&ye===o.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||Z===o.memoizedProps&&ye===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=$e),M.props=x,M.state=$e,M.context=ee,x=ue):(typeof M.componentDidUpdate!="function"||Z===o.memoizedProps&&ye===o.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||Z===o.memoizedProps&&ye===o.memoizedState||(c.flags|=1024),x=!1)}return dg(o,c,m,x,P,E)}function dg(o,c,m,x,E,P){u_(o,c);var M=(c.flags&128)!==0;if(!x&&!M)return E&&vC(c,m,!1),Ga(o,c,P);x=c.stateNode,ZF.current=c;var Z=M&&typeof m.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&M?(c.child=Wo(c,o.child,null,P),c.child=Wo(c,null,Z,P)):Mr(o,c,Z,P),c.memoizedState=x.state,E&&vC(c,m,!0),c.child}function f_(o){var c=o.stateNode;c.pendingContext?pC(o,c.pendingContext,c.pendingContext!==c.context):c.context&&pC(o,c.context,!1),Kv(o,c.containerInfo)}function h_(o,c,m,x,E){return qo(),zv(E),c.flags|=256,Mr(o,c,m,x),c.child}var fg={dehydrated:null,treeContext:null,retryLane:0};function hg(o){return{baseLanes:o,cachePool:null,transitions:null}}function p_(o,c,m){var x=c.pendingProps,E=Ut.current,P=!1,M=(c.flags&128)!==0,Z;if((Z=M)||(Z=o!==null&&o.memoizedState===null?!1:(E&2)!==0),Z?(P=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(E|=1),At(Ut,E&1),o===null)return Bv(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(M=x.children,o=x.fallback,P?(x=c.mode,P=c.child,M={mode:"hidden",children:M},(x&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=M):P=Gf(M,x,0,null),o=Ws(o,x,m,null),P.return=c,o.return=c,P.sibling=o,c.child=P,c.child.memoizedState=hg(m),c.memoizedState=fg,o):pg(c,M));if(E=o.memoizedState,E!==null&&(Z=E.dehydrated,Z!==null))return JF(o,c,M,x,Z,E,m);if(P){P=x.fallback,M=c.mode,E=o.child,Z=E.sibling;var ee={mode:"hidden",children:x.children};return(M&1)===0&&c.child!==E?(x=c.child,x.childLanes=0,x.pendingProps=ee,c.deletions=null):(x=Ki(E,ee),x.subtreeFlags=E.subtreeFlags&14680064),Z!==null?P=Ki(Z,P):(P=Ws(P,M,m,null),P.flags|=2),P.return=c,x.return=c,x.sibling=P,c.child=x,x=P,P=c.child,M=o.child.memoizedState,M=M===null?hg(m):{baseLanes:M.baseLanes|m,cachePool:null,transitions:M.transitions},P.memoizedState=M,P.childLanes=o.childLanes&~m,c.memoizedState=fg,x}return P=o.child,o=P.sibling,x=Ki(P,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=m),x.return=c,x.sibling=null,o!==null&&(m=c.deletions,m===null?(c.deletions=[o],c.flags|=16):m.push(o)),c.child=x,c.memoizedState=null,x}function pg(o,c){return c=Gf({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Rf(o,c,m,x){return x!==null&&zv(x),Wo(c,o.child,null,m),o=pg(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function JF(o,c,m,x,E,P,M){if(m)return c.flags&256?(c.flags&=-257,x=lg(Error(r(422))),Rf(o,c,M,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(P=x.fallback,E=c.mode,x=Gf({mode:"visible",children:x.children},E,0,null),P=Ws(P,E,M,null),P.flags|=2,x.return=c,P.return=c,x.sibling=P,c.child=x,(c.mode&1)!==0&&Wo(c,o.child,null,M),c.child.memoizedState=hg(M),c.memoizedState=fg,P);if((c.mode&1)===0)return Rf(o,c,M,null);if(E.data==="$!"){if(x=E.nextSibling&&E.nextSibling.dataset,x)var Z=x.dgst;return x=Z,P=Error(r(419)),x=lg(P,x,void 0),Rf(o,c,M,x)}if(Z=(M&o.childLanes)!==0,Kr||Z){if(x=hr,x!==null){switch(M&-M){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(x.suspendedLanes|M))!==0?0:E,E!==0&&E!==P.retryLane&&(P.retryLane=E,Va(o,E),Yn(x,o,E,-1))}return Og(),x=lg(Error(r(421))),Rf(o,c,M,x)}return E.data==="$?"?(c.flags|=128,c.child=o.child,c=f8.bind(null,o),E._reactRetry=c,null):(o=P.treeContext,cn=$i(E.nextSibling),ln=c,Ft=!0,Vn=null,o!==null&&(Pn[On++]=qa,Pn[On++]=Wa,Pn[On++]=Ds,qa=o.id,Wa=o.overflow,Ds=c),c=pg(c,x.children),c.flags|=4096,c)}function m_(o,c,m){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),Vv(o.return,c,m)}function mg(o,c,m,x,E){var P=o.memoizedState;P===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:E}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=x,P.tail=m,P.tailMode=E)}function v_(o,c,m){var x=c.pendingProps,E=x.revealOrder,P=x.tail;if(Mr(o,c,x.children,m),x=Ut.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&m_(o,m,c);else if(o.tag===19)m_(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(At(Ut,x),(c.mode&1)===0)c.memoizedState=null;else switch(E){case"forwards":for(m=c.child,E=null;m!==null;)o=m.alternate,o!==null&&Ef(o)===null&&(E=m),m=m.sibling;m=E,m===null?(E=c.child,c.child=null):(E=m.sibling,m.sibling=null),mg(c,!1,E,m,P);break;case"backwards":for(m=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&Ef(o)===null){c.child=E;break}o=E.sibling,E.sibling=m,m=E,E=o}mg(c,!0,m,null,P);break;case"together":mg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Df(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Ga(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),Bs|=c.lanes,(m&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,m=Ki(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=Ki(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function e8(o,c,m){switch(c.tag){case 3:f_(c),qo();break;case 5:OC(c);break;case 1:Gr(c.type)&&gf(c);break;case 4:Kv(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,E=c.memoizedProps.value;At(Nf,x._currentValue),x._currentValue=E;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(At(Ut,Ut.current&1),c.flags|=128,null):(m&c.child.childLanes)!==0?p_(o,c,m):(At(Ut,Ut.current&1),o=Ga(o,c,m),o!==null?o.sibling:null);At(Ut,Ut.current&1);break;case 19:if(x=(m&c.childLanes)!==0,(o.flags&128)!==0){if(x)return v_(o,c,m);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),At(Ut,Ut.current),x)break;return null;case 22:case 23:return c.lanes=0,c_(o,c,m)}return Ga(o,c,m)}var g_,vg,x_,y_;g_=function(o,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},vg=function(){},x_=function(o,c,m,x){var E=o.memoizedProps;if(E!==x){o=c.stateNode,Ls(ca.current);var P=null;switch(m){case"input":E=de(o,E),x=de(o,x),P=[];break;case"select":E=K({},E,{value:void 0}),x=K({},x,{value:void 0}),P=[];break;case"textarea":E=Dt(o,E),x=Dt(o,x),P=[];break;default:typeof E.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=pf)}Oo(m,x);var M;m=null;for(ue in E)if(!x.hasOwnProperty(ue)&&E.hasOwnProperty(ue)&&E[ue]!=null)if(ue==="style"){var Z=E[ue];for(M in Z)Z.hasOwnProperty(M)&&(m||(m={}),m[M]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(i.hasOwnProperty(ue)?P||(P=[]):(P=P||[]).push(ue,null));for(ue in x){var ee=x[ue];if(Z=E?.[ue],x.hasOwnProperty(ue)&&ee!==Z&&(ee!=null||Z!=null))if(ue==="style")if(Z){for(M in Z)!Z.hasOwnProperty(M)||ee&&ee.hasOwnProperty(M)||(m||(m={}),m[M]="");for(M in ee)ee.hasOwnProperty(M)&&Z[M]!==ee[M]&&(m||(m={}),m[M]=ee[M])}else m||(P||(P=[]),P.push(ue,m)),m=ee;else ue==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,Z=Z?Z.__html:void 0,ee!=null&&Z!==ee&&(P=P||[]).push(ue,ee)):ue==="children"?typeof ee!="string"&&typeof ee!="number"||(P=P||[]).push(ue,""+ee):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(ue)?(ee!=null&&ue==="onScroll"&&Mt("scroll",o),P||Z===ee||(P=[])):(P=P||[]).push(ue,ee))}m&&(P=P||[]).push("style",m);var ue=P;(c.updateQueue=ue)&&(c.flags|=4)}},y_=function(o,c,m,x){m!==x&&(c.flags|=4)};function Vc(o,c){if(!Ft)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Or(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,x=0;if(c)for(var E=o.child;E!==null;)m|=E.lanes|E.childLanes,x|=E.subtreeFlags&14680064,x|=E.flags&14680064,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)m|=E.lanes|E.childLanes,x|=E.subtreeFlags,x|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=x,o.childLanes=m,c}function t8(o,c,m){var x=c.pendingProps;switch(Lv(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(c),null;case 1:return Gr(c.type)&&vf(),Or(c),null;case 3:return x=c.stateNode,Go(),$t(Hr),$t(kr),Qv(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(wf(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Vn!==null&&(Eg(Vn),Vn=null))),vg(o,c),Or(c),null;case 5:Yv(c);var E=Ls(Bc.current);if(m=c.type,o!==null&&c.stateNode!=null)x_(o,c,m,x,E),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Or(c),null}if(o=Ls(ca.current),wf(c)){x=c.stateNode,m=c.type;var P=c.memoizedProps;switch(x[la]=c,x[Dc]=P,o=(c.mode&1)!==0,m){case"dialog":Mt("cancel",x),Mt("close",x);break;case"iframe":case"object":case"embed":Mt("load",x);break;case"video":case"audio":for(E=0;E<Tc.length;E++)Mt(Tc[E],x);break;case"source":Mt("error",x);break;case"img":case"image":case"link":Mt("error",x),Mt("load",x);break;case"details":Mt("toggle",x);break;case"input":Me(x,P),Mt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!P.multiple},Mt("invalid",x);break;case"textarea":an(x,P),Mt("invalid",x)}Oo(m,P),E=null;for(var M in P)if(P.hasOwnProperty(M)){var Z=P[M];M==="children"?typeof Z=="string"?x.textContent!==Z&&(P.suppressHydrationWarning!==!0&&hf(x.textContent,Z,o),E=["children",Z]):typeof Z=="number"&&x.textContent!==""+Z&&(P.suppressHydrationWarning!==!0&&hf(x.textContent,Z,o),E=["children",""+Z]):i.hasOwnProperty(M)&&Z!=null&&M==="onScroll"&&Mt("scroll",x)}switch(m){case"input":Ce(x),zt(x,P,!0);break;case"textarea":Ce(x),ks(x);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(x.onclick=pf)}x=E,c.updateQueue=x,x!==null&&(c.flags|=4)}else{M=E.nodeType===9?E:E.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ps(m)),o==="http://www.w3.org/1999/xhtml"?m==="script"?(o=M.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=M.createElement(m,{is:x.is}):(o=M.createElement(m),m==="select"&&(M=o,x.multiple?M.multiple=!0:x.size&&(M.size=x.size))):o=M.createElementNS(o,m),o[la]=c,o[Dc]=x,g_(o,c,!1,!1),c.stateNode=o;e:{switch(M=pc(m,x),m){case"dialog":Mt("cancel",o),Mt("close",o),E=x;break;case"iframe":case"object":case"embed":Mt("load",o),E=x;break;case"video":case"audio":for(E=0;E<Tc.length;E++)Mt(Tc[E],o);E=x;break;case"source":Mt("error",o),E=x;break;case"img":case"image":case"link":Mt("error",o),Mt("load",o),E=x;break;case"details":Mt("toggle",o),E=x;break;case"input":Me(o,x),E=de(o,x),Mt("invalid",o);break;case"option":E=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},E=K({},x,{value:void 0}),Mt("invalid",o);break;case"textarea":an(o,x),E=Dt(o,x),Mt("invalid",o);break;default:E=x}Oo(m,E),Z=E;for(P in Z)if(Z.hasOwnProperty(P)){var ee=Z[P];P==="style"?Hd(o,ee):P==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&Po(o,ee)):P==="children"?typeof ee=="string"?(m!=="textarea"||ee!=="")&&_n(o,ee):typeof ee=="number"&&_n(o,""+ee):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(i.hasOwnProperty(P)?ee!=null&&P==="onScroll"&&Mt("scroll",o):ee!=null&&_(o,P,ee,M))}switch(m){case"input":Ce(o),zt(o,x,!1);break;case"textarea":Ce(o),ks(o);break;case"option":x.value!=null&&o.setAttribute("value",""+ce(x.value));break;case"select":o.multiple=!!x.multiple,P=x.value,P!=null?_r(o,!!x.multiple,P,!1):x.defaultValue!=null&&_r(o,!!x.multiple,x.defaultValue,!0);break;default:typeof E.onClick=="function"&&(o.onclick=pf)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Or(c),null;case 6:if(o&&c.stateNode!=null)y_(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(m=Ls(Bc.current),Ls(ca.current),wf(c)){if(x=c.stateNode,m=c.memoizedProps,x[la]=c,(P=x.nodeValue!==m)&&(o=ln,o!==null))switch(o.tag){case 3:hf(x.nodeValue,m,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&hf(x.nodeValue,m,(o.mode&1)!==0)}P&&(c.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[la]=c,c.stateNode=x}return Or(c),null;case 13:if($t(Ut),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ft&&cn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)jC(),qo(),c.flags|=98560,P=!1;else if(P=wf(c),x!==null&&x.dehydrated!==null){if(o===null){if(!P)throw Error(r(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[la]=c}else qo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Or(c),P=!1}else Vn!==null&&(Eg(Vn),Vn=null),P=!0;if(!P)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=m,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(Ut.current&1)!==0?ir===0&&(ir=3):Og())),c.updateQueue!==null&&(c.flags|=4),Or(c),null);case 4:return Go(),vg(o,c),o===null&&Ic(c.stateNode.containerInfo),Or(c),null;case 10:return Wv(c.type._context),Or(c),null;case 17:return Gr(c.type)&&vf(),Or(c),null;case 19:if($t(Ut),P=c.memoizedState,P===null)return Or(c),null;if(x=(c.flags&128)!==0,M=P.rendering,M===null)if(x)Vc(P,!1);else{if(ir!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(M=Ef(o),M!==null){for(c.flags|=128,Vc(P,!1),x=M.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=m,m=c.child;m!==null;)P=m,o=x,P.flags&=14680066,M=P.alternate,M===null?(P.childLanes=0,P.lanes=o,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=M.childLanes,P.lanes=M.lanes,P.child=M.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=M.memoizedProps,P.memoizedState=M.memoizedState,P.updateQueue=M.updateQueue,P.type=M.type,o=M.dependencies,P.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),m=m.sibling;return At(Ut,Ut.current&1|2),c.child}o=o.sibling}P.tail!==null&&Kt()>Qo&&(c.flags|=128,x=!0,Vc(P,!1),c.lanes=4194304)}else{if(!x)if(o=Ef(M),o!==null){if(c.flags|=128,x=!0,m=o.updateQueue,m!==null&&(c.updateQueue=m,c.flags|=4),Vc(P,!0),P.tail===null&&P.tailMode==="hidden"&&!M.alternate&&!Ft)return Or(c),null}else 2*Kt()-P.renderingStartTime>Qo&&m!==1073741824&&(c.flags|=128,x=!0,Vc(P,!1),c.lanes=4194304);P.isBackwards?(M.sibling=c.child,c.child=M):(m=P.last,m!==null?m.sibling=M:c.child=M,P.last=M)}return P.tail!==null?(c=P.tail,P.rendering=c,P.tail=c.sibling,P.renderingStartTime=Kt(),c.sibling=null,m=Ut.current,At(Ut,x?m&1|2:m&1),c):(Or(c),null);case 22:case 23:return Pg(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(un&1073741824)!==0&&(Or(c),c.subtreeFlags&6&&(c.flags|=8192)):Or(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function r8(o,c){switch(Lv(c),c.tag){case 1:return Gr(c.type)&&vf(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Go(),$t(Hr),$t(kr),Qv(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return Yv(c),null;case 13:if($t(Ut),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));qo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return $t(Ut),null;case 4:return Go(),null;case 10:return Wv(c.type._context),null;case 22:case 23:return Pg(),null;case 24:return null;default:return null}}var Mf=!1,Ar=!1,n8=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Yo(o,c){var m=o.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){Wt(o,c,x)}else m.current=null}function gg(o,c,m){try{m()}catch(x){Wt(o,c,x)}}var b_=!1;function a8(o,c){if(Pv=tf,o=ZS(),wv(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var E=x.anchorOffset,P=x.focusNode;x=x.focusOffset;try{m.nodeType,P.nodeType}catch{m=null;break e}var M=0,Z=-1,ee=-1,ue=0,be=0,je=o,ye=null;t:for(;;){for(var Te;je!==m||E!==0&&je.nodeType!==3||(Z=M+E),je!==P||x!==0&&je.nodeType!==3||(ee=M+x),je.nodeType===3&&(M+=je.nodeValue.length),(Te=je.firstChild)!==null;)ye=je,je=Te;for(;;){if(je===o)break t;if(ye===m&&++ue===E&&(Z=M),ye===P&&++be===x&&(ee=M),(Te=je.nextSibling)!==null)break;je=ye,ye=je.parentNode}je=Te}m=Z===-1||ee===-1?null:{start:Z,end:ee}}else m=null}m=m||{start:0,end:0}}else m=null;for(Ov={focusedElem:o,selectionRange:m},tf=!1,Re=c;Re!==null;)if(c=Re,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Re=o;else for(;Re!==null;){c=Re;try{var $e=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var ze=$e.memoizedProps,Yt=$e.memoizedState,se=c.stateNode,re=se.getSnapshotBeforeUpdate(c.elementType===c.type?ze:Hn(c.type,ze),Yt);se.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var oe=c.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Se){Wt(c,c.return,Se)}if(o=c.sibling,o!==null){o.return=c.return,Re=o;break}Re=c.return}return $e=b_,b_=!1,$e}function Hc(o,c,m){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var E=x=x.next;do{if((E.tag&o)===o){var P=E.destroy;E.destroy=void 0,P!==void 0&&gg(c,m,P)}E=E.next}while(E!==x)}}function $f(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&o)===o){var x=m.create;m.destroy=x()}m=m.next}while(m!==c)}}function xg(o){var c=o.ref;if(c!==null){var m=o.stateNode;switch(o.tag){case 5:o=m;break;default:o=m}typeof c=="function"?c(o):c.current=o}}function w_(o){var c=o.alternate;c!==null&&(o.alternate=null,w_(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[la],delete c[Dc],delete c[Rv],delete c[BF],delete c[zF])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function j_(o){return o.tag===5||o.tag===3||o.tag===4}function N_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||j_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function yg(o,c,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?m.nodeType===8?m.parentNode.insertBefore(o,c):m.insertBefore(o,c):(m.nodeType===8?(c=m.parentNode,c.insertBefore(o,m)):(c=m,c.appendChild(o)),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=pf));else if(x!==4&&(o=o.child,o!==null))for(yg(o,c,m),o=o.sibling;o!==null;)yg(o,c,m),o=o.sibling}function bg(o,c,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?m.insertBefore(o,c):m.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(bg(o,c,m),o=o.sibling;o!==null;)bg(o,c,m),o=o.sibling}var br=null,Gn=!1;function qi(o,c,m){for(m=m.child;m!==null;)S_(o,c,m),m=m.sibling}function S_(o,c,m){if(oa&&typeof oa.onCommitFiberUnmount=="function")try{oa.onCommitFiberUnmount(Yd,m)}catch{}switch(m.tag){case 5:Ar||Yo(m,c);case 6:var x=br,E=Gn;br=null,qi(o,c,m),br=x,Gn=E,br!==null&&(Gn?(o=br,m=m.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)):br.removeChild(m.stateNode));break;case 18:br!==null&&(Gn?(o=br,m=m.stateNode,o.nodeType===8?Iv(o.parentNode,m):o.nodeType===1&&Iv(o,m),Sc(o)):Iv(br,m.stateNode));break;case 4:x=br,E=Gn,br=m.stateNode.containerInfo,Gn=!0,qi(o,c,m),br=x,Gn=E;break;case 0:case 11:case 14:case 15:if(!Ar&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){E=x=x.next;do{var P=E,M=P.destroy;P=P.tag,M!==void 0&&((P&2)!==0||(P&4)!==0)&&gg(m,c,M),E=E.next}while(E!==x)}qi(o,c,m);break;case 1:if(!Ar&&(Yo(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(Z){Wt(m,c,Z)}qi(o,c,m);break;case 21:qi(o,c,m);break;case 22:m.mode&1?(Ar=(x=Ar)||m.memoizedState!==null,qi(o,c,m),Ar=x):qi(o,c,m);break;default:qi(o,c,m)}}function C_(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var m=o.stateNode;m===null&&(m=o.stateNode=new n8),c.forEach(function(x){var E=h8.bind(null,o,x);m.has(x)||(m.add(x),x.then(E,E))})}}function Kn(o,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var E=m[x];try{var P=o,M=c,Z=M;e:for(;Z!==null;){switch(Z.tag){case 5:br=Z.stateNode,Gn=!1;break e;case 3:br=Z.stateNode.containerInfo,Gn=!0;break e;case 4:br=Z.stateNode.containerInfo,Gn=!0;break e}Z=Z.return}if(br===null)throw Error(r(160));S_(P,M,E),br=null,Gn=!1;var ee=E.alternate;ee!==null&&(ee.return=null),E.return=null}catch(ue){Wt(E,c,ue)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)__(c,o),c=c.sibling}function __(o,c){var m=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Kn(c,o),da(o),x&4){try{Hc(3,o,o.return),$f(3,o)}catch(ze){Wt(o,o.return,ze)}try{Hc(5,o,o.return)}catch(ze){Wt(o,o.return,ze)}}break;case 1:Kn(c,o),da(o),x&512&&m!==null&&Yo(m,m.return);break;case 5:if(Kn(c,o),da(o),x&512&&m!==null&&Yo(m,m.return),o.flags&32){var E=o.stateNode;try{_n(E,"")}catch(ze){Wt(o,o.return,ze)}}if(x&4&&(E=o.stateNode,E!=null)){var P=o.memoizedProps,M=m!==null?m.memoizedProps:P,Z=o.type,ee=o.updateQueue;if(o.updateQueue=null,ee!==null)try{Z==="input"&&P.type==="radio"&&P.name!=null&&Ge(E,P),pc(Z,M);var ue=pc(Z,P);for(M=0;M<ee.length;M+=2){var be=ee[M],je=ee[M+1];be==="style"?Hd(E,je):be==="dangerouslySetInnerHTML"?Po(E,je):be==="children"?_n(E,je):_(E,be,je,ue)}switch(Z){case"input":tt(E,P);break;case"textarea":Es(E,P);break;case"select":var ye=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!P.multiple;var Te=P.value;Te!=null?_r(E,!!P.multiple,Te,!1):ye!==!!P.multiple&&(P.defaultValue!=null?_r(E,!!P.multiple,P.defaultValue,!0):_r(E,!!P.multiple,P.multiple?[]:"",!1))}E[Dc]=P}catch(ze){Wt(o,o.return,ze)}}break;case 6:if(Kn(c,o),da(o),x&4){if(o.stateNode===null)throw Error(r(162));E=o.stateNode,P=o.memoizedProps;try{E.nodeValue=P}catch(ze){Wt(o,o.return,ze)}}break;case 3:if(Kn(c,o),da(o),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Sc(c.containerInfo)}catch(ze){Wt(o,o.return,ze)}break;case 4:Kn(c,o),da(o);break;case 13:Kn(c,o),da(o),E=o.child,E.flags&8192&&(P=E.memoizedState!==null,E.stateNode.isHidden=P,!P||E.alternate!==null&&E.alternate.memoizedState!==null||(Ng=Kt())),x&4&&C_(o);break;case 22:if(be=m!==null&&m.memoizedState!==null,o.mode&1?(Ar=(ue=Ar)||be,Kn(c,o),Ar=ue):Kn(c,o),da(o),x&8192){if(ue=o.memoizedState!==null,(o.stateNode.isHidden=ue)&&!be&&(o.mode&1)!==0)for(Re=o,be=o.child;be!==null;){for(je=Re=be;Re!==null;){switch(ye=Re,Te=ye.child,ye.tag){case 0:case 11:case 14:case 15:Hc(4,ye,ye.return);break;case 1:Yo(ye,ye.return);var $e=ye.stateNode;if(typeof $e.componentWillUnmount=="function"){x=ye,m=ye.return;try{c=x,$e.props=c.memoizedProps,$e.state=c.memoizedState,$e.componentWillUnmount()}catch(ze){Wt(x,m,ze)}}break;case 5:Yo(ye,ye.return);break;case 22:if(ye.memoizedState!==null){P_(je);continue}}Te!==null?(Te.return=ye,Re=Te):P_(je)}be=be.sibling}e:for(be=null,je=o;;){if(je.tag===5){if(be===null){be=je;try{E=je.stateNode,ue?(P=E.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(Z=je.stateNode,ee=je.memoizedProps.style,M=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,Z.style.display=Vd("display",M))}catch(ze){Wt(o,o.return,ze)}}}else if(je.tag===6){if(be===null)try{je.stateNode.nodeValue=ue?"":je.memoizedProps}catch(ze){Wt(o,o.return,ze)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===o)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===o)break e;for(;je.sibling===null;){if(je.return===null||je.return===o)break e;be===je&&(be=null),je=je.return}be===je&&(be=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:Kn(c,o),da(o),x&4&&C_(o);break;case 21:break;default:Kn(c,o),da(o)}}function da(o){var c=o.flags;if(c&2){try{e:{for(var m=o.return;m!==null;){if(j_(m)){var x=m;break e}m=m.return}throw Error(r(160))}switch(x.tag){case 5:var E=x.stateNode;x.flags&32&&(_n(E,""),x.flags&=-33);var P=N_(o);bg(o,P,E);break;case 3:case 4:var M=x.stateNode.containerInfo,Z=N_(o);yg(o,Z,M);break;default:throw Error(r(161))}}catch(ee){Wt(o,o.return,ee)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function i8(o,c,m){Re=o,E_(o)}function E_(o,c,m){for(var x=(o.mode&1)!==0;Re!==null;){var E=Re,P=E.child;if(E.tag===22&&x){var M=E.memoizedState!==null||Mf;if(!M){var Z=E.alternate,ee=Z!==null&&Z.memoizedState!==null||Ar;Z=Mf;var ue=Ar;if(Mf=M,(Ar=ee)&&!ue)for(Re=E;Re!==null;)M=Re,ee=M.child,M.tag===22&&M.memoizedState!==null?O_(E):ee!==null?(ee.return=M,Re=ee):O_(E);for(;P!==null;)Re=P,E_(P),P=P.sibling;Re=E,Mf=Z,Ar=ue}k_(o)}else(E.subtreeFlags&8772)!==0&&P!==null?(P.return=E,Re=P):k_(o)}}function k_(o){for(;Re!==null;){var c=Re;if((c.flags&8772)!==0){var m=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Ar||$f(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Ar)if(m===null)x.componentDidMount();else{var E=c.elementType===c.type?m.memoizedProps:Hn(c.type,m.memoizedProps);x.componentDidUpdate(E,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var P=c.updateQueue;P!==null&&PC(c,P,x);break;case 3:var M=c.updateQueue;if(M!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=c.child.stateNode;break;case 1:m=c.child.stateNode}PC(c,M,m)}break;case 5:var Z=c.stateNode;if(m===null&&c.flags&4){m=Z;var ee=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&m.focus();break;case"img":ee.src&&(m.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ue=c.alternate;if(ue!==null){var be=ue.memoizedState;if(be!==null){var je=be.dehydrated;je!==null&&Sc(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ar||c.flags&512&&xg(c)}catch(ye){Wt(c,c.return,ye)}}if(c===o){Re=null;break}if(m=c.sibling,m!==null){m.return=c.return,Re=m;break}Re=c.return}}function P_(o){for(;Re!==null;){var c=Re;if(c===o){Re=null;break}var m=c.sibling;if(m!==null){m.return=c.return,Re=m;break}Re=c.return}}function O_(o){for(;Re!==null;){var c=Re;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{$f(4,c)}catch(ee){Wt(c,m,ee)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var E=c.return;try{x.componentDidMount()}catch(ee){Wt(c,E,ee)}}var P=c.return;try{xg(c)}catch(ee){Wt(c,P,ee)}break;case 5:var M=c.return;try{xg(c)}catch(ee){Wt(c,M,ee)}}}catch(ee){Wt(c,c.return,ee)}if(c===o){Re=null;break}var Z=c.sibling;if(Z!==null){Z.return=c.return,Re=Z;break}Re=c.return}}var s8=Math.ceil,Lf=O.ReactCurrentDispatcher,wg=O.ReactCurrentOwner,In=O.ReactCurrentBatchConfig,ht=0,hr=null,Qt=null,wr=0,un=0,Xo=Li(0),ir=0,Gc=null,Bs=0,Ff=0,jg=0,Kc=null,Yr=null,Ng=0,Qo=1/0,Ka=null,Bf=!1,Sg=null,Wi=null,zf=!1,Vi=null,Uf=0,Yc=0,Cg=null,qf=-1,Wf=0;function $r(){return(ht&6)!==0?Kt():qf!==-1?qf:qf=Kt()}function Hi(o){return(o.mode&1)===0?1:(ht&2)!==0&&wr!==0?wr&-wr:qF.transition!==null?(Wf===0&&(Wf=NS()),Wf):(o=St,o!==0||(o=window.event,o=o===void 0?16:TS(o.type)),o)}function Yn(o,c,m,x){if(50<Yc)throw Yc=0,Cg=null,Error(r(185));yc(o,m,x),((ht&2)===0||o!==hr)&&(o===hr&&((ht&2)===0&&(Ff|=m),ir===4&&Gi(o,wr)),Xr(o,x),m===1&&ht===0&&(c.mode&1)===0&&(Qo=Kt()+500,xf&&Bi()))}function Xr(o,c){var m=o.callbackNode;q5(o,c);var x=Zd(o,o===hr?wr:0);if(x===0)m!==null&&bS(m),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(m!=null&&bS(m),c===1)o.tag===0?UF(T_.bind(null,o)):gC(T_.bind(null,o)),LF(function(){(ht&6)===0&&Bi()}),m=null;else{switch(SS(x)){case 1:m=av;break;case 4:m=wS;break;case 16:m=Kd;break;case 536870912:m=jS;break;default:m=Kd}m=B_(m,A_.bind(null,o))}o.callbackPriority=c,o.callbackNode=m}}function A_(o,c){if(qf=-1,Wf=0,(ht&6)!==0)throw Error(r(327));var m=o.callbackNode;if(Zo()&&o.callbackNode!==m)return null;var x=Zd(o,o===hr?wr:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=Vf(o,x);else{c=x;var E=ht;ht|=2;var P=R_();(hr!==o||wr!==c)&&(Ka=null,Qo=Kt()+500,Us(o,c));do try{c8();break}catch(Z){I_(o,Z)}while(!0);qv(),Lf.current=P,ht=E,Qt!==null?c=0:(hr=null,wr=0,c=ir)}if(c!==0){if(c===2&&(E=iv(o),E!==0&&(x=E,c=_g(o,E))),c===1)throw m=Gc,Us(o,0),Gi(o,x),Xr(o,Kt()),m;if(c===6)Gi(o,x);else{if(E=o.current.alternate,(x&30)===0&&!o8(E)&&(c=Vf(o,x),c===2&&(P=iv(o),P!==0&&(x=P,c=_g(o,P))),c===1))throw m=Gc,Us(o,0),Gi(o,x),Xr(o,Kt()),m;switch(o.finishedWork=E,o.finishedLanes=x,c){case 0:case 1:throw Error(r(345));case 2:qs(o,Yr,Ka);break;case 3:if(Gi(o,x),(x&130023424)===x&&(c=Ng+500-Kt(),10<c)){if(Zd(o,0)!==0)break;if(E=o.suspendedLanes,(E&x)!==x){$r(),o.pingedLanes|=o.suspendedLanes&E;break}o.timeoutHandle=Tv(qs.bind(null,o,Yr,Ka),c);break}qs(o,Yr,Ka);break;case 4:if(Gi(o,x),(x&4194240)===x)break;for(c=o.eventTimes,E=-1;0<x;){var M=31-qn(x);P=1<<M,M=c[M],M>E&&(E=M),x&=~P}if(x=E,x=Kt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*s8(x/1960))-x,10<x){o.timeoutHandle=Tv(qs.bind(null,o,Yr,Ka),x);break}qs(o,Yr,Ka);break;case 5:qs(o,Yr,Ka);break;default:throw Error(r(329))}}}return Xr(o,Kt()),o.callbackNode===m?A_.bind(null,o):null}function _g(o,c){var m=Kc;return o.current.memoizedState.isDehydrated&&(Us(o,c).flags|=256),o=Vf(o,c),o!==2&&(c=Yr,Yr=m,c!==null&&Eg(c)),o}function Eg(o){Yr===null?Yr=o:Yr.push.apply(Yr,o)}function o8(o){for(var c=o;;){if(c.flags&16384){var m=c.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var E=m[x],P=E.getSnapshot;E=E.value;try{if(!Wn(P(),E))return!1}catch{return!1}}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Gi(o,c){for(c&=~jg,c&=~Ff,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var m=31-qn(c),x=1<<m;o[m]=-1,c&=~x}}function T_(o){if((ht&6)!==0)throw Error(r(327));Zo();var c=Zd(o,0);if((c&1)===0)return Xr(o,Kt()),null;var m=Vf(o,c);if(o.tag!==0&&m===2){var x=iv(o);x!==0&&(c=x,m=_g(o,x))}if(m===1)throw m=Gc,Us(o,0),Gi(o,c),Xr(o,Kt()),m;if(m===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,qs(o,Yr,Ka),Xr(o,Kt()),null}function kg(o,c){var m=ht;ht|=1;try{return o(c)}finally{ht=m,ht===0&&(Qo=Kt()+500,xf&&Bi())}}function zs(o){Vi!==null&&Vi.tag===0&&(ht&6)===0&&Zo();var c=ht;ht|=1;var m=In.transition,x=St;try{if(In.transition=null,St=1,o)return o()}finally{St=x,In.transition=m,ht=c,(ht&6)===0&&Bi()}}function Pg(){un=Xo.current,$t(Xo)}function Us(o,c){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;if(m!==-1&&(o.timeoutHandle=-1,$F(m)),Qt!==null)for(m=Qt.return;m!==null;){var x=m;switch(Lv(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&vf();break;case 3:Go(),$t(Hr),$t(kr),Qv();break;case 5:Yv(x);break;case 4:Go();break;case 13:$t(Ut);break;case 19:$t(Ut);break;case 10:Wv(x.type._context);break;case 22:case 23:Pg()}m=m.return}if(hr=o,Qt=o=Ki(o.current,null),wr=un=c,ir=0,Gc=null,jg=Ff=Bs=0,Yr=Kc=null,$s!==null){for(c=0;c<$s.length;c++)if(m=$s[c],x=m.interleaved,x!==null){m.interleaved=null;var E=x.next,P=m.pending;if(P!==null){var M=P.next;P.next=E,x.next=M}m.pending=x}$s=null}return o}function I_(o,c){do{var m=Qt;try{if(qv(),kf.current=Tf,Pf){for(var x=qt.memoizedState;x!==null;){var E=x.queue;E!==null&&(E.pending=null),x=x.next}Pf=!1}if(Fs=0,fr=ar=qt=null,zc=!1,Uc=0,wg.current=null,m===null||m.return===null){ir=1,Gc=c,Qt=null;break}e:{var P=o,M=m.return,Z=m,ee=c;if(c=wr,Z.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ue=ee,be=Z,je=be.tag;if((be.mode&1)===0&&(je===0||je===11||je===15)){var ye=be.alternate;ye?(be.updateQueue=ye.updateQueue,be.memoizedState=ye.memoizedState,be.lanes=ye.lanes):(be.updateQueue=null,be.memoizedState=null)}var Te=a_(M);if(Te!==null){Te.flags&=-257,i_(Te,M,Z,P,c),Te.mode&1&&n_(P,ue,c),c=Te,ee=ue;var $e=c.updateQueue;if($e===null){var ze=new Set;ze.add(ee),c.updateQueue=ze}else $e.add(ee);break e}else{if((c&1)===0){n_(P,ue,c),Og();break e}ee=Error(r(426))}}else if(Ft&&Z.mode&1){var Yt=a_(M);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),i_(Yt,M,Z,P,c),zv(Ko(ee,Z));break e}}P=ee=Ko(ee,Z),ir!==4&&(ir=2),Kc===null?Kc=[P]:Kc.push(P),P=M;do{switch(P.tag){case 3:P.flags|=65536,c&=-c,P.lanes|=c;var se=t_(P,ee,c);kC(P,se);break e;case 1:Z=ee;var re=P.type,oe=P.stateNode;if((P.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Wi===null||!Wi.has(oe)))){P.flags|=65536,c&=-c,P.lanes|=c;var Se=r_(P,Z,c);kC(P,Se);break e}}P=P.return}while(P!==null)}M_(m)}catch(Ue){c=Ue,Qt===m&&m!==null&&(Qt=m=m.return);continue}break}while(!0)}function R_(){var o=Lf.current;return Lf.current=Tf,o===null?Tf:o}function Og(){(ir===0||ir===3||ir===2)&&(ir=4),hr===null||(Bs&268435455)===0&&(Ff&268435455)===0||Gi(hr,wr)}function Vf(o,c){var m=ht;ht|=2;var x=R_();(hr!==o||wr!==c)&&(Ka=null,Us(o,c));do try{l8();break}catch(E){I_(o,E)}while(!0);if(qv(),ht=m,Lf.current=x,Qt!==null)throw Error(r(261));return hr=null,wr=0,ir}function l8(){for(;Qt!==null;)D_(Qt)}function c8(){for(;Qt!==null&&!R5();)D_(Qt)}function D_(o){var c=F_(o.alternate,o,un);o.memoizedProps=o.pendingProps,c===null?M_(o):Qt=c,wg.current=null}function M_(o){var c=o;do{var m=c.alternate;if(o=c.return,(c.flags&32768)===0){if(m=t8(m,c,un),m!==null){Qt=m;return}}else{if(m=r8(m,c),m!==null){m.flags&=32767,Qt=m;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{ir=6,Qt=null;return}}if(c=c.sibling,c!==null){Qt=c;return}Qt=c=o}while(c!==null);ir===0&&(ir=5)}function qs(o,c,m){var x=St,E=In.transition;try{In.transition=null,St=1,u8(o,c,m,x)}finally{In.transition=E,St=x}return null}function u8(o,c,m,x){do Zo();while(Vi!==null);if((ht&6)!==0)throw Error(r(327));m=o.finishedWork;var E=o.finishedLanes;if(m===null)return null;if(o.finishedWork=null,o.finishedLanes=0,m===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var P=m.lanes|m.childLanes;if(W5(o,P),o===hr&&(Qt=hr=null,wr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||zf||(zf=!0,B_(Kd,function(){return Zo(),null})),P=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||P){P=In.transition,In.transition=null;var M=St;St=1;var Z=ht;ht|=4,wg.current=null,a8(o,m),__(m,o),OF(Ov),tf=!!Pv,Ov=Pv=null,o.current=m,i8(m),D5(),ht=Z,St=M,In.transition=P}else o.current=m;if(zf&&(zf=!1,Vi=o,Uf=E),P=o.pendingLanes,P===0&&(Wi=null),L5(m.stateNode),Xr(o,Kt()),c!==null)for(x=o.onRecoverableError,m=0;m<c.length;m++)E=c[m],x(E.value,{componentStack:E.stack,digest:E.digest});if(Bf)throw Bf=!1,o=Sg,Sg=null,o;return(Uf&1)!==0&&o.tag!==0&&Zo(),P=o.pendingLanes,(P&1)!==0?o===Cg?Yc++:(Yc=0,Cg=o):Yc=0,Bi(),null}function Zo(){if(Vi!==null){var o=SS(Uf),c=In.transition,m=St;try{if(In.transition=null,St=16>o?16:o,Vi===null)var x=!1;else{if(o=Vi,Vi=null,Uf=0,(ht&6)!==0)throw Error(r(331));var E=ht;for(ht|=4,Re=o.current;Re!==null;){var P=Re,M=P.child;if((Re.flags&16)!==0){var Z=P.deletions;if(Z!==null){for(var ee=0;ee<Z.length;ee++){var ue=Z[ee];for(Re=ue;Re!==null;){var be=Re;switch(be.tag){case 0:case 11:case 15:Hc(8,be,P)}var je=be.child;if(je!==null)je.return=be,Re=je;else for(;Re!==null;){be=Re;var ye=be.sibling,Te=be.return;if(w_(be),be===ue){Re=null;break}if(ye!==null){ye.return=Te,Re=ye;break}Re=Te}}}var $e=P.alternate;if($e!==null){var ze=$e.child;if(ze!==null){$e.child=null;do{var Yt=ze.sibling;ze.sibling=null,ze=Yt}while(ze!==null)}}Re=P}}if((P.subtreeFlags&2064)!==0&&M!==null)M.return=P,Re=M;else e:for(;Re!==null;){if(P=Re,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:Hc(9,P,P.return)}var se=P.sibling;if(se!==null){se.return=P.return,Re=se;break e}Re=P.return}}var re=o.current;for(Re=re;Re!==null;){M=Re;var oe=M.child;if((M.subtreeFlags&2064)!==0&&oe!==null)oe.return=M,Re=oe;else e:for(M=re;Re!==null;){if(Z=Re,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:$f(9,Z)}}catch(Ue){Wt(Z,Z.return,Ue)}if(Z===M){Re=null;break e}var Se=Z.sibling;if(Se!==null){Se.return=Z.return,Re=Se;break e}Re=Z.return}}if(ht=E,Bi(),oa&&typeof oa.onPostCommitFiberRoot=="function")try{oa.onPostCommitFiberRoot(Yd,o)}catch{}x=!0}return x}finally{St=m,In.transition=c}}return!1}function $_(o,c,m){c=Ko(m,c),c=t_(o,c,1),o=Ui(o,c,1),c=$r(),o!==null&&(yc(o,1,c),Xr(o,c))}function Wt(o,c,m){if(o.tag===3)$_(o,o,m);else for(;c!==null;){if(c.tag===3){$_(c,o,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Wi===null||!Wi.has(x))){o=Ko(m,o),o=r_(c,o,1),c=Ui(c,o,1),o=$r(),c!==null&&(yc(c,1,o),Xr(c,o));break}}c=c.return}}function d8(o,c,m){var x=o.pingCache;x!==null&&x.delete(c),c=$r(),o.pingedLanes|=o.suspendedLanes&m,hr===o&&(wr&m)===m&&(ir===4||ir===3&&(wr&130023424)===wr&&500>Kt()-Ng?Us(o,0):jg|=m),Xr(o,c)}function L_(o,c){c===0&&((o.mode&1)===0?c=1:(c=Qd,Qd<<=1,(Qd&130023424)===0&&(Qd=4194304)));var m=$r();o=Va(o,c),o!==null&&(yc(o,c,m),Xr(o,m))}function f8(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),L_(o,m)}function h8(o,c){var m=0;switch(o.tag){case 13:var x=o.stateNode,E=o.memoizedState;E!==null&&(m=E.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(c),L_(o,m)}var F_;F_=function(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps||Hr.current)Kr=!0;else{if((o.lanes&m)===0&&(c.flags&128)===0)return Kr=!1,e8(o,c,m);Kr=(o.flags&131072)!==0}else Kr=!1,Ft&&(c.flags&1048576)!==0&&xC(c,bf,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;Df(o,c),o=c.pendingProps;var E=Bo(c,kr.current);Ho(c,m),E=eg(null,c,x,o,E,m);var P=tg();return c.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Gr(x)?(P=!0,gf(c)):P=!1,c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Gv(c),E.updater=If,c.stateNode=E,E._reactInternals=c,og(c,x,o,m),c=dg(null,c,x,!0,P,m)):(c.tag=0,Ft&&P&&$v(c),Mr(null,c,E,m),c=c.child),c;case 16:x=c.elementType;e:{switch(Df(o,c),o=c.pendingProps,E=x._init,x=E(x._payload),c.type=x,E=c.tag=m8(x),o=Hn(x,o),E){case 0:c=ug(null,c,x,o,m);break e;case 1:c=d_(null,c,x,o,m);break e;case 11:c=s_(null,c,x,o,m);break e;case 14:c=o_(null,c,x,Hn(x.type,o),m);break e}throw Error(r(306,x,""))}return c;case 0:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:Hn(x,E),ug(o,c,x,E,m);case 1:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:Hn(x,E),d_(o,c,x,E,m);case 3:e:{if(f_(c),o===null)throw Error(r(387));x=c.pendingProps,P=c.memoizedState,E=P.element,EC(o,c),_f(c,x,null,m);var M=c.memoizedState;if(x=M.element,P.isDehydrated)if(P={element:x,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){E=Ko(Error(r(423)),c),c=h_(o,c,x,m,E);break e}else if(x!==E){E=Ko(Error(r(424)),c),c=h_(o,c,x,m,E);break e}else for(cn=$i(c.stateNode.containerInfo.firstChild),ln=c,Ft=!0,Vn=null,m=CC(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(qo(),x===E){c=Ga(o,c,m);break e}Mr(o,c,x,m)}c=c.child}return c;case 5:return OC(c),o===null&&Bv(c),x=c.type,E=c.pendingProps,P=o!==null?o.memoizedProps:null,M=E.children,Av(x,E)?M=null:P!==null&&Av(x,P)&&(c.flags|=32),u_(o,c),Mr(o,c,M,m),c.child;case 6:return o===null&&Bv(c),null;case 13:return p_(o,c,m);case 4:return Kv(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=Wo(c,null,x,m):Mr(o,c,x,m),c.child;case 11:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:Hn(x,E),s_(o,c,x,E,m);case 7:return Mr(o,c,c.pendingProps,m),c.child;case 8:return Mr(o,c,c.pendingProps.children,m),c.child;case 12:return Mr(o,c,c.pendingProps.children,m),c.child;case 10:e:{if(x=c.type._context,E=c.pendingProps,P=c.memoizedProps,M=E.value,At(Nf,x._currentValue),x._currentValue=M,P!==null)if(Wn(P.value,M)){if(P.children===E.children&&!Hr.current){c=Ga(o,c,m);break e}}else for(P=c.child,P!==null&&(P.return=c);P!==null;){var Z=P.dependencies;if(Z!==null){M=P.child;for(var ee=Z.firstContext;ee!==null;){if(ee.context===x){if(P.tag===1){ee=Ha(-1,m&-m),ee.tag=2;var ue=P.updateQueue;if(ue!==null){ue=ue.shared;var be=ue.pending;be===null?ee.next=ee:(ee.next=be.next,be.next=ee),ue.pending=ee}}P.lanes|=m,ee=P.alternate,ee!==null&&(ee.lanes|=m),Vv(P.return,m,c),Z.lanes|=m;break}ee=ee.next}}else if(P.tag===10)M=P.type===c.type?null:P.child;else if(P.tag===18){if(M=P.return,M===null)throw Error(r(341));M.lanes|=m,Z=M.alternate,Z!==null&&(Z.lanes|=m),Vv(M,m,c),M=P.sibling}else M=P.child;if(M!==null)M.return=P;else for(M=P;M!==null;){if(M===c){M=null;break}if(P=M.sibling,P!==null){P.return=M.return,M=P;break}M=M.return}P=M}Mr(o,c,E.children,m),c=c.child}return c;case 9:return E=c.type,x=c.pendingProps.children,Ho(c,m),E=An(E),x=x(E),c.flags|=1,Mr(o,c,x,m),c.child;case 14:return x=c.type,E=Hn(x,c.pendingProps),E=Hn(x.type,E),o_(o,c,x,E,m);case 15:return l_(o,c,c.type,c.pendingProps,m);case 17:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:Hn(x,E),Df(o,c),c.tag=1,Gr(x)?(o=!0,gf(c)):o=!1,Ho(c,m),JC(c,x,E),og(c,x,E,m),dg(null,c,x,!0,o,m);case 19:return v_(o,c,m);case 22:return c_(o,c,m)}throw Error(r(156,c.tag))};function B_(o,c){return yS(o,c)}function p8(o,c,m,x){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(o,c,m,x){return new p8(o,c,m,x)}function Ag(o){return o=o.prototype,!(!o||!o.isReactComponent)}function m8(o){if(typeof o=="function")return Ag(o)?1:0;if(o!=null){if(o=o.$$typeof,o===W)return 11;if(o===T)return 14}return 2}function Ki(o,c){var m=o.alternate;return m===null?(m=Rn(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&14680064,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m}function Hf(o,c,m,x,E,P){var M=2;if(x=o,typeof o=="function")Ag(o)&&(M=1);else if(typeof o=="string")M=5;else e:switch(o){case A:return Ws(m.children,E,P,c);case R:M=8,E|=8;break;case I:return o=Rn(12,m,c,E|2),o.elementType=I,o.lanes=P,o;case H:return o=Rn(13,m,c,E),o.elementType=H,o.lanes=P,o;case G:return o=Rn(19,m,c,E),o.elementType=G,o.lanes=P,o;case V:return Gf(m,E,P,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case L:M=10;break e;case U:M=9;break e;case W:M=11;break e;case T:M=14;break e;case D:M=16,x=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return c=Rn(M,m,c,E),c.elementType=o,c.type=x,c.lanes=P,c}function Ws(o,c,m,x){return o=Rn(7,o,x,c),o.lanes=m,o}function Gf(o,c,m,x){return o=Rn(22,o,x,c),o.elementType=V,o.lanes=m,o.stateNode={isHidden:!1},o}function Tg(o,c,m){return o=Rn(6,o,null,c),o.lanes=m,o}function Ig(o,c,m){return c=Rn(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function v8(o,c,m,x,E){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sv(0),this.expirationTimes=sv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sv(0),this.identifierPrefix=x,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Rg(o,c,m,x,E,P,M,Z,ee){return o=new v8(o,c,m,Z,ee),c===1?(c=1,P===!0&&(c|=8)):c=0,P=Rn(3,null,null,c),o.current=P,P.stateNode=o,P.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gv(P),o}function g8(o,c,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:x==null?null:""+x,children:o,containerInfo:c,implementation:m}}function z_(o){if(!o)return Fi;o=o._reactInternals;e:{if(Ts(o)!==o||o.tag!==1)throw Error(r(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Gr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(o.tag===1){var m=o.type;if(Gr(m))return mC(o,m,c)}return c}function U_(o,c,m,x,E,P,M,Z,ee){return o=Rg(m,x,!0,o,E,P,M,Z,ee),o.context=z_(null),m=o.current,x=$r(),E=Hi(m),P=Ha(x,E),P.callback=c??null,Ui(m,P,E),o.current.lanes=E,yc(o,E,x),Xr(o,x),o}function Kf(o,c,m,x){var E=c.current,P=$r(),M=Hi(E);return m=z_(m),c.context===null?c.context=m:c.pendingContext=m,c=Ha(P,M),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=Ui(E,c,M),o!==null&&(Yn(o,E,M,P),Cf(o,E,M)),M}function Yf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function q_(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function Dg(o,c){q_(o,c),(o=o.alternate)&&q_(o,c)}function x8(){return null}var W_=typeof reportError=="function"?reportError:function(o){console.error(o)};function Mg(o){this._internalRoot=o}Xf.prototype.render=Mg.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));Kf(o,c,null,null)},Xf.prototype.unmount=Mg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;zs(function(){Kf(null,o,null,null)}),c[za]=null}};function Xf(o){this._internalRoot=o}Xf.prototype.unstable_scheduleHydration=function(o){if(o){var c=ES();o={blockedOn:null,target:o,priority:c};for(var m=0;m<Ri.length&&c!==0&&c<Ri[m].priority;m++);Ri.splice(m,0,o),m===0&&OS(o)}};function $g(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Qf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function V_(){}function y8(o,c,m,x,E){if(E){if(typeof x=="function"){var P=x;x=function(){var ue=Yf(M);P.call(ue)}}var M=U_(c,x,o,0,null,!1,!1,"",V_);return o._reactRootContainer=M,o[za]=M.current,Ic(o.nodeType===8?o.parentNode:o),zs(),M}for(;E=o.lastChild;)o.removeChild(E);if(typeof x=="function"){var Z=x;x=function(){var ue=Yf(ee);Z.call(ue)}}var ee=Rg(o,0,!1,null,null,!1,!1,"",V_);return o._reactRootContainer=ee,o[za]=ee.current,Ic(o.nodeType===8?o.parentNode:o),zs(function(){Kf(c,ee,m,x)}),ee}function Zf(o,c,m,x,E){var P=m._reactRootContainer;if(P){var M=P;if(typeof E=="function"){var Z=E;E=function(){var ee=Yf(M);Z.call(ee)}}Kf(c,M,o,E)}else M=y8(m,c,o,E,x);return Yf(M)}CS=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var m=xc(c.pendingLanes);m!==0&&(ov(c,m|1),Xr(c,Kt()),(ht&6)===0&&(Qo=Kt()+500,Bi()))}break;case 13:zs(function(){var x=Va(o,1);if(x!==null){var E=$r();Yn(x,o,1,E)}}),Dg(o,1)}},lv=function(o){if(o.tag===13){var c=Va(o,134217728);if(c!==null){var m=$r();Yn(c,o,134217728,m)}Dg(o,134217728)}},_S=function(o){if(o.tag===13){var c=Hi(o),m=Va(o,c);if(m!==null){var x=$r();Yn(m,o,c,x)}Dg(o,c)}},ES=function(){return St},kS=function(o,c){var m=St;try{return St=o,c()}finally{St=m}},mc=function(o,c,m){switch(c){case"input":if(tt(o,m),c=m.name,m.type==="radio"&&c!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==o&&x.form===o.form){var E=mf(x);if(!E)throw Error(r(90));te(x),tt(x,E)}}}break;case"textarea":Es(o,m);break;case"select":c=m.value,c!=null&&_r(o,!!m.multiple,c,!1)}},nr=kg,Er=zs;var b8={usingClientEntryPoint:!1,Events:[Mc,Lo,mf,Je,Gt,kg]},Xc={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w8={bundleType:Xc.bundleType,version:Xc.version,rendererPackageName:Xc.rendererPackageName,rendererConfig:Xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=gS(o),o===null?null:o.stateNode},findFiberByHostInstance:Xc.findFiberByHostInstance||x8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{Yd=Jf.inject(w8),oa=Jf}catch{}}return Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b8,Qr.createPortal=function(o,c){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$g(c))throw Error(r(200));return g8(o,c,null,m)},Qr.createRoot=function(o,c){if(!$g(o))throw Error(r(299));var m=!1,x="",E=W_;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),c=Rg(o,1,!1,null,null,m,!1,x,E),o[za]=c.current,Ic(o.nodeType===8?o.parentNode:o),new Mg(c)},Qr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=gS(c),o=o===null?null:o.stateNode,o},Qr.flushSync=function(o){return zs(o)},Qr.hydrate=function(o,c,m){if(!Qf(c))throw Error(r(200));return Zf(null,o,c,!0,m)},Qr.hydrateRoot=function(o,c,m){if(!$g(o))throw Error(r(405));var x=m!=null&&m.hydratedSources||null,E=!1,P="",M=W_;if(m!=null&&(m.unstable_strictMode===!0&&(E=!0),m.identifierPrefix!==void 0&&(P=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),c=U_(c,null,o,1,m??null,E,!1,P,M),o[za]=c.current,Ic(o),x)for(o=0;o<x.length;o++)m=x[o],E=m._getVersion,E=E(m._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[m,E]:c.mutableSourceEagerHydrationData.push(m,E);return new Xf(c)},Qr.render=function(o,c,m){if(!Qf(c))throw Error(r(200));return Zf(null,o,c,!1,m)},Qr.unmountComponentAtNode=function(o){if(!Qf(o))throw Error(r(40));return o._reactRootContainer?(zs(function(){Zf(null,null,o,!1,function(){o._reactRootContainer=null,o[za]=null})}),!0):!1},Qr.unstable_batchedUpdates=kg,Qr.unstable_renderSubtreeIntoContainer=function(o,c,m,x){if(!Qf(m))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Zf(o,c,m,!1,x)},Qr.version="18.3.1-next-f1338f8080-20240426",Qr}var J_;function VI(){if(J_)return Bg.exports;J_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Bg.exports=P8(),Bg.exports}var e2;function O8(){if(e2)return th;e2=1;var e=VI();return th.createRoot=e.createRoot,th.hydrateRoot=e.hydrateRoot,th}var A8=O8(),w=u1();const X=kt(w),HI=N8({__proto__:null,default:X},[w]),GI=w.createContext(void 0),KI=()=>{const e=w.useContext(GI);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},T8=({children:e})=>{const[t,r]=w.useState(null),[n,i]=w.useState(null),s=(d,f)=>{i(d),r(f),localStorage.setItem("test_token",d),localStorage.setItem("test_user",JSON.stringify(f))},l=()=>{i(null),r(null),localStorage.removeItem("test_token"),localStorage.removeItem("test_user")};X.useEffect(()=>{const d=localStorage.getItem("test_token"),f=localStorage.getItem("test_user");d&&f&&(i(d),r(JSON.parse(f)))},[]);const u={user:t,token:n,login:s,logout:l,isAuthenticated:!!t&&!!n};return a.jsx(GI.Provider,{value:u,children:e})},I8=({onLogin:e})=>{const[t,r]=w.useState("test@gcpay.kz"),[n,i]=w.useState(""),[s,l]=w.useState(!1),[u,d]=w.useState(""),f=async p=>{p.preventDefault(),l(!0),d("");try{const h=new FormData;h.append("username",t),h.append("password",n);const v=await fetch("http://localhost:8000/api/v1/auth/login",{method:"POST",body:h});if(!v.ok)throw new Error("Login failed");const b=await v.json();e(b.access_token,b.user)}catch{d("Ошибка входа. Проверьте email и пароль.")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Тестовый вход"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Используйте тестовые данные для входа"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email",value:t,onChange:p=>r(p.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Пароль"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Пароль",value:n,onChange:p=>i(p.target.value)})]})]}),u&&a.jsx("div",{className:"text-red-600 text-sm text-center",children:u}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:s?"Вход...":"Войти"})})]})]})})},YI=()=>{if(!(typeof window>"u"))try{if(!("CSSScopeRule"in window)){class e{start;end;constructor(r,n){this.start=r,this.end=n}static create(r,n){return new e(r,n)}}Object.defineProperty(window,"CSSScopeRule",{value:e,writable:!1,configurable:!1})}if(!("CSS"in window)||!window.CSS.supports){const e={supports:(t,r)=>{if(r)try{const n=document.createElement("div");return n.style.setProperty(t,r),n.style.getPropertyValue(t)===r}catch{return!1}return!1}};"CSS"in window||Object.defineProperty(window,"CSS",{value:e,writable:!1,configurable:!1})}}catch(e){console.warn("CSS polyfills initialization failed:",e)}};typeof window<"u"&&YI();function t2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function di(...e){return t=>{let r=!1;const n=e.map(i=>{const s=t2(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():t2(e[i],null)}}}}function dt(...e){return w.useCallback(di(...e),e)}function cs(e){const t=R8(e),r=w.forwardRef((n,i)=>{const{children:s,...l}=n,u=w.Children.toArray(s),d=u.find(D8);if(d){const f=d.props.children,p=u.map(h=>h===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return a.jsx(t,{...l,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var XI=cs("Slot");function R8(e){const t=w.forwardRef((r,n)=>{const{children:i,...s}=r;if(w.isValidElement(i)){const l=$8(i),u=M8(s,i.props);return i.type!==w.Fragment&&(u.ref=n?di(n,l):l),w.cloneElement(i,u)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QI=Symbol("radix.slottable");function ZI(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=QI,t}function D8(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QI}function M8(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...u)=>{const d=s(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function $8(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function JI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=JI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=JI(e))&&(n&&(n+=" "),n+=t);return n}const r2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,n2=pt,d1=(e,t)=>r=>{var n;if(t?.variants==null)return n2(e,r?.class,r?.className);const{variants:i,defaultVariants:s}=t,l=Object.keys(i).map(f=>{const p=r?.[f],h=s?.[f];if(p===null)return null;const v=r2(p)||r2(h);return i[f][v]}),u=r&&Object.entries(r).reduce((f,p)=>{let[h,v]=p;return v===void 0||(f[h]=v),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let{class:h,className:v,...b}=p;return Object.entries(b).every(j=>{let[y,g]=j;return Array.isArray(g)?g.includes({...s,...u}[y]):{...s,...u}[y]===g})?[...f,h,v]:f},[]);return n2(e,l,d,r?.class,r?.className)},f1="-",L8=e=>{const t=B8(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const u=l.split(f1);return u[0]===""&&u.length!==1&&u.shift(),eR(u,t)||F8(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&n[l]?[...d,...n[l]]:d}}},eR=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?eR(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(f1);return t.validators.find(({validator:l})=>l(s))?.classGroupId},a2=/^\[(.+)\]$/,F8=e=>{if(a2.test(e)){const t=a2.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},B8=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)xw(r[i],n,i,t);return n},xw=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:i2(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(z8(i)){xw(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,l])=>{xw(l,i2(t,s),r,n)})})},i2=(e,t)=>{let r=e;return t.split(f1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},z8=e=>e.isThemeGetter,U8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,l)=>{r.set(s,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let l=r.get(s);if(l!==void 0)return l;if((l=n.get(s))!==void 0)return i(s,l),l},set(s,l){r.has(s)?r.set(s,l):i(s,l)}}},yw="!",bw=":",q8=bw.length,W8=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const s=[];let l=0,u=0,d=0,f;for(let j=0;j<i.length;j++){let y=i[j];if(l===0&&u===0){if(y===bw){s.push(i.slice(d,j)),d=j+q8;continue}if(y==="/"){f=j;continue}}y==="["?l++:y==="]"?l--:y==="("?u++:y===")"&&u--}const p=s.length===0?i:i.substring(d),h=V8(p),v=h!==p,b=f&&f>d?f-d:void 0;return{modifiers:s,hasImportantModifier:v,baseClassName:h,maybePostfixModifierPosition:b}};if(t){const i=t+bw,s=n;n=l=>l.startsWith(i)?s(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},V8=e=>e.endsWith(yw)?e.substring(0,e.length-1):e.startsWith(yw)?e.substring(1):e,H8=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let s=[];return n.forEach(l=>{l[0]==="["||t[l]?(i.push(...s.sort(),l),s=[]):s.push(l)}),i.push(...s.sort()),i}},G8=e=>({cache:U8(e.cacheSize),parseClassName:W8(e),sortModifiers:H8(e),...L8(e)}),K8=/\s+/,Y8=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=t,l=[],u=e.trim().split(K8);let d="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:h,modifiers:v,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:y}=r(p);if(h){d=p+(d.length>0?" "+d:d);continue}let g=!!y,S=n(g?j.substring(0,y):j);if(!S){if(!g){d=p+(d.length>0?" "+d:d);continue}if(S=n(j),!S){d=p+(d.length>0?" "+d:d);continue}g=!1}const C=s(v).join(":"),_=b?C+yw:C,O=_+S;if(l.includes(O))continue;l.push(O);const N=i(S,g);for(let k=0;k<N.length;++k){const A=N[k];l.push(_+A)}d=p+(d.length>0?" "+d:d)}return d};function X8(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=tR(t))&&(n&&(n+=" "),n+=r);return n}const tR=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=tR(e[n]))&&(r&&(r+=" "),r+=t);return r};function Q8(e,...t){let r,n,i,s=l;function l(d){const f=t.reduce((p,h)=>h(p),e());return r=G8(f),n=r.cache.get,i=r.cache.set,s=u,u(d)}function u(d){const f=n(d);if(f)return f;const p=Y8(d,r);return i(d,p),p}return function(){return s(X8.apply(null,arguments))}}const sr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},rR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,nR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Z8=/^\d+\/\d+$/,J8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,e6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,t6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,r6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jo=e=>Z8.test(e),at=e=>!!e&&!Number.isNaN(Number(e)),Xi=e=>!!e&&Number.isInteger(Number(e)),qg=e=>e.endsWith("%")&&at(e.slice(0,-1)),Ya=e=>J8.test(e),a6=()=>!0,i6=e=>e6.test(e)&&!t6.test(e),aR=()=>!1,s6=e=>r6.test(e),o6=e=>n6.test(e),l6=e=>!Le(e)&&!Fe(e),c6=e=>Ql(e,oR,aR),Le=e=>rR.test(e),Vs=e=>Ql(e,lR,i6),Wg=e=>Ql(e,p6,at),s2=e=>Ql(e,iR,aR),u6=e=>Ql(e,sR,o6),rh=e=>Ql(e,cR,s6),Fe=e=>nR.test(e),Zc=e=>Zl(e,lR),d6=e=>Zl(e,m6),o2=e=>Zl(e,iR),f6=e=>Zl(e,oR),h6=e=>Zl(e,sR),nh=e=>Zl(e,cR,!0),Ql=(e,t,r)=>{const n=rR.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Zl=(e,t,r=!1)=>{const n=nR.exec(e);return n?n[1]?t(n[1]):r:!1},iR=e=>e==="position"||e==="percentage",sR=e=>e==="image"||e==="url",oR=e=>e==="length"||e==="size"||e==="bg-size",lR=e=>e==="length",p6=e=>e==="number",m6=e=>e==="family-name",cR=e=>e==="shadow",v6=()=>{const e=sr("color"),t=sr("font"),r=sr("text"),n=sr("font-weight"),i=sr("tracking"),s=sr("leading"),l=sr("breakpoint"),u=sr("container"),d=sr("spacing"),f=sr("radius"),p=sr("shadow"),h=sr("inset-shadow"),v=sr("text-shadow"),b=sr("drop-shadow"),j=sr("blur"),y=sr("perspective"),g=sr("aspect"),S=sr("ease"),C=sr("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...O(),Fe,Le],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],R=()=>[Fe,Le,d],I=()=>[Jo,"full","auto",...R()],L=()=>[Xi,"none","subgrid",Fe,Le],U=()=>["auto",{span:["full",Xi,Fe,Le]},Xi,Fe,Le],W=()=>[Xi,"auto",Fe,Le],H=()=>["auto","min","max","fr",Fe,Le],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],T=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...R()],V=()=>[Jo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],B=()=>[e,Fe,Le],q=()=>[...O(),o2,s2,{position:[Fe,Le]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",f6,c6,{size:[Fe,Le]}],F=()=>[qg,Zc,Vs],$=()=>["","none","full",f,Fe,Le],Q=()=>["",at,Zc,Vs],J=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[at,qg,o2,s2],ce=()=>["","none",j,Fe,Le],ie=()=>["none",at,Fe,Le],xe=()=>["none",at,Fe,Le],Ce=()=>[at,Fe,Le],te=()=>[Jo,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ya],breakpoint:[Ya],color:[a6],container:[Ya],"drop-shadow":[Ya],ease:["in","out","in-out"],font:[l6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ya],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ya],shadow:[Ya],spacing:["px",at],text:[Ya],"text-shadow":[Ya],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jo,Le,Fe,g]}],container:["container"],columns:[{columns:[at,Le,Fe,u]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Xi,"auto",Fe,Le]}],basis:[{basis:[Jo,"full","auto",u,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[at,Jo,"auto","initial","none",Le]}],grow:[{grow:["",at,Fe,Le]}],shrink:[{shrink:["",at,Fe,Le]}],order:[{order:[Xi,"first","last","none",Fe,Le]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":H()}],"auto-rows":[{"auto-rows":H()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...T(),"normal"]}],"justify-self":[{"justify-self":["auto",...T()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...T(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...T(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...T(),"baseline"]}],"place-self":[{"place-self":["auto",...T()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[u,"screen",...V()]}],"min-w":[{"min-w":[u,"screen","none",...V()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",r,Zc,Vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Fe,Wg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qg,Le]}],"font-family":[{font:[d6,Le,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Fe,Le]}],"line-clamp":[{"line-clamp":[at,"none",Fe,Wg]}],leading:[{leading:[s,...R()]}],"list-image":[{"list-image":["none",Fe,Le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,Le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[at,"from-font","auto",Fe,Vs]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[at,"auto",Fe,Le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xi,Fe,Le],radial:["",Fe,Le],conic:[Xi,Fe,Le]},h6,u6]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[at,Fe,Le]}],"outline-w":[{outline:["",at,Zc,Vs]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",p,nh,rh]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",h,nh,rh]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[at,Vs]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",v,nh,rh]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[at,Fe,Le]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[at]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Fe,Le]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[at]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Fe,Le]}],filter:[{filter:["","none",Fe,Le]}],blur:[{blur:ce()}],brightness:[{brightness:[at,Fe,Le]}],contrast:[{contrast:[at,Fe,Le]}],"drop-shadow":[{"drop-shadow":["","none",b,nh,rh]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",at,Fe,Le]}],"hue-rotate":[{"hue-rotate":[at,Fe,Le]}],invert:[{invert:["",at,Fe,Le]}],saturate:[{saturate:[at,Fe,Le]}],sepia:[{sepia:["",at,Fe,Le]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,Le]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[at,Fe,Le]}],"backdrop-contrast":[{"backdrop-contrast":[at,Fe,Le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",at,Fe,Le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[at,Fe,Le]}],"backdrop-invert":[{"backdrop-invert":["",at,Fe,Le]}],"backdrop-opacity":[{"backdrop-opacity":[at,Fe,Le]}],"backdrop-saturate":[{"backdrop-saturate":[at,Fe,Le]}],"backdrop-sepia":[{"backdrop-sepia":["",at,Fe,Le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,Le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[at,"initial",Fe,Le]}],ease:[{ease:["linear","initial",S,Fe,Le]}],delay:[{delay:[at,Fe,Le]}],animate:[{animate:["none",C,Fe,Le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Fe,Le]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:xe()}],"scale-x":[{"scale-x":xe()}],"scale-y":[{"scale-y":xe()}],"scale-z":[{"scale-z":xe()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[Fe,Le,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:te()}],"translate-x":[{"translate-x":te()}],"translate-y":[{"translate-y":te()}],"translate-z":[{"translate-z":te()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,Le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,Le]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[at,Zc,Vs,Wg]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},g6=Q8(v6);function Ie(...e){return g6(pt(e))}const x6=d1("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ne({className:e,variant:t,asChild:r=!1,...n}){const i=r?XI:"span";return a.jsx(i,{"data-slot":"badge",className:Ie(x6({variant:t}),e),...n})}const Su=d1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ne=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const l=n?XI:"button";return a.jsx(l,{"data-slot":"button",className:Ie(Su({variant:t,size:r,className:e})),ref:s,...i})});ne.displayName="Button";function Ae(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function y6(e,t){const r=w.createContext(t),n=s=>{const{children:l,...u}=s,d=w.useMemo(()=>u,Object.values(u));return a.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function i(s){const l=w.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function tn(e,t=[]){let r=[];function n(s,l){const u=w.createContext(l),d=r.length;r=[...r,l];const f=h=>{const{scope:v,children:b,...j}=h,y=v?.[e]?.[d]||u,g=w.useMemo(()=>j,Object.values(j));return a.jsx(y.Provider,{value:g,children:b})};f.displayName=s+"Provider";function p(h,v){const b=v?.[e]?.[d]||u,j=w.useContext(b);if(j)return j;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[f,p]}const i=()=>{const s=r.map(l=>w.createContext(l));return function(u){const d=u?.[e]||s;return w.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[n,b6(i,...t)]}function b6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=n.reduce((u,{useScope:d,scopeName:f})=>{const h=d(s)[`__scope${f}`];return{...u,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var Dr=globalThis?.document?w.useLayoutEffect:()=>{},w6=HI[" useInsertionEffect ".trim().toString()]||Dr;function ka({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,l]=j6({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:i;{const p=w.useRef(e!==void 0);w.useEffect(()=>{const h=p.current;h!==u&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,n])}const f=w.useCallback(p=>{if(u){const h=N6(p)?p(e):p;h!==e&&l.current?.(h)}else s(p)},[u,e,s,l]);return[d,f]}function j6({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),i=w.useRef(r),s=w.useRef(t);return w6(()=>{s.current=t},[t]),w.useEffect(()=>{i.current!==r&&(s.current?.(r),i.current=r)},[r,i]),[r,n,s]}function N6(e){return typeof e=="function"}var xd=VI();const uR=kt(xd);var S6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=S6.reduce((e,t)=>{const r=cs(`Primitive.${t}`),n=w.forwardRef((i,s)=>{const{asChild:l,...u}=i,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function dR(e,t){e&&xd.flushSync(()=>e.dispatchEvent(t))}function h1(e){const t=e+"CollectionProvider",[r,n]=tn(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:g,children:S}=y,C=X.useRef(null),_=X.useRef(new Map).current;return a.jsx(i,{scope:g,itemMap:_,collectionRef:C,children:S})};l.displayName=t;const u=e+"CollectionSlot",d=cs(u),f=X.forwardRef((y,g)=>{const{scope:S,children:C}=y,_=s(u,S),O=dt(g,_.collectionRef);return a.jsx(d,{ref:O,children:C})});f.displayName=u;const p=e+"CollectionItemSlot",h="data-radix-collection-item",v=cs(p),b=X.forwardRef((y,g)=>{const{scope:S,children:C,..._}=y,O=X.useRef(null),N=dt(g,O),k=s(p,S);return X.useEffect(()=>(k.itemMap.set(O,{ref:O,..._}),()=>void k.itemMap.delete(O))),a.jsx(v,{[h]:"",ref:N,children:C})});b.displayName=p;function j(y){const g=s(e+"CollectionConsumer",y);return X.useCallback(()=>{const C=g.collectionRef.current;if(!C)return[];const _=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((k,A)=>_.indexOf(k.ref.current)-_.indexOf(A.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:l,Slot:f,ItemSlot:b},j,n]}var C6=w.createContext(void 0);function zp(e){const t=w.useContext(C6);return e||t||"ltr"}function Pa(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>t.current?.(...r),[])}function _6(e,t=globalThis?.document){const r=Pa(e);w.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var E6="DismissableLayer",ww="dismissableLayer.update",k6="dismissableLayer.pointerDownOutside",P6="dismissableLayer.focusOutside",l2,fR=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jl=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:u,...d}=e,f=w.useContext(fR),[p,h]=w.useState(null),v=p?.ownerDocument??globalThis?.document,[,b]=w.useState({}),j=dt(t,A=>h(A)),y=Array.from(f.layers),[g]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(g),C=p?y.indexOf(p):-1,_=f.layersWithOutsidePointerEventsDisabled.size>0,O=C>=S,N=T6(A=>{const R=A.target,I=[...f.branches].some(L=>L.contains(R));!O||I||(i?.(A),l?.(A),A.defaultPrevented||u?.())},v),k=I6(A=>{const R=A.target;[...f.branches].some(L=>L.contains(R))||(s?.(A),l?.(A),A.defaultPrevented||u?.())},v);return _6(A=>{C===f.layers.size-1&&(n?.(A),!A.defaultPrevented&&u&&(A.preventDefault(),u()))},v),w.useEffect(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(l2=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),c2(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=l2)}},[p,v,r,f]),w.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),c2())},[p,f]),w.useEffect(()=>{const A=()=>b({});return document.addEventListener(ww,A),()=>document.removeEventListener(ww,A)},[]),a.jsx(qe.div,{...d,ref:j,style:{pointerEvents:_?O?"auto":"none":void 0,...e.style},onFocusCapture:Ae(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ae(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ae(e.onPointerDownCapture,N.onPointerDownCapture)})});Jl.displayName=E6;var O6="DismissableLayerBranch",A6=w.forwardRef((e,t)=>{const r=w.useContext(fR),n=w.useRef(null),i=dt(t,n);return w.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(qe.div,{...e,ref:i})});A6.displayName=O6;function T6(e,t=globalThis?.document){const r=Pa(e),n=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=u=>{if(u.target&&!n.current){let d=function(){hR(k6,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function I6(e,t=globalThis?.document){const r=Pa(e),n=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!n.current&&hR(P6,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function c2(){const e=new CustomEvent(ww);document.dispatchEvent(e)}function hR(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?dR(i,s):i.dispatchEvent(s)}var Vg=0;function Up(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??u2()),document.body.insertAdjacentElement("beforeend",e[1]??u2()),Vg++,()=>{Vg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vg--}},[])}function u2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hg="focusScope.autoFocusOnMount",Gg="focusScope.autoFocusOnUnmount",d2={bubbles:!1,cancelable:!0},R6="FocusScope",yd=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=e,[u,d]=w.useState(null),f=Pa(i),p=Pa(s),h=w.useRef(null),v=dt(t,y=>d(y)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let y=function(_){if(b.paused||!u)return;const O=_.target;u.contains(O)?h.current=O:Zi(h.current,{select:!0})},g=function(_){if(b.paused||!u)return;const O=_.relatedTarget;O!==null&&(u.contains(O)||Zi(h.current,{select:!0}))},S=function(_){if(document.activeElement===document.body)for(const N of _)N.removedNodes.length>0&&Zi(u)};document.addEventListener("focusin",y),document.addEventListener("focusout",g);const C=new MutationObserver(S);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",g),C.disconnect()}}},[n,u,b.paused]),w.useEffect(()=>{if(u){h2.add(b);const y=document.activeElement;if(!u.contains(y)){const S=new CustomEvent(Hg,d2);u.addEventListener(Hg,f),u.dispatchEvent(S),S.defaultPrevented||(D6(B6(pR(u)),{select:!0}),document.activeElement===y&&Zi(u))}return()=>{u.removeEventListener(Hg,f),setTimeout(()=>{const S=new CustomEvent(Gg,d2);u.addEventListener(Gg,p),u.dispatchEvent(S),S.defaultPrevented||Zi(y??document.body,{select:!0}),u.removeEventListener(Gg,p),h2.remove(b)},0)}}},[u,f,p,b]);const j=w.useCallback(y=>{if(!r&&!n||b.paused)return;const g=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(g&&S){const C=y.currentTarget,[_,O]=M6(C);_&&O?!y.shiftKey&&S===O?(y.preventDefault(),r&&Zi(_,{select:!0})):y.shiftKey&&S===_&&(y.preventDefault(),r&&Zi(O,{select:!0})):S===C&&y.preventDefault()}},[r,n,b.paused]);return a.jsx(qe.div,{tabIndex:-1,...l,ref:v,onKeyDown:j})});yd.displayName=R6;function D6(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Zi(n,{select:t}),document.activeElement!==r)return}function M6(e){const t=pR(e),r=f2(t,e),n=f2(t.reverse(),e);return[r,n]}function pR(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function f2(e,t){for(const r of e)if(!$6(r,{upTo:t}))return r}function $6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function L6(e){return e instanceof HTMLInputElement&&"select"in e}function Zi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&L6(e)&&t&&e.select()}}var h2=F6();function F6(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=p2(e,t),e.unshift(t)},remove(t){e=p2(e,t),e[0]?.resume()}}}function p2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function B6(e){return e.filter(t=>t.tagName!=="A")}var z6=HI[" useId ".trim().toString()]||(()=>{}),U6=0;function gr(e){const[t,r]=w.useState(z6());return Dr(()=>{r(n=>n??String(U6++))},[e]),e||(t?`radix-${t}`:"")}const q6=["top","right","bottom","left"],us=Math.min,vn=Math.max,Dh=Math.round,ah=Math.floor,Sa=e=>({x:e,y:e}),W6={left:"right",right:"left",bottom:"top",top:"bottom"},V6={start:"end",end:"start"};function jw(e,t,r){return vn(e,us(t,r))}function fi(e,t){return typeof e=="function"?e(t):e}function hi(e){return e.split("-")[0]}function ec(e){return e.split("-")[1]}function p1(e){return e==="x"?"y":"x"}function m1(e){return e==="y"?"height":"width"}const H6=new Set(["top","bottom"]);function wa(e){return H6.has(hi(e))?"y":"x"}function v1(e){return p1(wa(e))}function G6(e,t,r){r===void 0&&(r=!1);const n=ec(e),i=v1(e),s=m1(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=Mh(l)),[l,Mh(l)]}function K6(e){const t=Mh(e);return[Nw(e),t,Nw(t)]}function Nw(e){return e.replace(/start|end/g,t=>V6[t])}const m2=["left","right"],v2=["right","left"],Y6=["top","bottom"],X6=["bottom","top"];function Q6(e,t,r){switch(e){case"top":case"bottom":return r?t?v2:m2:t?m2:v2;case"left":case"right":return t?Y6:X6;default:return[]}}function Z6(e,t,r,n){const i=ec(e);let s=Q6(hi(e),r==="start",n);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(Nw)))),s}function Mh(e){return e.replace(/left|right|bottom|top/g,t=>W6[t])}function J6(e){return{top:0,right:0,bottom:0,left:0,...e}}function mR(e){return typeof e!="number"?J6(e):{top:e,right:e,bottom:e,left:e}}function $h(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function g2(e,t,r){let{reference:n,floating:i}=e;const s=wa(t),l=v1(t),u=m1(l),d=hi(t),f=s==="y",p=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,v=n[u]/2-i[u]/2;let b;switch(d){case"top":b={x:p,y:n.y-i.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:h};break;case"left":b={x:n.x-i.width,y:h};break;default:b={x:n.x,y:n.y}}switch(ec(t)){case"start":b[l]-=v*(r&&f?-1:1);break;case"end":b[l]+=v*(r&&f?-1:1);break}return b}const eB=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:l}=r,u=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:h}=g2(f,n,d),v=n,b={},j=0;for(let y=0;y<u.length;y++){const{name:g,fn:S}=u[y],{x:C,y:_,data:O,reset:N}=await S({x:p,y:h,initialPlacement:n,placement:v,strategy:i,middlewareData:b,rects:f,platform:l,elements:{reference:e,floating:t}});p=C??p,h=_??h,b={...b,[g]:{...b[g],...O}},N&&j<=50&&(j++,typeof N=="object"&&(N.placement&&(v=N.placement),N.rects&&(f=N.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:p,y:h}=g2(f,v,d)),y=-1)}return{x:p,y:h,placement:v,strategy:i,middlewareData:b}};async function Cu(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:v=!1,padding:b=0}=fi(t,e),j=mR(b),g=u[v?h==="floating"?"reference":"floating":h],S=$h(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(g)))==null||r?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:d})),C=h==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),O=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},N=$h(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:_,strategy:d}):C);return{top:(S.top-N.top+j.top)/O.y,bottom:(N.bottom-S.bottom+j.bottom)/O.y,left:(S.left-N.left+j.left)/O.x,right:(N.right-S.right+j.right)/O.x}}const tB=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:p=0}=fi(e,t)||{};if(f==null)return{};const h=mR(p),v={x:r,y:n},b=v1(i),j=m1(b),y=await l.getDimensions(f),g=b==="y",S=g?"top":"left",C=g?"bottom":"right",_=g?"clientHeight":"clientWidth",O=s.reference[j]+s.reference[b]-v[b]-s.floating[j],N=v[b]-s.reference[b],k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let A=k?k[_]:0;(!A||!await(l.isElement==null?void 0:l.isElement(k)))&&(A=u.floating[_]||s.floating[j]);const R=O/2-N/2,I=A/2-y[j]/2-1,L=us(h[S],I),U=us(h[C],I),W=L,H=A-y[j]-U,G=A/2-y[j]/2+R,T=jw(W,G,H),D=!d.arrow&&ec(i)!=null&&G!==T&&s.reference[j]/2-(G<W?L:U)-y[j]/2<0,V=D?G<W?G-W:G-H:0;return{[b]:v[b]+V,data:{[b]:T,centerOffset:G-T-V,...D&&{alignmentOffset:V}},reset:D}}}),rB=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:y=!0,...g}=fi(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const S=hi(i),C=wa(u),_=hi(u)===u,O=await(d.isRTL==null?void 0:d.isRTL(f.floating)),N=v||(_||!y?[Mh(u)]:K6(u)),k=j!=="none";!v&&k&&N.push(...Z6(u,y,j,O));const A=[u,...N],R=await Cu(t,g),I=[];let L=((n=s.flip)==null?void 0:n.overflows)||[];if(p&&I.push(R[S]),h){const G=G6(i,l,O);I.push(R[G[0]],R[G[1]])}if(L=[...L,{placement:i,overflows:I}],!I.every(G=>G<=0)){var U,W;const G=(((U=s.flip)==null?void 0:U.index)||0)+1,T=A[G];if(T&&(!(h==="alignment"?C!==wa(T):!1)||L.every(B=>wa(B.placement)===C?B.overflows[0]>0:!0)))return{data:{index:G,overflows:L},reset:{placement:T}};let D=(W=L.filter(V=>V.overflows[0]<=0).sort((V,B)=>V.overflows[1]-B.overflows[1])[0])==null?void 0:W.placement;if(!D)switch(b){case"bestFit":{var H;const V=(H=L.filter(B=>{if(k){const q=wa(B.placement);return q===C||q==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(q=>q>0).reduce((q,K)=>q+K,0)]).sort((B,q)=>B[1]-q[1])[0])==null?void 0:H[0];V&&(D=V);break}case"initialPlacement":D=u;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function x2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function y2(e){return q6.some(t=>e[t]>=0)}const nB=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=fi(e,t);switch(n){case"referenceHidden":{const s=await Cu(t,{...i,elementContext:"reference"}),l=x2(s,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:y2(l)}}}case"escaped":{const s=await Cu(t,{...i,altBoundary:!0}),l=x2(s,r.floating);return{data:{escapedOffsets:l,escaped:y2(l)}}}default:return{}}}}},vR=new Set(["left","top"]);async function aB(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=hi(r),u=ec(r),d=wa(r)==="y",f=vR.has(l)?-1:1,p=s&&d?-1:1,h=fi(t,e);let{mainAxis:v,crossAxis:b,alignmentAxis:j}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return u&&typeof j=="number"&&(b=u==="end"?j*-1:j),d?{x:b*p,y:v*f}:{x:v*f,y:b*p}}const iB=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:l,middlewareData:u}=t,d=await aB(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}},sB=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:u={fn:g=>{let{x:S,y:C}=g;return{x:S,y:C}}},...d}=fi(e,t),f={x:r,y:n},p=await Cu(t,d),h=wa(hi(i)),v=p1(h);let b=f[v],j=f[h];if(s){const g=v==="y"?"top":"left",S=v==="y"?"bottom":"right",C=b+p[g],_=b-p[S];b=jw(C,b,_)}if(l){const g=h==="y"?"top":"left",S=h==="y"?"bottom":"right",C=j+p[g],_=j-p[S];j=jw(C,j,_)}const y=u.fn({...t,[v]:b,[h]:j});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[v]:s,[h]:l}}}}}},oB=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=fi(e,t),p={x:r,y:n},h=wa(i),v=p1(h);let b=p[v],j=p[h];const y=fi(u,t),g=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(d){const _=v==="y"?"height":"width",O=s.reference[v]-s.floating[_]+g.mainAxis,N=s.reference[v]+s.reference[_]-g.mainAxis;b<O?b=O:b>N&&(b=N)}if(f){var S,C;const _=v==="y"?"width":"height",O=vR.has(hi(i)),N=s.reference[h]-s.floating[_]+(O&&((S=l.offset)==null?void 0:S[h])||0)+(O?0:g.crossAxis),k=s.reference[h]+s.reference[_]+(O?0:((C=l.offset)==null?void 0:C[h])||0)-(O?g.crossAxis:0);j<N?j=N:j>k&&(j=k)}return{[v]:b,[h]:j}}}},lB=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:l,elements:u}=t,{apply:d=()=>{},...f}=fi(e,t),p=await Cu(t,f),h=hi(i),v=ec(i),b=wa(i)==="y",{width:j,height:y}=s.floating;let g,S;h==="top"||h==="bottom"?(g=h,S=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(S=h,g=v==="end"?"top":"bottom");const C=y-p.top-p.bottom,_=j-p.left-p.right,O=us(y-p[g],C),N=us(j-p[S],_),k=!t.middlewareData.shift;let A=O,R=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=C),k&&!v){const L=vn(p.left,0),U=vn(p.right,0),W=vn(p.top,0),H=vn(p.bottom,0);b?R=j-2*(L!==0||U!==0?L+U:vn(p.left,p.right)):A=y-2*(W!==0||H!==0?W+H:vn(p.top,p.bottom))}await d({...t,availableWidth:R,availableHeight:A});const I=await l.getDimensions(u.floating);return j!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function qp(){return typeof window<"u"}function tc(e){return gR(e)?(e.nodeName||"").toLowerCase():"#document"}function jn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $a(e){var t;return(t=(gR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gR(e){return qp()?e instanceof Node||e instanceof jn(e).Node:!1}function ra(e){return qp()?e instanceof Element||e instanceof jn(e).Element:!1}function Oa(e){return qp()?e instanceof HTMLElement||e instanceof jn(e).HTMLElement:!1}function b2(e){return!qp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof jn(e).ShadowRoot}const cB=new Set(["inline","contents"]);function bd(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=na(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!cB.has(i)}const uB=new Set(["table","td","th"]);function dB(e){return uB.has(tc(e))}const fB=[":popover-open",":modal"];function Wp(e){return fB.some(t=>{try{return e.matches(t)}catch{return!1}})}const hB=["transform","translate","scale","rotate","perspective"],pB=["transform","translate","scale","rotate","perspective","filter"],mB=["paint","layout","strict","content"];function g1(e){const t=x1(),r=ra(e)?na(e):e;return hB.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||pB.some(n=>(r.willChange||"").includes(n))||mB.some(n=>(r.contain||"").includes(n))}function vB(e){let t=ds(e);for(;Oa(t)&&!Cl(t);){if(g1(t))return t;if(Wp(t))return null;t=ds(t)}return null}function x1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gB=new Set(["html","body","#document"]);function Cl(e){return gB.has(tc(e))}function na(e){return jn(e).getComputedStyle(e)}function Vp(e){return ra(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ds(e){if(tc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||b2(e)&&e.host||$a(e);return b2(t)?t.host:t}function xR(e){const t=ds(e);return Cl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Oa(t)&&bd(t)?t:xR(t)}function _u(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=xR(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),l=jn(i);if(s){const u=Sw(l);return t.concat(l,l.visualViewport||[],bd(i)?i:[],u&&r?_u(u):[])}return t.concat(i,_u(i,[],r))}function Sw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yR(e){const t=na(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Oa(e),s=i?e.offsetWidth:r,l=i?e.offsetHeight:n,u=Dh(r)!==s||Dh(n)!==l;return u&&(r=s,n=l),{width:r,height:n,$:u}}function y1(e){return ra(e)?e:e.contextElement}function gl(e){const t=y1(e);if(!Oa(t))return Sa(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=yR(t);let l=(s?Dh(r.width):r.width)/n,u=(s?Dh(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const xB=Sa(0);function bR(e){const t=jn(e);return!x1()||!t.visualViewport?xB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yB(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==jn(e)?!1:t}function lo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=y1(e);let l=Sa(1);t&&(n?ra(n)&&(l=gl(n)):l=gl(e));const u=yB(s,r,n)?bR(s):Sa(0);let d=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,p=i.width/l.x,h=i.height/l.y;if(s){const v=jn(s),b=n&&ra(n)?jn(n):n;let j=v,y=Sw(j);for(;y&&n&&b!==j;){const g=gl(y),S=y.getBoundingClientRect(),C=na(y),_=S.left+(y.clientLeft+parseFloat(C.paddingLeft))*g.x,O=S.top+(y.clientTop+parseFloat(C.paddingTop))*g.y;d*=g.x,f*=g.y,p*=g.x,h*=g.y,d+=_,f+=O,j=jn(y),y=Sw(j)}}return $h({width:p,height:h,x:d,y:f})}function Hp(e,t){const r=Vp(e).scrollLeft;return t?t.left+r:lo($a(e)).left+r}function wR(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Hp(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function bB(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",l=$a(n),u=t?Wp(t.floating):!1;if(n===l||u&&s)return r;let d={scrollLeft:0,scrollTop:0},f=Sa(1);const p=Sa(0),h=Oa(n);if((h||!h&&!s)&&((tc(n)!=="body"||bd(l))&&(d=Vp(n)),Oa(n))){const b=lo(n);f=gl(n),p.x=b.x+n.clientLeft,p.y=b.y+n.clientTop}const v=l&&!h&&!s?wR(l,d):Sa(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+p.x+v.x,y:r.y*f.y-d.scrollTop*f.y+p.y+v.y}}function wB(e){return Array.from(e.getClientRects())}function jB(e){const t=$a(e),r=Vp(e),n=e.ownerDocument.body,i=vn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=vn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Hp(e);const u=-r.scrollTop;return na(n).direction==="rtl"&&(l+=vn(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:l,y:u}}const w2=25;function NB(e,t){const r=jn(e),n=$a(e),i=r.visualViewport;let s=n.clientWidth,l=n.clientHeight,u=0,d=0;if(i){s=i.width,l=i.height;const p=x1();(!p||p&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}const f=Hp(n);if(f<=0){const p=n.ownerDocument,h=p.body,v=getComputedStyle(h),b=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,j=Math.abs(n.clientWidth-h.clientWidth-b);j<=w2&&(s-=j)}else f<=w2&&(s+=f);return{width:s,height:l,x:u,y:d}}const SB=new Set(["absolute","fixed"]);function CB(e,t){const r=lo(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=Oa(e)?gl(e):Sa(1),l=e.clientWidth*s.x,u=e.clientHeight*s.y,d=i*s.x,f=n*s.y;return{width:l,height:u,x:d,y:f}}function j2(e,t,r){let n;if(t==="viewport")n=NB(e,r);else if(t==="document")n=jB($a(e));else if(ra(t))n=CB(t,r);else{const i=bR(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return $h(n)}function jR(e,t){const r=ds(e);return r===t||!ra(r)||Cl(r)?!1:na(r).position==="fixed"||jR(r,t)}function _B(e,t){const r=t.get(e);if(r)return r;let n=_u(e,[],!1).filter(u=>ra(u)&&tc(u)!=="body"),i=null;const s=na(e).position==="fixed";let l=s?ds(e):e;for(;ra(l)&&!Cl(l);){const u=na(l),d=g1(l);!d&&u.position==="fixed"&&(i=null),(s?!d&&!i:!d&&u.position==="static"&&!!i&&SB.has(i.position)||bd(l)&&!d&&jR(e,l))?n=n.filter(p=>p!==l):i=u,l=ds(l)}return t.set(e,n),n}function EB(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?Wp(t)?[]:_B(t,this._c):[].concat(r),n],u=l[0],d=l.reduce((f,p)=>{const h=j2(t,p,i);return f.top=vn(h.top,f.top),f.right=us(h.right,f.right),f.bottom=us(h.bottom,f.bottom),f.left=vn(h.left,f.left),f},j2(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function kB(e){const{width:t,height:r}=yR(e);return{width:t,height:r}}function PB(e,t,r){const n=Oa(t),i=$a(t),s=r==="fixed",l=lo(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const d=Sa(0);function f(){d.x=Hp(i)}if(n||!n&&!s)if((tc(t)!=="body"||bd(i))&&(u=Vp(t)),n){const b=lo(t,!0,s,t);d.x=b.x+t.clientLeft,d.y=b.y+t.clientTop}else i&&f();s&&!n&&i&&f();const p=i&&!n&&!s?wR(i,u):Sa(0),h=l.left+u.scrollLeft-d.x-p.x,v=l.top+u.scrollTop-d.y-p.y;return{x:h,y:v,width:l.width,height:l.height}}function Kg(e){return na(e).position==="static"}function N2(e,t){if(!Oa(e)||na(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return $a(e)===r&&(r=r.ownerDocument.body),r}function NR(e,t){const r=jn(e);if(Wp(e))return r;if(!Oa(e)){let i=ds(e);for(;i&&!Cl(i);){if(ra(i)&&!Kg(i))return i;i=ds(i)}return r}let n=N2(e,t);for(;n&&dB(n)&&Kg(n);)n=N2(n,t);return n&&Cl(n)&&Kg(n)&&!g1(n)?r:n||vB(e)||r}const OB=async function(e){const t=this.getOffsetParent||NR,r=this.getDimensions,n=await r(e.floating);return{reference:PB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function AB(e){return na(e).direction==="rtl"}const TB={convertOffsetParentRelativeRectToViewportRelativeRect:bB,getDocumentElement:$a,getClippingRect:EB,getOffsetParent:NR,getElementRects:OB,getClientRects:wB,getDimensions:kB,getScale:gl,isElement:ra,isRTL:AB};function SR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IB(e,t){let r=null,n;const i=$a(e);function s(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const f=e.getBoundingClientRect(),{left:p,top:h,width:v,height:b}=f;if(u||t(),!v||!b)return;const j=ah(h),y=ah(i.clientWidth-(p+v)),g=ah(i.clientHeight-(h+b)),S=ah(p),_={rootMargin:-j+"px "+-y+"px "+-g+"px "+-S+"px",threshold:vn(0,us(1,d))||1};let O=!0;function N(k){const A=k[0].intersectionRatio;if(A!==d){if(!O)return l();A?l(!1,A):n=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!SR(f,e.getBoundingClientRect())&&l(),O=!1}try{r=new IntersectionObserver(N,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,_)}r.observe(e)}return l(!0),s}function RB(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=y1(e),p=i||s?[...f?_u(f):[],..._u(t)]:[];p.forEach(S=>{i&&S.addEventListener("scroll",r,{passive:!0}),s&&S.addEventListener("resize",r)});const h=f&&u?IB(f,r):null;let v=-1,b=null;l&&(b=new ResizeObserver(S=>{let[C]=S;C&&C.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var _;(_=b)==null||_.observe(t)})),r()}),f&&!d&&b.observe(f),b.observe(t));let j,y=d?lo(e):null;d&&g();function g(){const S=lo(e);y&&!SR(y,S)&&r(),y=S,j=requestAnimationFrame(g)}return r(),()=>{var S;p.forEach(C=>{i&&C.removeEventListener("scroll",r),s&&C.removeEventListener("resize",r)}),h?.(),(S=b)==null||S.disconnect(),b=null,d&&cancelAnimationFrame(j)}}const DB=iB,MB=sB,$B=rB,LB=lB,FB=nB,S2=tB,BB=oB,zB=(e,t,r)=>{const n=new Map,i={platform:TB,...r},s={...i.platform,_c:n};return eB(e,t,{...i,platform:s})};var UB=typeof document<"u",qB=function(){},Oh=UB?w.useLayoutEffect:qB;function Lh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Lh(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Lh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function CR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function C2(e,t){const r=CR(e);return Math.round(t*r)/r}function Yg(e){const t=w.useRef(e);return Oh(()=>{t.current=e}),t}function WB(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[p,h]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,b]=w.useState(n);Lh(v,n)||b(n);const[j,y]=w.useState(null),[g,S]=w.useState(null),C=w.useCallback(B=>{B!==k.current&&(k.current=B,y(B))},[]),_=w.useCallback(B=>{B!==A.current&&(A.current=B,S(B))},[]),O=s||j,N=l||g,k=w.useRef(null),A=w.useRef(null),R=w.useRef(p),I=d!=null,L=Yg(d),U=Yg(i),W=Yg(f),H=w.useCallback(()=>{if(!k.current||!A.current)return;const B={placement:t,strategy:r,middleware:v};U.current&&(B.platform=U.current),zB(k.current,A.current,B).then(q=>{const K={...q,isPositioned:W.current!==!1};G.current&&!Lh(R.current,K)&&(R.current=K,xd.flushSync(()=>{h(K)}))})},[v,t,r,U,W]);Oh(()=>{f===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[f]);const G=w.useRef(!1);Oh(()=>(G.current=!0,()=>{G.current=!1}),[]),Oh(()=>{if(O&&(k.current=O),N&&(A.current=N),O&&N){if(L.current)return L.current(O,N,H);H()}},[O,N,H,L,I]);const T=w.useMemo(()=>({reference:k,floating:A,setReference:C,setFloating:_}),[C,_]),D=w.useMemo(()=>({reference:O,floating:N}),[O,N]),V=w.useMemo(()=>{const B={position:r,left:0,top:0};if(!D.floating)return B;const q=C2(D.floating,p.x),K=C2(D.floating,p.y);return u?{...B,transform:"translate("+q+"px, "+K+"px)",...CR(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:K}},[r,u,D.floating,p.x,p.y]);return w.useMemo(()=>({...p,update:H,refs:T,elements:D,floatingStyles:V}),[p,H,T,D,V])}const VB=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?S2({element:n.current,padding:i}).fn(r):{}:n?S2({element:n,padding:i}).fn(r):{}}}},HB=(e,t)=>({...DB(e),options:[e,t]}),GB=(e,t)=>({...MB(e),options:[e,t]}),KB=(e,t)=>({...BB(e),options:[e,t]}),YB=(e,t)=>({...$B(e),options:[e,t]}),XB=(e,t)=>({...LB(e),options:[e,t]}),QB=(e,t)=>({...FB(e),options:[e,t]}),ZB=(e,t)=>({...VB(e),options:[e,t]});var JB="Arrow",_R=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(qe.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});_R.displayName=JB;var ez=_R;function b1(e){const[t,r]=w.useState(void 0);return Dr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,u;if("borderBoxSize"in s){const d=s.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var w1="Popper",[ER,xs]=tn(w1),[tz,kR]=ER(w1),PR=e=>{const{__scopePopper:t,children:r}=e,[n,i]=w.useState(null);return a.jsx(tz,{scope:t,anchor:n,onAnchorChange:i,children:r})};PR.displayName=w1;var OR="PopperAnchor",AR=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=kR(OR,r),l=w.useRef(null),u=dt(t,l),d=w.useRef(null);return w.useEffect(()=>{const f=d.current;d.current=n?.current||l.current,f!==d.current&&s.onAnchorChange(d.current)}),n?null:a.jsx(qe.div,{...i,ref:u})});AR.displayName=OR;var j1="PopperContent",[rz,nz]=ER(j1),TR=w.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:h="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:j,...y}=e,g=kR(j1,r),[S,C]=w.useState(null),_=dt(t,Y=>C(Y)),[O,N]=w.useState(null),k=b1(O),A=k?.width??0,R=k?.height??0,I=n+(s!=="center"?"-"+s:""),L=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},U=Array.isArray(f)?f:[f],W=U.length>0,H={padding:L,boundary:U.filter(iz),altBoundary:W},{refs:G,floatingStyles:T,placement:D,isPositioned:V,middlewareData:B}=WB({strategy:"fixed",placement:I,whileElementsMounted:(...Y)=>RB(...Y,{animationFrame:b==="always"}),elements:{reference:g.anchor},middleware:[HB({mainAxis:i+R,alignmentAxis:l}),d&&GB({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?KB():void 0,...H}),d&&YB({...H}),XB({...H,apply:({elements:Y,rects:ce,availableWidth:ie,availableHeight:xe})=>{const{width:Ce,height:te}=ce.reference,ae=Y.floating.style;ae.setProperty("--radix-popper-available-width",`${ie}px`),ae.setProperty("--radix-popper-available-height",`${xe}px`),ae.setProperty("--radix-popper-anchor-width",`${Ce}px`),ae.setProperty("--radix-popper-anchor-height",`${te}px`)}}),O&&ZB({element:O,padding:u}),sz({arrowWidth:A,arrowHeight:R}),v&&QB({strategy:"referenceHidden",...H})]}),[q,K]=DR(D),z=Pa(j);Dr(()=>{V&&z?.()},[V,z]);const F=B.arrow?.x,$=B.arrow?.y,Q=B.arrow?.centerOffset!==0,[J,le]=w.useState();return Dr(()=>{S&&le(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:V?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(rz,{scope:r,placedSide:q,onArrowChange:N,arrowX:F,arrowY:$,shouldHideArrow:Q,children:a.jsx(qe.div,{"data-side":q,"data-align":K,...y,ref:_,style:{...y.style,animation:V?void 0:"none"}})})})});TR.displayName=j1;var IR="PopperArrow",az={top:"bottom",right:"left",bottom:"top",left:"right"},RR=w.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=nz(IR,n),l=az[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(ez,{...i,ref:r,style:{...i.style,display:"block"}})})});RR.displayName=IR;function iz(e){return e!==null}var sz=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,l=i.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,p]=DR(r),h={start:"0%",center:"50%",end:"100%"}[p],v=(i.arrow?.x??0)+u/2,b=(i.arrow?.y??0)+d/2;let j="",y="";return f==="bottom"?(j=l?h:`${v}px`,y=`${-d}px`):f==="top"?(j=l?h:`${v}px`,y=`${n.floating.height+d}px`):f==="right"?(j=`${-d}px`,y=l?h:`${b}px`):f==="left"&&(j=`${n.floating.width+d}px`,y=l?h:`${b}px`),{data:{x:j,y}}}});function DR(e){const[t,r="center"]=e.split("-");return[t,r]}var Gp=PR,wd=AR,Kp=TR,Yp=RR,oz="Portal",rc=w.forwardRef((e,t)=>{const{container:r,...n}=e,[i,s]=w.useState(!1);Dr(()=>s(!0),[]);const l=r||i&&globalThis?.document?.body;return l?uR.createPortal(a.jsx(qe.div,{...n,ref:t}),l):null});rc.displayName=oz;function lz(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var rn=e=>{const{present:t,children:r}=e,n=cz(t),i=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),s=dt(n.ref,uz(i));return typeof r=="function"||n.isPresent?w.cloneElement(i,{ref:s}):null};rn.displayName="Presence";function cz(e){const[t,r]=w.useState(),n=w.useRef(null),i=w.useRef(e),s=w.useRef("none"),l=e?"mounted":"unmounted",[u,d]=lz(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const f=ih(n.current);s.current=u==="mounted"?f:"none"},[u]),Dr(()=>{const f=n.current,p=i.current;if(p!==e){const v=s.current,b=ih(f);e?d("MOUNT"):b==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&v!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),Dr(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,h=b=>{const y=ih(n.current).includes(CSS.escape(b.animationName));if(b.target===t&&y&&(d("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},v=b=>{b.target===t&&(s.current=ih(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:w.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function ih(e){return e?.animationName||"none"}function uz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Xg="rovingFocusGroup.onEntryFocus",dz={bubbles:!1,cancelable:!0},jd="RovingFocusGroup",[Cw,MR,fz]=h1(jd),[hz,Xp]=tn(jd,[fz]),[pz,mz]=hz(jd),$R=w.forwardRef((e,t)=>a.jsx(Cw.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Cw.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(vz,{...e,ref:t})})}));$R.displayName=jd;var vz=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...h}=e,v=w.useRef(null),b=dt(t,v),j=zp(s),[y,g]=ka({prop:l,defaultProp:u??null,onChange:d,caller:jd}),[S,C]=w.useState(!1),_=Pa(f),O=MR(r),N=w.useRef(!1),[k,A]=w.useState(0);return w.useEffect(()=>{const R=v.current;if(R)return R.addEventListener(Xg,_),()=>R.removeEventListener(Xg,_)},[_]),a.jsx(pz,{scope:r,orientation:n,dir:j,loop:i,currentTabStopId:y,onItemFocus:w.useCallback(R=>g(R),[g]),onItemShiftTab:w.useCallback(()=>C(!0),[]),onFocusableItemAdd:w.useCallback(()=>A(R=>R+1),[]),onFocusableItemRemove:w.useCallback(()=>A(R=>R-1),[]),children:a.jsx(qe.div,{tabIndex:S||k===0?-1:0,"data-orientation":n,...h,ref:b,style:{outline:"none",...e.style},onMouseDown:Ae(e.onMouseDown,()=>{N.current=!0}),onFocus:Ae(e.onFocus,R=>{const I=!N.current;if(R.target===R.currentTarget&&I&&!S){const L=new CustomEvent(Xg,dz);if(R.currentTarget.dispatchEvent(L),!L.defaultPrevented){const U=O().filter(D=>D.focusable),W=U.find(D=>D.active),H=U.find(D=>D.id===y),T=[W,H,...U].filter(Boolean).map(D=>D.ref.current);BR(T,p)}}N.current=!1}),onBlur:Ae(e.onBlur,()=>C(!1))})})}),LR="RovingFocusGroupItem",FR=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:l,...u}=e,d=gr(),f=s||d,p=mz(LR,r),h=p.currentTabStopId===f,v=MR(r),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:y}=p;return w.useEffect(()=>{if(n)return b(),()=>j()},[n,b,j]),a.jsx(Cw.ItemSlot,{scope:r,id:f,focusable:n,active:i,children:a.jsx(qe.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:Ae(e.onMouseDown,g=>{n?p.onItemFocus(f):g.preventDefault()}),onFocus:Ae(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:Ae(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){p.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const S=yz(g,p.orientation,p.dir);if(S!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let _=v().filter(O=>O.focusable).map(O=>O.ref.current);if(S==="last")_.reverse();else if(S==="prev"||S==="next"){S==="prev"&&_.reverse();const O=_.indexOf(g.currentTarget);_=p.loop?bz(_,O+1):_.slice(O+1)}setTimeout(()=>BR(_))}}),children:typeof l=="function"?l({isCurrentTabStop:h,hasTabStop:y!=null}):l})})});FR.displayName=LR;var gz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xz(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yz(e,t,r){const n=xz(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gz[n]}function BR(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function bz(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var zR=$R,UR=FR,wz=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},el=new WeakMap,sh=new WeakMap,oh={},Qg=0,qR=function(e){return e&&(e.host||qR(e.parentNode))},jz=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=qR(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Nz=function(e,t,r,n){var i=jz(t,Array.isArray(e)?e:[e]);oh[r]||(oh[r]=new WeakMap);var s=oh[r],l=[],u=new Set,d=new Set(i),f=function(h){!h||u.has(h)||(u.add(h),f(h.parentNode))};i.forEach(f);var p=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(v){if(u.has(v))p(v);else try{var b=v.getAttribute(n),j=b!==null&&b!=="false",y=(el.get(v)||0)+1,g=(s.get(v)||0)+1;el.set(v,y),s.set(v,g),l.push(v),y===1&&j&&sh.set(v,!0),g===1&&v.setAttribute(r,"true"),j||v.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",v,S)}})};return p(t),u.clear(),Qg++,function(){l.forEach(function(h){var v=el.get(h)-1,b=s.get(h)-1;el.set(h,v),s.set(h,b),v||(sh.has(h)||h.removeAttribute(n),sh.delete(h)),b||h.removeAttribute(r)}),Qg--,Qg||(el=new WeakMap,el=new WeakMap,sh=new WeakMap,oh={})}},Qp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=wz(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Nz(n,i,r,"aria-hidden")):function(){return null}},va=function(){return va=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},va.apply(this,arguments)};function WR(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Sz(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Ah="right-scroll-bar-position",Th="width-before-scroll-bar",Cz="with-scroll-bars-hidden",_z="--removed-body-scroll-bar-size";function Zg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Ez(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var kz=typeof window<"u"?w.useLayoutEffect:w.useEffect,_2=new WeakMap;function Pz(e,t){var r=Ez(null,function(n){return e.forEach(function(i){return Zg(i,n)})});return kz(function(){var n=_2.get(r);if(n){var i=new Set(n),s=new Set(e),l=r.current;i.forEach(function(u){s.has(u)||Zg(u,null)}),s.forEach(function(u){i.has(u)||Zg(u,l)})}_2.set(r,e)},[e]),r}function Oz(e){return e}function Az(e,t){t===void 0&&(t=Oz);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var l=t(s,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(s){for(n=!0;r.length;){var l=r;r=[],l.forEach(s)}r={push:function(u){return s(u)},filter:function(){return r}}},assignMedium:function(s){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(s),l=r}var d=function(){var p=l;l=[],p.forEach(s)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),r}}}};return i}function Tz(e){e===void 0&&(e={});var t=Az(null);return t.options=va({async:!0,ssr:!1},e),t}var VR=function(e){var t=e.sideCar,r=WR(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,va({},r))};VR.isSideCarExport=!0;function Iz(e,t){return e.useMedium(t),VR}var HR=Tz(),Jg=function(){},Zp=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:Jg,onWheelCapture:Jg,onTouchMoveCapture:Jg}),i=n[0],s=n[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,p=e.enabled,h=e.shards,v=e.sideCar,b=e.noRelative,j=e.noIsolation,y=e.inert,g=e.allowPinchZoom,S=e.as,C=S===void 0?"div":S,_=e.gapMode,O=WR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=v,k=Pz([r,t]),A=va(va({},O),i);return w.createElement(w.Fragment,null,p&&w.createElement(N,{sideCar:HR,removeScrollBar:f,shards:h,noRelative:b,noIsolation:j,inert:y,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:_}),l?w.cloneElement(w.Children.only(u),va(va({},A),{ref:k})):w.createElement(C,va({},A,{className:d,ref:k}),u))});Zp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zp.classNames={fullWidth:Th,zeroRight:Ah};var Rz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Dz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Rz();return t&&e.setAttribute("nonce",t),e}function Mz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $z(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Lz=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Dz())&&(Mz(t,r),$z(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Fz=function(){var e=Lz();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},GR=function(){var e=Fz(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},Bz={left:0,top:0,right:0,gap:0},ex=function(e){return parseInt(e||"",10)||0},zz=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[ex(r),ex(n),ex(i)]},Uz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Bz;var t=zz(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},qz=GR(),xl="data-scroll-locked",Wz=function(e,t,r,n){var i=e.left,s=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Cz,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(xl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ah,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Th,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Ah," .").concat(Ah,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Th," .").concat(Th,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(xl,`] {
    `).concat(_z,": ").concat(u,`px;
  }
`)},E2=function(){var e=parseInt(document.body.getAttribute(xl)||"0",10);return isFinite(e)?e:0},Vz=function(){w.useEffect(function(){return document.body.setAttribute(xl,(E2()+1).toString()),function(){var e=E2()-1;e<=0?document.body.removeAttribute(xl):document.body.setAttribute(xl,e.toString())}},[])},Hz=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;Vz();var s=w.useMemo(function(){return Uz(i)},[i]);return w.createElement(qz,{styles:Wz(s,!t,i,r?"":"!important")})},_w=!1;if(typeof window<"u")try{var lh=Object.defineProperty({},"passive",{get:function(){return _w=!0,!0}});window.addEventListener("test",lh,lh),window.removeEventListener("test",lh,lh)}catch{_w=!1}var tl=_w?{passive:!1}:!1,Gz=function(e){return e.tagName==="TEXTAREA"},KR=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Gz(e)&&r[t]==="visible")},Kz=function(e){return KR(e,"overflowY")},Yz=function(e){return KR(e,"overflowX")},k2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=YR(e,n);if(i){var s=XR(e,n),l=s[1],u=s[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Xz=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Qz=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},YR=function(e,t){return e==="v"?Kz(t):Yz(t)},XR=function(e,t){return e==="v"?Xz(t):Qz(t)},Zz=function(e,t){return e==="h"&&t==="rtl"?-1:1},Jz=function(e,t,r,n,i){var s=Zz(e,window.getComputedStyle(t).direction),l=s*n,u=r.target,d=t.contains(u),f=!1,p=l>0,h=0,v=0;do{if(!u)break;var b=XR(e,u),j=b[0],y=b[1],g=b[2],S=y-g-s*j;(j||S)&&YR(e,u)&&(h+=S,v+=j);var C=u.parentNode;u=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(p&&Math.abs(h)<1||!p&&Math.abs(v)<1)&&(f=!0),f},ch=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},P2=function(e){return[e.deltaX,e.deltaY]},O2=function(e){return e&&"current"in e?e.current:e},eU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rU=0,rl=[];function nU(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),i=w.useState(rU++)[0],s=w.useState(GR)[0],l=w.useRef(e);w.useEffect(function(){l.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Sz([e.lockRef.current],(e.shards||[]).map(O2),!0).filter(Boolean);return y.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=w.useCallback(function(y,g){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!l.current.allowPinchZoom;var S=ch(y),C=r.current,_="deltaX"in y?y.deltaX:C[0]-S[0],O="deltaY"in y?y.deltaY:C[1]-S[1],N,k=y.target,A=Math.abs(_)>Math.abs(O)?"h":"v";if("touches"in y&&A==="h"&&k.type==="range")return!1;var R=k2(A,k);if(!R)return!0;if(R?N=A:(N=A==="v"?"h":"v",R=k2(A,k)),!R)return!1;if(!n.current&&"changedTouches"in y&&(_||O)&&(n.current=N),!N)return!0;var I=n.current||N;return Jz(I,g,y,I==="h"?_:O)},[]),d=w.useCallback(function(y){var g=y;if(!(!rl.length||rl[rl.length-1]!==s)){var S="deltaY"in g?P2(g):ch(g),C=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&eU(N.delta,S)})[0];if(C&&C.should){g.cancelable&&g.preventDefault();return}if(!C){var _=(l.current.shards||[]).map(O2).filter(Boolean).filter(function(N){return N.contains(g.target)}),O=_.length>0?u(g,_[0]):!l.current.noIsolation;O&&g.cancelable&&g.preventDefault()}}},[]),f=w.useCallback(function(y,g,S,C){var _={name:y,delta:g,target:S,should:C,shadowParent:aU(S)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(O){return O!==_})},1)},[]),p=w.useCallback(function(y){r.current=ch(y),n.current=void 0},[]),h=w.useCallback(function(y){f(y.type,P2(y),y.target,u(y,e.lockRef.current))},[]),v=w.useCallback(function(y){f(y.type,ch(y),y.target,u(y,e.lockRef.current))},[]);w.useEffect(function(){return rl.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:v}),document.addEventListener("wheel",d,tl),document.addEventListener("touchmove",d,tl),document.addEventListener("touchstart",p,tl),function(){rl=rl.filter(function(y){return y!==s}),document.removeEventListener("wheel",d,tl),document.removeEventListener("touchmove",d,tl),document.removeEventListener("touchstart",p,tl)}},[]);var b=e.removeScrollBar,j=e.inert;return w.createElement(w.Fragment,null,j?w.createElement(s,{styles:tU(i)}):null,b?w.createElement(Hz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const iU=Iz(HR,nU);var Nd=w.forwardRef(function(e,t){return w.createElement(Zp,va({},e,{ref:t,sideCar:iU}))});Nd.classNames=Zp.classNames;var Ew=["Enter"," "],sU=["ArrowDown","PageUp","Home"],QR=["ArrowUp","PageDown","End"],oU=[...sU,...QR],lU={ltr:[...Ew,"ArrowRight"],rtl:[...Ew,"ArrowLeft"]},cU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sd="Menu",[Eu,uU,dU]=h1(Sd),[jo,ZR]=tn(Sd,[dU,xs,Xp]),Jp=xs(),JR=Xp(),[fU,No]=jo(Sd),[hU,Cd]=jo(Sd),eD=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:s,modal:l=!0}=e,u=Jp(t),[d,f]=w.useState(null),p=w.useRef(!1),h=Pa(s),v=zp(i);return w.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),a.jsx(Gp,{...u,children:a.jsx(fU,{scope:t,open:r,onOpenChange:h,content:d,onContentChange:f,children:a.jsx(hU,{scope:t,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:p,dir:v,modal:l,children:n})})})};eD.displayName=Sd;var pU="MenuAnchor",N1=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=Jp(r);return a.jsx(wd,{...i,...n,ref:t})});N1.displayName=pU;var S1="MenuPortal",[mU,tD]=jo(S1,{forceMount:void 0}),rD=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,s=No(S1,t);return a.jsx(mU,{scope:t,forceMount:r,children:a.jsx(rn,{present:r||s.open,children:a.jsx(rc,{asChild:!0,container:i,children:n})})})};rD.displayName=S1;var Fn="MenuContent",[vU,C1]=jo(Fn),nD=w.forwardRef((e,t)=>{const r=tD(Fn,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=No(Fn,e.__scopeMenu),l=Cd(Fn,e.__scopeMenu);return a.jsx(Eu.Provider,{scope:e.__scopeMenu,children:a.jsx(rn,{present:n||s.open,children:a.jsx(Eu.Slot,{scope:e.__scopeMenu,children:l.modal?a.jsx(gU,{...i,ref:t}):a.jsx(xU,{...i,ref:t})})})})}),gU=w.forwardRef((e,t)=>{const r=No(Fn,e.__scopeMenu),n=w.useRef(null),i=dt(t,n);return w.useEffect(()=>{const s=n.current;if(s)return Qp(s)},[]),a.jsx(_1,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ae(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),xU=w.forwardRef((e,t)=>{const r=No(Fn,e.__scopeMenu);return a.jsx(_1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),yU=cs("MenuContent.ScrollLock"),_1=w.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:v,onDismiss:b,disableOutsideScroll:j,...y}=e,g=No(Fn,r),S=Cd(Fn,r),C=Jp(r),_=JR(r),O=uU(r),[N,k]=w.useState(null),A=w.useRef(null),R=dt(t,A,g.onContentChange),I=w.useRef(0),L=w.useRef(""),U=w.useRef(0),W=w.useRef(null),H=w.useRef("right"),G=w.useRef(0),T=j?Nd:w.Fragment,D=j?{as:yU,allowPinchZoom:!0}:void 0,V=q=>{const K=L.current+q,z=O().filter(Y=>!Y.disabled),F=document.activeElement,$=z.find(Y=>Y.ref.current===F)?.textValue,Q=z.map(Y=>Y.textValue),J=AU(Q,K,$),le=z.find(Y=>Y.textValue===J)?.ref.current;(function Y(ce){L.current=ce,window.clearTimeout(I.current),ce!==""&&(I.current=window.setTimeout(()=>Y(""),1e3))})(K),le&&setTimeout(()=>le.focus())};w.useEffect(()=>()=>window.clearTimeout(I.current),[]),Up();const B=w.useCallback(q=>H.current===W.current?.side&&IU(q,W.current?.area),[]);return a.jsx(vU,{scope:r,searchRef:L,onItemEnter:w.useCallback(q=>{B(q)&&q.preventDefault()},[B]),onItemLeave:w.useCallback(q=>{B(q)||(A.current?.focus(),k(null))},[B]),onTriggerLeave:w.useCallback(q=>{B(q)&&q.preventDefault()},[B]),pointerGraceTimerRef:U,onPointerGraceIntentChange:w.useCallback(q=>{W.current=q},[]),children:a.jsx(T,{...D,children:a.jsx(yd,{asChild:!0,trapped:i,onMountAutoFocus:Ae(s,q=>{q.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:a.jsx(Jl,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:v,onDismiss:b,children:a.jsx(zR,{asChild:!0,..._,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:k,onEntryFocus:Ae(d,q=>{S.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Kp,{role:"menu","aria-orientation":"vertical","data-state":yD(g.open),"data-radix-menu-content":"",dir:S.dir,...C,...y,ref:R,style:{outline:"none",...y.style},onKeyDown:Ae(y.onKeyDown,q=>{const z=q.target.closest("[data-radix-menu-content]")===q.currentTarget,F=q.ctrlKey||q.altKey||q.metaKey,$=q.key.length===1;z&&(q.key==="Tab"&&q.preventDefault(),!F&&$&&V(q.key));const Q=A.current;if(q.target!==Q||!oU.includes(q.key))return;q.preventDefault();const le=O().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);QR.includes(q.key)&&le.reverse(),PU(le)}),onBlur:Ae(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(I.current),L.current="")}),onPointerMove:Ae(e.onPointerMove,ku(q=>{const K=q.target,z=G.current!==q.clientX;if(q.currentTarget.contains(K)&&z){const F=q.clientX>G.current?"right":"left";H.current=F,G.current=q.clientX}}))})})})})})})});nD.displayName=Fn;var bU="MenuGroup",E1=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(qe.div,{role:"group",...n,ref:t})});E1.displayName=bU;var wU="MenuLabel",aD=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(qe.div,{...n,ref:t})});aD.displayName=wU;var Fh="MenuItem",A2="menu.itemSelect",em=w.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,s=w.useRef(null),l=Cd(Fh,e.__scopeMenu),u=C1(Fh,e.__scopeMenu),d=dt(t,s),f=w.useRef(!1),p=()=>{const h=s.current;if(!r&&h){const v=new CustomEvent(A2,{bubbles:!0,cancelable:!0});h.addEventListener(A2,b=>n?.(b),{once:!0}),dR(h,v),v.defaultPrevented?f.current=!1:l.onClose()}};return a.jsx(iD,{...i,ref:d,disabled:r,onClick:Ae(e.onClick,p),onPointerDown:h=>{e.onPointerDown?.(h),f.current=!0},onPointerUp:Ae(e.onPointerUp,h=>{f.current||h.currentTarget?.click()}),onKeyDown:Ae(e.onKeyDown,h=>{const v=u.searchRef.current!=="";r||v&&h.key===" "||Ew.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});em.displayName=Fh;var iD=w.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=e,l=C1(Fh,r),u=JR(r),d=w.useRef(null),f=dt(t,d),[p,h]=w.useState(!1),[v,b]=w.useState("");return w.useEffect(()=>{const j=d.current;j&&b((j.textContent??"").trim())},[s.children]),a.jsx(Eu.ItemSlot,{scope:r,disabled:n,textValue:i??v,children:a.jsx(UR,{asChild:!0,...u,focusable:!n,children:a.jsx(qe.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:f,onPointerMove:Ae(e.onPointerMove,ku(j=>{n?l.onItemLeave(j):(l.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(e.onPointerLeave,ku(j=>l.onItemLeave(j))),onFocus:Ae(e.onFocus,()=>h(!0)),onBlur:Ae(e.onBlur,()=>h(!1))})})})}),jU="MenuCheckboxItem",sD=w.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return a.jsx(dD,{scope:e.__scopeMenu,checked:r,children:a.jsx(em,{role:"menuitemcheckbox","aria-checked":Bh(r)?"mixed":r,...i,ref:t,"data-state":P1(r),onSelect:Ae(i.onSelect,()=>n?.(Bh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});sD.displayName=jU;var oD="MenuRadioGroup",[NU,SU]=jo(oD,{value:void 0,onValueChange:()=>{}}),lD=w.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,s=Pa(n);return a.jsx(NU,{scope:e.__scopeMenu,value:r,onValueChange:s,children:a.jsx(E1,{...i,ref:t})})});lD.displayName=oD;var cD="MenuRadioItem",uD=w.forwardRef((e,t)=>{const{value:r,...n}=e,i=SU(cD,e.__scopeMenu),s=r===i.value;return a.jsx(dD,{scope:e.__scopeMenu,checked:s,children:a.jsx(em,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":P1(s),onSelect:Ae(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});uD.displayName=cD;var k1="MenuItemIndicator",[dD,CU]=jo(k1,{checked:!1}),fD=w.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,s=CU(k1,r);return a.jsx(rn,{present:n||Bh(s.checked)||s.checked===!0,children:a.jsx(qe.span,{...i,ref:t,"data-state":P1(s.checked)})})});fD.displayName=k1;var _U="MenuSeparator",hD=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});hD.displayName=_U;var EU="MenuArrow",pD=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=Jp(r);return a.jsx(Yp,{...i,...n,ref:t})});pD.displayName=EU;var kU="MenuSub",[jpe,mD]=jo(kU),hu="MenuSubTrigger",vD=w.forwardRef((e,t)=>{const r=No(hu,e.__scopeMenu),n=Cd(hu,e.__scopeMenu),i=mD(hu,e.__scopeMenu),s=C1(hu,e.__scopeMenu),l=w.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=s,f={__scopeMenu:e.__scopeMenu},p=w.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return w.useEffect(()=>p,[p]),w.useEffect(()=>{const h=u.current;return()=>{window.clearTimeout(h),d(null)}},[u,d]),a.jsx(N1,{asChild:!0,...f,children:a.jsx(iD,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":yD(r.open),...e,ref:di(t,i.onTriggerChange),onClick:h=>{e.onClick?.(h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ae(e.onPointerMove,ku(h=>{s.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:Ae(e.onPointerLeave,ku(h=>{p();const v=r.content?.getBoundingClientRect();if(v){const b=r.content?.dataset.side,j=b==="right",y=j?-5:5,g=v[j?"left":"right"],S=v[j?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:g,y:v.top},{x:S,y:v.top},{x:S,y:v.bottom},{x:g,y:v.bottom}],side:b}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(e.onKeyDown,h=>{const v=s.searchRef.current!=="";e.disabled||v&&h.key===" "||lU[n.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});vD.displayName=hu;var gD="MenuSubContent",xD=w.forwardRef((e,t)=>{const r=tD(Fn,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=No(Fn,e.__scopeMenu),l=Cd(Fn,e.__scopeMenu),u=mD(gD,e.__scopeMenu),d=w.useRef(null),f=dt(t,d);return a.jsx(Eu.Provider,{scope:e.__scopeMenu,children:a.jsx(rn,{present:n||s.open,children:a.jsx(Eu.Slot,{scope:e.__scopeMenu,children:a.jsx(_1,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{l.isUsingKeyboardRef.current&&d.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ae(e.onFocusOutside,p=>{p.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ae(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:Ae(e.onKeyDown,p=>{const h=p.currentTarget.contains(p.target),v=cU[l.dir].includes(p.key);h&&v&&(s.onOpenChange(!1),u.trigger?.focus(),p.preventDefault())})})})})})});xD.displayName=gD;function yD(e){return e?"open":"closed"}function Bh(e){return e==="indeterminate"}function P1(e){return Bh(e)?"indeterminate":e?"checked":"unchecked"}function PU(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function OU(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function AU(e,t,r){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let l=OU(e,Math.max(s,0));i.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function TU(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s],d=t[l],f=u.x,p=u.y,h=d.x,v=d.y;p>n!=v>n&&r<(h-f)*(n-p)/(v-p)+f&&(i=!i)}return i}function IU(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return TU(r,t)}function ku(e){return t=>t.pointerType==="mouse"?e(t):void 0}var RU=eD,DU=N1,MU=rD,$U=nD,LU=E1,FU=aD,BU=em,zU=sD,UU=lD,qU=uD,WU=fD,VU=hD,HU=pD,GU=vD,KU=xD,tm="DropdownMenu",[YU,Npe]=tn(tm,[ZR]),Wr=ZR(),[XU,bD]=YU(tm),wD=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:l,modal:u=!0}=e,d=Wr(t),f=w.useRef(null),[p,h]=ka({prop:i,defaultProp:s??!1,onChange:l,caller:tm});return a.jsx(XU,{scope:t,triggerId:gr(),triggerRef:f,contentId:gr(),open:p,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(v=>!v),[h]),modal:u,children:a.jsx(RU,{...d,open:p,onOpenChange:h,dir:n,modal:u,children:r})})};wD.displayName=tm;var jD="DropdownMenuTrigger",ND=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,s=bD(jD,r),l=Wr(r);return a.jsx(DU,{asChild:!0,...l,children:a.jsx(qe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:di(t,s.triggerRef),onPointerDown:Ae(e.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:Ae(e.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});ND.displayName=jD;var QU="DropdownMenuPortal",SD=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Wr(t);return a.jsx(MU,{...n,...r})};SD.displayName=QU;var CD="DropdownMenuContent",_D=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=bD(CD,r),s=Wr(r),l=w.useRef(!1);return a.jsx($U,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:t,onCloseAutoFocus:Ae(e.onCloseAutoFocus,u=>{l.current||i.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Ae(e.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;(!i.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_D.displayName=CD;var ZU="DropdownMenuGroup",JU=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Wr(r);return a.jsx(LU,{...i,...n,ref:t})});JU.displayName=ZU;var eq="DropdownMenuLabel",tq=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Wr(r);return a.jsx(FU,{...i,...n,ref:t})});tq.displayName=eq;var rq="DropdownMenuItem",ED=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Wr(r);return a.jsx(BU,{...i,...n,ref:t})});ED.displayName=rq;var nq="DropdownMenuCheckboxItem",aq=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Wr(r);return a.jsx(zU,{...i,...n,ref:t})});aq.displayName=nq;var iq="DropdownMenuRadioGroup",sq=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Wr(r);return a.jsx(UU,{...i,...n,ref:t})});sq.displayName=iq;var oq="DropdownMenuRadioItem",lq=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Wr(r);return a.jsx(qU,{...i,...n,ref:t})});lq.displayName=oq;var cq="DropdownMenuItemIndicator",uq=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Wr(r);return a.jsx(WU,{...i,...n,ref:t})});uq.displayName=cq;var dq="DropdownMenuSeparator",fq=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Wr(r);return a.jsx(VU,{...i,...n,ref:t})});fq.displayName=dq;var hq="DropdownMenuArrow",pq=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Wr(r);return a.jsx(HU,{...i,...n,ref:t})});pq.displayName=hq;var mq="DropdownMenuSubTrigger",vq=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Wr(r);return a.jsx(GU,{...i,...n,ref:t})});vq.displayName=mq;var gq="DropdownMenuSubContent",xq=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Wr(r);return a.jsx(KU,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xq.displayName=gq;var yq=wD,bq=ND,wq=SD,jq=_D,Nq=ED;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),T2=e=>{const t=Cq(e);return t.charAt(0).toUpperCase()+t.slice(1)},kD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _q={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:l,...u},d)=>w.createElement("svg",{ref:d,..._q,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:kD("lucide",i),...u},[...l.map(([f,p])=>w.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const r=w.forwardRef(({className:n,...i},s)=>w.createElement(Eq,{ref:s,iconNode:t,className:kD(`lucide-${Sq(T2(e))}`,`lucide-${e}`,n),...i}));return r.displayName=T2(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],O1=Be("activity",kq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Oq=Be("align-left",Pq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],I2=Be("archive",Aq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nn=Be("arrow-left",Tq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kw=Be("arrow-right",Iq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],PD=Be("banknote",Rq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],OD=Be("bell",Dq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Pu=Be("book-open",Mq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Lq=Be("building-2",$q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Aa=Be("building",Fq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],AD=Be("calculator",Bq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Gs=Be("calendar-days",zq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jt=Be("calendar",Uq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ou=Be("check",qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ma=Be("chevron-down",Wq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Hq=Be("chevron-left",Vq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pw=Be("chevron-right",Gq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Yq=Be("chevron-up",Kq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],TD=Be("chevrons-up-down",Xq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],co=Be("circle-alert",Qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nt=Be("circle-check-big",Zq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],oi=Be("circle-x",Jq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],R2=Be("circle",eW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],er=Be("clock",tW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],nW=Be("copy",rW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],iW=Be("credit-card",aW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ow=Be("database",sW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wn=Be("dollar-sign",oW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ta=Be("download",lW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ID=Be("ellipsis",cW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],dW=Be("external-link",uW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fs=Be("eye",fW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],pW=Be("file-pen-line",hW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Nt=Be("file-text",mW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9.5 10.5 5 5",key:"ra9qjz"}],["path",{d:"m14.5 10.5-5 5",key:"l2rkpq"}]],Aw=Be("folder-x",vW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bi=Be("funnel",gW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],yW=Be("history",xW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],wW=Be("key",bW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],NW=Be("layout-dashboard",jW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],CW=Be("link",SW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ca=Be("loader-circle",_W);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],D2=Be("map-pin",EW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],M2=Be("package",kW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],OW=Be("percent",PW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ia=Be("plus",AW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],IW=Be("rotate-ccw",TW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_d=Be("save",RW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],La=Be("search",DW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ed=Be("send",MW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],LW=Be("server",$W);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kd=Be("settings",FW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],RD=Be("shield",BW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ga=Be("square-pen",zW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Tw=Be("star",UW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],_l=Be("target",qW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ei=Be("trash-2",WW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],A1=Be("trending-up",VW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jt=Be("triangle-alert",HW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],rm=Be("upload",GW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hs=Be("user",KW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],uo=Be("users",YW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],QW=Be("wallet",XW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nm=Be("x",ZW);function Iw({...e}){return a.jsx(yq,{"data-slot":"dropdown-menu",...e})}function Rw({...e}){return a.jsx(bq,{"data-slot":"dropdown-menu-trigger",...e})}function Dw({className:e,sideOffset:t=4,...r}){return a.jsx(wq,{children:a.jsx(jq,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function Zs({className:e,inset:t,variant:r="default",...n}){return a.jsx(Nq,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}const tx={executor:"Исполнитель",registrar:"Регистратор",sub_registrar:"Суб-Регистратор",distributor:"Распорядитель",treasurer:"Казначей",admin:"Администратор"},$2={executor:"bg-blue-100 text-blue-800",registrar:"bg-green-100 text-green-800",sub_registrar:"bg-emerald-100 text-emerald-800",distributor:"bg-purple-100 text-purple-800",treasurer:"bg-orange-100 text-orange-800",admin:"bg-red-100 text-red-800"};function JW({currentRole:e,onRoleChange:t,userName:r,onLogout:n}){const[i]=w.useState(3);return a.jsx("header",{className:"border-b bg-white px-4 py-3 md:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h1",{className:"text-xl font-medium",children:"ГрейнПей"}),a.jsx(Ne,{className:`${$2[e]} border-0`,children:tx[e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Iw,{children:[a.jsx(Rw,{asChild:!0,children:a.jsxs(ne,{variant:"outline",size:"sm",className:"gap-2",children:["Переключить роль",a.jsx(ma,{className:"h-4 w-4"})]})}),a.jsx(Dw,{align:"end",children:Object.keys(tx).map(s=>a.jsx(Zs,{onClick:()=>t(s),className:e===s?"bg-accent":"",children:a.jsx(Ne,{className:`${$2[s]} border-0 mr-2`,variant:"secondary",children:tx[s]})},s))})]}),a.jsxs(ne,{variant:"ghost",size:"sm",className:"relative",children:[a.jsx(OD,{className:"h-4 w-4"}),i>0&&a.jsx(Ne,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-red-500 text-white",children:i})]}),a.jsxs(Iw,{children:[a.jsx(Rw,{asChild:!0,children:a.jsxs(ne,{variant:"ghost",size:"sm",className:"gap-2",children:[a.jsx(hs,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden md:inline",children:r}),a.jsx(ma,{className:"h-4 w-4"})]})}),a.jsxs(Dw,{align:"end",children:[a.jsxs(Zs,{children:[a.jsx(kd,{className:"h-4 w-4 mr-2"}),"Настройки"]}),a.jsx(Zs,{onClick:n,children:"Выйти"})]})]})]})]})})}function e7(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const t7=e=>{switch(e){case"success":return a7;case"info":return s7;case"warning":return i7;case"error":return o7;default:return null}},r7=Array(12).fill(0),n7=({visible:e,className:t})=>X.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},X.createElement("div",{className:"sonner-spinner"},r7.map((r,n)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),a7=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),i7=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),s7=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),o7=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),l7=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),c7=()=>{const[e,t]=X.useState(document.hidden);return X.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Mw=1;class u7{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...i}=t,s=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Mw++,l=this.toasts.find(d=>d.id===s),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),l?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...t,id:s,title:n}),{...d,...t,id:s,dismissible:u,title:n}):d):this.addToast({title:n,...i,dismissible:u,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,l;const u=i.then(async f=>{if(l=["resolve",f],X.isValidElement(f))s=!1,this.create({id:n,type:"default",message:f});else if(f7(f)&&!f.ok){s=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,v=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,j=typeof h=="object"&&!X.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:v,...j})}else if(f instanceof Error){s=!1;const h=typeof r.error=="function"?await r.error(f):r.error,v=typeof r.description=="function"?await r.description(f):r.description,j=typeof h=="object"&&!X.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:v,...j})}else if(r.success!==void 0){s=!1;const h=typeof r.success=="function"?await r.success(f):r.success,v=typeof r.description=="function"?await r.description(f):r.description,j=typeof h=="object"&&!X.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:v,...j})}}).catch(async f=>{if(l=["reject",f],r.error!==void 0){s=!1;const p=typeof r.error=="function"?await r.error(f):r.error,h=typeof r.description=="function"?await r.description(f):r.description,b=typeof p=="object"&&!X.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:h,...b})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,p)=>u.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=r?.id||Mw++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Jr=new u7,d7=(e,t)=>{const r=t?.id||Mw++;return Jr.addToast({title:e,...t,id:r}),r},f7=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",h7=d7,p7=()=>Jr.toasts,m7=()=>Jr.getActiveToasts(),fe=Object.assign(h7,{success:Jr.success,info:Jr.info,warning:Jr.warning,error:Jr.error,custom:Jr.custom,message:Jr.message,promise:Jr.promise,dismiss:Jr.dismiss,loading:Jr.loading},{getHistory:p7,getToasts:m7});e7("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function uh(e){return e.label!==void 0}const v7=3,g7="24px",x7="16px",L2=4e3,y7=356,b7=14,w7=45,j7=200;function fa(...e){return e.filter(Boolean).join(" ")}function N7(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const S7=e=>{var t,r,n,i,s,l,u,d,f;const{invert:p,toast:h,unstyled:v,interacting:b,setHeights:j,visibleToasts:y,heights:g,index:S,toasts:C,expanded:_,removeToast:O,defaultRichColors:N,closeButton:k,style:A,cancelButtonStyle:R,actionButtonStyle:I,className:L="",descriptionClassName:U="",duration:W,position:H,gap:G,expandByDefault:T,classNames:D,icons:V,closeButtonAriaLabel:B="Close toast"}=e,[q,K]=X.useState(null),[z,F]=X.useState(null),[$,Q]=X.useState(!1),[J,le]=X.useState(!1),[Y,ce]=X.useState(!1),[ie,xe]=X.useState(!1),[Ce,te]=X.useState(!1),[ae,de]=X.useState(0),[Me,Ge]=X.useState(0),tt=X.useRef(h.duration||W||L2),zt=X.useRef(null),Ot=X.useRef(null),Vr=S===0,_r=S+1<=y,Dt=h.type,an=h.dismissible!==!1,Es=h.className||"",ks=h.descriptionClassName||"",Ps=X.useMemo(()=>g.findIndex(Je=>Je.toastId===h.id)||0,[g,h.id]),hc=X.useMemo(()=>{var Je;return(Je=h.closeButton)!=null?Je:k},[h.closeButton,k]),Os=X.useMemo(()=>h.duration||W||L2,[h.duration,W]),Po=X.useRef(0),_n=X.useRef(0),Ci=X.useRef(0),_i=X.useRef(null),[Vd,Hd]=H.split("-"),Gd=X.useMemo(()=>g.reduce((Je,Gt,nr)=>nr>=Ps?Je:Je+Gt.height,0),[g,Ps]),Oo=c7(),pc=h.invert||p,As=Dt==="loading";_n.current=X.useMemo(()=>Ps*G+Gd,[Ps,Gd]),X.useEffect(()=>{tt.current=Os},[Os]),X.useEffect(()=>{Q(!0)},[]),X.useEffect(()=>{const Je=Ot.current;if(Je){const Gt=Je.getBoundingClientRect().height;return Ge(Gt),j(nr=>[{toastId:h.id,height:Gt,position:h.position},...nr]),()=>j(nr=>nr.filter(Er=>Er.toastId!==h.id))}},[j,h.id]),X.useLayoutEffect(()=>{if(!$)return;const Je=Ot.current,Gt=Je.style.height;Je.style.height="auto";const nr=Je.getBoundingClientRect().height;Je.style.height=Gt,Ge(nr),j(Er=>Er.find(Xt=>Xt.toastId===h.id)?Er.map(Xt=>Xt.toastId===h.id?{...Xt,height:nr}:Xt):[{toastId:h.id,height:nr,position:h.position},...Er])},[$,h.title,h.description,j,h.id,h.jsx,h.action,h.cancel]);const En=X.useCallback(()=>{le(!0),de(_n.current),j(Je=>Je.filter(Gt=>Gt.toastId!==h.id)),setTimeout(()=>{O(h)},j7)},[h,O,j,_n]);X.useEffect(()=>{if(h.promise&&Dt==="loading"||h.duration===1/0||h.type==="loading")return;let Je;return _||b||Oo?(()=>{if(Ci.current<Po.current){const Er=new Date().getTime()-Po.current;tt.current=tt.current-Er}Ci.current=new Date().getTime()})():(()=>{tt.current!==1/0&&(Po.current=new Date().getTime(),Je=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),En()},tt.current))})(),()=>clearTimeout(Je)},[_,b,h,Dt,Oo,En]),X.useEffect(()=>{h.delete&&(En(),h.onDismiss==null||h.onDismiss.call(h,h))},[En,h.delete]);function mc(){var Je;if(V?.loading){var Gt;return X.createElement("div",{className:fa(D?.loader,h==null||(Gt=h.classNames)==null?void 0:Gt.loader,"sonner-loader"),"data-visible":Dt==="loading"},V.loading)}return X.createElement(n7,{className:fa(D?.loader,h==null||(Je=h.classNames)==null?void 0:Je.loader),visible:Dt==="loading"})}const Ei=h.icon||V?.[Dt]||t7(Dt);var Ba,vc;return X.createElement("li",{tabIndex:0,ref:Ot,className:fa(L,Es,D?.toast,h==null||(t=h.classNames)==null?void 0:t.toast,D?.default,D?.[Dt],h==null||(r=h.classNames)==null?void 0:r[Dt]),"data-sonner-toast":"","data-rich-colors":(Ba=h.richColors)!=null?Ba:N,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":$,"data-promise":!!h.promise,"data-swiped":Ce,"data-removed":J,"data-visible":_r,"data-y-position":Vd,"data-x-position":Hd,"data-index":S,"data-front":Vr,"data-swiping":Y,"data-dismissible":an,"data-type":Dt,"data-invert":pc,"data-swipe-out":ie,"data-swipe-direction":z,"data-expanded":!!(_||T&&$),"data-testid":h.testId,style:{"--index":S,"--toasts-before":S,"--z-index":C.length-S,"--offset":`${J?ae:_n.current}px`,"--initial-height":T?"auto":`${Me}px`,...A,...h.style},onDragEnd:()=>{ce(!1),K(null),_i.current=null},onPointerDown:Je=>{Je.button!==2&&(As||!an||(zt.current=new Date,de(_n.current),Je.target.setPointerCapture(Je.pointerId),Je.target.tagName!=="BUTTON"&&(ce(!0),_i.current={x:Je.clientX,y:Je.clientY})))},onPointerUp:()=>{var Je,Gt,nr;if(ie||!an)return;_i.current=null;const Er=Number(((Je=Ot.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ki=Number(((Gt=Ot.current)==null?void 0:Gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xt=new Date().getTime()-((nr=zt.current)==null?void 0:nr.getTime()),dr=q==="x"?Er:ki,Pi=Math.abs(dr)/Xt;if(Math.abs(dr)>=w7||Pi>.11){de(_n.current),h.onDismiss==null||h.onDismiss.call(h,h),F(q==="x"?Er>0?"right":"left":ki>0?"down":"up"),En(),xe(!0);return}else{var yr,sn;(yr=Ot.current)==null||yr.style.setProperty("--swipe-amount-x","0px"),(sn=Ot.current)==null||sn.style.setProperty("--swipe-amount-y","0px")}te(!1),ce(!1),K(null)},onPointerMove:Je=>{var Gt,nr,Er;if(!_i.current||!an||((Gt=window.getSelection())==null?void 0:Gt.toString().length)>0)return;const Xt=Je.clientY-_i.current.y,dr=Je.clientX-_i.current.x;var Pi;const yr=(Pi=e.swipeDirections)!=null?Pi:N7(H);!q&&(Math.abs(dr)>1||Math.abs(Xt)>1)&&K(Math.abs(dr)>Math.abs(Xt)?"x":"y");let sn={x:0,y:0};const Oi=kn=>1/(1.5+Math.abs(kn)/20);if(q==="y"){if(yr.includes("top")||yr.includes("bottom"))if(yr.includes("top")&&Xt<0||yr.includes("bottom")&&Xt>0)sn.y=Xt;else{const kn=Xt*Oi(Xt);sn.y=Math.abs(kn)<Math.abs(Xt)?kn:Xt}}else if(q==="x"&&(yr.includes("left")||yr.includes("right")))if(yr.includes("left")&&dr<0||yr.includes("right")&&dr>0)sn.x=dr;else{const kn=dr*Oi(dr);sn.x=Math.abs(kn)<Math.abs(dr)?kn:dr}(Math.abs(sn.x)>0||Math.abs(sn.y)>0)&&te(!0),(nr=Ot.current)==null||nr.style.setProperty("--swipe-amount-x",`${sn.x}px`),(Er=Ot.current)==null||Er.style.setProperty("--swipe-amount-y",`${sn.y}px`)}},hc&&!h.jsx&&Dt!=="loading"?X.createElement("button",{"aria-label":B,"data-disabled":As,"data-close-button":!0,onClick:As||!an?()=>{}:()=>{En(),h.onDismiss==null||h.onDismiss.call(h,h)},className:fa(D?.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(vc=V?.close)!=null?vc:l7):null,(Dt||h.icon||h.promise)&&h.icon!==null&&(V?.[Dt]!==null||h.icon)?X.createElement("div",{"data-icon":"",className:fa(D?.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||mc():null,h.type!=="loading"?Ei:null):null,X.createElement("div",{"data-content":"",className:fa(D?.content,h==null||(s=h.classNames)==null?void 0:s.content)},X.createElement("div",{"data-title":"",className:fa(D?.title,h==null||(l=h.classNames)==null?void 0:l.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?X.createElement("div",{"data-description":"",className:fa(U,ks,D?.description,h==null||(u=h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),X.isValidElement(h.cancel)?h.cancel:h.cancel&&uh(h.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||R,onClick:Je=>{uh(h.cancel)&&an&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Je),En())},className:fa(D?.cancelButton,h==null||(d=h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,X.isValidElement(h.action)?h.action:h.action&&uh(h.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||I,onClick:Je=>{uh(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Je),!Je.defaultPrevented&&En())},className:fa(D?.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function F2(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function C7(e,t){const r={};return[e,t].forEach((n,i)=>{const s=i===1,l=s?"--mobile-offset":"--offset",u=s?x7:g7;function d(f){["top","right","bottom","left"].forEach(p=>{r[`${l}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${l}-${f}`]=u:r[`${l}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):d(u)}),r}const _7=X.forwardRef(function(t,r){const{id:n,invert:i,position:s="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:d,className:f,offset:p,mobileOffset:h,theme:v="light",richColors:b,duration:j,style:y,visibleToasts:g=v7,toastOptions:S,dir:C=F2(),gap:_=b7,icons:O,containerAriaLabel:N="Notifications"}=t,[k,A]=X.useState([]),R=X.useMemo(()=>n?k.filter($=>$.toasterId===n):k.filter($=>!$.toasterId),[k,n]),I=X.useMemo(()=>Array.from(new Set([s].concat(R.filter($=>$.position).map($=>$.position)))),[R,s]),[L,U]=X.useState([]),[W,H]=X.useState(!1),[G,T]=X.useState(!1),[D,V]=X.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=X.useRef(null),q=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=X.useRef(null),z=X.useRef(!1),F=X.useCallback($=>{A(Q=>{var J;return(J=Q.find(le=>le.id===$.id))!=null&&J.delete||Jr.dismiss($.id),Q.filter(({id:le})=>le!==$.id)})},[]);return X.useEffect(()=>Jr.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{A(Q=>Q.map(J=>J.id===$.id?{...J,delete:!0}:J))});return}setTimeout(()=>{uR.flushSync(()=>{A(Q=>{const J=Q.findIndex(le=>le.id===$.id);return J!==-1?[...Q.slice(0,J),{...Q[J],...$},...Q.slice(J+1)]:[$,...Q]})})})}),[k]),X.useEffect(()=>{if(v!=="system"){V(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:Q})=>{V(Q?"dark":"light")})}catch{$.addListener(({matches:J})=>{try{V(J?"dark":"light")}catch(le){console.error(le)}})}},[v]),X.useEffect(()=>{k.length<=1&&H(!1)},[k]),X.useEffect(()=>{const $=Q=>{var J;if(l.every(ce=>Q[ce]||Q.code===ce)){var Y;H(!0),(Y=B.current)==null||Y.focus()}Q.code==="Escape"&&(document.activeElement===B.current||(J=B.current)!=null&&J.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[l]),X.useEffect(()=>{if(B.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,z.current=!1)}},[B.current]),X.createElement("section",{ref:r,"aria-label":`${N} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map(($,Q)=>{var J;const[le,Y]=$.split("-");return R.length?X.createElement("ol",{key:$,dir:C==="auto"?F2():C,tabIndex:-1,ref:B,className:f,"data-sonner-toaster":!0,"data-sonner-theme":D,"data-y-position":le,"data-x-position":Y,style:{"--front-toast-height":`${((J=L[0])==null?void 0:J.height)||0}px`,"--width":`${y7}px`,"--gap":`${_}px`,...y,...C7(p,h)},onBlur:ce=>{z.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(z.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||z.current||(z.current=!0,K.current=ce.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{G||H(!1)},onDragEnd:()=>H(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},R.filter(ce=>!ce.position&&Q===0||ce.position===$).map((ce,ie)=>{var xe,Ce;return X.createElement(S7,{key:ce.id,icons:O,index:ie,toast:ce,defaultRichColors:b,duration:(xe=S?.duration)!=null?xe:j,className:S?.className,descriptionClassName:S?.descriptionClassName,invert:i,visibleToasts:g,closeButton:(Ce=S?.closeButton)!=null?Ce:d,interacting:G,position:$,style:S?.style,unstyled:S?.unstyled,classNames:S?.classNames,cancelButtonStyle:S?.cancelButtonStyle,actionButtonStyle:S?.actionButtonStyle,closeButtonAriaLabel:S?.closeButtonAriaLabel,removeToast:F,toasts:R.filter(te=>te.position==ce.position),heights:L.filter(te=>te.position==ce.position),setHeights:U,expandByDefault:u,gap:_,expanded:W,swipeDirections:t.swipeDirections})})):null}))}),E7=()=>"http://localhost:8000",k7={apiBaseUrl:"https://gcback.openlayers.kz",environment:"production",debug:!1},P7=()=>({...k7,apiBaseUrl:E7()}),O7=P7(),et={baseUrl:O7.apiBaseUrl,endpoints:{getPaymentRequests:"/api/v1/requests/list",createPaymentRequest:"/api/v1/requests/create",updatePaymentRequest:"/api/v1/requests/update",getPaymentRequest:"/api/v1/requests/:id",getRequestStatistics:"/api/v1/requests/statistics",getDashboardMetrics:"/api/v1/requests/dashboard-metrics",submitRequest:"/api/v1/requests/submit",classifyRequest:"/api/v1/requests/:id/classify",approveRequest:"/api/v1/requests/approve",rejectRequest:"/api/v1/requests/reject",addToRegistry:"/api/v1/requests/add-to-registry",sendToDistributor:"/api/v1/requests/send-to-distributor",distributorAction:"/api/v1/requests/distributor-action",getRequestEvents:"/api/v1/requests/events",getCounterparties:"/api/v1/dictionaries/counterparties",getCurrencies:"/api/v1/dictionaries/currencies",getVatRates:"/api/v1/dictionaries/vat-rates",getExpenseArticles:"/api/v1/dictionaries/expense-articles",getUsers:"/api/v1/users/list",createRegistryEntry:"/api/v1/registry/entries/create",updateRegistryEntry:"/api/v1/registry/entries/update",deleteRegistryEntry:"/api/v1/registry/entries/delete"}};class A7{baseUrl;constructor(t){this.baseUrl=t}getAuthHeaders(){const t=localStorage.getItem("test_token");return t?{Authorization:`Bearer ${t}`}:{}}async get(t,r={}){const n=await fetch(`${this.baseUrl}${t}`,{...r,method:"GET",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...r.headers}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()}async post(t,r,n={}){const i=await fetch(`${this.baseUrl}${t}`,{...n,method:"POST",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...n.headers},body:JSON.stringify(r)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return i.json()}async put(t,r,n={}){const i=await fetch(`${this.baseUrl}${t}`,{...n,method:"PUT",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...n.headers},body:JSON.stringify(r)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return i.json()}async delete(t,r={}){const n=await fetch(`${this.baseUrl}${t}`,{...r,method:"DELETE",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...r.headers}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()}}const Ze=new A7(et.baseUrl),no={DRAFT:"draft",SUBMITTED:"submitted",REGISTERED:"classified",APPROVED:"approved",APPROVED_ON_BEHALF:"approved-on-behalf",TO_PAY:"to-pay",IN_REGISTRY:"in-register",APPROVED_FOR_PAYMENT:"approved-for-payment",PAID_FULL:"paid-full",PAID_PARTIAL:"paid-partial",REJECTED:"rejected",DECLINED:"declined",RETURNED:"returned",CANCELLED:"cancelled"},DD=e=>no[e]||e.toLowerCase(),rx=e=>({draft:"Черновик",submitted:"На рассмотрении",classified:"Классифицировано",approved:"Одобрено","approved-on-behalf":"Одобрено от имени","to-pay":"К оплате","in-register":"В реестре","approved-for-payment":"Одобрено к оплате","paid-full":"Оплачено полностью","paid-partial":"Оплачено частично",rejected:"Отклонено",declined:"Отклонено",returned:"Возвращено",cancelled:"Отменено"})[e]||"Неизвестно",ha=e=>{let t=e.vat_rate;if(!t&&e.lines&&e.lines.length>0){const r=e.lines[0];r.vat_rate_id&&(t=r.vat_rate_id)}return{id:e.id,requestNumber:e.number,createdAt:e.created_at||"",updatedAt:e.updated_at,dueDate:e.due_date,counterpartyId:e.counterparty_id,counterpartyCategory:e.counterparty_category,payingCompany:e.paying_company,amount:e.amount_total,currency:e.currency_code,vatRate:t,docNumber:e.doc_number,docDate:e.doc_date,docType:e.doc_type,docFileUrl:e.files?.[0]?.url,fileName:e.files?.[0]?.name,files:e.files||[],description:e.title,expenseCategory:e.expense_article_text,productService:e.product_service,volume:e.volume,priceRate:e.price_rate,period:e.period,status:DD(e.status),history:[],createdBy:e.created_by_user_id,expenseSplits:[],paymentAllocations:[],paymentExecution:void 0,attachments:e.files||[]}},T7=e=>({id:e.id,requestNumber:e.number,createdAt:e.created_at||"",updatedAt:e.updated_at,dueDate:e.due_date,counterpartyId:e.counterparty_id,counterpartyCategory:e.counterparty_category,payingCompany:e.paying_company,amount:e.amount_total,currency:e.currency_code,vatRate:e.vat_rate,docNumber:e.doc_number,docDate:e.doc_date,docType:e.doc_type,docFileUrl:e.files?.[0]?.url,fileName:e.files?.[0]?.name,files:e.files||[],description:e.title,expenseCategory:e.expense_article_text,productService:e.product_service,volume:e.volume,priceRate:e.price_rate,period:e.period,status:DD(e.status),history:[],createdBy:e.created_by_user_id,expenseSplits:[],paymentAllocations:[],paymentExecution:void 0,attachments:e.files||[]}),$w=e=>({totalRequests:e.total_requests,draftCount:e.draft,submittedCount:e.submitted,classifiedCount:e.classified,approvedCount:e.approved,inRegistryCount:e.in_registry,paidFullCount:e.paid_full,paidPartialCount:e.paid_partial,rejectedCount:e.rejected,totalAmount:e.total_amount,totalVat:e.total_vat}),I7=e=>({id:e.id,requestId:e.request_id,eventType:e.event_type,createdAt:e.created_at,createdByUserId:e.created_by_user_id,comment:e.comment,data:e.data}),R7=e=>e.map(T7);class rt{static async getAll(t){const r=new URLSearchParams;t?.status&&r.append("status",t.status),t?.role&&r.append("role",t.role),t?.dateFrom&&r.append("dateFrom",t.dateFrom),t?.dateTo&&r.append("dateTo",t.dateTo);const n=`${et.endpoints.getPaymentRequests}?${r}`,i=await Ze.get(n);try{return R7(i)}catch(s){return console.error("Error normalizing data:",s),console.error("Backend response:",i),[]}}static async getById(t){const r=et.endpoints.getPaymentRequest.replace(":id",t),n=await Ze.get(r);return ha(n)}static async create(t){if(t.status==="draft"&&(!t.counterpartyId||!t.dueDate))throw new Error("Cannot create draft without required fields (counterpartyId and dueDate)");const r=await this.mapFrontendToBackend(t),n=await Ze.post(et.endpoints.createPaymentRequest,r);return ha(n)}static async update(t,r){const n=await this.mapFrontendToBackend(r),i=et.endpoints.updatePaymentRequest.replace(":id",t),s=await Ze.put(i,n);return ha(s)}static async submit(t,r){const n=et.endpoints.submitRequest.replace(":id",t),i=await Ze.post(n,{comment:r});return ha(i)}static async classify(t,r,n){const i=et.endpoints.classifyRequest.replace(":id",t),s=r.map(u=>({article_id:u.expenseItemId,amount:u.amount,comment:u.comment||null})),l=await Ze.post(i,{comment:n||null,expense_splits:s});return ha(l)}static async approve(t,r,n,i){const s=et.endpoints.approveRequest.replace(":id",t),l=await Ze.post(s,{comment:i});return ha(l)}static async updateStatus(t,r,n){const i=et.endpoints.updatePaymentRequest.replace(":id",t);return Ze.patch(i,{status:r,executionData:n})}static async addToRegistry(t,r){const n=et.endpoints.addToRegistry.replace(":id",t),i=await Ze.post(n,{comment:r});return ha(i)}static async returnRequest(t,r){const n=et.endpoints.rejectRequest.replace(":id",t),i=await Ze.post(n,{comment:r});return ha(i)}static async sendToDistributor(t,r,n){const i=et.endpoints.sendToDistributor.replace(":id",t),s=r.map(u=>({article_id:u.expenseItemId,amount:u.amount,comment:u.comment||null})),l=await Ze.post(i,{comment:n||null,expense_splits:s});return ha(l)}static async distributorAction(t,r,n,i,s){const l=et.endpoints.distributorAction.replace(":id",t),u=await Ze.post(l,{action:r,comment:n,allocations:i||[],priority:s});return ha(u)}static getStatusActionLabel(t){switch(t){case"in-register":return"Включена в реестр на оплату";case"approved-for-payment":return"Утверждена к оплате";case"paid-full":return"Оплачена полностью";case"paid-partial":return"Оплачена частично";case"declined":return"Отклонена";case"cancelled":return"Аннулирована";default:return"Статус обновлен"}}static async mapFrontendToBackend(t){const r=Number(t.amount)||0;if(t.status!=="draft"&&r<=0)throw new Error("Amount must be greater than 0");const n=[t.expenseCategory&&`Статья расходов: ${t.expenseCategory}`,t.productService&&`Товар/услуга: ${t.productService}`,t.volume&&`Объем: ${t.volume}`,t.priceRate&&`Цена/тариф: ${t.priceRate}`,t.period&&`Период: ${t.period}`].filter(Boolean).join(", "),i=[];if((t.amount!==void 0&&t.amount!==null&&r>0||t.status==="draft")&&i.push({article_id:"8e1ff15d-79ea-48a6-ba30-59f64dcc9f6d",executor_position_id:"27a48e7e-0e8b-4124-95b1-a37e6ae2bbb6",quantity:1,amount_net:r||0,vat_rate_id:"55689349-dfc3-42ce-8f86-e473e2e00477",currency_code:t.currency||"KZT",note:n||"Черновик заявки"}),t.status!=="draft"){if(!t.counterpartyId)throw new Error("Counterparty ID is required");if(!t.currency)throw new Error("Currency is required");if(!t.dueDate)throw new Error("Due date is required")}const s={title:n||"Черновик заявки",currency_code:t.currency||"KZT",files:t.files||[],lines:i,counterparty_id:t.counterpartyId,due_date:t.dueDate,amount_total:r,vat_total:0};return t.requestNumber&&(s.number=t.requestNumber),t.expenseCategory&&(s.expense_article_text=t.expenseCategory),t.docNumber&&(s.doc_number=t.docNumber),t.docDate&&(s.doc_date=t.docDate),t.docType&&(s.doc_type=t.docType),t.payingCompany&&(s.paying_company=t.payingCompany),t.counterpartyCategory&&(s.counterparty_category=t.counterpartyCategory),t.vatRate&&(s.vat_rate=t.vatRate),t.productService&&(s.product_service=t.productService),t.volume&&(s.volume=t.volume),t.priceRate&&(s.price_rate=t.priceRate),t.period&&(s.period=t.period),s}static async getStatistics(t,r){const n=new URLSearchParams;t&&n.append("role",t),r&&n.append("user_id",r);const i=`${et.endpoints.getRequestStatistics}?${n}`,s=await Ze.get(i);return $w(s)}static async getDashboardMetrics(t,r){const n=new URLSearchParams;n.append("role",t),r&&n.append("user_id",r);const i=`${et.endpoints.getDashboardMetrics}?${n}`,s=await Ze.get(i);return $w(s)}static async getRequestEvents(t){const r=et.endpoints.getRequestEvents.replace(":id",t);return Ze.get(r)}}class fl{static async getCounterparties(){return Ze.get(et.endpoints.getCounterparties)}static async getContracts(){return Ze.get(et.endpoints.getCounterparties)}static async getExpenseItems(){return Ze.get(et.endpoints.getExpenseArticles)}static async getPriorities(){return Ze.get(et.endpoints.getPriorities)}static async getNormatives(){return Ze.get(et.endpoints.getCounterparties)}static async getCurrencies(){return Ze.get(et.endpoints.getCurrencies)}static async getVatRates(){return Ze.get(et.endpoints.getVatRates)}}class D7{static async getAll(){return Ze.get(et.endpoints.getPaymentRegistry)}static async create(t){return Ze.post(et.endpoints.createRegistryEntry,t)}static async exportExcel(t){const r=et.endpoints.exportRegisterExcel.replace(":id",t);return Ze.download(r)}static async exportPDF(t){const r=et.endpoints.exportRegisterPdf.replace(":id",t);return Ze.download(r)}static async downloadDocuments(t){const r=et.endpoints.downloadDocuments.replace(":id",t);return Ze.download(r)}static async getStatistics(){return Ze.get(et.endpoints.getRegistryStatistics)}static async getEntries(){return Ze.get(et.endpoints.getPaymentRegistry)}static async createEntry(t){return Ze.post(et.endpoints.createRegistryEntry,t)}static async updateEntry(t,r){const n=et.endpoints.updateRegistryEntry.replace(":id",t);return Ze.put(n,r)}static async deleteEntry(t){const r=et.endpoints.deleteRegistryEntry.replace(":id",t);return Ze.delete(r)}}class MD{static async getCurrentUser(){try{const t=await this.getUsers();return t&&t.length>0?{...t[0],currentRole:"executor"}:{id:"dev-user-123",full_name:"Разработчик",email:"dev@example.com",phone:"+7 777 000 0000",is_active:!0,currentRole:"executor"}}catch(t){return console.warn("Failed to load users, using fallback user:",t),{id:"dev-user-123",full_name:"Разработчик",email:"dev@example.com",phone:"+7 777 000 0000",is_active:!0,currentRole:"executor"}}}static async getUsers(){return Ze.get(et.endpoints.getUsers)}static async getUser(t){const r=et.endpoints.getUser.replace(":id",t);return Ze.get(r)}static async createUser(t){return Ze.post(et.endpoints.createUser,t)}static async updateUser(t,r){const n=et.endpoints.updateUser.replace(":id",t);return Ze.put(n,r)}static async deleteUser(t){const r=et.endpoints.deleteUser.replace(":id",t);return Ze.delete(r)}static async getUsersByRole(t){try{return(await this.getUsers()).filter(n=>n.currentRole===t)}catch(r){return console.error("Error getting users by role:",r),[]}}}class cl{static async getBindings(t){const r=new URLSearchParams;t?.expenseItemId&&r.append("expenseItemId",t.expenseItemId),t?.active!==void 0&&r.append("active",t.active.toString()),t?.date&&r.append("date",t.date);const n=`${et.endpoints.getDistributorBindings}?${r}`;return Ze.get(n)}static async createBinding(t){return Ze.post(et.endpoints.createDistributorBinding,t)}static async updateBinding(t,r){const n=et.endpoints.updateDistributorBinding.replace(":id",t);return Ze.put(n,r)}static async deleteBinding(t){const r=et.endpoints.deleteDistributorBinding.replace(":id",t);return Ze.delete(r)}static async getContractsByExpenseItem(t,r,n=!0){const i=new URLSearchParams({counterpartyId:t,expenseItemId:r,active:n.toString()}),s=`${et.endpoints.getCounterparties}?${i}`;return Ze.get(s)}static async getRequestsWithChiefAssignment(t,r=!1){const n=await rt.getAll({role:t,status:"classified"}),i=await this.getBindings({active:!0,date:new Date().toISOString().split("T")[0]});return n.map(s=>{const l=i.find(u=>s.expenseSplits.some(d=>d.expenseItemId===u.expenseItemId));return{...s,isAssignedToChief:!!l,chiefDistributorName:l?"Иванов И.И.":void 0,assignmentReason:l?"Привязка к статье расходов":void 0}})}}class Ih{static async getContractStatus(t){return await Ze.get(`/api/v1/distribution/contract-status/${t}`)}static async getSubRegistrars(){return await Ze.get("/api/v1/distribution/sub-registrars")}static async classifyRequest(t){const r={request_id:t.requestId,responsible_registrar_id:t.responsibleRegistrarId,expense_splits:t.expenseSplits.map(i=>({expense_item_id:i.expenseItemId,amount:i.amount,comment:i.comment,contract_id:i.contractId,priority:i.priority})),comment:t.comment},n=await fetch(`${API_BASE_URL}/distribution/classify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const i=await n.json();throw new Error(`Failed to classify request: ${i.detail||n.statusText}`)}return n.json()}static async returnRequest(t){const r={request_id:t.requestId,comment:t.comment},n=await fetch(`${API_BASE_URL}/distribution/return`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const i=await n.json();throw new Error(`Failed to return request: ${i.detail||n.statusText}`)}return n.json()}static async getExpenseSplits(t){const r=await fetch(`${API_BASE_URL}/distribution/expense-splits/${t}`);if(!r.ok)throw new Error(`Failed to get expense splits: ${r.statusText}`);return r.json()}static async getPendingRequests(t=0,r=100){const n=await fetch(`${API_BASE_URL}/distribution/pending-requests?skip=${t}&limit=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`Failed to get pending requests: ${n.statusText}`);return n.json()}static async sendRequestsParallel(t){return await Ze.post("/api/v1/distribution/send-requests",{request_id:t.requestId,sub_registrar_id:t.subRegistrarId,distributor_id:t.distributorId,expense_splits:t.expenseSplits.map(r=>({expense_item_id:r.expenseItemId,amount:r.amount,comment:r.comment,contract_id:r.contractId,priority:r.priority})),comment:t.comment})}static async splitRequestByArticles(t){const r=await fetch(`${API_BASE_URL}/distribution/split-request`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t.requestId,sub_registrar_id:t.subRegistrarId,distributor_id:t.distributorId,expense_splits:t.expenseSplits.map(n=>({expense_item_id:n.expenseItemId,amount:n.amount,comment:n.comment,contract_id:n.contractId,priority:n.priority})),comment:t.comment})});if(!r.ok)throw new Error(`Failed to split request: ${r.statusText}`);return r.json()}}const dh="http://localhost:8000/api/v1";class fh{static async getAssignments(t=0,r=100){const n=await fetch(`${dh}/sub-registrar/assignments?skip=${t}&limit=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`Failed to get assignments: ${n.statusText}`);return n.json()}static async getReport(t){const r=await fetch(`${dh}/sub-registrar/reports/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get report: ${r.statusText}`);return r.json()}static async saveDraftReport(t){const r=await fetch(`${dh}/sub-registrar/save-draft`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t.requestId,document_status:t.documentStatus,report_data:t.reportData})});if(!r.ok)throw new Error(`Failed to save draft report: ${r.statusText}`);return r.json()}static async publishReport(t){const r=await fetch(`${dh}/sub-registrar/publish-report`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t})});if(!r.ok)throw new Error(`Failed to publish report: ${r.statusText}`);return r.json()}}const hh="http://localhost:8000/api/v1";class nx{static async getDistributorRequests(t=0,r=100){const n=await fetch(`${hh}/distributor/requests?skip=${t}&limit=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`Failed to get distributor requests: ${n.statusText}`);return n.json()}static async getDistributorRequest(t){const r=await fetch(`${hh}/distributor/requests/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get distributor request: ${r.statusText}`);return r.json()}static async linkExportContract(t,r){const n=await fetch(`${hh}/distributor/requests/${t}/export-contract`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({export_contract_id:r.exportContractId})});if(!n.ok)throw new Error(`Failed to link export contract: ${n.statusText}`);return n.json()}static async getEnrichedRequest(t){const r=await fetch(`${hh}/distributor/requests/${t}/enriched`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get enriched request: ${r.statusText}`);return r.json()}}const Jc="http://localhost:8000/api/v1";class pu{static async getExportContracts(t=0,r=100,n=!0){const i=await fetch(`${Jc}/export-contracts/?skip=${t}&limit=${r}&is_active=${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error(`Failed to get export contracts: ${i.statusText}`);return i.json()}static async getExportContract(t){const r=await fetch(`${Jc}/export-contracts/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get export contract: ${r.statusText}`);return r.json()}static async createExportContract(t){const r=await fetch(`${Jc}/export-contracts/`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({contract_number:t.contractNumber,contract_date:t.contractDate,counterparty_id:t.counterpartyId,amount:t.amount,currency_code:t.currencyCode})});if(!r.ok)throw new Error(`Failed to create export contract: ${r.statusText}`);return r.json()}static async updateExportContract(t,r){const n=await fetch(`${Jc}/export-contracts/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({contract_number:r.contractNumber,contract_date:r.contractDate,counterparty_id:r.counterpartyId,amount:r.amount,currency_code:r.currencyCode,is_active:r.isActive})});if(!n.ok)throw new Error(`Failed to update export contract: ${n.statusText}`);return n.json()}static async deleteExportContract(t){const r=await fetch(`${Jc}/export-contracts/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to delete export contract: ${r.statusText}`)}}class ao{static notifications=[];static listeners=[];static addNotification(t){const r={...t,id:Math.random().toString(36).substr(2,9),timestamp:new Date};this.notifications.unshift(r),this.notifications.length>50&&(this.notifications=this.notifications.slice(0,50)),this.showToastNotification(r),this.notifyListeners()}static getNotifications(){return[...this.notifications]}static getNotificationsForRole(t){return this.notifications.filter(r=>r.role===t)}static markAsRead(t){this.notifications.find(n=>n.id===t)&&(this.notifications=this.notifications.filter(n=>n.id!==t),this.notifyListeners())}static clearAll(){this.notifications=[],this.notifyListeners()}static subscribe(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}static notifyListeners(){this.listeners.forEach(t=>t([...this.notifications]))}static showToastNotification(t){const r={duration:t.type==="error"?5e3:3e3,action:t.actionRequired?{label:"Просмотреть",onClick:()=>{console.log("Navigate to request:",t.requestId)}}:void 0};switch(t.type){case"success":fe.success(t.title,{description:t.message,...r});break;case"error":fe.error(t.title,{description:t.message,...r});break;case"warning":fe.warning(t.title,{description:t.message,...r});break;default:fe.info(t.title,{description:t.message,...r});break}}static notifyRequestDistributed(t,r){this.addNotification({type:"success",title:"Заявка распределена",message:`Заявка ${r} успешно распределена между суб-регистратором и распорядителем`,role:"registrar",requestId:t})}static notifySubRegistrarAssigned(t,r){this.addNotification({type:"info",title:"Новое назначение",message:`Вам назначена заявка ${r} для обработки`,role:"sub_registrar",requestId:t,actionRequired:!0})}static notifyDistributorRequestCreated(t,r){this.addNotification({type:"info",title:"Новая заявка",message:`Получена заявка ${r} для обработки`,role:"distributor",requestId:t,actionRequired:!0})}static notifyReportPublished(t,r){this.addNotification({type:"success",title:"Отчёт опубликован",message:`Отчёт по заявке ${r} опубликован и обогатил данные для распорядителя`,role:"sub_registrar",requestId:t}),this.addNotification({type:"info",title:"Данные обогащены",message:`Заявка ${r} обогащена данными от суб-регистратора`,role:"distributor",requestId:t,actionRequired:!0})}static notifyExportContractLinked(t,r,n){this.addNotification({type:"success",title:"Контракт привязан",message:`Заявка ${r} привязана к экспортному контракту ${n}`,role:"distributor",requestId:t})}static notifyWorkflowError(t,r){this.addNotification({type:"error",title:"Ошибка в процессе",message:t,role:r})}static notifyWorkflowProgress(t,r){this.addNotification({type:"info",title:"Прогресс",message:t,role:r})}}class ax{static getWorkflowProgress(t,r,n){const i=this.getWorkflowSteps(),s=this.getCurrentStepIndex(r,n);return{requestId:t,currentStep:i[s]?.id||"unknown",totalSteps:i.length,completedSteps:s,steps:i.map((l,u)=>({...l,status:this.getStepStatus(u,s,r,n),timestamp:u<s?new Date:void 0})),isComplete:s>=i.length-1,canProceed:this.canProceedToNextStep(r,n),nextRole:this.getNextRole(r,n)}}static getWorkflowSteps(){return[{id:"request-creation",name:"Создание заявки",role:"executor",description:"Исполнитель создаёт заявку на оплату"},{id:"request-submission",name:"Подача заявки",role:"executor",description:"Заявка отправлена на рассмотрение"},{id:"request-classification",name:"Классификация заявки",role:"registrar",description:"Регистратор классифицирует заявку по статьям расходов"},{id:"request-approval",name:"Одобрение заявки",role:"distributor",description:"Распорядитель одобряет заявку"},{id:"request-distribution",name:"Распределение заявки",role:"registrar",description:"Регистратор распределяет заявку между суб-регистратором и распорядителем"},{id:"document-collection",name:"Сбор документов",role:"sub_registrar",description:"Суб-регистратор собирает оригинальные документы"},{id:"report-publication",name:"Публикация отчёта",role:"sub_registrar",description:"Суб-регистратор публикует фактический отчёт"},{id:"export-contract-linking",name:"Привязка контракта",role:"distributor",description:"Распорядитель привязывает заявку к экспортному контракту"},{id:"payment-processing",name:"Обработка платежа",role:"treasurer",description:"Казначей обрабатывает платеж"},{id:"payment-completion",name:"Завершение платежа",role:"treasurer",description:"Платеж завершён"}]}static getCurrentStepIndex(t,r){let i={draft:0,submitted:1,classified:2,allocated:2,returned:1,approved:3,"approved-on-behalf":3,"to-pay":3,"in-register":3,"approved-for-payment":3,distributed:4,report_published:6,export_linked:7,"paid-full":9,"paid-partial":8,declined:1,rejected:1,cancelled:0}[t]||0;return r==="distributed"&&t==="distributed"?i=4:r==="report_published"&&t==="report_published"?i=6:r==="export_linked"&&t==="export_linked"&&(i=7),i}static getStepStatus(t,r,n,i){return t<r?"completed":t===r?"in-progress":"pending"}static canProceedToNextStep(t,r){return["submitted","classified","allocated","approved","approved-on-behalf","to-pay","in-register","approved-for-payment","distributed","report_published"].includes(t)}static getNextRole(t,r){return{draft:"executor",submitted:"registrar",classified:"distributor",allocated:"distributor",returned:"executor",approved:"registrar","approved-on-behalf":"registrar","to-pay":"registrar","in-register":"registrar","approved-for-payment":"registrar",distributed:"sub_registrar",report_published:"distributor",export_linked:"treasurer","paid-full":void 0,"paid-partial":"treasurer",declined:"executor",rejected:"executor",cancelled:void 0}[t]}static getProgressPercentage(t){return t.totalSteps===0?0:Math.round(t.completedSteps/t.totalSteps*100)}static getEstimatedTimeRemaining(t){t.totalSteps-t.completedSteps;const r={"request-creation":.5,"request-submission":.1,"request-classification":2,"request-approval":4,"request-distribution":.5,"document-collection":24,"report-publication":1,"export-contract-linking":2,"payment-processing":4,"payment-completion":1};let n=0;for(let i=t.completedSteps;i<t.totalSteps;i++){const s=t.steps[i];s&&(n+=r[s.id]||1)}return n<1?"Менее часа":n<24?`Около ${Math.round(n)} часов`:`Около ${Math.round(n/24)} дней`}static getWorkflowBottlenecks(t){const r=[],n=["document-collection","request-approval"],i=t.steps[t.completedSteps];i&&n.includes(i.id)&&r.push(`Текущий этап "${i.name}" может занять длительное время`);const s=["document-collection","export-contract-linking"];return t.steps.slice(t.completedSteps).filter(u=>s.includes(u.id)).length>0&&r.push("Ожидаются внешние действия для завершения процесса"),r}}class M7{cache=new Map;defaultTTL=300*1e3;maxSize=1e3;get(t){const r=this.cache.get(t);return r?Date.now()>r.expiresAt?(this.cache.delete(t),null):r.value:null}set(t,r,n,i=[]){this.cache.size>=this.maxSize&&this.evictOldest();const s=Date.now()+(n||this.defaultTTL);this.cache.set(t,{value:r,expiresAt:s,tags:i})}invalidate(t){this.cache.delete(t)}invalidatePattern(t){const r=new RegExp(t);for(const n of this.cache.keys())r.test(n)&&this.cache.delete(n)}invalidateByTags(t){for(const[r,n]of this.cache.entries())t.some(i=>n.tags.includes(i))&&this.cache.delete(r)}clear(){this.cache.clear()}getStats(){const t=Array.from(this.cache.entries()).map(([r,n])=>({key:r,expiresAt:n.expiresAt,tags:n.tags}));return{size:this.cache.size,maxSize:this.maxSize,hitRate:0,entries:t}}evictOldest(){const t=Array.from(this.cache.entries());t.sort((n,i)=>n[1].expiresAt-i[1].expiresAt);const r=Math.ceil(t.length*.1);for(let n=0;n<r;n++)this.cache.delete(t[n][0])}}class dn{static dictionaryItems(t){return`dictionary:${t}:items`}static dictionaryItem(t,r){return`dictionary:${t}:item:${r}`}static dictionarySearch(t,r){return`dictionary:${t}:search:${r}`}static dictionaryFilter(t,r){const n=Object.keys(r).sort().map(i=>`${i}:${r[i]}`).join("|");return`dictionary:${t}:filter:${n}`}static dictionaryStatistics(t){return`dictionary:${t}:statistics`}}const eu={DICTIONARY:"dictionary",EXPENSE_ITEMS:"expense-articles",COUNTERPARTIES:"counterparties",CONTRACTS:"contracts",NORMATIVES:"normatives",PRIORITIES:"priorities",USERS:"users",SEARCH:"search",FILTER:"filter",STATISTICS:"statistics"};class Pd{createError(t,r,n){return{field:t,message:r,code:n}}validateRequired(t,r){return t==null||t===""?[this.createError(r,`${r} is required`,"REQUIRED")]:[]}validateString(t,r,n,i){const s=[];return typeof t!="string"?(s.push(this.createError(r,`${r} must be a string`,"INVALID_TYPE")),s):(n&&t.length<n&&s.push(this.createError(r,`${r} must be at least ${n} characters`,"MIN_LENGTH")),i&&t.length>i&&s.push(this.createError(r,`${r} must be no more than ${i} characters`,"MAX_LENGTH")),s)}validateEmail(t,r){const n=[];return typeof t!="string"?(n.push(this.createError(r,`${r} must be a string`,"INVALID_TYPE")),n):(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||n.push(this.createError(r,`${r} must be a valid email address`,"INVALID_EMAIL")),n)}validateNumber(t,r,n,i){const s=[];return typeof t!="number"||isNaN(t)?(s.push(this.createError(r,`${r} must be a number`,"INVALID_TYPE")),s):(n!==void 0&&t<n&&s.push(this.createError(r,`${r} must be at least ${n}`,"MIN_VALUE")),i!==void 0&&t>i&&s.push(this.createError(r,`${r} must be no more than ${i}`,"MAX_VALUE")),s)}validateEnum(t,r,n){return n.includes(t)?[]:[this.createError(r,`${r} must be one of: ${n.join(", ")}`,"INVALID_ENUM")]}}class $7 extends Pd{validate(t){const r=[];r.push(...this.validateRequired(t.name,"name")),r.push(...this.validateRequired(t.code,"code")),r.push(...this.validateRequired(t.ownerRole,"ownerRole")),r.push(...this.validateString(t.name,"name",1,255)),r.push(...this.validateString(t.code,"code",3,10)),t.code&&!/^\d{3}$/.test(t.code)&&r.push(this.createError("code","Code must be 3 digits","INVALID_FORMAT"));const n=["executor","registrar","distributor","treasurer","admin"];return r.push(...this.validateEnum(t.ownerRole,"ownerRole",n)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"name":return this.validateString(r,"name",1,255);case"code":return typeof r=="string"&&!/^\d{3}$/.test(r)?[this.createError("code","Code must be 3 digits","INVALID_FORMAT")]:this.validateString(r,"code",3,10);case"ownerRole":const n=["executor","registrar","distributor","treasurer","admin"];return this.validateEnum(r,"ownerRole",n);default:return[]}}}class L7 extends Pd{validate(t){const r=[];r.push(...this.validateRequired(t.name,"name")),r.push(...this.validateRequired(t.abbreviation,"abbreviation")),r.push(...this.validateRequired(t.binIin,"binIin")),r.push(...this.validateRequired(t.email,"email")),r.push(...this.validateRequired(t.category,"category")),r.push(...this.validateString(t.name,"name",1,255)),r.push(...this.validateString(t.abbreviation,"abbreviation",1,50)),r.push(...this.validateString(t.binIin,"binIin",12,12)),r.push(...this.validateEmail(t.email,"email")),t.binIin&&!/^\d{12}$/.test(t.binIin)&&r.push(this.createError("binIin","BIN/IIN must be 12 digits","INVALID_FORMAT"));const n=["Поставщик СХ","Элеватор","Поставщик Услуг","Покупатель","Партнер/БВУ"];return r.push(...this.validateEnum(t.category,"category",n)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"name":return this.validateString(r,"name",1,255);case"email":return this.validateEmail(r,"email");case"binIin":return typeof r=="string"&&!/^\d{12}$/.test(r)?[this.createError("binIin","BIN/IIN must be 12 digits","INVALID_FORMAT")]:this.validateString(r,"binIin",12,12);case"category":const n=["Поставщик СХ","Элеватор","Поставщик Услуг","Покупатель","Партнер/БВУ"];return this.validateEnum(r,"category",n);default:return[]}}}class F7 extends Pd{validate(t){const r=[];if(r.push(...this.validateRequired(t.counterpartyId,"counterpartyId")),r.push(...this.validateRequired(t.expenseItemId,"expenseItemId")),r.push(...this.validateRequired(t.startDate,"startDate")),r.push(...this.validateRequired(t.endDate,"endDate")),r.push(...this.validateRequired(t.limitTotal,"limitTotal")),r.push(...this.validateNumber(t.limitTotal,"limitTotal",0)),r.push(...this.validateNumber(t.usedTotal,"usedTotal",0)),t.startDate&&t.endDate){const i=new Date(t.startDate),s=new Date(t.endDate);i>=s&&r.push(this.createError("endDate","End date must be after start date","INVALID_DATE_RANGE"))}const n=["active","completed","cancelled"];return r.push(...this.validateEnum(t.status,"status",n)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"limitTotal":case"usedTotal":return this.validateNumber(r,t,0);case"status":const n=["active","completed","cancelled"];return this.validateEnum(r,"status",n);default:return[]}}}class B7 extends Pd{validate(t){const r=[];return r.push(...this.validateRequired(t.name,"name")),r.push(...this.validateRequired(t.rank,"rank")),r.push(...this.validateRequired(t.color,"color")),r.push(...this.validateString(t.name,"name",1,100)),r.push(...this.validateString(t.color,"color",1,50)),r.push(...this.validateNumber(t.rank,"rank",1,10)),t.color&&!/^#[0-9A-Fa-f]{6}$/.test(t.color)&&r.push(this.createError("color","Color must be a valid hex color","INVALID_COLOR")),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"name":return this.validateString(r,"name",1,100);case"rank":return this.validateNumber(r,"rank",1,10);case"color":return typeof r=="string"&&!/^#[0-9A-Fa-f]{6}$/.test(r)?[this.createError("color","Color must be a valid hex color","INVALID_COLOR")]:this.validateString(r,"color",1,50);default:return[]}}}class z7 extends Pd{validate(t){const r=[];r.push(...this.validateRequired(t.name,"name")),r.push(...this.validateRequired(t.email,"email")),r.push(...this.validateRequired(t.roles,"roles")),r.push(...this.validateRequired(t.currentRole,"currentRole")),r.push(...this.validateString(t.name,"name",1,255)),r.push(...this.validateString(t.email,"email",1,255)),r.push(...this.validateEmail(t.email,"email")),Array.isArray(t.roles)&&t.roles.length===0&&r.push(this.createError("roles","At least one role is required","REQUIRED"));const n=["executor","registrar","distributor","treasurer","admin"];return r.push(...this.validateEnum(t.currentRole,"currentRole",n)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"name":return this.validateString(r,"name",1,255);case"email":return this.validateEmail(r,"email");case"currentRole":const n=["executor","registrar","distributor","treasurer","admin"];return this.validateEnum(r,"currentRole",n);default:return[]}}}class U7{validators=new Map;constructor(){this.registerValidator("expense-articles",new $7),this.registerValidator("counterparties",new L7),this.registerValidator("contracts",new F7),this.registerValidator("priorities",new B7),this.registerValidator("users",new z7)}registerValidator(t,r){this.validators.set(t,r)}validate(t,r){const n=this.validators.get(t);return n?n.validate(r):{isValid:!1,errors:[{field:"type",message:`No validator found for type: ${t}`,code:"NO_VALIDATOR"}]}}validateField(t,r,n){const i=this.validators.get(t);return i?i.validateField(r,n):[{field:"type",message:`No validator found for type: ${t}`,code:"NO_VALIDATOR"}]}}class nl extends Error{constructor(t,r,n){super(`API Error ${t}: ${r}`),this.status=t,this.statusText=r,this.response=n,this.name="ApiError"}}class q7{baseUrl;authToken=null;timeout=3e4;constructor(t="/api"){this.baseUrl=t}setAuthToken(t){this.authToken=t}getHeaders(){const t={"Content-Type":"application/json"};return this.authToken&&(t.Authorization=`Bearer ${this.authToken}`),t}async request(t,r,n,i){const s=`${this.baseUrl}${r}`,l={method:t,headers:this.getHeaders(),...i};n&&t!=="GET"&&(l.body=JSON.stringify(n));const u=new AbortController,d=setTimeout(()=>u.abort(),this.timeout);try{const f=await fetch(s,{...l,signal:u.signal});if(clearTimeout(d),!f.ok){const p=await f.json().catch(()=>({}));throw new nl(f.status,f.statusText,p)}return f.status===204?{}:await f.json()}catch(f){throw clearTimeout(d),f instanceof nl?f:f.name==="AbortError"?new nl(408,"Request timeout"):new nl(0,f.message||"Network error")}}async get(t){return this.request("GET",t)}async post(t,r){return this.request("POST",t,r)}async put(t,r){return this.request("PUT",t,r)}async delete(t){return this.request("DELETE",t)}async upload(t,r){const n=new FormData;n.append("file",r);const i=`${this.baseUrl}${t}`,s={};this.authToken&&(s.Authorization=`Bearer ${this.authToken}`);const l=await fetch(i,{method:"POST",headers:s,body:n});if(!l.ok){const u=await l.json().catch(()=>({}));throw new nl(l.status,l.statusText,u)}return await l.json()}async download(t,r){const n=`${this.baseUrl}${t}`,i={};this.authToken&&(i.Authorization=`Bearer ${this.authToken}`);const s=await fetch(n,{method:"GET",headers:i,...r});if(!s.ok)throw new nl(s.status,s.statusText);return await s.blob()}}class W7{constructor(t){this.apiClient=t}getExpenseItems=()=>this.apiClient.get("/dictionaries/expense-articles");getExpenseItem=t=>this.apiClient.get(`/dictionaries/expense-articles/${t}`);createExpenseItem=t=>this.apiClient.post("/dictionaries/expense-articles",t);updateExpenseItem=(t,r)=>this.apiClient.put(`/dictionaries/expense-articles/${t}`,r);deleteExpenseItem=t=>this.apiClient.delete(`/dictionaries/expense-articles/${t}`);getCounterparties=async()=>(await this.apiClient.get("/dictionaries/counterparties")).map(r=>({id:r.id,name:r.name,abbreviation:r.name.substring(0,10)+"...",binIin:r.tax_id||"",phone:r.phone||"",email:r.email||"",address:r.address||"",region:r.region||"",category:r.category,isActive:r.is_active,code:r.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}));getCounterparty=async t=>{const r=await this.apiClient.get(`/dictionaries/counterparties/${t}`);return{id:r.id,name:r.name,abbreviation:r.name.substring(0,10)+"...",binIin:r.tax_id||"",phone:r.phone||"",email:r.email||"",address:r.address||"",region:r.region||"",category:r.category,isActive:r.is_active,code:r.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}};createCounterparty=t=>this.apiClient.post("/dictionaries/counterparties",t);updateCounterparty=(t,r)=>this.apiClient.put(`/dictionaries/counterparties/${t}`,r);deleteCounterparty=t=>this.apiClient.delete(`/dictionaries/counterparties/${t}`);getContracts=()=>this.apiClient.get("/dictionaries/contracts");getContract=t=>this.apiClient.get(`/dictionaries/contracts/${t}`);createContract=t=>this.apiClient.post("/dictionaries/contracts",t);updateContract=(t,r)=>this.apiClient.put(`/dictionaries/contracts/${t}`,r);deleteContract=t=>this.apiClient.delete(`/dictionaries/contracts/${t}`);getNormatives=()=>this.apiClient.get("/dictionaries/normatives");getNormative=t=>this.apiClient.get(`/dictionaries/normatives/${t}`);createNormative=t=>this.apiClient.post("/dictionaries/normatives",t);updateNormative=(t,r)=>this.apiClient.put(`/dictionaries/normatives/${t}`,r);deleteNormative=t=>this.apiClient.delete(`/dictionaries/normatives/${t}`);getPriorities=()=>this.apiClient.get("/dictionaries/priorities");getPriority=t=>this.apiClient.get(`/dictionaries/priorities/${t}`);createPriority=t=>this.apiClient.post("/dictionaries/priorities",t);updatePriority=(t,r)=>this.apiClient.put(`/dictionaries/priorities/${t}`,r);deletePriority=t=>this.apiClient.delete(`/dictionaries/priorities/${t}`);getUsers=()=>this.apiClient.get("/dictionaries/users");getUser=t=>this.apiClient.get(`/dictionaries/users/${t}`);createUser=t=>this.apiClient.post("/dictionaries/users",t);updateUser=(t,r)=>this.apiClient.put(`/dictionaries/users/${t}`,r);deleteUser=t=>this.apiClient.delete(`/dictionaries/users/${t}`);getCurrencies=()=>this.apiClient.get("/dictionaries/currencies");getCurrency=t=>this.apiClient.get(`/dictionaries/currencies/${t}`);getVatRates=()=>this.apiClient.get("/dictionaries/vat-rates");getVatRate=t=>this.apiClient.get(`/dictionaries/vat-rates/${t}`);createVatRate=t=>this.apiClient.post("/dictionaries/vat-rates",t);updateVatRate=(t,r)=>this.apiClient.put(`/dictionaries/vat-rates/${t}`,r);deleteVatRate=t=>this.apiClient.delete(`/dictionaries/vat-rates/${t}`);bulkCreate=(t,r)=>this.apiClient.post(`/dictionaries/${t}/bulk`,{items:r});bulkUpdate=(t,r)=>this.apiClient.put(`/dictionaries/${t}/bulk`,{updates:r});bulkDelete=(t,r)=>this.apiClient.post(`/dictionaries/${t}/bulk-delete`,{ids:r});search=async(t,r)=>t==="counterparties"?(await this.getCounterparties()).filter(i=>i.name?.toLowerCase().includes(r.toLowerCase())||i.binIin?.includes(r)||i.email&&i.email.toLowerCase().includes(r.toLowerCase())||i.region&&i.region.toLowerCase().includes(r.toLowerCase())||i.abbreviation?.toLowerCase().includes(r.toLowerCase())):this.apiClient.get(`/dictionaries/${t}/search?q=${encodeURIComponent(r)}`);filter=async(t,r)=>t==="counterparties"?(await this.getCounterparties()).filter(i=>!(r.category&&i.category!==r.category||r.isActive!==void 0&&i.isActive!==r.isActive)):this.apiClient.post(`/dictionaries/${t}/filter`,r);getStatistics=async t=>{if(t==="counterparties"){const n=await this.getCounterparties();return{total:n.length,active:n.filter(i=>i.isActive).length,inactive:n.filter(i=>!i.isActive).length,recentlyUpdated:0}}const r=await this.apiClient.get(`/dictionaries/${t}`);return{total:r.length,active:r.filter(n=>n.is_active).length,inactive:r.filter(n=>!n.is_active).length,categories:t==="counterparties"?r.reduce((n,i)=>{const s=i.category||"Не указана";return n[s]=(n[s]||0)+1,n},{}):{}}};export=(t,r)=>this.apiClient.download(`/dictionaries/export/${t}?format=${r.format||"csv"}&active_only=${r.active_only||!0}`);import=(t,r)=>this.apiClient.upload(`/dictionaries/import?dictionary_type=${t}`,r);getTemplate=t=>this.apiClient.download(`/dictionaries/template/${t}`)}class hl{static instance;handlers=new Map;cache;validator;api;isOnline=!0;constructor(){this.cache=new M7,this.validator=new U7;const t=new q7("http://localhost:8000/api/v1");this.api=new W7(t),this.initializeHandlers(),this.setupOnlineStatusListener()}static getInstance(){return hl.instance||(hl.instance=new hl),hl.instance}initializeHandlers(){["expense-articles","counterparties","contracts","normatives","priorities","users","currencies","vat-rates"].forEach(r=>{const n=this.createHandler(r);this.handlers.set(r,n)})}createHandler(t){return{getItems:()=>this.getItems(t),getItemById:r=>this.getItemById(t,r),createItem:r=>this.createItem(t,r),updateItem:(r,n)=>this.updateItem(t,r,n),deleteItem:r=>this.deleteItem(t,r),validateItem:r=>this.validateItem(t,r),searchItems:r=>this.searchItems(t,r),getItemsByFilter:r=>this.getItemsByFilter(t,r),getStatistics:()=>this.getStatistics(t),bulkCreate:r=>this.bulkCreate(t,r),bulkUpdate:r=>this.bulkUpdate(t,r),bulkDelete:r=>this.bulkDelete(t,r),exportItems:r=>this.exportItems(t,r),importItems:r=>this.importItems(t,r)}}setupOnlineStatusListener(){typeof window<"u"&&(window.addEventListener("online",()=>{this.isOnline=!0,this.syncOfflineChanges()}),window.addEventListener("offline",()=>{this.isOnline=!1}))}getHandler(t){const r=this.handlers.get(t);if(!r)throw new Error(`No handler found for dictionary type: ${t}`);return r}async getItems(t){const r=dn.dictionaryItems(t),n=this.cache.get(r);if(n)return n;try{let i;return this.isOnline?i=await this.getApiMethod(t,"getItems")():i=this.getOfflineData(t),this.cache.set(r,i,void 0,[eu.DICTIONARY,t]),i}catch(i){return console.error(`Error fetching ${t} items:`,i),this.getOfflineData(t)}}async getItemById(t,r){const n=dn.dictionaryItem(t,r),i=this.cache.get(n);if(i)return i;try{let s;return this.isOnline?s=await this.getApiMethod(t,"getItem")(r):s=this.getOfflineData(t).find(u=>u.id===r)||null,s&&this.cache.set(n,s,void 0,[eu.DICTIONARY,t]),s}catch(s){return console.error(`Error fetching ${t} item ${r}:`,s),null}}async createItem(t,r){const n=this.validator.validate(t,r);if(!n.isValid)throw new Error(`Validation failed: ${n.errors.map(i=>i.message).join(", ")}`);try{let i;return this.isOnline?i=await this.getApiMethod(t,"createItem")(r):i=this.createOfflineItem(t,r),this.cache.invalidate(dn.dictionaryItems(t)),this.cache.invalidateByTags([t]),i}catch(i){throw console.error(`Error creating ${t} item:`,i),i}}async updateItem(t,r,n){const i=this.validator.validate(t,n);if(!i.isValid)throw new Error(`Validation failed: ${i.errors.map(s=>s.message).join(", ")}`);try{let s;return this.isOnline?s=await this.getApiMethod(t,"updateItem")(r,n):s=this.updateOfflineItem(t,r,n),this.cache.invalidate(dn.dictionaryItems(t)),this.cache.invalidate(dn.dictionaryItem(t,r)),this.cache.invalidateByTags([t]),s}catch(s){throw console.error(`Error updating ${t} item ${r}:`,s),s}}async deleteItem(t,r){try{return this.isOnline?await this.getApiMethod(t,"deleteItem")(r):this.deleteOfflineItem(t,r),this.cache.invalidate(dn.dictionaryItems(t)),this.cache.invalidate(dn.dictionaryItem(t,r)),this.cache.invalidateByTags([t]),!0}catch(n){return console.error(`Error deleting ${t} item ${r}:`,n),!1}}validateItem(t,r){return this.validator.validate(t,r)}async searchItems(t,r){const n=dn.dictionarySearch(t,r),i=this.cache.get(n);if(i)return i;try{let s;return this.isOnline?s=await this.api.search(t,r):s=this.getOfflineData(t).filter(u=>u.name.toLowerCase().includes(r.toLowerCase())||u.code.toLowerCase().includes(r.toLowerCase())),this.cache.set(n,s,6e4,[eu.SEARCH,t]),s}catch(s){return console.error(`Error searching ${t} items:`,s),[]}}async getItemsByFilter(t,r){const n=dn.dictionaryFilter(t,r),i=this.cache.get(n);if(i)return i;try{let s;if(this.isOnline)s=await this.api.filter(t,r);else{const l=this.getOfflineData(t);s=this.applyFilters(l,r)}return this.cache.set(n,s,6e4,[eu.FILTER,t]),s}catch(s){return console.error(`Error filtering ${t} items:`,s),[]}}async getStatistics(t){const r=dn.dictionaryStatistics(t),n=this.cache.get(r);if(n)return n;try{let i;if(this.isOnline)i=await this.api.getStatistics(t);else{const s=this.getOfflineData(t);i=this.calculateStatistics(s)}return this.cache.set(r,i,3e5,[eu.STATISTICS,t]),i}catch(i){return console.error(`Error getting ${t} statistics:`,i),{totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0}}}async bulkCreate(t,r){for(const n of r){const i=this.validator.validate(t,n);if(!i.isValid)throw new Error(`Validation failed for item: ${i.errors.map(s=>s.message).join(", ")}`)}try{let n;return this.isOnline?n=await this.api.bulkCreate(t,r):n=r.map(i=>this.createOfflineItem(t,i)),this.cache.invalidate(dn.dictionaryItems(t)),this.cache.invalidateByTags([t]),n}catch(n){throw console.error(`Error bulk creating ${t} items:`,n),n}}async bulkUpdate(t,r){try{let n;return this.isOnline?n=await this.api.bulkUpdate(t,r):n=r.map(({id:i,data:s})=>this.updateOfflineItem(t,i,s)),this.cache.invalidate(dn.dictionaryItems(t)),this.cache.invalidateByTags([t]),n}catch(n){throw console.error(`Error bulk updating ${t} items:`,n),n}}async bulkDelete(t,r){try{return this.isOnline?await this.api.bulkDelete(t,r):r.forEach(n=>this.deleteOfflineItem(t,n)),this.cache.invalidate(dn.dictionaryItems(t)),this.cache.invalidateByTags([t]),!0}catch(n){return console.error(`Error bulk deleting ${t} items:`,n),!1}}async exportItems(t,r){try{if(this.isOnline)return await this.api.export(t,r);{const n=this.getOfflineData(t),i=JSON.stringify(n,null,2);return new Blob([i],{type:"application/json"})}}catch(n){throw console.error(`Error exporting ${t} items:`,n),n}}async importItems(t,r){try{return this.isOnline?await this.api.import(t,r):{success:[],errors:[]}}catch(n){throw console.error(`Error importing ${t} items:`,n),n}}getApiMethod(t,r){const i={"expense-articles":{getItems:()=>this.api.getExpenseItems(),getItem:s=>this.api.getExpenseItem(s),createItem:s=>this.api.createExpenseItem(s),updateItem:(s,l)=>this.api.updateExpenseItem(s,l),deleteItem:s=>this.api.deleteExpenseItem(s)},counterparties:{getItems:()=>this.api.getCounterparties(),getItem:s=>this.api.getCounterparty(s),createItem:s=>this.api.createCounterparty(s),updateItem:(s,l)=>this.api.updateCounterparty(s,l),deleteItem:s=>this.api.deleteCounterparty(s)},contracts:{getItems:()=>this.api.getContracts(),getItem:s=>this.api.getContract(s),createItem:s=>this.api.createContract(s),updateItem:(s,l)=>this.api.updateContract(s,l),deleteItem:s=>this.api.deleteContract(s)},normatives:{getItems:()=>this.api.getNormatives(),getItem:s=>this.api.getNormative(s),createItem:s=>this.api.createNormative(s),updateItem:(s,l)=>this.api.updateNormative(s,l),deleteItem:s=>this.api.deleteNormative(s)},priorities:{getItems:()=>this.api.getPriorities(),getItem:s=>this.api.getPriority(s),createItem:s=>this.api.createPriority(s),updateItem:(s,l)=>this.api.updatePriority(s,l),deleteItem:s=>this.api.deletePriority(s)},users:{getItems:()=>this.api.getUsers(),getItem:s=>this.api.getUser(s),createItem:s=>this.api.createUser(s),updateItem:(s,l)=>this.api.updateUser(s,l),deleteItem:s=>this.api.deleteUser(s)},currencies:{getItems:()=>this.api.getCurrencies(),getItem:s=>this.api.getCurrency(s),createItem:s=>Promise.reject(new Error("Currencies are read-only")),updateItem:(s,l)=>Promise.reject(new Error("Currencies are read-only")),deleteItem:s=>Promise.reject(new Error("Currencies are read-only"))},"vat-rates":{getItems:()=>this.api.getVatRates(),getItem:s=>this.api.getVatRate(s),createItem:s=>this.api.createVatRate(s),updateItem:(s,l)=>this.api.updateVatRate(s,l),deleteItem:s=>this.api.deleteVatRate(s)}}[t];if(!i||!i[r])throw new Error(`No API method found for ${t}.${r}`);return i[r]}getOfflineData(t){try{const r=localStorage.getItem(`dictionary_${t}`);return r?JSON.parse(r):[]}catch(r){return console.error(`Error loading offline data for ${t}:`,r),[]}}saveOfflineData(t,r){try{localStorage.setItem(`dictionary_${t}`,JSON.stringify(r))}catch(n){console.error(`Error saving offline data for ${t}:`,n)}}createOfflineItem(t,r){const n={...r,id:`offline-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:1},i=this.getOfflineData(t);return i.push(n),this.saveOfflineData(t,i),n}updateOfflineItem(t,r,n){const i=this.getOfflineData(t),s=i.findIndex(u=>u.id===r);if(s===-1)throw new Error(`Item not found: ${r}`);const l={...i[s],...n,updatedAt:new Date().toISOString(),version:(i[s].version||0)+1};return i[s]=l,this.saveOfflineData(t,i),l}deleteOfflineItem(t,r){const i=this.getOfflineData(t).filter(s=>s.id!==r);this.saveOfflineData(t,i)}applyFilters(t,r){return t.filter(n=>{for(const[i,s]of Object.entries(r)){if(s==null||s==="")continue;const l=n[i];if(i==="isActive"){if(l!==s)return!1}else if(i==="category"){if(l!==s)return!1}else if(i==="ownerRole"){if(l!==s)return!1}else if(i==="dateRange"){const u=new Date(l),d=new Date(s.start),f=new Date(s.end);if(u<d||u>f)return!1}else if(typeof s=="string"&&(!l||!l.toString().toLowerCase().includes(s.toLowerCase())))return!1}return!0})}calculateStatistics(t){const r=new Date,n=new Date(r.getTime()-10080*60*1e3);return{totalItems:t.length,activeItems:t.filter(i=>i.isActive).length,inactiveItems:t.filter(i=>!i.isActive).length,recentlyUpdated:t.filter(i=>new Date(i.updatedAt)>n).length}}async syncOfflineChanges(){console.log("Syncing offline changes...")}clearCache(){this.cache.clear()}getCacheStats(){return this.cache.getStats()}async ensureInitialized(){}}class ix{static cache=new Map;static CACHE_DURATION=300*1e3;static MAX_CACHE_SIZE=50;static async getRoleStatistics(t,r){const n=`role_stats_${t}_${r||"all"}`,i=this.getFromCache(n);if(i)return i;try{const s=await rt.getStatistics(t,r),l=$w(s);return this.setCache(n,l),l}catch(s){throw console.error("Error fetching role statistics:",s),new Error(`Failed to fetch statistics for role: ${t}`)}}static async getDashboardMetrics(t,r){const n=`dashboard_metrics_${t}_${r||"all"}`,i=this.getFromCache(n);if(i)return i;try{const s=await rt.getDashboardMetrics(t,r);return this.setCache(n,s),s}catch(s){throw console.error("Error fetching dashboard metrics:",s),new Error(`Failed to fetch dashboard metrics for role: ${t}`)}}static async getRegistryStatistics(){const t="registry_statistics",r=this.getFromCache(t);if(r)return r;try{const n=await D7.getStatistics();return this.setCache(t,n),n}catch(n){throw console.error("Error fetching registry statistics:",n),new Error("Failed to fetch registry statistics")}}static async getRealTimeStatistics(t,r){try{const n=await rt.getStatistics(t,r),i=`role_stats_${t}_${r||"all"}`;return this.setCache(i,n),n}catch(n){throw console.error("Error fetching real-time statistics:",n),new Error(`Failed to fetch real-time statistics for role: ${t}`)}}static async getAllRoleStatistics(){const t=["executor","registrar","distributor","treasurer"],r={};try{const n=t.map(async s=>{try{const l=await this.getRoleStatistics(s);return{role:s,stats:l}}catch(l){return console.error(`Error fetching statistics for role ${s}:`,l),{role:s,stats:null}}});return(await Promise.all(n)).forEach(({role:s,stats:l})=>{r[s]=l}),r}catch(n){throw console.error("Error fetching all role statistics:",n),new Error("Failed to fetch statistics for all roles")}}static async getStatisticsWithFallback(t,r){try{return await this.getRealTimeStatistics(t,r)}catch(n){console.warn("Failed to fetch fresh statistics, trying cache:",n);const i=`role_stats_${t}_${r||"all"}`,s=this.getFromCache(i);if(s)return console.log("Using cached statistics as fallback"),s;throw n}}static clearCache(t,r){if(t){const n=`role_stats_${t}_${r||"all"}`;this.cache.delete(n),console.log(`Cleared cache for role: ${t}`)}else this.cache.clear(),console.log("Cleared all statistics cache")}static getCacheInfo(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}static getFromCache(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>r.expiresIn?(this.cache.delete(t),null):r.data:null}static setCache(t,r){this.cache.size>=this.MAX_CACHE_SIZE&&this.cleanupCache(),this.cache.set(t,{data:r,timestamp:Date.now(),expiresIn:this.CACHE_DURATION})}static cleanupCache(){const t=Date.now(),r=[];for(const[n,i]of this.cache.entries())t-i.timestamp>i.expiresIn&&r.push(n);r.forEach(n=>this.cache.delete(n)),this.cache.size>=this.MAX_CACHE_SIZE&&Array.from(this.cache.entries()).sort((s,l)=>s[1].timestamp-l[1].timestamp).slice(0,this.cache.size-this.MAX_CACHE_SIZE+1).forEach(([s])=>this.cache.delete(s))}}function $D(e,t,r){const[n,i]=w.useState(null),[s,l]=w.useState(!0),[u,d]=w.useState(null),[f,p]=w.useState(null),{enableCache:h=!0,refreshInterval:v=3e4,autoRefresh:b=!1}=r||{},j=w.useCallback(async(S=!1)=>{try{l(!0),d(null);let C;S||!h?C=await ix.getRealTimeStatistics(e,t):C=await ix.getStatisticsWithFallback(e,t),i(C),p(new Date)}catch(C){console.error("Error fetching role statistics:",C),d(C instanceof Error?C.message:"Failed to fetch statistics")}finally{l(!1)}},[e,t,h]);w.useEffect(()=>{j()},[j]),w.useEffect(()=>{if(!b)return;const S=setInterval(()=>{j()},v);return()=>clearInterval(S)},[b,v,j]);const y=w.useCallback(()=>{j(!0)},[j]),g=w.useCallback(()=>{ix.clearCache(e,t)},[e,t]);return{statistics:n,loading:s,error:u,lastUpdated:f,refresh:y,clearCache:g,formatted:n?.formatted||null}}function B2(e,[t,r]){return Math.min(r,Math.max(t,e))}function T1(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var LD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),V7="VisuallyHidden",FD=w.forwardRef((e,t)=>a.jsx(qe.span,{...e,ref:t,style:{...LD,...e.style}}));FD.displayName=V7;var H7=FD,G7=[" ","Enter","ArrowUp","ArrowDown"],K7=[" ","Enter"],fo="Select",[am,im,Y7]=h1(fo),[nc,Spe]=tn(fo,[Y7,xs]),sm=xs(),[X7,ys]=nc(fo),[Q7,Z7]=nc(fo),BD=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:l,defaultValue:u,onValueChange:d,dir:f,name:p,autoComplete:h,disabled:v,required:b,form:j}=e,y=sm(t),[g,S]=w.useState(null),[C,_]=w.useState(null),[O,N]=w.useState(!1),k=zp(f),[A,R]=ka({prop:n,defaultProp:i??!1,onChange:s,caller:fo}),[I,L]=ka({prop:l,defaultProp:u,onChange:d,caller:fo}),U=w.useRef(null),W=g?j||!!g.closest("form"):!0,[H,G]=w.useState(new Set),T=Array.from(H).map(D=>D.props.value).join(";");return a.jsx(Gp,{...y,children:a.jsxs(X7,{required:b,scope:t,trigger:g,onTriggerChange:S,valueNode:C,onValueNodeChange:_,valueNodeHasChildren:O,onValueNodeHasChildrenChange:N,contentId:gr(),value:I,onValueChange:L,open:A,onOpenChange:R,dir:k,triggerPointerDownPosRef:U,disabled:v,children:[a.jsx(am.Provider,{scope:t,children:a.jsx(Q7,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(D=>{G(V=>new Set(V).add(D))},[]),onNativeOptionRemove:w.useCallback(D=>{G(V=>{const B=new Set(V);return B.delete(D),B})},[]),children:r})}),W?a.jsxs(lM,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:h,value:I,onChange:D=>L(D.target.value),disabled:v,form:j,children:[I===void 0?a.jsx("option",{value:""}):null,Array.from(H)]},T):null]})})};BD.displayName=fo;var zD="SelectTrigger",UD=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=sm(r),l=ys(zD,r),u=l.disabled||n,d=dt(t,l.onTriggerChange),f=im(r),p=w.useRef("touch"),[h,v,b]=uM(y=>{const g=f().filter(_=>!_.disabled),S=g.find(_=>_.value===l.value),C=dM(g,y,S);C!==void 0&&l.onValueChange(C.value)}),j=y=>{u||(l.onOpenChange(!0),b()),y&&(l.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(wd,{asChild:!0,...s,children:a.jsx(qe.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":cM(l.value)?"":void 0,...i,ref:d,onClick:Ae(i.onClick,y=>{y.currentTarget.focus(),p.current!=="mouse"&&j(y)}),onPointerDown:Ae(i.onPointerDown,y=>{p.current=y.pointerType;const g=y.target;g.hasPointerCapture(y.pointerId)&&g.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(j(y),y.preventDefault())}),onKeyDown:Ae(i.onKeyDown,y=>{const g=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&v(y.key),!(g&&y.key===" ")&&G7.includes(y.key)&&(j(),y.preventDefault())})})})});UD.displayName=zD;var qD="SelectValue",WD=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:l="",...u}=e,d=ys(qD,r),{onValueNodeHasChildrenChange:f}=d,p=s!==void 0,h=dt(t,d.onValueNodeChange);return Dr(()=>{f(p)},[f,p]),a.jsx(qe.span,{...u,ref:h,style:{pointerEvents:"none"},children:cM(d.value)?a.jsx(a.Fragment,{children:l}):s})});WD.displayName=qD;var J7="SelectIcon",VD=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(qe.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});VD.displayName=J7;var e9="SelectPortal",HD=e=>a.jsx(rc,{asChild:!0,...e});HD.displayName=e9;var ho="SelectContent",GD=w.forwardRef((e,t)=>{const r=ys(ho,e.__scopeSelect),[n,i]=w.useState();if(Dr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?xd.createPortal(a.jsx(KD,{scope:e.__scopeSelect,children:a.jsx(am.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(YD,{...e,ref:t})});GD.displayName=ho;var Qn=10,[KD,bs]=nc(ho),t9="SelectContentImpl",r9=cs("SelectContent.RemoveScroll"),YD=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:v,collisionPadding:b,sticky:j,hideWhenDetached:y,avoidCollisions:g,...S}=e,C=ys(ho,r),[_,O]=w.useState(null),[N,k]=w.useState(null),A=dt(t,Y=>O(Y)),[R,I]=w.useState(null),[L,U]=w.useState(null),W=im(r),[H,G]=w.useState(!1),T=w.useRef(!1);w.useEffect(()=>{if(_)return Qp(_)},[_]),Up();const D=w.useCallback(Y=>{const[ce,...ie]=W().map(te=>te.ref.current),[xe]=ie.slice(-1),Ce=document.activeElement;for(const te of Y)if(te===Ce||(te?.scrollIntoView({block:"nearest"}),te===ce&&N&&(N.scrollTop=0),te===xe&&N&&(N.scrollTop=N.scrollHeight),te?.focus(),document.activeElement!==Ce))return},[W,N]),V=w.useCallback(()=>D([R,_]),[D,R,_]);w.useEffect(()=>{H&&V()},[H,V]);const{onOpenChange:B,triggerPointerDownPosRef:q}=C;w.useEffect(()=>{if(_){let Y={x:0,y:0};const ce=xe=>{Y={x:Math.abs(Math.round(xe.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(xe.pageY)-(q.current?.y??0))}},ie=xe=>{Y.x<=10&&Y.y<=10?xe.preventDefault():_.contains(xe.target)||B(!1),document.removeEventListener("pointermove",ce),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ie,{capture:!0})}}},[_,B,q]),w.useEffect(()=>{const Y=()=>B(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[B]);const[K,z]=uM(Y=>{const ce=W().filter(Ce=>!Ce.disabled),ie=ce.find(Ce=>Ce.ref.current===document.activeElement),xe=dM(ce,Y,ie);xe&&setTimeout(()=>xe.ref.current.focus())}),F=w.useCallback((Y,ce,ie)=>{const xe=!T.current&&!ie;(C.value!==void 0&&C.value===ce||xe)&&(I(Y),xe&&(T.current=!0))},[C.value]),$=w.useCallback(()=>_?.focus(),[_]),Q=w.useCallback((Y,ce,ie)=>{const xe=!T.current&&!ie;(C.value!==void 0&&C.value===ce||xe)&&U(Y)},[C.value]),J=n==="popper"?Lw:XD,le=J===Lw?{side:u,sideOffset:d,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:v,collisionPadding:b,sticky:j,hideWhenDetached:y,avoidCollisions:g}:{};return a.jsx(KD,{scope:r,content:_,viewport:N,onViewportChange:k,itemRefCallback:F,selectedItem:R,onItemLeave:$,itemTextRefCallback:Q,focusSelectedItem:V,selectedItemText:L,position:n,isPositioned:H,searchRef:K,children:a.jsx(Nd,{as:r9,allowPinchZoom:!0,children:a.jsx(yd,{asChild:!0,trapped:C.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:Ae(i,Y=>{C.trigger?.focus({preventScroll:!0}),Y.preventDefault()}),children:a.jsx(Jl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:a.jsx(J,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:Y=>Y.preventDefault(),...S,...le,onPlaced:()=>G(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ae(S.onKeyDown,Y=>{const ce=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!ce&&Y.key.length===1&&z(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let xe=W().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const Ce=Y.target,te=xe.indexOf(Ce);xe=xe.slice(te+1)}setTimeout(()=>D(xe)),Y.preventDefault()}})})})})})})});YD.displayName=t9;var n9="SelectItemAlignedPosition",XD=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=ys(ho,r),l=bs(ho,r),[u,d]=w.useState(null),[f,p]=w.useState(null),h=dt(t,A=>p(A)),v=im(r),b=w.useRef(!1),j=w.useRef(!0),{viewport:y,selectedItem:g,selectedItemText:S,focusSelectedItem:C}=l,_=w.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&f&&y&&g&&S){const A=s.trigger.getBoundingClientRect(),R=f.getBoundingClientRect(),I=s.valueNode.getBoundingClientRect(),L=S.getBoundingClientRect();if(s.dir!=="rtl"){const Ce=L.left-R.left,te=I.left-Ce,ae=A.left-te,de=A.width+ae,Me=Math.max(de,R.width),Ge=window.innerWidth-Qn,tt=B2(te,[Qn,Math.max(Qn,Ge-Me)]);u.style.minWidth=de+"px",u.style.left=tt+"px"}else{const Ce=R.right-L.right,te=window.innerWidth-I.right-Ce,ae=window.innerWidth-A.right-te,de=A.width+ae,Me=Math.max(de,R.width),Ge=window.innerWidth-Qn,tt=B2(te,[Qn,Math.max(Qn,Ge-Me)]);u.style.minWidth=de+"px",u.style.right=tt+"px"}const U=v(),W=window.innerHeight-Qn*2,H=y.scrollHeight,G=window.getComputedStyle(f),T=parseInt(G.borderTopWidth,10),D=parseInt(G.paddingTop,10),V=parseInt(G.borderBottomWidth,10),B=parseInt(G.paddingBottom,10),q=T+D+H+B+V,K=Math.min(g.offsetHeight*5,q),z=window.getComputedStyle(y),F=parseInt(z.paddingTop,10),$=parseInt(z.paddingBottom,10),Q=A.top+A.height/2-Qn,J=W-Q,le=g.offsetHeight/2,Y=g.offsetTop+le,ce=T+D+Y,ie=q-ce;if(ce<=Q){const Ce=U.length>0&&g===U[U.length-1].ref.current;u.style.bottom="0px";const te=f.clientHeight-y.offsetTop-y.offsetHeight,ae=Math.max(J,le+(Ce?$:0)+te+V),de=ce+ae;u.style.height=de+"px"}else{const Ce=U.length>0&&g===U[0].ref.current;u.style.top="0px";const ae=Math.max(Q,T+y.offsetTop+(Ce?F:0)+le)+ie;u.style.height=ae+"px",y.scrollTop=ce-Q+y.offsetTop}u.style.margin=`${Qn}px 0`,u.style.minHeight=K+"px",u.style.maxHeight=W+"px",n?.(),requestAnimationFrame(()=>b.current=!0)}},[v,s.trigger,s.valueNode,u,f,y,g,S,s.dir,n]);Dr(()=>_(),[_]);const[O,N]=w.useState();Dr(()=>{f&&N(window.getComputedStyle(f).zIndex)},[f]);const k=w.useCallback(A=>{A&&j.current===!0&&(_(),C?.(),j.current=!1)},[_,C]);return a.jsx(i9,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:k,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:a.jsx(qe.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});XD.displayName=n9;var a9="SelectPopperPosition",Lw=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Qn,...s}=e,l=sm(r);return a.jsx(Kp,{...l,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lw.displayName=a9;var[i9,I1]=nc(ho,{}),Fw="SelectViewport",QD=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=bs(Fw,r),l=I1(Fw,r),u=dt(t,s.onViewportChange),d=w.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(am.Slot,{scope:r,children:a.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ae(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:v}=l;if(v?.current&&h){const b=Math.abs(d.current-p.scrollTop);if(b>0){const j=window.innerHeight-Qn*2,y=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),S=Math.max(y,g);if(S<j){const C=S+b,_=Math.min(j,C),O=C-_;h.style.height=_+"px",h.style.bottom==="0px"&&(p.scrollTop=O>0?O:0,h.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});QD.displayName=Fw;var ZD="SelectGroup",[s9,o9]=nc(ZD),l9=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=gr();return a.jsx(s9,{scope:r,id:i,children:a.jsx(qe.div,{role:"group","aria-labelledby":i,...n,ref:t})})});l9.displayName=ZD;var JD="SelectLabel",c9=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=o9(JD,r);return a.jsx(qe.div,{id:i.id,...n,ref:t})});c9.displayName=JD;var zh="SelectItem",[u9,eM]=nc(zh),tM=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...l}=e,u=ys(zh,r),d=bs(zh,r),f=u.value===n,[p,h]=w.useState(s??""),[v,b]=w.useState(!1),j=dt(t,C=>d.itemRefCallback?.(C,n,i)),y=gr(),g=w.useRef("touch"),S=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(u9,{scope:r,value:n,disabled:i,textId:y,isSelected:f,onItemTextChange:w.useCallback(C=>{h(_=>_||(C?.textContent??"").trim())},[]),children:a.jsx(am.ItemSlot,{scope:r,value:n,disabled:i,textValue:p,children:a.jsx(qe.div,{role:"option","aria-labelledby":y,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:j,onFocus:Ae(l.onFocus,()=>b(!0)),onBlur:Ae(l.onBlur,()=>b(!1)),onClick:Ae(l.onClick,()=>{g.current!=="mouse"&&S()}),onPointerUp:Ae(l.onPointerUp,()=>{g.current==="mouse"&&S()}),onPointerDown:Ae(l.onPointerDown,C=>{g.current=C.pointerType}),onPointerMove:Ae(l.onPointerMove,C=>{g.current=C.pointerType,i?d.onItemLeave?.():g.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(l.onPointerLeave,C=>{C.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Ae(l.onKeyDown,C=>{d.searchRef?.current!==""&&C.key===" "||(K7.includes(C.key)&&S(),C.key===" "&&C.preventDefault())})})})})});tM.displayName=zh;var mu="SelectItemText",rM=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,l=ys(mu,r),u=bs(mu,r),d=eM(mu,r),f=Z7(mu,r),[p,h]=w.useState(null),v=dt(t,S=>h(S),d.onItemTextChange,S=>u.itemTextRefCallback?.(S,d.value,d.disabled)),b=p?.textContent,j=w.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:y,onNativeOptionRemove:g}=f;return Dr(()=>(y(j),()=>g(j)),[y,g,j]),a.jsxs(a.Fragment,{children:[a.jsx(qe.span,{id:d.textId,...s,ref:v}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?xd.createPortal(s.children,l.valueNode):null]})});rM.displayName=mu;var nM="SelectItemIndicator",aM=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return eM(nM,r).isSelected?a.jsx(qe.span,{"aria-hidden":!0,...n,ref:t}):null});aM.displayName=nM;var Bw="SelectScrollUpButton",iM=w.forwardRef((e,t)=>{const r=bs(Bw,e.__scopeSelect),n=I1(Bw,e.__scopeSelect),[i,s]=w.useState(!1),l=dt(t,n.onScrollButtonChange);return Dr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;s(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(oM,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});iM.displayName=Bw;var zw="SelectScrollDownButton",sM=w.forwardRef((e,t)=>{const r=bs(zw,e.__scopeSelect),n=I1(zw,e.__scopeSelect),[i,s]=w.useState(!1),l=dt(t,n.onScrollButtonChange);return Dr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<f;s(p)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(oM,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});sM.displayName=zw;var oM=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=bs("SelectScrollButton",r),l=w.useRef(null),u=im(r),d=w.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return w.useEffect(()=>()=>d(),[d]),Dr(()=>{u().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),a.jsx(qe.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ae(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Ae(i.onPointerMove,()=>{s.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Ae(i.onPointerLeave,()=>{d()})})}),d9="SelectSeparator",f9=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(qe.div,{"aria-hidden":!0,...n,ref:t})});f9.displayName=d9;var Uw="SelectArrow",h9=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=sm(r),s=ys(Uw,r),l=bs(Uw,r);return s.open&&l.position==="popper"?a.jsx(Yp,{...i,...n,ref:t}):null});h9.displayName=Uw;var p9="SelectBubbleInput",lM=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=w.useRef(null),s=dt(n,i),l=T1(t);return w.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&p){const h=new Event("change",{bubbles:!0});p.call(u,t),u.dispatchEvent(h)}},[l,t]),a.jsx(qe.select,{...r,style:{...LD,...r.style},ref:s,defaultValue:t})});lM.displayName=p9;function cM(e){return e===""||e===void 0}function uM(e){const t=Pa(e),r=w.useRef(""),n=w.useRef(0),i=w.useCallback(l=>{const u=r.current+l;t(u),(function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),s=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function dM(e,t,r){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let l=m9(e,Math.max(s,0));i.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function m9(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var v9=BD,g9=UD,x9=WD,y9=VD,b9=HD,w9=GD,j9=QD,N9=tM,S9=rM,C9=aM,_9=iM,E9=sM;function ot({...e}){return a.jsx(v9,{"data-slot":"select",...e})}function lt({...e}){return a.jsx(x9,{"data-slot":"select-value",...e})}function ct({className:e,size:t="default",children:r,...n}){return a.jsxs(g9,{"data-slot":"select-trigger","data-size":t,className:Ie("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,a.jsx(y9,{asChild:!0,children:a.jsx(ma,{className:"size-4 opacity-50"})})]})}function ut({className:e,children:t,position:r="popper",...n}){return a.jsx(b9,{children:a.jsxs(w9,{"data-slot":"select-content",className:Ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(k9,{}),a.jsx(j9,{className:Ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(P9,{})]})})}function we({className:e,children:t,...r}){return a.jsxs(N9,{"data-slot":"select-item",className:Ie("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(C9,{children:a.jsx(Ou,{className:"size-4"})})}),a.jsx(S9,{children:t})]})}function k9({className:e,...t}){return a.jsx(_9,{"data-slot":"select-scroll-up-button",className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Yq,{className:"size-4"})})}function P9({className:e,...t}){return a.jsx(E9,{"data-slot":"select-scroll-down-button",className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(ma,{className:"size-4"})})}function pe({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:Ie("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function ke({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:Ie("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Pe({className:e,...t}){return a.jsx("h4",{"data-slot":"card-title",className:Ie("leading-none",e),...t})}function xa({className:e,...t}){return a.jsx("p",{"data-slot":"card-description",className:Ie("text-muted-foreground",e),...t})}function me({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:Ie("px-6 [&:last-child]:pb-6",e),...t})}const ph=[{id:"fb262c47-59c5-4298-835a-728e88dcb3fe",name:"Анна Сидорова",email:"registrar@example.com",roles:["REGISTRAR"]},{id:"5b2a16b1-f7da-4fb6-aa7c-45766db8b25f",name:"Мария Сидорова",email:"registrar@test.com",roles:["REGISTRAR"]}],O9=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(null);w.useEffect(()=>{const l=localStorage.getItem("dev_user_id");if(l){const u=ph.find(d=>d.id===l);u&&(n(u),t(l))}},[]);const i=l=>{const u=ph.find(d=>d.id===l);if(u){localStorage.setItem("dev_user_id",l);const d=`dev_token_${l}`;localStorage.setItem("test_token",d),n(u),t(l),fe.success(`Переключен на пользователя: ${u.name}`),setTimeout(()=>{window.location.reload()},1e3)}},s=()=>{localStorage.removeItem("dev_user_id"),localStorage.removeItem("test_token"),n(null),t(""),fe.info("Выход из системы"),setTimeout(()=>{window.location.reload()},1e3)};return a.jsxs(pe,{className:"w-full max-w-md",children:[a.jsx(ke,{className:"pb-3",children:a.jsxs(Pe,{className:"flex items-center gap-2 text-sm",children:[a.jsx(uo,{className:"w-4 h-4"}),"Переключение пользователя (DEV)"]})}),a.jsx(me,{className:"space-y-4",children:r?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded-lg",children:[a.jsx(hs,{className:"w-4 h-4 text-green-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:r.name}),a.jsx("p",{className:"text-xs text-gray-600",children:r.email})]}),a.jsx(Ne,{variant:"secondary",className:"text-xs",children:r.roles.join(", ")})]}),a.jsxs(ot,{value:e,onValueChange:i,children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите пользователя"})}),a.jsx(ut,{children:ph.map(l=>a.jsx(we,{value:l.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:l.name}),a.jsx(Ne,{variant:"outline",className:"text-xs",children:l.roles.join(", ")})]})},l.id))})]}),a.jsx(ne,{variant:"outline",size:"sm",onClick:s,className:"w-full",children:"Выйти"})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Выберите пользователя для входа в систему"}),a.jsxs(ot,{value:e,onValueChange:i,children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите пользователя"})}),a.jsx(ut,{children:ph.map(l=>a.jsx(we,{value:l.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:l.name}),a.jsx(Ne,{variant:"outline",className:"text-xs",children:l.roles.join(", ")})]})},l.id))})]})]})})]})},fM=[{id:"dashboard",label:"Dashboard",icon:a.jsx(NW,{className:"h-4 w-4"}),roles:["executor","registrar","distributor","treasurer","admin"]},{id:"requests",label:"Заявки",icon:a.jsx(Nt,{className:"h-4 w-4"}),roles:["executor","registrar","distributor","treasurer"],badge:"5"},{id:"sub-registrar-assignments",label:"Мои назначения",icon:a.jsx(Nt,{className:"h-4 w-4"}),roles:["sub_registrar"]},{id:"distributor-workflow",label:"Заявки для обработки",icon:a.jsx(Nt,{className:"h-4 w-4"}),roles:["distributor"]},{id:"export-contracts",label:"Экспортные контракты",icon:a.jsx(Ow,{className:"h-4 w-4"}),roles:["distributor"]},{id:"registers",label:"Реестры",icon:a.jsx(Ow,{className:"h-4 w-4"}),roles:["treasurer"]},{id:"unallocated",label:"Реестр нераспределенных расходов",icon:a.jsx(Aw,{className:"h-4 w-4"}),roles:["distributor"]},{id:"dictionaries",label:"Справочники",icon:a.jsx(Pu,{className:"h-4 w-4"}),roles:["admin"]},{id:"registrar-assignments",label:"Назначения регистраторов",icon:a.jsx(uo,{className:"h-4 w-4"}),roles:["admin"]},{id:"distributor-routing",label:"Маршрутизация распорядителей",icon:a.jsx(uo,{className:"h-4 w-4"}),roles:["admin"]},{id:"admin",label:"Админка",icon:a.jsx(kd,{className:"h-4 w-4"}),roles:["admin"]}];function A9({currentPage:e,onPageChange:t,currentRole:r,isCreatingRequest:n=!1,paymentRequests:i=[],onFilterChange:s}){const{statistics:l,loading:u}=$D(r,"3394830b-1b62-4db4-a6e4-fdf76b5033f5",{enableCache:!0,autoRefresh:!0,refreshInterval:3e4}),d=fM.filter(j=>j.roles.includes(r)).map(j=>{let y=j.badge;return j.id==="requests"&&l&&(r==="executor"?y=(l.draftCount+l.submittedCount+l.classifiedCount+l.approvedCount+l.inRegistryCount).toString():r==="registrar"?y=(l.submittedCount+l.classifiedCount).toString():r==="distributor"?y=l.approvedCount.toString():r==="treasurer"&&(y=l.inRegistryCount.toString())),j.id==="registers"&&l&&(y=l.inRegistryCount.toString()),{...j,badge:y}}),p=u||!l?{draft:0,underReview:0,returnedForRevision:0,paid:0,declined:0,inWork:0,registered:0,overdue:0}:r==="executor"?{draft:l.draftCount||0,underReview:(l.submittedCount||0)+(l.classifiedCount||0)+(l.approvedCount||0)+(l.inRegistryCount||0),returnedForRevision:l.rejectedCount||0,paid:0,declined:l.rejectedCount||0}:r==="registrar"?{inWork:l.submittedCount||0,registered:l.classifiedCount||0,overdue:l.overdue||0,returnedForRevision:l.rejectedCount||0,declined:l.rejectedCount||0}:r==="distributor"?{pendingApproval:l.approvedCount||0,approved:l.approvedCount||0,rejected:l.rejectedCount||0}:r==="treasurer"?{inRegistry:l.inRegistryCount||0,totalAmount:(l.totalRequests||0)*1e3,overdue:l.overdue||0}:{},h=j=>{if(n){fe.warning("Завершите создание заявки или сохраните черновик перед переходом",{duration:4e3});return}t(j)},v=()=>{if(n){fe.warning("Завершите создание заявки или сохраните черновик перед переходом",{duration:4e3});return}s&&s("drafts"),t("requests")},b=j=>{if(n){fe.warning("Завершите создание заявки или сохраните черновик перед переходом",{duration:4e3});return}s&&s(j),t("requests")};return a.jsxs("nav",{className:"w-full md:w-64 border-r bg-white p-4 overflow-y-auto",children:[a.jsx("div",{className:"space-y-2",children:d.map(j=>a.jsxs(ne,{variant:e===j.id?"secondary":"ghost",className:Ie("w-full justify-start gap-3",j.id==="unallocated"?"h-auto py-2 min-h-[2.5rem]":"h-10",e===j.id&&"bg-accent",n&&"opacity-50 cursor-not-allowed"),onClick:()=>h(j.id),disabled:n,children:[j.icon,a.jsx("span",{className:j.id==="unallocated"?"whitespace-normal break-words":"",children:j.label}),j.badge&&a.jsx("span",{className:"ml-auto bg-primary text-primary-foreground rounded-full px-2 py-0.5 text-xs",children:j.badge})]},j.id))}),a.jsxs("div",{className:Ie("mt-8 p-3 bg-muted rounded-lg",n&&"opacity-50"),children:[a.jsx("h4",{className:"font-medium mb-2",children:"Быстрая статистика"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[r==="executor"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:v,children:[a.jsx(er,{className:"h-3 w-3 text-gray-500"}),a.jsxs("span",{children:[p.draft||0," черновик"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(er,{className:"h-3 w-3 text-orange-500"}),a.jsxs("span",{children:[p.underReview||0," на рассмотрении"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jt,{className:"h-3 w-3 text-red-500"}),a.jsxs("span",{children:[p.returnedForRevision||0," возвращен на доработку"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-3 w-3 text-green-500"}),a.jsxs("span",{children:[p.paid||0," оплачен"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jt,{className:"h-3 w-3 text-red-600"}),a.jsxs("span",{children:[p.declined||0," отклонен"]})]})]}),r==="registrar"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:()=>b("newRequests"),children:[a.jsx(er,{className:"h-3 w-3 text-orange-500"}),a.jsxs("span",{children:[p.inWork||0," в работе"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-3 w-3 text-green-500"}),a.jsxs("span",{children:[p.registered||0," зарегистрировано"]})]}),a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:()=>b("overdue"),children:[a.jsx(jt,{className:"h-3 w-3 text-red-500"}),a.jsxs("span",{children:[p.overdue||0," просрочено"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jt,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{children:[p.returnedForRevision||0," возвращено на доработку"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Aw,{className:"h-3 w-3 text-red-600"}),a.jsxs("span",{children:[p.declined||0," отклонено"]})]})]}),r==="distributor"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(er,{className:"h-3 w-3 text-orange-500"}),a.jsx("span",{children:"1 в работе"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jt,{className:"h-3 w-3 text-yellow-500"}),a.jsx("span",{children:"0 отправлен на доработку"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-3 w-3 text-blue-500"}),a.jsx("span",{children:"15 утвержден на оплату"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-3 w-3 text-green-500"}),a.jsx("span",{children:"25 оплачен"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Aw,{className:"h-3 w-3 text-red-600"}),a.jsx("span",{children:"0 отклонен"})]})]}),r==="treasurer"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(er,{className:"h-3 w-3 text-orange-500"}),a.jsx("span",{children:"2 в работе"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jt,{className:"h-3 w-3 text-yellow-500"}),a.jsx("span",{children:"1 отправлен на доработку"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-3 w-3 text-blue-500"}),a.jsx("span",{children:"5 включен в реестр на оплату"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-3 w-3 text-green-500"}),a.jsx("span",{children:"25 оплачен"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jt,{className:"h-3 w-3 text-red-500"}),a.jsx("span",{children:"0 отклонен"})]})]}),r==="admin"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(uo,{className:"h-3 w-3 text-blue-500"}),a.jsx("span",{children:"4 активных пользователя"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pu,{className:"h-3 w-3 text-green-500"}),a.jsx("span",{children:"12 справочников"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kd,{className:"h-3 w-3 text-gray-500"}),a.jsx("span",{children:"3 маршрута настроено"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-3 w-3 text-green-500"}),a.jsx("span",{children:"Система работает"})]})]})]})]}),a.jsx("div",{className:"mt-8",children:a.jsx(O9,{})})]})}const T9={currentUser:null,currentRole:"executor",currentPage:"dashboard",showCreateForm:!1,selectedRequestId:null,viewMode:"list",dashboardFilter:null,isLoading:!0,paymentRequests:[]};function I9(e,t){switch(t.type){case"SET_CURRENT_USER":return{...e,currentUser:t.payload};case"SET_CURRENT_ROLE":return{...e,currentRole:t.payload};case"SET_CURRENT_PAGE":return{...e,currentPage:t.payload};case"SET_SHOW_CREATE_FORM":return{...e,showCreateForm:t.payload};case"SET_SELECTED_REQUEST_ID":return{...e,selectedRequestId:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"SET_DASHBOARD_FILTER":return{...e,dashboardFilter:t.payload};case"SET_IS_LOADING":return{...e,isLoading:t.payload};case"SET_PAYMENT_REQUESTS":return{...e,paymentRequests:t.payload};case"UPDATE_PAYMENT_REQUEST":return{...e,paymentRequests:e.paymentRequests.map(r=>r.id===t.payload.id?t.payload:r)};case"ADD_PAYMENT_REQUEST":return{...e,paymentRequests:[t.payload,...e.paymentRequests]};case"RESET_FORM_STATE":return{...e,showCreateForm:!1,selectedRequestId:null,viewMode:"list"};case"RESET_ROLE_STATE":return{...e,currentPage:"dashboard",showCreateForm:!1,viewMode:"list",selectedRequestId:null,dashboardFilter:null};default:return e}}const hM=w.createContext(null);function R9({children:e}){const[t,r]=w.useReducer(I9,T9);return a.jsx(hM.Provider,{value:{state:t,dispatch:r},children:e})}function ac(){const e=w.useContext(hM);if(!e)throw new Error("useAppState must be used within an AppStateProvider");return e}const ge={setCurrentUser:e=>({type:"SET_CURRENT_USER",payload:e}),setCurrentRole:e=>({type:"SET_CURRENT_ROLE",payload:e}),setCurrentPage:e=>({type:"SET_CURRENT_PAGE",payload:e}),setShowCreateForm:e=>({type:"SET_SHOW_CREATE_FORM",payload:e}),setSelectedRequestId:e=>({type:"SET_SELECTED_REQUEST_ID",payload:e}),setViewMode:e=>({type:"SET_VIEW_MODE",payload:e}),setDashboardFilter:e=>({type:"SET_DASHBOARD_FILTER",payload:e}),setIsLoading:e=>({type:"SET_IS_LOADING",payload:e}),setPaymentRequests:e=>({type:"SET_PAYMENT_REQUESTS",payload:e}),updatePaymentRequest:e=>({type:"UPDATE_PAYMENT_REQUEST",payload:e}),addPaymentRequest:e=>({type:"ADD_PAYMENT_REQUEST",payload:e}),resetFormState:()=>({type:"RESET_FORM_STATE"}),resetRoleState:()=>({type:"RESET_ROLE_STATE"})};let Uh=!0;const D9=e=>{Uh=e,console.log(`API mode switched to: ${e?"MOCK":"API"}`),localStorage.setItem("api_mode",e?"mock":"api")},M9=()=>({useMockData:Uh,mode:Uh?"mock":"api"}),$9=()=>{const e=localStorage.getItem("api_mode");e&&(Uh=e==="mock")};$9();function R1(){const{state:e,dispatch:t}=ac(),r=w.useCallback(async()=>{try{console.log("Starting to load initial data..."),t(ge.setIsLoading(!0)),console.log("Loading current user...");const g=await MD.getCurrentUser();console.log("User loaded:",g),t(ge.setCurrentUser(g)),t(ge.setCurrentRole(g.currentRole)),console.log("Loading payment requests for role:",g.currentRole);const S=await rt.getAll({role:g.currentRole});console.log("Payment requests loaded:",S.length),t(ge.setPaymentRequests(S)),console.log("Initial data loading completed successfully")}catch(g){console.error("Failed to load initial data:",g),fe.error(`Ошибка загрузки данных: ${g.message||g}`)}finally{t(ge.setIsLoading(!1))}},[t]),n=w.useCallback(async g=>{try{console.log("Loading requests for role change:",g);const S=await rt.getAll({role:g});console.log("Requests loaded for role:",g,S.length),t(ge.setPaymentRequests(S))}catch(S){console.error("Failed to load requests for role:",g,S),fe.error(`Ошибка загрузки заявок для роли ${L9(g)}: ${S.message||S}`)}},[t]),i=w.useCallback(async g=>{try{t(ge.setIsLoading(!0));const S=e.currentUser?.id||"dev-user-123";if(e.selectedRequestId&&g.id){const C=await rt.update(e.selectedRequestId,g);t(ge.updatePaymentRequest(C)),g.status==="draft"?fe.success(`Черновик заявки ${C.requestNumber} успешно обновлен`):fe.success(`Заявка ${C.requestNumber} успешно обновлена и отправлена на регистрацию`)}else{const C=await rt.create(g);t(ge.addPaymentRequest(C)),g.status==="draft"?fe.success(`Черновик заявки ${C.requestNumber} успешно сохранен`):fe.success(`Заявка ${C.requestNumber} успешно создана и отправлена на регистрацию`)}t(ge.resetFormState()),t(ge.setCurrentPage("requests"))}catch(S){console.error("Failed to submit request:",S),fe.error(g.status==="draft"?"Ошибка сохранения черновика":"Ошибка создания заявки")}finally{t(ge.setIsLoading(!1))}},[e.currentUser,e.selectedRequestId,t]),s=w.useCallback(async g=>{try{t(ge.setIsLoading(!0));const S=e.currentUser?.id||"dev-user-123";if(e.selectedRequestId&&g.id){const C=await rt.update(e.selectedRequestId,{...g,status:"draft"});t(ge.updatePaymentRequest(C)),fe.success(`Черновик заявки ${C.requestNumber} успешно обновлен`)}else{const C=await rt.create({...g,status:"draft"});t(ge.addPaymentRequest(C)),fe.success(`Черновик заявки ${C.requestNumber} успешно сохранен`)}t(ge.resetFormState()),t(ge.setCurrentPage("requests"))}catch(S){console.error("Failed to save draft:",S),fe.error("Ошибка сохранения черновика")}finally{t(ge.setIsLoading(!1))}},[e.currentUser,e.selectedRequestId,t]),l=w.useCallback(async(g,S)=>{if(e.selectedRequestId)try{t(ge.setIsLoading(!0));const C=await rt.classify(e.selectedRequestId,g,S);t(ge.updatePaymentRequest(C)),t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null)),t(ge.setCurrentPage("dashboard")),fe.success("Заявка классифицирована и отправлена распорядителю")}catch(C){console.error("Failed to classify request:",C),fe.error("Ошибка классификации заявки")}finally{t(ge.setIsLoading(!1))}},[e.selectedRequestId,t]),u=w.useCallback(async(g,S)=>{if(e.selectedRequestId)try{t(ge.setIsLoading(!0));const C=await rt.classify(e.selectedRequestId,g,S);t(ge.updatePaymentRequest(C));const _=await rt.sendToDistributor(e.selectedRequestId,g,S);t(ge.updatePaymentRequest(_)),t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null)),t(ge.setCurrentPage("dashboard")),fe.success("Заявка классифицирована и отправлена распорядителю для проверки контрактов и нормативов")}catch(C){console.error("Failed to classify and send request to distributor:",C),fe.error("Ошибка отправки заявки распорядителю")}finally{t(ge.setIsLoading(!1))}},[e.selectedRequestId,t]),d=w.useCallback(async g=>{if(e.selectedRequestId)try{t(ge.setIsLoading(!0));const S=await rt.returnRequest(e.selectedRequestId,g);t(ge.updatePaymentRequest(S)),t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null)),t(ge.setCurrentPage("dashboard")),fe.success("Заявка возвращена")}catch(S){console.error("Failed to return request:",S),fe.error("Ошибка возврата заявки")}finally{t(ge.setIsLoading(!1))}},[e.selectedRequestId,t]),f=w.useCallback(async(g,S,C)=>{if(e.selectedRequestId)try{t(ge.setIsLoading(!0));const _=await rt.approve(e.selectedRequestId,g,S,C);t(ge.updatePaymentRequest(_)),t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null)),fe.success("Заявка утверждена и отправлена казначею")}catch(_){console.error("Failed to approve request:",_),fe.error("Ошибка утверждения заявки")}finally{t(ge.setIsLoading(!1))}},[e.selectedRequestId,t]),p=w.useCallback(async(g,S,C)=>{if(e.selectedRequestId)try{t(ge.setIsLoading(!0));const _=await rt.updateStatus(e.selectedRequestId,"approved-on-behalf",{paymentAllocations:g,priority:S,executionComment:C});t(ge.updatePaymentRequest(_)),t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null)),fe.success("Заявка согласована по поручению руководства и отправлена казначею")}catch(_){console.error("Failed to approve request on behalf:",_),fe.error("Ошибка согласования заявки по поручению")}finally{t(ge.setIsLoading(!1))}},[e.selectedRequestId,t]),h=w.useCallback(async g=>{if(e.selectedRequestId)try{t(ge.setIsLoading(!0));const S=await rt.updateStatus(e.selectedRequestId,"declined",{executionComment:g});t(ge.updatePaymentRequest(S)),t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null)),fe.success("Заявка отклонена")}catch(S){console.error("Failed to decline request:",S),fe.error("Ошибка отклонения заявки")}finally{t(ge.setIsLoading(!1))}},[e.selectedRequestId,t]),v=w.useCallback(async(g,S)=>{if(e.selectedRequestId)try{t(ge.setIsLoading(!0));const C=await rt.updateStatus(e.selectedRequestId,g,S);t(ge.updatePaymentRequest(C)),t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null)),fe.success(F9(g))}catch(C){console.error("Failed to update request status:",C),fe.error("Ошибка обновления статуса заявки")}finally{t(ge.setIsLoading(!1))}},[e.selectedRequestId,t]),b=w.useCallback(async(g,S,C)=>{if(e.selectedRequestId)try{t(ge.setIsLoading(!0));const _=await rt.distributorAction(e.selectedRequestId,"approve",C,g,S);t(ge.updatePaymentRequest(_)),t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null)),fe.success("Заявка утверждена распорядителем и отправлена казначею")}catch(_){console.error("Failed to approve request as distributor:",_),fe.error("Ошибка утверждения заявки распорядителем")}finally{t(ge.setIsLoading(!1))}},[e.selectedRequestId,t]),j=w.useCallback(async g=>{if(e.selectedRequestId)try{t(ge.setIsLoading(!0));const S=await rt.distributorAction(e.selectedRequestId,"decline",g);t(ge.updatePaymentRequest(S)),t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null)),fe.success("Заявка отклонена распорядителем")}catch(S){console.error("Failed to decline request as distributor:",S),fe.error("Ошибка отклонения заявки распорядителем")}finally{t(ge.setIsLoading(!1))}},[e.selectedRequestId,t]),y=w.useCallback(async g=>{if(e.selectedRequestId)try{t(ge.setIsLoading(!0));const S=await rt.distributorAction(e.selectedRequestId,"return",g);t(ge.updatePaymentRequest(S)),t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null)),fe.success("Заявка возвращена распорядителем регистратору")}catch(S){console.error("Failed to return request as distributor:",S),fe.error("Ошибка возврата заявки регистратору")}finally{t(ge.setIsLoading(!1))}},[e.selectedRequestId,t]);return{loadInitialData:r,loadRequestsForRole:n,submitRequest:i,saveDraft:s,classifyRequest:l,classifyRequestWithItems:u,returnRequest:d,approveRequest:f,approveOnBehalfRequest:p,declineRequest:h,treasurerUpdateStatus:v,distributorApprove:b,distributorDecline:j,distributorReturn:y}}function L9(e){return{executor:"Исполнитель",registrar:"Регистратор",distributor:"Распорядитель",treasurer:"Казначей",admin:"Администратор"}[e]}function F9(e){switch(e){case"in-register":return"Платеж включен в реестр на оплату";case"approved-for-payment":return"Платеж утвержден к оплате";case"paid-full":return"Платеж отмечен как оплаченный полностью";case"paid-partial":return"Платеж отмечен как частично оплаченный";case"declined":return"Платеж отклонен";case"cancelled":return"Платеж аннулирован";default:return"Статус платежа обновлен"}}function B9(){const{state:e,dispatch:t}=ac(),{loadRequestsForRole:r}=R1(),n=w.useCallback(async s=>{t(ge.setCurrentRole(s)),t(ge.resetRoleState()),fe.success(`Переключились на роль: ${i(s)}`),await r(s)},[t,r]),i=s=>({executor:"Исполнитель",registrar:"Регистратор",distributor:"Распорядитель",treasurer:"Казначей",admin:"Администратор"})[s];return{handleRoleChange:n,getRoleLabel:i}}function z9(){const{state:e,dispatch:t}=ac(),r=w.useCallback(()=>{e.currentRole==="executor"&&t(ge.setShowCreateForm(!0))},[e.currentRole,t]),n=w.useCallback(s=>{t(ge.setSelectedRequestId(s));const l=e.paymentRequests.find(u=>u.id===s);e.currentRole==="executor"?(t(ge.setCurrentPage("requests")),l&&l.status==="draft"?t(ge.setShowCreateForm(!0)):t(ge.setViewMode("view"))):e.currentRole==="registrar"?(t(ge.setCurrentPage("requests")),l&&l.status==="submitted"?t(ge.setViewMode("classify-items")):t(ge.setViewMode("view"))):e.currentRole==="distributor"?(t(ge.setCurrentPage("requests")),l&&l.status==="classified"?t(ge.setViewMode("approve")):t(ge.setViewMode("view"))):e.currentRole==="treasurer"&&(l&&["approved","in-register","approved-for-payment"].includes(l.status)?(t(ge.setCurrentPage("requests")),t(ge.setViewMode("treasurer-approve"))):fe.info("Заявка не требует обработки казначеем"))},[e.currentRole,e.paymentRequests,t]),i=w.useCallback(s=>{t(ge.updatePaymentRequest(s))},[t]);return{handleCreateRequest:r,handleViewRequest:n,handleRequestUpdate:i}}var[om,Cpe]=tn("Tooltip",[xs]),lm=xs(),pM="TooltipProvider",U9=700,qw="tooltip.open",[q9,D1]=om(pM),mM=e=>{const{__scopeTooltip:t,delayDuration:r=U9,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=e,l=w.useRef(!0),u=w.useRef(!1),d=w.useRef(0);return w.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),a.jsx(q9,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:w.useCallback(f=>{u.current=f},[]),disableHoverableContent:i,children:s})};mM.displayName=pM;var Au="Tooltip",[W9,Od]=om(Au),vM=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:l,delayDuration:u}=e,d=D1(Au,e.__scopeTooltip),f=lm(t),[p,h]=w.useState(null),v=gr(),b=w.useRef(0),j=l??d.disableHoverableContent,y=u??d.delayDuration,g=w.useRef(!1),[S,C]=ka({prop:n,defaultProp:i??!1,onChange:A=>{A?(d.onOpen(),document.dispatchEvent(new CustomEvent(qw))):d.onClose(),s?.(A)},caller:Au}),_=w.useMemo(()=>S?g.current?"delayed-open":"instant-open":"closed",[S]),O=w.useCallback(()=>{window.clearTimeout(b.current),b.current=0,g.current=!1,C(!0)},[C]),N=w.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C(!1)},[C]),k=w.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{g.current=!0,C(!0),b.current=0},y)},[y,C]);return w.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),a.jsx(Gp,{...f,children:a.jsx(W9,{scope:t,contentId:v,open:S,stateAttribute:_,trigger:p,onTriggerChange:h,onTriggerEnter:w.useCallback(()=>{d.isOpenDelayedRef.current?k():O()},[d.isOpenDelayedRef,k,O]),onTriggerLeave:w.useCallback(()=>{j?N():(window.clearTimeout(b.current),b.current=0)},[N,j]),onOpen:O,onClose:N,disableHoverableContent:j,children:r})})};vM.displayName=Au;var Ww="TooltipTrigger",gM=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Od(Ww,r),s=D1(Ww,r),l=lm(r),u=w.useRef(null),d=dt(t,u,i.onTriggerChange),f=w.useRef(!1),p=w.useRef(!1),h=w.useCallback(()=>f.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(wd,{asChild:!0,...l,children:a.jsx(qe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:d,onPointerMove:Ae(e.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ae(e.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:Ae(e.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ae(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:Ae(e.onBlur,i.onClose),onClick:Ae(e.onClick,i.onClose)})})});gM.displayName=Ww;var M1="TooltipPortal",[V9,H9]=om(M1,{forceMount:void 0}),xM=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:i}=e,s=Od(M1,t);return a.jsx(V9,{scope:t,forceMount:r,children:a.jsx(rn,{present:r||s.open,children:a.jsx(rc,{asChild:!0,container:i,children:n})})})};xM.displayName=M1;var El="TooltipContent",yM=w.forwardRef((e,t)=>{const r=H9(El,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=e,l=Od(El,e.__scopeTooltip);return a.jsx(rn,{present:n||l.open,children:l.disableHoverableContent?a.jsx(bM,{side:i,...s,ref:t}):a.jsx(G9,{side:i,...s,ref:t})})}),G9=w.forwardRef((e,t)=>{const r=Od(El,e.__scopeTooltip),n=D1(El,e.__scopeTooltip),i=w.useRef(null),s=dt(t,i),[l,u]=w.useState(null),{trigger:d,onClose:f}=r,p=i.current,{onPointerInTransitChange:h}=n,v=w.useCallback(()=>{u(null),h(!1)},[h]),b=w.useCallback((j,y)=>{const g=j.currentTarget,S={x:j.clientX,y:j.clientY},C=Q9(S,g.getBoundingClientRect()),_=Z9(S,C),O=J9(y.getBoundingClientRect()),N=tV([..._,...O]);u(N),h(!0)},[h]);return w.useEffect(()=>()=>v(),[v]),w.useEffect(()=>{if(d&&p){const j=g=>b(g,p),y=g=>b(g,d);return d.addEventListener("pointerleave",j),p.addEventListener("pointerleave",y),()=>{d.removeEventListener("pointerleave",j),p.removeEventListener("pointerleave",y)}}},[d,p,b,v]),w.useEffect(()=>{if(l){const j=y=>{const g=y.target,S={x:y.clientX,y:y.clientY},C=d?.contains(g)||p?.contains(g),_=!eV(S,l);C?v():_&&(v(),f())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[d,p,l,f,v]),a.jsx(bM,{...e,ref:s})}),[K9,Y9]=om(Au,{isInside:!1}),X9=ZI("TooltipContent"),bM=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:l,...u}=e,d=Od(El,r),f=lm(r),{onClose:p}=d;return w.useEffect(()=>(document.addEventListener(qw,p),()=>document.removeEventListener(qw,p)),[p]),w.useEffect(()=>{if(d.trigger){const h=v=>{v.target?.contains(d.trigger)&&p()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[d.trigger,p]),a.jsx(Jl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:h=>h.preventDefault(),onDismiss:p,children:a.jsxs(Kp,{"data-state":d.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(X9,{children:n}),a.jsx(K9,{scope:r,isInside:!0,children:a.jsx(H7,{id:d.contentId,role:"tooltip",children:i||n})})]})})});yM.displayName=El;var wM="TooltipArrow",jM=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=lm(r);return Y9(wM,r).isInside?null:a.jsx(Yp,{...i,...n,ref:t})});jM.displayName=wM;function Q9(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Z9(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function J9(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function eV(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s],d=t[l],f=u.x,p=u.y,h=d.x,v=d.y;p>n!=v>n&&r<(h-f)*(n-p)/(v-p)+f&&(i=!i)}return i}function tV(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),rV(t)}function rV(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const s=r[r.length-1],l=r[r.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var nV=mM,aV=vM,iV=gM,sV=xM,oV=yM,lV=jM;function cm({delayDuration:e=0,...t}){return a.jsx(nV,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Tu({...e}){return a.jsx(cm,{children:a.jsx(aV,{"data-slot":"tooltip",...e})})}function Iu({...e}){return a.jsx(iV,{"data-slot":"tooltip-trigger",...e})}function Ru({className:e,sideOffset:t=0,children:r,...n}){return a.jsx(sV,{children:a.jsxs(oV,{"data-slot":"tooltip-content",sideOffset:t,className:Ie("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...n,children:[r,a.jsx(lV,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const cV={draft:{label:"Черновик",variant:"secondary",className:"bg-gray-100 text-gray-800"},submitted:{label:"Новая",variant:"secondary",className:"bg-blue-100 text-blue-800"},classified:{label:"Классифицирована",variant:"secondary",className:"bg-yellow-100 text-yellow-800"},allocated:{label:"Распределена",variant:"secondary",className:"bg-purple-100 text-purple-800"},returned:{label:"Возвращена",variant:"secondary",className:"bg-orange-100 text-orange-800"},approved:{label:"Утверждена",variant:"secondary",className:"bg-green-100 text-green-800"},"approved-on-behalf":{label:"Согласована по поручению рук-ва",variant:"secondary",className:"bg-violet-100 text-violet-800"},"to-pay":{label:"К оплате",variant:"secondary",className:"bg-indigo-100 text-indigo-800"},"in-register":{label:"В реестре",variant:"secondary",className:"bg-cyan-100 text-cyan-800"},"approved-for-payment":{label:"Утверждена к оплате",variant:"secondary",className:"bg-teal-100 text-teal-800"},"paid-full":{label:"Оплачена полностью",variant:"secondary",className:"bg-emerald-100 text-emerald-800"},"paid-partial":{label:"Оплачена частично",variant:"secondary",className:"bg-lime-100 text-lime-800"},declined:{label:"Отклонена",variant:"secondary",className:"bg-red-100 text-red-800"},rejected:{label:"Отклонена",variant:"secondary",className:"bg-red-100 text-red-800"},cancelled:{label:"Аннулирована",variant:"secondary",className:"bg-slate-100 text-slate-800"}};function So({status:e,className:t,showTooltip:r,responsible:n,statusTime:i}){const s=cV[e];if(!s)return console.warn(`Unknown status: ${e}`),a.jsx(Ne,{variant:"secondary",className:`bg-gray-100 text-gray-800 border-0 ${t||""}`,children:e});const l=a.jsx(Ne,{variant:s.variant,className:`${s.className} border-0 ${t||""}`,children:s.label});return r&&n?a.jsx(cm,{children:a.jsxs(Tu,{children:[a.jsx(Iu,{asChild:!0,children:a.jsx("span",{children:l})}),a.jsx(Ru,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"font-medium",children:["Ответственный: ",n]}),a.jsxs("div",{children:["Статус: ",s.label]}),i&&a.jsxs("div",{children:["Время: ",i]})]})})]})}):l}var $1="Progress",L1=100,[uV,_pe]=tn($1),[dV,fV]=uV($1),NM=w.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=hV,...l}=e;(i||i===0)&&!z2(i)&&console.error(pV(`${i}`,"Progress"));const u=z2(i)?i:L1;n!==null&&!U2(n,u)&&console.error(mV(`${n}`,"Progress"));const d=U2(n,u)?n:null,f=qh(d)?s(d,u):void 0;return a.jsx(dV,{scope:r,value:d,max:u,children:a.jsx(qe.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":qh(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":_M(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});NM.displayName=$1;var SM="ProgressIndicator",CM=w.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=fV(SM,r);return a.jsx(qe.div,{"data-state":_M(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});CM.displayName=SM;function hV(e,t){return`${Math.round(e/t*100)}%`}function _M(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function qh(e){return typeof e=="number"}function z2(e){return qh(e)&&!isNaN(e)&&e>0}function U2(e,t){return qh(e)&&!isNaN(e)&&e<=t&&e>=0}function pV(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${L1}\`.`}function mV(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${L1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var vV=NM,gV=CM;function F1({className:e,value:t,...r}){return a.jsx(vV,{"data-slot":"progress",className:Ie("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:a.jsx(gV,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}var sx,q2;function nn(){if(q2)return sx;q2=1;var e=Array.isArray;return sx=e,sx}var ox,W2;function EM(){if(W2)return ox;W2=1;var e=typeof eh=="object"&&eh&&eh.Object===Object&&eh;return ox=e,ox}var lx,V2;function Fa(){if(V2)return lx;V2=1;var e=EM(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return lx=r,lx}var cx,H2;function Ad(){if(H2)return cx;H2=1;var e=Fa(),t=e.Symbol;return cx=t,cx}var ux,G2;function xV(){if(G2)return ux;G2=1;var e=Ad(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(l){var u=r.call(l,i),d=l[i];try{l[i]=void 0;var f=!0}catch{}var p=n.call(l);return f&&(u?l[i]=d:delete l[i]),p}return ux=s,ux}var dx,K2;function yV(){if(K2)return dx;K2=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return dx=r,dx}var fx,Y2;function wi(){if(Y2)return fx;Y2=1;var e=Ad(),t=xV(),r=yV(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:s&&s in Object(u)?t(u):r(u)}return fx=l,fx}var hx,X2;function ji(){if(X2)return hx;X2=1;function e(t){return t!=null&&typeof t=="object"}return hx=e,hx}var px,Q2;function ic(){if(Q2)return px;Q2=1;var e=wi(),t=ji(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return px=n,px}var mx,Z2;function B1(){if(Z2)return mx;Z2=1;var e=nn(),t=ic(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,l){if(e(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||l!=null&&s in Object(l)}return mx=i,mx}var vx,J2;function ws(){if(J2)return vx;J2=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return vx=e,vx}var gx,eE;function z1(){if(eE)return gx;eE=1;var e=wi(),t=ws(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==n||d==i||d==r||d==s}return gx=l,gx}var xx,tE;function bV(){if(tE)return xx;tE=1;var e=Fa(),t=e["__core-js_shared__"];return xx=t,xx}var yx,rE;function wV(){if(rE)return yx;rE=1;var e=bV(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return yx=r,yx}var bx,nE;function kM(){if(nE)return bx;nE=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return bx=r,bx}var wx,aE;function jV(){if(aE)return wx;aE=1;var e=z1(),t=wV(),r=ws(),n=kM(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(v){if(!r(v)||t(v))return!1;var b=e(v)?p:s;return b.test(n(v))}return wx=h,wx}var jx,iE;function NV(){if(iE)return jx;iE=1;function e(t,r){return t?.[r]}return jx=e,jx}var Nx,sE;function Co(){if(sE)return Nx;sE=1;var e=jV(),t=NV();function r(n,i){var s=t(n,i);return e(s)?s:void 0}return Nx=r,Nx}var Sx,oE;function um(){if(oE)return Sx;oE=1;var e=Co(),t=e(Object,"create");return Sx=t,Sx}var Cx,lE;function SV(){if(lE)return Cx;lE=1;var e=um();function t(){this.__data__=e?e(null):{},this.size=0}return Cx=t,Cx}var _x,cE;function CV(){if(cE)return _x;cE=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return _x=e,_x}var Ex,uE;function _V(){if(uE)return Ex;uE=1;var e=um(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var l=this.__data__;if(e){var u=l[s];return u===t?void 0:u}return n.call(l,s)?l[s]:void 0}return Ex=i,Ex}var kx,dE;function EV(){if(dE)return kx;dE=1;var e=um(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return kx=n,kx}var Px,fE;function kV(){if(fE)return Px;fE=1;var e=um(),t="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&i===void 0?t:i,this}return Px=r,Px}var Ox,hE;function PV(){if(hE)return Ox;hE=1;var e=SV(),t=CV(),r=_V(),n=EV(),i=kV();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Ox=s,Ox}var Ax,pE;function OV(){if(pE)return Ax;pE=1;function e(){this.__data__=[],this.size=0}return Ax=e,Ax}var Tx,mE;function U1(){if(mE)return Tx;mE=1;function e(t,r){return t===r||t!==t&&r!==r}return Tx=e,Tx}var Ix,vE;function dm(){if(vE)return Ix;vE=1;var e=U1();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Ix=t,Ix}var Rx,gE;function AV(){if(gE)return Rx;gE=1;var e=dm(),t=Array.prototype,r=t.splice;function n(i){var s=this.__data__,l=e(s,i);if(l<0)return!1;var u=s.length-1;return l==u?s.pop():r.call(s,l,1),--this.size,!0}return Rx=n,Rx}var Dx,xE;function TV(){if(xE)return Dx;xE=1;var e=dm();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Dx=t,Dx}var Mx,yE;function IV(){if(yE)return Mx;yE=1;var e=dm();function t(r){return e(this.__data__,r)>-1}return Mx=t,Mx}var $x,bE;function RV(){if(bE)return $x;bE=1;var e=dm();function t(r,n){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return $x=t,$x}var Lx,wE;function fm(){if(wE)return Lx;wE=1;var e=OV(),t=AV(),r=TV(),n=IV(),i=RV();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Lx=s,Lx}var Fx,jE;function q1(){if(jE)return Fx;jE=1;var e=Co(),t=Fa(),r=e(t,"Map");return Fx=r,Fx}var Bx,NE;function DV(){if(NE)return Bx;NE=1;var e=PV(),t=fm(),r=q1();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Bx=n,Bx}var zx,SE;function MV(){if(SE)return zx;SE=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return zx=e,zx}var Ux,CE;function hm(){if(CE)return Ux;CE=1;var e=MV();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Ux=t,Ux}var qx,_E;function $V(){if(_E)return qx;_E=1;var e=hm();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return qx=t,qx}var Wx,EE;function LV(){if(EE)return Wx;EE=1;var e=hm();function t(r){return e(this,r).get(r)}return Wx=t,Wx}var Vx,kE;function FV(){if(kE)return Vx;kE=1;var e=hm();function t(r){return e(this,r).has(r)}return Vx=t,Vx}var Hx,PE;function BV(){if(PE)return Hx;PE=1;var e=hm();function t(r,n){var i=e(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return Hx=t,Hx}var Gx,OE;function W1(){if(OE)return Gx;OE=1;var e=DV(),t=$V(),r=LV(),n=FV(),i=BV();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Gx=s,Gx}var Kx,AE;function PM(){if(AE)return Kx;AE=1;var e=W1(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=s.cache;if(d.has(u))return d.get(u);var f=n.apply(this,l);return s.cache=d.set(u,f)||d,f};return s.cache=new(r.Cache||e),s}return r.Cache=e,Kx=r,Kx}var Yx,TE;function zV(){if(TE)return Yx;TE=1;var e=PM(),t=500;function r(n){var i=e(n,function(l){return s.size===t&&s.clear(),l}),s=i.cache;return i}return Yx=r,Yx}var Xx,IE;function UV(){if(IE)return Xx;IE=1;var e=zV(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(l,u,d,f){s.push(d?f.replace(r,"$1"):u||l)}),s});return Xx=n,Xx}var Qx,RE;function V1(){if(RE)return Qx;RE=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return Qx=e,Qx}var Zx,DE;function qV(){if(DE)return Zx;DE=1;var e=Ad(),t=V1(),r=nn(),n=ic(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return s?s.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Zx=l,Zx}var Jx,ME;function OM(){if(ME)return Jx;ME=1;var e=qV();function t(r){return r==null?"":e(r)}return Jx=t,Jx}var ey,$E;function AM(){if($E)return ey;$E=1;var e=nn(),t=B1(),r=UV(),n=OM();function i(s,l){return e(s)?s:t(s,l)?[s]:r(n(s))}return ey=i,ey}var ty,LE;function pm(){if(LE)return ty;LE=1;var e=ic();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return ty=t,ty}var ry,FE;function H1(){if(FE)return ry;FE=1;var e=AM(),t=pm();function r(n,i){i=e(i,n);for(var s=0,l=i.length;n!=null&&s<l;)n=n[t(i[s++])];return s&&s==l?n:void 0}return ry=r,ry}var ny,BE;function TM(){if(BE)return ny;BE=1;var e=H1();function t(r,n,i){var s=r==null?void 0:e(r,n);return s===void 0?i:s}return ny=t,ny}var WV=TM();const Bn=kt(WV);var ay,zE;function VV(){if(zE)return ay;zE=1;function e(t){return t==null}return ay=e,ay}var HV=VV();const yt=kt(HV);var iy,UE;function GV(){if(UE)return iy;UE=1;var e=wi(),t=nn(),r=ji(),n="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return iy=i,iy}var KV=GV();const po=kt(KV);var YV=z1();const st=kt(YV);var XV=ws();const sc=kt(XV);var sy={exports:{}},bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function QV(){if(qE)return bt;qE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function y(g){if(typeof g=="object"&&g!==null){var S=g.$$typeof;switch(S){case e:switch(g=g.type,g){case r:case i:case n:case f:case p:return g;default:switch(g=g&&g.$$typeof,g){case u:case l:case d:case v:case h:case s:return g;default:return S}}case t:return S}}}return bt.ContextConsumer=l,bt.ContextProvider=s,bt.Element=e,bt.ForwardRef=d,bt.Fragment=r,bt.Lazy=v,bt.Memo=h,bt.Portal=t,bt.Profiler=i,bt.StrictMode=n,bt.Suspense=f,bt.SuspenseList=p,bt.isAsyncMode=function(){return!1},bt.isConcurrentMode=function(){return!1},bt.isContextConsumer=function(g){return y(g)===l},bt.isContextProvider=function(g){return y(g)===s},bt.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},bt.isForwardRef=function(g){return y(g)===d},bt.isFragment=function(g){return y(g)===r},bt.isLazy=function(g){return y(g)===v},bt.isMemo=function(g){return y(g)===h},bt.isPortal=function(g){return y(g)===t},bt.isProfiler=function(g){return y(g)===i},bt.isStrictMode=function(g){return y(g)===n},bt.isSuspense=function(g){return y(g)===f},bt.isSuspenseList=function(g){return y(g)===p},bt.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===f||g===p||g===b||typeof g=="object"&&g!==null&&(g.$$typeof===v||g.$$typeof===h||g.$$typeof===s||g.$$typeof===l||g.$$typeof===d||g.$$typeof===j||g.getModuleId!==void 0)},bt.typeOf=y,bt}var WE;function ZV(){return WE||(WE=1,sy.exports=QV()),sy.exports}var JV=ZV(),oy,VE;function IM(){if(VE)return oy;VE=1;var e=wi(),t=ji(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return oy=n,oy}var ly,HE;function eH(){if(HE)return ly;HE=1;var e=IM();function t(r){return e(r)&&r!=+r}return ly=t,ly}var tH=eH();const Td=kt(tH);var rH=IM();const nH=kt(rH);var ea=function(t){return t===0?0:t>0?1:-1},Js=function(t){return po(t)&&t.indexOf("%")===t.length-1},Oe=function(t){return nH(t)&&!Td(t)},aH=function(t){return yt(t)},cr=function(t){return Oe(t)||po(t)},iH=0,mm=function(t){var r=++iH;return"".concat(t||"").concat(r)},mo=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(t)&&!po(t))return n;var s;if(Js(t)){var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Td(s)&&(s=n),i&&s>r&&(s=r),s},as=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},sH=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},al=function(t,r){return Oe(t)&&Oe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Vw(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Bn(n,t))===r})}var oH=function(t,r){return Oe(t)&&Oe(r)?t-r:po(t)&&po(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function yl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Hw(e){"@babel/helpers - typeof";return Hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hw(e)}var lH=["viewBox","children"],cH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GE=["points","pathLength"],cy={svg:lH,polygon:GE,polyline:GE},G1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Wh=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!sc(n))return null;var i={};return Object.keys(n).forEach(function(s){G1.includes(s)&&(i[s]=r||function(l){return n[s](n,l)})}),i},uH=function(t,r,n){return function(i){return t(r,n,i),null}},Vh=function(t,r,n){if(!sc(t)||Hw(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var l=t[s];G1.includes(s)&&typeof l=="function"&&(i||(i={}),i[s]=uH(l,r,n))}),i},dH=["children"],fH=["children"];function KE(e,t){if(e==null)return{};var r=hH(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var YE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},li=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},XE=null,uy=null,K1=function e(t){if(t===XE&&Array.isArray(uy))return uy;var r=[];return w.Children.forEach(t,function(n){yt(n)||(JV.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),uy=r,XE=t,r};function ta(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return li(i)}):n=[li(t)],K1(e).forEach(function(i){var s=Bn(i,"type.displayName")||Bn(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function mn(e,t){var r=ta(e,t);return r&&r[0]}var QE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Oe(n)||n<=0||!Oe(i)||i<=0)},pH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mH=function(t){return t&&t.type&&po(t.type)&&pH.indexOf(t.type)>=0},vH=function(t,r,n,i){var s,l=(s=cy?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!st(t)&&(i&&l.includes(r)||cH.includes(r))||n&&G1.includes(r)},xt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!sc(i))return null;var s={};return Object.keys(i).forEach(function(l){var u;vH((u=i)===null||u===void 0?void 0:u[l],l,r,n)&&(s[l]=i[l])}),s},Gw=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ZE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],l=r[i];if(Array.isArray(s)||Array.isArray(l)){if(!e(s,l))return!1}else if(!ZE(s,l))return!1}return!0},ZE=function(t,r){if(yt(t)&&yt(r))return!0;if(!yt(t)&&!yt(r)){var n=t.props||{},i=n.children,s=KE(n,dH),l=r.props||{},u=l.children,d=KE(l,fH);return i&&u?yl(s,d)&&Gw(i,u):!i&&!u?yl(s,d):!1}return!1},JE=function(t,r){var n=[],i={};return K1(t).forEach(function(s,l){if(mH(s))n.push(s);else if(s){var u=li(s.type),d=r[u]||{},f=d.handler,p=d.once;if(f&&(!p||!i[u])){var h=f(s,u,l);n.push(h),i[u]=!0}}}),n},gH=function(t){var r=t&&t.type;return r&&YE[r]?YE[r]:null},xH=function(t,r){return K1(r).indexOf(t)},yH=["children","width","height","viewBox","className","style","title","desc"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kw.apply(this,arguments)}function bH(e,t){if(e==null)return{};var r=wH(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yw(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,l=e.style,u=e.title,d=e.desc,f=bH(e,yH),p=i||{width:r,height:n,x:0,y:0},h=pt("recharts-surface",s);return X.createElement("svg",Kw({},xt(f,!0,"svg"),{className:h,width:r,height:n,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),X.createElement("title",null,u),X.createElement("desc",null,d),t)}var jH=["children","className"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xw.apply(this,arguments)}function NH(e,t){if(e==null)return{};var r=SH(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vr=X.forwardRef(function(e,t){var r=e.children,n=e.className,i=NH(e,jH),s=pt("recharts-layer",n);return X.createElement("g",Xw({className:s},xt(i,!0),{ref:t}),r)}),ci=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},dy,ek;function CH(){if(ek)return dy;ek=1;function e(t,r,n){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(s);++i<s;)l[i]=t[i+r];return l}return dy=e,dy}var fy,tk;function _H(){if(tk)return fy;tk=1;var e=CH();function t(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:e(r,n,i)}return fy=t,fy}var hy,rk;function RM(){if(rk)return hy;rk=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+i+s+"]");function d(f){return u.test(f)}return hy=d,hy}var py,nk;function EH(){if(nk)return py;nk=1;function e(t){return t.split("")}return py=e,py}var my,ak;function kH(){if(ak)return my;ak=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",l="["+e+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",j=f+"?",y="["+s+"]?",g="(?:"+b+"(?:"+[p,h,v].join("|")+")"+y+j+")*",S=y+j+g,C="(?:"+[p+u+"?",u,h,v,l].join("|")+")",_=RegExp(d+"(?="+d+")|"+C+S,"g");function O(N){return N.match(_)||[]}return my=O,my}var vy,ik;function PH(){if(ik)return vy;ik=1;var e=EH(),t=RM(),r=kH();function n(i){return t(i)?r(i):e(i)}return vy=n,vy}var gy,sk;function OH(){if(sk)return gy;sk=1;var e=_H(),t=RM(),r=PH(),n=OM();function i(s){return function(l){l=n(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[s]()+f}}return gy=i,gy}var xy,ok;function AH(){if(ok)return xy;ok=1;var e=OH(),t=e("toUpperCase");return xy=t,xy}var TH=AH();const vm=kt(TH);function Tt(e){return function(){return e}}const DM=Math.cos,Hh=Math.sin,ia=Math.sqrt,Gh=Math.PI,gm=2*Gh,Qw=Math.PI,Zw=2*Qw,Ks=1e-6,IH=Zw-Ks;function MM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function RH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return MM;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class DH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?MM:RH(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=n-t,f=i-r,p=l-t,h=u-r,v=p*p+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Ks)if(!(Math.abs(h*d-f*p)>Ks)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-l,j=i-u,y=d*d+f*f,g=b*b+j*j,S=Math.sqrt(y),C=Math.sqrt(v),_=s*Math.tan((Qw-Math.acos((y+v-g)/(2*S*C)))/2),O=_/C,N=_/S;Math.abs(O-1)>Ks&&this._append`L${t+O*p},${r+O*h}`,this._append`A${s},${s},0,0,${+(h*b>p*j)},${this._x1=t+N*d},${this._y1=r+N*f}`}}arc(t,r,n,i,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),f=t+u,p=r+d,h=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Ks||Math.abs(this._y1-p)>Ks)&&this._append`L${f},${p}`,n&&(v<0&&(v=v%Zw+Zw),v>IH?this._append`A${n},${n},0,1,${h},${t-u},${r-d}A${n},${n},0,1,${h},${this._x1=f},${this._y1=p}`:v>Ks&&this._append`A${n},${n},0,${+(v>=Qw)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Y1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new DH(t)}function X1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $M(e){this._context=e}$M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xm(e){return new $M(e)}function LM(e){return e[0]}function FM(e){return e[1]}function BM(e,t){var r=Tt(!0),n=null,i=xm,s=null,l=Y1(u);e=typeof e=="function"?e:e===void 0?LM:Tt(e),t=typeof t=="function"?t:t===void 0?FM:Tt(t);function u(d){var f,p=(d=X1(d)).length,h,v=!1,b;for(n==null&&(s=i(b=l())),f=0;f<=p;++f)!(f<p&&r(h=d[f],f,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(h,f,d),+t(h,f,d));if(b)return s=null,b+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Tt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Tt(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Tt(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(s=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=s=null:s=i(n=d),u):n},u}function mh(e,t,r){var n=null,i=Tt(!0),s=null,l=xm,u=null,d=Y1(f);e=typeof e=="function"?e:e===void 0?LM:Tt(+e),t=typeof t=="function"?t:Tt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?FM:Tt(+r);function f(h){var v,b,j,y=(h=X1(h)).length,g,S=!1,C,_=new Array(y),O=new Array(y);for(s==null&&(u=l(C=d())),v=0;v<=y;++v){if(!(v<y&&i(g=h[v],v,h))===S)if(S=!S)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=v-1;j>=b;--j)u.point(_[j],O[j]);u.lineEnd(),u.areaEnd()}S&&(_[v]=+e(g,v,h),O[v]=+t(g,v,h),u.point(n?+n(g,v,h):_[v],r?+r(g,v,h):O[v]))}if(C)return u=null,C+""||null}function p(){return BM().defined(i).curve(l).context(s)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:Tt(+h),n=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Tt(+h),f):e},f.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Tt(+h),f):n},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:Tt(+h),r=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Tt(+h),f):t},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Tt(+h),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(n).y(t)},f.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Tt(!!h),f):i},f.curve=function(h){return arguments.length?(l=h,s!=null&&(u=l(s)),f):l},f.context=function(h){return arguments.length?(h==null?s=u=null:u=l(s=h),f):s},f}class zM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function MH(e){return new zM(e,!0)}function $H(e){return new zM(e,!1)}const Q1={draw(e,t){const r=ia(t/Gh);e.moveTo(r,0),e.arc(0,0,r,0,gm)}},LH={draw(e,t){const r=ia(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},UM=ia(1/3),FH=UM*2,BH={draw(e,t){const r=ia(t/FH),n=r*UM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},zH={draw(e,t){const r=ia(t),n=-r/2;e.rect(n,n,r,r)}},UH=.8908130915292852,qM=Hh(Gh/10)/Hh(7*Gh/10),qH=Hh(gm/10)*qM,WH=-DM(gm/10)*qM,VH={draw(e,t){const r=ia(t*UH),n=qH*r,i=WH*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const l=gm*s/5,u=DM(l),d=Hh(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*i,d*n+u*i)}e.closePath()}},yy=ia(3),HH={draw(e,t){const r=-ia(t/(yy*3));e.moveTo(0,r*2),e.lineTo(-yy*r,-r),e.lineTo(yy*r,-r),e.closePath()}},Dn=-.5,Mn=ia(3)/2,Jw=1/ia(12),GH=(Jw/2+1)*3,KH={draw(e,t){const r=ia(t/GH),n=r/2,i=r*Jw,s=n,l=r*Jw+r,u=-s,d=l;e.moveTo(n,i),e.lineTo(s,l),e.lineTo(u,d),e.lineTo(Dn*n-Mn*i,Mn*n+Dn*i),e.lineTo(Dn*s-Mn*l,Mn*s+Dn*l),e.lineTo(Dn*u-Mn*d,Mn*u+Dn*d),e.lineTo(Dn*n+Mn*i,Dn*i-Mn*n),e.lineTo(Dn*s+Mn*l,Dn*l-Mn*s),e.lineTo(Dn*u+Mn*d,Dn*d-Mn*u),e.closePath()}};function YH(e,t){let r=null,n=Y1(i);e=typeof e=="function"?e:Tt(e||Q1),t=typeof t=="function"?t:Tt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Kh(){}function Yh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function WM(e){this._context=e}WM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XH(e){return new WM(e)}function VM(e){this._context=e}VM.prototype={areaStart:Kh,areaEnd:Kh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QH(e){return new VM(e)}function HM(e){this._context=e}HM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZH(e){return new HM(e)}function GM(e){this._context=e}GM.prototype={areaStart:Kh,areaEnd:Kh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JH(e){return new GM(e)}function lk(e){return e<0?-1:1}function ck(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),u=(s*i+l*n)/(n+i);return(lk(s)+lk(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function uk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function by(e,t,r){var n=e._x0,i=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,i+u*t,s-u,l-u*r,s,l)}function Xh(e){this._context=e}Xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:by(this,this._t0,uk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,by(this,uk(this,r=ck(this,e,t)),r);break;default:by(this,this._t0,r=ck(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function KM(e){this._context=new YM(e)}(KM.prototype=Object.create(Xh.prototype)).point=function(e,t){Xh.prototype.point.call(this,t,e)};function YM(e){this._context=e}YM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function eG(e){return new Xh(e)}function tG(e){return new KM(e)}function XM(e){this._context=e}XM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=dk(e),i=dk(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dk(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),l=new Array(r);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function rG(e){return new XM(e)}function ym(e,t){this._context=e,this._t=t}ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function nG(e){return new ym(e,.5)}function aG(e){return new ym(e,0)}function iG(e){return new ym(e,1)}function kl(e,t){if((l=e.length)>1)for(var r=1,n,i,s=e[t[0]],l,u=s.length;r<l;++r)for(i=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ej(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function sG(e,t){return e[t]}function oG(e){const t=[];return t.key=e,t}function lG(){var e=Tt([]),t=ej,r=kl,n=sG;function i(s){var l=Array.from(e.apply(this,arguments),oG),u,d=l.length,f=-1,p;for(const h of s)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(h,l[u].key,f,s)]).data=h;for(u=0,p=X1(t(l));u<d;++u)l[p[u]].index=u;return r(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Tt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?ej:typeof s=="function"?s:Tt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??kl,i):r},i}function cG(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,l;i<s;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}kl(e,t)}}function uG(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var l=0,u=0;l<i;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}kl(e,t)}}function dG(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,l;n<s;++n){for(var u=0,d=0,f=0;u<l;++u){for(var p=e[t[u]],h=p[n][1]||0,v=p[n-1][1]||0,b=(h-v)/2,j=0;j<u;++j){var y=e[t[j]],g=y[n][1]||0,S=y[n-1][1]||0;b+=g-S}d+=h,f+=b*h}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,kl(e,t)}}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}var fG=["type","size","sizeType"];function tj(){return tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tj.apply(this,arguments)}function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){hG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hG(e,t,r){return t=pG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=mG(e,"string");return Du(t)=="symbol"?t:t+""}function mG(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vG(e,t){if(e==null)return{};var r=gG(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var QM={symbolCircle:Q1,symbolCross:LH,symbolDiamond:BH,symbolSquare:zH,symbolStar:VH,symbolTriangle:HH,symbolWye:KH},xG=Math.PI/180,yG=function(t){var r="symbol".concat(vm(t));return QM[r]||Q1},bG=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*xG;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},wG=function(t,r){QM["symbol".concat(vm(t))]=r},Z1=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,l=t.sizeType,u=l===void 0?"area":l,d=vG(t,fG),f=hk(hk({},d),{},{type:n,size:s,sizeType:u}),p=function(){var g=yG(n),S=YH().type(g).size(bG(s,u,n));return S()},h=f.className,v=f.cx,b=f.cy,j=xt(f,!0);return v===+v&&b===+b&&s===+s?X.createElement("path",tj({},j,{className:pt("recharts-symbols",h),transform:"translate(".concat(v,", ").concat(b,")"),d:p()})):null};Z1.registerSymbol=wG;function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rj.apply(this,arguments)}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){Mu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JM(n.key),n)}}function CG(e,t,r){return t&&SG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _G(e,t,r){return t=Qh(t),EG(e,ZM()?Reflect.construct(t,r||[],Qh(e).constructor):t.apply(e,r))}function EG(e,t){if(t&&(Pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kG(e)}function kG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZM=function(){return!!e})()}function Qh(e){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qh(e)}function PG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nj(e,t)}function nj(e,t){return nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nj(e,t)}function Mu(e,t,r){return t=JM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JM(e){var t=OG(e,"string");return Pl(t)=="symbol"?t:t+""}function OG(e,t){if(Pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $n=32,J1=(function(e){function t(){return NG(this,t),_G(this,t,arguments)}return PG(t,e),CG(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=$n/2,l=$n/6,u=$n/3,d=n.inactive?i:n.color;if(n.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:$n,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat($n,"M").concat(2*u,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return X.createElement("path",{stroke:"none",fill:d,d:"M0,".concat($n/8,"h").concat($n,"v").concat($n*3/4,"h").concat(-$n,"z"),className:"recharts-legend-icon"});if(X.isValidElement(n.legendIcon)){var f=jG({},n);return delete f.legendIcon,X.cloneElement(n.legendIcon,f)}return X.createElement(Z1,{fill:d,cx:s,cy:s,size:$n,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,l=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:$n,height:$n},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(b,j){var y=b.formatter||d,g=pt(Mu(Mu({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",b.inactive));if(b.type==="none")return null;var S=st(b.value)?null:b.value;ci(!st(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=b.inactive?f:b.color;return X.createElement("li",rj({className:g,style:h,key:"legend-item-".concat(j)},Vh(n.props,b,j)),X.createElement(Yw,{width:l,height:l,viewBox:p,style:v},n.renderIcon(b)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},y?y(S,b,j):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,l=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(w.PureComponent);Mu(J1,"displayName","Legend");Mu(J1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var wy,mk;function AG(){if(mk)return wy;mk=1;var e=fm();function t(){this.__data__=new e,this.size=0}return wy=t,wy}var jy,vk;function TG(){if(vk)return jy;vk=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return jy=e,jy}var Ny,gk;function IG(){if(gk)return Ny;gk=1;function e(t){return this.__data__.get(t)}return Ny=e,Ny}var Sy,xk;function RG(){if(xk)return Sy;xk=1;function e(t){return this.__data__.has(t)}return Sy=e,Sy}var Cy,yk;function DG(){if(yk)return Cy;yk=1;var e=fm(),t=q1(),r=W1(),n=200;function i(s,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([s,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(s,l),this.size=u.size,this}return Cy=i,Cy}var _y,bk;function e4(){if(bk)return _y;bk=1;var e=fm(),t=AG(),r=TG(),n=IG(),i=RG(),s=DG();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=s,_y=l,_y}var Ey,wk;function MG(){if(wk)return Ey;wk=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Ey=t,Ey}var ky,jk;function $G(){if(jk)return ky;jk=1;function e(t){return this.__data__.has(t)}return ky=e,ky}var Py,Nk;function t4(){if(Nk)return Py;Nk=1;var e=W1(),t=MG(),r=$G();function n(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new e;++s<l;)this.add(i[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Py=n,Py}var Oy,Sk;function r4(){if(Sk)return Oy;Sk=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return Oy=e,Oy}var Ay,Ck;function n4(){if(Ck)return Ay;Ck=1;function e(t,r){return t.has(r)}return Ay=e,Ay}var Ty,_k;function a4(){if(_k)return Ty;_k=1;var e=t4(),t=r4(),r=n4(),n=1,i=2;function s(l,u,d,f,p,h){var v=d&n,b=l.length,j=u.length;if(b!=j&&!(v&&j>b))return!1;var y=h.get(l),g=h.get(u);if(y&&g)return y==u&&g==l;var S=-1,C=!0,_=d&i?new e:void 0;for(h.set(l,u),h.set(u,l);++S<b;){var O=l[S],N=u[S];if(f)var k=v?f(N,O,S,u,l,h):f(O,N,S,l,u,h);if(k!==void 0){if(k)continue;C=!1;break}if(_){if(!t(u,function(A,R){if(!r(_,R)&&(O===A||p(O,A,d,f,h)))return _.push(R)})){C=!1;break}}else if(!(O===N||p(O,N,d,f,h))){C=!1;break}}return h.delete(l),h.delete(u),C}return Ty=s,Ty}var Iy,Ek;function LG(){if(Ek)return Iy;Ek=1;var e=Fa(),t=e.Uint8Array;return Iy=t,Iy}var Ry,kk;function FG(){if(kk)return Ry;kk=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,s){n[++r]=[s,i]}),n}return Ry=e,Ry}var Dy,Pk;function eN(){if(Pk)return Dy;Pk=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return Dy=e,Dy}var My,Ok;function BG(){if(Ok)return My;Ok=1;var e=Ad(),t=LG(),r=U1(),n=a4(),i=FG(),s=eN(),l=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",h="[object Map]",v="[object Number]",b="[object RegExp]",j="[object Set]",y="[object String]",g="[object Symbol]",S="[object ArrayBuffer]",C="[object DataView]",_=e?e.prototype:void 0,O=_?_.valueOf:void 0;function N(k,A,R,I,L,U,W){switch(R){case C:if(k.byteLength!=A.byteLength||k.byteOffset!=A.byteOffset)return!1;k=k.buffer,A=A.buffer;case S:return!(k.byteLength!=A.byteLength||!U(new t(k),new t(A)));case d:case f:case v:return r(+k,+A);case p:return k.name==A.name&&k.message==A.message;case b:case y:return k==A+"";case h:var H=i;case j:var G=I&l;if(H||(H=s),k.size!=A.size&&!G)return!1;var T=W.get(k);if(T)return T==A;I|=u,W.set(k,A);var D=n(H(k),H(A),I,L,U,W);return W.delete(k),D;case g:if(O)return O.call(k)==O.call(A)}return!1}return My=N,My}var $y,Ak;function i4(){if(Ak)return $y;Ak=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return $y=e,$y}var Ly,Tk;function zG(){if(Tk)return Ly;Tk=1;var e=i4(),t=nn();function r(n,i,s){var l=i(n);return t(n)?l:e(l,s(n))}return Ly=r,Ly}var Fy,Ik;function UG(){if(Ik)return Fy;Ik=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=0,l=[];++n<i;){var u=t[n];r(u,n,t)&&(l[s++]=u)}return l}return Fy=e,Fy}var By,Rk;function qG(){if(Rk)return By;Rk=1;function e(){return[]}return By=e,By}var zy,Dk;function WG(){if(Dk)return zy;Dk=1;var e=UG(),t=qG(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(u){return n.call(l,u)}))}:t;return zy=s,zy}var Uy,Mk;function VG(){if(Mk)return Uy;Mk=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return Uy=e,Uy}var qy,$k;function HG(){if($k)return qy;$k=1;var e=wi(),t=ji(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return qy=n,qy}var Wy,Lk;function tN(){if(Lk)return Wy;Lk=1;var e=HG(),t=ji(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(l){return t(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return Wy=s,Wy}var vu={exports:{}},Vy,Fk;function GG(){if(Fk)return Vy;Fk=1;function e(){return!1}return Vy=e,Vy}vu.exports;var Bk;function s4(){return Bk||(Bk=1,(function(e,t){var r=Fa(),n=GG(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,l=s&&s.exports===i,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;e.exports=f})(vu,vu.exports)),vu.exports}var Hy,zk;function rN(){if(zk)return Hy;zk=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return Hy=r,Hy}var Gy,Uk;function nN(){if(Uk)return Gy;Uk=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Gy=t,Gy}var Ky,qk;function KG(){if(qk)return Ky;qk=1;var e=wi(),t=nN(),r=ji(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",h="[object Object]",v="[object RegExp]",b="[object Set]",j="[object String]",y="[object WeakMap]",g="[object ArrayBuffer]",S="[object DataView]",C="[object Float32Array]",_="[object Float64Array]",O="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",A="[object Uint8Array]",R="[object Uint8ClampedArray]",I="[object Uint16Array]",L="[object Uint32Array]",U={};U[C]=U[_]=U[O]=U[N]=U[k]=U[A]=U[R]=U[I]=U[L]=!0,U[n]=U[i]=U[g]=U[s]=U[S]=U[l]=U[u]=U[d]=U[f]=U[p]=U[h]=U[v]=U[b]=U[j]=U[y]=!1;function W(H){return r(H)&&t(H.length)&&!!U[e(H)]}return Ky=W,Ky}var Yy,Wk;function o4(){if(Wk)return Yy;Wk=1;function e(t){return function(r){return t(r)}}return Yy=e,Yy}var gu={exports:{}};gu.exports;var Vk;function YG(){return Vk||(Vk=1,(function(e,t){var r=EM(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,l=s&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(gu,gu.exports)),gu.exports}var Xy,Hk;function l4(){if(Hk)return Xy;Hk=1;var e=KG(),t=o4(),r=YG(),n=r&&r.isTypedArray,i=n?t(n):e;return Xy=i,Xy}var Qy,Gk;function XG(){if(Gk)return Qy;Gk=1;var e=VG(),t=tN(),r=nn(),n=s4(),i=rN(),s=l4(),l=Object.prototype,u=l.hasOwnProperty;function d(f,p){var h=r(f),v=!h&&t(f),b=!h&&!v&&n(f),j=!h&&!v&&!b&&s(f),y=h||v||b||j,g=y?e(f.length,String):[],S=g.length;for(var C in f)(p||u.call(f,C))&&!(y&&(C=="length"||b&&(C=="offset"||C=="parent")||j&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,S)))&&g.push(C);return g}return Qy=d,Qy}var Zy,Kk;function QG(){if(Kk)return Zy;Kk=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return Zy=t,Zy}var Jy,Yk;function c4(){if(Yk)return Jy;Yk=1;function e(t,r){return function(n){return t(r(n))}}return Jy=e,Jy}var e0,Xk;function ZG(){if(Xk)return e0;Xk=1;var e=c4(),t=e(Object.keys,Object);return e0=t,e0}var t0,Qk;function JG(){if(Qk)return t0;Qk=1;var e=QG(),t=ZG(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var l=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&l.push(u);return l}return t0=i,t0}var r0,Zk;function Id(){if(Zk)return r0;Zk=1;var e=z1(),t=nN();function r(n){return n!=null&&t(n.length)&&!e(n)}return r0=r,r0}var n0,Jk;function bm(){if(Jk)return n0;Jk=1;var e=XG(),t=JG(),r=Id();function n(i){return r(i)?e(i):t(i)}return n0=n,n0}var a0,eP;function eK(){if(eP)return a0;eP=1;var e=zG(),t=WG(),r=bm();function n(i){return e(i,r,t)}return a0=n,a0}var i0,tP;function tK(){if(tP)return i0;tP=1;var e=eK(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,l,u,d,f,p){var h=u&t,v=e(s),b=v.length,j=e(l),y=j.length;if(b!=y&&!h)return!1;for(var g=b;g--;){var S=v[g];if(!(h?S in l:n.call(l,S)))return!1}var C=p.get(s),_=p.get(l);if(C&&_)return C==l&&_==s;var O=!0;p.set(s,l),p.set(l,s);for(var N=h;++g<b;){S=v[g];var k=s[S],A=l[S];if(d)var R=h?d(A,k,S,l,s,p):d(k,A,S,s,l,p);if(!(R===void 0?k===A||f(k,A,u,d,p):R)){O=!1;break}N||(N=S=="constructor")}if(O&&!N){var I=s.constructor,L=l.constructor;I!=L&&"constructor"in s&&"constructor"in l&&!(typeof I=="function"&&I instanceof I&&typeof L=="function"&&L instanceof L)&&(O=!1)}return p.delete(s),p.delete(l),O}return i0=i,i0}var s0,rP;function rK(){if(rP)return s0;rP=1;var e=Co(),t=Fa(),r=e(t,"DataView");return s0=r,s0}var o0,nP;function nK(){if(nP)return o0;nP=1;var e=Co(),t=Fa(),r=e(t,"Promise");return o0=r,o0}var l0,aP;function u4(){if(aP)return l0;aP=1;var e=Co(),t=Fa(),r=e(t,"Set");return l0=r,l0}var c0,iP;function aK(){if(iP)return c0;iP=1;var e=Co(),t=Fa(),r=e(t,"WeakMap");return c0=r,c0}var u0,sP;function iK(){if(sP)return u0;sP=1;var e=rK(),t=q1(),r=nK(),n=u4(),i=aK(),s=wi(),l=kM(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",v="[object DataView]",b=l(e),j=l(t),y=l(r),g=l(n),S=l(i),C=s;return(e&&C(new e(new ArrayBuffer(1)))!=v||t&&C(new t)!=u||r&&C(r.resolve())!=f||n&&C(new n)!=p||i&&C(new i)!=h)&&(C=function(_){var O=s(_),N=O==d?_.constructor:void 0,k=N?l(N):"";if(k)switch(k){case b:return v;case j:return u;case y:return f;case g:return p;case S:return h}return O}),u0=C,u0}var d0,oP;function sK(){if(oP)return d0;oP=1;var e=e4(),t=a4(),r=BG(),n=tK(),i=iK(),s=nn(),l=s4(),u=l4(),d=1,f="[object Arguments]",p="[object Array]",h="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function j(y,g,S,C,_,O){var N=s(y),k=s(g),A=N?p:i(y),R=k?p:i(g);A=A==f?h:A,R=R==f?h:R;var I=A==h,L=R==h,U=A==R;if(U&&l(y)){if(!l(g))return!1;N=!0,I=!1}if(U&&!I)return O||(O=new e),N||u(y)?t(y,g,S,C,_,O):r(y,g,A,S,C,_,O);if(!(S&d)){var W=I&&b.call(y,"__wrapped__"),H=L&&b.call(g,"__wrapped__");if(W||H){var G=W?y.value():y,T=H?g.value():g;return O||(O=new e),_(G,T,S,C,O)}}return U?(O||(O=new e),n(y,g,S,C,_,O)):!1}return d0=j,d0}var f0,lP;function aN(){if(lP)return f0;lP=1;var e=sK(),t=ji();function r(n,i,s,l,u){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,s,l,r,u)}return f0=r,f0}var h0,cP;function oK(){if(cP)return h0;cP=1;var e=e4(),t=aN(),r=1,n=2;function i(s,l,u,d){var f=u.length,p=f,h=!d;if(s==null)return!p;for(s=Object(s);f--;){var v=u[f];if(h&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++f<p;){v=u[f];var b=v[0],j=s[b],y=v[1];if(h&&v[2]){if(j===void 0&&!(b in s))return!1}else{var g=new e;if(d)var S=d(j,y,b,s,l,g);if(!(S===void 0?t(y,j,r|n,d,g):S))return!1}}return!0}return h0=i,h0}var p0,uP;function d4(){if(uP)return p0;uP=1;var e=ws();function t(r){return r===r&&!e(r)}return p0=t,p0}var m0,dP;function lK(){if(dP)return m0;dP=1;var e=d4(),t=bm();function r(n){for(var i=t(n),s=i.length;s--;){var l=i[s],u=n[l];i[s]=[l,u,e(u)]}return i}return m0=r,m0}var v0,fP;function f4(){if(fP)return v0;fP=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return v0=e,v0}var g0,hP;function cK(){if(hP)return g0;hP=1;var e=oK(),t=lK(),r=f4();function n(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(l){return l===i||e(l,i,s)}}return g0=n,g0}var x0,pP;function uK(){if(pP)return x0;pP=1;function e(t,r){return t!=null&&r in Object(t)}return x0=e,x0}var y0,mP;function dK(){if(mP)return y0;mP=1;var e=AM(),t=tN(),r=nn(),n=rN(),i=nN(),s=pm();function l(u,d,f){d=e(d,u);for(var p=-1,h=d.length,v=!1;++p<h;){var b=s(d[p]);if(!(v=u!=null&&f(u,b)))break;u=u[b]}return v||++p!=h?v:(h=u==null?0:u.length,!!h&&i(h)&&n(b,h)&&(r(u)||t(u)))}return y0=l,y0}var b0,vP;function fK(){if(vP)return b0;vP=1;var e=uK(),t=dK();function r(n,i){return n!=null&&t(n,i,e)}return b0=r,b0}var w0,gP;function hK(){if(gP)return w0;gP=1;var e=aN(),t=TM(),r=fK(),n=B1(),i=d4(),s=f4(),l=pm(),u=1,d=2;function f(p,h){return n(p)&&i(h)?s(l(p),h):function(v){var b=t(v,p);return b===void 0&&b===h?r(v,p):e(h,b,u|d)}}return w0=f,w0}var j0,xP;function oc(){if(xP)return j0;xP=1;function e(t){return t}return j0=e,j0}var N0,yP;function pK(){if(yP)return N0;yP=1;function e(t){return function(r){return r?.[t]}}return N0=e,N0}var S0,bP;function mK(){if(bP)return S0;bP=1;var e=H1();function t(r){return function(n){return e(n,r)}}return S0=t,S0}var C0,wP;function vK(){if(wP)return C0;wP=1;var e=pK(),t=mK(),r=B1(),n=pm();function i(s){return r(s)?e(n(s)):t(s)}return C0=i,C0}var _0,jP;function js(){if(jP)return _0;jP=1;var e=cK(),t=hK(),r=oc(),n=nn(),i=vK();function s(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?t(l[0],l[1]):e(l):i(l)}return _0=s,_0}var E0,NP;function h4(){if(NP)return E0;NP=1;function e(t,r,n,i){for(var s=t.length,l=n+(i?1:-1);i?l--:++l<s;)if(r(t[l],l,t))return l;return-1}return E0=e,E0}var k0,SP;function gK(){if(SP)return k0;SP=1;function e(t){return t!==t}return k0=e,k0}var P0,CP;function xK(){if(CP)return P0;CP=1;function e(t,r,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return P0=e,P0}var O0,_P;function yK(){if(_P)return O0;_P=1;var e=h4(),t=gK(),r=xK();function n(i,s,l){return s===s?r(i,s,l):e(i,t,l)}return O0=n,O0}var A0,EP;function bK(){if(EP)return A0;EP=1;var e=yK();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return A0=t,A0}var T0,kP;function wK(){if(kP)return T0;kP=1;function e(t,r,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(r,t[i]))return!0;return!1}return T0=e,T0}var I0,PP;function jK(){if(PP)return I0;PP=1;function e(){}return I0=e,I0}var R0,OP;function NK(){if(OP)return R0;OP=1;var e=u4(),t=jK(),r=eN(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return R0=i,R0}var D0,AP;function SK(){if(AP)return D0;AP=1;var e=t4(),t=bK(),r=wK(),n=n4(),i=NK(),s=eN(),l=200;function u(d,f,p){var h=-1,v=t,b=d.length,j=!0,y=[],g=y;if(p)j=!1,v=r;else if(b>=l){var S=f?null:i(d);if(S)return s(S);j=!1,v=n,g=new e}else g=f?[]:y;e:for(;++h<b;){var C=d[h],_=f?f(C):C;if(C=p||C!==0?C:0,j&&_===_){for(var O=g.length;O--;)if(g[O]===_)continue e;f&&g.push(_),y.push(C)}else v(g,_,p)||(g!==y&&g.push(_),y.push(C))}return y}return D0=u,D0}var M0,TP;function CK(){if(TP)return M0;TP=1;var e=js(),t=SK();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return M0=r,M0}var _K=CK();const IP=kt(_K);function p4(e,t,r){return t===!0?IP(e,r):st(t)?IP(e,t):e}function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}var EK=["ref"];function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){wm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v4(n.key),n)}}function PK(e,t,r){return t&&DP(e.prototype,t),r&&DP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OK(e,t,r){return t=Zh(t),AK(e,m4()?Reflect.construct(t,r||[],Zh(e).constructor):t.apply(e,r))}function AK(e,t){if(t&&(Ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TK(e)}function TK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m4=function(){return!!e})()}function Zh(e){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zh(e)}function IK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aj(e,t)}function aj(e,t){return aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aj(e,t)}function wm(e,t,r){return t=v4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v4(e){var t=RK(e,"string");return Ol(t)=="symbol"?t:t+""}function RK(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function DK(e,t){if(e==null)return{};var r=MK(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $K(e){return e.value}function LK(e,t){if(X.isValidElement(e))return X.cloneElement(e,t);if(typeof e=="function")return X.createElement(e,t);t.ref;var r=DK(t,EK);return X.createElement(J1,r)}var MP=1,bl=(function(e){function t(){var r;kK(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=OK(this,t,[].concat(i)),wm(r,"lastBoundingBox",{width:-1,height:-1}),r}return IK(t,e),PK(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>MP||Math.abs(i.height-this.lastBoundingBox.height)>MP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,l=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,p=i.chartHeight,h,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&s==="vertical"){var b=this.getBBoxSnapshot();h={left:((f||0)-b.width)/2}}else h=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();v={top:((p||0)-j.height)/2}}else v=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Xa(Xa({},h),v)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,l=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,h=Xa(Xa({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return X.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(b){n.wrapperNode=b}},LK(s,Xa(Xa({},this.props),{},{payload:p4(p,f,$K)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Xa(Xa({},this.defaultProps),n.props),l=s.layout;return l==="vertical"&&Oe(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])})(w.PureComponent);wm(bl,"displayName","Legend");wm(bl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $0,$P;function FK(){if($P)return $0;$P=1;var e=Ad(),t=tN(),r=nn(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return $0=i,$0}var L0,LP;function g4(){if(LP)return L0;LP=1;var e=i4(),t=FK();function r(n,i,s,l,u){var d=-1,f=n.length;for(s||(s=t),u||(u=[]);++d<f;){var p=n[d];i>0&&s(p)?i>1?r(p,i-1,s,l,u):e(u,p):l||(u[u.length]=p)}return u}return L0=r,L0}var F0,FP;function BK(){if(FP)return F0;FP=1;function e(t){return function(r,n,i){for(var s=-1,l=Object(r),u=i(r),d=u.length;d--;){var f=u[t?d:++s];if(n(l[f],f,l)===!1)break}return r}}return F0=e,F0}var B0,BP;function zK(){if(BP)return B0;BP=1;var e=BK(),t=e();return B0=t,B0}var z0,zP;function x4(){if(zP)return z0;zP=1;var e=zK(),t=bm();function r(n,i){return n&&e(n,i,t)}return z0=r,z0}var U0,UP;function UK(){if(UP)return U0;UP=1;var e=Id();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var l=i.length,u=n?l:-1,d=Object(i);(n?u--:++u<l)&&s(d[u],u,d)!==!1;);return i}}return U0=t,U0}var q0,qP;function iN(){if(qP)return q0;qP=1;var e=x4(),t=UK(),r=t(e);return q0=r,q0}var W0,WP;function y4(){if(WP)return W0;WP=1;var e=iN(),t=Id();function r(n,i){var s=-1,l=t(n)?Array(n.length):[];return e(n,function(u,d,f){l[++s]=i(u,d,f)}),l}return W0=r,W0}var V0,VP;function qK(){if(VP)return V0;VP=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return V0=e,V0}var H0,HP;function WK(){if(HP)return H0;HP=1;var e=ic();function t(r,n){if(r!==n){var i=r!==void 0,s=r===null,l=r===r,u=e(r),d=n!==void 0,f=n===null,p=n===n,h=e(n);if(!f&&!h&&!u&&r>n||u&&d&&p&&!f&&!h||s&&d&&p||!i&&p||!l)return 1;if(!s&&!u&&!h&&r<n||h&&i&&l&&!s&&!u||f&&i&&l||!d&&l||!p)return-1}return 0}return H0=t,H0}var G0,GP;function VK(){if(GP)return G0;GP=1;var e=WK();function t(r,n,i){for(var s=-1,l=r.criteria,u=n.criteria,d=l.length,f=i.length;++s<d;){var p=e(l[s],u[s]);if(p){if(s>=f)return p;var h=i[s];return p*(h=="desc"?-1:1)}}return r.index-n.index}return G0=t,G0}var K0,KP;function HK(){if(KP)return K0;KP=1;var e=V1(),t=H1(),r=js(),n=y4(),i=qK(),s=o4(),l=VK(),u=oc(),d=nn();function f(p,h,v){h.length?h=e(h,function(y){return d(y)?function(g){return t(g,y.length===1?y[0]:y)}:y}):h=[u];var b=-1;h=e(h,s(r));var j=n(p,function(y,g,S){var C=e(h,function(_){return _(y)});return{criteria:C,index:++b,value:y}});return i(j,function(y,g){return l(y,g,v)})}return K0=f,K0}var Y0,YP;function GK(){if(YP)return Y0;YP=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Y0=e,Y0}var X0,XP;function KK(){if(XP)return X0;XP=1;var e=GK(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var l=arguments,u=-1,d=t(l.length-i,0),f=Array(d);++u<d;)f[u]=l[i+u];u=-1;for(var p=Array(i+1);++u<i;)p[u]=l[u];return p[i]=s(f),e(n,this,p)}}return X0=r,X0}var Q0,QP;function YK(){if(QP)return Q0;QP=1;function e(t){return function(){return t}}return Q0=e,Q0}var Z0,ZP;function b4(){if(ZP)return Z0;ZP=1;var e=Co(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Z0=t,Z0}var J0,JP;function XK(){if(JP)return J0;JP=1;var e=YK(),t=b4(),r=oc(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return J0=n,J0}var eb,eO;function QK(){if(eO)return eb;eO=1;var e=800,t=16,r=Date.now;function n(i){var s=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return eb=n,eb}var tb,tO;function ZK(){if(tO)return tb;tO=1;var e=XK(),t=QK(),r=t(e);return tb=r,tb}var rb,rO;function JK(){if(rO)return rb;rO=1;var e=oc(),t=KK(),r=ZK();function n(i,s){return r(t(i,s,e),i+"")}return rb=n,rb}var nb,nO;function jm(){if(nO)return nb;nO=1;var e=U1(),t=Id(),r=rN(),n=ws();function i(s,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],s):!1}return nb=i,nb}var ab,aO;function eY(){if(aO)return ab;aO=1;var e=g4(),t=HK(),r=JK(),n=jm(),i=r(function(s,l){if(s==null)return[];var u=l.length;return u>1&&n(s,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),t(s,e(l,1),[])});return ab=i,ab}var tY=eY();const sN=kt(tY);function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ij.apply(this,arguments)}function rY(e,t){return sY(e)||iY(e,t)||aY(e,t)||nY()}function nY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aY(e,t){if(e){if(typeof e=="string")return iO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iO(e,t)}}function iO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function sY(e){if(Array.isArray(e))return e}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ib(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){oY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oY(e,t,r){return t=lY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lY(e){var t=cY(e,"string");return $u(t)=="symbol"?t:t+""}function cY(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uY(e){return Array.isArray(e)&&cr(e[0])&&cr(e[1])?e.join(" ~ "):e}var dY=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,p=t.payload,h=t.formatter,v=t.itemSorter,b=t.wrapperClassName,j=t.labelClassName,y=t.label,g=t.labelFormatter,S=t.accessibilityLayer,C=S===void 0?!1:S,_=function(){if(p&&p.length){var W={padding:0,margin:0},H=(v?sN(p,v):p).map(function(G,T){if(G.type==="none")return null;var D=ib({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},u),V=G.formatter||h||uY,B=G.value,q=G.name,K=B,z=q;if(V&&K!=null&&z!=null){var F=V(B,q,G,T,p);if(Array.isArray(F)){var $=rY(F,2);K=$[0],z=$[1]}else K=F}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:D},cr(z)?X.createElement("span",{className:"recharts-tooltip-item-name"},z):null,cr(z)?X.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,X.createElement("span",{className:"recharts-tooltip-item-value"},K),X.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:W},H)}return null},O=ib({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=ib({margin:0},f),k=!yt(y),A=k?y:"",R=pt("recharts-default-tooltip",b),I=pt("recharts-tooltip-label",j);k&&g&&p!==void 0&&p!==null&&(A=g(y,p));var L=C?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",ij({className:R,style:O},L),X.createElement("p",{className:I,style:N},X.isValidElement(A)?A:"".concat(A)),_())};function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function vh(e,t,r){return t=fY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fY(e){var t=hY(e,"string");return Lu(t)=="symbol"?t:t+""}function hY(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tu="recharts-tooltip-wrapper",pY={visibility:"hidden"};function mY(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return pt(tu,vh(vh(vh(vh({},"".concat(tu,"-right"),Oe(r)&&t&&Oe(t.x)&&r>=t.x),"".concat(tu,"-left"),Oe(r)&&t&&Oe(t.x)&&r<t.x),"".concat(tu,"-bottom"),Oe(n)&&t&&Oe(t.y)&&n>=t.y),"".concat(tu,"-top"),Oe(n)&&t&&Oe(t.y)&&n<t.y))}function oO(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(s&&Oe(s[n]))return s[n];var p=r[n]-u-i,h=r[n]+i;if(t[n])return l[n]?p:h;if(l[n]){var v=p,b=d[n];return v<b?Math.max(h,d[n]):Math.max(p,d[n])}var j=h+u,y=d[n]+f;return j>y?Math.max(p,d[n]):Math.max(h,d[n])}function vY(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function gY(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,p,h;return l.height>0&&l.width>0&&r?(p=oO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),h=oO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=vY({translateX:p,translateY:h,useTranslate3d:u})):f=pY,{cssProperties:f,cssClasses:mY({translateX:p,translateY:h,coordinate:r})}}function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){oj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j4(n.key),n)}}function bY(e,t,r){return t&&yY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wY(e,t,r){return t=Jh(t),jY(e,w4()?Reflect.construct(t,r||[],Jh(e).constructor):t.apply(e,r))}function jY(e,t){if(t&&(Al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NY(e)}function NY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w4=function(){return!!e})()}function Jh(e){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jh(e)}function SY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sj(e,t)}function sj(e,t){return sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sj(e,t)}function oj(e,t,r){return t=j4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j4(e){var t=CY(e,"string");return Al(t)=="symbol"?t:t+""}function CY(e,t){if(Al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uO=1,_Y=(function(e){function t(){var r;xY(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=wY(this,t,[].concat(i)),oj(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oj(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return SY(t,e),bY(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>uO||Math.abs(n.height-this.state.lastBoundingBox.height)>uO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,p=i.coordinate,h=i.hasPayload,v=i.isAnimationActive,b=i.offset,j=i.position,y=i.reverseDirection,g=i.useTranslate3d,S=i.viewBox,C=i.wrapperStyle,_=gY({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:b,position:j,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:S}),O=_.cssClasses,N=_.cssProperties,k=cO(cO({transition:v&&s?"transform ".concat(u,"ms ").concat(d):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},C);return X.createElement("div",{tabIndex:-1,className:O,style:k,ref:function(R){n.wrapperNode=R}},f)}}])})(w.PureComponent),EY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Rd={isSsr:EY()};function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){oN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S4(n.key),n)}}function OY(e,t,r){return t&&PY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AY(e,t,r){return t=ep(t),TY(e,N4()?Reflect.construct(t,r||[],ep(e).constructor):t.apply(e,r))}function TY(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IY(e)}function IY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N4=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(e)}function RY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lj(e,t)}function lj(e,t){return lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lj(e,t)}function oN(e,t,r){return t=S4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S4(e){var t=DY(e,"string");return Tl(t)=="symbol"?t:t+""}function DY(e,t){if(Tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function MY(e){return e.dataKey}function $Y(e,t){return X.isValidElement(e)?X.cloneElement(e,t):typeof e=="function"?X.createElement(e,t):X.createElement(dY,t)}var pa=(function(e){function t(){return kY(this,t),AY(this,t,arguments)}return RY(t,e),OY(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,p=i.coordinate,h=i.filterNull,v=i.isAnimationActive,b=i.offset,j=i.payload,y=i.payloadUniqBy,g=i.position,S=i.reverseDirection,C=i.useTranslate3d,_=i.viewBox,O=i.wrapperStyle,N=j??[];h&&N.length&&(N=p4(j.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),y,MY));var k=N.length>0;return X.createElement(_Y,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:v,active:s,coordinate:p,hasPayload:k,offset:b,position:g,reverseDirection:S,useTranslate3d:C,viewBox:_,wrapperStyle:O},$Y(f,fO(fO({},this.props),{},{payload:N})))}}])})(w.PureComponent);oN(pa,"displayName","Tooltip");oN(pa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var sb,hO;function LY(){if(hO)return sb;hO=1;var e=Fa(),t=function(){return e.Date.now()};return sb=t,sb}var ob,pO;function FY(){if(pO)return ob;pO=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return ob=t,ob}var lb,mO;function BY(){if(mO)return lb;mO=1;var e=FY(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return lb=r,lb}var cb,vO;function C4(){if(vO)return cb;vO=1;var e=BY(),t=ws(),r=ic(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var h=s.test(f);return h||l.test(f)?u(f.slice(2),h?2:8):i.test(f)?n:+f}return cb=d,cb}var ub,gO;function zY(){if(gO)return ub;gO=1;var e=ws(),t=LY(),r=C4(),n="Expected a function",i=Math.max,s=Math.min;function l(u,d,f){var p,h,v,b,j,y,g=0,S=!1,C=!1,_=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(S=!!f.leading,C="maxWait"in f,v=C?i(r(f.maxWait)||0,d):v,_="trailing"in f?!!f.trailing:_);function O(H){var G=p,T=h;return p=h=void 0,g=H,b=u.apply(T,G),b}function N(H){return g=H,j=setTimeout(R,d),S?O(H):b}function k(H){var G=H-y,T=H-g,D=d-G;return C?s(D,v-T):D}function A(H){var G=H-y,T=H-g;return y===void 0||G>=d||G<0||C&&T>=v}function R(){var H=t();if(A(H))return I(H);j=setTimeout(R,k(H))}function I(H){return j=void 0,_&&p?O(H):(p=h=void 0,b)}function L(){j!==void 0&&clearTimeout(j),g=0,p=y=h=j=void 0}function U(){return j===void 0?b:I(t())}function W(){var H=t(),G=A(H);if(p=arguments,h=this,y=H,G){if(j===void 0)return N(y);if(C)return clearTimeout(j),j=setTimeout(R,d),O(y)}return j===void 0&&(j=setTimeout(R,d)),b}return W.cancel=L,W.flush=U,W}return ub=l,ub}var db,xO;function UY(){if(xO)return db;xO=1;var e=zY(),t=ws(),r="Expected a function";function n(i,s,l){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(i,s,{leading:u,maxWait:s,trailing:d})}return db=n,db}var qY=UY();const _4=kt(qY);function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){WY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WY(e,t,r){return t=VY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VY(e){var t=HY(e,"string");return Fu(t)=="symbol"?t:t+""}function HY(e,t){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GY(e,t){return QY(e)||XY(e,t)||YY(e,t)||KY()}function KY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YY(e,t){if(e){if(typeof e=="string")return bO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bO(e,t)}}function bO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function QY(e){if(Array.isArray(e))return e}var ZY=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,l=s===void 0?"100%":s,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,p=f===void 0?0:f,h=e.minHeight,v=e.maxHeight,b=e.children,j=e.debounce,y=j===void 0?0:j,g=e.id,S=e.className,C=e.onResize,_=e.style,O=_===void 0?{}:_,N=w.useRef(null),k=w.useRef();k.current=C,w.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var A=w.useState({containerWidth:i.width,containerHeight:i.height}),R=GY(A,2),I=R[0],L=R[1],U=w.useCallback(function(H,G){L(function(T){var D=Math.round(H),V=Math.round(G);return T.containerWidth===D&&T.containerHeight===V?T:{containerWidth:D,containerHeight:V}})},[]);w.useEffect(function(){var H=function(q){var K,z=q[0].contentRect,F=z.width,$=z.height;U(F,$),(K=k.current)===null||K===void 0||K.call(k,F,$)};y>0&&(H=_4(H,y,{trailing:!0,leading:!1}));var G=new ResizeObserver(H),T=N.current.getBoundingClientRect(),D=T.width,V=T.height;return U(D,V),G.observe(N.current),function(){G.disconnect()}},[U,y]);var W=w.useMemo(function(){var H=I.containerWidth,G=I.containerHeight;if(H<0||G<0)return null;ci(Js(l)||Js(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),ci(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=Js(l)?H:l,D=Js(d)?G:d;r&&r>0&&(T?D=T/r:D&&(T=D*r),v&&D>v&&(D=v)),ci(T>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,D,l,d,p,h,r);var V=!Array.isArray(b)&&li(b.type).endsWith("Chart");return X.Children.map(b,function(B){return X.isValidElement(B)?w.cloneElement(B,gh({width:T,height:D},V?{style:gh({height:"100%",width:"100%",maxHeight:D,maxWidth:T},B.props.style)}:{})):B})},[r,b,d,v,h,p,I,l]);return X.createElement("div",{id:g?"".concat(g):void 0,className:pt("recharts-responsive-container",S),style:gh(gh({},O),{},{width:l,height:d,minWidth:p,minHeight:h,maxHeight:v}),ref:N},W)}),E4=function(t){return null};E4.displayName="Cell";function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){JY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JY(e,t,r){return t=eX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eX(e){var t=tX(e,"string");return Bu(t)=="symbol"?t:t+""}function tX(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var il={widthCache:{},cacheCount:0},rX=2e3,nX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jO="recharts_measurement_span";function aX(e){var t=cj({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var yu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rd.isSsr)return{width:0,height:0};var n=aX(r),i=JSON.stringify({text:t,copyStyle:n});if(il.widthCache[i])return il.widthCache[i];try{var s=document.getElementById(jO);s||(s=document.createElement("span"),s.setAttribute("id",jO),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=cj(cj({},nX),n);Object.assign(s.style,l),s.textContent="".concat(t);var u=s.getBoundingClientRect(),d={width:u.width,height:u.height};return il.widthCache[i]=d,++il.cacheCount>rX&&(il.cacheCount=0,il.widthCache={}),d}catch{return{width:0,height:0}}},iX=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function tp(e,t){return cX(e)||lX(e,t)||oX(e,t)||sX()}function sX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oX(e,t){if(e){if(typeof e=="string")return NO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NO(e,t)}}function NO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function cX(e){if(Array.isArray(e))return e}function uX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fX(n.key),n)}}function dX(e,t,r){return t&&SO(e.prototype,t),r&&SO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fX(e){var t=hX(e,"string");return zu(t)=="symbol"?t:t+""}function hX(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_O=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,k4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vX=Object.keys(k4),pl="NaN";function gX(e,t){return e*k4[t]}var xh=(function(){function e(t,r){uX(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!pX.test(r)&&(this.num=NaN,this.unit=""),vX.includes(r)&&(this.num=gX(t,r),this.unit="px")}return dX(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=mX.exec(r))!==null&&n!==void 0?n:[],s=tp(i,3),l=s[1],u=s[2];return new e(parseFloat(l),u??"")}}])})();function P4(e){if(e.includes(pl))return pl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=CO.exec(t))!==null&&r!==void 0?r:[],i=tp(n,4),s=i[1],l=i[2],u=i[3],d=xh.parse(s??""),f=xh.parse(u??""),p=l==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return pl;t=t.replace(CO,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,v=(h=_O.exec(t))!==null&&h!==void 0?h:[],b=tp(v,4),j=b[1],y=b[2],g=b[3],S=xh.parse(j??""),C=xh.parse(g??""),_=y==="+"?S.add(C):S.subtract(C);if(_.isNaN())return pl;t=t.replace(_O,_.toString())}return t}var EO=/\(([^()]*)\)/;function xX(e){for(var t=e;t.includes("(");){var r=EO.exec(t),n=tp(r,2),i=n[1];t=t.replace(EO,P4(i))}return t}function yX(e){var t=e.replace(/\s+/g,"");return t=xX(t),t=P4(t),t}function bX(e){try{return yX(e)}catch{return pl}}function fb(e){var t=bX(e.slice(5,-1));return t===pl?"":t}var wX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jX=["dx","dy","angle","className","breakAll"];function uj(){return uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uj.apply(this,arguments)}function kO(e,t){if(e==null)return{};var r=NX(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PO(e,t){return EX(e)||_X(e,t)||CX(e,t)||SX()}function SX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CX(e,t){if(e){if(typeof e=="string")return OO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OO(e,t)}}function OO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _X(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function EX(e){if(Array.isArray(e))return e}var O4=/[ \f\n\r\t\v\u2028\u2029]+/,A4=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];yt(r)||(n?s=r.toString().split(""):s=r.toString().split(O4));var l=s.map(function(d){return{word:d,width:yu(d,i).width}}),u=n?0:yu(" ",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},kX=function(t,r,n,i,s){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,p=Oe(l),h=u,v=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(D,V){var B=V.word,q=V.width,K=D[D.length-1];if(K&&(i==null||s||K.width+q+n<Number(i)))K.words.push(B),K.width+=q+n;else{var z={words:[B],width:q};D.push(z)}return D},[])},b=v(r),j=function(T){return T.reduce(function(D,V){return D.width>V.width?D:V})};if(!p)return b;for(var y="…",g=function(T){var D=h.slice(0,T),V=A4({breakAll:f,style:d,children:D+y}).wordsWithComputedWidth,B=v(V),q=B.length>l||j(B).width>Number(i);return[q,B]},S=0,C=h.length-1,_=0,O;S<=C&&_<=h.length-1;){var N=Math.floor((S+C)/2),k=N-1,A=g(k),R=PO(A,2),I=R[0],L=R[1],U=g(N),W=PO(U,1),H=W[0];if(!I&&!H&&(S=N+1),I&&H&&(C=N-1),!I&&H){O=L;break}_++}return O||b},AO=function(t){var r=yt(t)?[]:t.toString().split(O4);return[{words:r}]},PX=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,l=t.breakAll,u=t.maxLines;if((r||n)&&!Rd.isSsr){var d,f,p=A4({breakAll:l,children:i,style:s});if(p){var h=p.wordsWithComputedWidth,v=p.spaceWidth;d=h,f=v}else return AO(i);return kX({breakAll:l,children:i,maxLines:u,style:s},d,f,r,n)}return AO(i)},TO="#808080",rp=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,p=t.scaleToFit,h=p===void 0?!1:p,v=t.textAnchor,b=v===void 0?"start":v,j=t.verticalAnchor,y=j===void 0?"end":j,g=t.fill,S=g===void 0?TO:g,C=kO(t,wX),_=w.useMemo(function(){return PX({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:h,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,h,C.style,C.width]),O=C.dx,N=C.dy,k=C.angle,A=C.className,R=C.breakAll,I=kO(C,jX);if(!cr(n)||!cr(s))return null;var L=n+(Oe(O)?O:0),U=s+(Oe(N)?N:0),W;switch(y){case"start":W=fb("calc(".concat(f,")"));break;case"middle":W=fb("calc(".concat((_.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:W=fb("calc(".concat(_.length-1," * -").concat(u,")"));break}var H=[];if(h){var G=_[0].width,T=C.width;H.push("scale(".concat((Oe(T)?T/G:1)/G,")"))}return k&&H.push("rotate(".concat(k,", ").concat(L,", ").concat(U,")")),H.length&&(I.transform=H.join(" ")),X.createElement("text",uj({},xt(I,!0),{x:L,y:U,className:pt("recharts-text",A),textAnchor:b,fill:S.includes("url")?TO:S}),_.map(function(D,V){var B=D.words.join(R?"":" ");return X.createElement("tspan",{x:L,dy:V===0?W:u,key:"".concat(B,"-").concat(V)},B)}))};function os(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function OX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lN(e){let t,r,n;e.length!==2?(t=os,r=(u,d)=>os(e(u),d),n=(u,d)=>e(u)-d):(t=e===os||e===OX?e:AX,r=e,n=e);function i(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const h=f+p>>>1;r(u[h],d)<0?f=h+1:p=h}while(f<p)}return f}function s(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const h=f+p>>>1;r(u[h],d)<=0?f=h+1:p=h}while(f<p)}return f}function l(u,d,f=0,p=u.length){const h=i(u,d,f,p-1);return h>f&&n(u[h-1],d)>-n(u[h],d)?h-1:h}return{left:i,center:l,right:s}}function AX(){return 0}function T4(e){return e===null?NaN:+e}function*TX(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const IX=lN(os),Dd=IX.right;lN(T4).center;class IO extends Map{constructor(t,r=MX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(RO(this,t))}has(t){return super.has(RO(this,t))}set(t,r){return super.set(RX(this,t),r)}delete(t){return super.delete(DX(this,t))}}function RO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function RX({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function DX({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function MX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $X(e=os){if(e===os)return I4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function I4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const LX=Math.sqrt(50),FX=Math.sqrt(10),BX=Math.sqrt(2);function np(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),l=s>=LX?10:s>=FX?5:s>=BX?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?np(e,t,r*2):[u,d,f]}function dj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,l]=n?np(t,e,r):np(e,t,r);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(s-f)/-l;else for(let f=0;f<u;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function fj(e,t,r){return t=+t,e=+e,r=+r,np(e,t,r)[2]}function hj(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?fj(t,e,r):fj(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function DO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function R4(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?I4:$X(i);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,p=Math.log(d),h=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*h*(d-h)/d)*(f-d/2<0?-1:1),b=Math.max(r,Math.floor(t-f*h/d+v)),j=Math.min(n,Math.floor(t+(d-f)*h/d+v));R4(e,t,b,j,i)}const s=e[t];let l=r,u=n;for(ru(e,r,t),i(e[n],s)>0&&ru(e,r,n);l<u;){for(ru(e,l,u),++l,--u;i(e[l],s)<0;)++l;for(;i(e[u],s)>0;)--u}i(e[r],s)===0?ru(e,r,u):(++u,ru(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function ru(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function zX(e,t,r){if(e=Float64Array.from(TX(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return MO(e);if(t>=1)return DO(e);var n,i=(n-1)*t,s=Math.floor(i),l=DO(R4(e,s).subarray(0,s+1)),u=MO(e.subarray(s+1));return l+(u-l)*(i-s)}}function UX(e,t,r=T4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(i-s)}}function qX(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Un(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ni(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const pj=Symbol("implicit");function cN(){var e=new IO,t=[],r=[],n=pj;function i(s){let l=e.get(s);if(l===void 0){if(n!==pj)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new IO;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return cN(t,r).unknown(n)},Un.apply(i,arguments),i}function Uu(){var e=cN().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,l,u=!1,d=0,f=0,p=.5;delete e.unknown;function h(){var v=t().length,b=i<n,j=b?i:n,y=b?n:i;s=(y-j)/Math.max(1,v-d+f*2),u&&(s=Math.floor(s)),j+=(y-j-s*(v-d))*p,l=s*(1-d),u&&(j=Math.round(j),l=Math.round(l));var g=qX(v).map(function(S){return j+s*S});return r(b?g.reverse():g)}return e.domain=function(v){return arguments.length?(t(v),h()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,h()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,h()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),h()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),h()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,h()):f},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),h()):p},e.copy=function(){return Uu(t(),[n,i]).round(u).paddingInner(d).paddingOuter(f).align(p)},Un.apply(h(),arguments)}function D4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return D4(t())},e}function bu(){return D4(Uu.apply(null,arguments).paddingInner(1))}function uN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function M4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Md(){}var qu=.7,ap=1/qu,wl="\\s*([+-]?\\d+)\\s*",Wu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WX=/^#([0-9a-f]{3,8})$/,VX=new RegExp(`^rgb\\(${wl},${wl},${wl}\\)$`),HX=new RegExp(`^rgb\\(${_a},${_a},${_a}\\)$`),GX=new RegExp(`^rgba\\(${wl},${wl},${wl},${Wu}\\)$`),KX=new RegExp(`^rgba\\(${_a},${_a},${_a},${Wu}\\)$`),YX=new RegExp(`^hsl\\(${Wu},${_a},${_a}\\)$`),XX=new RegExp(`^hsla\\(${Wu},${_a},${_a},${Wu}\\)$`),$O={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uN(Md,Vu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:LO,formatHex:LO,formatHex8:QX,formatHsl:ZX,formatRgb:FO,toString:FO});function LO(){return this.rgb().formatHex()}function QX(){return this.rgb().formatHex8()}function ZX(){return $4(this).formatHsl()}function FO(){return this.rgb().formatRgb()}function Vu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=WX.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?BO(t):r===3?new en(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=VX.exec(e))?new en(t[1],t[2],t[3],1):(t=HX.exec(e))?new en(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=GX.exec(e))?yh(t[1],t[2],t[3],t[4]):(t=KX.exec(e))?yh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YX.exec(e))?qO(t[1],t[2]/100,t[3]/100,1):(t=XX.exec(e))?qO(t[1],t[2]/100,t[3]/100,t[4]):$O.hasOwnProperty(e)?BO($O[e]):e==="transparent"?new en(NaN,NaN,NaN,0):null}function BO(e){return new en(e>>16&255,e>>8&255,e&255,1)}function yh(e,t,r,n){return n<=0&&(e=t=r=NaN),new en(e,t,r,n)}function JX(e){return e instanceof Md||(e=Vu(e)),e?(e=e.rgb(),new en(e.r,e.g,e.b,e.opacity)):new en}function mj(e,t,r,n){return arguments.length===1?JX(e):new en(e,t,r,n??1)}function en(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}uN(en,mj,M4(Md,{brighter(e){return e=e==null?ap:Math.pow(ap,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qu:Math.pow(qu,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new en(io(this.r),io(this.g),io(this.b),ip(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zO,formatHex:zO,formatHex8:eQ,formatRgb:UO,toString:UO}));function zO(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}`}function eQ(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}${eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function UO(){const e=ip(this.opacity);return`${e===1?"rgb(":"rgba("}${io(this.r)}, ${io(this.g)}, ${io(this.b)}${e===1?")":`, ${e})`}`}function ip(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function io(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eo(e){return e=io(e),(e<16?"0":"")+e.toString(16)}function qO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Jn(e,t,r,n)}function $4(e){if(e instanceof Jn)return new Jn(e.h,e.s,e.l,e.opacity);if(e instanceof Md||(e=Vu(e)),!e)return new Jn;if(e instanceof Jn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-i,d=(s+i)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?s+i:2-s-i,l*=60):u=d>0&&d<1?0:l,new Jn(l,u,d,e.opacity)}function tQ(e,t,r,n){return arguments.length===1?$4(e):new Jn(e,t,r,n??1)}function Jn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}uN(Jn,tQ,M4(Md,{brighter(e){return e=e==null?ap:Math.pow(ap,e),new Jn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qu:Math.pow(qu,e),new Jn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new en(hb(e>=240?e-240:e+120,i,n),hb(e,i,n),hb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Jn(WO(this.h),bh(this.s),bh(this.l),ip(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ip(this.opacity);return`${e===1?"hsl(":"hsla("}${WO(this.h)}, ${bh(this.s)*100}%, ${bh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function WO(e){return e=(e||0)%360,e<0?e+360:e}function bh(e){return Math.max(0,Math.min(1,e||0))}function hb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const dN=e=>()=>e;function rQ(e,t){return function(r){return e+r*t}}function nQ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function aQ(e){return(e=+e)==1?L4:function(t,r){return r-t?nQ(t,r,e):dN(isNaN(t)?r:t)}}function L4(e,t){var r=t-e;return r?rQ(e,r):dN(isNaN(e)?t:e)}const VO=(function e(t){var r=aQ(t);function n(i,s){var l=r((i=mj(i)).r,(s=mj(s)).r),u=r(i.g,s.g),d=r(i.b,s.b),f=L4(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=f(p),i+""}}return n.gamma=e,n})(1);function iQ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function sQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oQ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)i[l]=lc(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=i[l](u);return s}}function lQ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function cQ(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=lc(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var vj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pb=new RegExp(vj.source,"g");function uQ(e){return function(){return e}}function dQ(e){return function(t){return e(t)+""}}function fQ(e,t){var r=vj.lastIndex=pb.lastIndex=0,n,i,s,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=vj.exec(e))&&(i=pb.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:sp(n,i)})),r=pb.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?dQ(d[0].x):uQ(t):(t=d.length,function(f){for(var p=0,h;p<t;++p)u[(h=d[p]).i]=h.x(f);return u.join("")})}function lc(e,t){var r=typeof t,n;return t==null||r==="boolean"?dN(t):(r==="number"?sp:r==="string"?(n=Vu(t))?(t=n,VO):fQ:t instanceof Vu?VO:t instanceof Date?lQ:sQ(t)?iQ:Array.isArray(t)?oQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cQ:sp)(e,t)}function fN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function hQ(e,t){t===void 0&&(t=e,e=lc);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function pQ(e){return function(){return e}}function op(e){return+e}var HO=[0,1];function Ur(e){return e}function gj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:pQ(isNaN(t)?NaN:.5)}function mQ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function vQ(e,t,r){var n=e[0],i=e[1],s=t[0],l=t[1];return i<n?(n=gj(i,n),s=r(l,s)):(n=gj(n,i),s=r(s,l)),function(u){return s(n(u))}}function gQ(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=gj(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var d=Dd(e,u,1,n)-1;return s[d](i[d](u))}}function $d(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nm(){var e=HO,t=HO,r=lc,n,i,s,l=Ur,u,d,f;function p(){var v=Math.min(e.length,t.length);return l!==Ur&&(l=mQ(e[0],e[v-1])),u=v>2?gQ:vQ,d=f=null,h}function h(v){return v==null||isNaN(v=+v)?s:(d||(d=u(e.map(n),t,r)))(n(l(v)))}return h.invert=function(v){return l(i((f||(f=u(t,e.map(n),sp)))(v)))},h.domain=function(v){return arguments.length?(e=Array.from(v,op),p()):e.slice()},h.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},h.rangeRound=function(v){return t=Array.from(v),r=fN,p()},h.clamp=function(v){return arguments.length?(l=v?!0:Ur,p()):l!==Ur},h.interpolate=function(v){return arguments.length?(r=v,p()):r},h.unknown=function(v){return arguments.length?(s=v,h):s},function(v,b){return n=v,i=b,p()}}function hN(){return Nm()(Ur,Ur)}function xQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Il(e){return e=lp(Math.abs(e)),e?e[1]:NaN}function yQ(e,t){return function(r,n){for(var i=r.length,s=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function bQ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var wQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hu(e){if(!(t=wQ.exec(e)))throw new Error("invalid format: "+e);var t;return new pN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hu.prototype=pN.prototype;function pN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jQ(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var F4;function NQ(e,t){var r=lp(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(F4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+lp(e,Math.max(0,t+s-1))[0]}function GO(e,t){var r=lp(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const KO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GO(e*100,t),r:GO,s:NQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YO(e){return e}var XO=Array.prototype.map,QO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function SQ(e){var t=e.grouping===void 0||e.thousands===void 0?YO:yQ(XO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?YO:bQ(XO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(h){h=Hu(h);var v=h.fill,b=h.align,j=h.sign,y=h.symbol,g=h.zero,S=h.width,C=h.comma,_=h.precision,O=h.trim,N=h.type;N==="n"?(C=!0,N="g"):KO[N]||(_===void 0&&(_=12),O=!0,N="g"),(g||v==="0"&&b==="=")&&(g=!0,v="0",b="=");var k=y==="$"?r:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",A=y==="$"?n:/[%p]/.test(N)?l:"",R=KO[N],I=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function L(U){var W=k,H=A,G,T,D;if(N==="c")H=R(U)+H,U="";else{U=+U;var V=U<0||1/U<0;if(U=isNaN(U)?d:R(Math.abs(U),_),O&&(U=jQ(U)),V&&+U==0&&j!=="+"&&(V=!1),W=(V?j==="("?j:u:j==="-"||j==="("?"":j)+W,H=(N==="s"?QO[8+F4/3]:"")+H+(V&&j==="("?")":""),I){for(G=-1,T=U.length;++G<T;)if(D=U.charCodeAt(G),48>D||D>57){H=(D===46?i+U.slice(G+1):U.slice(G))+H,U=U.slice(0,G);break}}}C&&!g&&(U=t(U,1/0));var B=W.length+U.length+H.length,q=B<S?new Array(S-B+1).join(v):"";switch(C&&g&&(U=t(q+U,q.length?S-H.length:1/0),q=""),b){case"<":U=W+U+H+q;break;case"=":U=W+q+U+H;break;case"^":U=q.slice(0,B=q.length>>1)+W+U+H+q.slice(B);break;default:U=q+W+U+H;break}return s(U)}return L.toString=function(){return h+""},L}function p(h,v){var b=f((h=Hu(h),h.type="f",h)),j=Math.max(-8,Math.min(8,Math.floor(Il(v)/3)))*3,y=Math.pow(10,-j),g=QO[8+j/3];return function(S){return b(y*S)+g}}return{format:f,formatPrefix:p}}var wh,mN,B4;CQ({thousands:",",grouping:[3],currency:["$",""]});function CQ(e){return wh=SQ(e),mN=wh.format,B4=wh.formatPrefix,wh}function _Q(e){return Math.max(0,-Il(Math.abs(e)))}function EQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Il(t)/3)))*3-Il(Math.abs(e)))}function kQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Il(t)-Il(e))+1}function z4(e,t,r,n){var i=hj(e,t,r),s;switch(n=Hu(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=EQ(i,l))&&(n.precision=s),B4(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=kQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=_Q(i))&&(n.precision=s-(n.type==="%")*2);break}}return mN(n)}function Ns(e){var t=e.domain;return e.ticks=function(r){var n=t();return dj(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return z4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,l=n[i],u=n[s],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=i,i=s,s=f);p-- >0;){if(f=fj(l,u,r),f===d)return n[i]=l,n[s]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function cp(){var e=hN();return e.copy=function(){return $d(e,cp())},Un.apply(e,arguments),Ns(e)}function U4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,op),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return U4(e).unknown(t)},e=arguments.length?Array.from(e,op):[0,1],Ns(r)}function q4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],l;return s<i&&(l=r,r=n,n=l,l=i,i=s,s=l),e[r]=t.floor(i),e[n]=t.ceil(s),e}function ZO(e){return Math.log(e)}function JO(e){return Math.exp(e)}function PQ(e){return-Math.log(-e)}function OQ(e){return-Math.exp(-e)}function AQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function TQ(e){return e===10?AQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function IQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eA(e){return(t,r)=>-e(-t,r)}function vN(e){const t=e(ZO,JO),r=t.domain;let n=10,i,s;function l(){return i=IQ(n),s=TQ(n),r()[0]<0?(i=eA(i),s=eA(s),e(PQ,OQ)):e(ZO,JO),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const h=p<f;h&&([f,p]=[p,f]);let v=i(f),b=i(p),j,y;const g=u==null?10:+u;let S=[];if(!(n%1)&&b-v<g){if(v=Math.floor(v),b=Math.ceil(b),f>0){for(;v<=b;++v)for(j=1;j<n;++j)if(y=v<0?j/s(-v):j*s(v),!(y<f)){if(y>p)break;S.push(y)}}else for(;v<=b;++v)for(j=n-1;j>=1;--j)if(y=v>0?j/s(-v):j*s(v),!(y<f)){if(y>p)break;S.push(y)}S.length*2<g&&(S=dj(f,p,g))}else S=dj(v,b,Math.min(b-v,g)).map(s);return h?S.reverse():S},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Hu(d)).precision==null&&(d.trim=!0),d=mN(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return p=>{let h=p/s(Math.round(i(p)));return h*n<n-.5&&(h*=n),h<=f?d(p):""}},t.nice=()=>r(q4(r(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),t}function W4(){const e=vN(Nm()).domain([1,10]);return e.copy=()=>$d(e,W4()).base(e.base()),Un.apply(e,arguments),e}function tA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gN(e){var t=1,r=e(tA(t),rA(t));return r.constant=function(n){return arguments.length?e(tA(t=+n),rA(t)):t},Ns(r)}function V4(){var e=gN(Nm());return e.copy=function(){return $d(e,V4()).constant(e.constant())},Un.apply(e,arguments)}function nA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function RQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function DQ(e){return e<0?-e*e:e*e}function xN(e){var t=e(Ur,Ur),r=1;function n(){return r===1?e(Ur,Ur):r===.5?e(RQ,DQ):e(nA(r),nA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ns(t)}function yN(){var e=xN(Nm());return e.copy=function(){return $d(e,yN()).exponent(e.exponent())},Un.apply(e,arguments),e}function MQ(){return yN.apply(null,arguments).exponent(.5)}function aA(e){return Math.sign(e)*e*e}function $Q(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function H4(){var e=hN(),t=[0,1],r=!1,n;function i(s){var l=$Q(e(s));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(s){return e.invert(aA(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,op)).map(aA)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return H4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Un.apply(i,arguments),Ns(i)}function G4(){var e=[],t=[],r=[],n;function i(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=UX(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Dd(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(os),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return G4().domain(e).range(t).unknown(n)},Un.apply(s,arguments)}function K4(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Dd(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return K4().domain([e,t]).range(i).unknown(s)},Un.apply(Ns(l),arguments)}function Y4(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Dd(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Y4().domain(e).range(t).unknown(r)},Un.apply(i,arguments)}const mb=new Date,vb=new Date;function ur(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let f;do d.push(f=new Date(+s)),t(s,u),e(s);while(f<s&&s<l);return d},i.filter=s=>ur(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(i.count=(s,l)=>(mb.setTime(+s),vb.setTime(+l),e(mb),e(vb),Math.floor(r(mb,vb))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?l=>n(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const up=ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);up.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):up);up.range;const ti=1e3,Ln=ti*60,ri=Ln*60,pi=ri*24,bN=pi*7,iA=pi*30,gb=pi*365,to=ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ti)},(e,t)=>(t-e)/ti,e=>e.getUTCSeconds());to.range;const wN=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ti)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getMinutes());wN.range;const jN=ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCMinutes());jN.range;const NN=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ti-e.getMinutes()*Ln)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getHours());NN.range;const SN=ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getUTCHours());SN.range;const Ld=ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ln)/pi,e=>e.getDate()-1);Ld.range;const Sm=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pi,e=>e.getUTCDate()-1);Sm.range;const X4=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pi,e=>Math.floor(e/pi));X4.range;function _o(e){return ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ln)/bN)}const Cm=_o(0),dp=_o(1),LQ=_o(2),FQ=_o(3),Rl=_o(4),BQ=_o(5),zQ=_o(6);Cm.range;dp.range;LQ.range;FQ.range;Rl.range;BQ.range;zQ.range;function Eo(e){return ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bN)}const _m=Eo(0),fp=Eo(1),UQ=Eo(2),qQ=Eo(3),Dl=Eo(4),WQ=Eo(5),VQ=Eo(6);_m.range;fp.range;UQ.range;qQ.range;Dl.range;WQ.range;VQ.range;const CN=ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());CN.range;const _N=ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_N.range;const mi=ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});mi.range;const vi=ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});vi.range;function Q4(e,t,r,n,i,s){const l=[[to,1,ti],[to,5,5*ti],[to,15,15*ti],[to,30,30*ti],[s,1,Ln],[s,5,5*Ln],[s,15,15*Ln],[s,30,30*Ln],[i,1,ri],[i,3,3*ri],[i,6,6*ri],[i,12,12*ri],[n,1,pi],[n,2,2*pi],[r,1,bN],[t,1,iA],[t,3,3*iA],[e,1,gb]];function u(f,p,h){const v=p<f;v&&([f,p]=[p,f]);const b=h&&typeof h.range=="function"?h:d(f,p,h),j=b?b.range(f,+p+1):[];return v?j.reverse():j}function d(f,p,h){const v=Math.abs(p-f)/h,b=lN(([,,g])=>g).right(l,v);if(b===l.length)return e.every(hj(f/gb,p/gb,h));if(b===0)return up.every(Math.max(hj(f,p,h),1));const[j,y]=l[v/l[b-1][2]<l[b][2]/v?b-1:b];return j.every(y)}return[u,d]}const[HQ,GQ]=Q4(vi,_N,_m,X4,SN,jN),[KQ,YQ]=Q4(mi,CN,Cm,Ld,NN,wN);function xb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function XQ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=au(i),p=iu(i),h=au(s),v=iu(s),b=au(l),j=iu(l),y=au(u),g=iu(u),S=au(d),C=iu(d),_={a:V,A:B,b:q,B:K,c:null,d:dA,e:dA,f:yZ,g:PZ,G:AZ,H:vZ,I:gZ,j:xZ,L:Z4,m:bZ,M:wZ,p:z,q:F,Q:pA,s:mA,S:jZ,u:NZ,U:SZ,V:CZ,w:_Z,W:EZ,x:null,X:null,y:kZ,Y:OZ,Z:TZ,"%":hA},O={a:$,A:Q,b:J,B:le,c:null,d:fA,e:fA,f:MZ,g:HZ,G:KZ,H:IZ,I:RZ,j:DZ,L:e$,m:$Z,M:LZ,p:Y,q:ce,Q:pA,s:mA,S:FZ,u:BZ,U:zZ,V:UZ,w:qZ,W:WZ,x:null,X:null,y:VZ,Y:GZ,Z:YZ,"%":hA},N={a:L,A:U,b:W,B:H,c:G,d:cA,e:cA,f:fZ,g:lA,G:oA,H:uA,I:uA,j:lZ,L:dZ,m:oZ,M:cZ,p:I,q:sZ,Q:pZ,s:mZ,S:uZ,u:tZ,U:rZ,V:nZ,w:eZ,W:aZ,x:T,X:D,y:lA,Y:oA,Z:iZ,"%":hZ};_.x=k(r,_),_.X=k(n,_),_.c=k(t,_),O.x=k(r,O),O.X=k(n,O),O.c=k(t,O);function k(ie,xe){return function(Ce){var te=[],ae=-1,de=0,Me=ie.length,Ge,tt,zt;for(Ce instanceof Date||(Ce=new Date(+Ce));++ae<Me;)ie.charCodeAt(ae)===37&&(te.push(ie.slice(de,ae)),(tt=sA[Ge=ie.charAt(++ae)])!=null?Ge=ie.charAt(++ae):tt=Ge==="e"?" ":"0",(zt=xe[Ge])&&(Ge=zt(Ce,tt)),te.push(Ge),de=ae+1);return te.push(ie.slice(de,ae)),te.join("")}}function A(ie,xe){return function(Ce){var te=nu(1900,void 0,1),ae=R(te,ie,Ce+="",0),de,Me;if(ae!=Ce.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(xe&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(de=yb(nu(te.y,0,1)),Me=de.getUTCDay(),de=Me>4||Me===0?fp.ceil(de):fp(de),de=Sm.offset(de,(te.V-1)*7),te.y=de.getUTCFullYear(),te.m=de.getUTCMonth(),te.d=de.getUTCDate()+(te.w+6)%7):(de=xb(nu(te.y,0,1)),Me=de.getDay(),de=Me>4||Me===0?dp.ceil(de):dp(de),de=Ld.offset(de,(te.V-1)*7),te.y=de.getFullYear(),te.m=de.getMonth(),te.d=de.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Me="Z"in te?yb(nu(te.y,0,1)).getUTCDay():xb(nu(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Me+5)%7:te.w+te.U*7-(Me+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,yb(te)):xb(te)}}function R(ie,xe,Ce,te){for(var ae=0,de=xe.length,Me=Ce.length,Ge,tt;ae<de;){if(te>=Me)return-1;if(Ge=xe.charCodeAt(ae++),Ge===37){if(Ge=xe.charAt(ae++),tt=N[Ge in sA?xe.charAt(ae++):Ge],!tt||(te=tt(ie,Ce,te))<0)return-1}else if(Ge!=Ce.charCodeAt(te++))return-1}return te}function I(ie,xe,Ce){var te=f.exec(xe.slice(Ce));return te?(ie.p=p.get(te[0].toLowerCase()),Ce+te[0].length):-1}function L(ie,xe,Ce){var te=b.exec(xe.slice(Ce));return te?(ie.w=j.get(te[0].toLowerCase()),Ce+te[0].length):-1}function U(ie,xe,Ce){var te=h.exec(xe.slice(Ce));return te?(ie.w=v.get(te[0].toLowerCase()),Ce+te[0].length):-1}function W(ie,xe,Ce){var te=S.exec(xe.slice(Ce));return te?(ie.m=C.get(te[0].toLowerCase()),Ce+te[0].length):-1}function H(ie,xe,Ce){var te=y.exec(xe.slice(Ce));return te?(ie.m=g.get(te[0].toLowerCase()),Ce+te[0].length):-1}function G(ie,xe,Ce){return R(ie,t,xe,Ce)}function T(ie,xe,Ce){return R(ie,r,xe,Ce)}function D(ie,xe,Ce){return R(ie,n,xe,Ce)}function V(ie){return l[ie.getDay()]}function B(ie){return s[ie.getDay()]}function q(ie){return d[ie.getMonth()]}function K(ie){return u[ie.getMonth()]}function z(ie){return i[+(ie.getHours()>=12)]}function F(ie){return 1+~~(ie.getMonth()/3)}function $(ie){return l[ie.getUTCDay()]}function Q(ie){return s[ie.getUTCDay()]}function J(ie){return d[ie.getUTCMonth()]}function le(ie){return u[ie.getUTCMonth()]}function Y(ie){return i[+(ie.getUTCHours()>=12)]}function ce(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var xe=k(ie+="",_);return xe.toString=function(){return ie},xe},parse:function(ie){var xe=A(ie+="",!1);return xe.toString=function(){return ie},xe},utcFormat:function(ie){var xe=k(ie+="",O);return xe.toString=function(){return ie},xe},utcParse:function(ie){var xe=A(ie+="",!0);return xe.toString=function(){return ie},xe}}}var sA={"-":"",_:" ",0:"0"},xr=/^\s*\d+/,QQ=/^%/,ZQ=/[\\^$*+?|[\]().{}]/g;function gt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function JQ(e){return e.replace(ZQ,"\\$&")}function au(e){return new RegExp("^(?:"+e.map(JQ).join("|")+")","i")}function iu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function eZ(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function tZ(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function rZ(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function nZ(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function aZ(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function oA(e,t,r){var n=xr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function lA(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function iZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sZ(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function oZ(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function cA(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function lZ(e,t,r){var n=xr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function uA(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function cZ(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function uZ(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function dZ(e,t,r){var n=xr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function fZ(e,t,r){var n=xr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function hZ(e,t,r){var n=QQ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function pZ(e,t,r){var n=xr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function mZ(e,t,r){var n=xr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function dA(e,t){return gt(e.getDate(),t,2)}function vZ(e,t){return gt(e.getHours(),t,2)}function gZ(e,t){return gt(e.getHours()%12||12,t,2)}function xZ(e,t){return gt(1+Ld.count(mi(e),e),t,3)}function Z4(e,t){return gt(e.getMilliseconds(),t,3)}function yZ(e,t){return Z4(e,t)+"000"}function bZ(e,t){return gt(e.getMonth()+1,t,2)}function wZ(e,t){return gt(e.getMinutes(),t,2)}function jZ(e,t){return gt(e.getSeconds(),t,2)}function NZ(e){var t=e.getDay();return t===0?7:t}function SZ(e,t){return gt(Cm.count(mi(e)-1,e),t,2)}function J4(e){var t=e.getDay();return t>=4||t===0?Rl(e):Rl.ceil(e)}function CZ(e,t){return e=J4(e),gt(Rl.count(mi(e),e)+(mi(e).getDay()===4),t,2)}function _Z(e){return e.getDay()}function EZ(e,t){return gt(dp.count(mi(e)-1,e),t,2)}function kZ(e,t){return gt(e.getFullYear()%100,t,2)}function PZ(e,t){return e=J4(e),gt(e.getFullYear()%100,t,2)}function OZ(e,t){return gt(e.getFullYear()%1e4,t,4)}function AZ(e,t){var r=e.getDay();return e=r>=4||r===0?Rl(e):Rl.ceil(e),gt(e.getFullYear()%1e4,t,4)}function TZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gt(t/60|0,"0",2)+gt(t%60,"0",2)}function fA(e,t){return gt(e.getUTCDate(),t,2)}function IZ(e,t){return gt(e.getUTCHours(),t,2)}function RZ(e,t){return gt(e.getUTCHours()%12||12,t,2)}function DZ(e,t){return gt(1+Sm.count(vi(e),e),t,3)}function e$(e,t){return gt(e.getUTCMilliseconds(),t,3)}function MZ(e,t){return e$(e,t)+"000"}function $Z(e,t){return gt(e.getUTCMonth()+1,t,2)}function LZ(e,t){return gt(e.getUTCMinutes(),t,2)}function FZ(e,t){return gt(e.getUTCSeconds(),t,2)}function BZ(e){var t=e.getUTCDay();return t===0?7:t}function zZ(e,t){return gt(_m.count(vi(e)-1,e),t,2)}function t$(e){var t=e.getUTCDay();return t>=4||t===0?Dl(e):Dl.ceil(e)}function UZ(e,t){return e=t$(e),gt(Dl.count(vi(e),e)+(vi(e).getUTCDay()===4),t,2)}function qZ(e){return e.getUTCDay()}function WZ(e,t){return gt(fp.count(vi(e)-1,e),t,2)}function VZ(e,t){return gt(e.getUTCFullYear()%100,t,2)}function HZ(e,t){return e=t$(e),gt(e.getUTCFullYear()%100,t,2)}function GZ(e,t){return gt(e.getUTCFullYear()%1e4,t,4)}function KZ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Dl(e):Dl.ceil(e),gt(e.getUTCFullYear()%1e4,t,4)}function YZ(){return"+0000"}function hA(){return"%"}function pA(e){return+e}function mA(e){return Math.floor(+e/1e3)}var sl,r$,n$;XZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XZ(e){return sl=XQ(e),r$=sl.format,sl.parse,n$=sl.utcFormat,sl.utcParse,sl}function QZ(e){return new Date(e)}function ZZ(e){return e instanceof Date?+e:+new Date(+e)}function EN(e,t,r,n,i,s,l,u,d,f){var p=hN(),h=p.invert,v=p.domain,b=f(".%L"),j=f(":%S"),y=f("%I:%M"),g=f("%I %p"),S=f("%a %d"),C=f("%b %d"),_=f("%B"),O=f("%Y");function N(k){return(d(k)<k?b:u(k)<k?j:l(k)<k?y:s(k)<k?g:n(k)<k?i(k)<k?S:C:r(k)<k?_:O)(k)}return p.invert=function(k){return new Date(h(k))},p.domain=function(k){return arguments.length?v(Array.from(k,ZZ)):v().map(QZ)},p.ticks=function(k){var A=v();return e(A[0],A[A.length-1],k??10)},p.tickFormat=function(k,A){return A==null?N:f(A)},p.nice=function(k){var A=v();return(!k||typeof k.range!="function")&&(k=t(A[0],A[A.length-1],k??10)),k?v(q4(A,k)):p},p.copy=function(){return $d(p,EN(e,t,r,n,i,s,l,u,d,f))},p}function JZ(){return Un.apply(EN(KQ,YQ,mi,CN,Cm,Ld,NN,wN,to,r$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eJ(){return Un.apply(EN(HQ,GQ,vi,_N,_m,Sm,SN,jN,to,n$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Em(){var e=0,t=1,r,n,i,s,l=Ur,u=!1,d;function f(h){return h==null||isNaN(h=+h)?d:l(i===0?.5:(h=(s(h)-r)*i,u?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(h){return arguments.length?(u=!!h,f):u},f.interpolator=function(h){return arguments.length?(l=h,f):l};function p(h){return function(v){var b,j;return arguments.length?([b,j]=v,l=h(b,j),f):[l(0),l(1)]}}return f.range=p(lc),f.rangeRound=p(fN),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return s=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),f}}function Ss(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function a$(){var e=Ns(Em()(Ur));return e.copy=function(){return Ss(e,a$())},Ni.apply(e,arguments)}function i$(){var e=vN(Em()).domain([1,10]);return e.copy=function(){return Ss(e,i$()).base(e.base())},Ni.apply(e,arguments)}function s$(){var e=gN(Em());return e.copy=function(){return Ss(e,s$()).constant(e.constant())},Ni.apply(e,arguments)}function kN(){var e=xN(Em());return e.copy=function(){return Ss(e,kN()).exponent(e.exponent())},Ni.apply(e,arguments)}function tJ(){return kN.apply(null,arguments).exponent(.5)}function o$(){var e=[],t=Ur;function r(n){if(n!=null&&!isNaN(n=+n))return t((Dd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(os),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>zX(e,s/n))},r.copy=function(){return o$(t).domain(e)},Ni.apply(r,arguments)}function km(){var e=0,t=.5,r=1,n=1,i,s,l,u,d,f=Ur,p,h=!1,v;function b(y){return isNaN(y=+y)?v:(y=.5+((y=+p(y))-s)*(n*y<n*s?u:d),f(h?Math.max(0,Math.min(1,y)):y))}b.domain=function(y){return arguments.length?([e,t,r]=y,i=p(e=+e),s=p(t=+t),l=p(r=+r),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),n=s<i?-1:1,b):[e,t,r]},b.clamp=function(y){return arguments.length?(h=!!y,b):h},b.interpolator=function(y){return arguments.length?(f=y,b):f};function j(y){return function(g){var S,C,_;return arguments.length?([S,C,_]=g,f=hQ(y,[S,C,_]),b):[f(0),f(.5),f(1)]}}return b.range=j(lc),b.rangeRound=j(fN),b.unknown=function(y){return arguments.length?(v=y,b):v},function(y){return p=y,i=y(e),s=y(t),l=y(r),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),n=s<i?-1:1,b}}function l$(){var e=Ns(km()(Ur));return e.copy=function(){return Ss(e,l$())},Ni.apply(e,arguments)}function c$(){var e=vN(km()).domain([.1,1,10]);return e.copy=function(){return Ss(e,c$()).base(e.base())},Ni.apply(e,arguments)}function u$(){var e=gN(km());return e.copy=function(){return Ss(e,u$()).constant(e.constant())},Ni.apply(e,arguments)}function PN(){var e=xN(km());return e.copy=function(){return Ss(e,PN()).exponent(e.exponent())},Ni.apply(e,arguments)}function rJ(){return PN.apply(null,arguments).exponent(.5)}const vA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Uu,scaleDiverging:l$,scaleDivergingLog:c$,scaleDivergingPow:PN,scaleDivergingSqrt:rJ,scaleDivergingSymlog:u$,scaleIdentity:U4,scaleImplicit:pj,scaleLinear:cp,scaleLog:W4,scaleOrdinal:cN,scalePoint:bu,scalePow:yN,scaleQuantile:G4,scaleQuantize:K4,scaleRadial:H4,scaleSequential:a$,scaleSequentialLog:i$,scaleSequentialPow:kN,scaleSequentialQuantile:o$,scaleSequentialSqrt:tJ,scaleSequentialSymlog:s$,scaleSqrt:MQ,scaleSymlog:V4,scaleThreshold:Y4,scaleTime:JZ,scaleUtc:eJ,tickFormat:z4},Symbol.toStringTag,{value:"Module"}));var bb,gA;function d$(){if(gA)return bb;gA=1;var e=ic();function t(r,n,i){for(var s=-1,l=r.length;++s<l;){var u=r[s],d=n(u);if(d!=null&&(f===void 0?d===d&&!e(d):i(d,f)))var f=d,p=u}return p}return bb=t,bb}var wb,xA;function nJ(){if(xA)return wb;xA=1;function e(t,r){return t>r}return wb=e,wb}var jb,yA;function aJ(){if(yA)return jb;yA=1;var e=d$(),t=nJ(),r=oc();function n(i){return i&&i.length?e(i,r,t):void 0}return jb=n,jb}var iJ=aJ();const Pm=kt(iJ);var Nb,bA;function sJ(){if(bA)return Nb;bA=1;function e(t,r){return t<r}return Nb=e,Nb}var Sb,wA;function oJ(){if(wA)return Sb;wA=1;var e=d$(),t=sJ(),r=oc();function n(i){return i&&i.length?e(i,r,t):void 0}return Sb=n,Sb}var lJ=oJ();const Om=kt(lJ);var Cb,jA;function cJ(){if(jA)return Cb;jA=1;var e=V1(),t=js(),r=y4(),n=nn();function i(s,l){var u=n(s)?e:r;return u(s,t(l,3))}return Cb=i,Cb}var _b,NA;function uJ(){if(NA)return _b;NA=1;var e=g4(),t=cJ();function r(n,i){return e(t(n,i),1)}return _b=r,_b}var dJ=uJ();const fJ=kt(dJ);var Eb,SA;function hJ(){if(SA)return Eb;SA=1;var e=aN();function t(r,n){return e(r,n)}return Eb=t,Eb}var pJ=hJ();const ON=kt(pJ);var cc=1e9,mJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TN,Bt=!0,zn="[DecimalError] ",so=zn+"Invalid argument: ",AN=zn+"Exponent out of range: ",uc=Math.floor,Ys=Math.pow,vJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gn,mr=1e7,Lt=7,f$=9007199254740991,hp=uc(f$/Lt),De={};De.absoluteValue=De.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};De.comparedTo=De.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};De.decimalPlaces=De.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Lt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};De.dividedBy=De.div=function(e){return ui(this,new this.constructor(e))};De.dividedToIntegerBy=De.idiv=function(e){var t=this,r=t.constructor;return Pt(ui(t,new r(e),0,1),r.precision)};De.equals=De.eq=function(e){return!this.cmp(e)};De.exponent=function(){return rr(this)};De.greaterThan=De.gt=function(e){return this.cmp(e)>0};De.greaterThanOrEqualTo=De.gte=function(e){return this.cmp(e)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(e){return this.cmp(e)<0};De.lessThanOrEqualTo=De.lte=function(e){return this.cmp(e)<1};De.logarithm=De.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gn))throw Error(zn+"NaN");if(r.s<1)throw Error(zn+(r.s?"NaN":"-Infinity"));return r.eq(gn)?new n(0):(Bt=!1,t=ui(Gu(r,s),Gu(e,s),s),Bt=!0,Pt(t,i))};De.minus=De.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?m$(t,e):h$(t,(e.s=-e.s,e))};De.modulo=De.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(zn+"NaN");return r.s?(Bt=!1,t=ui(r,e,0,1).times(e),Bt=!0,r.minus(t)):Pt(new n(r),i)};De.naturalExponential=De.exp=function(){return p$(this)};De.naturalLogarithm=De.ln=function(){return Gu(this)};De.negated=De.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};De.plus=De.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?h$(t,e):m$(t,(e.s=-e.s,e))};De.precision=De.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(so+e);if(t=rr(i)+1,n=i.d.length-1,r=n*Lt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};De.squareRoot=De.sqrt=function(){var e,t,r,n,i,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(zn+"NaN")}for(e=rr(u),Bt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=ja(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=uc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(s=n,n=s.plus(ui(u,s,l+2)).times(.5),ja(s.d).slice(0,l)===(t=ja(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(Pt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return Bt=!0,Pt(n,r)};De.times=De.mul=function(e){var t,r,n,i,s,l,u,d,f,p=this,h=p.constructor,v=p.d,b=(e=new h(e)).d;if(!p.s||!e.s)return new h(0);for(e.s*=p.s,r=p.e+e.e,d=v.length,f=b.length,d<f&&(s=v,v=b,b=s,l=d,d=f,f=l),s=[],l=d+f,n=l;n--;)s.push(0);for(n=f;--n>=0;){for(t=0,i=d+n;i>n;)u=s[i]+b[n]*v[i-n-1]+t,s[i--]=u%mr|0,t=u/mr|0;s[i]=(s[i]+t)%mr|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Bt?Pt(e,h.precision):e};De.toDecimalPlaces=De.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ra(e,0,cc),t===void 0?t=n.rounding:Ra(t,0,8),Pt(r,e+rr(r)+1,t))};De.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=vo(n,!0):(Ra(e,0,cc),t===void 0?t=i.rounding:Ra(t,0,8),n=Pt(new i(n),e+1,t),r=vo(n,!0,e+1)),r};De.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?vo(i):(Ra(e,0,cc),t===void 0?t=s.rounding:Ra(t,0,8),n=Pt(new s(i),e+rr(i)+1,t),r=vo(n.abs(),!1,e+rr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};De.toInteger=De.toint=function(){var e=this,t=e.constructor;return Pt(new t(e),rr(e)+1,t.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(e){var t,r,n,i,s,l,u=this,d=u.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(gn);if(u=new d(u),!u.s){if(e.s<1)throw Error(zn+"Infinity");return u}if(u.eq(gn))return u;if(n=d.precision,e.eq(gn))return Pt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=p<0?-p:p)<=f$){for(i=new d(gn),t=Math.ceil(n/Lt+4),Bt=!1;r%2&&(i=i.times(u),_A(i.d,t)),r=uc(r/2),r!==0;)u=u.times(u),_A(u.d,t);return Bt=!0,e.s<0?new d(gn).div(i):Pt(i,n)}}else if(s<0)throw Error(zn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Bt=!1,i=e.times(Gu(u,n+f)),Bt=!0,i=p$(i),i.s=s,i};De.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=rr(i),n=vo(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ra(e,1,cc),t===void 0?t=s.rounding:Ra(t,0,8),i=Pt(new s(i),e,t),r=rr(i),n=vo(i,e<=r||r<=s.toExpNeg,e)),n};De.toSignificantDigits=De.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ra(e,1,cc),t===void 0?t=n.rounding:Ra(t,0,8)),Pt(new n(r),e,t)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rr(e),r=e.constructor;return vo(e,t<=r.toExpNeg||t>=r.toExpPos)};function h$(e,t){var r,n,i,s,l,u,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Bt?Pt(t,h):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),s=l-i,s){for(s<0?(n=d,s=-s,u=f.length):(n=f,i=l,u=d.length),l=Math.ceil(h/Lt),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=f.length,u-s<0&&(s=u,n=f,f=d,d=n),r=0;s;)r=(d[--s]=d[s]+f[s]+r)/mr|0,d[s]%=mr;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,Bt?Pt(t,h):t}function Ra(e,t,r){if(e!==~~e||e<t||e>r)throw Error(so+e)}function ja(e){var t,r,n,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)n=e[t]+"",r=Lt-n.length,r&&(s+=Ji(r)),s+=n;l=e[t],n=l+"",r=Lt-n.length,r&&(s+=Ji(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var ui=(function(){function e(n,i){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*i+l,n[u]=s%mr|0,l=s/mr|0;return l&&n.unshift(l),n}function t(n,i,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,s){for(var l=0;s--;)n[s]-=l,l=n[s]<i[s]?1:0,n[s]=l*mr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,l){var u,d,f,p,h,v,b,j,y,g,S,C,_,O,N,k,A,R,I=n.constructor,L=n.s==i.s?1:-1,U=n.d,W=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(zn+"Division by zero");for(d=n.e-i.e,A=W.length,N=U.length,b=new I(L),j=b.d=[],f=0;W[f]==(U[f]||0);)++f;if(W[f]>(U[f]||0)&&--d,s==null?C=s=I.precision:l?C=s+(rr(n)-rr(i))+1:C=s,C<0)return new I(0);if(C=C/Lt+2|0,f=0,A==1)for(p=0,W=W[0],C++;(f<N||p)&&C--;f++)_=p*mr+(U[f]||0),j[f]=_/W|0,p=_%W|0;else{for(p=mr/(W[0]+1)|0,p>1&&(W=e(W,p),U=e(U,p),A=W.length,N=U.length),O=A,y=U.slice(0,A),g=y.length;g<A;)y[g++]=0;R=W.slice(),R.unshift(0),k=W[0],W[1]>=mr/2&&++k;do p=0,u=t(W,y,A,g),u<0?(S=y[0],A!=g&&(S=S*mr+(y[1]||0)),p=S/k|0,p>1?(p>=mr&&(p=mr-1),h=e(W,p),v=h.length,g=y.length,u=t(h,y,v,g),u==1&&(p--,r(h,A<v?R:W,v))):(p==0&&(u=p=1),h=W.slice()),v=h.length,v<g&&h.unshift(0),r(y,h,g),u==-1&&(g=y.length,u=t(W,y,A,g),u<1&&(p++,r(y,A<g?R:W,g))),g=y.length):u===0&&(p++,y=[0]),j[f++]=p,u&&y[0]?y[g++]=U[O]||0:(y=[U[O]],g=1);while((O++<N||y[0]!==void 0)&&C--)}return j[0]||j.shift(),b.e=d,Pt(b,l?s+rr(b)+1:s)}})();function p$(e,t){var r,n,i,s,l,u,d=0,f=0,p=e.constructor,h=p.precision;if(rr(e)>16)throw Error(AN+rr(e));if(!e.s)return new p(gn);for(Bt=!1,u=h,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(Ys(2,f))/Math.LN10*2+5|0,u+=n,r=i=s=new p(gn),p.precision=u;;){if(i=Pt(i.times(e),u),r=r.times(++d),l=s.plus(ui(i,r,u)),ja(l.d).slice(0,u)===ja(s.d).slice(0,u)){for(;f--;)s=Pt(s.times(s),u);return p.precision=h,t==null?(Bt=!0,Pt(s,h)):s}s=l}}function rr(e){for(var t=e.e*Lt,r=e.d[0];r>=10;r/=10)t++;return t}function kb(e,t,r){if(t>e.LN10.sd())throw Bt=!0,r&&(e.precision=r),Error(zn+"LN10 precision limit exceeded");return Pt(new e(e.LN10),t)}function Ji(e){for(var t="";e--;)t+="0";return t}function Gu(e,t){var r,n,i,s,l,u,d,f,p,h=1,v=10,b=e,j=b.d,y=b.constructor,g=y.precision;if(b.s<1)throw Error(zn+(b.s?"NaN":"-Infinity"));if(b.eq(gn))return new y(0);if(t==null?(Bt=!1,f=g):f=t,b.eq(10))return t==null&&(Bt=!0),kb(y,f);if(f+=v,y.precision=f,r=ja(j),n=r.charAt(0),s=rr(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=ja(b.d),n=r.charAt(0),h++;s=rr(b),n>1?(b=new y("0."+r),s++):b=new y(n+"."+r.slice(1))}else return d=kb(y,f+2,g).times(s+""),b=Gu(new y(n+"."+r.slice(1)),f-v).plus(d),y.precision=g,t==null?(Bt=!0,Pt(b,g)):b;for(u=l=b=ui(b.minus(gn),b.plus(gn),f),p=Pt(b.times(b),f),i=3;;){if(l=Pt(l.times(p),f),d=u.plus(ui(l,new y(i),f)),ja(d.d).slice(0,f)===ja(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(kb(y,f+2,g).times(s+""))),u=ui(u,new y(h),f),y.precision=g,t==null?(Bt=!0,Pt(u,g)):u;u=d,i+=2}}function CA(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=uc(r/Lt),e.d=[],n=(r+1)%Lt,r<0&&(n+=Lt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Lt;n<i;)e.d.push(+t.slice(n,n+=Lt));t=t.slice(n),n=Lt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Bt&&(e.e>hp||e.e<-hp))throw Error(AN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Pt(e,t,r){var n,i,s,l,u,d,f,p,h=e.d;for(l=1,s=h[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=Lt,i=t,f=h[p=0];else{if(p=Math.ceil((n+1)/Lt),s=h.length,p>=s)return e;for(f=s=h[p],l=1;s>=10;s/=10)l++;n%=Lt,i=n-Lt+l}if(r!==void 0&&(s=Ys(10,l-i-1),u=f/s%10|0,d=t<0||h[p+1]!==void 0||f%s,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?f/Ys(10,l-i):0:h[p-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return d?(s=rr(e),h.length=1,t=t-s-1,h[0]=Ys(10,(Lt-t%Lt)%Lt),e.e=uc(-t/Lt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=p,s=1,p--):(h.length=p+1,s=Ys(10,Lt-n),h[p]=i>0?(f/Ys(10,l-i)%Ys(10,i)|0)*s:0),d)for(;;)if(p==0){(h[0]+=s)==mr&&(h[0]=1,++e.e);break}else{if(h[p]+=s,h[p]!=mr)break;h[p--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(Bt&&(e.e>hp||e.e<-hp))throw Error(AN+rr(e));return e}function m$(e,t){var r,n,i,s,l,u,d,f,p,h,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Bt?Pt(t,b):t;if(d=e.d,h=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(p=l<0,p?(r=d,l=-l,u=h.length):(r=h,n=f,u=d.length),i=Math.max(Math.ceil(b/Lt),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=h.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=h[i]){p=d[i]<h[i];break}l=0}for(p&&(r=d,d=h,h=r,t.s=-t.s),u=d.length,i=h.length-u;i>0;--i)d[u++]=0;for(i=h.length;i>l;){if(d[--i]<h[i]){for(s=i;s&&d[--s]===0;)d[s]=mr-1;--d[s],d[i]+=mr}d[i]-=h[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Bt?Pt(t,b):t):new v(0)}function vo(e,t,r){var n,i=rr(e),s=ja(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ji(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ji(-i-1)+s,r&&(n=r-l)>0&&(s+=Ji(n))):i>=l?(s+=Ji(i+1-l),r&&(n=r-i-1)>0&&(s=s+"."+Ji(n))):((n=i+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(s+="."),s+=Ji(n))),e.s<0?"-"+s:s}function _A(e,t){if(e.length>t)return e.length=t,!0}function v$(e){var t,r,n;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(so+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return CA(l,s.toString())}else if(typeof s!="string")throw Error(so+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,vJ.test(s))CA(l,s);else throw Error(so+s)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=v$,i.config=i.set=gJ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function gJ(e){if(!e||typeof e!="object")throw Error(zn+"Object expected");var t,r,n,i=["precision",1,cc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(uc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(so+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(so+r+": "+n);return this}var TN=v$(mJ);gn=new TN(1);const Et=TN;function xJ(e){return jJ(e)||wJ(e)||bJ(e)||yJ()}function yJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bJ(e,t){if(e){if(typeof e=="string")return xj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xj(e,t)}}function wJ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jJ(e){if(Array.isArray(e))return xj(e)}function xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var NJ=function(t){return t},g$={},x$=function(t){return t===g$},EA=function(t){return function r(){return arguments.length===0||arguments.length===1&&x$(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},SJ=function e(t,r){return t===1?r:EA(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var l=i.filter(function(u){return u!==g$}).length;return l>=t?r.apply(void 0,i):e(t-l,EA(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=i.map(function(h){return x$(h)?d.shift():h});return r.apply(void 0,xJ(p).concat(d))}))})},Am=function(t){return SJ(t.length,t)},yj=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},CJ=Am(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),_J=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return NJ;var i=r.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce(function(u,d){return d(u)},s.apply(void 0,arguments))}},bj=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},y$=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return r&&s.every(function(u,d){return u===r[d]})||(r=s,n=t.apply(void 0,s)),n}};function EJ(e){var t;return e===0?t=1:t=Math.floor(new Et(e).abs().log(10).toNumber())+1,t}function kJ(e,t,r){for(var n=new Et(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var PJ=Am(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),OJ=Am(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),AJ=Am(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Tm={rangeStep:kJ,getDigitCount:EJ,interpolateNumber:PJ,uninterpolateNumber:OJ,uninterpolateTruncation:AJ};function wj(e){return RJ(e)||IJ(e)||b$(e)||TJ()}function TJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IJ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function RJ(e){if(Array.isArray(e))return jj(e)}function Ku(e,t){return $J(e)||MJ(e,t)||b$(e,t)||DJ()}function DJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b$(e,t){if(e){if(typeof e=="string")return jj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jj(e,t)}}function jj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MJ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){i=!0,s=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw s}}return r}}function $J(e){if(Array.isArray(e))return e}function w$(e){var t=Ku(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function j$(e,t,r){if(e.lte(0))return new Et(0);var n=Tm.getDigitCount(e.toNumber()),i=new Et(10).pow(n),s=e.div(i),l=n!==1?.05:.1,u=new Et(Math.ceil(s.div(l).toNumber())).add(r).mul(l),d=u.mul(i);return t?d:new Et(Math.ceil(d))}function LJ(e,t,r){var n=1,i=new Et(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Et(10).pow(Tm.getDigitCount(e)-1),i=new Et(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Et(Math.floor(e)))}else e===0?i=new Et(Math.floor((t-1)/2)):r||(i=new Et(Math.floor(e)));var l=Math.floor((t-1)/2),u=_J(CJ(function(d){return i.add(new Et(d-l).mul(n)).toNumber()}),yj);return u(0,t)}function N$(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var s=j$(new Et(t).sub(e).div(r-1),n,i),l;e<=0&&t>=0?l=new Et(0):(l=new Et(e).add(t).div(2),l=l.sub(new Et(l).mod(s)));var u=Math.ceil(l.sub(e).div(s).toNumber()),d=Math.ceil(new Et(t).sub(l).div(s).toNumber()),f=u+d+1;return f>r?N$(e,t,r,n,i+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:s,tickMin:l.sub(new Et(u).mul(s)),tickMax:l.add(new Et(d).mul(s))})}function FJ(e){var t=Ku(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=w$([r,n]),d=Ku(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var h=p===1/0?[f].concat(wj(yj(0,i-1).map(function(){return 1/0}))):[].concat(wj(yj(0,i-1).map(function(){return-1/0})),[p]);return r>n?bj(h):h}if(f===p)return LJ(f,i,s);var v=N$(f,p,l,s),b=v.step,j=v.tickMin,y=v.tickMax,g=Tm.rangeStep(j,y.add(new Et(.1).mul(b)),b);return r>n?bj(g):g}function BJ(e,t){var r=Ku(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=w$([n,i]),u=Ku(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var p=Math.max(t,2),h=j$(new Et(f).sub(d).div(p-1),s,0),v=[].concat(wj(Tm.rangeStep(new Et(d),new Et(f).sub(new Et(.99).mul(h)),h)),[f]);return n>i?bj(v):v}var zJ=y$(FJ),UJ=y$(BJ),qJ="Invariant failed";function go(e,t){throw new Error(qJ)}var WJ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(this,arguments)}function VJ(e,t){return YJ(e)||KJ(e,t)||GJ(e,t)||HJ()}function HJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GJ(e,t){if(e){if(typeof e=="string")return kA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(e,t)}}function kA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function YJ(e){if(Array.isArray(e))return e}function XJ(e,t){if(e==null)return{};var r=QJ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_$(n.key),n)}}function eee(e,t,r){return t&&JJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tee(e,t,r){return t=mp(t),ree(e,S$()?Reflect.construct(t,r||[],mp(e).constructor):t.apply(e,r))}function ree(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nee(e)}function nee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!e})()}function mp(e){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mp(e)}function aee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nj(e,t)}function Nj(e,t){return Nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nj(e,t)}function C$(e,t,r){return t=_$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _$(e){var t=iee(e,"string");return Ml(t)=="symbol"?t:t+""}function iee(e,t){if(Ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Im=(function(e){function t(){return ZJ(this,t),tee(this,t,arguments)}return aee(t,e),eee(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,l=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,h=n.yAxis,v=XJ(n,WJ),b=xt(v,!1);this.props.direction==="x"&&p.type!=="number"&&go();var j=d.map(function(y){var g=f(y,u),S=g.x,C=g.y,_=g.value,O=g.errorVal;if(!O)return null;var N=[],k,A;if(Array.isArray(O)){var R=VJ(O,2);k=R[0],A=R[1]}else k=A=O;if(s==="vertical"){var I=p.scale,L=C+i,U=L+l,W=L-l,H=I(_-k),G=I(_+A);N.push({x1:G,y1:U,x2:G,y2:W}),N.push({x1:H,y1:L,x2:G,y2:L}),N.push({x1:H,y1:U,x2:H,y2:W})}else if(s==="horizontal"){var T=h.scale,D=S+i,V=D-l,B=D+l,q=T(_-k),K=T(_+A);N.push({x1:V,y1:K,x2:B,y2:K}),N.push({x1:D,y1:q,x2:D,y2:K}),N.push({x1:V,y1:q,x2:B,y2:q})}return X.createElement(vr,pp({className:"recharts-errorBar",key:"bar-".concat(N.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},b),N.map(function(z){return X.createElement("line",pp({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return X.createElement(vr,{className:"recharts-errorBars"},j)}}])})(X.Component);C$(Im,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});C$(Im,"displayName","ErrorBar");function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){see(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function see(e,t,r){return t=oee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oee(e){var t=lee(e,"string");return Yu(t)=="symbol"?t:t+""}function lee(e,t){if(Yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E$=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,l=mn(r,bl);if(!l)return null;var u=bl.defaultProps,d=u!==void 0?Hs(Hs({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:s==="children"?f=(n||[]).reduce(function(p,h){var v=h.item,b=h.props,j=b.sectors||b.data||[];return p.concat(j.map(function(y){return{type:l.props.iconType||v.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):f=(n||[]).map(function(p){var h=p.item,v=h.type.defaultProps,b=v!==void 0?Hs(Hs({},v),h.props):{},j=b.dataKey,y=b.name,g=b.legendType,S=b.hide;return{inactive:S,dataKey:j,type:d.iconType||g||"square",color:IN(h),value:y||j,payload:b}}),Hs(Hs(Hs({},d),bl.getWithHeight(l,i)),{},{payload:f,item:l})};function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function OA(e){return fee(e)||dee(e)||uee(e)||cee()}function cee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uee(e,t){if(e){if(typeof e=="string")return Sj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sj(e,t)}}function dee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fee(e){if(Array.isArray(e))return Sj(e)}function Sj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){jl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jl(e,t,r){return t=hee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hee(e){var t=pee(e,"string");return Xu(t)=="symbol"?t:t+""}function pee(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Da(e,t,r){return yt(e)||yt(t)?r:cr(t)?Bn(e,t,r):st(t)?t(e):r}function wu(e,t,r,n){var i=fJ(e,function(u){return Da(u,t)});if(r==="number"){var s=i.filter(function(u){return Oe(u)||parseFloat(u)});return s.length?[Om(s),Pm(s)]:[1/0,-1/0]}var l=n?i.filter(function(u){return!yt(u)}):i;return l.map(function(u){return cr(u)||u instanceof Date?u:""})}var mee=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,f=0;f<u;f++){var p=f>0?i[f-1].coordinate:i[u-1].coordinate,h=i[f].coordinate,v=f>=u-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(ea(h-p)!==ea(v-h)){var j=[];if(ea(v-h)===ea(d[1]-d[0])){b=v;var y=h+d[1]-d[0];j[0]=Math.min(y,(y+p)/2),j[1]=Math.max(y,(y+p)/2)}else{b=p;var g=v+d[1]-d[0];j[0]=Math.min(h,(g+h)/2),j[1]=Math.max(h,(g+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(t>S[0]&&t<=S[1]||t>=j[0]&&t<=j[1]){l=i[f].index;break}}else{var C=Math.min(p,v),_=Math.max(p,v);if(t>(C+h)/2&&t<=(_+h)/2){l=i[f].index;break}}}else for(var O=0;O<u;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<u-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===u-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){l=n[O].index;break}return l},IN=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Vt(Vt({},t.type.defaultProps),t.props):t.props,l=s.stroke,u=s.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},vee=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var l={},u=Object.keys(s),d=0,f=u.length;d<f;d++)for(var p=s[u[d]].stackGroups,h=Object.keys(p),v=0,b=h.length;v<b;v++){var j=p[h[v]],y=j.items,g=j.cateAxisId,S=y.filter(function(A){return li(A.type).indexOf("Bar")>=0});if(S&&S.length){var C=S[0].type.defaultProps,_=C!==void 0?Vt(Vt({},C),S[0].props):S[0].props,O=_.barSize,N=_[g];l[N]||(l[N]=[]);var k=yt(O)?r:O;l[N].push({item:S[0],stackList:S.slice(1),barSize:yt(k)?void 0:mo(k,n,0)})}}return l},gee=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,l=s===void 0?[]:s,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=mo(r,i,0,!0),p,h=[];if(l[0].barSize===+l[0].barSize){var v=!1,b=i/d,j=l.reduce(function(O,N){return O+N.barSize||0},0);j+=(d-1)*f,j>=i&&(j-=(d-1)*f,f=0),j>=i&&b>0&&(v=!0,b*=.9,j=d*b);var y=(i-j)/2>>0,g={offset:y-f,size:0};p=l.reduce(function(O,N){var k={item:N.item,position:{offset:g.offset+g.size+f,size:v?b:N.barSize}},A=[].concat(OA(O),[k]);return g=A[A.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(R){A.push({item:R,position:g})}),A},h)}else{var S=mo(n,i,0,!0);i-2*S-(d-1)*f<=0&&(f=0);var C=(i-2*S-(d-1)*f)/d;C>1&&(C>>=0);var _=u===+u?Math.min(C,u):C;p=l.reduce(function(O,N,k){var A=[].concat(OA(O),[{item:N.item,position:{offset:S+(C+f)*k+(C-_)/2,size:_}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(R){A.push({item:R,position:A[A.length-1].position})}),A},h)}return p},xee=function(t,r,n,i){var s=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),f=E$({children:s,legendWidth:d});if(f){var p=i||{},h=p.width,v=p.height,b=f.align,j=f.verticalAlign,y=f.layout;if((y==="vertical"||y==="horizontal"&&j==="middle")&&b!=="center"&&Oe(t[b]))return Vt(Vt({},t),{},jl({},b,t[b]+(h||0)));if((y==="horizontal"||y==="vertical"&&b==="center")&&j!=="middle"&&Oe(t[j]))return Vt(Vt({},t),{},jl({},j,t[j]+(v||0)))}return t},yee=function(t,r,n){return yt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},k$=function(t,r,n,i,s){var l=r.props.children,u=ta(l,Im).filter(function(f){return yee(i,s,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var h=Da(p,n);if(yt(h))return f;var v=Array.isArray(h)?[Om(h),Pm(h)]:[h,h],b=d.reduce(function(j,y){var g=Da(p,y,0),S=v[0]-Math.abs(Array.isArray(g)?g[0]:g),C=v[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(S,j[0]),Math.max(C,j[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},bee=function(t,r,n,i,s){var l=r.map(function(u){return k$(t,u,n,s,i)}).filter(function(u){return!yt(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},P$=function(t,r,n,i,s){var l=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&k$(t,d,f,i)||wu(t,f,n,s)});if(n==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var p=0,h=f.length;p<h;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},O$=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},A$=function(t,r,n,i){if(i)return t.map(function(d){return d.coordinate});var s,l,u=t.map(function(d){return d.coordinate===r&&(s=!0),d.coordinate===n&&(l=!0),d.coordinate});return s||u.push(r),l||u.push(n),u},ni=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&u?.length>=2?ea(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(h){var v=s?s.indexOf(h):h;return{coordinate:i(v)+f,value:h,offset:f}});return p.filter(function(h){return!Td(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,v){return{coordinate:i(h)+f,value:h,index:v,offset:f}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(h){return{coordinate:i(h)+f,value:h,offset:f}}):i.domain().map(function(h,v){return{coordinate:i(h)+f,value:s?s[h]:h,index:v,offset:f}})},Pb=new WeakMap,jh=function(t,r){if(typeof r!="function")return t;Pb.has(t)||Pb.set(t,new WeakMap);var n=Pb.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},wee=function(t,r,n){var i=t.scale,s=t.type,l=t.layout,u=t.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Uu(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:cp(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:bu(),realScaleType:"point"}:s==="category"?{scale:Uu(),realScaleType:"band"}:{scale:cp(),realScaleType:"linear"};if(po(i)){var d="scale".concat(vm(i));return{scale:(vA[d]||bu)(),realScaleType:vA[d]?d:"point"}}return st(i)?{scale:i}:{scale:bu(),realScaleType:"point"}},TA=1e-4,jee=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-TA,l=Math.max(i[0],i[1])+TA,u=t(r[0]),d=t(r[n-1]);(u<s||u>l||d<s||d>l)&&t.domain([r[0],r[n-1]])}},Nee=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},See=function(t,r){if(!r||r.length!==2||!Oe(r[0])||!Oe(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Oe(t[0])||t[0]<n)&&(s[0]=n),(!Oe(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Cee=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,l=0,u=0;u<r;++u){var d=Td(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=s,t[u][n][1]=s+d,s=t[u][n][1]):(t[u][n][0]=l,t[u][n][1]=l+d,l=t[u][n][1])}},_ee=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,l=0;l<r;++l){var u=Td(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=s,t[l][n][1]=s+u,s=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},Eee={sign:Cee,expand:cG,none:kl,silhouette:uG,wiggle:dG,positive:_ee},kee=function(t,r,n){var i=r.map(function(u){return u.props.dataKey}),s=Eee[n],l=lG().keys(i).value(function(u,d){return+Da(u,d,0)}).order(ej).offset(s);return l(t)},Pee=function(t,r,n,i,s,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(h,v){var b,j=(b=v.type)!==null&&b!==void 0&&b.defaultProps?Vt(Vt({},v.type.defaultProps),v.props):v.props,y=j.stackId,g=j.hide;if(g)return h;var S=j[n],C=h[S]||{hasStack:!1,stackGroups:{}};if(cr(y)){var _=C.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(v),C.hasStack=!0,C.stackGroups[y]=_}else C.stackGroups[mm("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return Vt(Vt({},h),{},jl({},S,C))},d),p={};return Object.keys(f).reduce(function(h,v){var b=f[v];if(b.hasStack){var j={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(y,g){var S=b.stackGroups[g];return Vt(Vt({},y),{},jl({},g,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:kee(t,S.items,s)}))},j)}return Vt(Vt({},h),{},jl({},v,b))},p)},Oee=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=zJ(f,s,u);return t.domain([Om(p),Pm(p)]),{niceTicks:p}}if(s&&i==="number"){var h=t.domain(),v=UJ(h,s,u);return{niceTicks:v}}return null},IA=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Da(l,r.dataKey,r.domain[u]);return yt(d)?null:r.scale(d)-s/2+i},Aee=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Tee=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Vt(Vt({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(cr(s)){var l=r[s];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},Iee=function(t){return t.reduce(function(r,n){return[Om(n.concat([r[0]]).filter(Oe)),Pm(n.concat([r[1]]).filter(Oe))]},[1/0,-1/0])},T$=function(t,r,n){return Object.keys(t).reduce(function(i,s){var l=t[s],u=l.stackedData,d=u.reduce(function(f,p){var h=Iee(p.slice(r,n+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},RA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cj=function(t,r,n){if(st(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Oe(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(RA.test(t[0])){var s=+RA.exec(t[0])[1];i[0]=r[0]-s}else st(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Oe(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(DA.test(t[1])){var l=+DA.exec(t[1])[1];i[1]=r[1]+l}else st(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},vp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=sN(r,function(h){return h.coordinate}),l=1/0,u=1,d=s.length;u<d;u++){var f=s[u],p=s[u-1];l=Math.min((f.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},MA=function(t,r,n){return!t||!t.length||ON(t,Bn(n,"type.defaultProps.domain"))?r:t},I$=function(t,r){var n=t.type.defaultProps?Vt(Vt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return Vt(Vt({},xt(t,!1)),{},{dataKey:i,unit:l,formatter:u,name:s||i,color:IN(t),value:Da(r,i),type:d,payload:r,chartType:f,hide:p})};function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(n){Ree(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ree(e,t,r){return t=Dee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dee(e){var t=Mee(e,"string");return Qu(t)=="symbol"?t:t+""}function Mee(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gp=Math.PI/180,$ee=function(t){return t*180/Math.PI},Nr=function(t,r,n,i){return{x:t+Math.cos(-gp*i)*n,y:r+Math.sin(-gp*i)*n}},Lee=function(t,r){var n=t.x,i=t.y,s=r.x,l=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-l,2))},Fee=function(t,r){var n=t.x,i=t.y,s=r.cx,l=r.cy,u=Lee({x:n,y:i},{x:s,y:l});if(u<=0)return{radius:u};var d=(n-s)/u,f=Math.acos(d);return i>l&&(f=2*Math.PI-f),{radius:u,angle:$ee(f),angleInRadian:f}},Bee=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(i,s);return{startAngle:r-l*360,endAngle:n-l*360}},zee=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(s,l);return t+u*360},FA=function(t,r){var n=t.x,i=t.y,s=Fee({x:n,y:i},r),l=s.radius,u=s.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var p=Bee(r),h=p.startAngle,v=p.endAngle,b=u,j;if(h<=v){for(;b>v;)b-=360;for(;b<h;)b+=360;j=b>=h&&b<=v}else{for(;b>h;)b-=360;for(;b<v;)b+=360;j=b>=v&&b<=h}return j?LA(LA({},r),{},{radius:l,angle:zee(b,r)}):null};function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}var Uee=["offset"];function qee(e){return Gee(e)||Hee(e)||Vee(e)||Wee()}function Wee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vee(e,t){if(e){if(typeof e=="string")return _j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _j(e,t)}}function Hee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gee(e){if(Array.isArray(e))return _j(e)}function _j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kee(e,t){if(e==null)return{};var r=Yee(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){Xee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xee(e,t,r){return t=Qee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qee(e){var t=Zee(e,"string");return Zu(t)=="symbol"?t:t+""}function Zee(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ju.apply(this,arguments)}var Jee=function(t){var r=t.value,n=t.formatter,i=yt(t.children)?r:t.children;return st(n)?n(i):i},ete=function(t,r){var n=ea(r-t),i=Math.min(Math.abs(r-t),360);return n*i},tte=function(t,r,n){var i=t.position,s=t.viewBox,l=t.offset,u=t.className,d=s,f=d.cx,p=d.cy,h=d.innerRadius,v=d.outerRadius,b=d.startAngle,j=d.endAngle,y=d.clockWise,g=(h+v)/2,S=ete(b,j),C=S>=0?1:-1,_,O;i==="insideStart"?(_=b+C*l,O=y):i==="insideEnd"?(_=j-C*l,O=!y):i==="end"&&(_=j+C*l,O=y),O=S<=0?O:!O;var N=Nr(f,p,g,_),k=Nr(f,p,g,_+(O?1:-1)*359),A="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(O?0:1,`,
    `).concat(k.x,",").concat(k.y),R=yt(t.id)?mm("recharts-radial-line-"):t.id;return X.createElement("text",Ju({},n,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",u)}),X.createElement("defs",null,X.createElement("path",{id:R,d:A})),X.createElement("textPath",{xlinkHref:"#".concat(R)},r))},rte=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,l=s.cx,u=s.cy,d=s.innerRadius,f=s.outerRadius,p=s.startAngle,h=s.endAngle,v=(p+h)/2;if(i==="outside"){var b=Nr(l,u,f+n,v),j=b.x,y=b.y;return{x:j,y,textAnchor:j>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var g=(d+f)/2,S=Nr(l,u,g,v),C=S.x,_=S.y;return{x:C,y:_,textAnchor:"middle",verticalAnchor:"middle"}},nte=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,l=r,u=l.x,d=l.y,f=l.width,p=l.height,h=p>=0?1:-1,v=h*i,b=h>0?"end":"start",j=h>0?"start":"end",y=f>=0?1:-1,g=y*i,S=y>0?"end":"start",C=y>0?"start":"end";if(s==="top"){var _={x:u+f/2,y:d-h*i,textAnchor:"middle",verticalAnchor:b};return lr(lr({},_),n?{height:Math.max(d-n.y,0),width:f}:{})}if(s==="bottom"){var O={x:u+f/2,y:d+p+v,textAnchor:"middle",verticalAnchor:j};return lr(lr({},O),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(s==="left"){var N={x:u-g,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return lr(lr({},N),n?{width:Math.max(N.x-n.x,0),height:p}:{})}if(s==="right"){var k={x:u+f+g,y:d+p/2,textAnchor:C,verticalAnchor:"middle"};return lr(lr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:p}:{})}var A=n?{width:f,height:p}:{};return s==="insideLeft"?lr({x:u+g,y:d+p/2,textAnchor:C,verticalAnchor:"middle"},A):s==="insideRight"?lr({x:u+f-g,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},A):s==="insideTop"?lr({x:u+f/2,y:d+v,textAnchor:"middle",verticalAnchor:j},A):s==="insideBottom"?lr({x:u+f/2,y:d+p-v,textAnchor:"middle",verticalAnchor:b},A):s==="insideTopLeft"?lr({x:u+g,y:d+v,textAnchor:C,verticalAnchor:j},A):s==="insideTopRight"?lr({x:u+f-g,y:d+v,textAnchor:S,verticalAnchor:j},A):s==="insideBottomLeft"?lr({x:u+g,y:d+p-v,textAnchor:C,verticalAnchor:b},A):s==="insideBottomRight"?lr({x:u+f-g,y:d+p-v,textAnchor:S,verticalAnchor:b},A):sc(s)&&(Oe(s.x)||Js(s.x))&&(Oe(s.y)||Js(s.y))?lr({x:u+mo(s.x,f),y:d+mo(s.y,p),textAnchor:"end",verticalAnchor:"end"},A):lr({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},A)},ate=function(t){return"cx"in t&&Oe(t.cx)};function Ir(e){var t=e.offset,r=t===void 0?5:t,n=Kee(e,Uee),i=lr({offset:r},n),s=i.viewBox,l=i.position,u=i.value,d=i.children,f=i.content,p=i.className,h=p===void 0?"":p,v=i.textBreakAll;if(!s||yt(u)&&yt(d)&&!w.isValidElement(f)&&!st(f))return null;if(w.isValidElement(f))return w.cloneElement(f,i);var b;if(st(f)){if(b=w.createElement(f,i),w.isValidElement(b))return b}else b=Jee(i);var j=ate(s),y=xt(i,!0);if(j&&(l==="insideStart"||l==="insideEnd"||l==="end"))return tte(i,b,y);var g=j?rte(i):nte(i);return X.createElement(rp,Ju({className:pt("recharts-label",h)},y,g,{breakAll:v}),b)}Ir.displayName="Label";var R$=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,p=t.outerRadius,h=t.x,v=t.y,b=t.top,j=t.left,y=t.width,g=t.height,S=t.clockWise,C=t.labelViewBox;if(C)return C;if(Oe(y)&&Oe(g)){if(Oe(h)&&Oe(v))return{x:h,y:v,width:y,height:g};if(Oe(b)&&Oe(j))return{x:b,y:j,width:y,height:g}}return Oe(h)&&Oe(v)?{x:h,y:v,width:0,height:0}:Oe(r)&&Oe(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:l||i||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:S}:t.viewBox?t.viewBox:{}},ite=function(t,r){return t?t===!0?X.createElement(Ir,{key:"label-implicit",viewBox:r}):cr(t)?X.createElement(Ir,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===Ir?w.cloneElement(t,{key:"label-implicit",viewBox:r}):X.createElement(Ir,{key:"label-implicit",content:t,viewBox:r}):st(t)?X.createElement(Ir,{key:"label-implicit",content:t,viewBox:r}):sc(t)?X.createElement(Ir,Ju({viewBox:r},t,{key:"label-implicit"})):null:null},ste=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=R$(t),l=ta(i,Ir).map(function(d,f){return w.cloneElement(d,{viewBox:r||s,key:"label-".concat(f)})});if(!n)return l;var u=ite(t.label,r||s);return[u].concat(qee(l))};Ir.parseViewBox=R$;Ir.renderCallByParent=ste;var Ob,zA;function ote(){if(zA)return Ob;zA=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Ob=e,Ob}var lte=ote();const cte=kt(lte);function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}var ute=["valueAccessor"],dte=["data","dataKey","clockWise","id","textBreakAll"];function fte(e){return vte(e)||mte(e)||pte(e)||hte()}function hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pte(e,t){if(e){if(typeof e=="string")return Ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ej(e,t)}}function mte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vte(e){if(Array.isArray(e))return Ej(e)}function Ej(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(this,arguments)}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){gte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gte(e,t,r){return t=xte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xte(e){var t=yte(e,"string");return ed(t)=="symbol"?t:t+""}function yte(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WA(e,t){if(e==null)return{};var r=bte(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wte=function(t){return Array.isArray(t.value)?cte(t.value):t.value};function oo(e){var t=e.valueAccessor,r=t===void 0?wte:t,n=WA(e,ute),i=n.data,s=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,f=WA(n,dte);return!i||!i.length?null:X.createElement(vr,{className:"recharts-label-list"},i.map(function(p,h){var v=yt(s)?r(p,h):Da(p&&p.payload,s),b=yt(u)?{}:{id:"".concat(u,"-").concat(h)};return X.createElement(Ir,xp({},xt(p,!0),f,b,{parentViewBox:p.parentViewBox,value:v,textBreakAll:d,viewBox:Ir.parseViewBox(yt(l)?p:qA(qA({},p),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}oo.displayName="LabelList";function jte(e,t){return e?e===!0?X.createElement(oo,{key:"labelList-implicit",data:t}):X.isValidElement(e)||st(e)?X.createElement(oo,{key:"labelList-implicit",data:t,content:e}):sc(e)?X.createElement(oo,xp({data:t},e,{key:"labelList-implicit"})):null:null}function Nte(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=ta(n,oo).map(function(l,u){return w.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return i;var s=jte(e.label,t);return[s].concat(fte(i))}oo.renderCallByParent=Nte;function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kj.apply(this,arguments)}function VA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(r),!0).forEach(function(n){Ste(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ste(e,t,r){return t=Cte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cte(e){var t=_te(e,"string");return td(t)=="symbol"?t:t+""}function _te(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ete=function(t,r){var n=ea(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Nh=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,p=d*(u?1:-1)+i,h=Math.asin(d/p)/gp,v=f?s:s+l*h,b=Nr(r,n,p,v),j=Nr(r,n,i,v),y=f?s-l*h:s,g=Nr(r,n,p*Math.cos(h*gp),y);return{center:b,circleTangency:j,lineTangency:g,theta:h}},D$=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,l=t.startAngle,u=t.endAngle,d=Ete(l,u),f=l+d,p=Nr(r,n,s,l),h=Nr(r,n,s,f),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var b=Nr(r,n,i,l),j=Nr(r,n,i,f);v+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},kte=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,h=ea(p-f),v=Nh({cx:r,cy:n,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),b=v.circleTangency,j=v.lineTangency,y=v.theta,g=Nh({cx:r,cy:n,radius:s,angle:p,sign:-h,cornerRadius:l,cornerIsExternal:d}),S=g.circleTangency,C=g.lineTangency,_=g.theta,O=d?Math.abs(f-p):Math.abs(f-p)-y-_;if(O<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):D$({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p});var N="M ".concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(O>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var k=Nh({cx:r,cy:n,radius:i,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),A=k.circleTangency,R=k.lineTangency,I=k.theta,L=Nh({cx:r,cy:n,radius:i,angle:p,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),U=L.circleTangency,W=L.lineTangency,H=L.theta,G=d?Math.abs(f-p):Math.abs(f-p)-I-H;if(G<0&&l===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(W.x,",").concat(W.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},Pte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},M$=function(t){var r=HA(HA({},Pte),t),n=r.cx,i=r.cy,s=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,h=r.endAngle,v=r.className;if(l<s||p===h)return null;var b=pt("recharts-sector",v),j=l-s,y=mo(u,j,0,!0),g;return y>0&&Math.abs(p-h)<360?g=kte({cx:n,cy:i,innerRadius:s,outerRadius:l,cornerRadius:Math.min(y,j/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:h}):g=D$({cx:n,cy:i,innerRadius:s,outerRadius:l,startAngle:p,endAngle:h}),X.createElement("path",kj({},xt(r,!0),{className:b,d:g,role:"img"}))};function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pj.apply(this,arguments)}function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){Ote(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ote(e,t,r){return t=Ate(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ate(e){var t=Tte(e,"string");return rd(t)=="symbol"?t:t+""}function Tte(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YA={curveBasisClosed:QH,curveBasisOpen:ZH,curveBasis:XH,curveBumpX:MH,curveBumpY:$H,curveLinearClosed:JH,curveLinear:xm,curveMonotoneX:eG,curveMonotoneY:tG,curveNatural:rG,curveStep:nG,curveStepAfter:iG,curveStepBefore:aG},Sh=function(t){return t.x===+t.x&&t.y===+t.y},su=function(t){return t.x},ou=function(t){return t.y},Ite=function(t,r){if(st(t))return t;var n="curve".concat(vm(t));return(n==="curveMonotone"||n==="curveBump")&&r?YA["".concat(n).concat(r==="vertical"?"Y":"X")]:YA[n]||xm},Rte=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,p=Ite(n,u),h=f?s.filter(function(y){return Sh(y)}):s,v;if(Array.isArray(l)){var b=f?l.filter(function(y){return Sh(y)}):l,j=h.map(function(y,g){return KA(KA({},y),{},{base:b[g]})});return u==="vertical"?v=mh().y(ou).x1(su).x0(function(y){return y.base.x}):v=mh().x(su).y1(ou).y0(function(y){return y.base.y}),v.defined(Sh).curve(p),v(j)}return u==="vertical"&&Oe(l)?v=mh().y(ou).x1(su).x0(l):Oe(l)?v=mh().x(su).y1(ou).y0(l):v=BM().x(su).y(ou),v.defined(Sh).curve(p),v(h)},XA=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?Rte(t):i;return w.createElement("path",Pj({},xt(t,!1),Wh(t),{className:pt("recharts-curve",r),d:l,ref:s}))},Ab={exports:{}},Tb,QA;function Dte(){if(QA)return Tb;QA=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tb=e,Tb}var Ib,ZA;function Mte(){if(ZA)return Ib;ZA=1;var e=Dte();function t(){}function r(){}return r.resetWarningCache=t,Ib=function(){function n(l,u,d,f,p,h){if(h!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},Ib}var JA;function $te(){return JA||(JA=1,Ab.exports=Mte()()),Ab.exports}var Lte=$te();const wt=kt(Lte);var Fte=Object.getOwnPropertyNames,Bte=Object.getOwnPropertySymbols,zte=Object.prototype.hasOwnProperty;function eT(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function Ch(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,l=s.get(r),u=s.get(n);if(l&&u)return l===n&&u===r;s.set(r,n),s.set(n,r);var d=e(r,n,i);return s.delete(r),s.delete(n),d}}function tT(e){return Fte(e).concat(Bte(e))}var Ute=Object.hasOwn||(function(e,t){return zte.call(e,t)});function ko(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var qte="__v",Wte="__o",Vte="_owner",rT=Object.getOwnPropertyDescriptor,nT=Object.keys;function Hte(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Gte(e,t){return ko(e.getTime(),t.getTime())}function Kte(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Yte(e,t){return e===t}function aT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.entries(),l,u,d=0;(l=s.next())&&!l.done;){for(var f=t.entries(),p=!1,h=0;(u=f.next())&&!u.done;){if(i[h]){h++;continue}var v=l.value,b=u.value;if(r.equals(v[0],b[0],d,h,e,t,r)&&r.equals(v[1],b[1],v[0],b[0],e,t,r)){p=i[h]=!0;break}h++}if(!p)return!1;d++}return!0}var Xte=ko;function Qte(e,t,r){var n=nT(e),i=n.length;if(nT(t).length!==i)return!1;for(;i-- >0;)if(!$$(e,t,r,n[i]))return!1;return!0}function lu(e,t,r){var n=tT(e),i=n.length;if(tT(t).length!==i)return!1;for(var s,l,u;i-- >0;)if(s=n[i],!$$(e,t,r,s)||(l=rT(e,s),u=rT(t,s),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function Zte(e,t){return ko(e.valueOf(),t.valueOf())}function Jte(e,t){return e.source===t.source&&e.flags===t.flags}function iT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.values(),l,u;(l=s.next())&&!l.done;){for(var d=t.values(),f=!1,p=0;(u=d.next())&&!u.done;){if(!i[p]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function ere(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function tre(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function $$(e,t,r,n){return(n===Vte||n===Wte||n===qte)&&(e.$$typeof||t.$$typeof)?!0:Ute(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var rre="[object Arguments]",nre="[object Boolean]",are="[object Date]",ire="[object Error]",sre="[object Map]",ore="[object Number]",lre="[object Object]",cre="[object RegExp]",ure="[object Set]",dre="[object String]",fre="[object URL]",hre=Array.isArray,sT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,oT=Object.assign,pre=Object.prototype.toString.call.bind(Object.prototype.toString);function mre(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,l=e.areNumbersEqual,u=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,p=e.areSetsEqual,h=e.areTypedArraysEqual,v=e.areUrlsEqual;return function(j,y,g){if(j===y)return!0;if(j==null||y==null)return!1;var S=typeof j;if(S!==typeof y)return!1;if(S!=="object")return S==="number"?l(j,y,g):S==="function"?i(j,y,g):!1;var C=j.constructor;if(C!==y.constructor)return!1;if(C===Object)return u(j,y,g);if(hre(j))return t(j,y,g);if(sT!=null&&sT(j))return h(j,y,g);if(C===Date)return r(j,y,g);if(C===RegExp)return f(j,y,g);if(C===Map)return s(j,y,g);if(C===Set)return p(j,y,g);var _=pre(j);return _===are?r(j,y,g):_===cre?f(j,y,g):_===sre?s(j,y,g):_===ure?p(j,y,g):_===lre?typeof j.then!="function"&&typeof y.then!="function"&&u(j,y,g):_===fre?v(j,y,g):_===ire?n(j,y,g):_===rre?u(j,y,g):_===nre||_===ore||_===dre?d(j,y,g):!1}}function vre(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?lu:Hte,areDatesEqual:Gte,areErrorsEqual:Kte,areFunctionsEqual:Yte,areMapsEqual:n?eT(aT,lu):aT,areNumbersEqual:Xte,areObjectsEqual:n?lu:Qte,arePrimitiveWrappersEqual:Zte,areRegExpsEqual:Jte,areSetsEqual:n?eT(iT,lu):iT,areTypedArraysEqual:n?lu:ere,areUrlsEqual:tre};if(r&&(i=oT({},i,r(i))),t){var s=Ch(i.areArraysEqual),l=Ch(i.areMapsEqual),u=Ch(i.areObjectsEqual),d=Ch(i.areSetsEqual);i=oT({},i,{areArraysEqual:s,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return i}function gre(e){return function(t,r,n,i,s,l,u){return e(t,r,u)}}function xre(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(d,f){var p=n(),h=p.cache,v=h===void 0?t?new WeakMap:void 0:h,b=p.meta;return r(d,f,{cache:v,equals:i,meta:b,strict:s})};if(t)return function(d,f){return r(d,f,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var l={cache:void 0,equals:i,meta:void 0,strict:s};return function(d,f){return r(d,f,l)}}var yre=Cs();Cs({strict:!0});Cs({circular:!0});Cs({circular:!0,strict:!0});Cs({createInternalComparator:function(){return ko}});Cs({strict:!0,createInternalComparator:function(){return ko}});Cs({circular:!0,createInternalComparator:function(){return ko}});Cs({circular:!0,createInternalComparator:function(){return ko},strict:!0});function Cs(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,l=s===void 0?!1:s,u=vre(e),d=mre(u),f=n?n(d):gre(d);return xre({circular:r,comparator:d,createState:i,equals:f,strict:l})}function bre(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function lT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):bre(i)};requestAnimationFrame(n)}function Oj(e){"@babel/helpers - typeof";return Oj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oj(e)}function wre(e){return Cre(e)||Sre(e)||Nre(e)||jre()}function jre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nre(e,t){if(e){if(typeof e=="string")return cT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cT(e,t)}}function cT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cre(e){if(Array.isArray(e))return e}function _re(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,u=wre(l),d=u[0],f=u.slice(1);if(typeof d=="number"){lT(i.bind(null,f),d);return}i(d),lT(i.bind(null,f));return}Oj(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){L$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L$(e,t,r){return t=Ere(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ere(e){var t=kre(e,"string");return nd(t)==="symbol"?t:String(t)}function kre(e,t){if(nd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pre=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Ore=function(t){return t},Are=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ju=function(t,r){return Object.keys(r).reduce(function(n,i){return dT(dT({},n),{},L$({},i,t(i,r[i])))},{})},fT=function(t,r,n){return t.map(function(i){return"".concat(Are(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Tre(e,t){return Dre(e)||Rre(e,t)||F$(e,t)||Ire()}function Ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Dre(e){if(Array.isArray(e))return e}function Mre(e){return Fre(e)||Lre(e)||F$(e)||$re()}function $re(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F$(e,t){if(e){if(typeof e=="string")return Aj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aj(e,t)}}function Lre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fre(e){if(Array.isArray(e))return Aj(e)}function Aj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yp=1e-4,B$=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},z$=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},hT=function(t,r){return function(n){var i=B$(t,r);return z$(i,n)}},Bre=function(t,r){return function(n){var i=B$(t,r),s=[].concat(Mre(i.map(function(l,u){return l*u}).slice(1)),[0]);return z$(s,n)}},pT=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,l=1,u=1;break;case"ease":i=.25,s=.1,l=.25,u=1;break;case"ease-in":i=.42,s=0,l=1,u=1;break;case"ease-out":i=.42,s=0,l=.58,u=1;break;case"ease-in-out":i=0,s=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),p=Tre(f,4);i=p[0],s=p[1],l=p[2],u=p[3]}}}var h=hT(i,l),v=hT(s,u),b=Bre(i,l),j=function(S){return S>1?1:S<0?0:S},y=function(S){for(var C=S>1?1:S,_=C,O=0;O<8;++O){var N=h(_)-C,k=b(_);if(Math.abs(N-C)<yp||k<yp)return v(_);_=j(_-N/k)}return v(_)};return y.isStepper=!1,y},zre=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,l=t.dt,u=l===void 0?17:l,d=function(p,h,v){var b=-(p-h)*n,j=v*s,y=v+(b-j)*u/1e3,g=v*u/1e3+p;return Math.abs(g-h)<yp&&Math.abs(y)<yp?[h,0]:[g,y]};return d.isStepper=!0,d.dt=u,d},Ure=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pT(i);case"spring":return zre();default:if(i.split("(")[0]==="cubic-bezier")return pT(i)}return typeof i=="function"?i:null};function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function mT(e){return Vre(e)||Wre(e)||U$(e)||qre()}function qre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vre(e){if(Array.isArray(e))return Ij(e)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){Tj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tj(e,t,r){return t=Hre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hre(e){var t=Gre(e,"string");return ad(t)==="symbol"?t:String(t)}function Gre(e,t){if(ad(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ad(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kre(e,t){return Qre(e)||Xre(e,t)||U$(e,t)||Yre()}function Yre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U$(e,t){if(e){if(typeof e=="string")return Ij(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ij(e,t)}}function Ij(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Qre(e){if(Array.isArray(e))return e}var bp=function(t,r,n){return t+(r-t)*n},Rj=function(t){var r=t.from,n=t.to;return r!==n},Zre=function e(t,r,n){var i=ju(function(s,l){if(Rj(l)){var u=t(l.from,l.to,l.velocity),d=Kre(u,2),f=d[0],p=d[1];return jr(jr({},l),{},{from:f,velocity:p})}return l},r);return n<1?ju(function(s,l){return Rj(l)?jr(jr({},l),{},{velocity:bp(l.velocity,i[s].velocity,n),from:bp(l.from,i[s].from,n)}):l},r):e(t,i,n-1)};const Jre=(function(e,t,r,n,i){var s=Pre(e,t),l=s.reduce(function(g,S){return jr(jr({},g),{},Tj({},S,[e[S],t[S]]))},{}),u=s.reduce(function(g,S){return jr(jr({},g),{},Tj({},S,{from:e[S],velocity:0,to:t[S]}))},{}),d=-1,f,p,h=function(){return null},v=function(){return ju(function(S,C){return C.from},u)},b=function(){return!Object.values(u).filter(Rj).length},j=function(S){f||(f=S);var C=S-f,_=C/r.dt;u=Zre(r,u,_),i(jr(jr(jr({},e),t),v())),f=S,b()||(d=requestAnimationFrame(h))},y=function(S){p||(p=S);var C=(S-p)/n,_=ju(function(N,k){return bp.apply(void 0,mT(k).concat([r(C)]))},l);if(i(jr(jr(jr({},e),t),_)),C<1)d=requestAnimationFrame(h);else{var O=ju(function(N,k){return bp.apply(void 0,mT(k).concat([r(1)]))},l);i(jr(jr(jr({},e),t),O))}};return h=r.isStepper?j:y,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}var ene=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function tne(e,t){if(e==null)return{};var r=rne(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rne(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Rb(e){return sne(e)||ine(e)||ane(e)||nne()}function nne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ane(e,t){if(e){if(typeof e=="string")return Dj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dj(e,t)}}function ine(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sne(e){if(Array.isArray(e))return Dj(e)}function Dj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){xu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xu(e,t,r){return t=q$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function one(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q$(n.key),n)}}function cne(e,t,r){return t&&lne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q$(e){var t=une(e,"string");return $l(t)==="symbol"?t:String(t)}function une(e,t){if($l(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($l(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mj(e,t)}function Mj(e,t){return Mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mj(e,t)}function fne(e){var t=hne();return function(){var n=wp(e),i;if(t){var s=wp(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return $j(this,i)}}function $j(e,t){if(t&&($l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lj(e)}function Lj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wp(e){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(e)}var ps=(function(e){dne(r,e);var t=fne(r);function r(n,i){var s;one(this,r),s=t.call(this,n,i);var l=s.props,u=l.isActive,d=l.attributeName,f=l.from,p=l.to,h=l.steps,v=l.children,b=l.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Lj(s)),s.changeStyle=s.changeStyle.bind(Lj(s)),!u||b<=0)return s.state={style:{}},typeof v=="function"&&(s.state={style:p}),$j(s);if(h&&h.length)s.state={style:h[0].style};else if(f){if(typeof v=="function")return s.state={style:f},$j(s);s.state={style:d?xu({},d,f):f}}else s.state={style:{}};return s}return cne(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,l=i.canBegin;this.mounted=!0,!(!s||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isActive,u=s.canBegin,d=s.attributeName,f=s.shouldReAnimate,p=s.to,h=s.from,v=this.state.style;if(u){if(!l){var b={style:d?xu({},d,p):p};this.state&&v&&(d&&v[d]!==p||!d&&v!==p)&&this.setState(b);return}if(!(yre(i.to,p)&&i.canBegin&&i.isActive)){var j=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=j||f?h:i.to;if(this.state&&v){var g={style:d?xu({},d,y):y};(d&&v[d]!==y||!d&&v!==y)&&this.setState(g)}this.runAnimation(Xn(Xn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,l=i.from,u=i.to,d=i.duration,f=i.easing,p=i.begin,h=i.onAnimationEnd,v=i.onAnimationStart,b=Jre(l,u,Ure(f),d,this.changeStyle),j=function(){s.stopJSAnimation=b()};this.manager.start([v,p,j,d,h])}},{key:"runStepAnimation",value:function(i){var s=this,l=i.steps,u=i.begin,d=i.onAnimationStart,f=l[0],p=f.style,h=f.duration,v=h===void 0?0:h,b=function(y,g,S){if(S===0)return y;var C=g.duration,_=g.easing,O=_===void 0?"ease":_,N=g.style,k=g.properties,A=g.onAnimationEnd,R=S>0?l[S-1]:g,I=k||Object.keys(N);if(typeof O=="function"||O==="spring")return[].concat(Rb(y),[s.runJSAnimation.bind(s,{from:R.style,to:N,duration:C,easing:O}),C]);var L=fT(I,C,O),U=Xn(Xn(Xn({},R.style),N),{},{transition:L});return[].concat(Rb(y),[U,C,A]).filter(Ore)};return this.manager.start([d].concat(Rb(l.reduce(b,[p,Math.max(v,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=_re());var s=i.begin,l=i.duration,u=i.attributeName,d=i.to,f=i.easing,p=i.onAnimationStart,h=i.onAnimationEnd,v=i.steps,b=i.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var y=u?xu({},u,d):d,g=fT(Object.keys(y),l,f);j.start([p,s,Xn(Xn({},y),{},{transition:g}),l,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=tne(i,ene),f=w.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!u||f===0||l<=0)return s;var h=function(b){var j=b.props,y=j.style,g=y===void 0?{}:y,S=j.className,C=w.cloneElement(b,Xn(Xn({},d),{},{style:Xn(Xn({},g),p),className:S}));return C};return f===1?h(w.Children.only(s)):X.createElement("div",null,w.Children.map(s,function(v){return h(v)}))}}]),r})(w.PureComponent);ps.displayName="Animate";ps.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ps.propTypes={from:wt.oneOfType([wt.object,wt.string]),to:wt.oneOfType([wt.object,wt.string]),attributeName:wt.string,duration:wt.number,begin:wt.number,easing:wt.oneOfType([wt.string,wt.func]),steps:wt.arrayOf(wt.shape({duration:wt.number.isRequired,style:wt.object.isRequired,easing:wt.oneOfType([wt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),wt.func]),properties:wt.arrayOf("string"),onAnimationEnd:wt.func})),children:wt.oneOfType([wt.node,wt.func]),isActive:wt.bool,canBegin:wt.bool,onAnimationEnd:wt.func,shouldReAnimate:wt.bool,onAnimationStart:wt.func,onAnimationReStart:wt.func};function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(this,arguments)}function pne(e,t){return xne(e)||gne(e,t)||vne(e,t)||mne()}function mne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vne(e,t){if(e){if(typeof e=="string")return xT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xT(e,t)}}function xT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function xne(e){if(Array.isArray(e))return e}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){yne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yne(e,t,r){return t=bne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bne(e){var t=wne(e,"string");return id(t)=="symbol"?t:t+""}function wne(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wT=function(t,r,n,i,s){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,p;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],v=0,b=4;v<b;v++)h[v]=s[v]>l?l:s[v];p="M".concat(t,",").concat(r+u*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+d*h[0],",").concat(r)),p+="L ".concat(t+n-d*h[1],",").concat(r),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+u*h[1])),p+="L ".concat(t+n,",").concat(r+i-u*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-d*h[2],",").concat(r+i)),p+="L ".concat(t+d*h[3],",").concat(r+i),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+i-u*h[3])),p+="Z"}else if(l>0&&s===+s&&s>0){var j=Math.min(l,s);p="M ".concat(t,",").concat(r+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+d*j,",").concat(r,`
            L `).concat(t+n-d*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+n,",").concat(r+u*j,`
            L `).concat(t+n,",").concat(r+i-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+n-d*j,",").concat(r+i,`
            L `).concat(t+d*j,",").concat(r+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t,",").concat(r+i-u*j," Z")}else p="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},jne=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(s,s+u),p=Math.max(s,s+u),h=Math.min(l,l+d),v=Math.max(l,l+d);return n>=f&&n<=p&&i>=h&&i<=v}return!1},Nne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RN=function(t){var r=bT(bT({},Nne),t),n=w.useRef(),i=w.useState(-1),s=pne(i,2),l=s[0],u=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,f=r.y,p=r.width,h=r.height,v=r.radius,b=r.className,j=r.animationEasing,y=r.animationDuration,g=r.animationBegin,S=r.isAnimationActive,C=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||p===0||h===0)return null;var _=pt("recharts-rectangle",b);return C?X.createElement(ps,{canBegin:l>0,from:{width:p,height:h,x:d,y:f},to:{width:p,height:h,x:d,y:f},duration:y,animationEasing:j,isActive:C},function(O){var N=O.width,k=O.height,A=O.x,R=O.y;return X.createElement(ps,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:y,isActive:S,easing:j},X.createElement("path",jp({},xt(r,!0),{className:_,d:wT(A,R,N,k,v),ref:n})))}):X.createElement("path",jp({},xt(r,!0),{className:_,d:wT(d,f,p,h,v)}))};function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fj.apply(this,arguments)}var W$=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,l=pt("recharts-dot",s);return r===+r&&n===+n&&i===+i?w.createElement("circle",Fj({},xt(t,!1),Wh(t),{className:l,cx:r,cy:n,r:i})):null};function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}var Sne=["x","y","top","left","width","height","className"];function Bj(){return Bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bj.apply(this,arguments)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){_ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ne(e,t,r){return t=Ene(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ene(e){var t=kne(e,"string");return sd(t)=="symbol"?t:t+""}function kne(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pne(e,t){if(e==null)return{};var r=One(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function One(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ane=function(t,r,n,i,s,l){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},Tne=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,p=t.width,h=p===void 0?0:p,v=t.height,b=v===void 0?0:v,j=t.className,y=Pne(t,Sne),g=Cne({x:n,y:s,top:u,left:f,width:h,height:b},y);return!Oe(n)||!Oe(s)||!Oe(h)||!Oe(b)||!Oe(u)||!Oe(f)?null:X.createElement("path",Bj({},xt(g,!0),{className:pt("recharts-cross",j),d:Ane(n,s,h,b,u,f)}))},Db,NT;function Ine(){if(NT)return Db;NT=1;var e=c4(),t=e(Object.getPrototypeOf,Object);return Db=t,Db}var Mb,ST;function Rne(){if(ST)return Mb;ST=1;var e=wi(),t=Ine(),r=ji(),n="[object Object]",i=Function.prototype,s=Object.prototype,l=i.toString,u=s.hasOwnProperty,d=l.call(Object);function f(p){if(!r(p)||e(p)!=n)return!1;var h=t(p);if(h===null)return!0;var v=u.call(h,"constructor")&&h.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==d}return Mb=f,Mb}var Dne=Rne();const Mne=kt(Dne);var $b,CT;function $ne(){if(CT)return $b;CT=1;var e=wi(),t=ji(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return $b=n,$b}var Lne=$ne();const Fne=kt(Lne);function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(this,arguments)}function Bne(e,t){return Wne(e)||qne(e,t)||Une(e,t)||zne()}function zne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Une(e,t){if(e){if(typeof e=="string")return _T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _T(e,t)}}function _T(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Wne(e){if(Array.isArray(e))return e}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){Vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vne(e,t,r){return t=Hne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hne(e){var t=Gne(e,"string");return od(t)=="symbol"?t:t+""}function Gne(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PT=function(t,r,n,i,s){var l=n-i,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-l/2,",").concat(r+s),u+="L ".concat(t+n-l/2-i,",").concat(r+s),u+="L ".concat(t,",").concat(r," Z"),u},Kne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yne=function(t){var r=kT(kT({},Kne),t),n=w.useRef(),i=w.useState(-1),s=Bne(i,2),l=s[0],u=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&u(_)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,h=r.lowerWidth,v=r.height,b=r.className,j=r.animationEasing,y=r.animationDuration,g=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||v!==+v||p===0&&h===0||v===0)return null;var C=pt("recharts-trapezoid",b);return S?X.createElement(ps,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:f},to:{upperWidth:p,lowerWidth:h,height:v,x:d,y:f},duration:y,animationEasing:j,isActive:S},function(_){var O=_.upperWidth,N=_.lowerWidth,k=_.height,A=_.x,R=_.y;return X.createElement(ps,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:y,easing:j},X.createElement("path",Np({},xt(r,!0),{className:C,d:PT(A,R,O,N,k),ref:n})))}):X.createElement("g",null,X.createElement("path",Np({},xt(r,!0),{className:C,d:PT(d,f,p,h,v)})))},Xne=["option","shapeType","propTransformer","activeClassName","isActive"];function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function Qne(e,t){if(e==null)return{};var r=Zne(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){Jne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jne(e,t,r){return t=eae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eae(e){var t=tae(e,"string");return ld(t)=="symbol"?t:t+""}function tae(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rae(e,t){return Sp(Sp({},t),e)}function nae(e,t){return e==="symbols"}function AT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return X.createElement(RN,r);case"trapezoid":return X.createElement(Yne,r);case"sector":return X.createElement(M$,r);case"symbols":if(nae(t))return X.createElement(Z1,r);break;default:return null}}function aae(e){return w.isValidElement(e)?e.props:e}function iae(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?rae:n,s=e.activeClassName,l=s===void 0?"recharts-active-shape":s,u=e.isActive,d=Qne(e,Xne),f;if(w.isValidElement(t))f=w.cloneElement(t,Sp(Sp({},d),aae(t)));else if(st(t))f=t(d);else if(Mne(t)&&!Fne(t)){var p=i(t,d);f=X.createElement(AT,{shapeType:r,elementProps:p})}else{var h=d;f=X.createElement(AT,{shapeType:r,elementProps:h})}return u?X.createElement(vr,{className:l},f):f}function Rm(e,t){return t!=null&&"trapezoids"in e.props}function Dm(e,t){return t!=null&&"sectors"in e.props}function cd(e,t){return t!=null&&"points"in e.props}function sae(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function oae(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function lae(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function cae(e,t){var r;return Rm(e,t)?r=sae:Dm(e,t)?r=oae:cd(e,t)&&(r=lae),r}function uae(e,t){var r;return Rm(e,t)?r="trapezoids":Dm(e,t)?r="sectors":cd(e,t)&&(r="points"),r}function dae(e,t){if(Rm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Dm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return cd(e,t)?t.payload:{}}function fae(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=uae(r,t),s=dae(r,t),l=n.filter(function(d,f){var p=ON(s,d),h=r.props[i].filter(function(j){var y=cae(r,t);return y(j,t)}),v=r.props[i].indexOf(h[h.length-1]),b=f===v;return p&&b}),u=n.indexOf(l[l.length-1]);return u}var Lb,TT;function hae(){if(TT)return Lb;TT=1;var e=Math.ceil,t=Math.max;function r(n,i,s,l){for(var u=-1,d=t(e((i-n)/(s||1)),0),f=Array(d);d--;)f[l?d:++u]=n,n+=s;return f}return Lb=r,Lb}var Fb,IT;function V$(){if(IT)return Fb;IT=1;var e=C4(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return Fb=n,Fb}var Bb,RT;function pae(){if(RT)return Bb;RT=1;var e=hae(),t=jm(),r=V$();function n(i){return function(s,l,u){return u&&typeof u!="number"&&t(s,l,u)&&(l=u=void 0),s=r(s),l===void 0?(l=s,s=0):l=r(l),u=u===void 0?s<l?1:-1:r(u),e(s,l,u,i)}}return Bb=n,Bb}var zb,DT;function mae(){if(DT)return zb;DT=1;var e=pae(),t=e();return zb=t,zb}var vae=mae();const Cp=kt(vae);function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){H$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H$(e,t,r){return t=gae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gae(e){var t=xae(e,"string");return ud(t)=="symbol"?t:t+""}function xae(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yae=["Webkit","Moz","O","ms"],bae=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=yae.reduce(function(s,l){return $T($T({},s),{},H$({},l+n,r))},{});return i[t]=r,i};function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(this,arguments)}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ub(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){hn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K$(n.key),n)}}function jae(e,t,r){return t&&FT(e.prototype,t),r&&FT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nae(e,t,r){return t=Ep(t),Sae(e,G$()?Reflect.construct(t,r||[],Ep(e).constructor):t.apply(e,r))}function Sae(e,t){if(t&&(Ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cae(e)}function Cae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!e})()}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(e)}function _ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zj(e,t)}function zj(e,t){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zj(e,t)}function hn(e,t,r){return t=K$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K$(e){var t=Eae(e,"string");return Ll(t)=="symbol"?t:t+""}function Eae(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kae=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=bu().domain(Cp(0,d)).range([s,s+l-u]),p=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:p}},BT=function(t){return t.changedTouches&&!!t.changedTouches.length},Fl=(function(e){function t(r){var n;return wae(this,t),n=Nae(this,t,[r]),hn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),hn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),hn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,l=i.onDragEnd,u=i.startIndex;l?.({endIndex:s,startIndex:u})}),n.detachDragEndListener()}),hn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),hn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),hn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),hn(n,"handleSlideDragStart",function(i){var s=BT(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _ae(t,e),jae(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,h=Math.min(i,s),v=Math.max(i,s),b=t.getIndexInRange(l,h),j=t.getIndexInRange(l,v);return{startIndex:b-b%d,endIndex:j===p?p:j-j%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,l=i.tickFormatter,u=i.dataKey,d=Da(s[n],u,n);return st(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,l=i.startX,u=i.endX,d=this.props,f=d.x,p=d.width,h=d.travellerWidth,v=d.startIndex,b=d.endIndex,j=d.onChange,y=n.pageX-s;y>0?y=Math.min(y,f+p-h-u,f+p-h-l):y<0&&(y=Math.max(y,f-l,f-u));var g=this.getIndex({startX:l+y,endX:u+y});(g.startIndex!==v||g.endIndex!==b)&&j&&j(g),this.setState({startX:l+y,endX:u+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=BT(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[l],p=this.props,h=p.x,v=p.width,b=p.travellerWidth,j=p.onChange,y=p.gap,g=p.data,S={startX:this.state.startX,endX:this.state.endX},C=n.pageX-s;C>0?C=Math.min(C,h+v-b-f):C<0&&(C=Math.max(C,h-f)),S[l]=f+C;var _=this.getIndex(S),O=_.startIndex,N=_.endIndex,k=function(){var R=g.length-1;return l==="startX"&&(u>d?O%y===0:N%y===0)||u<d&&N===R||l==="endX"&&(u>d?N%y===0:O%y===0)||u>d&&N===R};this.setState(hn(hn({},l,f+C),"brushMoveStartX",n.pageX),function(){j&&k()&&j(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,p=this.state[i],h=u.indexOf(p);if(h!==-1){var v=h+n;if(!(v===-1||v>=u.length)){var b=u[v];i==="startX"&&b>=f||i==="endX"&&b<=d||this.setState(hn({},i,b),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,l=n.width,u=n.height,d=n.fill,f=n.stroke;return X.createElement("rect",{stroke:f,fill:d,x:i,y:s,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,l=n.width,u=n.height,d=n.data,f=n.children,p=n.padding,h=w.Children.only(f);return h?X.cloneElement(h,{x:i,y:s,width:l,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,l,u=this,d=this.props,f=d.y,p=d.travellerWidth,h=d.height,v=d.traveller,b=d.ariaLabel,j=d.data,y=d.startIndex,g=d.endIndex,S=Math.max(n,this.props.x),C=Ub(Ub({},xt(this.props,!1)),{},{x:S,y:f,width:p,height:h}),_=b||"Min value: ".concat((s=j[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((l=j[g])===null||l===void 0?void 0:l.name);return X.createElement(vr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),u.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(v,C))}},{key:"renderSlide",value:function(n,i){var s=this.props,l=s.y,u=s.height,d=s.stroke,f=s.travellerWidth,p=Math.min(n,i)+f,h=Math.max(Math.abs(i-n)-f,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:h,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,h=p.startX,v=p.endX,b=5,j={pointerEvents:"none",fill:f};return X.createElement(vr,{className:"recharts-brush-texts"},X.createElement(rp,_p({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,v)-b,y:l+u/2},j),this.getTextOfTick(i)),X.createElement(rp,_p({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,v)+d+b,y:l+u/2},j),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,l=n.children,u=n.x,d=n.y,f=n.width,p=n.height,h=n.alwaysShowText,v=this.state,b=v.startX,j=v.endX,y=v.isTextActive,g=v.isSlideMoving,S=v.isTravellerMoving,C=v.isTravellerFocused;if(!i||!i.length||!Oe(u)||!Oe(d)||!Oe(f)||!Oe(p)||f<=0||p<=0)return null;var _=pt("recharts-brush",s),O=X.Children.count(l)===1,N=bae("userSelect","none");return X.createElement(vr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(b,j),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(j,"endX"),(y||g||S||C||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,l=n.width,u=n.height,d=n.stroke,f=Math.floor(s+u/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:i,y:s,width:l,height:u,fill:d,stroke:"none"}),X.createElement("line",{x1:i+1,y1:f,x2:i+l-1,y2:f,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:i+1,y1:f+2,x2:i+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return X.isValidElement(n)?s=X.cloneElement(n,i):st(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,l=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,h=n.endIndex;if(s!==i.prevData||f!==i.prevUpdateId)return Ub({prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},s&&s.length?kae({data:s,width:l,x:u,travellerWidth:d,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+l-d]);var v=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,l=0,u=s-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>i?u=d:l=d}return i>=n[u]?u:l}}])})(w.PureComponent);hn(Fl,"displayName","Brush");hn(Fl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qb,zT;function Pae(){if(zT)return qb;zT=1;var e=iN();function t(r,n){var i;return e(r,function(s,l,u){return i=n(s,l,u),!i}),!!i}return qb=t,qb}var Wb,UT;function Oae(){if(UT)return Wb;UT=1;var e=r4(),t=js(),r=Pae(),n=nn(),i=jm();function s(l,u,d){var f=n(l)?e:r;return d&&i(l,u,d)&&(u=void 0),f(l,t(u,3))}return Wb=s,Wb}var Aae=Oae();const Tae=kt(Aae);var Ea=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Vb,qT;function Iae(){if(qT)return Vb;qT=1;var e=b4();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Vb=t,Vb}var Hb,WT;function Rae(){if(WT)return Hb;WT=1;var e=Iae(),t=x4(),r=js();function n(i,s){var l={};return s=r(s,3),t(i,function(u,d,f){e(l,d,s(u,d,f))}),l}return Hb=n,Hb}var Dae=Rae();const Mae=kt(Dae);var Gb,VT;function $ae(){if(VT)return Gb;VT=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return Gb=e,Gb}var Kb,HT;function Lae(){if(HT)return Kb;HT=1;var e=iN();function t(r,n){var i=!0;return e(r,function(s,l,u){return i=!!n(s,l,u),i}),i}return Kb=t,Kb}var Yb,GT;function Fae(){if(GT)return Yb;GT=1;var e=$ae(),t=Lae(),r=js(),n=nn(),i=jm();function s(l,u,d){var f=n(l)?e:t;return d&&i(l,u,d)&&(u=void 0),f(l,r(u,3))}return Yb=s,Yb}var Bae=Fae();const Y$=kt(Bae);var zae=["x","y"];function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uj.apply(this,arguments)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){Uae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uae(e,t,r){return t=qae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qae(e){var t=Wae(e,"string");return dd(t)=="symbol"?t:t+""}function Wae(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vae(e,t){if(e==null)return{};var r=Hae(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gae(e,t){var r=e.x,n=e.y,i=Vae(e,zae),s="".concat(r),l=parseInt(s,10),u="".concat(n),d=parseInt(u,10),f="".concat(t.height||i.height),p=parseInt(f,10),h="".concat(t.width||i.width),v=parseInt(h,10);return cu(cu(cu(cu(cu({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function YT(e){return X.createElement(iae,Uj({shapeType:"rectangle",propTransformer:Gae,activeClassName:"recharts-active-bar"},e))}var Kae=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=Oe(n)||aH(n);return s?t(n,i):(s||go(),r)}},Yae=["value","background"],X$;function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function Xae(e,t){if(e==null)return{};var r=Qae(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kp.apply(this,arguments)}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z$(n.key),n)}}function Jae(e,t,r){return t&&QT(e.prototype,t),r&&QT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eie(e,t,r){return t=Pp(t),tie(e,Q$()?Reflect.construct(t,r||[],Pp(e).constructor):t.apply(e,r))}function tie(e,t){if(t&&(Bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rie(e)}function rie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q$=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(e)}function nie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qj(e,t)}function qj(e,t){return qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qj(e,t)}function ss(e,t,r){return t=Z$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z$(e){var t=aie(e,"string");return Bl(t)=="symbol"?t:t+""}function aie(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ms=(function(e){function t(){var r;Zae(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=eie(this,t,[].concat(i)),ss(r,"state",{isAnimationFinished:!1}),ss(r,"id",mm("recharts-bar-")),ss(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),ss(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return nie(t,e),Jae(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,l=s.shape,u=s.dataKey,d=s.activeIndex,f=s.activeBar,p=xt(this.props,!1);return n&&n.map(function(h,v){var b=v===d,j=b?f:l,y=Zt(Zt(Zt({},p),h),{},{isActive:b,option:j,index:v,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return X.createElement(vr,kp({className:"recharts-bar-rectangle"},Vh(i.props,h,v),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(v)}),X.createElement(YT,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,l=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,p=i.animationEasing,h=i.animationId,v=this.state.prevData;return X.createElement(ps,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var j=b.t,y=s.map(function(g,S){var C=v&&v[S];if(C){var _=al(C.x,g.x),O=al(C.y,g.y),N=al(C.width,g.width),k=al(C.height,g.height);return Zt(Zt({},g),{},{x:_(j),y:O(j),width:N(j),height:k(j)})}if(l==="horizontal"){var A=al(0,g.height),R=A(j);return Zt(Zt({},g),{},{y:g.y+g.height-R,height:R})}var I=al(0,g.width),L=I(j);return Zt(Zt({},g),{},{width:L})});return X.createElement(vr,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,l=this.state.prevData;return s&&i&&i.length&&(!l||!ON(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,l=i.dataKey,u=i.activeIndex,d=xt(this.props.background,!1);return s.map(function(f,p){f.value;var h=f.background,v=Xae(f,Yae);if(!h)return null;var b=Zt(Zt(Zt(Zt(Zt({},v),{},{fill:"#eee"},h),d),Vh(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return X.createElement(YT,kp({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.data,u=s.xAxis,d=s.yAxis,f=s.layout,p=s.children,h=ta(p,Im);if(!h)return null;var v=f==="vertical"?l[0].height/2:l[0].width/2,b=function(g,S){var C=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:C,errorVal:Da(g,S)}},j={clipPath:n?"url(#clipPath-".concat(i,")"):null};return X.createElement(vr,j,h.map(function(y){return X.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:v,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,l=n.className,u=n.xAxis,d=n.yAxis,f=n.left,p=n.top,h=n.width,v=n.height,b=n.isAnimationActive,j=n.background,y=n.id;if(i||!s||!s.length)return null;var g=this.state.isAnimationFinished,S=pt("recharts-bar",l),C=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,O=C||_,N=yt(y)?this.id:y;return X.createElement(vr,{className:S},C||_?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(N)},X.createElement("rect",{x:C?f:f-h/2,y:_?p:p-v/2,width:C?h:h*2,height:_?v:v*2}))):null,X.createElement(vr,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(N,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,N),(!b||g)&&oo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(w.PureComponent);X$=ms;ss(ms,"displayName","Bar");ss(ms,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ss(ms,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,h=e.displayedData,v=e.offset,b=Nee(n,r);if(!b)return null;var j=t.layout,y=r.type.defaultProps,g=y!==void 0?Zt(Zt({},y),r.props):r.props,S=g.dataKey,C=g.children,_=g.minPointSize,O=j==="horizontal"?l:s,N=f?O.scale.domain():null,k=Aee({numericAxis:O}),A=ta(C,E4),R=h.map(function(I,L){var U,W,H,G,T,D;f?U=See(f[p+L],N):(U=Da(I,S),Array.isArray(U)||(U=[k,U]));var V=Kae(_,X$.defaultProps.minPointSize)(U[1],L);if(j==="horizontal"){var B,q=[l.scale(U[0]),l.scale(U[1])],K=q[0],z=q[1];W=IA({axis:s,ticks:u,bandSize:i,offset:b.offset,entry:I,index:L}),H=(B=z??K)!==null&&B!==void 0?B:void 0,G=b.size;var F=K-z;if(T=Number.isNaN(F)?0:F,D={x:W,y:l.y,width:G,height:l.height},Math.abs(V)>0&&Math.abs(T)<Math.abs(V)){var $=ea(T||V)*(Math.abs(V)-Math.abs(T));H-=$,T+=$}}else{var Q=[s.scale(U[0]),s.scale(U[1])],J=Q[0],le=Q[1];if(W=J,H=IA({axis:l,ticks:d,bandSize:i,offset:b.offset,entry:I,index:L}),G=le-J,T=b.size,D={x:s.x,y:H,width:s.width,height:T},Math.abs(V)>0&&Math.abs(G)<Math.abs(V)){var Y=ea(G||V)*(Math.abs(V)-Math.abs(G));G+=Y}}return Zt(Zt(Zt({},I),{},{x:W,y:H,width:G,height:T,value:f?U:U[1],payload:I,background:D},A&&A[L]&&A[L].props),{},{tooltipPayload:[I$(r,I)],tooltipPosition:{x:W+G/2,y:H+T/2}})});return Zt({data:R,layout:j},v)});function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function iie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J$(n.key),n)}}function sie(e,t,r){return t&&ZT(e.prototype,t),r&&ZT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){Mm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mm(e,t,r){return t=J$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J$(e){var t=oie(e,"string");return fd(t)=="symbol"?t:t+""}function oie(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lie=function(t,r,n,i,s){var l=t.width,u=t.height,d=t.layout,f=t.children,p=Object.keys(r),h={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},v=!!mn(f,ms);return p.reduce(function(b,j){var y=r[j],g=y.orientation,S=y.domain,C=y.padding,_=C===void 0?{}:C,O=y.mirror,N=y.reversed,k="".concat(g).concat(O?"Mirror":""),A,R,I,L,U;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var W=S[1]-S[0],H=1/0,G=y.categoricalDomain.sort(oH);if(G.forEach(function(Q,J){J>0&&(H=Math.min((Q||0)-(G[J-1]||0),H))}),Number.isFinite(H)){var T=H/W,D=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(A=T*D/2),y.padding==="no-gap"){var V=mo(t.barCategoryGap,T*D),B=T*D/2;A=B-V-(B-V)/D*V}}}i==="xAxis"?R=[n.left+(_.left||0)+(A||0),n.left+n.width-(_.right||0)-(A||0)]:i==="yAxis"?R=d==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(A||0),n.top+n.height-(_.bottom||0)-(A||0)]:R=y.range,N&&(R=[R[1],R[0]]);var q=wee(y,s,v),K=q.scale,z=q.realScaleType;K.domain(S).range(R),jee(K);var F=Oee(K,Zn(Zn({},y),{},{realScaleType:z}));i==="xAxis"?(U=g==="top"&&!O||g==="bottom"&&O,I=n.left,L=h[k]-U*y.height):i==="yAxis"&&(U=g==="left"&&!O||g==="right"&&O,I=h[k]-U*y.width,L=n.top);var $=Zn(Zn(Zn({},y),F),{},{realScaleType:z,x:I,y:L,scale:K,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return $.bandSize=vp($,F),!y.hide&&i==="xAxis"?h[k]+=(U?-1:1)*$.height:y.hide||(h[k]+=(U?-1:1)*$.width),Zn(Zn({},b),{},Mm({},j,$))},{})},e3=function(t,r){var n=t.x,i=t.y,s=r.x,l=r.y;return{x:Math.min(n,s),y:Math.min(i,l),width:Math.abs(s-n),height:Math.abs(l-i)}},cie=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return e3({x:r,y:n},{x:i,y:s})},t3=(function(){function e(t){iie(this,e),this.scale=t}return sie(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();Mm(t3,"EPS",1e-4);var DN=function(t){var r=Object.keys(t).reduce(function(n,i){return Zn(Zn({},n),{},Mm({},i,t3.create(t[i])))},{});return Zn(Zn({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.bandAware,u=s.position;return Mae(i,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(i){return Y$(i,function(s,l){return r[l].isInRange(s)})}})};function uie(e){return(e%180+180)%180}var die=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=uie(i),l=s*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Xb,eI;function fie(){if(eI)return Xb;eI=1;var e=js(),t=Id(),r=bm();function n(i){return function(s,l,u){var d=Object(s);if(!t(s)){var f=e(l,3);s=r(s),l=function(h){return f(d[h],h,d)}}var p=i(s,l,u);return p>-1?d[f?s[p]:p]:void 0}}return Xb=n,Xb}var Qb,tI;function hie(){if(tI)return Qb;tI=1;var e=V$();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return Qb=t,Qb}var Zb,rI;function pie(){if(rI)return Zb;rI=1;var e=h4(),t=js(),r=hie(),n=Math.max;function i(s,l,u){var d=s==null?0:s.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),e(s,t(l,3),f)}return Zb=i,Zb}var Jb,nI;function mie(){if(nI)return Jb;nI=1;var e=fie(),t=pie(),r=e(t);return Jb=r,Jb}var vie=mie();const gie=kt(vie);var xie=PM();const yie=kt(xie);var bie=yie(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),MN=w.createContext(void 0),$N=w.createContext(void 0),r3=w.createContext(void 0),n3=w.createContext({}),a3=w.createContext(void 0),i3=w.createContext(0),s3=w.createContext(0),aI=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,p=bie(s);return X.createElement(MN.Provider,{value:n},X.createElement($N.Provider,{value:i},X.createElement(n3.Provider,{value:s},X.createElement(r3.Provider,{value:p},X.createElement(a3.Provider,{value:l},X.createElement(i3.Provider,{value:f},X.createElement(s3.Provider,{value:d},u)))))))},wie=function(){return w.useContext(a3)},o3=function(t){var r=w.useContext(MN);r==null&&go();var n=r[t];return n==null&&go(),n},jie=function(){var t=w.useContext(MN);return as(t)},Nie=function(){var t=w.useContext($N),r=gie(t,function(n){return Y$(n.domain,Number.isFinite)});return r||as(t)},l3=function(t){var r=w.useContext($N);r==null&&go();var n=r[t];return n==null&&go(),n},Sie=function(){var t=w.useContext(r3);return t},Cie=function(){return w.useContext(n3)},LN=function(){return w.useContext(s3)},FN=function(){return w.useContext(i3)};function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function _ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u3(n.key),n)}}function kie(e,t,r){return t&&Eie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pie(e,t,r){return t=Op(t),Oie(e,c3()?Reflect.construct(t,r||[],Op(e).constructor):t.apply(e,r))}function Oie(e,t){if(t&&(zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aie(e)}function Aie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3=function(){return!!e})()}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(e)}function Tie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wj(e,t)}function Wj(e,t){return Wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wj(e,t)}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(n){BN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BN(e,t,r){return t=u3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u3(e){var t=Iie(e,"string");return zl(t)=="symbol"?t:t+""}function Iie(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rie(e,t){return Lie(e)||$ie(e,t)||Mie(e,t)||Die()}function Die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mie(e,t){if(e){if(typeof e=="string")return oI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oI(e,t)}}function oI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $ie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Lie(e){if(Array.isArray(e))return e}function Vj(){return Vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vj.apply(this,arguments)}var Fie=function(t,r){var n;return X.isValidElement(t)?n=X.cloneElement(t,r):st(t)?n=t(r):n=X.createElement("line",Vj({},r,{className:"recharts-reference-line-line"})),n},Bie=function(t,r,n,i,s,l,u,d,f){var p=s.x,h=s.y,v=s.width,b=s.height;if(n){var j=f.y,y=t.y.apply(j,{position:l});if(Ea(f,"discard")&&!t.y.isInRange(y))return null;var g=[{x:p+v,y},{x:p,y}];return d==="left"?g.reverse():g}if(r){var S=f.x,C=t.x.apply(S,{position:l});if(Ea(f,"discard")&&!t.x.isInRange(C))return null;var _=[{x:C,y:h+b},{x:C,y:h}];return u==="top"?_.reverse():_}if(i){var O=f.segment,N=O.map(function(k){return t.apply(k,{position:l})});return Ea(f,"discard")&&Tae(N,function(k){return!t.isInRange(k)})?null:N}return null};function zie(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=wie(),p=o3(i),h=l3(s),v=Sie();if(!f||!v)return null;ci(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=DN({x:p.scale,y:h.scale}),j=cr(t),y=cr(r),g=n&&n.length===2,S=Bie(b,j,y,g,v,e.position,p.orientation,h.orientation,e);if(!S)return null;var C=Rie(S,2),_=C[0],O=_.x,N=_.y,k=C[1],A=k.x,R=k.y,I=Ea(e,"hidden")?"url(#".concat(f,")"):void 0,L=sI(sI({clipPath:I},xt(e,!0)),{},{x1:O,y1:N,x2:A,y2:R});return X.createElement(vr,{className:pt("recharts-reference-line",u)},Fie(l,L),Ir.renderCallByParent(e,cie({x1:O,y1:N,x2:A,y2:R})))}var $m=(function(e){function t(){return _ie(this,t),Pie(this,t,arguments)}return Tie(t,e),kie(t,[{key:"render",value:function(){return X.createElement(zie,this.props)}}])})(X.Component);BN($m,"displayName","ReferenceLine");BN($m,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hj.apply(this,arguments)}function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){Lm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f3(n.key),n)}}function Wie(e,t,r){return t&&qie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vie(e,t,r){return t=Ap(t),Hie(e,d3()?Reflect.construct(t,r||[],Ap(e).constructor):t.apply(e,r))}function Hie(e,t){if(t&&(Ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gie(e)}function Gie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d3=function(){return!!e})()}function Ap(e){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ap(e)}function Kie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gj(e,t)}function Gj(e,t){return Gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gj(e,t)}function Lm(e,t,r){return t=f3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f3(e){var t=Yie(e,"string");return Ul(t)=="symbol"?t:t+""}function Yie(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xie=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,l=DN({x:i.scale,y:s.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return Ea(t,"discard")&&!l.isInRange(u)?null:u},Fm=(function(e){function t(){return Uie(this,t),Vie(this,t,arguments)}return Kie(t,e),Wie(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,f=cr(i),p=cr(s);if(ci(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var h=Xie(this.props);if(!h)return null;var v=h.x,b=h.y,j=this.props,y=j.shape,g=j.className,S=Ea(this.props,"hidden")?"url(#".concat(d,")"):void 0,C=cI(cI({clipPath:S},xt(this.props,!0)),{},{cx:v,cy:b});return X.createElement(vr,{className:pt("recharts-reference-dot",g)},t.renderDot(y,C),Ir.renderCallByParent(this.props,{x:v-l,y:b-l,width:2*l,height:2*l}))}}])})(X.Component);Lm(Fm,"displayName","ReferenceDot");Lm(Fm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Lm(Fm,"renderDot",function(e,t){var r;return X.isValidElement(e)?r=X.cloneElement(e,t):st(e)?r=e(t):r=X.createElement(W$,Hj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Kj(){return Kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kj.apply(this,arguments)}function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function uI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(r),!0).forEach(function(n){Bm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p3(n.key),n)}}function Jie(e,t,r){return t&&Zie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ese(e,t,r){return t=Tp(t),tse(e,h3()?Reflect.construct(t,r||[],Tp(e).constructor):t.apply(e,r))}function tse(e,t){if(t&&(ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rse(e)}function rse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h3=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function nse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yj(e,t)}function Yj(e,t){return Yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yj(e,t)}function Bm(e,t,r){return t=p3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p3(e){var t=ase(e,"string");return ql(t)=="symbol"?t:t+""}function ase(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ise=function(t,r,n,i,s){var l=s.x1,u=s.x2,d=s.y1,f=s.y2,p=s.xAxis,h=s.yAxis;if(!p||!h)return null;var v=DN({x:p.scale,y:h.scale}),b={x:t?v.x.apply(l,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(d,{position:"start"}):v.y.rangeMin},j={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return Ea(s,"discard")&&(!v.isInRange(b)||!v.isInRange(j))?null:e3(b,j)},zm=(function(e){function t(){return Qie(this,t),ese(this,t,arguments)}return nse(t,e),Jie(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,l=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;ci(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=cr(i),v=cr(s),b=cr(l),j=cr(u),y=this.props.shape;if(!h&&!v&&!b&&!j&&!y)return null;var g=ise(h,v,b,j,this.props);if(!g&&!y)return null;var S=Ea(this.props,"hidden")?"url(#".concat(p,")"):void 0;return X.createElement(vr,{className:pt("recharts-reference-area",d)},t.renderRect(y,dI(dI({clipPath:S},xt(this.props,!0)),g)),Ir.renderCallByParent(this.props,g))}}])})(X.Component);Bm(zm,"displayName","ReferenceArea");Bm(zm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Bm(zm,"renderRect",function(e,t){var r;return X.isValidElement(e)?r=X.cloneElement(e,t):st(e)?r=e(t):r=X.createElement(RN,Kj({},t,{className:"recharts-reference-area-rect"})),r});function m3(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function sse(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return die(n,r)}function ose(e,t,r){var n=r==="width",i=e.x,s=e.y,l=e.width,u=e.height;return t===1?{start:n?i:s,end:n?i+l:s+u}:{start:n?i+l:s+u,end:n?i:s}}function Ip(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function lse(e,t){return m3(e,t+1)}function cse(e,t,r,n,i){for(var s=(n||[]).slice(),l=t.start,u=t.end,d=0,f=1,p=l,h=function(){var j=n?.[d];if(j===void 0)return{v:m3(n,f)};var y=d,g,S=function(){return g===void 0&&(g=r(j,y)),g},C=j.coordinate,_=d===0||Ip(e,C,S,p,u);_||(d=0,p=l,f+=1),_&&(p=C+e*(S()/2+i),d+=f)},v;f<=s.length;)if(v=h(),v)return v.v;return[]}function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(n){use(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function use(e,t,r){return t=dse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dse(e){var t=fse(e,"string");return hd(t)=="symbol"?t:t+""}function fse(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hse(e,t,r,n,i){for(var s=(n||[]).slice(),l=s.length,u=t.start,d=t.end,f=function(v){var b=s[v],j,y=function(){return j===void 0&&(j=r(b,v)),j};if(v===l-1){var g=e*(b.coordinate+e*y()/2-d);s[v]=b=Tr(Tr({},b),{},{tickCoord:g>0?b.coordinate-g*e:b.coordinate})}else s[v]=b=Tr(Tr({},b),{},{tickCoord:b.coordinate});var S=Ip(e,b.tickCoord,y,u,d);S&&(d=b.tickCoord-e*(y()/2+i),s[v]=Tr(Tr({},b),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return s}function pse(e,t,r,n,i,s){var l=(n||[]).slice(),u=l.length,d=t.start,f=t.end;if(s){var p=n[u-1],h=r(p,u-1),v=e*(p.coordinate+e*h/2-f);l[u-1]=p=Tr(Tr({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate});var b=Ip(e,p.tickCoord,function(){return h},d,f);b&&(f=p.tickCoord-e*(h/2+i),l[u-1]=Tr(Tr({},p),{},{isShow:!0}))}for(var j=s?u-1:u,y=function(C){var _=l[C],O,N=function(){return O===void 0&&(O=r(_,C)),O};if(C===0){var k=e*(_.coordinate-e*N()/2-d);l[C]=_=Tr(Tr({},_),{},{tickCoord:k<0?_.coordinate-k*e:_.coordinate})}else l[C]=_=Tr(Tr({},_),{},{tickCoord:_.coordinate});var A=Ip(e,_.tickCoord,N,d,f);A&&(d=_.tickCoord+e*(N()/2+i),l[C]=Tr(Tr({},_),{},{isShow:!0}))},g=0;g<j;g++)y(g);return l}function zN(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,p=e.unit,h=e.angle;if(!i||!i.length||!n)return[];if(Oe(d)||Rd.isSsr)return lse(i,typeof d=="number"&&Oe(d)?d:0);var v=[],b=u==="top"||u==="bottom"?"width":"height",j=p&&b==="width"?yu(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(_,O){var N=st(f)?f(_.value,O):_.value;return b==="width"?sse(yu(N,{fontSize:t,letterSpacing:r}),j,h):yu(N,{fontSize:t,letterSpacing:r})[b]},g=i.length>=2?ea(i[1].coordinate-i[0].coordinate):1,S=ose(s,g,b);return d==="equidistantPreserveStart"?cse(g,S,y,i,l):(d==="preserveStart"||d==="preserveStartEnd"?v=pse(g,S,y,i,l,d==="preserveStartEnd"):v=hse(g,S,y,i,l),v.filter(function(C){return C.isShow}))}var mse=["viewBox"],vse=["viewBox"],gse=["ticks"];function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ml.apply(this,arguments)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(n){UN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ew(e,t){if(e==null)return{};var r=xse(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g3(n.key),n)}}function bse(e,t,r){return t&&pI(e.prototype,t),r&&pI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wse(e,t,r){return t=Rp(t),jse(e,v3()?Reflect.construct(t,r||[],Rp(e).constructor):t.apply(e,r))}function jse(e,t){if(t&&(Wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nse(e)}function Nse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v3=function(){return!!e})()}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(e)}function Sse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xj(e,t)}function Xj(e,t){return Xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xj(e,t)}function UN(e,t,r){return t=g3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g3(e){var t=Cse(e,"string");return Wl(t)=="symbol"?t:t+""}function Cse(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dc=(function(e){function t(r){var n;return yse(this,t),n=wse(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Sse(t,e),bse(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,l=ew(n,mse),u=this.props,d=u.viewBox,f=ew(u,vse);return!yl(s,d)||!yl(l,f)||!yl(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,l=i.y,u=i.width,d=i.height,f=i.orientation,p=i.tickSize,h=i.mirror,v=i.tickMargin,b,j,y,g,S,C,_=h?-1:1,O=n.tickSize||p,N=Oe(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":b=j=n.coordinate,g=l+ +!h*d,y=g-_*O,C=y-_*v,S=N;break;case"left":y=g=n.coordinate,j=s+ +!h*u,b=j-_*O,S=b-_*v,C=N;break;case"right":y=g=n.coordinate,j=s+ +h*u,b=j+_*O,S=b+_*v,C=N;break;default:b=j=n.coordinate,g=l+ +h*d,y=g+_*O,C=y+_*v,S=N;break}return{line:{x1:b,y1:y,x2:j,y2:g},tick:{x:S,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,l;switch(i){case"left":l=s?"start":"end";break;case"right":l=s?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=s?"start":"end";break;default:l=s?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,l=n.width,u=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,h=or(or(or({},xt(this.props,!1)),xt(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!f||d==="bottom"&&f);h=or(or({},h),{},{x1:i,y1:s+v*u,x2:i+l,y2:s+v*u})}else{var b=+(d==="left"&&!f||d==="right"&&f);h=or(or({},h),{},{x1:i+b*l,y1:s,x2:i+b*l,y2:s+u})}return X.createElement("line",ml({},h,{className:pt("recharts-cartesian-axis-line",Bn(p,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var l=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,h=u.tickFormatter,v=u.unit,b=zN(or(or({},this.props),{},{ticks:n}),i,s),j=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),g=xt(this.props,!1),S=xt(p,!1),C=or(or({},g),{},{fill:"none"},xt(d,!1)),_=b.map(function(O,N){var k=l.getTickLineCoord(O),A=k.line,R=k.tick,I=or(or(or(or({textAnchor:j,verticalAnchor:y},g),{},{stroke:"none",fill:f},S),R),{},{index:N,payload:O,visibleTicksCount:b.length,tickFormatter:h});return X.createElement(vr,ml({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Vh(l.props,O,N)),d&&X.createElement("line",ml({},C,A,{className:pt("recharts-cartesian-axis-tick-line",Bn(d,"className"))})),p&&t.renderTickItem(p,I,"".concat(st(h)?h(O.value,N):O.value).concat(v||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,l=i.width,u=i.height,d=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var h=this.props,v=h.ticks,b=ew(h,gse),j=v;return st(d)&&(j=v&&v.length>0?d(this.props):d(b)),l<=0||u<=0||!j||!j.length?null:X.createElement(vr,{className:pt("recharts-cartesian-axis",f),ref:function(g){n.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),Ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var l,u=pt(i.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(n)?l=X.cloneElement(n,or(or({},i),{},{className:u})):st(n)?l=n(or(or({},i),{},{className:u})):l=X.createElement(rp,ml({},i,{className:"recharts-cartesian-axis-tick-value"}),s),l}}])})(w.Component);UN(dc,"displayName","CartesianAxis");UN(dc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _se=["x1","y1","x2","y2","key"],Ese=["offset"];function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(n){kse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kse(e,t,r){return t=Pse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pse(e){var t=Ose(e,"string");return xo(t)=="symbol"?t:t+""}function Ose(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ro.apply(this,arguments)}function vI(e,t){if(e==null)return{};var r=Ase(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ase(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Tse=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,l=t.width,u=t.height,d=t.ry;return X.createElement("rect",{x:i,y:s,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function x3(e,t){var r;if(X.isValidElement(e))r=X.cloneElement(e,t);else if(st(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,l=t.y2,u=t.key,d=vI(t,_se),f=xt(d,!1);f.offset;var p=vI(f,Ese);r=X.createElement("line",ro({},p,{x1:n,y1:i,x2:s,y2:l,fill:"none",key:u}))}return r}function Ise(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(u,d){var f=Rr(Rr({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return x3(i,f)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Rse(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(u,d){var f=Rr(Rr({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return x3(i,f)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Dse(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var p=u.map(function(v){return Math.round(v+i-i)}).sort(function(v,b){return v-b});i!==p[0]&&p.unshift(0);var h=p.map(function(v,b){var j=!p[b+1],y=j?i+l-v:p[b+1]-v;if(y<=0)return null;var g=b%t.length;return X.createElement("rect",{key:"react-".concat(b),y:v,x:n,height:y,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Mse(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(v){return Math.round(v+s-s)}).sort(function(v,b){return v-b});s!==p[0]&&p.unshift(0);var h=p.map(function(v,b){var j=!p[b+1],y=j?s+u-v:p[b+1]-v;if(y<=0)return null;var g=b%n.length;return X.createElement("rect",{key:"react-".concat(b),x:v,y:l,width:y,height:d,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var $se=function(t,r){var n=t.xAxis,i=t.width,s=t.height,l=t.offset;return A$(zN(Rr(Rr(Rr({},dc.defaultProps),n),{},{ticks:ni(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.left,l.left+l.width,r)},Lse=function(t,r){var n=t.yAxis,i=t.width,s=t.height,l=t.offset;return A$(zN(Rr(Rr(Rr({},dc.defaultProps),n),{},{ticks:ni(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.top,l.top+l.height,r)},ol={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function y3(e){var t,r,n,i,s,l,u=LN(),d=FN(),f=Cie(),p=Rr(Rr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ol.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ol.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ol.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:ol.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:ol.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:ol.verticalFill,x:Oe(e.x)?e.x:f.left,y:Oe(e.y)?e.y:f.top,width:Oe(e.width)?e.width:f.width,height:Oe(e.height)?e.height:f.height}),h=p.x,v=p.y,b=p.width,j=p.height,y=p.syncWithTicks,g=p.horizontalValues,S=p.verticalValues,C=jie(),_=Nie();if(!Oe(b)||b<=0||!Oe(j)||j<=0||!Oe(h)||h!==+h||!Oe(v)||v!==+v)return null;var O=p.verticalCoordinatesGenerator||$se,N=p.horizontalCoordinatesGenerator||Lse,k=p.horizontalPoints,A=p.verticalPoints;if((!k||!k.length)&&st(N)){var R=g&&g.length,I=N({yAxis:_?Rr(Rr({},_),{},{ticks:R?g:_.ticks}):void 0,width:u,height:d,offset:f},R?!0:y);ci(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xo(I),"]")),Array.isArray(I)&&(k=I)}if((!A||!A.length)&&st(O)){var L=S&&S.length,U=O({xAxis:C?Rr(Rr({},C),{},{ticks:L?S:C.ticks}):void 0,width:u,height:d,offset:f},L?!0:y);ci(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xo(U),"]")),Array.isArray(U)&&(A=U)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(Tse,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),X.createElement(Ise,ro({},p,{offset:f,horizontalPoints:k,xAxis:C,yAxis:_})),X.createElement(Rse,ro({},p,{offset:f,verticalPoints:A,xAxis:C,yAxis:_})),X.createElement(Dse,ro({},p,{horizontalPoints:k})),X.createElement(Mse,ro({},p,{verticalPoints:A})))}y3.displayName="CartesianGrid";function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function Fse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j3(n.key),n)}}function zse(e,t,r){return t&&Bse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Use(e,t,r){return t=Dp(t),qse(e,b3()?Reflect.construct(t,r||[],Dp(e).constructor):t.apply(e,r))}function qse(e,t){if(t&&(Vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wse(e)}function Wse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b3=function(){return!!e})()}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function Vse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qj(e,t)}function Qj(e,t){return Qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qj(e,t)}function w3(e,t,r){return t=j3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j3(e){var t=Hse(e,"string");return Vl(t)=="symbol"?t:t+""}function Hse(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zj.apply(this,arguments)}function Gse(e){var t=e.xAxisId,r=LN(),n=FN(),i=o3(t);return i==null?null:w.createElement(dc,Zj({},i,{className:pt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return ni(l,!0)}}))}var Um=(function(e){function t(){return Fse(this,t),Use(this,t,arguments)}return Vse(t,e),zse(t,[{key:"render",value:function(){return w.createElement(Gse,this.props)}}])})(w.Component);w3(Um,"displayName","XAxis");w3(Um,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function Kse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C3(n.key),n)}}function Xse(e,t,r){return t&&Yse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qse(e,t,r){return t=Mp(t),Zse(e,N3()?Reflect.construct(t,r||[],Mp(e).constructor):t.apply(e,r))}function Zse(e,t){if(t&&(Hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jse(e)}function Jse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N3=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(e)}function eoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jj(e,t)}function Jj(e,t){return Jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jj(e,t)}function S3(e,t,r){return t=C3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C3(e){var t=toe(e,"string");return Hl(t)=="symbol"?t:t+""}function toe(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(this,arguments)}var roe=function(t){var r=t.yAxisId,n=LN(),i=FN(),s=l3(r);return s==null?null:w.createElement(dc,e1({},s,{className:pt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return ni(u,!0)}}))},qm=(function(e){function t(){return Kse(this,t),Qse(this,t,arguments)}return eoe(t,e),Xse(t,[{key:"render",value:function(){return w.createElement(roe,this.props)}}])})(w.Component);S3(qm,"displayName","YAxis");S3(qm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function gI(e){return soe(e)||ioe(e)||aoe(e)||noe()}function noe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aoe(e,t){if(e){if(typeof e=="string")return t1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(e,t)}}function ioe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function soe(e){if(Array.isArray(e))return t1(e)}function t1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var r1=function(t,r,n,i,s){var l=ta(t,$m),u=ta(t,Fm),d=[].concat(gI(l),gI(u)),f=ta(t,zm),p="".concat(i,"Id"),h=i[0],v=r;if(d.length&&(v=d.reduce(function(y,g){if(g.props[p]===n&&Ea(g.props,"extendDomain")&&Oe(g.props[h])){var S=g.props[h];return[Math.min(y[0],S),Math.max(y[1],S)]}return y},v)),f.length){var b="".concat(h,"1"),j="".concat(h,"2");v=f.reduce(function(y,g){if(g.props[p]===n&&Ea(g.props,"extendDomain")&&Oe(g.props[b])&&Oe(g.props[j])){var S=g.props[b],C=g.props[j];return[Math.min(y[0],S,C),Math.max(y[1],S,C)]}return y},v)}return s&&s.length&&(v=s.reduce(function(y,g){return Oe(g)?[Math.min(y[0],g),Math.max(y[1],g)]:y},v)),v},tw={exports:{}},xI;function ooe(){return xI||(xI=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function s(d,f,p,h,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,h||d,v),j=r?r+f:f;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],b]:d._events[j].push(b):(d._events[j]=b,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,h;if(this._eventsCount===0)return f;for(h in p=this._events)t.call(p,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var v=0,b=h.length,j=new Array(b);v<b;v++)j[v]=h[v].fn;return j},u.prototype.listenerCount=function(f){var p=r?r+f:f,h=this._events[p];return h?h.fn?1:h.length:0},u.prototype.emit=function(f,p,h,v,b,j){var y=r?r+f:f;if(!this._events[y])return!1;var g=this._events[y],S=arguments.length,C,_;if(g.fn){switch(g.once&&this.removeListener(f,g.fn,void 0,!0),S){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,p),!0;case 3:return g.fn.call(g.context,p,h),!0;case 4:return g.fn.call(g.context,p,h,v),!0;case 5:return g.fn.call(g.context,p,h,v,b),!0;case 6:return g.fn.call(g.context,p,h,v,b,j),!0}for(_=1,C=new Array(S-1);_<S;_++)C[_-1]=arguments[_];g.fn.apply(g.context,C)}else{var O=g.length,N;for(_=0;_<O;_++)switch(g[_].once&&this.removeListener(f,g[_].fn,void 0,!0),S){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,p);break;case 3:g[_].fn.call(g[_].context,p,h);break;case 4:g[_].fn.call(g[_].context,p,h,v);break;default:if(!C)for(N=1,C=new Array(S-1);N<S;N++)C[N-1]=arguments[N];g[_].fn.apply(g[_].context,C)}}return!0},u.prototype.on=function(f,p,h){return s(this,f,p,h,!1)},u.prototype.once=function(f,p,h){return s(this,f,p,h,!0)},u.prototype.removeListener=function(f,p,h,v){var b=r?r+f:f;if(!this._events[b])return this;if(!p)return l(this,b),this;var j=this._events[b];if(j.fn)j.fn===p&&(!v||j.once)&&(!h||j.context===h)&&l(this,b);else{for(var y=0,g=[],S=j.length;y<S;y++)(j[y].fn!==p||v&&!j[y].once||h&&j[y].context!==h)&&g.push(j[y]);g.length?this._events[b]=g.length===1?g[0]:g:l(this,b)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(tw)),tw.exports}var loe=ooe();const coe=kt(loe);var rw=new coe,nw="recharts.syncMouseEvents";function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function uoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function doe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_3(n.key),n)}}function foe(e,t,r){return t&&doe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aw(e,t,r){return t=_3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _3(e){var t=hoe(e,"string");return pd(t)=="symbol"?t:t+""}function hoe(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var poe=(function(){function e(){uoe(this,e),aw(this,"activeIndex",0),aw(this,"coordinateList",[]),aw(this,"layout","horizontal")}return foe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,p=r.offset,h=p===void 0?null:p,v=r.mouseHandlerCallback,b=v===void 0?null:v;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,l=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+d+f,v=l+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:h,pageY:v})}}}])})();function moe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&Oe(n)&&Oe(i))return!0}return!1}function voe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function E3(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,l=Nr(t,r,n,i),u=Nr(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function goe(e,t,r){var n,i,s,l;if(e==="horizontal")n=t.x,s=n,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,p=t.outerRadius,h=t.angle,v=Nr(u,d,f,h),b=Nr(u,d,p,h);n=v.x,i=v.y,s=b.x,l=b.y}else return E3(t);return[{x:n,y:i},{x:s,y:l}]}function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(n){xoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xoe(e,t,r){return t=yoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yoe(e){var t=boe(e,"string");return md(t)=="symbol"?t:t+""}function boe(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function woe(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,h=e.layout,v=e.chartName,b=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!s||!l||v!=="ScatterChart"&&i!=="axis")return null;var j,y=XA;if(v==="ScatterChart")j=l,y=Tne;else if(v==="BarChart")j=voe(h,l,d,p),y=RN;else if(h==="radial"){var g=E3(l),S=g.cx,C=g.cy,_=g.radius,O=g.startAngle,N=g.endAngle;j={cx:S,cy:C,startAngle:O,endAngle:N,innerRadius:_,outerRadius:_},y=M$}else j={points:goe(h,l,d)},y=XA;var k=_h(_h(_h(_h({stroke:"#ccc",pointerEvents:"none"},d),j),xt(b,!1)),{},{payload:u,payloadIndex:f,className:pt("recharts-tooltip-cursor",b.className)});return w.isValidElement(b)?w.cloneElement(b,k):w.createElement(y,k)}var joe=["item"],Noe=["children","className","width","height","style","compact","title","desc"];function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vl.apply(this,arguments)}function bI(e,t){return _oe(e)||Coe(e,t)||P3(e,t)||Soe()}function Soe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Coe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function _oe(e){if(Array.isArray(e))return e}function wI(e,t){if(e==null)return{};var r=Eoe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function koe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Poe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O3(n.key),n)}}function Ooe(e,t,r){return t&&Poe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aoe(e,t,r){return t=$p(t),Toe(e,k3()?Reflect.construct(t,r||[],$p(e).constructor):t.apply(e,r))}function Toe(e,t){if(t&&(Gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ioe(e)}function Ioe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k3=function(){return!!e})()}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(e)}function Roe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n1(e,t)}function n1(e,t){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n1(e,t)}function Kl(e){return $oe(e)||Moe(e)||P3(e)||Doe()}function Doe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3(e,t){if(e){if(typeof e=="string")return a1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a1(e,t)}}function Moe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $oe(e){if(Array.isArray(e))return a1(e)}function a1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(n){Ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ke(e,t,r){return t=O3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O3(e){var t=Loe(e,"string");return Gl(t)=="symbol"?t:t+""}function Loe(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Foe={xAxis:["bottom","top"],yAxis:["left","right"]},Boe={width:"100%",height:"100%"},A3={x:0,y:0};function Eh(e){return e}var zoe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Uoe=function(t,r,n,i){var s=r.find(function(p){return p&&p.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var l=s.coordinate,u=i.radius;return ve(ve(ve({},i),Nr(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var d=s.coordinate,f=i.angle;return ve(ve(ve({},i),Nr(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return A3},Wm=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Kl(u),Kl(f)):u},[]);return l.length>0?l:t&&t.length&&Oe(i)&&Oe(s)?t.slice(i,s+1):[]};function T3(e){return e==="number"?[0,"auto"]:void 0}var i1=function(t,r,n,i){var s=t.graphicalItems,l=t.tooltipAxis,u=Wm(r,t);return n<0||!s||!s.length||n>=u.length?null:s.reduce(function(d,f){var p,h=(p=f.props.data)!==null&&p!==void 0?p:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var v;if(l.dataKey&&!l.allowDuplicatedCategory){var b=h===void 0?u:h;v=Vw(b,l.dataKey,i)}else v=h&&h[n]||u[n];return v?[].concat(Kl(d),[I$(f,v)]):d},[])},NI=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},l=zoe(s,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,p=mee(l,u,f,d);if(p>=0&&f){var h=f[p]&&f[p].value,v=i1(t,r,p,h),b=Uoe(n,u,p,s);return{activeTooltipIndex:p,activeLabel:h,activePayload:v,activeCoordinate:b}}return null},qoe=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,h=t.children,v=t.stackOffset,b=O$(p,s);return n.reduce(function(j,y){var g,S=y.type.defaultProps!==void 0?ve(ve({},y.type.defaultProps),y.props):y.props,C=S.type,_=S.dataKey,O=S.allowDataOverflow,N=S.allowDuplicatedCategory,k=S.scale,A=S.ticks,R=S.includeHidden,I=S[l];if(j[I])return j;var L=Wm(t.data,{graphicalItems:i.filter(function(F){var $,Q=l in F.props?F.props[l]:($=F.type.defaultProps)===null||$===void 0?void 0:$[l];return Q===I}),dataStartIndex:d,dataEndIndex:f}),U=L.length,W,H,G;moe(S.domain,O,C)&&(W=Cj(S.domain,null,O),b&&(C==="number"||k!=="auto")&&(G=wu(L,_,"category")));var T=T3(C);if(!W||W.length===0){var D,V=(D=S.domain)!==null&&D!==void 0?D:T;if(_){if(W=wu(L,_,C),C==="category"&&b){var B=sH(W);N&&B?(H=W,W=Cp(0,U)):N||(W=MA(V,W,y).reduce(function(F,$){return F.indexOf($)>=0?F:[].concat(Kl(F),[$])},[]))}else if(C==="category")N?W=W.filter(function(F){return F!==""&&!yt(F)}):W=MA(V,W,y).reduce(function(F,$){return F.indexOf($)>=0||$===""||yt($)?F:[].concat(Kl(F),[$])},[]);else if(C==="number"){var q=bee(L,i.filter(function(F){var $,Q,J=l in F.props?F.props[l]:($=F.type.defaultProps)===null||$===void 0?void 0:$[l],le="hide"in F.props?F.props.hide:(Q=F.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return J===I&&(R||!le)}),_,s,p);q&&(W=q)}b&&(C==="number"||k!=="auto")&&(G=wu(L,_,"category"))}else b?W=Cp(0,U):u&&u[I]&&u[I].hasStack&&C==="number"?W=v==="expand"?[0,1]:T$(u[I].stackGroups,d,f):W=P$(L,i.filter(function(F){var $=l in F.props?F.props[l]:F.type.defaultProps[l],Q="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return $===I&&(R||!Q)}),C,p,!0);if(C==="number")W=r1(h,W,I,s,A),V&&(W=Cj(V,W,O));else if(C==="category"&&V){var K=V,z=W.every(function(F){return K.indexOf(F)>=0});z&&(W=K)}}return ve(ve({},j),{},Ke({},I,ve(ve({},S),{},{axisType:s,domain:W,categoricalDomain:G,duplicateDomain:H,originalDomain:(g=S.domain)!==null&&g!==void 0?g:T,isCategorical:b,layout:p})))},{})},Woe=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,h=t.children,v=Wm(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),b=v.length,j=O$(p,s),y=-1;return n.reduce(function(g,S){var C=S.type.defaultProps!==void 0?ve(ve({},S.type.defaultProps),S.props):S.props,_=C[l],O=T3("number");if(!g[_]){y++;var N;return j?N=Cp(0,b):u&&u[_]&&u[_].hasStack?(N=T$(u[_].stackGroups,d,f),N=r1(h,N,_,s)):(N=Cj(O,P$(v,n.filter(function(k){var A,R,I=l in k.props?k.props[l]:(A=k.type.defaultProps)===null||A===void 0?void 0:A[l],L="hide"in k.props?k.props.hide:(R=k.type.defaultProps)===null||R===void 0?void 0:R.hide;return I===_&&!L}),"number",p),i.defaultProps.allowDataOverflow),N=r1(h,N,_,s)),ve(ve({},g),{},Ke({},_,ve(ve({axisType:s},i.defaultProps),{},{hide:!0,orientation:Bn(Foe,"".concat(s,".").concat(y%2),null),domain:N,originalDomain:O,isCategorical:j,layout:p})))}return g},{})},Voe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.children,h="".concat(i,"Id"),v=ta(p,s),b={};return v&&v.length?b=qoe(t,{axes:v,graphicalItems:l,axisType:i,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(b=Woe(t,{Axis:s,graphicalItems:l,axisType:i,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),b},Hoe=function(t){var r=as(t),n=ni(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:sN(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:vp(r,n)}},SI=function(t){var r=t.children,n=t.defaultShowTooltip,i=mn(r,Fl),s=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},Goe=function(t){return!t||!t.length?!1:t.some(function(r){var n=li(r&&r.type);return n&&n.indexOf("Bar")>=0})},CI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Koe=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,l=s===void 0?{}:s,u=t.yAxisMap,d=u===void 0?{}:u,f=n.width,p=n.height,h=n.children,v=n.margin||{},b=mn(h,Fl),j=mn(h,bl),y=Object.keys(d).reduce(function(N,k){var A=d[k],R=A.orientation;return!A.mirror&&!A.hide?ve(ve({},N),{},Ke({},R,N[R]+A.width)):N},{left:v.left||0,right:v.right||0}),g=Object.keys(l).reduce(function(N,k){var A=l[k],R=A.orientation;return!A.mirror&&!A.hide?ve(ve({},N),{},Ke({},R,Bn(N,"".concat(R))+A.height)):N},{top:v.top||0,bottom:v.bottom||0}),S=ve(ve({},g),y),C=S.bottom;b&&(S.bottom+=b.props.height||Fl.defaultProps.height),j&&r&&(S=xee(S,i,n,r));var _=f-S.left-S.right,O=p-S.top-S.bottom;return ve(ve({brushBottom:C},S),{},{width:Math.max(_,0),height:Math.max(O,0)})},Yoe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Xoe=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,h=t.defaultProps,v=function(S,C){var _=C.graphicalItems,O=C.stackGroups,N=C.offset,k=C.updateId,A=C.dataStartIndex,R=C.dataEndIndex,I=S.barSize,L=S.layout,U=S.barGap,W=S.barCategoryGap,H=S.maxBarSize,G=CI(L),T=G.numericAxisName,D=G.cateAxisName,V=Goe(_),B=[];return _.forEach(function(q,K){var z=Wm(S.data,{graphicalItems:[q],dataStartIndex:A,dataEndIndex:R}),F=q.type.defaultProps!==void 0?ve(ve({},q.type.defaultProps),q.props):q.props,$=F.dataKey,Q=F.maxBarSize,J=F["".concat(T,"Id")],le=F["".concat(D,"Id")],Y={},ce=d.reduce(function(_r,Dt){var an=C["".concat(Dt.axisType,"Map")],Es=F["".concat(Dt.axisType,"Id")];an&&an[Es]||Dt.axisType==="zAxis"||go();var ks=an[Es];return ve(ve({},_r),{},Ke(Ke({},Dt.axisType,ks),"".concat(Dt.axisType,"Ticks"),ni(ks)))},Y),ie=ce[D],xe=ce["".concat(D,"Ticks")],Ce=O&&O[J]&&O[J].hasStack&&Tee(q,O[J].stackGroups),te=li(q.type).indexOf("Bar")>=0,ae=vp(ie,xe),de=[],Me=V&&vee({barSize:I,stackGroups:O,totalSize:Yoe(ce,D)});if(te){var Ge,tt,zt=yt(Q)?H:Q,Ot=(Ge=(tt=vp(ie,xe,!0))!==null&&tt!==void 0?tt:zt)!==null&&Ge!==void 0?Ge:0;de=gee({barGap:U,barCategoryGap:W,bandSize:Ot!==ae?Ot:ae,sizeList:Me[le],maxBarSize:zt}),Ot!==ae&&(de=de.map(function(_r){return ve(ve({},_r),{},{position:ve(ve({},_r.position),{},{offset:_r.position.offset-Ot/2})})}))}var Vr=q&&q.type&&q.type.getComposedData;Vr&&B.push({props:ve(ve({},Vr(ve(ve({},ce),{},{displayedData:z,props:S,dataKey:$,item:q,bandSize:ae,barPosition:de,offset:N,stackedData:Ce,layout:L,dataStartIndex:A,dataEndIndex:R}))),{},Ke(Ke(Ke({key:q.key||"item-".concat(K)},T,ce[T]),D,ce[D]),"animationId",k)),childIndex:xH(q,S.children),item:q})}),B},b=function(S,C){var _=S.props,O=S.dataStartIndex,N=S.dataEndIndex,k=S.updateId;if(!QE({props:_}))return null;var A=_.children,R=_.layout,I=_.stackOffset,L=_.data,U=_.reverseStackOrder,W=CI(R),H=W.numericAxisName,G=W.cateAxisName,T=ta(A,n),D=Pee(L,T,"".concat(H,"Id"),"".concat(G,"Id"),I,U),V=d.reduce(function(F,$){var Q="".concat($.axisType,"Map");return ve(ve({},F),{},Ke({},Q,Voe(_,ve(ve({},$),{},{graphicalItems:T,stackGroups:$.axisType===H&&D,dataStartIndex:O,dataEndIndex:N}))))},{}),B=Koe(ve(ve({},V),{},{props:_,graphicalItems:T}),C?.legendBBox);Object.keys(V).forEach(function(F){V[F]=p(_,V[F],B,F.replace("Map",""),r)});var q=V["".concat(G,"Map")],K=Hoe(q),z=v(_,ve(ve({},V),{},{dataStartIndex:O,dataEndIndex:N,updateId:k,graphicalItems:T,stackGroups:D,offset:B}));return ve(ve({formattedGraphicalItems:z,graphicalItems:T,offset:B,stackGroups:D},K),V)},j=(function(g){function S(C){var _,O,N;return koe(this,S),N=Aoe(this,S,[C]),Ke(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ke(N,"accessibilityManager",new poe),Ke(N,"handleLegendBBoxUpdate",function(k){if(k){var A=N.state,R=A.dataStartIndex,I=A.dataEndIndex,L=A.updateId;N.setState(ve({legendBBox:k},b({props:N.props,dataStartIndex:R,dataEndIndex:I,updateId:L},ve(ve({},N.state),{},{legendBBox:k}))))}}),Ke(N,"handleReceiveSyncEvent",function(k,A,R){if(N.props.syncId===k){if(R===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(A)}}),Ke(N,"handleBrushChange",function(k){var A=k.startIndex,R=k.endIndex;if(A!==N.state.dataStartIndex||R!==N.state.dataEndIndex){var I=N.state.updateId;N.setState(function(){return ve({dataStartIndex:A,dataEndIndex:R},b({props:N.props,dataStartIndex:A,dataEndIndex:R,updateId:I},N.state))}),N.triggerSyncEvent({dataStartIndex:A,dataEndIndex:R})}}),Ke(N,"handleMouseEnter",function(k){var A=N.getMouseInfo(k);if(A){var R=ve(ve({},A),{},{isTooltipActive:!0});N.setState(R),N.triggerSyncEvent(R);var I=N.props.onMouseEnter;st(I)&&I(R,k)}}),Ke(N,"triggeredAfterMouseMove",function(k){var A=N.getMouseInfo(k),R=A?ve(ve({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(R),N.triggerSyncEvent(R);var I=N.props.onMouseMove;st(I)&&I(R,k)}),Ke(N,"handleItemMouseEnter",function(k){N.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ke(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ke(N,"handleMouseMove",function(k){k.persist(),N.throttleTriggeredAfterMouseMove(k)}),Ke(N,"handleMouseLeave",function(k){N.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var R=N.props.onMouseLeave;st(R)&&R(A,k)}),Ke(N,"handleOuterEvent",function(k){var A=gH(k),R=Bn(N.props,"".concat(A));if(A&&st(R)){var I,L;/.*touch.*/i.test(A)?L=N.getMouseInfo(k.changedTouches[0]):L=N.getMouseInfo(k),R((I=L)!==null&&I!==void 0?I:{},k)}}),Ke(N,"handleClick",function(k){var A=N.getMouseInfo(k);if(A){var R=ve(ve({},A),{},{isTooltipActive:!0});N.setState(R),N.triggerSyncEvent(R);var I=N.props.onClick;st(I)&&I(R,k)}}),Ke(N,"handleMouseDown",function(k){var A=N.props.onMouseDown;if(st(A)){var R=N.getMouseInfo(k);A(R,k)}}),Ke(N,"handleMouseUp",function(k){var A=N.props.onMouseUp;if(st(A)){var R=N.getMouseInfo(k);A(R,k)}}),Ke(N,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ke(N,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseDown(k.changedTouches[0])}),Ke(N,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseUp(k.changedTouches[0])}),Ke(N,"handleDoubleClick",function(k){var A=N.props.onDoubleClick;if(st(A)){var R=N.getMouseInfo(k);A(R,k)}}),Ke(N,"handleContextMenu",function(k){var A=N.props.onContextMenu;if(st(A)){var R=N.getMouseInfo(k);A(R,k)}}),Ke(N,"triggerSyncEvent",function(k){N.props.syncId!==void 0&&rw.emit(nw,N.props.syncId,k,N.eventEmitterSymbol)}),Ke(N,"applySyncEvent",function(k){var A=N.props,R=A.layout,I=A.syncMethod,L=N.state.updateId,U=k.dataStartIndex,W=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)N.setState(ve({dataStartIndex:U,dataEndIndex:W},b({props:N.props,dataStartIndex:U,dataEndIndex:W,updateId:L},N.state)));else if(k.activeTooltipIndex!==void 0){var H=k.chartX,G=k.chartY,T=k.activeTooltipIndex,D=N.state,V=D.offset,B=D.tooltipTicks;if(!V)return;if(typeof I=="function")T=I(B,k);else if(I==="value"){T=-1;for(var q=0;q<B.length;q++)if(B[q].value===k.activeLabel){T=q;break}}var K=ve(ve({},V),{},{x:V.left,y:V.top}),z=Math.min(H,K.x+K.width),F=Math.min(G,K.y+K.height),$=B[T]&&B[T].value,Q=i1(N.state,N.props.data,T),J=B[T]?{x:R==="horizontal"?B[T].coordinate:z,y:R==="horizontal"?F:B[T].coordinate}:A3;N.setState(ve(ve({},k),{},{activeLabel:$,activeCoordinate:J,activePayload:Q,activeTooltipIndex:T}))}else N.setState(k)}),Ke(N,"renderCursor",function(k){var A,R=N.state,I=R.isTooltipActive,L=R.activeCoordinate,U=R.activePayload,W=R.offset,H=R.activeTooltipIndex,G=R.tooltipAxisBandSize,T=N.getTooltipEventType(),D=(A=k.props.active)!==null&&A!==void 0?A:I,V=N.props.layout,B=k.key||"_recharts-cursor";return X.createElement(woe,{key:B,activeCoordinate:L,activePayload:U,activeTooltipIndex:H,chartName:r,element:k,isActive:D,layout:V,offset:W,tooltipAxisBandSize:G,tooltipEventType:T})}),Ke(N,"renderPolarAxis",function(k,A,R){var I=Bn(k,"type.axisType"),L=Bn(N.state,"".concat(I,"Map")),U=k.type.defaultProps,W=U!==void 0?ve(ve({},U),k.props):k.props,H=L&&L[W["".concat(I,"Id")]];return w.cloneElement(k,ve(ve({},H),{},{className:pt(I,H.className),key:k.key||"".concat(A,"-").concat(R),ticks:ni(H,!0)}))}),Ke(N,"renderPolarGrid",function(k){var A=k.props,R=A.radialLines,I=A.polarAngles,L=A.polarRadius,U=N.state,W=U.radiusAxisMap,H=U.angleAxisMap,G=as(W),T=as(H),D=T.cx,V=T.cy,B=T.innerRadius,q=T.outerRadius;return w.cloneElement(k,{polarAngles:Array.isArray(I)?I:ni(T,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(L)?L:ni(G,!0).map(function(K){return K.coordinate}),cx:D,cy:V,innerRadius:B,outerRadius:q,key:k.key||"polar-grid",radialLines:R})}),Ke(N,"renderLegend",function(){var k=N.state.formattedGraphicalItems,A=N.props,R=A.children,I=A.width,L=A.height,U=N.props.margin||{},W=I-(U.left||0)-(U.right||0),H=E$({children:R,formattedGraphicalItems:k,legendWidth:W,legendContent:f});if(!H)return null;var G=H.item,T=wI(H,joe);return w.cloneElement(G,ve(ve({},T),{},{chartWidth:I,chartHeight:L,margin:U,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ke(N,"renderTooltip",function(){var k,A=N.props,R=A.children,I=A.accessibilityLayer,L=mn(R,pa);if(!L)return null;var U=N.state,W=U.isTooltipActive,H=U.activeCoordinate,G=U.activePayload,T=U.activeLabel,D=U.offset,V=(k=L.props.active)!==null&&k!==void 0?k:W;return w.cloneElement(L,{viewBox:ve(ve({},D),{},{x:D.left,y:D.top}),active:V,label:T,payload:V?G:[],coordinate:H,accessibilityLayer:I})}),Ke(N,"renderBrush",function(k){var A=N.props,R=A.margin,I=A.data,L=N.state,U=L.offset,W=L.dataStartIndex,H=L.dataEndIndex,G=L.updateId;return w.cloneElement(k,{key:k.key||"_recharts-brush",onChange:jh(N.handleBrushChange,k.props.onChange),data:I,x:Oe(k.props.x)?k.props.x:U.left,y:Oe(k.props.y)?k.props.y:U.top+U.height+U.brushBottom-(R.bottom||0),width:Oe(k.props.width)?k.props.width:U.width,startIndex:W,endIndex:H,updateId:"brush-".concat(G)})}),Ke(N,"renderReferenceElement",function(k,A,R){if(!k)return null;var I=N,L=I.clipPathId,U=N.state,W=U.xAxisMap,H=U.yAxisMap,G=U.offset,T=k.type.defaultProps||{},D=k.props,V=D.xAxisId,B=V===void 0?T.xAxisId:V,q=D.yAxisId,K=q===void 0?T.yAxisId:q;return w.cloneElement(k,{key:k.key||"".concat(A,"-").concat(R),xAxis:W[B],yAxis:H[K],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:L})}),Ke(N,"renderActivePoints",function(k){var A=k.item,R=k.activePoint,I=k.basePoint,L=k.childIndex,U=k.isRange,W=[],H=A.props.key,G=A.item.type.defaultProps!==void 0?ve(ve({},A.item.type.defaultProps),A.item.props):A.item.props,T=G.activeDot,D=G.dataKey,V=ve(ve({index:L,dataKey:D,cx:R.x,cy:R.y,r:4,fill:IN(A.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},xt(T,!1)),Wh(T));return W.push(S.renderActiveDot(T,V,"".concat(H,"-activePoint-").concat(L))),I?W.push(S.renderActiveDot(T,ve(ve({},V),{},{cx:I.x,cy:I.y}),"".concat(H,"-basePoint-").concat(L))):U&&W.push(null),W}),Ke(N,"renderGraphicChild",function(k,A,R){var I=N.filterFormatItem(k,A,R);if(!I)return null;var L=N.getTooltipEventType(),U=N.state,W=U.isTooltipActive,H=U.tooltipAxis,G=U.activeTooltipIndex,T=U.activeLabel,D=N.props.children,V=mn(D,pa),B=I.props,q=B.points,K=B.isRange,z=B.baseLine,F=I.item.type.defaultProps!==void 0?ve(ve({},I.item.type.defaultProps),I.item.props):I.item.props,$=F.activeDot,Q=F.hide,J=F.activeBar,le=F.activeShape,Y=!!(!Q&&W&&V&&($||J||le)),ce={};L!=="axis"&&V&&V.props.trigger==="click"?ce={onClick:jh(N.handleItemMouseEnter,k.props.onClick)}:L!=="axis"&&(ce={onMouseLeave:jh(N.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:jh(N.handleItemMouseEnter,k.props.onMouseEnter)});var ie=w.cloneElement(k,ve(ve({},I.props),ce));function xe(Dt){return typeof H.dataKey=="function"?H.dataKey(Dt.payload):null}if(Y)if(G>=0){var Ce,te;if(H.dataKey&&!H.allowDuplicatedCategory){var ae=typeof H.dataKey=="function"?xe:"payload.".concat(H.dataKey.toString());Ce=Vw(q,ae,T),te=K&&z&&Vw(z,ae,T)}else Ce=q?.[G],te=K&&z&&z[G];if(le||J){var de=k.props.activeIndex!==void 0?k.props.activeIndex:G;return[w.cloneElement(k,ve(ve(ve({},I.props),ce),{},{activeIndex:de})),null,null]}if(!yt(Ce))return[ie].concat(Kl(N.renderActivePoints({item:I,activePoint:Ce,basePoint:te,childIndex:G,isRange:K})))}else{var Me,Ge=(Me=N.getItemByXY(N.state.activeCoordinate))!==null&&Me!==void 0?Me:{graphicalItem:ie},tt=Ge.graphicalItem,zt=tt.item,Ot=zt===void 0?k:zt,Vr=tt.childIndex,_r=ve(ve(ve({},I.props),ce),{},{activeIndex:Vr});return[w.cloneElement(Ot,_r),null,null]}return K?[ie,null,null]:[ie,null]}),Ke(N,"renderCustomized",function(k,A,R){return w.cloneElement(k,ve(ve({key:"recharts-customized-".concat(R)},N.props),N.state))}),Ke(N,"renderMap",{CartesianGrid:{handler:Eh,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Eh},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Eh},YAxis:{handler:Eh},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((_=C.id)!==null&&_!==void 0?_:mm("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=_4(N.triggeredAfterMouseMove,(O=C.throttleDelay)!==null&&O!==void 0?O:1e3/60),N.state={},N}return Roe(S,g),Ooe(S,[{key:"componentDidMount",value:function(){var _,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,O=_.children,N=_.data,k=_.height,A=_.layout,R=mn(O,pa);if(R){var I=R.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,U=i1(this.state,N,I,L),W=this.state.tooltipTicks[I].coordinate,H=(this.state.offset.top+k)/2,G=A==="horizontal",T=G?{x:W,y:H}:{y:W,x:H},D=this.state.formattedGraphicalItems.find(function(B){var q=B.item;return q.type.name==="Scatter"});D&&(T=ve(ve({},T),D.props.points[I].tooltipPosition),U=D.props.points[I].tooltipPayload);var V={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:L,activePayload:U,activeCoordinate:T};this.setState(V),this.renderCursor(R),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var N,k;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(_){Gw([mn(_.children,pa)],[mn(this.props.children,pa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=mn(this.props.children,pa);if(_&&typeof _.props.shared=="boolean"){var O=_.props.shared?"axis":"item";return u.indexOf(O)>=0?O:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var O=this.container,N=O.getBoundingClientRect(),k=iX(N),A={chartX:Math.round(_.pageX-k.left),chartY:Math.round(_.pageY-k.top)},R=N.width/O.offsetWidth||1,I=this.inRange(A.chartX,A.chartY,R);if(!I)return null;var L=this.state,U=L.xAxisMap,W=L.yAxisMap,H=this.getTooltipEventType(),G=NI(this.state,this.props.data,this.props.layout,I);if(H!=="axis"&&U&&W){var T=as(U).scale,D=as(W).scale,V=T&&T.invert?T.invert(A.chartX):null,B=D&&D.invert?D.invert(A.chartY):null;return ve(ve({},A),{},{xValue:V,yValue:B},G)}return G?ve(ve({},A),G):null}},{key:"inRange",value:function(_,O){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,A=_/N,R=O/N;if(k==="horizontal"||k==="vertical"){var I=this.state.offset,L=A>=I.left&&A<=I.left+I.width&&R>=I.top&&R<=I.top+I.height;return L?{x:A,y:R}:null}var U=this.state,W=U.angleAxisMap,H=U.radiusAxisMap;if(W&&H){var G=as(W);return FA({x:A,y:R},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,O=this.getTooltipEventType(),N=mn(_,pa),k={};N&&O==="axis"&&(N.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Wh(this.props,this.handleOuterEvent);return ve(ve({},A),k)}},{key:"addListener",value:function(){rw.on(nw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){rw.removeListener(nw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,O,N){for(var k=this.state.formattedGraphicalItems,A=0,R=k.length;A<R;A++){var I=k[A];if(I.item===_||I.props.key===_.key||O===li(I.item.type)&&N===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,O=this.state.offset,N=O.left,k=O.top,A=O.height,R=O.width;return X.createElement("defs",null,X.createElement("clipPath",{id:_},X.createElement("rect",{x:N,y:k,height:A,width:R})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(O,N){var k=bI(N,2),A=k[0],R=k[1];return ve(ve({},O),{},Ke({},A,R.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(O,N){var k=bI(N,2),A=k[0],R=k[1];return ve(ve({},O),{},Ke({},A,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[_])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(_){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[_])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(_){var O=this.state,N=O.formattedGraphicalItems,k=O.activeItem;if(N&&N.length)for(var A=0,R=N.length;A<R;A++){var I=N[A],L=I.props,U=I.item,W=U.type.defaultProps!==void 0?ve(ve({},U.type.defaultProps),U.props):U.props,H=li(U.type);if(H==="Bar"){var G=(L.data||[]).find(function(B){return jne(_,B)});if(G)return{graphicalItem:I,payload:G}}else if(H==="RadialBar"){var T=(L.data||[]).find(function(B){return FA(_,B)});if(T)return{graphicalItem:I,payload:T}}else if(Rm(I,k)||Dm(I,k)||cd(I,k)){var D=fae({graphicalItem:I,activeTooltipItem:k,itemData:W.data}),V=W.activeIndex===void 0?D:W.activeIndex;return{graphicalItem:ve(ve({},I),{},{childIndex:V}),payload:cd(I,k)?W.data[D]:I.props.data[D]}}}return null}},{key:"render",value:function(){var _=this;if(!QE(this))return null;var O=this.props,N=O.children,k=O.className,A=O.width,R=O.height,I=O.style,L=O.compact,U=O.title,W=O.desc,H=wI(O,Noe),G=xt(H,!1);if(L)return X.createElement(aI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(Yw,vl({},G,{width:A,height:R,title:U,desc:W}),this.renderClipPath(),JE(N,this.renderMap)));if(this.props.accessibilityLayer){var T,D;G.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,G.role=(D=this.props.role)!==null&&D!==void 0?D:"application",G.onKeyDown=function(B){_.accessibilityManager.keyboardEvent(B)},G.onFocus=function(){_.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return X.createElement(aI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",vl({className:pt("recharts-wrapper",k),style:ve({position:"relative",cursor:"default",width:A,height:R},I)},V,{ref:function(q){_.container=q}}),X.createElement(Yw,vl({},G,{width:A,height:R,title:U,desc:W,style:Boe}),this.renderClipPath(),JE(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(w.Component);Ke(j,"displayName",r),Ke(j,"defaultProps",ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ke(j,"getDerivedStateFromProps",function(g,S){var C=g.dataKey,_=g.data,O=g.children,N=g.width,k=g.height,A=g.layout,R=g.stackOffset,I=g.margin,L=S.dataStartIndex,U=S.dataEndIndex;if(S.updateId===void 0){var W=SI(g);return ve(ve(ve({},W),{},{updateId:0},b(ve(ve({props:g},W),{},{updateId:0}),S)),{},{prevDataKey:C,prevData:_,prevWidth:N,prevHeight:k,prevLayout:A,prevStackOffset:R,prevMargin:I,prevChildren:O})}if(C!==S.prevDataKey||_!==S.prevData||N!==S.prevWidth||k!==S.prevHeight||A!==S.prevLayout||R!==S.prevStackOffset||!yl(I,S.prevMargin)){var H=SI(g),G={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},T=ve(ve({},NI(S,_,A)),{},{updateId:S.updateId+1}),D=ve(ve(ve({},H),G),T);return ve(ve(ve({},D),b(ve({props:g},D),S)),{},{prevDataKey:C,prevData:_,prevWidth:N,prevHeight:k,prevLayout:A,prevStackOffset:R,prevMargin:I,prevChildren:O})}if(!Gw(O,S.prevChildren)){var V,B,q,K,z=mn(O,Fl),F=z&&(V=(B=z.props)===null||B===void 0?void 0:B.startIndex)!==null&&V!==void 0?V:L,$=z&&(q=(K=z.props)===null||K===void 0?void 0:K.endIndex)!==null&&q!==void 0?q:U,Q=F!==L||$!==U,J=!yt(_),le=J&&!Q?S.updateId:S.updateId+1;return ve(ve({updateId:le},b(ve(ve({props:g},S),{},{updateId:le,dataStartIndex:F,dataEndIndex:$}),S)),{},{prevChildren:O,dataStartIndex:F,dataEndIndex:$})}return null}),Ke(j,"renderActiveDot",function(g,S,C){var _;return w.isValidElement(g)?_=w.cloneElement(g,S):st(g)?_=g(S):_=X.createElement(W$,S),X.createElement(vr,{className:"recharts-active-dot",key:C},_)});var y=w.forwardRef(function(S,C){return X.createElement(j,vl({},S,{ref:C}))});return y.displayName=j.displayName,y},Qoe=Xoe({chartName:"BarChart",GraphicalChild:ms,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Um},{axisType:"yAxis",AxisComp:qm}],formatAxisMap:lie});function mt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Sn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ht(e,t){const r=mt(e);return isNaN(t)?Sn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function qr(e,t){const r=mt(e);if(isNaN(t))return Sn(e,NaN);if(!t)return r;const n=r.getDate(),i=Sn(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const qN=6048e5,Zoe=864e5,I3=6e4,R3=36e5;let Joe={};function Fd(){return Joe}function Cn(e,t){const r=Fd(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=mt(e),s=i.getDay(),l=(s<n?7:0)+s-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function yo(e){return Cn(e,{weekStartsOn:1})}function D3(e){const t=mt(e),r=t.getFullYear(),n=Sn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=yo(n),s=Sn(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const l=yo(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function Yl(e){const t=mt(e);return t.setHours(0,0,0,0),t}function Lp(e){const t=mt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Na(e,t){const r=Yl(e),n=Yl(t),i=+r-Lp(r),s=+n-Lp(n);return Math.round((i-s)/Zoe)}function ele(e){const t=D3(e),r=Sn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),yo(r)}function s1(e,t){const r=t*7;return Ht(e,r)}function tle(e,t){return qr(e,t*12)}function rle(e){let t;return e.forEach(function(r){const n=mt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function nle(e){let t;return e.forEach(r=>{const n=mt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Sr(e,t){const r=Yl(e),n=Yl(t);return+r==+n}function WN(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ale(e){if(!WN(e)&&typeof e!="number")return!1;const t=mt(e);return!isNaN(Number(t))}function vd(e,t){const r=mt(e),n=mt(t),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function ile(e,t,r){const n=Cn(e,r),i=Cn(t,r),s=+n-Lp(n),l=+i-Lp(i);return Math.round((s-l)/qN)}function VN(e){const t=mt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Cr(e){const t=mt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function M3(e){const t=mt(e),r=Sn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function HN(e,t){const r=Fd(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=mt(e),s=i.getDay(),l=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function $3(e){return HN(e,{weekStartsOn:1})}const sle={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ole=(e,t,r)=>{let n;const i=sle[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const lle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ule={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dle={date:Nl({formats:lle,defaultWidth:"full"}),time:Nl({formats:cle,defaultWidth:"full"}),dateTime:Nl({formats:ule,defaultWidth:"full"})},fle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hle=(e,t,r,n)=>fle[e];function ya(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):l;i=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;i=e.values[u]||e.values[l]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const ple={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ble=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wle={ordinalNumber:ble,era:ya({values:ple,defaultWidth:"wide"}),quarter:ya({values:mle,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ya({values:vle,defaultWidth:"wide"}),day:ya({values:gle,defaultWidth:"wide"}),dayPeriod:ya({values:xle,defaultWidth:"wide",formattingValues:yle,defaultFormattingWidth:"wide"})};function ba(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const l=s[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?Nle(u,h=>h.test(l)):jle(u,h=>h.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const p=t.slice(l.length);return{value:f,rest:p}}}function jle(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Nle(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function L3(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];l=r.valueCallback?r.valueCallback(l):l;const u=t.slice(i.length);return{value:l,rest:u}}}const Sle=/^(\d+)(th|st|nd|rd)?/i,Cle=/\d+/i,_le={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ele={any:[/^b/i,/^(a|c)/i]},kle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ple={any:[/1/i,/2/i,/3/i,/4/i]},Ole={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ale={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ile={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mle={ordinalNumber:L3({matchPattern:Sle,parsePattern:Cle,valueCallback:e=>parseInt(e,10)}),era:ba({matchPatterns:_le,defaultMatchWidth:"wide",parsePatterns:Ele,defaultParseWidth:"any"}),quarter:ba({matchPatterns:kle,defaultMatchWidth:"wide",parsePatterns:Ple,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ba({matchPatterns:Ole,defaultMatchWidth:"wide",parsePatterns:Ale,defaultParseWidth:"any"}),day:ba({matchPatterns:Tle,defaultMatchWidth:"wide",parsePatterns:Ile,defaultParseWidth:"any"}),dayPeriod:ba({matchPatterns:Rle,defaultMatchWidth:"any",parsePatterns:Dle,defaultParseWidth:"any"})},F3={code:"en-US",formatDistance:ole,formatLong:dle,formatRelative:hle,localize:wle,match:Mle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $le(e){const t=mt(e);return Na(t,M3(t))+1}function B3(e){const t=mt(e),r=+yo(t)-+ele(t);return Math.round(r/qN)+1}function z3(e,t){const r=mt(e),n=r.getFullYear(),i=Fd(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=Sn(e,0);l.setFullYear(n+1,0,s),l.setHours(0,0,0,0);const u=Cn(l,t),d=Sn(e,0);d.setFullYear(n,0,s),d.setHours(0,0,0,0);const f=Cn(d,t);return r.getTime()>=u.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function Lle(e,t){const r=Fd(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=z3(e,t),s=Sn(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Cn(s,t)}function U3(e,t){const r=mt(e),n=+Cn(r,t)-+Lle(r,t);return Math.round(n/qN)+1}function Ct(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Qi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ct(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ct(r+1,2)},d(e,t){return Ct(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ct(e.getHours()%12||12,t.length)},H(e,t){return Ct(e.getHours(),t.length)},m(e,t){return Ct(e.getMinutes(),t.length)},s(e,t){return Ct(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Ct(i,t.length)}},ll={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_I={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Qi.y(e,t)},Y:function(e,t,r,n){const i=z3(e,n),s=i>0?i:1-i;if(t==="YY"){const l=s%100;return Ct(l,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):Ct(s,t.length)},R:function(e,t){const r=D3(e);return Ct(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ct(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ct(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ct(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Qi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ct(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=U3(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Ct(i,t.length)},I:function(e,t,r){const n=B3(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ct(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Qi.d(e,t)},D:function(e,t,r){const n=$le(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ct(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Ct(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Ct(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Ct(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=ll.noon:n===0?i=ll.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=ll.evening:n>=12?i=ll.afternoon:n>=4?i=ll.morning:i=ll.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Qi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Qi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ct(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ct(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Qi.s(e,t)},S:function(e,t){return Qi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return kI(n);case"XXXX":case"XX":return Xs(n);case"XXXXX":case"XXX":default:return Xs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return kI(n);case"xxxx":case"xx":return Xs(n);case"xxxxx":case"xxx":default:return Xs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+EI(n,":");case"OOOO":default:return"GMT"+Xs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+EI(n,":");case"zzzz":default:return"GMT"+Xs(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ct(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ct(n,t.length)}};function EI(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+Ct(s,2)}function kI(e,t){return e%60===0?(e>0?"-":"+")+Ct(Math.abs(e)/60,2):Xs(e,t)}function Xs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Ct(Math.trunc(n/60),2),s=Ct(n%60,2);return r+i+t+s}const PI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},q3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Fle=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return PI(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",PI(n,t)).replace("{{time}}",q3(i,t))},Ble={p:q3,P:Fle},zle=/^D+$/,Ule=/^Y+$/,qle=["D","DD","YY","YYYY"];function Wle(e){return zle.test(e)}function Vle(e){return Ule.test(e)}function Hle(e,t,r){const n=Gle(e,t,r);if(console.warn(n),qle.includes(e))throw new RangeError(n)}function Gle(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xle=/^'([^]*?)'?$/,Qle=/''/g,Zle=/[a-zA-Z]/;function Qe(e,t,r){const n=Fd(),i=r?.locale??n.locale??F3,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=mt(e);if(!ale(u))throw new RangeError("Invalid time value");let d=t.match(Yle).map(p=>{const h=p[0];if(h==="p"||h==="P"){const v=Ble[h];return v(p,i.formatLong)}return p}).join("").match(Kle).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const h=p[0];if(h==="'")return{isToken:!1,value:Jle(p)};if(_I[h])return{isToken:!0,value:p};if(h.match(Zle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return d.map(p=>{if(!p.isToken)return p.value;const h=p.value;(!r?.useAdditionalWeekYearTokens&&Vle(h)||!r?.useAdditionalDayOfYearTokens&&Wle(h))&&Hle(h,t,String(e));const v=_I[h[0]];return v(u,h,i.localize,f)}).join("")}function Jle(e){const t=e.match(Xle);return t?t[1].replace(Qle,"'"):e}function ece(e){const t=mt(e),r=t.getFullYear(),n=t.getMonth(),i=Sn(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function tce(e){return Math.trunc(+mt(e)/1e3)}function rce(e){const t=mt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function nce(e,t){return ile(rce(e),Cr(e),t)+1}function Za(e,t){const r=mt(e),n=mt(t);return r.getTime()>n.getTime()}function W3(e,t){const r=mt(e),n=mt(t);return+r<+n}function OI(e,t,r){const n=Cn(e,r),i=Cn(t,r);return+n==+i}function GN(e,t){const r=mt(e),n=mt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function ace(e,t){const r=mt(e),n=mt(t);return r.getFullYear()===n.getFullYear()}function iw(e,t){return Ht(e,-t)}function fn(e,t){const n=lce(e);let i;if(n.date){const d=cce(n.date,2);i=uce(d.restDateString,d.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let l=0,u;if(n.time&&(l=dce(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(u=fce(n.timezone),isNaN(u))return new Date(NaN)}else{const d=new Date(s+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(s+l+u)}const kh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ice=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,sce=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,oce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lce(e){const t={},r=e.split(kh.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],kh.timeZoneDelimiter.test(t.date)&&(t.date=e.split(kh.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=kh.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function cce(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function uce(e,t){if(t===null)return new Date(NaN);const r=e.match(ice);if(!r)return new Date(NaN);const n=!!r[4],i=uu(r[1]),s=uu(r[2])-1,l=uu(r[3]),u=uu(r[4]),d=uu(r[5])-1;if(n)return gce(t,u,d)?hce(t,u,d):new Date(NaN);{const f=new Date(0);return!mce(t,s,l)||!vce(t,i)?new Date(NaN):(f.setUTCFullYear(t,s,Math.max(i,l)),f)}}function uu(e){return e?parseInt(e):1}function dce(e){const t=e.match(sce);if(!t)return NaN;const r=sw(t[1]),n=sw(t[2]),i=sw(t[3]);return xce(r,n,i)?r*R3+n*I3+i*1e3:NaN}function sw(e){return e&&parseFloat(e.replace(",","."))||0}function fce(e){if(e==="Z")return 0;const t=e.match(oce);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return yce(n,i)?r*(n*R3+i*I3):NaN}function hce(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,s=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const pce=[31,null,31,30,31,30,31,31,30,31,30,31];function V3(e){return e%400===0||e%4===0&&e%100!==0}function mce(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(pce[t]||(V3(e)?29:28))}function vce(e,t){return t>=1&&t<=(V3(e)?366:365)}function gce(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function xce(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function yce(e,t){return t>=0&&t<=59}function ow(e,t){const r=mt(e),n=r.getFullYear(),i=r.getDate(),s=Sn(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const l=ece(s);return r.setMonth(t,Math.min(i,l)),r}function AI(e,t){const r=mt(e);return isNaN(+r)?Sn(e,NaN):(r.setFullYear(t),r)}function du(e,t){if(e.one!==void 0&&t===1)return e.one;const r=t%10,n=t%100;return r===1&&n!==11?e.singularNominative.replace("{{count}}",String(t)):r>=2&&r<=4&&(n<10||n>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function Lr(e){return(t,r)=>r?.addSuffix?r.comparison&&r.comparison>0?e.future?du(e.future,t):"через "+du(e.regular,t):e.past?du(e.past,t):du(e.regular,t)+" назад":du(e.regular,t)}const bce={lessThanXSeconds:Lr({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:Lr({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(e,t)=>t?.addSuffix?t.comparison&&t.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:Lr({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:Lr({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:Lr({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:Lr({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:Lr({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:Lr({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:Lr({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:Lr({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:Lr({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:Lr({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:Lr({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:Lr({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:Lr({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},wce=(e,t,r)=>bce[e](t,r),jce={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},Nce={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},Sce={any:"{{date}}, {{time}}"},Cce={date:Nl({formats:jce,defaultWidth:"full"}),time:Nl({formats:Nce,defaultWidth:"full"}),dateTime:Nl({formats:Sce,defaultWidth:"any"})},KN=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function _ce(e){const t=KN[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function TI(e){const t=KN[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function Ece(e){const t=KN[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}const kce={lastWeek:(e,t,r)=>{const n=e.getDay();return OI(e,t,r)?TI(n):_ce(n)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(e,t,r)=>{const n=e.getDay();return OI(e,t,r)?TI(n):Ece(n)},other:"P"},Pce=(e,t,r,n)=>{const i=kce[e];return typeof i=="function"?i(t,r,n):i},Oce={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},Ace={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},Tce={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},Ice={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},Rce={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},Dce={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},Mce={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},$ce=(e,t)=>{const r=Number(e),n=t?.unit;let i;return n==="date"?i="-е":n==="week"||n==="minute"||n==="second"?i="-я":i="-й",r+i},Lce={ordinalNumber:$ce,era:ya({values:Oce,defaultWidth:"wide"}),quarter:ya({values:Ace,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ya({values:Tce,defaultWidth:"wide",formattingValues:Ice,defaultFormattingWidth:"wide"}),day:ya({values:Rce,defaultWidth:"wide"}),dayPeriod:ya({values:Dce,defaultWidth:"any",formattingValues:Mce,defaultFormattingWidth:"wide"})},Fce=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,Bce=/\d+/i,zce={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},Uce={any:[/^д/i,/^н/i]},qce={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},Wce={any:[/1/i,/2/i,/3/i,/4/i]},Vce={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},Hce={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},Gce={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},Kce={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},Yce={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},Xce={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},Qce={ordinalNumber:L3({matchPattern:Fce,parsePattern:Bce,valueCallback:e=>parseInt(e,10)}),era:ba({matchPatterns:zce,defaultMatchWidth:"wide",parsePatterns:Uce,defaultParseWidth:"any"}),quarter:ba({matchPatterns:qce,defaultMatchWidth:"wide",parsePatterns:Wce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ba({matchPatterns:Vce,defaultMatchWidth:"wide",parsePatterns:Hce,defaultParseWidth:"any"}),day:ba({matchPatterns:Gce,defaultMatchWidth:"wide",parsePatterns:Kce,defaultParseWidth:"any"}),dayPeriod:ba({matchPatterns:Yce,defaultMatchWidth:"wide",parsePatterns:Xce,defaultParseWidth:"any"})},ft={code:"ru",formatDistance:wce,formatLong:Cce,formatRelative:Pce,localize:Lce,match:Qce,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Zce({className:e,paymentRequests:t=[]}){const[r,n]=w.useState("week_days"),i=new Date,s=[{value:"week_days",label:"Неделя по дням"},{value:"month_days",label:"Месяц по дням"},{value:"quarter_decades",label:"Квартал по декадам"},{value:"halfyear_months",label:"Полгода по месяцам"}],l=w.useMemo(()=>t.filter(p=>["approved","to-pay"].includes(p.status)),[t]),u=w.useMemo(()=>{const p=[];switch(r){case"week_days":{const h=Cn(i,{weekStartsOn:1});for(let v=0;v<7;v++){const b=Ht(h,v),j=Qe(b,"yyyy-MM-dd"),y=l.filter(S=>Sr(fn(S.dueDate),b)),g=y.filter(S=>Za(i,fn(S.dueDate)));p.push({date:j,label:Qe(b,"EEE d",{locale:ft}),amount:y.reduce((S,C)=>S+C.amount,0),overdue:g.reduce((S,C)=>S+C.amount,0),count:y.length,overdueCount:g.length})}break}case"month_days":{const h=Cr(i),v=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();for(let b=0;b<v;b++){const j=Ht(h,b),y=Qe(j,"yyyy-MM-dd"),g=l.filter(C=>Sr(fn(C.dueDate),j)),S=g.filter(C=>Za(i,fn(C.dueDate)));p.push({date:y,label:Qe(j,"d",{locale:ft}),amount:g.reduce((C,_)=>C+_.amount,0),overdue:S.reduce((C,_)=>C+_.amount,0),count:g.length,overdueCount:S.length})}break}case"quarter_decades":{const h=Cr(i);for(let v=0;v<9;v++){const b=Math.floor(v/3),j=v%3,y=qr(h,b);let g,S,C;j===0?(g=y,S=Ht(y,9),C=`${Qe(y,"MMM",{locale:ft})} 1-10`):j===1?(g=Ht(y,10),S=Ht(y,19),C=`${Qe(y,"MMM",{locale:ft})} 11-20`):(g=Ht(y,20),S=Ht(qr(y,1),-1),C=`${Qe(y,"MMM",{locale:ft})} 21-${Qe(S,"d")}`);const _=l.filter(N=>{const k=fn(N.dueDate);return k>=g&&k<=S}),O=_.filter(N=>Za(i,fn(N.dueDate)));p.push({date:Qe(g,"yyyy-MM-dd"),label:C,amount:_.reduce((N,k)=>N+k.amount,0),overdue:O.reduce((N,k)=>N+k.amount,0),count:_.length,overdueCount:O.length})}break}case"halfyear_months":{const h=Cr(i);for(let v=0;v<6;v++){const b=qr(h,v),j=qr(b,1),y=l.filter(S=>{const C=fn(S.dueDate);return C>=b&&C<j}),g=y.filter(S=>Za(i,fn(S.dueDate)));p.push({date:Qe(b,"yyyy-MM-dd"),label:Qe(b,"MMM yyyy",{locale:ft}),amount:y.reduce((S,C)=>S+C.amount,0),overdue:g.reduce((S,C)=>S+C.amount,0),count:y.length,overdueCount:g.length})}break}}return p},[r,l,i]),d=w.useMemo(()=>{const p=l.filter(v=>Sr(fn(v.dueDate),i)),h=l.filter(v=>Za(i,fn(v.dueDate)));return{todayAmount:p.reduce((v,b)=>v+b.amount,0),todayCount:p.length,overdueAmount:h.reduce((v,b)=>v+b.amount,0),overdueCount:h.length,totalAmount:l.reduce((v,b)=>v+b.amount,0),totalCount:l.length}},[l,i]),f=p=>p>=1e6?`${(p/1e6).toFixed(1)}M`:p>=1e3?`${(p/1e3).toFixed(0)}K`:p.toString();return a.jsxs("div",{className:`space-y-6 ${e}`,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"К оплате сегодня"}),a.jsx(Jt,{className:"h-4 w-4 text-blue-500"})]}),a.jsxs(me,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[d.todayAmount.toLocaleString()," ₸"]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.todayCount," заявок"]})]})]}),a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Просрочено"}),a.jsx(jt,{className:"h-4 w-4 text-red-500"})]}),a.jsxs(me,{children:[a.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[d.overdueAmount.toLocaleString()," ₸"]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.overdueCount," заявок"]})]})]}),a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Всего к оплате"}),a.jsx(A1,{className:"h-4 w-4 text-green-500"})]}),a.jsxs(me,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[d.totalAmount.toLocaleString()," ₸"]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.totalCount," заявок"]})]})]}),a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Готовность"}),a.jsx(er,{className:"h-4 w-4 text-orange-500"})]}),a.jsxs(me,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[d.totalCount>0?Math.round(d.todayCount/d.totalCount*100):0,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"На сегодня"})]})]})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(Pe,{children:"График платежей"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Суммы платежей по срокам выполнения"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ot,{value:r,onValueChange:p=>n(p),children:[a.jsx(ct,{className:"w-48",children:a.jsx(lt,{})}),a.jsx(ut,{children:s.map(p=>a.jsx(we,{value:p.value,children:p.label},p.value))})]})})]})}),a.jsxs(me,{children:[a.jsx("div",{className:"h-80",children:a.jsx(ZY,{width:"100%",height:"100%",children:a.jsxs(Qoe,{data:u,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(y3,{strokeDasharray:"3 3"}),a.jsx(Um,{dataKey:"label",fontSize:12,angle:r==="month_days"?-45:0,textAnchor:r==="month_days"?"end":"middle",height:r==="month_days"?60:40}),a.jsx(qm,{fontSize:12,tickFormatter:f}),a.jsx(pa,{formatter:(p,h)=>[`${p.toLocaleString()} ₸`,h==="amount"?"Сумма":"Просрочено"],labelFormatter:p=>`Период: ${p}`}),a.jsx($m,{x:Qe(i,r.includes("days")?"d":"MMM",{locale:ft}),stroke:"#ef4444",strokeDasharray:"2 2",label:"Сегодня"}),a.jsx(ms,{dataKey:"amount",fill:"hsl(var(--chart-1))",name:"amount",radius:[2,2,0,0]}),a.jsx(ms,{dataKey:"overdue",fill:"#ef4444",name:"overdue",radius:[2,2,0,0]})]})})}),a.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"hsl(var(--chart-1))"}}),a.jsx("span",{className:"text-sm",children:"Запланировано"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),a.jsx("span",{className:"text-sm",children:"Просрочено"})]})]})]})]}),d.overdueCount>0&&a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(jt,{className:"h-5 w-5 text-red-500"}),"Просроченные платежи (",d.overdueCount,")"]})}),a.jsx(me,{children:a.jsxs("div",{className:"space-y-2",children:[l.filter(p=>Za(i,fn(p.dueDate))).slice(0,5).map(p=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:p.docNumber}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Просрочено на ",Math.ceil((i.getTime()-fn(p.dueDate).getTime())/(1e3*60*60*24))," дн."]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium text-red-600",children:[p.amount.toLocaleString()," ₸"]}),a.jsx(Ne,{variant:"destructive",className:"text-xs",children:Qe(fn(p.dueDate),"d MMM",{locale:ft})})]})]},p.id)),d.overdueCount>5&&a.jsx("div",{className:"text-center py-2",children:a.jsxs(ne,{variant:"outline",size:"sm",children:["Показать еще ",d.overdueCount-5," просроченных"]})})]})})]})]})}function Jce({paymentRequests:e,onFilterChange:t,currentFilter:r,onViewRequest:n}){const[i,s]=w.useState(null),l=e.filter(N=>["approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(N.status)),u=e.filter(N=>N.status==="approved"),d=new Date(Date.now()-300*60*1e3),f=u.filter(N=>new Date(N.createdAt)<d),p=e.filter(N=>N.status==="in-register"),h=e.filter(N=>N.status==="approved-for-payment"),v=u.reduce((N,k)=>{const A=k.currency||"KZT";return N[A]||(N[A]={count:0,amount:0}),N[A].count+=1,N[A].amount+=k.amount,N},{}),b=l.reduce((N,k)=>{const A=k.status;return N[A]||(N[A]=0),N[A]+=1,N},{}),j=(N,k)=>{const A={KZT:"₸",USD:"$",EUR:"€",RUB:"₽",CNY:"¥"};return`${N.toLocaleString()} ${A[k]||k}`},y=N=>({approved:"Новые","in-register":"В реестре","approved-for-payment":"К оплате","paid-full":"Оплачено","paid-partial":"Частично оплачено",declined:"Отклонено",returned:"Возвращено"})[N]||N,g=N=>({approved:"bg-orange-100 text-orange-700","in-register":"bg-blue-100 text-blue-700","approved-for-payment":"bg-purple-100 text-purple-700","paid-full":"bg-green-100 text-green-700","paid-partial":"bg-yellow-100 text-yellow-700",declined:"bg-red-100 text-red-700",returned:"bg-gray-100 text-gray-700"})[N]||"bg-gray-100 text-gray-700",S=N=>{t&&t(r===N?null:N)},C=f.length,_=h.length,O=u.length+p.length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pe,{className:"border-l-4 border-l-orange-500",children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(_l,{className:"h-5 w-5 text-orange-500"}),"Требует внимания"]})}),a.jsxs(me,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md ${C>0?"border-red-200 bg-red-50":"border-green-200 bg-green-50"} ${r==="overdue"?"ring-2 ring-primary":""}`,onClick:()=>S("overdue"),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jt,{className:`h-4 w-4 ${C>0?"text-red-500":"text-green-500"}`}),a.jsx("span",{className:"font-medium",children:"Просрочено"})]}),a.jsx(Ne,{variant:C>0?"destructive":"default",children:C})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:C>0?"Свыше 5 часов без обработки":"Все в порядке"})]}),a.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md ${_>0?"border-purple-200 bg-purple-50":"border-gray-200 bg-gray-50"}`,onClick:()=>S("approved-for-payment"),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(PD,{className:"h-4 w-4 text-purple-500"}),a.jsx("span",{className:"font-medium",children:"Готово к оплате"})]}),a.jsx(Ne,{variant:_>0?"secondary":"outline",children:_})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Утверждено и ожидает оплаты"})]}),a.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md ${O>0?"border-blue-200 bg-blue-50":"border-gray-200 bg-gray-50"} ${r==="newRequests"?"ring-2 ring-primary":""}`,onClick:()=>S("newRequests"),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(er,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"font-medium",children:"В работе"})]}),a.jsx(Ne,{variant:O>0?"secondary":"outline",children:O})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Требует рассмотрения казначеем"})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[a.jsxs(ne,{size:"sm",onClick:()=>S("newRequests"),disabled:u.length===0,children:[a.jsx(fs,{className:"h-4 w-4 mr-1"}),"Обработать новые (",u.length,")"]}),a.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>s(i==="register"?null:"register"),children:[a.jsx(Nt,{className:"h-4 w-4 mr-1"}),"Создать реестр"]})]})]})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(QW,{className:"h-5 w-5 text-blue-500"}),"Обзор ликвидности"]}),a.jsxs(ne,{variant:"ghost",size:"sm",onClick:()=>s(i==="currencies"?null:"currencies"),children:[i==="currencies"?"Свернуть":"Развернуть",a.jsx(kw,{className:`h-4 w-4 ml-1 transition-transform ${i==="currencies"?"rotate-90":""}`})]})]})}),a.jsx(me,{children:i==="currencies"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:["KZT","USD","EUR","RUB","CNY"].map(N=>{const k=v[N]||{count:0,amount:0};return a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:N}),a.jsx(Ne,{variant:"outline",children:k.count})]}),a.jsx("div",{className:"text-lg font-semibold mb-1",children:j(k.amount,N)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"К обработке"})]},N)})}):a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Object.entries(v).slice(0,3).map(([N,k])=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:N}),a.jsx("div",{className:"font-semibold",children:j(k.amount,N)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[k.count," заявок"]})]},N)),Object.keys(v).length>3&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Еще"}),a.jsxs("div",{className:"font-semibold",children:["+",Object.keys(v).length-3]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"валют"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(O1,{className:"h-5 w-5 text-green-500"}),"Статус workflow"]})}),a.jsxs(me,{children:[a.jsx("div",{className:"space-y-3",children:Object.entries(b).map(([N,k])=>{const A=l.length>0?k/l.length*100:0;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ne,{className:g(N),variant:"secondary",children:y(N)}),a.jsx("span",{className:"text-sm",children:k})]}),a.jsx("div",{className:"w-24",children:a.jsx(F1,{value:A,className:"h-2"})})]},N)})}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{children:"Всего заявок"}),a.jsx("span",{className:"font-medium",children:l.length})]})})]})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"h-5 w-5 text-purple-500"}),"График платежей"]})}),a.jsx(me,{children:a.jsx(Zce,{})})]})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(A1,{className:"h-5 w-5 text-emerald-500"}),"Показатели эффективности"]})}),a.jsx(me,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round((b["paid-full"]||0)/Math.max(l.length,1)*100),"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Успешно оплачено"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(((b["paid-full"]||0)+(b["paid-partial"]||0))/Math.max(l.length,1)*100),"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Общая оплата"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:f.length>0?"⚠️":"✅"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"SLA соблюдение"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:p.length+h.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Готово к оплате"})]})]})})]})]})}function He({className:e,type:t,...r}){return a.jsx("input",{type:t,"data-slot":"input",className:Ie("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}function _t(e){const[t,r]=w.useState({currentDictionary:e,selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}),[n,i]=w.useState([]),[s,l]=w.useState(null),d=hl.getInstance().getHandler(e),f=w.useCallback(async()=>{r(G=>({...G,isLoading:!0,error:null}));try{const G=await d.getItems();i(G),r(T=>({...T,pagination:{...T.pagination,total:G.length,totalPages:Math.ceil(G.length/T.pagination.pageSize)}}))}catch(G){r(T=>({...T,error:G instanceof Error?G.message:"Failed to load items"}))}finally{r(G=>({...G,isLoading:!1}))}},[d]),p=w.useCallback(async()=>{try{const G=await d.getStatistics();l(G)}catch(G){console.error("Failed to load statistics:",G)}},[d]),h=w.useCallback(async G=>{r(T=>({...T,searchQuery:G,isLoading:!0}));try{const T=await d.searchItems(G);i(T)}catch(T){r(D=>({...D,error:T instanceof Error?T.message:"Search failed"}))}finally{r(T=>({...T,isLoading:!1}))}},[d]),v=w.useCallback(async G=>{r(T=>({...T,filters:G,isLoading:!0}));try{const T=await d.getItemsByFilter(G);i(T)}catch(T){r(D=>({...D,error:T instanceof Error?T.message:"Filter failed"}))}finally{r(T=>({...T,isLoading:!1}))}},[d]),b=w.useCallback(async G=>{r(T=>({...T,isLoading:!0,error:null}));try{const T=await d.createItem(G);return i(D=>[...D,T]),r(D=>({...D,editingItem:null})),T}catch(T){const D=T instanceof Error?T.message:"Failed to create item";throw r(V=>({...V,error:D})),T}finally{r(T=>({...T,isLoading:!1}))}},[d]),j=w.useCallback(async(G,T)=>{r(D=>({...D,isLoading:!0,error:null}));try{const D=await d.updateItem(G,T);return i(V=>V.map(B=>B.id===G?D:B)),r(V=>({...V,editingItem:null})),D}catch(D){const V=D instanceof Error?D.message:"Failed to update item";throw r(B=>({...B,error:V})),D}finally{r(D=>({...D,isLoading:!1}))}},[d]),y=w.useCallback(async G=>{r(T=>({...T,isLoading:!0,error:null}));try{const T=await d.deleteItem(G);return T&&(i(D=>D.filter(V=>V.id!==G)),r(D=>({...D,selectedItems:D.selectedItems.filter(V=>V!==G)}))),T}catch(T){const D=T instanceof Error?T.message:"Failed to delete item";return r(V=>({...V,error:D})),!1}finally{r(T=>({...T,isLoading:!1}))}},[d]),g=w.useCallback(async G=>{r(T=>({...T,isLoading:!0,error:null}));try{const T=await d.bulkCreate(G);return i(D=>[...D,...T]),T}catch(T){const D=T instanceof Error?T.message:"Failed to create items";throw r(V=>({...V,error:D})),T}finally{r(T=>({...T,isLoading:!1}))}},[d]),S=w.useCallback(async G=>{r(T=>({...T,isLoading:!0,error:null}));try{const T=await d.bulkUpdate(G);return i(D=>{const V=new Map(T.map(B=>[B.id,B]));return D.map(B=>V.get(B.id)||B)}),r(D=>({...D,selectedItems:[]})),T}catch(T){const D=T instanceof Error?T.message:"Failed to update items";throw r(V=>({...V,error:D})),T}finally{r(T=>({...T,isLoading:!1}))}},[d]),C=w.useCallback(async G=>{r(T=>({...T,isLoading:!0,error:null}));try{const T=await d.bulkDelete(G);return T&&(i(D=>D.filter(V=>!G.includes(V.id))),r(D=>({...D,selectedItems:[]}))),T}catch(T){const D=T instanceof Error?T.message:"Failed to delete items";return r(V=>({...V,error:D})),!1}finally{r(T=>({...T,isLoading:!1}))}},[d]),_=w.useCallback(async G=>{try{return await d.exportItems(G)}catch(T){const D=T instanceof Error?T.message:"Failed to export items";throw r(V=>({...V,error:D})),T}},[d]),O=w.useCallback(async G=>{r(T=>({...T,isLoading:!0,error:null}));try{const T=await d.importItems(G);return T.success.length>0&&i(D=>[...D,...T.success]),T}catch(T){const D=T instanceof Error?T.message:"Failed to import items";throw r(V=>({...V,error:D})),T}finally{r(T=>({...T,isLoading:!1}))}},[d]),N=w.useCallback(G=>d.validateItem(G),[d]),k=w.useCallback(G=>{r(T=>({...T,selectedItems:T.selectedItems.includes(G)?T.selectedItems.filter(D=>D!==G):[...T.selectedItems,G]}))},[]),A=w.useCallback(()=>{r(G=>({...G,selectedItems:n.map(T=>T.id)}))},[n]),R=w.useCallback(()=>{r(G=>({...G,selectedItems:[]}))},[]),I=w.useCallback(G=>{r(T=>({...T,editingItem:G}))},[]),L=w.useCallback(G=>{r(T=>({...T,bulkActionMode:G,selectedItems:G?T.selectedItems:[]}))},[]),U=w.useCallback(G=>{r(T=>({...T,pagination:{...T.pagination,...G}}))},[]),W=w.useCallback(()=>{r(G=>({...G,error:null}))},[]),H=w.useCallback(async()=>{await Promise.all([f(),p()])},[f,p]);return w.useEffect(()=>{f(),p()},[f,p]),{items:n,statistics:s,state:t,loadItems:f,loadStatistics:p,searchItems:h,filterItems:v,createItem:b,updateItem:j,deleteItem:y,bulkCreate:g,bulkUpdate:S,bulkDelete:C,exportItems:_,importItems:O,validateItem:N,selectItem:k,selectAllItems:A,clearSelection:R,setEditingItem:I,setBulkActionMode:L,updatePagination:U,clearError:W,refresh:H}}function eue(e,t){const r=typeof e=="string"?parseFloat(e):e;if(isNaN(r))return"0,00";const i=r.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!0}).replace(/\s/g," ");return t?`${i} ${t}`:i}function tr(e,t="KZT"){return eue(e,t)}const H3=(e={})=>{const[t,r]=w.useState([]),[n,i]=w.useState(!1),[s,l]=w.useState(null),[u,d]=w.useState(!0),[f,p]=w.useState(0),{status:h,searchTerm:v,counterpartyFilter:b,page:j=1,limit:y=10}=e,g=w.useCallback(async()=>{try{i(!0),l(null);const C=new URLSearchParams;C.append("role","executor"),h&&h!=="all"&&C.append("status",h),v&&C.append("search",v),b&&b!=="all"&&C.append("counterparty_id",b),C.append("page",j.toString()),C.append("limit",y.toString());const _=await rt.getAll({role:"executor"});let O=_;h&&h!=="all"&&(O=_.filter(N=>N.status===h)),v&&(O=O.filter(N=>N.requestNumber?.toLowerCase().includes(v.toLowerCase())||N.description?.toLowerCase().includes(v.toLowerCase()))),b&&b!=="all"&&(O=O.filter(N=>N.counterpartyId===b)),r(O),d(O.length===y),p(O.length)}catch(C){const _=C instanceof Error?C.message:"Failed to fetch requests";l(_),console.error("Error fetching executor requests:",C)}finally{i(!1)}},[h,v,b,j,y]),S=w.useCallback(async()=>{await g()},[g]);return w.useEffect(()=>{g()},[g]),{data:t,loading:n,error:s,refetch:S,hasMore:u,totalCount:f}},Nu=(e,t="dd.MM.yyyy")=>{if(!e)return"Не указано";try{const r=new Date(e);return isNaN(r.getTime())?"Неверная дата":Qe(r,t,{locale:ft})}catch(r){return console.warn("Error formatting date:",r),"Ошибка даты"}};function tue({onViewRequest:e,onCreateRequest:t}){const[r,n]=w.useState(null),[i,s]=w.useState(1),[l,u]=w.useState(""),d=5,{items:f}=_t("counterparties"),{data:p,loading:h,error:v}=H3({status:r!=="total"?r:void 0,page:i,limit:d}),{statistics:b,loading:j,error:y}=$D("executor"),g=h||j,S=v||y,C=w.useMemo(()=>{let W=[...p];if(r)switch(r){case"draft":W=W.filter(H=>H.status==="draft");break;case"submitted":W=W.filter(H=>H.status==="submitted");break;case"in-register":W=W.filter(H=>H.status==="in-register");break;case"to-pay":W=W.filter(H=>H.status==="to-pay");break;case"rejected":W=W.filter(H=>H.status==="rejected");break}return W.sort((H,G)=>{try{const T=new Date(H.createdAt),D=new Date(G.createdAt);return isNaN(T.getTime())||isNaN(D.getTime())?0:D.getTime()-T.getTime()}catch{return 0}})},[p,r]),_=Math.ceil(C.length/d),O=(i-1)*d,N=O+d,k=C.slice(O,N),A=w.useMemo(()=>b?{total:b.totalRequests||0,inProgress:b.submittedCount||0,approvedNotPaid:b.inRegistryCount||0,paid:(b.paidFullCount||0)+(b.paidPartialCount||0),declined:b.rejectedCount||0,draft:b.draftCount||0,totalAmount:b.totalAmount||0}:{total:0,inProgress:0,approvedNotPaid:0,paid:0,declined:0,draft:0,totalAmount:0},[b]),R=w.useCallback(W=>f.find(H=>H.id===W)?.name||"Неизвестен",[f]),I=w.useCallback(W=>{n(r===W?null:W),s(1)},[r]),L=w.useCallback(W=>{u(W.target.value)},[]),U=w.useCallback(W=>{if(W.key==="Enter"){const H=parseInt(l);H>=1&&H<=_&&(s(H),u(""))}},[l,_]);return g?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Обзор системы управления платежами"})]}),a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ca,{className:"h-6 w-6 animate-spin"}),a.jsx("span",{className:"text-muted-foreground",children:"Загрузка данных заявок..."})]})})]}):S?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Обзор системы управления платежами"})]}),a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(jt,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ошибка загрузки данных"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:S}),a.jsx(ne,{onClick:()=>window.location.reload(),variant:"outline",children:"Попробовать снова"})]})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Обзор системы управления платежами"})]}),a.jsxs(ne,{onClick:t,children:[a.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Новая заявка"]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Фильтры заявок"}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[a.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="draft"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("draft"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(pW,{className:"h-3 w-3 text-gray-500"}),a.jsx("span",{className:"text-xs font-medium",children:"Черновики"})]}),a.jsx("div",{className:"text-lg font-semibold",children:A.draft})]}),a.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="submitted"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("submitted"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(er,{className:"h-3 w-3 text-orange-500"}),a.jsx("span",{className:"text-xs font-medium",children:"В работе"})]}),a.jsx("div",{className:"text-lg font-semibold",children:A.inProgress})]}),a.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="in-register"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("in-register"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(nt,{className:"h-3 w-3 text-blue-500"}),a.jsx("span",{className:"text-xs font-medium",children:"Согласовано"})]}),a.jsx("div",{className:"text-lg font-semibold",children:A.approvedNotPaid})]}),a.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="to-pay"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("to-pay"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(nt,{className:"h-3 w-3 text-green-500"}),a.jsx("span",{className:"text-xs font-medium",children:"Оплачено"})]}),a.jsx("div",{className:"text-lg font-semibold",children:A.paid})]}),a.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="rejected"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("rejected"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(jt,{className:"h-3 w-3 text-red-500"}),a.jsx("span",{className:"text-xs font-medium",children:"Отклонено"})]}),a.jsx("div",{className:"text-lg font-semibold",children:A.declined})]}),a.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="total"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("total"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Nt,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{className:"text-xs font-medium",children:"Всего"})]}),a.jsx("div",{className:"text-lg font-semibold",children:A.total})]})]})]})}),a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between",children:[a.jsx(Pe,{children:"Последние заявки"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:C.length>0&&a.jsxs("span",{children:["Показано ",O+1,"-",Math.min(N,C.length)," из ",C.length]})})]}),a.jsxs(me,{children:[a.jsxs("div",{className:"space-y-3",children:[k.map(W=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>e?.(W.id),children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:W.requestNumber}),a.jsx("p",{className:"text-sm text-muted-foreground",children:R(W.counterpartyId)})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium",children:tr(W.amount,W.currency)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Nu(W.createdAt)})]}),a.jsx(So,{status:W.status})]})]},W.id)),C.length===0&&a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Нет заявок для отображения"})]}),_>1&&a.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ne,{variant:"outline",size:"sm",onClick:()=>s(1),disabled:i===1,className:"hidden sm:flex",children:"Первая"}),a.jsx(ne,{variant:"outline",size:"sm",onClick:()=>s(W=>Math.max(W-1,1)),disabled:i===1,children:"Назад"}),a.jsxs("span",{className:"text-sm text-muted-foreground hidden sm:block",children:["Страница ",i," из ",_]}),a.jsxs("span",{className:"text-sm text-muted-foreground sm:hidden",children:[i,"/",_]}),a.jsx(ne,{variant:"outline",size:"sm",onClick:()=>s(W=>Math.min(W+1,_)),disabled:i===_,children:"Вперед"}),a.jsx(ne,{variant:"outline",size:"sm",onClick:()=>s(_),disabled:i===_,className:"hidden sm:flex",children:"Последняя"})]}),a.jsx("div",{className:"flex items-center gap-1 overflow-x-auto",children:(()=>{const H=[];if(_<=7)for(let G=1;G<=_;G++)H.push(a.jsx(ne,{variant:i===G?"default":"outline",size:"sm",onClick:()=>s(G),className:"w-8 h-8 p-0",children:G},G));else{const G=Math.floor(3.5);H.push(a.jsx(ne,{variant:i===1?"default":"outline",size:"sm",onClick:()=>s(1),className:"w-8 h-8 p-0",children:"1"},1)),i>G+2&&H.push(a.jsx("span",{className:"px-2 text-muted-foreground",children:"..."},"ellipsis1"));const T=Math.max(2,i-G),D=Math.min(_-1,i+G);for(let V=T;V<=D;V++)V!==1&&V!==_&&H.push(a.jsx(ne,{variant:i===V?"default":"outline",size:"sm",onClick:()=>s(V),className:"w-8 h-8 p-0",children:V},V));i<_-G-1&&H.push(a.jsx("span",{className:"px-2 text-muted-foreground",children:"..."},"ellipsis2")),_>1&&H.push(a.jsx(ne,{variant:i===_?"default":"outline",size:"sm",onClick:()=>s(_),className:"w-8 h-8 p-0",children:_},_))}return H})()}),_>10&&a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Перейти к:"}),a.jsx(He,{type:"number",min:"1",max:_,value:l,onChange:L,onKeyDown:U,placeholder:"№",className:"w-16 h-8 text-center"})]})]})]})]})]})}function II({currentRole:e,onFilterChange:t,currentFilter:r,onViewRequest:n,onCreateRequest:i,paymentRequests:s=[]}){const[l,u]=w.useState([]),[d,f]=w.useState(!1),[p,h]=w.useState(null),{items:v}=_t("counterparties");if(w.useEffect(()=>{(async()=>{f(!0),h(null);try{const k=await rt.getAll({role:e});u(k)}catch(k){console.error("Dashboard: Error loading payment requests:",k),h("Ошибка загрузки данных заявок"),u([])}finally{f(!1)}})()},[e]),e==="executor")return a.jsx(tue,{onViewRequest:n,onCreateRequest:i});const b=s.length>0?s:l,y=(()=>{const N=b;if(e==="registrar"){const T=N.filter(F=>["submitted","classified","returned","declined"].includes(F.status)),D=N.filter(F=>F.status==="submitted"),V=N.filter(F=>F.status==="classified"),B=N.filter(F=>F.status==="declined"),q=N.filter(F=>F.status==="returned"),K=new Date;K.setHours(0,0,0,0);const z=D.filter(F=>{try{const $=new Date(F.dueDate);return isNaN($.getTime())?!1:($.setHours(0,0,0,0),$<K)}catch{return!1}});return{total:T.length,newRequests:D.length,inProgress:D.length,registered:V.length,overdueCount:z.length,returnedForRevision:q.length,declinedStats:B.length}}if(e==="distributor"){const T=N.filter(J=>["classified","approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(J.status)),D=N.filter(J=>J.status==="classified"),V=N.filter(J=>J.status==="approved"),B=new Date;B.setHours(0,0,0,0);const q=D.filter(J=>{try{const le=new Date(J.dueDate);return isNaN(le.getTime())?!1:(le.setHours(0,0,0,0),le<B)}catch{return!1}}),K=N.filter(J=>["classified"].includes(J.status)).length,z=N.filter(J=>J.status==="returned").length,F=N.filter(J=>["approved","in-register","approved-for-payment"].includes(J.status)).length,$=N.filter(J=>["paid-full","paid-partial"].includes(J.status)).length,Q=N.filter(J=>J.status==="declined").length;return{total:T.length,newRequests:D.length,toApprove:D.length,approved:V.length,overdueCount:q.length,totalAmount:[...D,...V].reduce((J,le)=>J+le.amount,0),inWork:K,returnedForRevision:z,approvedForPayment:F,paid:$,declined:Q}}if(e==="executor"){const T=N.filter(le=>["draft","submitted","classified","approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(le.status)),D=N.filter(le=>le.status==="draft"),V=N.filter(le=>le.status==="submitted"),B=N.filter(le=>le.status==="classified"),q=N.filter(le=>le.status==="approved"),K=N.filter(le=>le.status==="in-register"),z=N.filter(le=>["paid-full","paid-partial"].includes(le.status)),F=N.filter(le=>le.status==="declined"),$=N.filter(le=>le.status==="returned"),Q=V.length+B.length+q.length+K.length,J=q.length+K.length;return{total:T.length,draft:D.length,inProgress:Q,approvedNotPaid:J,paid:z.length,declined:F.length,returnedForRevision:$.length,totalAmount:T.reduce((le,Y)=>le+(Y.amount||0),0)}}const k=N.filter(T=>["approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(T.status)),A=N.filter(T=>T.status==="approved"),R=new Date;R.setHours(0,0,0,0);const I=A.filter(T=>{try{const D=new Date(T.dueDate);return isNaN(D.getTime())?!1:(D.setHours(0,0,0,0),D<R)}catch{return!1}}),L=N.filter(T=>["approved"].includes(T.status)).length,U=N.filter(T=>T.status==="returned").length,W=N.filter(T=>["in-register"].includes(T.status)).length,H=N.filter(T=>["paid-full","paid-partial"].includes(T.status)).length,G=N.filter(T=>T.status==="declined").length;return{total:k.length,newRequests:A.length,overdueCount:I.length,inWork:L,returnedForRevision:U,inRegister:W,paid:H,declined:G}})(),S=(()=>{let k=[...b];if(e==="registrar"){if(k=k.filter(A=>["submitted","classified","returned","declined"].includes(A.status)),r)switch(r){case"total":break;case"newRequests":k=k.filter(A=>A.status==="submitted");break;case"overdue":k=k.filter(A=>{if(A.status==="submitted")try{const R=new Date(A.dueDate);if(isNaN(R.getTime()))return!1;const I=new Date;return I.setHours(0,0,0,0),R.setHours(0,0,0,0),R<I}catch{return!1}return!1});break}}else if(e==="distributor"){if(k=k.filter(A=>["classified","approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(A.status)),r){const A=new Date;switch(A.setHours(0,0,0,0),r){case"total":break;case"newRequests":k=k.filter(R=>R.status==="classified");break;case"overdue":k=k.filter(R=>{if(R.status==="classified")try{const I=new Date(R.dueDate);return isNaN(I.getTime())?!1:(I.setHours(0,0,0,0),I<A)}catch{return!1}return!1});break;case"approved":k=k.filter(R=>["approved","in-register","approved-for-payment"].includes(R.status));break;case"returned":k=k.filter(R=>R.status==="returned");break;case"paid":k=k.filter(R=>["paid-full","paid-partial"].includes(R.status));break}}}else if(e==="treasurer"&&(k=k.filter(A=>["approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(A.status)),r))switch(r){case"total":break;case"newRequests":k=k.filter(A=>A.status==="approved");break;case"overdue":k=k.filter(A=>{if(A.status==="approved")try{const R=new Date(A.dueDate);if(isNaN(R.getTime()))return!1;const I=new Date;return I.setHours(0,0,0,0),R.setHours(0,0,0,0),R<I}catch{return!1}return!1});break}return k.sort((A,R)=>{try{const I=new Date(A.createdAt),L=new Date(R.createdAt);return isNaN(I.getTime())||isNaN(L.getTime())?0:L.getTime()-I.getTime()}catch{return 0}}).slice(0,5)})(),C=N=>v.find(k=>k.id===N)?.name||"Неизвестен",_=N=>{try{const k=new Date(N);return isNaN(k.getTime())?"Некорректная дата":Qe(k,"d MMM",{locale:ft})}catch{return"Некорректная дата"}},O=N=>{if(console.log("Dashboard: Filter clicked:",N,"Current filter:",r),t){const k=r===N?null:N;console.log("Dashboard: Setting new filter:",k),t(k)}};return d?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Обзор системы управления платежами"})]}),a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ca,{className:"h-6 w-6 animate-spin"}),a.jsx("span",{className:"text-muted-foreground",children:"Загрузка данных заявок..."})]})})]}):p?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Обзор системы управления платежами"})]}),a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(jt,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ошибка загрузки данных"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:p}),a.jsx(ne,{onClick:()=>window.location.reload(),variant:"outline",children:"Попробовать снова"})]})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Обзор системы управления платежами"})]}),e!=="executor"&&a.jsxs("div",{className:`grid gap-4 ${e==="distributor"?"grid-cols-1 md:grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"}`,children:[e==="registrar"&&a.jsxs(a.Fragment,{children:[a.jsxs(pe,{className:`cursor-pointer transition-all hover:shadow-md ${r==="total"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>O("total"),children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Всего"}),a.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold",children:y.total}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Всех заявок"})]})]}),a.jsxs(pe,{className:`cursor-pointer transition-all hover:shadow-md ${r==="newRequests"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>O("newRequests"),children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Новые заявки"}),a.jsx(jt,{className:"h-4 w-4 text-orange-500"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold",children:y.newRequests}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Требуют обработки"})]})]}),a.jsxs(pe,{className:`cursor-pointer transition-all hover:shadow-md ${r==="overdue"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>O("overdue"),children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Просроченные"}),a.jsx(jt,{className:"h-4 w-4 text-red-500"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:y.overdueCount||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Заявок просрочено"})]})]})]}),e==="distributor"&&a.jsxs(a.Fragment,{children:[a.jsxs(pe,{className:`cursor-pointer transition-all hover:shadow-md ${r==="newRequests"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>O("newRequests"),children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"В работе"}),a.jsx(jt,{className:"h-4 w-4 text-orange-500"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold",children:y.inWork||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Требуют рассмотрения"})]})]}),a.jsxs(pe,{className:`cursor-pointer transition-all hover:shadow-md ${r==="overdue"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>O("overdue"),children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Просрочено"}),a.jsx(Jt,{className:"h-4 w-4 text-red-500"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:y.overdueCount||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Заявок просрочено"})]})]}),a.jsxs(pe,{className:`cursor-pointer transition-all hover:shadow-md ${r==="approved"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>O("approved"),children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Утверждено"}),a.jsx(nt,{className:"h-4 w-4 text-green-500"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.approvedForPayment||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"К оплате"})]})]}),a.jsxs(pe,{className:`cursor-pointer transition-all hover:shadow-md ${r==="returned"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>O("returned"),children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"На доработку"}),a.jsx(Nn,{className:"h-4 w-4 text-blue-500"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.returnedForRevision||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Возвращено"})]})]}),a.jsxs(pe,{className:`cursor-pointer transition-all hover:shadow-md ${r==="paid"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>O("paid"),children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Оплачено"}),a.jsx(wn,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-700",children:y.paid||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Заявок оплачено"})]})]})]}),e==="treasurer"&&a.jsx("div",{className:"col-span-full",children:a.jsx(Jce,{paymentRequests:s.length>0?s:l,onFilterChange:t,currentFilter:r,onViewRequest:n})})]}),e!=="treasurer"&&a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsx(Pe,{children:"Последние заявки"})}),a.jsx(me,{children:a.jsxs("div",{className:"space-y-3",children:[S.map(N=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>n?.(N.id),children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:N.requestNumber}),a.jsx("p",{className:"text-sm text-muted-foreground",children:C(N.counterpartyId)})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium",children:tr(N.amount,N.currency)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:_(N.createdAt)})]}),a.jsx(So,{status:N.status})]})]},N.id)),S.length===0&&a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Нет заявок для отображения"})]})})]})]})}function xn({className:e,...t}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:Ie("w-full caption-bottom text-sm",e),...t})})}function yn({className:e,...t}){return a.jsx("thead",{"data-slot":"table-header",className:Ie("[&_tr]:border-b",e),...t})}function bn({className:e,...t}){return a.jsx("tbody",{"data-slot":"table-body",className:Ie("[&_tr:last-child]:border-0",e),...t})}function It({className:e,...t}){return a.jsx("tr",{"data-slot":"table-row",className:Ie("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function _e({className:e,...t}){return a.jsx("th",{"data-slot":"table-head",className:Ie("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Ee({className:e,...t}){return a.jsx("td",{"data-slot":"table-cell",className:Ie("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function rue({filteredRequests:e,currentFilter:t,onFilterClick:r}){const n=()=>{const u=new Date(Date.now()-18e6);return e.filter(d=>d.status==="submitted"&&new Date(d.createdAt)<u).length},i=[{id:"in-work",title:"В работе",value:e.filter(u=>u.status==="submitted").length,icon:a.jsx(jt,{className:"h-4 w-4 text-orange-500"}),color:"text-orange-500",isClickable:!0,filterType:"in-work",tooltip:"Заявки, ожидающие классификации регистратором"},{id:"registered",title:"Зарегистрировано",value:e.filter(u=>u.status==="classified").length,icon:a.jsx(Nt,{className:"h-4 w-4 text-green-500"}),color:"text-green-500",isClickable:!0,filterType:"registered",tooltip:"Заявки, успешно классифицированные и переданные распорядителю"},{id:"overdue",title:"Просрочено",value:n(),icon:a.jsx(Jt,{className:"h-4 w-4 text-red-500"}),color:"text-red-500",isClickable:!0,filterType:"overdue",tooltip:"Заявки, поданные более 5 часов назад и еще не обработанные"},{id:"returned",title:"Возвращено на доработку",value:e.filter(u=>u.status==="returned").length,icon:a.jsx(Aa,{className:"h-4 w-4 text-blue-500"}),color:"text-blue-500",isClickable:!0,filterType:"returned",tooltip:"Заявки, возвращенные на доработку исполнителю"},{id:"declined",title:"Отклонено",value:e.filter(u=>u.status==="declined").length,icon:a.jsx(Nt,{className:"h-4 w-4 text-red-600"}),color:"text-red-600",isClickable:!0,filterType:"declined",tooltip:"Отклоненные заявки"}],s=u=>{u.isClickable&&u.filterType&&r(u.filterType)},l=u=>{const d="transition-all duration-300 ease-out";if(u.isClickable){const f=t===u.filterType;return`${d} cursor-pointer hover:shadow-lg hover:scale-[1.03] active:scale-[0.98] ${f?"ring-2 ring-primary shadow-lg scale-[1.02] bg-primary/5 border-primary/20":"hover:bg-accent/30 hover:border-primary/30"}`}return`${d} hover:shadow-md hover:scale-[1.01]`};return a.jsx(cm,{children:a.jsxs("div",{className:"space-y-4",children:[t&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in-50 duration-300",children:[a.jsx(bi,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{className:"text-sm",children:["Активен фильтр: ",a.jsx("strong",{children:i.find(u=>u.filterType===t)?.title})]}),a.jsxs(Ne,{variant:"secondary",className:"ml-2",children:[e.length," заявок"]}),a.jsxs(Tu,{children:[a.jsx(Iu,{asChild:!0,children:a.jsx("div",{children:a.jsx(ne,{variant:"ghost",size:"sm",className:"ml-auto h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>r(t),children:a.jsx(nm,{className:"h-3 w-3"})})})}),a.jsx(Ru,{children:a.jsx("p",{children:"Сбросить фильтр"})})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:i.map(u=>a.jsxs(Tu,{children:[a.jsx(Iu,{asChild:!0,children:a.jsx("div",{children:a.jsx(pe,{className:l(u),onClick:()=>s(u),children:a.jsxs(me,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-shrink-0",children:u.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:u.title}),a.jsx("p",{className:"text-2xl font-semibold mt-1",children:u.value.toLocaleString()})]})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[!u.isClickable&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"Информационная плитка"}),t===u.filterType&&a.jsx(Ne,{variant:"default",size:"sm",className:"animate-pulse",children:"Активен"})]})]})})})}),a.jsx(Ru,{side:"bottom",className:"max-w-xs",children:a.jsx("p",{children:u.tooltip})})]},u.id))})]})})}function nue({filteredRequests:e,currentFilter:t,onFilterClick:r}){const n=[{id:"in-work",title:"В работе",value:e.filter(l=>l.status==="classified").length,icon:a.jsx(jt,{className:"h-4 w-4 text-orange-500"}),color:"text-orange-500",isClickable:!0,filterType:"in-work",tooltip:"Заявки, ожидающие рассмотрения распорядителем"},{id:"returned-for-revision",title:"Отправлен на доработку",value:e.filter(l=>l.status==="returned").length,icon:a.jsx(Nn,{className:"h-4 w-4 text-blue-500"}),color:"text-blue-500",isClickable:!0,filterType:"returned-for-revision",tooltip:"Заявки, отправленные на доработку"},{id:"approved-for-payment",title:"Утвержден на оплату",value:e.filter(l=>["approved","approved-on-behalf","in-register","approved-for-payment"].includes(l.status)).length,icon:a.jsx(nt,{className:"h-4 w-4 text-green-500"}),color:"text-green-500",isClickable:!0,filterType:"approved-for-payment",tooltip:"Заявки, утвержденные к оплате"},{id:"approved-on-behalf",title:"Согласован по поручению рук-ва",value:e.filter(l=>l.status==="approved-on-behalf").length,icon:a.jsx(nt,{className:"h-4 w-4 text-purple-500"}),color:"text-purple-500",isClickable:!0,filterType:"approved-on-behalf",tooltip:"Заявки, согласованные по поручению руководства"},{id:"paid",title:"Оплачен",value:e.filter(l=>["paid-full","paid-partial"].includes(l.status)).length,icon:a.jsx(wn,{className:"h-4 w-4 text-green-600"}),color:"text-green-600",isClickable:!0,filterType:"paid",tooltip:"Оплаченные заявки"},{id:"declined",title:"Отклонен",value:e.filter(l=>l.status==="declined").length,icon:a.jsx(oi,{className:"h-4 w-4 text-red-500"}),color:"text-red-500",isClickable:!0,filterType:"declined",tooltip:"Отклоненные заявки"}],i=l=>{l.isClickable&&l.filterType&&r(l.filterType)},s=l=>{const u="transition-all duration-300 ease-out";if(l.isClickable){const d=t===l.filterType;return`${u} cursor-pointer hover:shadow-lg hover:scale-[1.03] active:scale-[0.98] ${d?"ring-2 ring-primary shadow-lg scale-[1.02] bg-primary/5 border-primary/20":"hover:bg-accent/30 hover:border-primary/30"}`}return`${u} hover:shadow-md hover:scale-[1.01]`};return a.jsx(cm,{children:a.jsxs("div",{className:"space-y-4",children:[t&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in-50 duration-300",children:[a.jsx(bi,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{className:"text-sm",children:["Активен фильтр: ",a.jsx("strong",{children:n.find(l=>l.filterType===t)?.title})]}),a.jsxs(Ne,{variant:"secondary",className:"ml-2",children:[e.length," заявок"]}),a.jsxs(Tu,{children:[a.jsx(Iu,{asChild:!0,children:a.jsx("div",{children:a.jsx(ne,{variant:"ghost",size:"sm",className:"ml-auto h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>r(t),children:a.jsx(nm,{className:"h-3 w-3"})})})}),a.jsx(Ru,{children:a.jsx("p",{children:"Сбросить фильтр"})})]})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:n.map(l=>a.jsxs(Tu,{children:[a.jsx(Iu,{asChild:!0,children:a.jsx("div",{children:a.jsx(pe,{className:s(l),onClick:()=>i(l),children:a.jsxs(me,{className:"p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-shrink-0",children:l.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs text-muted-foreground truncate leading-tight",children:l.title}),a.jsx("p",{className:"text-xl font-semibold mt-0.5",children:l.value.toLocaleString()})]})]}),t===l.filterType&&a.jsx("div",{className:"mt-2 flex justify-end",children:a.jsx(Ne,{variant:"default",size:"sm",className:"animate-pulse text-xs",children:"Активен"})})]})})})}),a.jsx(Ru,{side:"bottom",className:"max-w-xs",children:a.jsx("p",{children:l.tooltip})})]},l.id))})]})})}function aue({currentRole:e,onCreateRequest:t,onViewRequest:r,dashboardFilter:n,onClearFilter:i,paymentRequests:s}){const{items:l}=_t("counterparties"),[u,d]=w.useState(""),[f,p]=w.useState("all"),[h,v]=w.useState("all"),[b,j]=w.useState(null),[y,g]=w.useState([]),[S,C]=w.useState(!0),[_,O]=w.useState(null);w.useEffect(()=>{(async()=>{try{if(C(!0),O(null),s&&s.length>0)g(s);else{const D=await rt.getAll({role:e,status:n||void 0});g(D)}}catch(D){console.error("Error loading requests:",D),O("Ошибка загрузки заявок"),g([])}finally{C(!1)}})()},[e,n,s]);const N=T=>{try{const D=new Date(T);return isNaN(D.getTime())?"Некорректная дата":Qe(D,"d MMM",{locale:ft})}catch{return"Некорректная дата"}},k=T=>{try{const D=new Date(T);return isNaN(D.getTime())?"Некорректная дата":Qe(D,"d MMM HH:mm",{locale:ft})}catch{return"Некорректная дата"}},A=T=>{try{const D=new Date(T);return!isNaN(D.getTime())&&D<new Date}catch{return!1}},R=(T,D)=>{try{const V=new Date(T);if(isNaN(V.getTime()))return!1;const B=new Date(Date.now()-D*60*60*1e3);return V<B}catch{return!1}},I=w.useMemo(()=>{let T=[...y];if(e==="registrar"){if(T=T.filter(D=>["submitted","classified","returned","declined","approved","in-register","paid-full","paid-partial"].includes(D.status)),b)switch(b){case"draft":T=T.filter(D=>D.status==="draft");break;case"inProgress":T=T.filter(D=>["submitted","classified","approved","in-register"].includes(D.status));break;case"approvedNotPaid":T=T.filter(D=>["approved","in-register"].includes(D.status));break;case"paid":T=T.filter(D=>["paid-full","paid-partial"].includes(D.status));break;case"declined":T=T.filter(D=>["declined","rejected"].includes(D.status));break;case"total":break;case"newRequests":T=T.filter(D=>D.status==="submitted");break;case"overdue":T=T.filter(D=>D.status==="submitted"&&R(D.createdAt,5));break}}else if(e==="distributor"){if(T=T.filter(D=>["classified","approved","approved-on-behalf","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(D.status)),b)switch(b){case"total":break;case"in-work":T=T.filter(D=>D.status==="classified");break;case"returned-for-revision":T=T.filter(D=>D.status==="returned");break;case"approved-for-payment":T=T.filter(D=>["approved","approved-on-behalf","in-register","approved-for-payment"].includes(D.status));break;case"approved-on-behalf":T=T.filter(D=>D.status==="approved-on-behalf");break;case"paid":T=T.filter(D=>["paid-full","paid-partial"].includes(D.status));break;case"declined":T=T.filter(D=>D.status==="declined");break;case"newRequests":T=T.filter(D=>D.status==="classified");break;case"overdue":T=T.filter(D=>D.status==="classified"&&R(D.createdAt,5));break}}else if(e==="treasurer"&&(T=T.filter(D=>["approved","approved-on-behalf","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(D.status)),b))switch(b){case"total":break;case"newRequests":T=T.filter(D=>["approved","approved-on-behalf"].includes(D.status));break;case"overdue":T=T.filter(D=>["approved","approved-on-behalf"].includes(D.status)&&R(D.createdAt,5));break}return u&&(T=T.filter(D=>{const V=l.find(B=>B.id===D.counterpartyId);return D.docNumber.toLowerCase().includes(u.toLowerCase())||D.requestNumber?.toLowerCase().includes(u.toLowerCase())||D.description.toLowerCase().includes(u.toLowerCase())||V?.name.toLowerCase().includes(u.toLowerCase())||D.amount.toString().includes(u)})),f!=="all"&&(T=T.filter(D=>D.counterpartyId===f)),h!=="all"&&(T=T.filter(D=>D.status===h)),T.sort((D,V)=>{try{const B=new Date(D.createdAt),q=new Date(V.createdAt);return isNaN(B.getTime())||isNaN(q.getTime())?0:q.getTime()-B.getTime()}catch{return 0}})},[y,u,f,h,e,b,n,l]),L=T=>l.find(D=>D.id===T)?.name||"Неизвестен",U=()=>[...new Set(y.map(D=>D.counterpartyId))].map(D=>{const V=l.find(B=>B.id===D);return V?{id:D,name:V.name}:{id:D,name:"Неизвестен"}}).sort((D,V)=>D.name.localeCompare(V.name)),W=T=>{switch(T){case"submitted":return"Регистратор";case"classified":case"allocated":return"Распорядитель";case"approved":case"approved-on-behalf":case"in-register":case"approved-for-payment":return"Казначей";case"paid-full":case"paid-partial":return"Завершено";case"declined":case"cancelled":return"Отклонено";case"returned":return"Возвращено";case"draft":return"У автора";default:return"-"}},H=T=>{j(b===T?null:T)},G=()=>I.filter(T=>["approved","approved-on-behalf"].includes(T.status)&&R(T.createdAt,5)).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Заявки на оплату"}),a.jsx("p",{className:"text-muted-foreground",children:e==="registrar"?"Заявки для классификации":e==="distributor"?"Заявки для согласования":e==="treasurer"?"Заявки к оплате":""})]}),a.jsx("div",{className:"flex gap-2",children:n&&a.jsx(ne,{variant:"outline",onClick:i,children:"Очистить фильтр"})})]}),(e==="registrar"||e==="distributor")&&a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"h-4 w-4"}),"Фильтры"]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(He,{placeholder:"Поиск по номеру, описанию...",value:u,onChange:T=>d(T.target.value),className:"pl-10"})]}),a.jsxs(ot,{value:f,onValueChange:p,children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Контрагент"})}),a.jsxs(ut,{children:[a.jsx(we,{value:"all",children:"Все контрагенты"}),U().map(T=>a.jsx(we,{value:T.id,children:T.name},T.id))]})]}),a.jsxs(ot,{value:h,onValueChange:v,children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Статус"})}),a.jsxs(ut,{children:[a.jsx(we,{value:"all",children:"Все статусы"}),a.jsx(we,{value:"draft",children:"Черновики"}),a.jsx(we,{value:"submitted",children:"Новые"}),a.jsx(we,{value:"classified",children:"Классифицированные"}),a.jsx(we,{value:"approved",children:"Согласованные"}),a.jsx(we,{value:"in-register",children:"В реестре"}),a.jsx(we,{value:"paid-full",children:"Оплачено полностью"}),a.jsx(we,{value:"paid-partial",children:"Оплачено частично"}),a.jsx(we,{value:"declined",children:"Отклонено"}),a.jsx(we,{value:"returned",children:"Возвращено"})]})]})]})})})]}),e==="registrar"?a.jsx(rue,{filteredRequests:I,currentFilter:b,onFilterClick:H}):e==="distributor"?a.jsx(nue,{filteredRequests:I,currentFilter:b,onFilterClick:H}):e==="treasurer"?a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsx(pe,{className:`cursor-pointer transition-all hover:shadow-md ${b==="total"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>H("total"),children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"h-4 w-4 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего"}),a.jsx("p",{className:"text-xl font-semibold",children:I.length})]})]})})}),a.jsx(pe,{className:`cursor-pointer transition-all hover:shadow-md ${b==="newRequests"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>H("newRequests"),children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"h-4 w-4 text-orange-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Новые заявки"}),a.jsx("p",{className:"text-xl font-semibold",children:I.filter(T=>["approved","approved-on-behalf"].includes(T.status)).length})]})]})})}),a.jsx(pe,{className:`cursor-pointer transition-all hover:shadow-md ${b==="overdue"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>H("overdue"),children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"h-4 w-4 text-red-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Просроченные"}),a.jsx("p",{className:"text-xl font-semibold",children:G()})]})]})})})]}):a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"h-4 w-4 text-orange-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"На рассмотрении"}),a.jsx("p",{className:"text-xl font-semibold",children:I.filter(T=>["submitted","classified"].includes(T.status)).length})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Aa,{className:"h-4 w-4 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Контрагентов"}),a.jsx("p",{className:"text-xl font-semibold",children:new Set(I.map(T=>T.counterpartyId)).size})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"h-4 w-4 text-red-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Просрочено"}),a.jsx("p",{className:"text-xl font-semibold",children:I.filter(T=>A(T.dueDate)).length})]})]})})})]}),a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Pe,{children:["Заявки (",I.length,")"]}),a.jsxs(ne,{variant:"outline",size:"sm",children:[a.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Экспорт xlsx"]})]}),a.jsx(me,{children:S?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Загрузка заявок..."})]})}):_?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-500 mb-2",children:"Ошибка загрузки заявок"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:_})]})}):a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs(xn,{children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{children:"№ заявки"}),a.jsx(_e,{children:"Контрагент"}),a.jsx(_e,{children:"Сумма"}),a.jsx(_e,{children:"Срок оплаты"}),a.jsx(_e,{children:"Статус"}),a.jsx(_e,{children:"У кого на рассмотрении"}),a.jsx(_e,{children:"Создана"})]})}),a.jsx(bn,{children:I.map(T=>a.jsxs(It,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r?.(T.id),children:[a.jsx(Ee,{className:"font-medium",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:T.requestNumber||T.docNumber}),T.requestNumber&&a.jsx("span",{className:"text-xs text-muted-foreground",children:T.docNumber})]})}),a.jsx(Ee,{children:L(T.counterpartyId)}),a.jsx(Ee,{children:a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{children:tr(T.amount,T.currency)})})}),a.jsx(Ee,{children:a.jsxs("div",{className:`flex items-center gap-2 ${A(T.dueDate)?"text-red-600":""}`,children:[N(T.dueDate),A(T.dueDate)&&a.jsx(Ne,{variant:"destructive",className:"text-xs",children:"Просрочено"})]})}),a.jsx(Ee,{children:a.jsx(So,{status:T.status,showTooltip:e==="executor",responsible:W(T.status),statusTime:k(T.updatedAt||T.createdAt)})}),a.jsx(Ee,{className:"text-muted-foreground",children:W(T.status)}),a.jsx(Ee,{className:"text-muted-foreground",children:N(T.createdAt)})]},T.id))})]}),I.length===0&&a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Заявки не найдены"})]})})]})]})}var iue="Label",G3=w.forwardRef((e,t)=>a.jsx(qe.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));G3.displayName=iue;var sue=G3;function he({className:e,...t}){return a.jsx(sue,{"data-slot":"label",className:Ie("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var Ye=function(){return Ye=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ye.apply(this,arguments)};function oue(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function K3(e,t,r){for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Bd(e){return e.mode==="multiple"}function zd(e){return e.mode==="range"}function Vm(e){return e.mode==="single"}var lue={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function cue(e,t){return Qe(e,"LLLL y",t)}function uue(e,t){return Qe(e,"d",t)}function due(e,t){return Qe(e,"LLLL",t)}function fue(e){return"".concat(e)}function hue(e,t){return Qe(e,"cccccc",t)}function pue(e,t){return Qe(e,"yyyy",t)}var mue=Object.freeze({__proto__:null,formatCaption:cue,formatDay:uue,formatMonthCaption:due,formatWeekNumber:fue,formatWeekdayName:hue,formatYearCaption:pue}),vue=function(e,t,r){return Qe(e,"do MMMM (EEEE)",r)},gue=function(){return"Month: "},xue=function(){return"Go to next month"},yue=function(){return"Go to previous month"},bue=function(e,t){return Qe(e,"cccc",t)},wue=function(e){return"Week n. ".concat(e)},jue=function(){return"Year: "},Nue=Object.freeze({__proto__:null,labelDay:vue,labelMonthDropdown:gue,labelNext:xue,labelPrevious:yue,labelWeekNumber:wue,labelWeekday:bue,labelYearDropdown:jue});function Sue(){var e="buttons",t=lue,r=F3,n={},i={},s=1,l={},u=new Date;return{captionLayout:e,classNames:t,formatters:mue,labels:Nue,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:s,styles:l,today:u,mode:"default"}}function Cue(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,s=e.fromDate,l=e.toDate;return n?s=Cr(n):t&&(s=new Date(t,0,1)),i?l=VN(i):r&&(l=new Date(r,11,31)),{fromDate:s?Yl(s):void 0,toDate:l?Yl(l):void 0}}var Y3=w.createContext(void 0);function _ue(e){var t,r=e.initialProps,n=Sue(),i=Cue(r),s=i.fromDate,l=i.toDate,u=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;u!=="buttons"&&(!s||!l)&&(u="buttons");var d;(Vm(r)||Bd(r)||zd(r))&&(d=r.onSelect);var f=Ye(Ye(Ye({},n),r),{captionLayout:u,classNames:Ye(Ye({},n.classNames),r.classNames),components:Ye({},r.components),formatters:Ye(Ye({},n.formatters),r.formatters),fromDate:s,labels:Ye(Ye({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ye(Ye({},n.modifiers),r.modifiers),modifiersClassNames:Ye(Ye({},n.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:Ye(Ye({},n.styles),r.styles),toDate:l});return a.jsx(Y3.Provider,{value:f,children:e.children})}function Rt(){var e=w.useContext(Y3);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function X3(e){var t=Rt(),r=t.locale,n=t.classNames,i=t.styles,s=t.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function Eue(e){return a.jsx("svg",Ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Q3(e){var t,r,n=e.onChange,i=e.value,s=e.children,l=e.caption,u=e.className,d=e.style,f=Rt(),p=(r=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Eue;return a.jsxs("div",{className:u,style:d,children:[a.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:i,onChange:n,children:s}),a.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[l,a.jsx(p,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function kue(e){var t,r=Rt(),n=r.fromDate,i=r.toDate,s=r.styles,l=r.locale,u=r.formatters.formatMonthCaption,d=r.classNames,f=r.components,p=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});var h=[];if(ace(n,i))for(var v=Cr(n),b=n.getMonth();b<=i.getMonth();b++)h.push(ow(v,b));else for(var v=Cr(new Date),b=0;b<=11;b++)h.push(ow(v,b));var j=function(g){var S=Number(g.target.value),C=ow(Cr(e.displayMonth),S);e.onChange(C)},y=(t=f?.Dropdown)!==null&&t!==void 0?t:Q3;return a.jsx(y,{name:"months","aria-label":p(),className:d.dropdown_month,style:s.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:l}),children:h.map(function(g){return a.jsx("option",{value:g.getMonth(),children:u(g,{locale:l})},g.getMonth())})})}function Pue(e){var t,r=e.displayMonth,n=Rt(),i=n.fromDate,s=n.toDate,l=n.locale,u=n.styles,d=n.classNames,f=n.components,p=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,v=[];if(!i)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});for(var b=i.getFullYear(),j=s.getFullYear(),y=b;y<=j;y++)v.push(AI(M3(new Date),y));var g=function(C){var _=AI(Cr(r),Number(C.target.value));e.onChange(_)},S=(t=f?.Dropdown)!==null&&t!==void 0?t:Q3;return a.jsx(S,{name:"years","aria-label":h(),className:d.dropdown_year,style:u.dropdown_year,onChange:g,value:r.getFullYear(),caption:p(r,{locale:l}),children:v.map(function(C){return a.jsx("option",{value:C.getFullYear(),children:p(C,{locale:l})},C.getFullYear())})})}function Oue(e,t){var r=w.useState(e),n=r[0],i=r[1],s=t===void 0?n:t;return[s,i]}function Aue(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,s=e.toDate,l=e.fromDate,u=e.numberOfMonths,d=u===void 0?1:u;if(s&&vd(s,i)<0){var f=-1*(d-1);i=qr(s,f)}return l&&vd(i,l)<0&&(i=l),Cr(i)}function Tue(){var e=Rt(),t=Aue(e),r=Oue(t,e.month),n=r[0],i=r[1],s=function(l){var u;if(!e.disableNavigation){var d=Cr(l);i(d),(u=e.onMonthChange)===null||u===void 0||u.call(e,d)}};return[n,s]}function Iue(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=Cr(e),s=Cr(qr(i,n)),l=vd(s,i),u=[],d=0;d<l;d++){var f=qr(i,d);u.push(f)}return r&&(u=u.reverse()),u}function Rue(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,l=n?s:1,u=Cr(e);if(!r)return qr(u,l);var d=vd(r,e);if(!(d<s))return qr(u,l)}}function Due(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,l=n?s:1,u=Cr(e);if(!r)return qr(u,-l);var d=vd(u,r);if(!(d<=0))return qr(u,-l)}}var Z3=w.createContext(void 0);function Mue(e){var t=Rt(),r=Tue(),n=r[0],i=r[1],s=Iue(n,t),l=Rue(n,t),u=Due(n,t),d=function(h){return s.some(function(v){return GN(h,v)})},f=function(h,v){d(h)||(v&&W3(h,v)?i(qr(h,1+t.numberOfMonths*-1)):i(h))},p={currentMonth:n,displayMonths:s,goToMonth:i,goToDate:f,previousMonth:u,nextMonth:l,isDateDisplayed:d};return a.jsx(Z3.Provider,{value:p,children:e.children})}function Ud(){var e=w.useContext(Z3);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function RI(e){var t,r=Rt(),n=r.classNames,i=r.styles,s=r.components,l=Ud().goToMonth,u=function(p){l(qr(p,e.displayIndex?-e.displayIndex:0))},d=(t=s?.CaptionLabel)!==null&&t!==void 0?t:X3,f=a.jsx(d,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:f}),a.jsx(kue,{onChange:u,displayMonth:e.displayMonth}),a.jsx(Pue,{onChange:u,displayMonth:e.displayMonth})]})}function $ue(e){return a.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Lue(e){return a.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Fp=w.forwardRef(function(e,t){var r=Rt(),n=r.classNames,i=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var l=s.join(" "),u=Ye(Ye({},i.button_reset),i.button);return e.style&&Object.assign(u,e.style),a.jsx("button",Ye({},e,{ref:t,type:"button",className:l,style:u}))});function Fue(e){var t,r,n=Rt(),i=n.dir,s=n.locale,l=n.classNames,u=n.styles,d=n.labels,f=d.labelPrevious,p=d.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var v=f(e.previousMonth,{locale:s}),b=[l.nav_button,l.nav_button_previous].join(" "),j=p(e.nextMonth,{locale:s}),y=[l.nav_button,l.nav_button_next].join(" "),g=(t=h?.IconRight)!==null&&t!==void 0?t:Lue,S=(r=h?.IconLeft)!==null&&r!==void 0?r:$ue;return a.jsxs("div",{className:l.nav,style:u.nav,children:[!e.hidePrevious&&a.jsx(Fp,{name:"previous-month","aria-label":v,className:b,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?a.jsx(g,{className:l.nav_icon,style:u.nav_icon}):a.jsx(S,{className:l.nav_icon,style:u.nav_icon})}),!e.hideNext&&a.jsx(Fp,{name:"next-month","aria-label":j,className:y,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?a.jsx(S,{className:l.nav_icon,style:u.nav_icon}):a.jsx(g,{className:l.nav_icon,style:u.nav_icon})})]})}function DI(e){var t=Rt().numberOfMonths,r=Ud(),n=r.previousMonth,i=r.nextMonth,s=r.goToMonth,l=r.displayMonths,u=l.findIndex(function(j){return GN(e.displayMonth,j)}),d=u===0,f=u===l.length-1,p=t>1&&(d||!f),h=t>1&&(f||!d),v=function(){n&&s(n)},b=function(){i&&s(i)};return a.jsx(Fue,{displayMonth:e.displayMonth,hideNext:p,hidePrevious:h,nextMonth:i,previousMonth:n,onPreviousClick:v,onNextClick:b})}function Bue(e){var t,r=Rt(),n=r.classNames,i=r.disableNavigation,s=r.styles,l=r.captionLayout,u=r.components,d=(t=u?.CaptionLabel)!==null&&t!==void 0?t:X3,f;return i?f=a.jsx(d,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?f=a.jsx(RI,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?f=a.jsxs(a.Fragment,{children:[a.jsx(RI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(DI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=a.jsxs(a.Fragment,{children:[a.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(DI,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:n.caption,style:s.caption,children:f})}function zue(e){var t=Rt(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?a.jsx("tfoot",{className:i,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function Uue(e,t,r){for(var n=r?yo(new Date):Cn(new Date,{locale:e,weekStartsOn:t}),i=[],s=0;s<7;s++){var l=Ht(n,s);i.push(l)}return i}function que(){var e=Rt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,s=e.weekStartsOn,l=e.ISOWeek,u=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,f=Uue(i,s,l);return a.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:t.head_cell}),f.map(function(p,h){return a.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(p,{locale:i}),children:u(p,{locale:i})},h)})]})}function Wue(){var e,t=Rt(),r=t.classNames,n=t.styles,i=t.components,s=(e=i?.HeadRow)!==null&&e!==void 0?e:que;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(s,{})})}function Vue(e){var t=Rt(),r=t.locale,n=t.formatters.formatDay;return a.jsx(a.Fragment,{children:n(e.date,{locale:r})})}var YN=w.createContext(void 0);function Hue(e){if(!Bd(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(YN.Provider,{value:t,children:e.children})}return a.jsx(Gue,{initialProps:e.initialProps,children:e.children})}function Gue(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,s=t.max,l=function(f,p,h){var v,b;(v=t.onDayClick)===null||v===void 0||v.call(t,f,p,h);var j=!!(p.selected&&i&&n?.length===i);if(!j){var y=!!(!p.selected&&s&&n?.length===s);if(!y){var g=n?K3([],n):[];if(p.selected){var S=g.findIndex(function(C){return Sr(f,C)});g.splice(S,1)}else g.push(f);(b=t.onSelect)===null||b===void 0||b.call(t,g,f,p,h)}}},u={disabled:[]};n&&u.disabled.push(function(f){var p=s&&n.length>s-1,h=n.some(function(v){return Sr(v,f)});return!!(p&&!h)});var d={selected:n,onDayClick:l,modifiers:u};return a.jsx(YN.Provider,{value:d,children:r})}function XN(){var e=w.useContext(YN);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Kue(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?Sr(i,e)&&Sr(n,e)?void 0:Sr(i,e)?{from:i,to:void 0}:Sr(n,e)?void 0:Za(n,e)?{from:e,to:i}:{from:n,to:e}:i?Za(e,i)?{from:i,to:e}:{from:e,to:i}:n?W3(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var QN=w.createContext(void 0);function Yue(e){if(!zd(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(QN.Provider,{value:t,children:e.children})}return a.jsx(Xue,{initialProps:e.initialProps,children:e.children})}function Xue(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},s=i.from,l=i.to,u=t.min,d=t.max,f=function(b,j,y){var g,S;(g=t.onDayClick)===null||g===void 0||g.call(t,b,j,y);var C=Kue(b,n);(S=t.onSelect)===null||S===void 0||S.call(t,C,b,j,y)},p={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(p.range_start=[s],l?(p.range_end=[l],Sr(s,l)||(p.range_middle=[{after:s,before:l}])):p.range_end=[s]):l&&(p.range_start=[l],p.range_end=[l]),u&&(s&&!l&&p.disabled.push({after:iw(s,u-1),before:Ht(s,u-1)}),s&&l&&p.disabled.push({after:s,before:Ht(s,u-1)}),!s&&l&&p.disabled.push({after:iw(l,u-1),before:Ht(l,u-1)})),d){if(s&&!l&&(p.disabled.push({before:Ht(s,-d+1)}),p.disabled.push({after:Ht(s,d-1)})),s&&l){var h=Na(l,s)+1,v=d-h;p.disabled.push({before:iw(s,v)}),p.disabled.push({after:Ht(l,v)})}!s&&l&&(p.disabled.push({before:Ht(l,-d+1)}),p.disabled.push({after:Ht(l,d-1)}))}return a.jsx(QN.Provider,{value:{selected:n,onDayClick:f,modifiers:p},children:r})}function ZN(){var e=w.useContext(QN);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Rh(e){return Array.isArray(e)?K3([],e):e!==void 0?[e]:[]}function Que(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=Rh(i)}),t}var aa;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(aa||(aa={}));var Zue=aa.Selected,Qa=aa.Disabled,Jue=aa.Hidden,ede=aa.Today,lw=aa.RangeEnd,cw=aa.RangeMiddle,uw=aa.RangeStart,tde=aa.Outside;function rde(e,t,r){var n,i=(n={},n[Zue]=Rh(e.selected),n[Qa]=Rh(e.disabled),n[Jue]=Rh(e.hidden),n[ede]=[e.today],n[lw]=[],n[cw]=[],n[uw]=[],n[tde]=[],n);return e.fromDate&&i[Qa].push({before:e.fromDate}),e.toDate&&i[Qa].push({after:e.toDate}),Bd(e)?i[Qa]=i[Qa].concat(t.modifiers[Qa]):zd(e)&&(i[Qa]=i[Qa].concat(r.modifiers[Qa]),i[uw]=r.modifiers[uw],i[cw]=r.modifiers[cw],i[lw]=r.modifiers[lw]),i}var J3=w.createContext(void 0);function nde(e){var t=Rt(),r=XN(),n=ZN(),i=rde(t,r,n),s=Que(t.modifiers),l=Ye(Ye({},i),s);return a.jsx(J3.Provider,{value:l,children:e.children})}function eL(){var e=w.useContext(J3);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function ade(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function ide(e){return!!(e&&typeof e=="object"&&"from"in e)}function sde(e){return!!(e&&typeof e=="object"&&"after"in e)}function ode(e){return!!(e&&typeof e=="object"&&"before"in e)}function lde(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function cde(e,t){var r,n=t.from,i=t.to;if(n&&i){var s=Na(i,n)<0;s&&(r=[i,n],n=r[0],i=r[1]);var l=Na(e,n)>=0&&Na(i,e)>=0;return l}return i?Sr(i,e):n?Sr(n,e):!1}function ude(e){return WN(e)}function dde(e){return Array.isArray(e)&&e.every(WN)}function fde(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(ude(r))return Sr(e,r);if(dde(r))return r.includes(e);if(ide(r))return cde(e,r);if(lde(r))return r.dayOfWeek.includes(e.getDay());if(ade(r)){var n=Na(r.before,e),i=Na(r.after,e),s=n>0,l=i<0,u=Za(r.before,r.after);return u?l&&s:s||l}return sde(r)?Na(e,r.after)>0:ode(r)?Na(r.before,e)>0:typeof r=="function"?r(e):!1})}function JN(e,t,r){var n=Object.keys(t).reduce(function(s,l){var u=t[l];return fde(e,u)&&s.push(l),s},[]),i={};return n.forEach(function(s){return i[s]=!0}),r&&!GN(e,r)&&(i.outside=!0),i}function hde(e,t){for(var r=Cr(e[0]),n=VN(e[e.length-1]),i,s,l=r;l<=n;){var u=JN(l,t),d=!u.disabled&&!u.hidden;if(!d){l=Ht(l,1);continue}if(u.selected)return l;u.today&&!s&&(s=l),i||(i=l),l=Ht(l,1)}return s||i}var pde=365;function tL(e,t){var r=t.moveBy,n=t.direction,i=t.context,s=t.modifiers,l=t.retry,u=l===void 0?{count:0,lastFocused:e}:l,d=i.weekStartsOn,f=i.fromDate,p=i.toDate,h=i.locale,v={day:Ht,week:s1,month:qr,year:tle,startOfWeek:function(g){return i.ISOWeek?yo(g):Cn(g,{locale:h,weekStartsOn:d})},endOfWeek:function(g){return i.ISOWeek?$3(g):HN(g,{locale:h,weekStartsOn:d})}},b=v[r](e,n==="after"?1:-1);n==="before"&&f?b=rle([f,b]):n==="after"&&p&&(b=nle([p,b]));var j=!0;if(s){var y=JN(b,s);j=!y.disabled&&!y.hidden}return j?b:u.count>pde?u.lastFocused:tL(b,{moveBy:r,direction:n,context:i,modifiers:s,retry:Ye(Ye({},u),{count:u.count+1})})}var rL=w.createContext(void 0);function mde(e){var t=Ud(),r=eL(),n=w.useState(),i=n[0],s=n[1],l=w.useState(),u=l[0],d=l[1],f=hde(t.displayMonths,r),p=i??(u&&t.isDateDisplayed(u))?u:f,h=function(){d(i),s(void 0)},v=function(g){s(g)},b=Rt(),j=function(g,S){if(i){var C=tL(i,{moveBy:g,direction:S,context:b,modifiers:r});Sr(i,C)||(t.goToDate(C,i),v(C))}},y={focusedDay:i,focusTarget:p,blur:h,focus:v,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return a.jsx(rL.Provider,{value:y,children:e.children})}function eS(){var e=w.useContext(rL);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function vde(e,t){var r=eL(),n=JN(e,r,t);return n}var tS=w.createContext(void 0);function gde(e){if(!Vm(e.initialProps)){var t={selected:void 0};return a.jsx(tS.Provider,{value:t,children:e.children})}return a.jsx(xde,{initialProps:e.initialProps,children:e.children})}function xde(e){var t=e.initialProps,r=e.children,n=function(s,l,u){var d,f,p;if((d=t.onDayClick)===null||d===void 0||d.call(t,s,l,u),l.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,s,l,u);return}(p=t.onSelect)===null||p===void 0||p.call(t,s,s,l,u)},i={selected:t.selected,onDayClick:n};return a.jsx(tS.Provider,{value:i,children:r})}function nL(){var e=w.useContext(tS);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function yde(e,t){var r=Rt(),n=nL(),i=XN(),s=ZN(),l=eS(),u=l.focusDayAfter,d=l.focusDayBefore,f=l.focusWeekAfter,p=l.focusWeekBefore,h=l.blur,v=l.focus,b=l.focusMonthBefore,j=l.focusMonthAfter,y=l.focusYearBefore,g=l.focusYearAfter,S=l.focusStartOfWeek,C=l.focusEndOfWeek,_=function(V){var B,q,K,z;Vm(r)?(B=n.onDayClick)===null||B===void 0||B.call(n,e,t,V):Bd(r)?(q=i.onDayClick)===null||q===void 0||q.call(i,e,t,V):zd(r)?(K=s.onDayClick)===null||K===void 0||K.call(s,e,t,V):(z=r.onDayClick)===null||z===void 0||z.call(r,e,t,V)},O=function(V){var B;v(e),(B=r.onDayFocus)===null||B===void 0||B.call(r,e,t,V)},N=function(V){var B;h(),(B=r.onDayBlur)===null||B===void 0||B.call(r,e,t,V)},k=function(V){var B;(B=r.onDayMouseEnter)===null||B===void 0||B.call(r,e,t,V)},A=function(V){var B;(B=r.onDayMouseLeave)===null||B===void 0||B.call(r,e,t,V)},R=function(V){var B;(B=r.onDayPointerEnter)===null||B===void 0||B.call(r,e,t,V)},I=function(V){var B;(B=r.onDayPointerLeave)===null||B===void 0||B.call(r,e,t,V)},L=function(V){var B;(B=r.onDayTouchCancel)===null||B===void 0||B.call(r,e,t,V)},U=function(V){var B;(B=r.onDayTouchEnd)===null||B===void 0||B.call(r,e,t,V)},W=function(V){var B;(B=r.onDayTouchMove)===null||B===void 0||B.call(r,e,t,V)},H=function(V){var B;(B=r.onDayTouchStart)===null||B===void 0||B.call(r,e,t,V)},G=function(V){var B;(B=r.onDayKeyUp)===null||B===void 0||B.call(r,e,t,V)},T=function(V){var B;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?u():d();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?d():u();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),f();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),p();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?y():b();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?g():j();break;case"Home":V.preventDefault(),V.stopPropagation(),S();break;case"End":V.preventDefault(),V.stopPropagation(),C();break}(B=r.onDayKeyDown)===null||B===void 0||B.call(r,e,t,V)},D={onClick:_,onFocus:O,onBlur:N,onKeyDown:T,onKeyUp:G,onMouseEnter:k,onMouseLeave:A,onPointerEnter:R,onPointerLeave:I,onTouchCancel:L,onTouchEnd:U,onTouchMove:W,onTouchStart:H};return D}function bde(){var e=Rt(),t=nL(),r=XN(),n=ZN(),i=Vm(e)?t.selected:Bd(e)?r.selected:zd(e)?n.selected:void 0;return i}function wde(e){return Object.values(aa).includes(e)}function jde(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(wde(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function Nde(e,t){var r=Ye({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=Ye(Ye({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function Sde(e,t,r){var n,i,s,l=Rt(),u=eS(),d=vde(e,t),f=yde(e,d),p=bde(),h=!!(l.onDayClick||l.mode!=="default");w.useEffect(function(){var k;d.outside||u.focusedDay&&h&&Sr(u.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[u.focusedDay,e,r,h,d.outside]);var v=jde(l,d).join(" "),b=Nde(l,d),j=!!(d.outside&&!l.showOutsideDays||d.hidden),y=(s=(i=l.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:Vue,g=a.jsx(y,{date:e,displayMonth:t,activeModifiers:d}),S={style:b,className:v,children:g,role:"gridcell"},C=u.focusTarget&&Sr(u.focusTarget,e)&&!d.outside,_=u.focusedDay&&Sr(u.focusedDay,e),O=Ye(Ye(Ye({},S),(n={disabled:d.disabled,role:"gridcell"},n["aria-selected"]=d.selected,n.tabIndex=_||C?0:-1,n)),f),N={isButton:h,isHidden:j,activeModifiers:d,selectedDays:p,buttonProps:O,divProps:S};return N}function Cde(e){var t=w.useRef(null),r=Sde(e.date,e.displayMonth,t);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(Fp,Ye({name:"day",ref:t},r.buttonProps)):a.jsx("div",Ye({},r.divProps))}function _de(e){var t=e.number,r=e.dates,n=Rt(),i=n.onWeekNumberClick,s=n.styles,l=n.classNames,u=n.locale,d=n.labels.labelWeekNumber,f=n.formatters.formatWeekNumber,p=f(Number(t),{locale:u});if(!i)return a.jsx("span",{className:l.weeknumber,style:s.weeknumber,children:p});var h=d(Number(t),{locale:u}),v=function(b){i(t,r,b)};return a.jsx(Fp,{name:"week-number","aria-label":h,className:l.weeknumber,style:s.weeknumber,onClick:v,children:p})}function Ede(e){var t,r,n=Rt(),i=n.styles,s=n.classNames,l=n.showWeekNumber,u=n.components,d=(t=u?.Day)!==null&&t!==void 0?t:Cde,f=(r=u?.WeekNumber)!==null&&r!==void 0?r:_de,p;return l&&(p=a.jsx("td",{className:s.cell,style:i.cell,children:a.jsx(f,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:s.row,style:i.row,children:[p,e.dates.map(function(h){return a.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:a.jsx(d,{displayMonth:e.displayMonth,date:h})},tce(h))})]})}function MI(e,t,r){for(var n=r?.ISOWeek?$3(t):HN(t,r),i=r?.ISOWeek?yo(e):Cn(e,r),s=Na(n,i),l=[],u=0;u<=s;u++)l.push(Ht(i,u));var d=l.reduce(function(f,p){var h=r?.ISOWeek?B3(p):U3(p,r),v=f.find(function(b){return b.weekNumber===h});return v?(v.dates.push(p),f):(f.push({weekNumber:h,dates:[p]}),f)},[]);return d}function kde(e,t){var r=MI(Cr(e),VN(e),t);if(t?.useFixedWeeks){var n=nce(e,t);if(n<6){var i=r[r.length-1],s=i.dates[i.dates.length-1],l=s1(s,6-n),u=MI(s1(s,1),l,t);r.push.apply(r,u)}}return r}function Pde(e){var t,r,n,i=Rt(),s=i.locale,l=i.classNames,u=i.styles,d=i.hideHead,f=i.fixedWeeks,p=i.components,h=i.weekStartsOn,v=i.firstWeekContainsDate,b=i.ISOWeek,j=kde(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:b,locale:s,weekStartsOn:h,firstWeekContainsDate:v}),y=(t=p?.Head)!==null&&t!==void 0?t:Wue,g=(r=p?.Row)!==null&&r!==void 0?r:Ede,S=(n=p?.Footer)!==null&&n!==void 0?n:zue;return a.jsxs("table",{id:e.id,className:l.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&a.jsx(y,{}),a.jsx("tbody",{className:l.tbody,style:u.tbody,children:j.map(function(C){return a.jsx(g,{displayMonth:e.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),a.jsx(S,{displayMonth:e.displayMonth})]})}function Ode(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ade=Ode()?w.useLayoutEffect:w.useEffect,dw=!1,Tde=0;function $I(){return"react-day-picker-".concat(++Tde)}function Ide(e){var t,r=e??(dw?$I():null),n=w.useState(r),i=n[0],s=n[1];return Ade(function(){i===null&&s($I())},[]),w.useEffect(function(){dw===!1&&(dw=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function Rde(e){var t,r,n=Rt(),i=n.dir,s=n.classNames,l=n.styles,u=n.components,d=Ud().displayMonths,f=Ide(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),p=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[s.month],v=l.month,b=e.displayIndex===0,j=e.displayIndex===d.length-1,y=!b&&!j;i==="rtl"&&(t=[b,j],j=t[0],b=t[1]),b&&(h.push(s.caption_start),v=Ye(Ye({},v),l.caption_start)),j&&(h.push(s.caption_end),v=Ye(Ye({},v),l.caption_end)),y&&(h.push(s.caption_between),v=Ye(Ye({},v),l.caption_between));var g=(r=u?.Caption)!==null&&r!==void 0?r:Bue;return a.jsxs("div",{className:h.join(" "),style:v,children:[a.jsx(g,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(Pde,{id:p,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function Dde(e){var t=Rt(),r=t.classNames,n=t.styles;return a.jsx("div",{className:r.months,style:n.months,children:e.children})}function Mde(e){var t,r,n=e.initialProps,i=Rt(),s=eS(),l=Ud(),u=w.useState(!1),d=u[0],f=u[1];w.useEffect(function(){i.initialFocus&&s.focusTarget&&(d||(s.focus(s.focusTarget),f(!0)))},[i.initialFocus,d,s.focus,s.focusTarget,s]);var p=[i.classNames.root,i.className];i.numberOfMonths>1&&p.push(i.classNames.multiple_months),i.showWeekNumber&&p.push(i.classNames.with_weeknumber);var h=Ye(Ye({},i.styles.root),i.style),v=Object.keys(n).filter(function(j){return j.startsWith("data-")}).reduce(function(j,y){var g;return Ye(Ye({},j),(g={},g[y]=n[y],g))},{}),b=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Dde;return a.jsx("div",Ye({className:p.join(" "),style:h,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},v,{children:a.jsx(b,{children:l.displayMonths.map(function(j,y){return a.jsx(Rde,{displayIndex:y,displayMonth:j},y)})})}))}function $de(e){var t=e.children,r=oue(e,["children"]);return a.jsx(_ue,{initialProps:r,children:a.jsx(Mue,{children:a.jsx(gde,{initialProps:r,children:a.jsx(Hue,{initialProps:r,children:a.jsx(Yue,{initialProps:r,children:a.jsx(nde,{children:a.jsx(mde,{children:t})})})})})})})}function Lde(e){return a.jsx($de,Ye({},e,{children:a.jsx(Mde,{initialProps:e})}))}function Qs({className:e,classNames:t,showOutsideDays:r=!0,...n}){return a.jsx(Lde,{showOutsideDays:r,className:Ie("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Ie(Su({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Ie("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Ie(Su({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:i,...s})=>a.jsx(Hq,{className:Ie("size-4",i),...s}),IconRight:({className:i,...s})=>a.jsx(Pw,{className:Ie("size-4",i),...s})},...n})}var Hm="Popover",[aL,Epe]=tn(Hm,[xs]),qd=xs(),[Fde,_s]=aL(Hm),iL=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:l=!1}=e,u=qd(t),d=w.useRef(null),[f,p]=w.useState(!1),[h,v]=ka({prop:n,defaultProp:i??!1,onChange:s,caller:Hm});return a.jsx(Gp,{...u,children:a.jsx(Fde,{scope:t,contentId:gr(),triggerRef:d,open:h,onOpenChange:v,onOpenToggle:w.useCallback(()=>v(b=>!b),[v]),hasCustomAnchor:f,onCustomAnchorAdd:w.useCallback(()=>p(!0),[]),onCustomAnchorRemove:w.useCallback(()=>p(!1),[]),modal:l,children:r})})};iL.displayName=Hm;var sL="PopoverAnchor",Bde=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=_s(sL,r),s=qd(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=i;return w.useEffect(()=>(l(),()=>u()),[l,u]),a.jsx(wd,{...s,...n,ref:t})});Bde.displayName=sL;var oL="PopoverTrigger",lL=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=_s(oL,r),s=qd(r),l=dt(t,i.triggerRef),u=a.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hL(i.open),...n,ref:l,onClick:Ae(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:a.jsx(wd,{asChild:!0,...s,children:u})});lL.displayName=oL;var rS="PopoverPortal",[zde,Ude]=aL(rS,{forceMount:void 0}),cL=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,s=_s(rS,t);return a.jsx(zde,{scope:t,forceMount:r,children:a.jsx(rn,{present:r||s.open,children:a.jsx(rc,{asChild:!0,container:i,children:n})})})};cL.displayName=rS;var Xl="PopoverContent",uL=w.forwardRef((e,t)=>{const r=Ude(Xl,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,s=_s(Xl,e.__scopePopover);return a.jsx(rn,{present:n||s.open,children:s.modal?a.jsx(Wde,{...i,ref:t}):a.jsx(Vde,{...i,ref:t})})});uL.displayName=Xl;var qde=cs("PopoverContent.RemoveScroll"),Wde=w.forwardRef((e,t)=>{const r=_s(Xl,e.__scopePopover),n=w.useRef(null),i=dt(t,n),s=w.useRef(!1);return w.useEffect(()=>{const l=n.current;if(l)return Qp(l)},[]),a.jsx(Nd,{as:qde,allowPinchZoom:!0,children:a.jsx(dL,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(e.onCloseAutoFocus,l=>{l.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Ae(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Ae(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Vde=w.forwardRef((e,t)=>{const r=_s(Xl,e.__scopePopover),n=w.useRef(!1),i=w.useRef(!1);return a.jsx(dL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;r.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),dL=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,...h}=e,v=_s(Xl,r),b=qd(r);return Up(),a.jsx(yd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(Jl,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Kp,{"data-state":hL(v.open),role:"dialog",id:v.contentId,...b,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),fL="PopoverClose",Hde=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=_s(fL,r);return a.jsx(qe.button,{type:"button",...n,ref:t,onClick:Ae(e.onClick,()=>i.onOpenChange(!1))})});Hde.displayName=fL;var Gde="PopoverArrow",Kde=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=qd(r);return a.jsx(Yp,{...i,...n,ref:t})});Kde.displayName=Gde;function hL(e){return e?"open":"closed"}var Yde=iL,Xde=lL,Qde=cL,Zde=uL;function Fr({...e}){return a.jsx(Yde,{"data-slot":"popover",...e})}function Br({...e}){return a.jsx(Xde,{"data-slot":"popover-trigger",...e})}function zr({className:e,align:t="center",sideOffset:r=4,...n}){return a.jsx(Qde,{children:a.jsx(Zde,{"data-slot":"popover-content",align:t,sideOffset:r,className:Ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}var Gm="Dialog",[pL,mL]=tn(Gm),[Jde,sa]=pL(Gm),vL=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,u=w.useRef(null),d=w.useRef(null),[f,p]=ka({prop:n,defaultProp:i??!1,onChange:s,caller:Gm});return a.jsx(Jde,{scope:t,triggerRef:u,contentRef:d,contentId:gr(),titleId:gr(),descriptionId:gr(),open:f,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(h=>!h),[p]),modal:l,children:r})};vL.displayName=Gm;var gL="DialogTrigger",xL=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=sa(gL,r),s=dt(t,i.triggerRef);return a.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":iS(i.open),...n,ref:s,onClick:Ae(e.onClick,i.onOpenToggle)})});xL.displayName=gL;var nS="DialogPortal",[efe,yL]=pL(nS,{forceMount:void 0}),bL=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=sa(nS,t);return a.jsx(efe,{scope:t,forceMount:r,children:w.Children.map(n,l=>a.jsx(rn,{present:r||s.open,children:a.jsx(rc,{asChild:!0,container:i,children:l})}))})};bL.displayName=nS;var Bp="DialogOverlay",wL=w.forwardRef((e,t)=>{const r=yL(Bp,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=sa(Bp,e.__scopeDialog);return s.modal?a.jsx(rn,{present:n||s.open,children:a.jsx(rfe,{...i,ref:t})}):null});wL.displayName=Bp;var tfe=cs("DialogOverlay.RemoveScroll"),rfe=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=sa(Bp,r);return a.jsx(Nd,{as:tfe,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(qe.div,{"data-state":iS(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),bo="DialogContent",jL=w.forwardRef((e,t)=>{const r=yL(bo,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=sa(bo,e.__scopeDialog);return a.jsx(rn,{present:n||s.open,children:s.modal?a.jsx(nfe,{...i,ref:t}):a.jsx(afe,{...i,ref:t})})});jL.displayName=bo;var nfe=w.forwardRef((e,t)=>{const r=sa(bo,e.__scopeDialog),n=w.useRef(null),i=dt(t,r.contentRef,n);return w.useEffect(()=>{const s=n.current;if(s)return Qp(s)},[]),a.jsx(NL,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ae(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&s.preventDefault()}),onFocusOutside:Ae(e.onFocusOutside,s=>s.preventDefault())})}),afe=w.forwardRef((e,t)=>{const r=sa(bo,e.__scopeDialog),n=w.useRef(!1),i=w.useRef(!1);return a.jsx(NL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;r.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),NL=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=e,u=sa(bo,r),d=w.useRef(null),f=dt(t,d);return Up(),a.jsxs(a.Fragment,{children:[a.jsx(yd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(Jl,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":iS(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(sfe,{titleId:u.titleId}),a.jsx(lfe,{contentRef:d,descriptionId:u.descriptionId})]})]})}),aS="DialogTitle",SL=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=sa(aS,r);return a.jsx(qe.h2,{id:i.titleId,...n,ref:t})});SL.displayName=aS;var CL="DialogDescription",_L=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=sa(CL,r);return a.jsx(qe.p,{id:i.descriptionId,...n,ref:t})});_L.displayName=CL;var EL="DialogClose",kL=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=sa(EL,r);return a.jsx(qe.button,{type:"button",...n,ref:t,onClick:Ae(e.onClick,()=>i.onOpenChange(!1))})});kL.displayName=EL;function iS(e){return e?"open":"closed"}var PL="DialogTitleWarning",[ife,OL]=y6(PL,{contentName:bo,titleName:aS,docsSlug:"dialog"}),sfe=({titleId:e})=>{const t=OL(PL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ofe="DialogDescriptionWarning",lfe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${OL(ofe).contentName}}.`;return w.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},sS=vL,AL=xL,oS=bL,Km=wL,Ym=jL,TL=SL,IL=_L,lS=kL;function gi({...e}){return a.jsx(sS,{"data-slot":"dialog",...e})}function gd({...e}){return a.jsx(AL,{"data-slot":"dialog-trigger",...e})}function cfe({...e}){return a.jsx(oS,{"data-slot":"dialog-portal",...e})}const RL=w.forwardRef(({className:e,...t},r)=>a.jsx(Km,{ref:r,"data-slot":"dialog-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));RL.displayName=Km.displayName;const Ma=w.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(cfe,{children:[a.jsx(RL,{}),a.jsxs(Ym,{ref:n,"data-slot":"dialog-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,a.jsxs(lS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(nm,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ma.displayName=Ym.displayName;function xi({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:Ie("flex flex-col gap-2 text-center sm:text-left",e),...t})}function DL({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:Ie("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function yi({className:e,...t}){return a.jsx(TL,{"data-slot":"dialog-title",className:Ie("text-lg leading-none font-semibold",e),...t})}function vs({className:e,...t}){return a.jsx(IL,{"data-slot":"dialog-description",className:Ie("text-muted-foreground text-sm",e),...t})}var LI=1,ufe=.9,dfe=.8,ffe=.17,fw=.1,hw=.999,hfe=.9999,pfe=.99,mfe=/[\\\/_+.#"@\[\(\{&]/,vfe=/[\\\/_+.#"@\[\(\{&]/g,gfe=/[\s-]/,ML=/[\s-]/g;function o1(e,t,r,n,i,s,l){if(s===t.length)return i===e.length?LI:pfe;var u=`${i},${s}`;if(l[u]!==void 0)return l[u];for(var d=n.charAt(s),f=r.indexOf(d,i),p=0,h,v,b,j;f>=0;)h=o1(e,t,r,n,f+1,s+1,l),h>p&&(f===i?h*=LI:mfe.test(e.charAt(f-1))?(h*=dfe,b=e.slice(i,f-1).match(vfe),b&&i>0&&(h*=Math.pow(hw,b.length))):gfe.test(e.charAt(f-1))?(h*=ufe,j=e.slice(i,f-1).match(ML),j&&i>0&&(h*=Math.pow(hw,j.length))):(h*=ffe,i>0&&(h*=Math.pow(hw,f-i))),e.charAt(f)!==t.charAt(s)&&(h*=hfe)),(h<fw&&r.charAt(f-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(f-1)!==n.charAt(s))&&(v=o1(e,t,r,n,f+1,s+2,l),v*fw>h&&(h=v*fw)),h>p&&(p=h),f=r.indexOf(d,f+1);return l[u]=p,p}function FI(e){return e.toLowerCase().replace(ML," ")}function xfe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,o1(e,t,FI(e),FI(t),0,0,{})}var fu='[cmdk-group=""]',pw='[cmdk-group-items=""]',yfe='[cmdk-group-heading=""]',$L='[cmdk-item=""]',BI=`${$L}:not([aria-disabled="true"])`,l1="cmdk-item-select",ul="data-value",bfe=(e,t,r)=>xfe(e,t,r),LL=w.createContext(void 0),Wd=()=>w.useContext(LL),FL=w.createContext(void 0),cS=()=>w.useContext(FL),BL=w.createContext(void 0),zL=w.forwardRef((e,t)=>{let r=dl(()=>{var F,$;return{search:"",value:($=(F=e.value)!=null?F:e.defaultValue)!=null?$:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=dl(()=>new Set),i=dl(()=>new Map),s=dl(()=>new Map),l=dl(()=>new Set),u=UL(e),{label:d,children:f,value:p,onValueChange:h,filter:v,shouldFilter:b,loop:j,disablePointerSelection:y=!1,vimBindings:g=!0,...S}=e,C=gr(),_=gr(),O=gr(),N=w.useRef(null),k=Afe();wo(()=>{if(p!==void 0){let F=p.trim();r.current.value=F,A.emit()}},[p]),wo(()=>{k(6,H)},[]);let A=w.useMemo(()=>({subscribe:F=>(l.current.add(F),()=>l.current.delete(F)),snapshot:()=>r.current,setState:(F,$,Q)=>{var J,le,Y,ce;if(!Object.is(r.current[F],$)){if(r.current[F]=$,F==="search")W(),L(),k(1,U);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ie=document.getElementById(O);ie?ie.focus():(J=document.getElementById(C))==null||J.focus()}if(k(7,()=>{var ie;r.current.selectedItemId=(ie=G())==null?void 0:ie.id,A.emit()}),Q||k(5,H),((le=u.current)==null?void 0:le.value)!==void 0){let ie=$??"";(ce=(Y=u.current).onValueChange)==null||ce.call(Y,ie);return}}A.emit()}},emit:()=>{l.current.forEach(F=>F())}}),[]),R=w.useMemo(()=>({value:(F,$,Q)=>{var J;$!==((J=s.current.get(F))==null?void 0:J.value)&&(s.current.set(F,{value:$,keywords:Q}),r.current.filtered.items.set(F,I($,Q)),k(2,()=>{L(),A.emit()}))},item:(F,$)=>(n.current.add(F),$&&(i.current.has($)?i.current.get($).add(F):i.current.set($,new Set([F]))),k(3,()=>{W(),L(),r.current.value||U(),A.emit()}),()=>{s.current.delete(F),n.current.delete(F),r.current.filtered.items.delete(F);let Q=G();k(4,()=>{W(),Q?.getAttribute("id")===F&&U(),A.emit()})}),group:F=>(i.current.has(F)||i.current.set(F,new Set),()=>{s.current.delete(F),i.current.delete(F)}),filter:()=>u.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:C,inputId:O,labelId:_,listInnerRef:N}),[]);function I(F,$){var Q,J;let le=(J=(Q=u.current)==null?void 0:Q.filter)!=null?J:bfe;return F?le(F,r.current.search,$):0}function L(){if(!r.current.search||u.current.shouldFilter===!1)return;let F=r.current.filtered.items,$=[];r.current.filtered.groups.forEach(J=>{let le=i.current.get(J),Y=0;le.forEach(ce=>{let ie=F.get(ce);Y=Math.max(ie,Y)}),$.push([J,Y])});let Q=N.current;T().sort((J,le)=>{var Y,ce;let ie=J.getAttribute("id"),xe=le.getAttribute("id");return((Y=F.get(xe))!=null?Y:0)-((ce=F.get(ie))!=null?ce:0)}).forEach(J=>{let le=J.closest(pw);le?le.appendChild(J.parentElement===le?J:J.closest(`${pw} > *`)):Q.appendChild(J.parentElement===Q?J:J.closest(`${pw} > *`))}),$.sort((J,le)=>le[1]-J[1]).forEach(J=>{var le;let Y=(le=N.current)==null?void 0:le.querySelector(`${fu}[${ul}="${encodeURIComponent(J[0])}"]`);Y?.parentElement.appendChild(Y)})}function U(){let F=T().find(Q=>Q.getAttribute("aria-disabled")!=="true"),$=F?.getAttribute(ul);A.setState("value",$||void 0)}function W(){var F,$,Q,J;if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let le=0;for(let Y of n.current){let ce=($=(F=s.current.get(Y))==null?void 0:F.value)!=null?$:"",ie=(J=(Q=s.current.get(Y))==null?void 0:Q.keywords)!=null?J:[],xe=I(ce,ie);r.current.filtered.items.set(Y,xe),xe>0&&le++}for(let[Y,ce]of i.current)for(let ie of ce)if(r.current.filtered.items.get(ie)>0){r.current.filtered.groups.add(Y);break}r.current.filtered.count=le}function H(){var F,$,Q;let J=G();J&&(((F=J.parentElement)==null?void 0:F.firstChild)===J&&((Q=($=J.closest(fu))==null?void 0:$.querySelector(yfe))==null||Q.scrollIntoView({block:"nearest"})),J.scrollIntoView({block:"nearest"}))}function G(){var F;return(F=N.current)==null?void 0:F.querySelector(`${$L}[aria-selected="true"]`)}function T(){var F;return Array.from(((F=N.current)==null?void 0:F.querySelectorAll(BI))||[])}function D(F){let $=T()[F];$&&A.setState("value",$.getAttribute(ul))}function V(F){var $;let Q=G(),J=T(),le=J.findIndex(ce=>ce===Q),Y=J[le+F];($=u.current)!=null&&$.loop&&(Y=le+F<0?J[J.length-1]:le+F===J.length?J[0]:J[le+F]),Y&&A.setState("value",Y.getAttribute(ul))}function B(F){let $=G(),Q=$?.closest(fu),J;for(;Q&&!J;)Q=F>0?Pfe(Q,fu):Ofe(Q,fu),J=Q?.querySelector(BI);J?A.setState("value",J.getAttribute(ul)):V(F)}let q=()=>D(T().length-1),K=F=>{F.preventDefault(),F.metaKey?q():F.altKey?B(1):V(1)},z=F=>{F.preventDefault(),F.metaKey?D(0):F.altKey?B(-1):V(-1)};return w.createElement(qe.div,{ref:t,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:F=>{var $;($=S.onKeyDown)==null||$.call(S,F);let Q=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||Q))switch(F.key){case"n":case"j":{g&&F.ctrlKey&&K(F);break}case"ArrowDown":{K(F);break}case"p":case"k":{g&&F.ctrlKey&&z(F);break}case"ArrowUp":{z(F);break}case"Home":{F.preventDefault(),D(0);break}case"End":{F.preventDefault(),q();break}case"Enter":{F.preventDefault();let J=G();if(J){let le=new Event(l1);J.dispatchEvent(le)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:R.inputId,id:R.labelId,style:Ife},d),Xm(e,F=>w.createElement(FL.Provider,{value:A},w.createElement(LL.Provider,{value:R},F))))}),wfe=w.forwardRef((e,t)=>{var r,n;let i=gr(),s=w.useRef(null),l=w.useContext(BL),u=Wd(),d=UL(e),f=(n=(r=d.current)==null?void 0:r.forceMount)!=null?n:l?.forceMount;wo(()=>{if(!f)return u.item(i,l?.id)},[f]);let p=qL(i,s,[e.value,e.children,s],e.keywords),h=cS(),v=gs(k=>k.value&&k.value===p.current),b=gs(k=>f||u.filter()===!1?!0:k.search?k.filtered.items.get(i)>0:!0);w.useEffect(()=>{let k=s.current;if(!(!k||e.disabled))return k.addEventListener(l1,j),()=>k.removeEventListener(l1,j)},[b,e.onSelect,e.disabled]);function j(){var k,A;y(),(A=(k=d.current).onSelect)==null||A.call(k,p.current)}function y(){h.setState("value",p.current,!0)}if(!b)return null;let{disabled:g,value:S,onSelect:C,forceMount:_,keywords:O,...N}=e;return w.createElement(qe.div,{ref:di(s,t),...N,id:i,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!v,"data-disabled":!!g,"data-selected":!!v,onPointerMove:g||u.getDisablePointerSelection()?void 0:y,onClick:g?void 0:j},e.children)}),jfe=w.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:i,...s}=e,l=gr(),u=w.useRef(null),d=w.useRef(null),f=gr(),p=Wd(),h=gs(b=>i||p.filter()===!1?!0:b.search?b.filtered.groups.has(l):!0);wo(()=>p.group(l),[]),qL(l,u,[e.value,e.heading,d]);let v=w.useMemo(()=>({id:l,forceMount:i}),[i]);return w.createElement(qe.div,{ref:di(u,t),...s,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&w.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:f},r),Xm(e,b=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?f:void 0},w.createElement(BL.Provider,{value:v},b))))}),Nfe=w.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,i=w.useRef(null),s=gs(l=>!l.search);return!r&&!s?null:w.createElement(qe.div,{ref:di(i,t),...n,"cmdk-separator":"",role:"separator"})}),Sfe=w.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,i=e.value!=null,s=cS(),l=gs(f=>f.search),u=gs(f=>f.selectedItemId),d=Wd();return w.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),w.createElement(qe.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:i?e.value:l,onChange:f=>{i||s.setState("search",f.target.value),r?.(f.target.value)}})}),Cfe=w.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...i}=e,s=w.useRef(null),l=w.useRef(null),u=gs(f=>f.selectedItemId),d=Wd();return w.useEffect(()=>{if(l.current&&s.current){let f=l.current,p=s.current,h,v=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let b=f.offsetHeight;p.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return v.observe(f),()=>{cancelAnimationFrame(h),v.unobserve(f)}}},[]),w.createElement(qe.div,{ref:di(s,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":n,id:d.listId},Xm(e,f=>w.createElement("div",{ref:di(l,d.listInnerRef),"cmdk-list-sizer":""},f)))}),_fe=w.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:s,container:l,...u}=e;return w.createElement(sS,{open:r,onOpenChange:n},w.createElement(oS,{container:l},w.createElement(Km,{"cmdk-overlay":"",className:i}),w.createElement(Ym,{"aria-label":e.label,"cmdk-dialog":"",className:s},w.createElement(zL,{ref:t,...u}))))}),Efe=w.forwardRef((e,t)=>gs(r=>r.filtered.count===0)?w.createElement(qe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),kfe=w.forwardRef((e,t)=>{let{progress:r,children:n,label:i="Loading...",...s}=e;return w.createElement(qe.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Xm(e,l=>w.createElement("div",{"aria-hidden":!0},l)))}),fc=Object.assign(zL,{List:Cfe,Item:wfe,Input:Sfe,Group:jfe,Separator:Nfe,Dialog:_fe,Empty:Efe,Loading:kfe});function Pfe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Ofe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function UL(e){let t=w.useRef(e);return wo(()=>{t.current=e}),t}var wo=typeof window>"u"?w.useEffect:w.useLayoutEffect;function dl(e){let t=w.useRef();return t.current===void 0&&(t.current=e()),t}function gs(e){let t=cS(),r=()=>e(t.snapshot());return w.useSyncExternalStore(t.subscribe,r,r)}function qL(e,t,r,n=[]){let i=w.useRef(),s=Wd();return wo(()=>{var l;let u=(()=>{var f;for(let p of r){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(f=p.current.textContent)==null?void 0:f.trim():i.current}})(),d=n.map(f=>f.trim());s.value(e,u,d),(l=t.current)==null||l.setAttribute(ul,u),i.current=u}),i}var Afe=()=>{let[e,t]=w.useState(),r=dl(()=>new Map);return wo(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,i)=>{r.current.set(n,i),t({})}};function Tfe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Xm({asChild:e,children:t},r){return e&&w.isValidElement(t)?w.cloneElement(Tfe(t),{ref:t.ref},r(t.props.children)):r(t)}var Ife={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function es({className:e,...t}){return a.jsx(fc,{"data-slot":"command",className:Ie("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function ts({className:e,...t}){return a.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[a.jsx(La,{className:"size-4 shrink-0 opacity-50"}),a.jsx(fc.Input,{"data-slot":"command-input",className:Ie("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function rs({className:e,...t}){return a.jsx(fc.List,{"data-slot":"command-list",className:Ie("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function ns({...e}){return a.jsx(fc.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function Ja({className:e,...t}){return a.jsx(fc.Group,{"data-slot":"command-group",className:Ie("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function is({className:e,...t}){return a.jsx(fc.Item,{"data-slot":"command-item",className:Ie("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Rfe({value:e,onValueChange:t,onCounterpartyAdd:r,filterByCategory:n,onCategoryChange:i,compact:s=!1}){const[l,u]=w.useState(!1),[d,f]=w.useState(""),{items:p,state:h}=_t("counterparties"),v=p.filter(g=>{const S=g.isActive,C=!n||g.category===n,_=!d||g.name?.toLowerCase().includes(d.toLowerCase())||g.binIin?.includes(d)||g.email&&g.email.toLowerCase().includes(d.toLowerCase())||g.region&&g.region.toLowerCase().includes(d.toLowerCase())||g.abbreviation?.toLowerCase().includes(d.toLowerCase());return S&&C&&_}),b=v.reduce((g,S)=>{const C=S.category;return g[C]||(g[C]=[]),g[C].push(S),g},{}),j=p.find(g=>g.id===e),y=g=>{switch(g){case"Поставщик СХ":return"bg-green-100 text-green-800";case"Элеватор":return"bg-blue-100 text-blue-800";case"Поставщик Услуг":return"bg-orange-100 text-orange-800";case"Покупатель":return"bg-purple-100 text-purple-800";case"Партнер/БВУ":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"space-y-2",children:[!s&&a.jsxs(he,{children:["Контрагент *",n&&a.jsx(Ne,{className:`ml-2 ${y(n)}`,children:n})]}),a.jsxs("div",{className:"flex gap-2 items-stretch",style:{alignItems:"stretch"},children:[a.jsx("div",{className:"flex-1",children:a.jsxs(ot,{value:n||"",onValueChange:g=>{i&&i(g)},children:[a.jsx(ct,{className:"h-12 min-h-12",style:{height:"48px",minHeight:"48px"},children:a.jsx(lt,{placeholder:"Выберите категорию"})}),a.jsxs(ut,{children:[a.jsx(we,{value:"Поставщик СХ",children:"Поставщик СХ"}),a.jsx(we,{value:"Элеватор",children:"Элеватор"}),a.jsx(we,{value:"Поставщик Услуг",children:"Поставщик Услуг"}),a.jsx(we,{value:"Покупатель",children:"Покупатель"}),a.jsx(we,{value:"Партнер/БВУ",children:"Партнер/БВУ"})]})]})}),a.jsx("div",{className:"flex-1",children:a.jsxs(Fr,{open:l,onOpenChange:g=>{u(g),g||f("")},children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between h-12 min-h-12",style:{height:"48px",minHeight:"48px"},children:[j?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Aa,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:j.name})]}):a.jsx("span",{className:"text-muted-foreground",children:n?`Выберите контрагента (${n})...`:"Выберите контрагента..."}),a.jsx(TD,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(zr,{className:"w-full p-0",align:"start",children:a.jsxs(es,{shouldFilter:!1,children:[a.jsx(ts,{placeholder:n?`Поиск среди ${n.toLowerCase()}...`:"Поиск контрагента...",value:d,onValueChange:f}),a.jsxs(rs,{className:"max-h-[300px]",children:[a.jsx(ns,{children:h.isLoading?a.jsxs("div",{className:"flex items-center justify-center py-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),a.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Загрузка контрагентов..."})]}):h.error?a.jsxs("div",{className:"text-center py-4 text-red-500",children:[a.jsx("p",{children:"Ошибка загрузки контрагентов"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h.error})]}):v.length===0?n?`Контрагенты категории "${n}" не найдены.`:"Контрагент не найден.":null}),n?a.jsx(Ja,{children:v.map(g=>a.jsxs(is,{value:g.id,onSelect:()=>{t(g.id),u(!1)},className:"flex items-start gap-2 p-3",children:[a.jsx(Ou,{className:Ie("h-4 w-4 mt-0.5 flex-shrink-0",e===g.id?"opacity-100":"opacity-0")}),a.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[a.jsx("span",{className:"truncate",children:g.name}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["БИН/ИИН: ",g.binIin]}),g.region&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(D2,{className:"h-3 w-3"}),g.region]})]})]})]},g.id))}):Object.entries(b).map(([g,S])=>a.jsx(Ja,{heading:g,children:S.map(C=>a.jsxs(is,{value:C.id,onSelect:()=>{t(C.id),u(!1)},className:"flex items-start gap-2 p-3",children:[a.jsx(Ou,{className:Ie("h-4 w-4 mt-0.5 flex-shrink-0",e===C.id?"opacity-100":"opacity-0")}),a.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"truncate",children:C.name}),a.jsx(Ne,{className:`${y(C.category)} text-xs px-1 py-0 flex-shrink-0`,children:C.category})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["БИН/ИИН: ",C.binIin]}),C.region&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(D2,{className:"h-3 w-3"}),C.region]})]})]})]},C.id))},g))]})]})})]})}),a.jsx("div",{className:"flex-1 rounded-md border p-3 bg-muted/30 h-12 min-h-12 flex items-center",style:{height:"48px",minHeight:"48px"},children:j?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4 text-sm text-muted-foreground w-full",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"БИН/ИИН:"})," ",j.binIin]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Адрес:"})," ",j.address||"Не указан"]})]}):a.jsx("div",{className:"text-sm text-muted-foreground w-full text-center",children:"Выберите контрагента для просмотра деталей"})})]})]})}function WL({onFileSelect:e,onFileNameChange:t,acceptedTypes:r=[".pdf",".jpg",".jpeg",".png"],maxSize:n=10,currentFileName:i,files:s=[],onRemoveFile:l,onViewFile:u,multiple:d=!1}){const f=p=>{if(!p)return;Array.from(p).forEach(v=>{if(v.size>n*1024*1024){alert(`Файл "${v.name}" слишком большой. Максимальный размер: ${n}MB`);return}e(v)})};return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ne,{variant:"outline",asChild:!0,size:"sm",children:a.jsxs("label",{className:"cursor-pointer",children:[a.jsx(rm,{className:"h-4 w-4 mr-1"}),d?"Выберите файлы":"Выберите файл",a.jsx("input",{type:"file",className:"hidden",accept:r.join(","),multiple:d,onChange:p=>f(p.target.files)})]})}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.join(", "),", макс. ",n,"MB"]})]}),s&&s.length>0&&a.jsx("div",{className:"space-y-1",children:s.map(p=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[a.jsx(Nt,{className:"h-3 w-3 text-blue-500 flex-shrink-0"}),a.jsx("span",{className:"font-medium truncate",children:p.name}),a.jsxs("span",{className:"text-gray-500 flex-shrink-0",children:["(",p.originalName,")"]})]}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[u&&a.jsx(ne,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>u(p.url),children:"Просмотр"}),l&&a.jsx(ne,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>l(p.id),children:a.jsx(nm,{className:"h-3 w-3"})})]})]},p.id))})]})}function Dfe(){const e=Date.now().toString().slice(-6),t=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`REQ-${e}-${t}`}const Mfe=e=>{const{formData:t,draftId:r,debounceMs:n=1e3,enabled:i=!0,autoSaveDisabled:s=!1,onDraftCreated:l}=e,[u,d]=w.useState(!1),[f,p]=w.useState(!1),[h,v]=w.useState(null),[b,j]=w.useState(null),y=w.useRef(null),g=w.useRef(0),S=w.useRef(i),C=w.useRef(null);w.useEffect(()=>{S.current=i},[i]);const _=()=>{y.current!==null&&(window.clearTimeout(y.current),y.current=null)},O=w.useCallback(()=>{_(),g.current+=1},[]),N=w.useCallback(()=>d(!1),[]),k=w.useCallback(async R=>{if(S.current&&R===g.current&&!(t.status&&t.status!==no.DRAFT))try{if(p(!0),j(null),C.current=R,r){const{status:I,...L}=t;await rt.update(r,{...L,payingCompany:L.payingCompany,docType:L.docType,counterpartyCategory:L.counterpartyCategory,currency:L.currency,vatRate:L.vatRate})}else{const I=await rt.create({...t,status:no.DRAFT,payingCompany:t.payingCompany,docType:t.docType,counterpartyCategory:t.counterpartyCategory,currency:t.currency,vatRate:t.vatRate});if(R!==g.current)return;l?.(I.id)}if(R!==g.current)return;d(!1),v(new Date)}catch(I){if(R!==g.current)return;j(I?.message??"Auto-save error")}finally{R===C.current&&(p(!1),C.current=null)}},[r,t,l]);w.useEffect(()=>{if(!i||s||t.status&&t.status!==no.DRAFT)return;d(!0),_();const R=g.current+1;return g.current=R,y.current=window.setTimeout(()=>{k(R)},n),()=>{_(),g.current+=1}},[t.payingCompany,t.docType,t.counterpartyId,t.counterpartyCategory,t.amount,t.currency,t.vatRate,t.dueDate,t.expenseCategory,t.productService,t.volume,t.priceRate,t.period,t.docNumber,t.docDate,t.fileName,t.docFileUrl,t.files?.length,i,s,n]),w.useEffect(()=>{(!i||s)&&O()},[i,s]);const A=w.useCallback(async()=>{if(!i||!u||s||!t.counterpartyId||!t.dueDate||f)return;const R=g.current+1;g.current=R,await k(R)},[i,u,s,t.counterpartyId,t.dueDate,f,k]);return{isDirty:u,isSaving:f,lastSaved:h,error:b,saveDraft:A,markClean:N,cancelAutoSave:O}},VL=e=>{const{docType:t,docNumber:r,docDate:n,payingCompany:i,counterpartyName:s}=e,l=j=>{try{const y=new Date(j);return isNaN(y.getTime())?"unknown-date":y.toISOString().split("T")[0]}catch{return"unknown-date"}},u=j=>j.replace(/[^a-zA-Z0-9а-яА-Я\s-]/g,"").replace(/\s+/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),d=l(n),f=u(t),p=u(r),h=u(i),v=u(s);return[f,p,d,h,v].filter(Boolean).join("_")+".pdf"};function HL({onSubmit:e,onCancel:t,onSaveDraft:r,initialData:n,isEditing:i,selectedRequestId:s}){const{items:l}=_t("counterparties"),{items:u}=_t("currencies"),{items:d}=_t("vat-rates"),[f,p]=w.useState({payingCompany:"",docType:"",counterpartyId:"",counterpartyCategory:"",amount:"",currency:"",vatRate:"",dueDate:void 0,docNumber:"",docDate:"",fileName:"",docFileUrl:"",files:[],expenseCategory:"",productService:"",volume:"",priceRate:"",period:""}),[h,v]=w.useState({}),[b,j]=w.useState(!1),[y,g]=w.useState(!1),[S,C]=w.useState(!1),[_,O]=w.useState(null),[N,k]=w.useState(!1),[A,R]=w.useState(!1),I=X.useRef(null),L=X.useRef(!1),U=X.useRef(!1),W=w.useCallback(ae=>{O(ae),I.current=ae},[]);w.useEffect(()=>{I.current=_},[_]);const H=()=>{p({payingCompany:"",docType:"",counterpartyId:"",counterpartyCategory:"",amount:"",currency:"",vatRate:"",dueDate:void 0,docNumber:"",docDate:"",fileName:"",docFileUrl:"",files:[],expenseCategory:"",productService:"",volume:"",priceRate:"",period:""})},G=L.current?no.SUBMITTED:no.DRAFT,{isDirty:T,isSaving:D,lastSaved:V,error:B,markClean:q,cancelAutoSave:K}=Mfe({formData:{id:_||void 0,payingCompany:f.payingCompany,docType:f.docType,counterpartyId:f.counterpartyId,counterpartyCategory:f.counterpartyCategory,amount:f.amount?Number(f.amount.replace(",",".")):0,currency:f.currency,vatRate:f.vatRate,dueDate:f.dueDate?.toISOString().split("T")[0]||"",description:[f.expenseCategory&&`Статья расходов: ${f.expenseCategory}`,f.productService&&`Товар/услуга: ${f.productService}`,f.volume&&`Объем: ${f.volume}`,f.priceRate&&`Цена/тариф: ${f.priceRate}`,f.period&&`Период: ${f.period}`].filter(Boolean).join(", "),expenseCategory:f.expenseCategory,productService:f.productService,volume:f.volume,priceRate:f.priceRate,period:f.period,docNumber:f.docNumber,docDate:f.docDate,fileName:f.fileName,docFileUrl:f.docFileUrl,files:f.files||[],status:G,createdBy:"3394830b-1b62-4db4-a6e4-fdf76b5033f5",history:[],expenseSplits:[],paymentAllocations:[],paymentExecution:void 0,attachments:[]},draftId:_,enabled:A&&!y&&!S&&!b&&!N&&!L.current&&!U.current,autoSaveDisabled:N,onDraftCreated:W}),z=(ae=!1)=>{const de=[f.expenseCategory&&`Статья расходов: ${f.expenseCategory}`,f.productService&&`Товар/услуга: ${f.productService}`,f.volume&&`Объем: ${f.volume}`,f.priceRate&&`Цена/тариф: ${f.priceRate}`,f.period&&`Период: ${f.period}`].filter(Boolean).join(", ");return{..._?{id:_}:{},..._?{}:{requestNumber:Dfe()},payingCompany:f.payingCompany||"",docType:f.docType||"",counterpartyId:f.counterpartyId,counterpartyCategory:f.counterpartyCategory,amount:f.amount?Number(f.amount.replace(",",".")):0,currency:f.currency||"",vatRate:f.vatRate||"Неизвестно",dueDate:f.dueDate?.toISOString().split("T")[0]||"",description:de,expenseCategory:f.expenseCategory,productService:f.productService,volume:f.volume,priceRate:f.priceRate,period:f.period,docNumber:f.docNumber,docDate:f.docDate,fileName:f.fileName,docFileUrl:f.docFileUrl,files:f.files||[],...ae?{status:no.DRAFT}:{},..._?{updatedAt:new Date().toISOString()}:{createdAt:new Date().toISOString()},history:[{id:Date.now().toString(),date:new Date().toISOString(),action:ae?"Черновик сохранен":"Заявка отправлена на рассмотрение",userId:"3394830b-1b62-4db4-a6e4-fdf76b5033f5",role:"executor"}],expenseSplits:[]}};w.useEffect(()=>{n&&i&&(p({payingCompany:n.payingCompany||"",docType:n.docType||"",counterpartyId:n.counterpartyId||"",counterpartyCategory:n.counterpartyCategory||"",amount:n.amount?n.amount.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}):"",currency:n.currency||"",vatRate:n.vatRate||"",dueDate:n.dueDate?new Date(n.dueDate):void 0,docNumber:n.docNumber||"",docDate:n.docDate||"",fileName:n.fileName||"",docFileUrl:n.docFileUrl||"",files:n.files||[],expenseCategory:n.expenseCategory||"",productService:n.productService||"",volume:n.volume||"",priceRate:n.priceRate||"",period:n.period||""}),O(n.id),I.current=n.id,n.status&&n.status!=="DRAFT"&&(k(!0),L.current=!0))},[n,i]),w.useEffect(()=>{s&&!i&&(O(s),I.current=s)},[s,i]),w.useEffect(()=>()=>{K()},[K]);const F=ae=>{const de=$(),Me=ae.name.split(".").pop(),Ge=((f.files?.length||0)+1).toString().padStart(2,"0"),tt=de?`${de}_${Ge}.${Me}`:ae.name,zt={id:`file_${Date.now()}`,name:tt,url:`/uploads/${tt}`,originalName:ae.name,mimeType:ae.type||"application/octet-stream",docType:f.docType||"Заявка"};p(Ot=>({...Ot,files:[...Ot.files||[],zt],docFileUrl:zt.url,fileName:zt.name})),fe.success("Файл загружен")},$=()=>{if(!f.docType||!f.docNumber||!f.docDate||!f.payingCompany||!f.counterpartyId)return"";const ae=l.find(Me=>Me.id===f.counterpartyId),de=ae?.abbreviation||ae?.name||"Unknown";return VL({docType:f.docType,docNumber:f.docNumber,docDate:f.docDate,payingCompany:f.payingCompany,counterpartyName:de})};w.useEffect(()=>{const ae=$();ae&&!f.fileName.includes("original_")&&p(de=>({...de,fileName:ae}))},[f.docType,f.docNumber,f.docDate,f.payingCompany,f.counterpartyId]);const Q=ae=>{p(de=>({...de,fileName:ae}))},J=ae=>{p(de=>{const Me=(de.files||[]).filter(Ge=>Ge.id!==ae);return{...de,files:Me,docFileUrl:Me[0]?.url||"",fileName:Me[0]?.name||""}}),fe.success("Файл удален")},le=ae=>{window.open(ae,"_blank")},Y=ae=>{const de=ae.replace(/[^\d.,]/g,"");p(Me=>({...Me,amount:de}))},ce=()=>{const ae={};return f.payingCompany||(ae.payingCompany="Выберите оплачивающую компанию"),f.docType||(ae.docType="Выберите тип документа-основания"),f.counterpartyCategory||(ae.counterpartyCategory="Выберите категорию контрагента"),f.counterpartyId||(ae.counterparty="Выберите контрагента"),f.docNumber||(ae.docNumber="Номер документа обязателен"),f.docDate||(ae.docDate="Дата документа обязательна"),(f.files?.length||0)===0&&(ae.file="Необходимо приложить документ-основание"),(!f.amount||isNaN(Number(f.amount.replace(",",".")))||Number(f.amount.replace(",","."))<=0)&&(ae.amount="Введите корректную сумму"),(!f.currency||f.currency.trim()==="")&&(ae.currency="Валюта обязательна для заполнения"),(!f.vatRate||f.vatRate.trim()==="")&&(ae.vatRate="Ставка НДС обязательна для заполнения"),f.dueDate||(ae.dueDate="Выберите срок оплаты"),f.expenseCategory.trim()||(ae.expenseCategory="Статья расходов обязательна для заполнения"),f.productService.trim()||(ae.productService="Товар/услуга обязательны для заполнения"),f.volume.trim()||(ae.volume="Объем обязателен для заполнения"),f.priceRate.trim()||(ae.priceRate="Цена/тариф обязательны для заполнения"),f.period.trim()||(ae.period="Период обязателен для заполнения"),v(ae),Object.keys(ae).length===0},ie=()=>{if(!ce()){fe.error("Пожалуйста, исправьте ошибки в форме");return}U.current=!0,K(),k(!0),j(!0)},xe=async()=>{K();let ae=0;for(;D&&ae<10;)await new Promise(Me=>setTimeout(Me,100)),ae++;U.current&&I.current==null&&_==null&&await new Promise(Me=>setTimeout(Me,0));let de=I.current??_;if(de){const Me=z(!1),{status:Ge,...tt}=Me;return await rt.update(de,tt),await rt.submit(de)}else{const Me=z(!0);return de=(await rt.create(Me)).id,O(de),I.current=de,await rt.submit(de)}},Ce=async()=>{g(!0),j(!1),U.current=!0,L.current=!0,k(!0),K();try{const ae=await xe();q(),O(null),I.current=null,H(),R(!1),fe.success("Заявка успешно отправлена на рассмотрение"),e(ae)}catch(ae){console.error("Failed to submit request:",ae),fe.error("Ошибка при отправке заявки"),L.current=!1,k(!1),U.current=!1}finally{U.current=!1,g(!1)}},te=async()=>{if(!S)try{if(C(!0),_){console.log("🔄 Manual save: Updating existing draft...");const ae=z(!0),de=await rt.update(_,ae);q(),fe.success("Черновик сохранен"),r&&r(de)}else{console.log("📝 Manual save: Creating new draft...");const ae=z(!0),de=await rt.create(ae);O(de.id),I.current=de.id,q(),fe.success("Черновик сохранен"),r&&r(de)}}catch(ae){console.error("Failed to save draft:",ae),fe.error("Ошибка при сохранении черновика")}finally{C(!1)}};return a.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ne,{variant:"ghost",onClick:t,children:[a.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Назад"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:i?"Редактирование заявки":"Новая заявка на оплату"}),a.jsx("p",{className:"text-muted-foreground",children:i?"Внесите изменения в заявку":"Заполните форму для создания новой заявки"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[D&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary"}),a.jsx("span",{children:"Сохранение..."})]}),V&&!D&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(nt,{className:"h-3 w-3 text-green-500"}),a.jsxs("span",{children:["Сохранено ",Qe(V,"HH:mm",{locale:ft})]})]}),T&&!D&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"h-2 w-2 bg-orange-500 rounded-full"}),a.jsx("span",{children:"Есть несохраненные изменения"})]})]})]}),B&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-sm text-red-600",children:["Ошибка автосохранения: ",B]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"h-5 w-5"}),"Информация о документе"]})}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"payingCompany",children:"Оплачивающая компания *"}),a.jsxs(ot,{value:f.payingCompany||"",onValueChange:ae=>p(de=>({...de,payingCompany:ae})),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите компанию"})}),a.jsxs(ut,{children:[a.jsx(we,{value:"SD",children:"SD"}),a.jsx(we,{value:"KD",children:"KD"}),a.jsx(we,{value:"AEK",children:"AEK"}),a.jsx(we,{value:"ADT",children:"ADT"}),a.jsx(we,{value:"KAS",children:"KAS"})]})]}),h.payingCompany&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.payingCompany})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"docType",children:"Тип документа-основания *"}),a.jsxs(ot,{value:f.docType||"",onValueChange:ae=>p(de=>({...de,docType:ae})),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите тип"})}),a.jsxs(ut,{children:[a.jsx(we,{value:"СНО",children:"СНО"}),a.jsx(we,{value:"АО",children:"АО"}),a.jsx(we,{value:"Договор",children:"Договор"}),a.jsx(we,{value:"Debit note",children:"Debit note"}),a.jsx(we,{value:"АВР",children:"АВР"}),a.jsx(we,{value:"Акт сверки",children:"Акт сверки"}),a.jsx(we,{value:"ЭСФ",children:"ЭСФ"}),a.jsx(we,{value:"Заявка",children:"Заявка"}),a.jsx(we,{value:"Счет-фактура",children:"Счет-фактура"}),a.jsx(we,{value:"Акт выполненных работ",children:"Акт выполненных работ"}),a.jsx(we,{value:"Накладная",children:"Накладная"})]})]}),h.docType&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.docType})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rfe,{value:f.counterpartyId,onValueChange:ae=>p(de=>({...de,counterpartyId:ae})),filterByCategory:f.counterpartyCategory,onCategoryChange:ae=>{p(de=>({...de,counterpartyCategory:ae,counterpartyId:""}))}}),h.counterparty&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.counterparty}),h.counterpartyCategory&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.counterpartyCategory})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"docNumber",children:"Номер документа *"}),a.jsx(He,{id:"docNumber",value:f.docNumber,onChange:ae=>p(de=>({...de,docNumber:ae.target.value})),placeholder:"Введите номер документа"}),h.docNumber&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.docNumber})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"docDate",children:"Дата документа *"}),a.jsx(He,{id:"docDate",type:"date",value:f.docDate,onChange:ae=>p(de=>({...de,docDate:ae.target.value}))}),h.docDate&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.docDate})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"file",children:"Документы-основания *"}),a.jsx(WL,{onFileSelect:F,onFileNameChange:Q,currentFileName:f.fileName,files:f.files,onRemoveFile:J,onViewFile:le,acceptedTypes:[".pdf",".doc",".docx",".xls",".xlsx",".jpg",".jpeg",".png"],maxSize:10,multiple:!0}),h.file&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.file})]})]})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(PD,{className:"h-5 w-5"}),"Информация об оплате"]})}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"amount",children:"Сумма *"}),a.jsx(He,{id:"amount",value:f.amount,onChange:ae=>Y(ae.target.value),placeholder:"0,00"}),h.amount&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.amount})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"currency",children:"Валюта *"}),a.jsxs(ot,{value:f.currency||"",onValueChange:ae=>p(de=>({...de,currency:ae})),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите валюту"})}),a.jsx(ut,{children:u.map(ae=>a.jsxs(we,{value:ae.code,children:[ae.code," - ",ae.name||ae.code]},ae.code))})]}),h.currency&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.currency})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"vatRate",children:"Ставка НДС *"}),a.jsxs(ot,{value:f.vatRate||"",onValueChange:ae=>p(de=>({...de,vatRate:ae})),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите ставку НДС"})}),a.jsx(ut,{children:d.map(ae=>a.jsx(we,{value:ae.name,children:ae.name},ae.id))})]}),h.vatRate&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.vatRate})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"dueDate",children:"Срок оплаты *"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:Ie("w-full justify-start text-left font-normal",!f.dueDate&&"text-muted-foreground"),children:[a.jsx(Jt,{className:"mr-2 h-4 w-4"}),f.dueDate?Qe(f.dueDate,"dd.MM.yyyy",{locale:ft}):"Выберите дату"]})}),a.jsx(zr,{className:"w-auto p-0",children:a.jsx(Qs,{mode:"single",selected:f.dueDate,onSelect:ae=>p(de=>({...de,dueDate:ae})),initialFocus:!0})})]}),h.dueDate&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.dueDate})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"text-sm font-medium mb-3",children:"Описание заявки"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"expenseCategory",className:"text-xs",children:"Статья расходов *"}),a.jsx(He,{id:"expenseCategory",value:f.expenseCategory,onChange:ae=>p(de=>({...de,expenseCategory:ae.target.value})),placeholder:"Введите статью расходов",className:"h-8 text-sm"}),h.expenseCategory&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.expenseCategory})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"productService",className:"text-xs",children:"Товар/услуга *"}),a.jsx(He,{id:"productService",value:f.productService,onChange:ae=>p(de=>({...de,productService:ae.target.value})),placeholder:"Введите товар или услугу",className:"h-8 text-sm"}),h.productService&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.productService})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"volume",className:"text-xs",children:"Объем *"}),a.jsx(He,{id:"volume",value:f.volume,onChange:ae=>p(de=>({...de,volume:ae.target.value})),placeholder:"Введите объем",className:"h-8 text-sm"}),h.volume&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.volume})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"priceRate",className:"text-xs",children:"Цена/тариф *"}),a.jsx(He,{id:"priceRate",value:f.priceRate,onChange:ae=>p(de=>({...de,priceRate:ae.target.value})),placeholder:"Введите цену или тариф",className:"h-8 text-sm"}),h.priceRate&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.priceRate})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"period",className:"text-xs",children:"Период *"}),a.jsx(He,{id:"period",value:f.period,onChange:ae=>p(de=>({...de,period:ae.target.value})),placeholder:"Введите период",className:"h-8 text-sm"}),h.period&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.period})]})]})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{variant:"outline",onClick:te,disabled:y||S,children:[a.jsx(_d,{className:"h-4 w-4 mr-2"}),S?"Сохранение...":"Сохранить черновик"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ne,{variant:"outline",onClick:t,disabled:y,children:"Отмена"}),a.jsxs(ne,{onClick:ie,disabled:y,children:[a.jsx(Ed,{className:"h-4 w-4 mr-2"}),y?"Отправка...":"Отправить заявку"]})]})]}),a.jsx(gi,{open:b,onOpenChange:j,children:a.jsxs(Ma,{children:[a.jsxs(xi,{children:[a.jsx(yi,{children:"Подтверждение отправки"}),a.jsx(vs,{children:"Вы уверены, что хотите отправить заявку на рассмотрение? После отправки вы не сможете редактировать заявку."})]}),a.jsxs(DL,{children:[a.jsx(ne,{variant:"outline",onClick:()=>j(!1),children:"Отмена"}),a.jsx(ne,{onClick:Ce,children:"Отправить заявку"})]})]})})]})}const mw=[{status:"draft",label:"Черновик"},{status:"submitted",label:"Подана"},{status:"classified",label:"Классифицирована"},{status:"approved",label:"Утверждена"},{status:"in-register",label:"К оплате"},{status:"paid-full",label:"Оплачена"}];function $fe({status:e,className:t}){const r=mw.findIndex(s=>s.status===e),n=r>=0?(r+1)/mw.length*100:0,i=(s,l)=>e==="declined"||e==="returned"||e==="rejected"?s<=r?a.jsx(oi,{className:"h-4 w-4 text-red-500"}):a.jsx(R2,{className:"h-4 w-4 text-gray-300"}):s<r?a.jsx(nt,{className:"h-4 w-4 text-green-500"}):s===r?a.jsx(er,{className:"h-4 w-4 text-blue-500"}):a.jsx(R2,{className:"h-4 w-4 text-gray-300"});return a.jsxs("div",{className:`space-y-3 ${t||""}`,children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{children:"Прогресс заявки"}),a.jsxs("span",{className:"text-muted-foreground",children:[Math.round(n),"%"]})]}),a.jsx(F1,{value:n,className:`h-2 ${e==="declined"||e==="returned"||e==="rejected"?"[&>div]:bg-red-500":""}`}),a.jsx("div",{className:"hidden md:flex items-center justify-between",children:mw.map((s,l)=>a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i(l,s.status),a.jsx("span",{className:`text-xs text-center max-w-16 ${l<=r?"text-foreground":"text-muted-foreground"}`,children:s.label})]},s.status))})]})}function Qm({request:e,getCounterpartyName:t,getCounterpartyCategory:r,getVatRate:n,onViewDocument:i,onDownloadDocument:s,showDocumentActions:l=!0,className:u=""}){const d=p=>{if(!p)return"Не указано";const h=new Date(p);return isNaN(h.getTime())?"Некорректная дата":new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}).format(h)},f=p=>{if(p.fileName)return p.fileName;const h=p.requestNumber||"UNKNOWN",v=new Date(p.createdAt).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit"}).replace(/\./g,""),b=p.payingCompany||"KD",j=t(p.counterpartyId).split(" ")[0];return`Заявка_${h}_${v}_${b}_${j}`};return a.jsxs(pe,{className:u,children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"h-5 w-5"}),"Информация по заявке"]})}),a.jsxs(me,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Aa,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Оплачивающая компания"}),a.jsx("p",{className:"text-sm",children:e.payingCompany||"Не указано"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Дата документа"}),a.jsx("p",{className:"text-sm",children:d(e.docDate)})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(wn,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Сумма"}),a.jsx("p",{className:"text-lg font-semibold",children:tr(e.amount,e.currency)})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Тип документа-основания"}),a.jsx("p",{className:"text-sm",children:e.docType||"Заявка"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(hs,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Категория контрагента"}),a.jsx("p",{className:"text-sm",children:r?r(e.counterpartyId):e.counterpartyCategory||"Не указано"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(OW,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Ставка НДС"}),a.jsx("p",{className:"text-sm",children:n?n(e.vatRate):e.vatRate||"Не указано"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Номер документа"}),a.jsx("p",{className:"text-sm",children:e.docNumber})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Aa,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Контрагент"}),a.jsx("p",{className:"text-sm",children:t(e.counterpartyId)})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Срок оплаты"}),a.jsx("p",{className:"text-sm",children:d(e.dueDate)})]})]})]}),e.description&&a.jsx("div",{className:"mt-6 pt-4 border-t",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Oq,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-sm",children:"Описание"}),a.jsx("div",{className:"text-sm mt-2",children:e.description.split(`
`).map((p,h)=>{const v=p.indexOf(":");if(v!==-1){const b=p.substring(0,v+1),j=p.substring(v+1),g=["Статья расходов:","Товар/услуга:","Объем:","Цена/тариф:","Период:"].some(S=>b.toLowerCase().includes(S.toLowerCase()));return a.jsxs("span",{className:"inline-block mr-4",children:[a.jsx("span",{className:g?"font-bold":"font-semibold",children:b}),a.jsx("span",{children:j})]},h)}return p.trim()?a.jsx("span",{className:"inline-block mr-4",children:p},h):null})})]})]})}),l&&a.jsx("div",{className:"mt-6 pt-4 border-t",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Nt,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-sm",children:"Документы-основания"}),e.files&&e.files.length>0?a.jsx("div",{className:"space-y-2 mt-2",children:e.files.map((p,h)=>a.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-lg bg-gray-50",children:[a.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:p.originalName||p.name}),p.url&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Доступен для просмотра"})]}),a.jsxs("div",{className:"flex gap-1",children:[p.url&&a.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>window.open(p.url,"_blank"),children:[a.jsx(fs,{className:"h-4 w-4 mr-1"}),"Просмотр"]}),p.url&&a.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{const v=document.createElement("a");v.href=p.url,v.download=p.originalName||p.name,v.click()},children:[a.jsx(Ta,{className:"h-4 w-4 mr-1"}),"Скачать"]})]})]},p.id||h))}):a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground flex-1",children:f(e)}),i&&a.jsxs(ne,{variant:"outline",size:"sm",onClick:i,children:[a.jsx(fs,{className:"h-4 w-4 mr-1"}),"Просмотр"]}),s&&a.jsxs(ne,{variant:"outline",size:"sm",onClick:s,children:[a.jsx(Ta,{className:"h-4 w-4 mr-1"}),"Скачать"]})]})]})]})})]})]})}const Lfe=d1("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function uS({className:e,variant:t,...r}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:Ie(Lfe({variant:t}),e),...r})}function dS({className:e,...t}){return a.jsx("div",{"data-slot":"alert-description",className:Ie("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function Ffe({request:e,initialSplits:t}){const[r,n]=w.useState(()=>t&&t.length>0?t.map(p=>({expenseItemId:p.expenseItemId,amount:p.amount,comment:p.comment,contractId:p.contractId,priority:p.priority})):[{expenseItemId:"",amount:e.amount,comment:""}]),i=w.useMemo(()=>r.reduce((p,h)=>p+(h.amount||0),0),[r]),s=w.useMemo(()=>Math.abs(i-e.amount)<.01,[i,e.amount]),l=w.useMemo(()=>{const p=[],h=r.filter(b=>!b.expenseItemId);h.length>0&&p.push(`${h.length} статей не имеют назначенного расходного элемента`),s||p.push(`Сумма распределения (${i.toLocaleString()}) не равна сумме документа (${e.amount.toLocaleString()})`);const v=r.filter(b=>!b.amount||b.amount<=0);return v.length>0&&p.push(`${v.length} статей не имеют указанной суммы`),p},[r,s,i,e.amount]);return{splits:r,setSplits:n,totalSplit:i,isBalanced:s,addSplit:()=>{n([...r,{expenseItemId:"",amount:0,comment:""}])},removeSplit:p=>{r.length>1&&n(r.filter((h,v)=>v!==p))},updateSplit:(p,h,v)=>{const b=[...r];b[p]={...b[p],[h]:v},n(b)},validationErrors:l}}const fS=({request:e,expenseItems:t,onSplitsChange:r,initialSplits:n,showValidation:i=!0,className:s=""})=>{const{splits:l,totalSplit:u,isBalanced:d,addSplit:f,removeSplit:p,updateSplit:h}=Ffe({request:e,initialSplits:n}),[v,b]=w.useState(null),[j,y]=w.useState([]),[g,S]=w.useState(!1);w.useEffect(()=>{r(l)},[l]),w.useEffect(()=>{C()},[]);const C=async()=>{try{S(!0);const O=await Ih.getSubRegistrars();y(O)}catch(O){console.error("Error loading sub-registrars:",O),fe.error("Ошибка загрузки суб-регистраторов")}finally{S(!1)}},_=O=>{const N=t.find(k=>k.id===O);return N?N.name:"Не выбрано"};return a.jsx("div",{className:`space-y-4 ${s}`,children:a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center justify-between",children:["Распределение по статьям расходов",a.jsxs(Ne,{variant:d?"default":"destructive",children:["Сумма: ",tr(u,e.currency)]})]})}),a.jsxs(me,{className:"space-y-4",children:[i&&!d&&a.jsxs(uS,{variant:"destructive",children:[a.jsx(jt,{className:"h-4 w-4"}),a.jsxs(dS,{children:["Сумма распределения (",tr(u,e.currency),") не равна сумме документа (",tr(e.amount,e.currency),")"]})]}),l.map((O,N)=>a.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-medium",children:["Позиция ",N+1]}),l.length>1&&a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>p(N),children:a.jsx(ei,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Статья расходов *"}),a.jsxs(Fr,{open:v===N,onOpenChange:k=>{b(k?N:null)},children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[_(O.expenseItemId),a.jsx(TD,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(zr,{className:"w-full p-0",align:"start",children:a.jsxs(es,{children:[a.jsx(ts,{placeholder:"Поиск статьи расходов..."}),a.jsxs(rs,{children:[a.jsx(ns,{children:"Статья не найдена."}),a.jsx(Ja,{children:t.map(k=>a.jsxs(is,{value:k.id,onSelect:A=>{h(N,"expenseItemId",A),b(null)},children:[a.jsx(Ou,{className:Ie("mr-2 h-4 w-4",O.expenseItemId===k.id?"opacity-100":"opacity-0")}),a.jsx("span",{children:k.name})]},k.id))})]})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Сумма *"}),a.jsx(He,{type:"number",value:O.amount||"",onChange:k=>h(N,"amount",Number(k.target.value)),placeholder:"0.00"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Суб-регистратор *"}),a.jsxs(ot,{value:O.subRegistrarId||"",onValueChange:k=>h(N,"subRegistrarId",k),disabled:g,children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите суб-регистратора"})}),a.jsx(ut,{children:j.map(k=>a.jsxs(we,{value:k.id,children:[k.full_name," (",k.email,")"]},k.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Комментарий"}),a.jsx(He,{value:O.comment||"",onChange:k=>h(N,"comment",k.target.value),placeholder:"Дополнительная информация"})]})]})]},N)),a.jsxs(ne,{variant:"outline",onClick:f,className:"w-full",children:[a.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Добавить статью расходов"]})]})]})})};function Bfe({requestId:e,onCancel:t,onRequestUpdate:r}){const{items:n}=_t("counterparties"),{items:i}=_t("expense-articles"),{items:s}=_t("vat-rates"),[l,u]=w.useState(null),[d,f]=w.useState(!0),[p,h]=w.useState(!1);w.useEffect(()=>{e&&(async()=>{try{f(!0);const k=await rt.getById(e);u(k)}catch(k){console.error("Failed to load request:",k),fe.error("Ошибка загрузки заявки")}finally{f(!1)}})()},[e]);const v=N=>{const k=n.find(A=>A.id===N);return k?k.name:"Неизвестный контрагент"},b=N=>{const k=n.find(A=>A.id===N);return k?k.category:"Не указано"},j=N=>{if(!N)return"Не указано";const k=s.find(A=>A.name===N);return k?k.name:N},y=N=>{if(N.fileName)return N.fileName;const k=n.find(R=>R.id===N.counterpartyId),A=k?.abbreviation||k?.name||"Unknown";return VL({docType:N.docType||"Заявка",docNumber:N.docNumber||N.requestNumber||"UNKNOWN",docDate:N.docDate||N.createdAt,payingCompany:N.payingCompany||"KD",counterpartyName:A})},g=N=>{N.url?window.open(N.url,"_blank"):fe.info(`Просмотр документа: ${N.name}`)},S=()=>{h(!0)},C=async N=>{try{f(!0);const k=await rt.update(e,N);u(k),h(!1),r&&r(k);const A=N.status==="draft"?"сохранен":"обновлен и отправлен";fe.success(`Черновик заявки ${A}`)}catch(k){console.error("Failed to update request:",k),fe.error("Ошибка сохранения заявки")}finally{f(!1)}},_=()=>{h(!1)},O=N=>{const k=i.find(A=>A.id===N);return k?`${k.code} - ${k.name}`:N||"Неизвестно"};return p&&l?a.jsx(HL,{onSubmit:C,onCancel:_,onSaveDraft:C,initialData:l,isEditing:!0}):d?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(ne,{variant:"ghost",size:"sm",onClick:t,children:[a.jsx(Nn,{className:"w-4 h-4"}),"Назад"]})}),a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]}):l?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ne,{variant:"ghost",size:"sm",onClick:t,children:[a.jsx(Nn,{className:"w-4 h-4"}),"Назад"]}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold",children:["Заявка ",l.requestNumber]}),a.jsx("p",{className:"text-muted-foreground",children:l.status==="draft"?"Просмотр и редактирование черновика":"Просмотр деталей заявки"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[l.status==="draft"&&a.jsxs(ne,{onClick:S,className:"flex items-center gap-2",children:[a.jsx(ga,{className:"w-4 h-4"}),"Редактировать"]}),a.jsx(So,{status:l.status})]})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsx(Pe,{children:"Статус обработки"})}),a.jsx(me,{children:a.jsx($fe,{status:l.status})})]}),a.jsx(Qm,{request:l,getCounterpartyName:v,getCounterpartyCategory:b,getVatRate:j,onViewDocument:()=>g({name:y(l),url:l.docFileUrl}),onDownloadDocument:()=>g({name:y(l),url:l.docFileUrl}),showDocumentActions:!0}),l.expenseSplits&&l.expenseSplits.length>0&&a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_l,{className:"h-5 w-5"}),"Распределение по статьям расходов"]}),a.jsxs(Ne,{variant:"default",children:["Итого: ",tr(l.expenseSplits.reduce((N,k)=>N+k.amount,0),l.currency)]})]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-3",children:l.expenseSplits.map((N,k)=>a.jsxs("div",{className:"flex justify-between items-start p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:O(N.expenseItemId)}),N.comment&&a.jsxs("div",{className:"mt-1",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Комментарий регистратора:"}),a.jsx("p",{className:"text-sm text-muted-foreground italic",children:N.comment})]})]}),a.jsx(Ne,{variant:"secondary",children:tr(N.amount,l.currency)})]},k))})})]}),l.status==="approved"&&a.jsx(fS,{request:l,expenseItems:i,onSplitsChange:N=>{},showValidation:!0}),l.paymentAllocations&&l.paymentAllocations.length>0&&a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsx(Pe,{children:"Распределение платежа"})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-4",children:l.paymentAllocations.map((N,k)=>a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Договор"}),a.jsx("p",{className:"font-medium",children:N.contractId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Сумма"}),a.jsx("p",{className:"font-medium",children:tr(N.amount,l.currency)})]})]}),N.comment&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Комментарий"}),a.jsx("p",{children:N.comment})]}),N.priority&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Приоритет"}),a.jsx(Ne,{variant:N.priority==="high"?"destructive":N.priority==="medium"?"default":"secondary",children:N.priority==="high"?"Высокий":N.priority==="medium"?"Средний":"Низкий"})]})]},k))})})]}),l.paymentExecution&&a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsx(Pe,{children:"Исполнение платежа"})}),a.jsxs(me,{className:"space-y-4",children:[l.paymentExecution.actualAmount&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Фактическая сумма"}),a.jsx("p",{className:"font-medium",children:tr(l.paymentExecution.actualAmount,l.currency)})]}),l.paymentExecution.executionDate&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Дата исполнения"}),a.jsx("p",{children:Nu(l.paymentExecution.executionDate)})]}),l.paymentExecution.exchangeRate&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Курс валют"}),a.jsx("p",{children:l.paymentExecution.exchangeRate})]}),l.paymentExecution.executionComment&&a.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[a.jsx("label",{className:"text-sm font-medium text-orange-800",children:"Комментарий казначея"}),a.jsx("p",{className:"mt-1 text-orange-700",children:l.paymentExecution.executionComment})]})]})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(ne,{variant:"ghost",size:"sm",onClick:t,children:[a.jsx(Nn,{className:"w-4 h-4"}),"Назад"]})}),a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"Заявка не найдена"})})]})}const zfe=e=>{const[t,r]=w.useState({}),[n,i]=w.useState(!1),[s,l]=w.useState(null),{requestIds:u}=e,d=w.useCallback(async()=>{if(u.length===0){r({});return}try{i(!0),l(null);const p={},h=u.map(async v=>{try{const y=(await rt.getRequestEvents(v)).map(I7).filter(g=>g.eventType==="REJECTED").sort((g,S)=>new Date(S.createdAt).getTime()-new Date(g.createdAt).getTime())[0];y&&y.comment&&(p[v]=y.comment)}catch(b){console.warn(`Failed to fetch events for request ${v}:`,b)}});await Promise.all(h),r(p)}catch(p){const h=p instanceof Error?p.message:"Failed to fetch rejection reasons";l(h),console.error("Error fetching rejection reasons:",p)}finally{i(!1)}},[u.join(",")]),f=w.useCallback(async()=>{await d()},[d]);return w.useEffect(()=>{d()},[d]),{rejectionReasons:t,loading:n,error:s,refetch:f}},vw=e=>{if(!e)return!1;try{const t=new Date(e),r=new Date;return r.setHours(0,0,0,0),t.setHours(0,0,0,0),isNaN(t.getTime())?!1:t<r}catch(t){return console.warn("Error checking overdue date:",t),!1}};function Ufe({onCreateRequest:e,onViewRequest:t,onEditRequest:r}){const{items:n}=_t("counterparties"),[i,s]=w.useState(""),[l,u]=w.useState("all"),[d,f]=w.useState("all"),{data:p,loading:h,error:v}=H3({status:d!=="all"?d:void 0,searchTerm:i||void 0,counterpartyFilter:l!=="all"?l:void 0}),b=p.filter(_=>_.status==="rejected").map(_=>_.id),{rejectionReasons:j}=zfe({requestIds:b}),y=w.useMemo(()=>{const _=[...new Set(p.map(O=>O.counterpartyId))];return n.filter(O=>_.includes(O.id))},[p,n]),g=w.useMemo(()=>{let _=[...p];return i&&(_=_.filter(O=>{const N=n.find(k=>k.id===O.counterpartyId);return O.docNumber?.toLowerCase().includes(i.toLowerCase())||O.requestNumber?.toLowerCase().includes(i.toLowerCase())||O.description.toLowerCase().includes(i.toLowerCase())||N?.name.toLowerCase().includes(i.toLowerCase())||O.amount.toString().includes(i)})),l!=="all"&&(_=_.filter(O=>O.counterpartyId===l)),d!=="all"&&(_=_.filter(O=>O.status===d)),_.sort((O,N)=>{try{const k=new Date(O.createdAt),A=new Date(N.createdAt);return isNaN(k.getTime())||isNaN(A.getTime())?0:A.getTime()-k.getTime()}catch{return 0}})},[p,i,l,d,n]),S=_=>n.find(O=>O.id===_)?.name||"Неизвестен",C=()=>{const _={draft:"Черновик",submitted:"В работе","in-register":"Согласовано",rejected:"Отклонено","to-pay":"Оплачено"};return[{value:"all",label:"Все статусы"},...["draft","submitted","in-register","rejected","to-pay"].map(k=>({value:k,label:_[k]||k}))]};return h?a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Загрузка заявок..."})]})})}):v?a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-500 mb-2",children:"Ошибка загрузки заявок"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:v}),a.jsx(ne,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Попробовать снова"})]})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Заявки на оплату"}),a.jsx("p",{className:"text-muted-foreground",children:"Все ваши заявки, отсортированные от новых к старым"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(ne,{onClick:e,children:[a.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Новая заявка"]})})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"h-4 w-4"}),"Фильтры"]})}),a.jsx(me,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(He,{placeholder:"Поиск по номеру, описанию...",value:i,onChange:_=>s(_.target.value),className:"pl-10"})]}),a.jsxs(ot,{value:l,onValueChange:u,children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:`Контрагент (${y.length})`})}),a.jsxs(ut,{children:[a.jsxs(we,{value:"all",children:["Все контрагенты (",y.length,")"]}),y.map(_=>a.jsx(we,{value:_.id,children:_.name},_.id))]})]}),a.jsxs(ot,{value:d,onValueChange:f,children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Статус"})}),a.jsx(ut,{children:C().map(_=>a.jsx(we,{value:_.value,children:_.label},_.value))})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"h-4 w-4 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего заявок"}),a.jsx("p",{className:"text-xl font-semibold",children:g.length})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Aa,{className:"h-4 w-4 text-orange-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Контрагентов"}),a.jsx("p",{className:"text-xl font-semibold",children:new Set(g.map(_=>_.counterpartyId)).size})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wn,{className:"h-4 w-4 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Общая сумма"}),a.jsx("p",{className:"text-xl font-semibold",children:tr(g.reduce((_,O)=>_+O.amount,0),"KZT")})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"h-4 w-4 text-red-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Просрочено"}),a.jsx("p",{className:"text-xl font-semibold",children:g.filter(_=>vw(_.dueDate)).length})]})]})})})]}),a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Pe,{children:["Заявки (",g.length,")"]}),a.jsxs(ne,{variant:"outline",size:"sm",children:[a.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Экспорт xlsx"]})]}),a.jsx(me,{children:a.jsxs("div",{children:[a.jsxs(xn,{className:"table-fixed w-full",children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{className:"w-32",children:"№ заявки"}),a.jsx(_e,{className:"w-40",children:"Контрагент"}),a.jsx(_e,{className:"w-24",children:"Сумма"}),a.jsx(_e,{className:"w-28",children:"Срок оплаты"}),a.jsx(_e,{className:"w-32",children:"Статус"}),a.jsx(_e,{className:"w-36",children:"У кого на рассмотрении"}),a.jsx(_e,{className:"w-28",children:"Создана"}),a.jsx(_e,{className:"w-16",children:"Действия"})]})}),a.jsx(bn,{children:g.map(_=>a.jsxs(It,{className:"hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>t?.(_.id),children:[a.jsx(Ee,{className:"font-medium w-32",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"truncate text-ellipsis overflow-hidden",title:_.requestNumber||_.docNumber,style:{maxWidth:"128px"},children:_.requestNumber||_.docNumber}),_.requestNumber&&a.jsx("span",{className:"text-xs text-muted-foreground truncate text-ellipsis overflow-hidden",title:_.docNumber,style:{maxWidth:"128px"},children:_.docNumber}),_.status==="rejected"&&j[_.id]&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(jt,{className:"h-3 w-3 text-red-500"}),a.jsx("span",{className:"text-xs text-red-600 font-medium truncate text-ellipsis overflow-hidden",title:j[_.id],style:{maxWidth:"128px"},children:j[_.id]})]})]})}),a.jsx(Ee,{className:"w-40",children:a.jsx("span",{className:"truncate block text-ellipsis overflow-hidden",title:S(_.counterpartyId),style:{maxWidth:"160px"},children:S(_.counterpartyId)})}),a.jsx(Ee,{className:"w-24",children:a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:"truncate",children:tr(_.amount,_.currency)})})}),a.jsx(Ee,{className:"w-28",children:a.jsxs("div",{className:`flex items-center gap-2 ${vw(_.dueDate)?"text-red-600":""}`,children:[a.jsx("span",{className:"truncate",children:Nu(_.dueDate)}),vw(_.dueDate)&&a.jsx(Ne,{variant:"destructive",className:"text-xs",children:"Просрочено"})]})}),a.jsx(Ee,{className:"w-32",children:a.jsx(So,{status:_.status,showTooltip:!0,responsible:rx(_.status),statusTime:Nu(_.updatedAt||_.createdAt)})}),a.jsx(Ee,{className:"text-muted-foreground w-36",children:a.jsx("span",{className:"truncate block text-ellipsis overflow-hidden",title:rx(_.status),style:{maxWidth:"144px"},children:rx(_.status)})}),a.jsx(Ee,{className:"text-muted-foreground w-28",children:a.jsx("span",{className:"truncate block",children:Nu(_.createdAt)})}),a.jsx(Ee,{className:"w-16",children:a.jsx("div",{className:"flex items-center justify-end gap-1",children:_.status==="rejected"&&r&&a.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:O=>{O.stopPropagation(),r(_.id)},title:"Редактировать",children:a.jsx(ga,{className:"h-4 w-4"})})})})]},_.id))})]}),g.length===0&&a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Заявки не найдены"})]})})]})]})}function ai({className:e,...t}){return a.jsx("textarea",{"data-slot":"textarea",className:Ie("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var qfe="Separator",zI="horizontal",Wfe=["horizontal","vertical"],GL=w.forwardRef((e,t)=>{const{decorative:r,orientation:n=zI,...i}=e,s=Vfe(n)?n:zI,u=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(qe.div,{"data-orientation":s,...u,...i,ref:t})});GL.displayName=qfe;function Vfe(e){return Wfe.includes(e)}var Hfe=GL;function pn({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return a.jsx(Hfe,{"data-slot":"separator-root",decorative:r,orientation:t,className:Ie("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function Gfe({onCancel:e,onSubmit:t,onReturn:r,isSubmitting:n=!1,isSubmitDisabled:i=!1,submitText:s="Отправить распорядителю",returnText:l="Вернуть исполнителю",className:u=""}){return a.jsxs("div",{className:`flex flex-col md:flex-row gap-4 justify-end ${u}`,children:[a.jsxs(ne,{variant:"ghost",size:"sm",onClick:e,children:[a.jsx(Nn,{className:"h-4 w-4 mr-2"}),"К списку"]}),r&&a.jsx(ne,{variant:"outline",onClick:r,children:l}),a.jsxs(ne,{onClick:t,disabled:n||i,children:[a.jsx(Ed,{className:"h-4 w-4 mr-2"}),s]})]})}function Kfe({request:e,onSubmit:t,onReturn:r,onCancel:n}){const{items:i}=_t("expense-articles"),{items:s}=_t("counterparties"),[l,u]=w.useState([]),[d,f]=w.useState(""),[p,h]=w.useState(!1),[v,b]=w.useState(!1),j=N=>s.find(k=>k.id===N)?.name||"Неизвестен",y=w.useCallback(N=>{u(N)},[]),g=()=>{l.length===0||l.filter(k=>k.expenseItemId&&k.amount>0).length===0||b(!0)},S=()=>{const k=l.filter(A=>A.expenseItemId&&A.amount>0).map((A,R)=>({id:`split_${Date.now()}_${R}`,requestId:e.id,...A}));t(k),b(!1)},C=()=>{d.trim()&&(r(d),h(!1))},_=()=>{fe.info("Открытие документа: "+e.fileName)},O=()=>{fe.info("Скачивание документа: "+e.fileName)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ne,{variant:"ghost",size:"sm",onClick:n,children:[a.jsx(Nn,{className:"h-4 w-4 mr-2"}),"К списку"]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Классификация заявки"}),a.jsx("p",{className:"text-muted-foreground",children:e.requestNumber?`Заявка: ${e.requestNumber}`:`Документ: ${e.docNumber}`})]})]}),a.jsx(Qm,{request:e,getCounterpartyName:j,onViewDocument:_,onDownloadDocument:O,showDocumentActions:!0}),a.jsx(pn,{}),a.jsx(fS,{request:e,expenseItems:i,onSplitsChange:y,showValidation:!0}),a.jsx(Gfe,{onCancel:n,onSubmit:g,onReturn:()=>h(!0),isSubmitDisabled:l.length===0||l.some(N=>!N.expenseItemId||!N.amount),submitText:"Отправить распорядителю",returnText:"Вернуть исполнителю"}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:a.jsxs(pe,{className:"w-full max-w-md",children:[a.jsx(ke,{children:a.jsx(Pe,{children:"Возврат заявки"})}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Причина возврата *"}),a.jsx(ai,{value:d,onChange:N=>f(N.target.value),placeholder:"Укажите причину возврата заявки исполнителю",rows:4})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ne,{variant:"outline",onClick:()=>h(!1),children:"Отмена"}),a.jsx(ne,{onClick:C,disabled:!d.trim(),variant:"destructive",children:"Вернуть"})]})]})]})}),v&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:a.jsxs(pe,{className:"w-full max-w-md",children:[a.jsx(ke,{children:a.jsx(Pe,{children:"Подтверждение отправки"})}),a.jsxs(me,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Если Вы подтверждаете корректность заполненной информации, заявка будет отправлена Распорядителю"}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ne,{variant:"outline",onClick:()=>b(!1),children:"Отмена"}),a.jsx(ne,{onClick:S,children:"Подтвердить"})]})]})]})})]})}function Yfe({request:e,onSubmit:t,onReturn:r,onCancel:n}){const{items:i,state:s}=_t("expense-articles"),{items:l,state:u}=_t("counterparties"),[d,f]=w.useState([]),[p,h]=w.useState(""),[v,b]=w.useState(!1),[j,y]=w.useState(!1),[g,S]=w.useState(null);w.useEffect(()=>{if(d.length===0){const A={id:"split-1",requestId:e.id,expenseItemId:"",amount:e.amount,comment:""};f([A])}},[e]),w.useEffect(()=>{(async()=>{try{const R=await Ih.getContractStatus(e.counterpartyId);S(R)}catch(R){console.error("Error loading contract status:",R)}})()},[e.counterpartyId]);const C=async()=>{if(!N()){fe.error("Исправьте ошибки валидации перед отправкой");return}if(d.filter(R=>!R.subRegistrarId).length>0){fe.error("Выберите суб-регистратора для всех позиций");return}y(!0);try{const R=d.map(W=>({id:W.id,requestId:W.requestId,expenseItemId:W.expenseItemId,amount:W.amount,comment:W.comment,contractId:"outside-contract",priority:"medium",subRegistrarId:W.subRegistrarId}));console.log("DEBUG: Sending classification request:",{requestId:e.id,requestStatus:e.status,expenseSplits:R}),await rt.classify(e.id,R,"");const I=[...new Set(d.map(W=>W.subRegistrarId).filter(Boolean))],L=I.map(W=>{const H=d.filter(T=>T.subRegistrarId===W),G={requestId:e.id,subRegistrarId:W,distributorId:"10756640-8f37-4cd2-84da-f9d1e3c16c70",expenseSplits:H.map(T=>({expenseItemId:T.expenseItemId,amount:T.amount,comment:T.comment,contractId:"outside-contract",priority:"medium",subRegistrarId:T.subRegistrarId})),comment:""};return Ih.sendRequestsParallel(G)});await Promise.all(L),ao.notifyRequestDistributed(e.id,e.requestNumber||"Без номера"),I.forEach(W=>{ao.notifySubRegistrarAssigned(e.id,e.requestNumber||"Без номера")}),ao.notifyDistributorRequestCreated(e.id,e.requestNumber||"Без номера"),fe.success("Заявка успешно классифицирована и распределена");const U=d.map(W=>({id:W.id,requestId:W.requestId,expenseItemId:W.expenseItemId,amount:W.amount,comment:W.comment,contractId:"outside-contract",priority:"medium",subRegistrarId:W.subRegistrarId}));t(U)}catch(R){console.error("Error classifying request:",R),fe.error("Ошибка при классификации заявки")}finally{y(!1)}},_=async()=>{if(!p.trim()){fe.error("Укажите причину возврата");return}y(!0);try{await Ih.returnRequest({requestId:e.id,comment:p}),fe.success("Заявка возвращена исполнителю"),r(p),b(!1)}catch(A){console.error("Error returning request:",A),fe.error("Ошибка при возврате заявки")}finally{y(!1)}},O=A=>l.find(R=>R.id===A)?.name||"Неизвестен",N=()=>{if(d.filter(L=>!L.expenseItemId).length>0||d.filter(L=>!L.subRegistrarId).length>0)return!1;const I=d.reduce((L,U)=>L+(U.amount||0),0);return!(Math.abs(I-e.amount)>.01)},k=()=>{const A=[],R=d.filter(U=>!U.expenseItemId);R.length>0&&A.push(`Необходимо выбрать статью расходов для ${R.length} позиций`);const I=d.filter(U=>!U.subRegistrarId);I.length>0&&A.push(`Необходимо выбрать суб-регистратора для ${I.length} позиций`);const L=d.reduce((U,W)=>U+(W.amount||0),0);return Math.abs(L-e.amount)>.01&&A.push(`Сумма распределения (${tr(L,"KZT")}) не равна сумме заявки (${tr(e.amount,"KZT")})`),A};return s.isLoading||u.isLoading?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Загрузка справочников..."})]})}):s.error||u.error?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-2",children:"Ошибка загрузки справочников"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s.error||u.error})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ne,{variant:"ghost",size:"sm",onClick:n,children:a.jsx(Nn,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsxs("h2",{children:["Классификация заявки ",e.requestNumber]}),a.jsx("p",{className:"text-muted-foreground",children:"Выберите статьи расходов и укажите суммы"})]})]})}),a.jsx(Qm,{request:e,getCounterpartyName:O,onViewDocument:()=>{e.docFileUrl?window.open(e.docFileUrl,"_blank"):fe.info(`Скачивание файла: ${e.fileName}`)},onDownloadDocument:()=>{fe.info(`Скачивание файла: ${e.fileName}`)},showDocumentActions:!0}),g&&a.jsx(pe,{className:g.hasContract?"border-green-200 bg-green-50":"border-red-200 bg-red-50",children:a.jsx(me,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${g.hasContract?"bg-green-500":"bg-red-500"}`}),a.jsx("div",{className:"flex-1",children:g.hasContract?a.jsxs("div",{className:"text-green-800",children:[a.jsx("p",{className:"font-medium",children:"Имеется договор с контрагентом"}),a.jsxs("p",{className:"text-sm",children:["№ ",g.contractNumber," от ",g.contractDate]}),g.validityPeriod&&a.jsxs("p",{className:"text-sm mt-1",children:["Срок действия: ",g.validityPeriod]}),g.rates&&a.jsxs("p",{className:"text-sm mt-1",children:["Тарифы: ",g.rates]}),g.contractInfo&&a.jsxs("p",{className:"text-sm mt-1",children:["Информация: ",g.contractInfo]}),g.contractFileUrl&&a.jsx("button",{className:"text-sm mt-2 text-blue-600 hover:text-blue-800 underline",onClick:()=>window.open(g.contractFileUrl,"_blank"),children:"📄 Скачать договор"})]}):a.jsx("div",{className:"text-red-800",children:a.jsx("p",{className:"font-medium",children:"Договор с контрагентом отсутствует"})})})]})})}),a.jsx(fS,{request:e,expenseItems:i,onSplitsChange:A=>{const R=A.map(I=>({id:`split-${Date.now()}-${Math.random()}`,requestId:e.id,...I}));f(R)},showValidation:!0}),!N()&&a.jsx(pe,{className:"border-amber-200 bg-amber-50",children:a.jsx(me,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(jt,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-amber-800",children:"Требуется исправление"}),a.jsx("ul",{className:"space-y-1 text-sm text-amber-700",children:k().map((A,R)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-amber-600 rounded-full mt-2 flex-shrink-0"}),A]},R))})]})]})})}),a.jsxs("div",{className:"flex gap-2 pt-6 border-t",children:[a.jsxs(gi,{open:v,onOpenChange:b,children:[a.jsx(gd,{asChild:!0,children:a.jsx(ne,{variant:"outline",children:"Вернуть"})}),a.jsxs(Ma,{children:[a.jsxs(xi,{children:[a.jsx(yi,{children:"Возврат заявки"}),a.jsx(vs,{children:"Укажите причину возврата заявки исполнителю для доработки."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Причина возврата *"}),a.jsx(ai,{placeholder:"Укажите причину возврата заявки исполнителю...",value:p,onChange:A=>h(A.target.value),rows:4})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ne,{variant:"outline",onClick:()=>b(!1),children:"Отмена"}),a.jsx(ne,{onClick:_,disabled:!p.trim(),children:"Вернуть заявку"})]})]})]})]}),a.jsxs(ne,{onClick:C,disabled:!N()||j,className:"flex-1",children:[a.jsx(_d,{className:"w-4 h-4 mr-2"}),"Классифицировать"]})]})]})}const Xfe=[{value:"АВР",label:"АВР"},{value:"Другое",label:"Другое"},{value:"Инвойс",label:"Инвойс"},{value:"УПД",label:"УПД"},{value:"ЭСФ",label:"ЭСФ"},{value:"АО",label:"АО"}],Qfe=[{value:"not_received",label:"Не получены"},{value:"fully_received",label:"Получены в полном объеме"},{value:"partially_received",label:"Частично получены"}];function Zfe({request:e,onBack:t,onSave:r}){const{items:n,state:i}=_t("counterparties"),{state:s}=_t("expense-articles"),[l,u]=w.useState({documentType:"",documentNumber:"",documentDate:"",amountWithoutVat:0,vatAmount:0,currency:e.currency,files:[],originalDocumentsStatus:"not_received",comment:""}),[d,f]=w.useState(!1),[p,h]=w.useState(!1);w.useEffect(()=>{},[e.id]),w.useEffect(()=>{const N=l.documentType!==""&&l.documentNumber!==""&&l.documentDate!==""&&l.amountWithoutVat>0&&l.originalDocumentsStatus!=="";h(N)},[l]);const v=N=>n.find(k=>k.id===N)?.name||"Неизвестен",b=N=>n.find(k=>k.id===N)?.category||"Не указано",j=N=>N||"Не указано",y=(N,k)=>{u(A=>({...A,[N]:k}))},g=N=>{const k=N.map(A=>({id:`file-${Date.now()}-${Math.random()}`,name:A.name,url:URL.createObjectURL(A),originalName:A.name}));u(A=>({...A,files:[...A.files,...k]}))},S=N=>{u(k=>({...k,files:k.files.filter(A=>A.id!==N)}))},C=async()=>{if(!p){fe.error("Заполните все обязательные поля");return}f(!0);try{await r(l),fe.success("Данные закрывающих документов сохранены")}catch(N){console.error("Error saving closing document data:",N),fe.error("Ошибка при сохранении данных")}finally{f(!1)}},_=N=>{switch(N){case"classified":return a.jsx(Ne,{className:"bg-blue-100 text-blue-800",children:"Классифицирована"});case"allocated":return a.jsx(Ne,{className:"bg-green-100 text-green-800",children:"Распределена"});case"returned":return a.jsx(Ne,{className:"bg-red-100 text-red-800",children:"Возвращена"});default:return a.jsx(Ne,{className:"bg-gray-100 text-gray-800",children:N})}},O=N=>{switch(N){case"classified":return a.jsx(nt,{className:"w-4 h-4 text-blue-600"});case"allocated":return a.jsx(nt,{className:"w-4 h-4 text-green-600"});case"returned":return a.jsx(co,{className:"w-4 h-4 text-red-600"});default:return a.jsx(er,{className:"w-4 h-4 text-gray-600"})}};return i.isLoading||s.isLoading?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Загрузка данных..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ne,{variant:"ghost",size:"sm",onClick:t,children:a.jsx(Nn,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-semibold",children:["Заявка ",e.requestNumber]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[O(e.status),_(e.status)]})]})]}),a.jsxs(ne,{onClick:C,disabled:!p||d,className:"flex items-center gap-2",children:[a.jsx(_d,{className:"w-4 h-4"}),d?"Сохранение...":"Сохранить"]})]}),a.jsx(Qm,{request:e,getCounterpartyName:v,getCounterpartyCategory:b,getVatRate:j,onViewDocument:()=>{e.docFileUrl?window.open(e.docFileUrl,"_blank"):fe.info(`Просмотр документа: ${e.fileName}`)},onDownloadDocument:()=>{fe.info(`Скачивание документа: ${e.fileName}`)},showDocumentActions:!0}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(hs,{className:"h-5 w-5"}),"Информация от Регистратора"]})}),a.jsx(me,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(he,{className:"mb-2 block",children:"Ответственный регистратор"}),a.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[a.jsx(hs,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:"Айгуль Нурланова"})]})]}),a.jsxs("div",{children:[a.jsx(he,{className:"mb-2 block",children:"Дата классификации"}),a.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[a.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:"15.01.2024 14:30"})]})]})]})})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"h-5 w-5"}),"Закрывающие документы"]})}),a.jsxs(me,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(he,{htmlFor:"document-type",className:"mb-2 block",children:"Тип закрывающего документа *"}),a.jsxs(ot,{value:l.documentType,onValueChange:N=>y("documentType",N),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите тип документа"})}),a.jsx(ut,{children:Xfe.map(N=>a.jsx(we,{value:N.value,children:N.label},N.value))})]})]}),a.jsxs("div",{children:[a.jsx(he,{htmlFor:"document-number",className:"mb-2 block",children:"№ документа *"}),a.jsx(He,{id:"document-number",value:l.documentNumber,onChange:N=>y("documentNumber",N.target.value),placeholder:"Введите номер документа"})]})]}),a.jsxs("div",{children:[a.jsx(he,{htmlFor:"document-date",className:"mb-2 block",children:"Дата документа *"}),a.jsx(He,{id:"document-date",type:"date",value:l.documentDate,onChange:N=>y("documentDate",N.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(he,{htmlFor:"amount-without-vat",className:"mb-2 block",children:"Сумма без НДС, в валюте *"}),a.jsxs("div",{className:"relative",children:[a.jsx(wn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(He,{id:"amount-without-vat",type:"number",value:l.amountWithoutVat||"",onChange:N=>y("amountWithoutVat",parseFloat(N.target.value)||0),placeholder:"0.00",className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(he,{htmlFor:"vat-amount",className:"mb-2 block",children:"Сумма НДС, в валюте *"}),a.jsxs("div",{className:"relative",children:[a.jsx(wn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(He,{id:"vat-amount",type:"number",value:l.vatAmount||"",onChange:N=>y("vatAmount",parseFloat(N.target.value)||0),placeholder:"0.00",className:"pl-10"})]})]})]}),a.jsxs("div",{children:[a.jsx(he,{className:"mb-2 block",children:"Валюта"}),a.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:a.jsx("span",{className:"font-medium",children:e.currency})})]}),a.jsxs("div",{children:[a.jsx(he,{className:"mb-2 block",children:"Прикрепляю закрывающие документы"}),a.jsx(WL,{onFilesChange:g,onFileRemove:S,files:l.files,maxFiles:10,maxSize:10,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"})]}),a.jsxs("div",{children:[a.jsx(he,{htmlFor:"original-documents-status",className:"mb-2 block",children:"Статус получения оригиналов документов *"}),a.jsxs(ot,{value:l.originalDocumentsStatus,onValueChange:N=>y("originalDocumentsStatus",N),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите статус"})}),a.jsx(ut,{children:Qfe.map(N=>a.jsx(we,{value:N.value,children:N.label},N.value))})]})]}),a.jsxs("div",{children:[a.jsx(he,{htmlFor:"comment",className:"mb-2 block",children:"Комментарий"}),a.jsx(ai,{id:"comment",value:l.comment||"",onChange:N=>y("comment",N.target.value),placeholder:"Дополнительная информация...",rows:3})]}),a.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Сводка"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-blue-700",children:"Сумма без НДС:"}),a.jsx("span",{className:"ml-2 font-medium",children:tr(l.amountWithoutVat,l.currency)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-blue-700",children:"Сумма НДС:"}),a.jsx("span",{className:"ml-2 font-medium",children:tr(l.vatAmount,l.currency)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-blue-700",children:"Итого:"}),a.jsx("span",{className:"ml-2 font-medium",children:tr(l.amountWithoutVat+l.vatAmount,l.currency)})]})]})]})]})]})]})}function UI({currentUserId:e,onViewRequest:t}){const[r,n]=w.useState([]),[i,s]=w.useState([]),[l,u]=w.useState(""),[d,f]=w.useState("all"),[p,h]=w.useState(!0),[v,b]=w.useState(null),{items:j}=_t("counterparties");_t("expense-articles");const y=k=>new Date(k).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});w.useEffect(()=>{(async()=>{try{h(!0);const A=await fetch(`http://localhost:8000/api/v1/requests/list?responsible_registrar_id=${e}`);if(!A.ok)throw new Error(`Failed to load assigned requests: ${A.statusText}`);const I=(await A.json()).map(L=>({id:L.id,requestNumber:L.number,createdAt:L.created_at,dueDate:L.due_date,counterpartyId:L.counterparty_id,amount:L.amount_total,currency:L.currency_code,description:L.title,status:L.status,responsibleRegistrarId:L.responsible_registrar_id,files:L.files||[],docType:L.doc_type,docNumber:L.doc_number,docDate:L.doc_date,payingCompany:L.paying_company,vatRate:L.vat_rate}));n(I),s(I)}catch(A){console.error("Error loading assigned requests:",A),n([]),s([])}finally{h(!1)}})()},[e]),w.useEffect(()=>{let k=r;l&&(k=k.filter(A=>A.requestNumber?.toLowerCase().includes(l.toLowerCase())||A.description.toLowerCase().includes(l.toLowerCase())||g(A.counterpartyId).toLowerCase().includes(l.toLowerCase()))),d!=="all"&&(k=k.filter(A=>A.status===d)),s(k)},[r,l,d]);const g=k=>j.find(A=>A.id===k)?.name||"Неизвестен",S=k=>{b(k)},C=()=>{b(null)},_=async k=>(console.log("Saving closing document data:",k),Promise.resolve()),O=k=>{switch(k){case"classified":return a.jsx(Ne,{className:"bg-blue-100 text-blue-800",children:"Классифицирована"});case"allocated":return a.jsx(Ne,{className:"bg-green-100 text-green-800",children:"Распределена"});case"returned":return a.jsx(Ne,{className:"bg-red-100 text-red-800",children:"Возвращена"});default:return a.jsx(Ne,{className:"bg-gray-100 text-gray-800",children:k})}},N=k=>{switch(k){case"classified":return a.jsx(nt,{className:"w-4 h-4 text-blue-600"});case"allocated":return a.jsx(nt,{className:"w-4 h-4 text-green-600"});case"returned":return a.jsx(co,{className:"w-4 h-4 text-red-600"});default:return a.jsx(er,{className:"w-4 h-4 text-gray-600"})}};return p?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Загрузка заявок..."})]})}):v?a.jsx(Zfe,{request:v,onBack:C,onSave:_}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Мои заявки"}),a.jsx("p",{className:"text-muted-foreground",children:"Заявки, назначенные вам как ответственному регистратору"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(Ne,{className:"bg-emerald-100 text-emerald-800",children:"Суб-Регистратор"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(pe,{children:a.jsx(me,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(er,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Всего заявок"}),a.jsx("p",{className:"text-2xl font-bold",children:r.length})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(nt,{className:"h-4 w-4 text-green-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Классифицированы"}),a.jsx("p",{className:"text-2xl font-bold",children:r.filter(k=>k.status==="classified").length})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(co,{className:"h-4 w-4 text-red-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Возвращены"}),a.jsx("p",{className:"text-2xl font-bold",children:r.filter(k=>k.status==="returned").length})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(bi,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Общая сумма"}),a.jsx("p",{className:"text-2xl font-bold",children:tr(r.reduce((k,A)=>k+A.amount,0),"KZT")})]})]})})})]}),a.jsx(pe,{children:a.jsx(me,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(He,{placeholder:"Поиск по номеру, описанию или контрагенту...",value:l,onChange:k=>u(k.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{value:d,onChange:k=>f(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"all",children:"Все статусы"}),a.jsx("option",{value:"classified",children:"Классифицированы"}),a.jsx("option",{value:"allocated",children:"Распределены"}),a.jsx("option",{value:"returned",children:"Возвращены"})]})})]})})}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{children:["Список заявок (",i.length,")"]})}),a.jsx(me,{children:i.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Нет заявок для отображения"})}):a.jsxs(xn,{children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{children:"Номер"}),a.jsx(_e,{children:"Контрагент"}),a.jsx(_e,{children:"Сумма"}),a.jsx(_e,{children:"Статус"}),a.jsx(_e,{children:"Дата создания"}),a.jsx(_e,{children:"Срок"}),a.jsx(_e,{children:"Действия"})]})}),a.jsx(bn,{children:i.map(k=>a.jsxs(It,{children:[a.jsx(Ee,{className:"font-medium",children:k.requestNumber}),a.jsx(Ee,{children:g(k.counterpartyId)}),a.jsx(Ee,{children:tr(k.amount,k.currency)}),a.jsx(Ee,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[N(k.status),O(k.status)]})}),a.jsx(Ee,{children:y(k.createdAt)}),a.jsx(Ee,{children:y(k.dueDate)}),a.jsx(Ee,{children:a.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>S(k),children:[a.jsx(fs,{className:"w-4 h-4 mr-2"}),"Просмотр"]})})]},k.id))})]})})]})]})}const Jfe=({onReportUpdate:e})=>{const[t,r]=w.useState([]),[n,i]=w.useState(new Map),[s,l]=w.useState(new Map),[u,d]=w.useState(!1),[f,p]=w.useState(!1),[h,v]=w.useState(!1),[b,j]=w.useState(null),[y,g]=w.useState("Не получены"),[S,C]=w.useState("");w.useEffect(()=>{_()},[]);const _=async()=>{try{d(!0);const I=await fh.getAssignments();r(I.assignments);const L=new Map,U=new Map;for(const W of I.assignments){try{const H=await fh.getReport(W.requestId);L.set(W.requestId,H)}catch{}try{const H=await rt.getById(W.requestId);H&&U.set(W.requestId,H)}catch(H){console.error("Error loading request:",H)}}i(L),l(U)}catch(I){console.error("Error loading assignments:",I),fe.error("Ошибка загрузки назначений")}finally{d(!1)}},O=async I=>{try{p(!0);const L={requestId:I.requestId,documentStatus:y,reportData:L?JSON.parse(L):void 0};await fh.saveDraftReport(L),fe.success("Отчёт сохранён как черновик"),await _(),e&&e()}catch(L){console.error("Error saving draft:",L),fe.error("Ошибка сохранения черновика")}finally{p(!1)}},N=async I=>{try{v(!0),await fh.publishReport(I.requestId);const L=s.get(I.requestId);L&&ao.notifyReportPublished(I.requestId,L.requestNumber||"Без номера"),fe.success("Отчёт опубликован"),await _(),e&&e()}catch(L){console.error("Error publishing report:",L),fe.error("Ошибка публикации отчёта")}finally{v(!1)}},k=I=>{const L=n.get(I.requestId);return L?L.status==="draft"?a.jsx(Ne,{variant:"secondary",children:"Черновик"}):L.status==="published"?a.jsx(Ne,{variant:"default",children:"Опубликован"}):a.jsx(Ne,{variant:"outline",children:I.status}):a.jsx(Ne,{variant:"outline",children:"Новый"})},A=I=>{switch(I){case"Не получены":return a.jsx(co,{className:"h-4 w-4 text-red-500"});case"Получены в полном объёме":return a.jsx(nt,{className:"h-4 w-4 text-green-500"});case"Частично получены":return a.jsx(er,{className:"h-4 w-4 text-yellow-500"});default:return a.jsx(co,{className:"h-4 w-4 text-gray-500"})}},R=I=>{switch(I){case"Не получены":return"text-red-600";case"Получены в полном объёме":return"text-green-600";case"Частично получены":return"text-yellow-600";default:return"text-gray-600"}};return u?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx(Ca,{className:"h-8 w-8 animate-spin"}),a.jsx("span",{className:"ml-2",children:"Загрузка назначений..."})]}):t.length===0?a.jsx(pe,{children:a.jsxs(me,{className:"p-8 text-center",children:[a.jsx(Nt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Нет назначений"}),a.jsx("p",{className:"text-muted-foreground",children:"У вас пока нет назначенных заявок для обработки"})]})}):a.jsx("div",{className:"space-y-6",children:a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"h-5 w-5"}),"Мои назначения"]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-4",children:t.map(I=>{const L=s.get(I.requestId),U=n.get(I.requestId);return a.jsx(pe,{className:"border-l-4 border-l-blue-500",children:a.jsxs(me,{className:"pt-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:L?.requestNumber||`Заявка ${I.requestId.slice(0,8)}`}),a.jsx("p",{className:"text-sm text-muted-foreground",children:L?.description||"Описание недоступно"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Сумма:"}),a.jsxs("span",{className:"text-sm",children:[L?.amount," ",L?.currency]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Статус:"}),k(I)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{className:"text-sm font-medium",children:"Статус документов"}),a.jsxs("div",{className:"flex items-center gap-2",children:[A(y),a.jsx("span",{className:`text-sm ${R(y)}`,children:y})]}),a.jsxs(ot,{value:y,onValueChange:W=>g(W),children:[a.jsx(ct,{className:"w-full",children:a.jsx(lt,{})}),a.jsxs(ut,{children:[a.jsx(we,{value:"Не получены",children:"Не получены"}),a.jsx(we,{value:"Получены в полном объёме",children:"Получены в полном объёме"}),a.jsx(we,{value:"Частично получены",children:"Частично получены"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>O(I),disabled:f,className:"flex items-center gap-1",children:[f?a.jsx(Ca,{className:"h-3 w-3 animate-spin"}):a.jsx(_d,{className:"h-3 w-3"}),"Сохранить в работе"]}),a.jsxs(ne,{size:"sm",onClick:()=>N(I),disabled:h||!U,className:"flex items-center gap-1",children:[h?a.jsx(Ca,{className:"h-3 w-3 animate-spin"}):a.jsx(Ed,{className:"h-3 w-3"}),"Опубликовать отчёт"]})]}),U&&a.jsx("div",{className:"text-xs text-muted-foreground",children:U.status==="draft"?a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(er,{className:"h-3 w-3"}),"Черновик от ",new Date(U.createdAt).toLocaleDateString()]}):a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(nt,{className:"h-3 w-3"}),"Опубликован ",U.publishedAt&&new Date(U.publishedAt).toLocaleDateString()]})})]})]}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx(he,{className:"text-sm font-medium",children:"Данные отчёта (JSON)"}),a.jsx("textarea",{value:S,onChange:W=>C(W.target.value),placeholder:"Введите данные отчёта в формате JSON (необязательно)",className:"w-full px-3 py-2 border border-input rounded-md text-sm",rows:3})]})]})},I.id)})})})]})})};var Zm="Checkbox",[ehe,kpe]=tn(Zm),[the,hS]=ehe(Zm);function rhe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:s,form:l,name:u,onCheckedChange:d,required:f,value:p="on",internal_do_not_use_render:h}=e,[v,b]=ka({prop:r,defaultProp:i??!1,onChange:d,caller:Zm}),[j,y]=w.useState(null),[g,S]=w.useState(null),C=w.useRef(!1),_=j?!!l||!!j.closest("form"):!0,O={checked:v,disabled:s,setChecked:b,control:j,setControl:y,name:u,form:l,value:p,hasConsumerStoppedPropagationRef:C,required:f,defaultChecked:ls(i)?!1:i,isFormControl:_,bubbleInput:g,setBubbleInput:S};return a.jsx(the,{scope:t,...O,children:nhe(h)?h(O):n})}var KL="CheckboxTrigger",YL=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:s,value:l,disabled:u,checked:d,required:f,setControl:p,setChecked:h,hasConsumerStoppedPropagationRef:v,isFormControl:b,bubbleInput:j}=hS(KL,e),y=dt(i,p),g=w.useRef(d);return w.useEffect(()=>{const S=s?.form;if(S){const C=()=>h(g.current);return S.addEventListener("reset",C),()=>S.removeEventListener("reset",C)}},[s,h]),a.jsx(qe.button,{type:"button",role:"checkbox","aria-checked":ls(d)?"mixed":d,"aria-required":f,"data-state":t5(d),"data-disabled":u?"":void 0,disabled:u,value:l,...n,ref:y,onKeyDown:Ae(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Ae(r,S=>{h(C=>ls(C)?!0:!C),j&&b&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})})});YL.displayName=KL;var XL=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:l,disabled:u,value:d,onCheckedChange:f,form:p,...h}=e;return a.jsx(rhe,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:u,required:l,onCheckedChange:f,name:n,form:p,value:d,internal_do_not_use_render:({isFormControl:v})=>a.jsxs(a.Fragment,{children:[a.jsx(YL,{...h,ref:t,__scopeCheckbox:r}),v&&a.jsx(e5,{__scopeCheckbox:r})]})})});XL.displayName=Zm;var QL="CheckboxIndicator",ZL=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,s=hS(QL,r);return a.jsx(rn,{present:n||ls(s.checked)||s.checked===!0,children:a.jsx(qe.span,{"data-state":t5(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});ZL.displayName=QL;var JL="CheckboxBubbleInput",e5=w.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:l,required:u,disabled:d,name:f,value:p,form:h,bubbleInput:v,setBubbleInput:b}=hS(JL,e),j=dt(r,b),y=T1(s),g=b1(n);w.useEffect(()=>{const C=v;if(!C)return;const _=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(_,"checked").set,k=!i.current;if(y!==s&&N){const A=new Event("click",{bubbles:k});C.indeterminate=ls(s),N.call(C,ls(s)?!1:s),C.dispatchEvent(A)}},[v,y,s,i]);const S=w.useRef(ls(s)?!1:s);return a.jsx(qe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??S.current,required:u,disabled:d,name:f,value:p,form:h,...t,tabIndex:-1,ref:j,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});e5.displayName=JL;function nhe(e){return typeof e=="function"}function ls(e){return e==="indeterminate"}function t5(e){return ls(e)?"indeterminate":e?"checked":"unchecked"}function c1({className:e,...t}){return a.jsx(XL,{"data-slot":"checkbox",className:Ie("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(ZL,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Ou,{className:"size-3.5"})})})}var Jm="Tabs",[ahe,Ppe]=tn(Jm,[Xp]),r5=Xp(),[ihe,pS]=ahe(Jm),n5=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,p=zp(u),[h,v]=ka({prop:n,onChange:i,defaultProp:s??"",caller:Jm});return a.jsx(ihe,{scope:r,baseId:gr(),value:h,onValueChange:v,orientation:l,dir:p,activationMode:d,children:a.jsx(qe.div,{dir:p,"data-orientation":l,...f,ref:t})})});n5.displayName=Jm;var a5="TabsList",i5=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,s=pS(a5,r),l=r5(r);return a.jsx(zR,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(qe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});i5.displayName=a5;var s5="TabsTrigger",o5=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,l=pS(s5,r),u=r5(r),d=u5(l.baseId,n),f=d5(l.baseId,n),p=n===l.value;return a.jsx(UR,{asChild:!0,...u,focusable:!i,active:p,children:a.jsx(qe.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...s,ref:t,onMouseDown:Ae(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?l.onValueChange(n):h.preventDefault()}),onKeyDown:Ae(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&l.onValueChange(n)}),onFocus:Ae(e.onFocus,()=>{const h=l.activationMode!=="manual";!p&&!i&&h&&l.onValueChange(n)})})})});o5.displayName=s5;var l5="TabsContent",c5=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...l}=e,u=pS(l5,r),d=u5(u.baseId,n),f=d5(u.baseId,n),p=n===u.value,h=w.useRef(p);return w.useEffect(()=>{const v=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(v)},[]),a.jsx(rn,{present:i||p,children:({present:v})=>a.jsx(qe.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:v&&s})})});c5.displayName=l5;function u5(e,t){return`${e}-trigger-${t}`}function d5(e,t){return`${e}-content-${t}`}var she=n5,ohe=i5,lhe=o5,che=c5;function ev({className:e,...t}){return a.jsx(she,{"data-slot":"tabs",className:Ie("flex flex-col gap-2",e),...t})}function tv({className:e,...t}){return a.jsx(ohe,{"data-slot":"tabs-list",className:Ie("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function ii({className:e,...t}){return a.jsx(lhe,{"data-slot":"tabs-trigger",className:Ie("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function si({className:e,...t}){return a.jsx(che,{"data-slot":"tabs-content",className:Ie("flex-1 outline-none",e),...t})}var f5="AlertDialog",[uhe,Ope]=tn(f5,[mL]),Si=mL(),h5=e=>{const{__scopeAlertDialog:t,...r}=e,n=Si(t);return a.jsx(sS,{...n,...r,modal:!0})};h5.displayName=f5;var dhe="AlertDialogTrigger",p5=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Si(r);return a.jsx(AL,{...i,...n,ref:t})});p5.displayName=dhe;var fhe="AlertDialogPortal",m5=e=>{const{__scopeAlertDialog:t,...r}=e,n=Si(t);return a.jsx(oS,{...n,...r})};m5.displayName=fhe;var hhe="AlertDialogOverlay",v5=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Si(r);return a.jsx(Km,{...i,...n,ref:t})});v5.displayName=hhe;var Sl="AlertDialogContent",[phe,mhe]=uhe(Sl),vhe=ZI("AlertDialogContent"),g5=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,s=Si(r),l=w.useRef(null),u=dt(t,l),d=w.useRef(null);return a.jsx(ife,{contentName:Sl,titleName:x5,docsSlug:"alert-dialog",children:a.jsx(phe,{scope:r,cancelRef:d,children:a.jsxs(Ym,{role:"alertdialog",...s,...i,ref:u,onOpenAutoFocus:Ae(i.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[a.jsx(vhe,{children:n}),a.jsx(xhe,{contentRef:l})]})})})});g5.displayName=Sl;var x5="AlertDialogTitle",y5=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Si(r);return a.jsx(TL,{...i,...n,ref:t})});y5.displayName=x5;var b5="AlertDialogDescription",w5=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Si(r);return a.jsx(IL,{...i,...n,ref:t})});w5.displayName=b5;var ghe="AlertDialogAction",j5=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Si(r);return a.jsx(lS,{...i,...n,ref:t})});j5.displayName=ghe;var N5="AlertDialogCancel",S5=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=mhe(N5,r),s=Si(r),l=dt(t,i);return a.jsx(lS,{...s,...n,ref:l})});S5.displayName=N5;var xhe=({contentRef:e})=>{const t=`\`${Sl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Sl}\` by passing a \`${b5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Sl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},yhe=h5,bhe=p5,whe=m5,jhe=v5,Nhe=g5,She=j5,Che=S5,_he=y5,Ehe=w5;function khe({...e}){return a.jsx(yhe,{"data-slot":"alert-dialog",...e})}function Phe({...e}){return a.jsx(bhe,{"data-slot":"alert-dialog-trigger",...e})}function Ohe({...e}){return a.jsx(whe,{"data-slot":"alert-dialog-portal",...e})}function Ahe({className:e,...t}){return a.jsx(jhe,{"data-slot":"alert-dialog-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function The({className:e,...t}){return a.jsxs(Ohe,{children:[a.jsx(Ahe,{}),a.jsx(Nhe,{"data-slot":"alert-dialog-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Ihe({className:e,...t}){return a.jsx("div",{"data-slot":"alert-dialog-header",className:Ie("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Rhe({className:e,...t}){return a.jsx("div",{"data-slot":"alert-dialog-footer",className:Ie("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Dhe({className:e,...t}){return a.jsx(_he,{"data-slot":"alert-dialog-title",className:Ie("text-lg font-semibold",e),...t})}function Mhe({className:e,...t}){return a.jsx(Ehe,{"data-slot":"alert-dialog-description",className:Ie("text-muted-foreground text-sm",e),...t})}function $he({className:e,...t}){return a.jsx(She,{className:Ie(Su(),e),...t})}function Lhe({className:e,...t}){return a.jsx(Che,{className:Ie(Su({variant:"outline"}),e),...t})}const Ph=[{id:"1",name:"Головной офис",level:0,children:[{id:"1.1",name:"Финансовый департамент",parentId:"1",level:1},{id:"1.2",name:"Коммерческий департамент",parentId:"1",level:1}]},{id:"2",name:"Элеватор Алматы",level:0},{id:"3",name:"Элеватор Астана",level:0}],gw=["Ведущий специалист по учету","Специалист по учету","Бухгалтер-аналитик","Старший бухгалтер","Главный бухгалтер"],qI=[{id:"1",expenseItemId:"1",expenseItemCode:"001",expenseItemName:"Закуп товара (EXW)",expenseItemPath:"001 Закуп товара (EXW)",orgUnitId:"1.1",orgUnitName:"Финансовый департамент",registrarPosition:"Ведущий специалист по учету",priority:1,effectiveFrom:"2025-01-01",effectiveTo:"2025-12-31",status:"active",createdBy:"admin",createdByName:"Администратор",createdAt:"2025-12-01T10:00:00Z"},{id:"2",expenseItemId:"4",expenseItemCode:"004",expenseItemName:"Автомобильные перевозки",expenseItemPath:"004 Автомобильные перевозки",registrarPosition:"Бухгалтер-аналитик",priority:2,effectiveFrom:"2025-07-01",status:"active",createdBy:"admin",createdByName:"Администратор",createdAt:"2025-11-15T14:30:00Z"},{id:"3",expenseItemId:"6",expenseItemCode:"006",expenseItemName:"Лабораторные услуги",expenseItemPath:"006 Лабораторные услуги",orgUnitId:"1.2",orgUnitName:"Коммерческий департамент",registrarPosition:"Специалист по учету",priority:1,effectiveFrom:"2025-01-01",status:"active",createdBy:"admin",createdByName:"Администратор",createdAt:"2025-11-20T09:15:00Z"}];function Fhe({onBack:e}={}){const{items:t}=_t("expense-articles"),[r,n]=w.useState(qI),[i,s]=w.useState(qI),[l,u]=w.useState([]),[d,f]=w.useState(!1),[p,h]=w.useState(!1),[v,b]=w.useState(null),[j,y]=w.useState(!1),[g,S]=w.useState({expenseItem:"",orgUnit:"",status:"all",position:"all-positions",effectiveDate:new Date}),[C,_]=w.useState({expenseItemId:"",orgUnitId:"all-units",registrarPosition:"",priority:1,effectiveFrom:new Date,effectiveTo:null}),[O,N]=w.useState({expenseItemId:"",orgUnitId:"all-units",asOfDate:new Date}),[k,A]=w.useState([]);w.useEffect(()=>{let $=r.filter(Q=>{if(g.status!=="all"&&Q.status!==g.status||g.expenseItem&&!Q.expenseItemPath.toLowerCase().includes(g.expenseItem.toLowerCase())||g.orgUnit&&Q.orgUnitName&&!Q.orgUnitName.toLowerCase().includes(g.orgUnit.toLowerCase())||g.position&&g.position!=="all-positions"&&Q.registrarPosition!==g.position)return!1;const J=Qe(g.effectiveDate,"yyyy-MM-dd");return!(Q.effectiveFrom>J||Q.effectiveTo&&Q.effectiveTo<J)});s($)},[r,g]);const R=async()=>{try{y(!0);const $={id:Date.now().toString(),expenseItemId:C.expenseItemId,expenseItemCode:V(C.expenseItemId),expenseItemName:B(C.expenseItemId),expenseItemPath:q(C.expenseItemId),orgUnitId:C.orgUnitId&&C.orgUnitId!=="all-units"?C.orgUnitId:void 0,orgUnitName:C.orgUnitId&&C.orgUnitId!=="all-units"?K(C.orgUnitId):void 0,registrarPosition:C.registrarPosition,priority:C.priority,effectiveFrom:Qe(C.effectiveFrom,"yyyy-MM-dd"),effectiveTo:C.effectiveTo?Qe(C.effectiveTo,"yyyy-MM-dd"):void 0,status:"active",createdBy:"current-user",createdByName:"Текущий пользователь",createdAt:new Date().toISOString()};n(Q=>[$,...Q]),f(!1),T(),fe.success("Назначение регистратора создано")}catch($){console.error("Error creating assignment:",$),fe.error("Ошибка создания назначения")}finally{y(!1)}},I=async()=>{if(v)try{y(!0);const $={...v,expenseItemId:C.expenseItemId,expenseItemCode:V(C.expenseItemId),expenseItemName:B(C.expenseItemId),expenseItemPath:q(C.expenseItemId),orgUnitId:C.orgUnitId&&C.orgUnitId!=="all-units"?C.orgUnitId:void 0,orgUnitName:C.orgUnitId&&C.orgUnitId!=="all-units"?K(C.orgUnitId):void 0,registrarPosition:C.registrarPosition,priority:C.priority,effectiveFrom:Qe(C.effectiveFrom,"yyyy-MM-dd"),effectiveTo:C.effectiveTo?Qe(C.effectiveTo,"yyyy-MM-dd"):void 0};n(Q=>Q.map(J=>J.id===v.id?$:J)),b(null),T(),fe.success("Назначение регистратора обновлено")}catch($){console.error("Error updating assignment:",$),fe.error("Ошибка обновления назначения")}finally{y(!1)}},L=$=>{_({expenseItemId:$.expenseItemId,orgUnitId:$.orgUnitId||"all-units",registrarPosition:$.registrarPosition,priority:$.priority,effectiveFrom:new Date,effectiveTo:null}),f(!0)},U=async $=>{try{n(Q=>Q.map(J=>J.id===$?{...J,status:"archived"}:J)),fe.success("Назначение архивировано")}catch(Q){console.error("Error archiving assignment:",Q),fe.error("Ошибка архивирования назначения")}},W=()=>{const $=i.map(Q=>({"Код статьи":Q.expenseItemCode,"Статья расходов":Q.expenseItemName,Подразделение:Q.orgUnitName||"Все",Должность:Q.registrarPosition,Приоритет:Q.priority,"Действует с":Q.effectiveFrom,"Действует до":Q.effectiveTo||"Бессрочно",Статус:Q.status==="active"?"Активно":"Архив",Создал:Q.createdByName,"Дата создания":Qe(new Date(Q.createdAt),"dd.MM.yyyy HH:mm",{locale:ft})}));console.log("Exporting CSV:",$),fe.success("Экспорт завершен")},H=()=>{fe.success("Импорт шаблона загружен")},G=async()=>{try{y(!0),A([{expenseItemId:"1",expenseItemName:"Закуп товара (EXW)",orgUnitId:"1.1",orgUnitName:"Финансовый департамент",registrarName:"Иванова А.С.",registrarPosition:"Ведущий специалист по учету",priority:1,effectiveFrom:"2025-01-01",effectiveTo:"2025-12-31"}]),fe.success("Данные об ответственных загружены")}catch($){console.error("Error looking up responsibles:",$),fe.error("Ошибка загрузки данных об ответственных")}finally{y(!1)}},T=()=>{_({expenseItemId:"",orgUnitId:"all-units",registrarPosition:"",priority:1,effectiveFrom:new Date,effectiveTo:null})},D=$=>{b($),_({expenseItemId:$.expenseItemId,orgUnitId:$.orgUnitId||"all-units",registrarPosition:$.registrarPosition,priority:$.priority,effectiveFrom:new Date($.effectiveFrom),effectiveTo:$.effectiveTo?new Date($.effectiveTo):null})},V=$=>{const Q=t.find(J=>J.id===$);return Q?Q.code:""},B=$=>{const Q=t.find(J=>J.id===$);return Q?Q.name:""},q=$=>{const Q=t.find(J=>J.id===$);return Q?`${Q.code} ${Q.name}`:""},K=$=>{const Q=J=>{for(const le of J){if(le.id===$)return le.name;if(le.children){const Y=Q(le.children);if(Y)return Y}}return""};return Q(Ph)},z=($,Q)=>$.filter(J=>J.isActive).map(J=>a.jsx(is,{className:"cursor-pointer",onSelect:()=>Q(J),children:a.jsxs("span",{children:[J.code," ",J.name]})},J.id)),F=($,Q)=>$.map(J=>a.jsxs("div",{children:[a.jsx(is,{className:"cursor-pointer",onSelect:()=>Q(J),children:a.jsxs("span",{style:{paddingLeft:`${J.level*16}px`},children:[J.children?a.jsx(Pw,{className:"w-4 h-4 inline mr-1"}):a.jsx("span",{className:"w-5 inline-block"}),J.name]})}),J.children&&F(J.children,Q)]},J.id));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[e&&a.jsx(ne,{variant:"ghost",onClick:e,className:"pl-0",children:"← Н��зад"}),a.jsxs("div",{children:[a.jsx("h2",{children:"Назначения регистраторов"}),a.jsx("p",{className:"text-muted-foreground",children:"Управление назначениями регистраторов по статьям расходов"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ne,{variant:"outline",onClick:H,children:[a.jsx(rm,{className:"w-4 h-4 mr-2"}),"Импорт"]}),a.jsxs(ne,{variant:"outline",onClick:W,children:[a.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Экспорт"]}),a.jsxs(gi,{open:d,onOpenChange:f,children:[a.jsx(gd,{asChild:!0,children:a.jsxs(ne,{onClick:()=>{T(),b(null)},children:[a.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Создать назначение"]})}),a.jsxs(Ma,{className:"max-w-2xl",children:[a.jsxs(xi,{children:[a.jsx(yi,{children:v?"Редактировать назначение":"Создать назначение регистратора"}),a.jsx(vs,{children:v?"Измените параметры назначения регистратора для выбранной статьи расходов.":"Создайте новое назначение регистратора для обработки заявок по определенной статье расходов."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Статья расходов *"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:"w-full justify-between",children:[C.expenseItemId?q(C.expenseItemId):"Выберите статью",a.jsx(ma,{className:"w-4 h-4"})]})}),a.jsx(zr,{className:"w-96 p-0",children:a.jsxs(es,{children:[a.jsx(ts,{placeholder:"Поиск статьи..."}),a.jsx(ns,{children:"Статья не найдена"}),a.jsx(rs,{className:"max-h-64",children:a.jsx(Ja,{children:z(t,$=>{_(Q=>({...Q,expenseItemId:$.id}))})})})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Подразделение"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:"w-full justify-between",children:[C.orgUnitId&&C.orgUnitId!=="all-units"?K(C.orgUnitId):"Все подразделения",a.jsx(ma,{className:"w-4 h-4"})]})}),a.jsx(zr,{className:"w-80 p-0",children:a.jsxs(es,{children:[a.jsx(ts,{placeholder:"Поиск подразделения..."}),a.jsx(ns,{children:"Подразделение не найдено"}),a.jsx(rs,{className:"max-h-64",children:a.jsxs(Ja,{children:[a.jsx(is,{onSelect:()=>_($=>({...$,orgUnitId:"all-units"})),children:"Все подразделения"}),F(Ph,$=>{_(Q=>({...Q,orgUnitId:$.id}))})]})})]})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Должность регистратора *"}),a.jsxs(ot,{value:C.registrarPosition,onValueChange:$=>_(Q=>({...Q,registrarPosition:$})),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите должность"})}),a.jsx(ut,{children:gw.map($=>a.jsx(we,{value:$,children:$},$))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Приоритет"}),a.jsxs(ot,{value:C.priority.toString(),onValueChange:$=>_(Q=>({...Q,priority:parseInt($)})),children:[a.jsx(ct,{children:a.jsx(lt,{})}),a.jsxs(ut,{children:[a.jsx(we,{value:"1",children:"1 (Высший)"}),a.jsx(we,{value:"2",children:"2 (Высокий)"}),a.jsx(we,{value:"3",children:"3 (Средний)"}),a.jsx(we,{value:"4",children:"4 (Низкий)"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Действует с *"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:"w-full justify-start",children:[a.jsx(Gs,{className:"w-4 h-4 mr-2"}),Qe(C.effectiveFrom,"dd.MM.yyyy",{locale:ft})]})}),a.jsx(zr,{className:"w-auto p-0",children:a.jsx(Qs,{mode:"single",selected:C.effectiveFrom,onSelect:$=>$&&_(Q=>({...Q,effectiveFrom:$})),locale:ft})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Действует до"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:"w-full justify-start",children:[a.jsx(Gs,{className:"w-4 h-4 mr-2"}),C.effectiveTo?Qe(C.effectiveTo,"dd.MM.yyyy",{locale:ft}):"Бессрочно"]})}),a.jsx(zr,{className:"w-auto p-0",children:a.jsx(Qs,{mode:"single",selected:C.effectiveTo||void 0,onSelect:$=>_(Q=>({...Q,effectiveTo:$||null})),locale:ft})})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ne,{variant:"outline",onClick:()=>{f(!1),b(null),T()},children:"Отмена"}),a.jsx(ne,{onClick:v?I:R,disabled:!C.expenseItemId||!C.registrarPosition||j,children:j?"Сохранение...":v?"Обновить":"Создать"})]})]})]})]})]})]}),a.jsxs(ev,{defaultValue:"assignments",className:"space-y-4",children:[a.jsxs(tv,{children:[a.jsx(ii,{value:"assignments",children:"Назначения"}),a.jsx(ii,{value:"lookup",children:"Просмотр на дату"})]}),a.jsxs(si,{value:"assignments",className:"space-y-4",children:[a.jsx(pe,{children:a.jsx(me,{className:"pt-6",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Статья расходов"}),a.jsx(He,{placeholder:"Поиск по статье...",value:g.expenseItem,onChange:$=>S(Q=>({...Q,expenseItem:$.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Подразделение"}),a.jsx(He,{placeholder:"Поиск по подразделению...",value:g.orgUnit,onChange:$=>S(Q=>({...Q,orgUnit:$.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Статус"}),a.jsxs(ot,{value:g.status,onValueChange:$=>S(Q=>({...Q,status:$})),children:[a.jsx(ct,{children:a.jsx(lt,{})}),a.jsxs(ut,{children:[a.jsx(we,{value:"all",children:"Все"}),a.jsx(we,{value:"active",children:"Активные"}),a.jsx(we,{value:"archived",children:"Архив"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Должность"}),a.jsxs(ot,{value:g.position,onValueChange:$=>S(Q=>({...Q,position:$})),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Все должности"})}),a.jsxs(ut,{children:[a.jsx(we,{value:"all-positions",children:"Все должности"}),gw.map($=>a.jsx(we,{value:$,children:$},$))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"На дату"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:"w-full justify-start",children:[a.jsx(Gs,{className:"w-4 h-4 mr-2"}),Qe(g.effectiveDate,"dd.MM.yyyy",{locale:ft})]})}),a.jsx(zr,{className:"w-auto p-0",children:a.jsx(Qs,{mode:"single",selected:g.effectiveDate,onSelect:$=>$&&S(Q=>({...Q,effectiveDate:$})),locale:ft})})]})]})]})})}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Pe,{children:["Назначения (",i.length,")"]}),l.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Выбрано: ",l.length]}),a.jsxs(ne,{variant:"outline",size:"sm",children:[a.jsx(I2,{className:"w-4 h-4 mr-2"}),"Архивировать"]})]})]})}),a.jsxs(me,{children:[a.jsxs(xn,{children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{className:"w-12",children:a.jsx(c1,{checked:l.length===i.length,onCheckedChange:$=>{u($?i.map(Q=>Q.id):[])}})}),a.jsx(_e,{children:"Статья расходов"}),a.jsx(_e,{children:"Подразделение"}),a.jsx(_e,{children:"Должность"}),a.jsx(_e,{className:"w-20",children:"Приоритет"}),a.jsx(_e,{children:"Период действия"}),a.jsx(_e,{className:"w-20",children:"Статус"}),a.jsx(_e,{children:"Создал"}),a.jsx(_e,{className:"w-12"})]})}),a.jsx(bn,{children:i.map($=>a.jsxs(It,{children:[a.jsx(Ee,{children:a.jsx(c1,{checked:l.includes($.id),onCheckedChange:Q=>{u(Q?J=>[...J,$.id]:J=>J.filter(le=>le!==$.id))}})}),a.jsx(Ee,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pw,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:$.expenseItemCode})]}),a.jsx("div",{className:"text-sm text-muted-foreground ml-6",children:$.expenseItemName})]})}),a.jsx(Ee,{children:$.orgUnitName||a.jsx("span",{className:"text-muted-foreground italic",children:"Все подразделения"})}),a.jsx(Ee,{children:$.registrarPosition}),a.jsx(Ee,{children:a.jsx(Ne,{variant:"outline",children:$.priority})}),a.jsx(Ee,{children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{children:Qe(new Date($.effectiveFrom),"dd.MM.yyyy",{locale:ft})}),a.jsx("div",{className:"text-muted-foreground",children:$.effectiveTo?`до ${Qe(new Date($.effectiveTo),"dd.MM.yyyy",{locale:ft})}`:"бессрочно"})]})}),a.jsx(Ee,{children:a.jsx(Ne,{variant:$.status==="active"?"default":"secondary",children:$.status==="active"?"Активно":"Архив"})}),a.jsx(Ee,{children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{children:$.createdByName}),a.jsx("div",{className:"text-muted-foreground",children:Qe(new Date($.createdAt),"dd.MM.yy HH:mm",{locale:ft})})]})}),a.jsx(Ee,{children:a.jsxs(Iw,{children:[a.jsx(Rw,{asChild:!0,children:a.jsx(ne,{variant:"ghost",size:"sm",children:a.jsx(ID,{className:"w-4 h-4"})})}),a.jsxs(Dw,{align:"end",children:[a.jsxs(Zs,{onClick:()=>D($),children:[a.jsx(ga,{className:"w-4 h-4 mr-2"}),"Редактировать"]}),a.jsxs(Zs,{onClick:()=>L($),children:[a.jsx(nW,{className:"w-4 h-4 mr-2"}),"Дублировать"]}),a.jsxs(Zs,{children:[a.jsx(yW,{className:"w-4 h-4 mr-2"}),"История"]}),a.jsx(pn,{}),a.jsxs(khe,{children:[a.jsx(Phe,{asChild:!0,children:a.jsxs(Zs,{onSelect:Q=>Q.preventDefault(),children:[a.jsx(I2,{className:"w-4 h-4 mr-2"}),"Архивировать"]})}),a.jsxs(The,{children:[a.jsxs(Ihe,{children:[a.jsx(Dhe,{children:"Архивировать назначение?"}),a.jsx(Mhe,{children:"Назначение будет перемещено в архив и станет неактивным."})]}),a.jsxs(Rhe,{children:[a.jsx(Lhe,{children:"Отмена"}),a.jsx($he,{onClick:()=>U($.id),children:"Архивировать"})]})]})]})]})]})})]},$.id))})]}),i.length===0&&a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Назначения не найдены"})]})]})]}),a.jsx(si,{value:"lookup",className:"space-y-4",children:a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsx(Pe,{children:"Просмотр ответственных на дату"})}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Статья расходов"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:"w-full justify-between",children:[O.expenseItemId?q(O.expenseItemId):"Выберите статью",a.jsx(ma,{className:"w-4 h-4"})]})}),a.jsx(zr,{className:"w-96 p-0",children:a.jsxs(es,{children:[a.jsx(ts,{placeholder:"Поиск статьи..."}),a.jsx(ns,{children:"Статья не найдена"}),a.jsx(rs,{className:"max-h-64",children:a.jsx(Ja,{children:z(t,$=>{N(Q=>({...Q,expenseItemId:$.id}))})})})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Подразделение"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:"w-full justify-between",children:[O.orgUnitId&&O.orgUnitId!=="all-units"?K(O.orgUnitId):"Все подразделения",a.jsx(ma,{className:"w-4 h-4"})]})}),a.jsx(zr,{className:"w-80 p-0",children:a.jsxs(es,{children:[a.jsx(ts,{placeholder:"Поиск подразделения..."}),a.jsx(ns,{children:"Подразделение не найдено"}),a.jsx(rs,{className:"max-h-64",children:a.jsxs(Ja,{children:[a.jsx(is,{onSelect:()=>N($=>({...$,orgUnitId:"all-units"})),children:"Все подразделения"}),F(Ph,$=>{N(Q=>({...Q,orgUnitId:$.id}))})]})})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"На дату"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:"w-full justify-start",children:[a.jsx(Gs,{className:"w-4 h-4 mr-2"}),Qe(O.asOfDate,"dd.MM.yyyy",{locale:ft})]})}),a.jsx(zr,{className:"w-auto p-0",children:a.jsx(Qs,{mode:"single",selected:O.asOfDate,onSelect:$=>$&&N(Q=>({...Q,asOfDate:$})),locale:ft})})]})]})]}),a.jsxs(ne,{onClick:G,disabled:j,children:[a.jsx(La,{className:"w-4 h-4 mr-2"}),j?"Поиск...":"Найти ответственных"]}),k.length>0&&a.jsxs(xn,{children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{children:"Статья расходов"}),a.jsx(_e,{children:"Подразделение"}),a.jsx(_e,{children:"Ответственный"}),a.jsx(_e,{children:"Должность"}),a.jsx(_e,{children:"Приоритет"}),a.jsx(_e,{children:"Период действия"})]})}),a.jsx(bn,{children:k.map(($,Q)=>a.jsxs(It,{children:[a.jsx(Ee,{children:$.expenseItemName}),a.jsx(Ee,{children:$.orgUnitName||a.jsx("span",{className:"text-muted-foreground italic",children:"Все подразделения"})}),a.jsx(Ee,{children:$.registrarName}),a.jsx(Ee,{children:$.registrarPosition}),a.jsx(Ee,{children:a.jsx(Ne,{variant:"outline",children:$.priority})}),a.jsx(Ee,{children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{children:Qe(new Date($.effectiveFrom),"dd.MM.yyyy",{locale:ft})}),a.jsx("div",{className:"text-muted-foreground",children:$.effectiveTo?`до ${Qe(new Date($.effectiveTo),"dd.MM.yyyy",{locale:ft})}`:"бессрочно"})]})})]},Q))})]})]})]})})]}),v&&a.jsx(gi,{open:!!v,onOpenChange:$=>!$&&b(null),children:a.jsxs(Ma,{className:"max-w-2xl",children:[a.jsx(xi,{children:a.jsx(yi,{children:"Редактировать назначение регистратора"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Статья расходов *"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:"w-full justify-between",children:[C.expenseItemId?q(C.expenseItemId):"Выберите статью",a.jsx(ma,{className:"w-4 h-4"})]})}),a.jsx(zr,{className:"w-96 p-0",children:a.jsxs(es,{children:[a.jsx(ts,{placeholder:"Поиск статьи..."}),a.jsx(ns,{children:"Статья не найдена"}),a.jsx(rs,{className:"max-h-64",children:a.jsx(Ja,{children:z(t,$=>{_(Q=>({...Q,expenseItemId:$.id}))})})})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Подразделение"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:"w-full justify-between",children:[C.orgUnitId?K(C.orgUnitId):"Все подразделения",a.jsx(ma,{className:"w-4 h-4"})]})}),a.jsx(zr,{className:"w-80 p-0",children:a.jsxs(es,{children:[a.jsx(ts,{placeholder:"Поиск подразделения..."}),a.jsx(ns,{children:"Подразделение не найдено"}),a.jsx(rs,{className:"max-h-64",children:a.jsxs(Ja,{children:[a.jsx(is,{onSelect:()=>_($=>({...$,orgUnitId:""})),children:"Все подразделения"}),F(Ph,$=>{_(Q=>({...Q,orgUnitId:$.id}))})]})})]})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Должность регистратора *"}),a.jsxs(ot,{value:C.registrarPosition,onValueChange:$=>_(Q=>({...Q,registrarPosition:$})),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите должность"})}),a.jsx(ut,{children:gw.map($=>a.jsx(we,{value:$,children:$},$))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Приоритет"}),a.jsxs(ot,{value:C.priority.toString(),onValueChange:$=>_(Q=>({...Q,priority:parseInt($)})),children:[a.jsx(ct,{children:a.jsx(lt,{})}),a.jsxs(ut,{children:[a.jsx(we,{value:"1",children:"1 (Высший)"}),a.jsx(we,{value:"2",children:"2 (Высокий)"}),a.jsx(we,{value:"3",children:"3 (Средний)"}),a.jsx(we,{value:"4",children:"4 (Низкий)"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Действует с *"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:"w-full justify-start",children:[a.jsx(Gs,{className:"w-4 h-4 mr-2"}),Qe(C.effectiveFrom,"dd.MM.yyyy",{locale:ft})]})}),a.jsx(zr,{className:"w-auto p-0",children:a.jsx(Qs,{mode:"single",selected:C.effectiveFrom,onSelect:$=>$&&_(Q=>({...Q,effectiveFrom:$})),locale:ft})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Действует до"}),a.jsxs(Fr,{children:[a.jsx(Br,{asChild:!0,children:a.jsxs(ne,{variant:"outline",className:"w-full justify-start",children:[a.jsx(Gs,{className:"w-4 h-4 mr-2"}),C.effectiveTo?Qe(C.effectiveTo,"dd.MM.yyyy",{locale:ft}):"Бессрочно"]})}),a.jsx(zr,{className:"w-auto p-0",children:a.jsx(Qs,{mode:"single",selected:C.effectiveTo||void 0,onSelect:$=>_(Q=>({...Q,effectiveTo:$||null})),locale:ft})})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ne,{variant:"outline",onClick:()=>b(null),children:"Отмена"}),a.jsx(ne,{onClick:I,disabled:!C.expenseItemId||!C.registrarPosition||j,children:j?"Сохранение...":"Обновить"})]})]})]})})]})}function Bhe({onViewRequest:e,paymentRequests:t}){const[r,n]=w.useState([]),[i,s]=w.useState([]),[l,u]=w.useState(!0),[d,f]=w.useState(""),[p,h]=w.useState(!1),[v,b]=w.useState("all"),[j,y]=w.useState(""),[g,S]=w.useState(""),[C,_]=w.useState([]);w.useEffect(()=>{O()},[]),w.useEffect(()=>{N()},[r,d,p,v,j,g]);const O=async()=>{try{if(u(!0),t&&t.length>0)n(t);else{const U=await cl.getRequestsWithChiefAssignment("distributor");n(U)}const L=await fl.getCounterparties();_(L)}catch(L){console.error("Failed to load data:",L),fe.error("Ошибка загрузки данных")}finally{u(!1)}},N=()=>{let L=[...r];d&&(L=L.filter(U=>U.requestNumber?.toLowerCase().includes(d.toLowerCase())||U.description.toLowerCase().includes(d.toLowerCase())||k(U.counterpartyId).toLowerCase().includes(d.toLowerCase()))),p&&(L=L.filter(U=>U.isAssignedToChief)),v&&v!=="all"&&(L=L.filter(U=>U.counterpartyId===v)),j&&(L=L.filter(U=>U.createdAt>=j)),g&&(L=L.filter(U=>U.createdAt<=g)),s(L)},k=L=>C.find(W=>W.id===L)?.name||"Неизвестно",A=(L,U)=>new Intl.NumberFormat("ru-KZ",{style:"currency",currency:U==="KZT"?"KZT":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(L),R=L=>{const U=new Date(L),W=new Date,H=Math.ceil((U.getTime()-W.getTime())/(1e3*60*60*24));return H<0?a.jsx(jt,{className:"h-4 w-4 text-red-500"}):H<=3?a.jsx(er,{className:"h-4 w-4 text-orange-500"}):null},I=L=>L.expenseSplits?.length||0;return l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Заявки к согласованию"}),a.jsx("p",{className:"text-muted-foreground",children:"Классифицированные заявки для распределения по контрактам"})]}),a.jsxs(Ne,{variant:"outline",className:"text-sm",children:[i.length," из ",r.length]})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"h-5 w-5"}),"Фильтры"]})}),a.jsxs(me,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Поиск"}),a.jsxs("div",{className:"relative",children:[a.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(He,{placeholder:"Номер, описание, контрагент...",value:d,onChange:L=>f(L.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Контрагент"}),a.jsxs(ot,{value:v,onValueChange:b,children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Все контрагенты"})}),a.jsxs(ut,{children:[a.jsx(we,{value:"all",children:"Все контрагенты"}),C.map(L=>a.jsx(we,{value:L.id,children:L.name},L.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Дата с"}),a.jsx(He,{type:"date",value:j,onChange:L=>y(L.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Дата по"}),a.jsx(He,{type:"date",value:g,onChange:L=>S(L.target.value)})]})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(c1,{id:"onlyAssigned",checked:p,onCheckedChange:h}),a.jsx("label",{htmlFor:"onlyAssigned",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Только закрепленные статьи"})]}),p&&a.jsxs(Ne,{variant:"secondary",className:"text-xs",children:[a.jsx(Tw,{className:"h-3 w-3 mr-1"}),"Главный распорядитель"]})]})]})]}),a.jsx(pe,{children:a.jsxs(me,{className:"p-0",children:[a.jsxs(xn,{children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{className:"w-[120px]",children:"№ заявки"}),a.jsx(_e,{children:"Контрагент"}),a.jsx(_e,{className:"text-right",children:"Сумма"}),a.jsx(_e,{children:"Срок"}),a.jsx(_e,{className:"text-center",children:"Позиций"}),a.jsx(_e,{className:"text-center",children:"Закрепление"}),a.jsx(_e,{children:"Приоритет"}),a.jsx(_e,{className:"w-[100px]",children:"Действия"})]})}),a.jsx(bn,{children:i.map(L=>a.jsxs(It,{className:"hover:bg-muted/50",children:[a.jsx(Ee,{className:"font-medium",children:L.requestNumber}),a.jsx(Ee,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:k(L.counterpartyId)}),a.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:L.description})]})}),a.jsx(Ee,{className:"text-right",children:a.jsx("div",{className:"font-medium",children:A(L.amount,L.currency)})}),a.jsx(Ee,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[R(L.dueDate),a.jsx("span",{className:"text-sm",children:new Date(L.dueDate).toLocaleDateString("ru-RU")})]})}),a.jsx(Ee,{className:"text-center",children:a.jsx(Ne,{variant:"outline",children:I(L)})}),a.jsx(Ee,{className:"text-center",children:L.isAssignedToChief?a.jsxs(Ne,{variant:"secondary",className:"text-xs",children:[a.jsx(Tw,{className:"h-3 w-3 mr-1"}),"Закреплено"]}):a.jsx("span",{className:"text-muted-foreground text-sm",children:"Нет"})}),a.jsx(Ee,{children:L.priority&&a.jsx(Ne,{variant:"outline",className:"text-xs",children:L.priority})}),a.jsx(Ee,{children:a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(L.id),className:"h-8 w-8 p-0",children:a.jsx(fs,{className:"h-4 w-4"})})})]},L.id))})]}),i.length===0&&a.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[a.jsx("p",{children:"Заявки не найдены"}),p&&a.jsx("p",{className:"text-sm mt-2",children:'Попробуйте снять фильтр "Только закрепленные статьи"'})]})]})})]})}const zhe=({onRequestUpdate:e})=>{const[t,r]=w.useState([]),[n,i]=w.useState([]),[s,l]=w.useState(new Map),[u,d]=w.useState(!1),[f,p]=w.useState(!1),[h,v]=w.useState(null),[b,j]=w.useState("");w.useEffect(()=>{y()},[]);const y=async()=>{try{d(!0);const[_,O]=await Promise.all([nx.getDistributorRequests(),pu.getExportContracts()]);r(_.requests),i(O.contracts);const N=new Map;for(const k of _.requests)try{const A=await nx.getEnrichedRequest(k.id);N.set(k.id,A)}catch(A){console.error("Error loading enriched data for request:",k.id,A)}l(N)}catch(_){console.error("Error loading data:",_),fe.error("Ошибка загрузки данных")}finally{d(!1)}},g=async _=>{if(!b){fe.error("Выберите экспортный контракт");return}try{p(!0),await nx.linkExportContract(_.id,{exportContractId:b});const O=n.find(N=>N.id===b);O&&ao.notifyExportContractLinked(_.id,`Заявка ${_.id.slice(0,8)}`,O.contractNumber),fe.success("Экспортный контракт успешно привязан"),await y(),e&&e()}catch(O){console.error("Error linking contract:",O),fe.error("Ошибка привязки контракта")}finally{p(!1),v(null),j("")}},S=_=>{switch(_.status){case"PENDING":return a.jsx(Ne,{variant:"outline",children:"Ожидает"});case"LINKED":return a.jsx(Ne,{variant:"default",children:"Привязан"});default:return a.jsx(Ne,{variant:"secondary",children:_.status})}},C=_=>{const O=s.get(_.id);return O?O.subRegistrarReport?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[a.jsx(nt,{className:"h-4 w-4"}),a.jsx("span",{children:"Обогащён данными от суб-регистратора"})]}):a.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-600",children:[a.jsx(er,{className:"h-4 w-4"}),a.jsx("span",{children:"Ожидает отчёта от суб-регистратора"})]}):null};return u?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx(Ca,{className:"h-8 w-8 animate-spin"}),a.jsx("span",{className:"ml-2",children:"Загрузка заявок..."})]}):t.length===0?a.jsx(pe,{children:a.jsxs(me,{className:"p-8 text-center",children:[a.jsx(Nt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Нет заявок"}),a.jsx("p",{className:"text-muted-foreground",children:"У вас пока нет заявок для обработки"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"h-5 w-5"}),"Мои заявки"]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-4",children:t.map(_=>{const O=s.get(_.id),N=_.status==="LINKED";return a.jsx(pe,{className:`border-l-4 ${N?"border-l-green-500":"border-l-blue-500"}`,children:a.jsxs(me,{className:"pt-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-medium",children:["Заявка ",_.id.slice(0,8)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Сумма:"}),a.jsx("span",{className:"text-sm",children:_.amount})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Статус:"}),S(_)]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Создано: ",new Date(_.createdAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{className:"text-sm font-medium",children:"Статус обогащения"}),C(_),O?.subRegistrarReport&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.jsxs("div",{children:["Статус документов: ",O.subRegistrarReport.documentStatus]}),a.jsxs("div",{children:["Отчёт: ",O.subRegistrarReport.status==="published"?"Опубликован":"Черновик"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{className:"text-sm font-medium",children:"Экспортный контракт"}),N?a.jsxs("div",{className:"text-sm text-green-600",children:[a.jsx(nt,{className:"h-4 w-4 inline mr-1"}),"Привязан"]}):a.jsxs(ot,{value:b,onValueChange:j,disabled:!O?.subRegistrarReport,children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите контракт"})}),a.jsx(ut,{children:n.map(k=>a.jsxs(we,{value:k.id,children:[k.contractNumber," - ",k.contractDate]},k.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ne,{size:"sm",onClick:()=>g(_),disabled:f||N||!O?.subRegistrarReport||!b,className:"flex items-center gap-1",children:[f?a.jsx(Ca,{className:"h-3 w-3 animate-spin"}):a.jsx(CW,{className:"h-3 w-3"}),"Привязать контракт"]}),a.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>v(_),className:"flex items-center gap-1",children:[a.jsx(fs,{className:"h-3 w-3"}),"Подробнее"]})]}),O?.exportLinks&&O.exportLinks.length>0&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.jsxs("div",{children:["Привязанных контрактов: ",O.exportLinks.length]}),a.jsxs("div",{children:["Последняя привязка: ",new Date(O.exportLinks[0].linkedAt).toLocaleDateString()]})]})]})]}),O?.subRegistrarReport&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-md",children:[a.jsx("h5",{className:"text-sm font-medium mb-2",children:"Данные от суб-регистратора"}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsxs("div",{children:["Статус документов: ",O.subRegistrarReport.documentStatus]}),a.jsxs("div",{children:["Статус отчёта: ",O.subRegistrarReport.status==="published"?"Опубликован":"Черновик"]}),O.subRegistrarReport.publishedAt&&a.jsxs("div",{children:["Дата публикации: ",new Date(O.subRegistrarReport.publishedAt).toLocaleDateString()]}),O.subRegistrarReport.reportData&&a.jsxs("div",{children:["Дополнительные данные: ",JSON.stringify(O.subRegistrarReport.reportData)]})]})]})]})},_.id)})})})]}),h&&a.jsxs(pe,{className:"fixed inset-4 z-50 bg-background border-2",children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Детали заявки"}),a.jsx(ne,{variant:"outline",size:"sm",onClick:()=>v(null),children:"Закрыть"})]})}),a.jsx(me,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(he,{className:"text-sm font-medium",children:"ID заявки"}),a.jsx("p",{className:"text-sm",children:h.id})]}),a.jsxs("div",{children:[a.jsx(he,{className:"text-sm font-medium",children:"Сумма"}),a.jsx("p",{className:"text-sm",children:h.amount})]}),a.jsxs("div",{children:[a.jsx(he,{className:"text-sm font-medium",children:"Статус"}),a.jsx("div",{className:"mt-1",children:S(h)})]}),a.jsxs("div",{children:[a.jsx(he,{className:"text-sm font-medium",children:"Дата создания"}),a.jsx("p",{className:"text-sm",children:new Date(h.createdAt).toLocaleString()})]})]})})]})]})},Uhe=({onContractSelect:e,selectedContractId:t,showCreateForm:r=!1})=>{const[n,i]=w.useState([]),[s,l]=w.useState(!1),[u,d]=w.useState(!1),[f,p]=w.useState(!1),[h,v]=w.useState(""),[b,j]=w.useState(r),[y,g]=w.useState(null),[S,C]=w.useState({contractNumber:"",contractDate:"",counterpartyId:"",amount:0,currencyCode:"KZT"});w.useEffect(()=>{_()},[]);const _=async()=>{try{l(!0);const I=await pu.getExportContracts();i(I.contracts)}catch(I){console.error("Error loading contracts:",I),fe.error("Ошибка загрузки контрактов")}finally{l(!1)}},O=async()=>{if(!S.contractNumber||!S.contractDate){fe.error("Заполните обязательные поля");return}try{d(!0);const I=await pu.createExportContract(S);i([...n,I]),C({contractNumber:"",contractDate:"",counterpartyId:"",amount:0,currencyCode:"KZT"}),j(!1),fe.success("Контракт создан")}catch(I){console.error("Error creating contract:",I),fe.error("Ошибка создания контракта")}finally{d(!1)}},N=async(I,L)=>{try{p(!0);const U=await pu.updateExportContract(I,L);i(n.map(W=>W.id===I?U:W)),g(null),fe.success("Контракт обновлён")}catch(U){console.error("Error updating contract:",U),fe.error("Ошибка обновления контракта")}finally{p(!1)}},k=async I=>{if(confirm("Вы уверены, что хотите удалить этот контракт?"))try{await pu.deleteExportContract(I),i(n.filter(L=>L.id!==I)),fe.success("Контракт удалён")}catch(L){console.error("Error deleting contract:",L),fe.error("Ошибка удаления контракта")}},A=n.filter(I=>I.contractNumber.toLowerCase().includes(h.toLowerCase())||I.contractDate.includes(h)),R=(I,L)=>{C(U=>({...U,[I]:L}))};return s?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx(Ca,{className:"h-8 w-8 animate-spin"}),a.jsx("span",{className:"ml-2",children:"Загрузка контрактов..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Экспортные контракты"}),a.jsxs(ne,{onClick:()=>j(!b),className:"flex items-center gap-2",children:[a.jsx(Ia,{className:"h-4 w-4"}),"Создать контракт"]})]})}),a.jsxs(me,{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(He,{placeholder:"Поиск по номеру или дате контракта...",value:h,onChange:I=>v(I.target.value),className:"pl-10"})]})}),b&&a.jsxs(pe,{className:"mb-6 border-dashed",children:[a.jsx(ke,{children:a.jsx(Pe,{className:"text-lg",children:"Создать новый контракт"})}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"contractNumber",children:"Номер контракта *"}),a.jsx(He,{id:"contractNumber",value:S.contractNumber,onChange:I=>R("contractNumber",I.target.value),placeholder:"Введите номер контракта"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"contractDate",children:"Дата контракта *"}),a.jsx(He,{id:"contractDate",type:"date",value:S.contractDate,onChange:I=>R("contractDate",I.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"amount",children:"Сумма"}),a.jsx(He,{id:"amount",type:"number",step:"0.01",value:S.amount,onChange:I=>R("amount",parseFloat(I.target.value)||0),placeholder:"0.00"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"currencyCode",children:"Валюта"}),a.jsxs(ot,{value:S.currencyCode,onValueChange:I=>R("currencyCode",I),children:[a.jsx(ct,{children:a.jsx(lt,{})}),a.jsxs(ut,{children:[a.jsx(we,{value:"KZT",children:"KZT"}),a.jsx(we,{value:"USD",children:"USD"}),a.jsx(we,{value:"EUR",children:"EUR"}),a.jsx(we,{value:"RUB",children:"RUB"})]})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ne,{onClick:O,disabled:u,className:"flex items-center gap-2",children:[u?a.jsx(Ca,{className:"h-4 w-4 animate-spin"}):a.jsx(Ia,{className:"h-4 w-4"}),"Создать"]}),a.jsx(ne,{variant:"outline",onClick:()=>j(!1),children:"Отмена"})]})]})]}),a.jsx("div",{className:"space-y-3",children:A.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h?"Контракты не найдены":"Нет контрактов"}):A.map(I=>a.jsx(pe,{className:`cursor-pointer transition-colors ${t===I.id?"ring-2 ring-blue-500":""}`,onClick:()=>e?.(I),children:a.jsx(me,{className:"pt-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium",children:I.contractNumber}),a.jsx(Ne,{variant:I.isActive?"default":"secondary",children:I.isActive?"Активен":"Неактивен"})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Jt,{className:"h-3 w-3"}),new Date(I.contractDate).toLocaleDateString()]}),I.amount&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(wn,{className:"h-3 w-3"}),I.amount," ",I.currencyCode]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{size:"sm",variant:"outline",onClick:L=>{L.stopPropagation(),g(I)},children:a.jsx(ga,{className:"h-3 w-3"})}),a.jsx(ne,{size:"sm",variant:"outline",onClick:L=>{L.stopPropagation(),k(I.id)},children:a.jsx(ei,{className:"h-3 w-3"})})]})]})})},I.id))})]})]}),y&&a.jsxs(pe,{className:"fixed inset-4 z-50 bg-background border-2",children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Редактировать контракт"}),a.jsx(ne,{variant:"outline",size:"sm",onClick:()=>g(null),children:"Закрыть"})]})}),a.jsx(me,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Номер контракта"}),a.jsx(He,{value:y.contractNumber,onChange:I=>g({...y,contractNumber:I.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Дата контракта"}),a.jsx(He,{type:"date",value:y.contractDate,onChange:I=>g({...y,contractDate:I.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Сумма"}),a.jsx(He,{type:"number",step:"0.01",value:y.amount||"",onChange:I=>g({...y,amount:parseFloat(I.target.value)||void 0})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Валюта"}),a.jsxs(ot,{value:y.currencyCode||"KZT",onValueChange:I=>g({...y,currencyCode:I}),children:[a.jsx(ct,{children:a.jsx(lt,{})}),a.jsxs(ut,{children:[a.jsx(we,{value:"KZT",children:"KZT"}),a.jsx(we,{value:"USD",children:"USD"}),a.jsx(we,{value:"EUR",children:"EUR"}),a.jsx(we,{value:"RUB",children:"RUB"})]})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ne,{onClick:()=>N(y.id,{contractNumber:y.contractNumber,contractDate:y.contractDate,amount:y.amount,currencyCode:y.currencyCode}),disabled:f,children:[f?a.jsx(Ca,{className:"h-4 w-4 animate-spin mr-2"}):null,"Сохранить"]}),a.jsx(ne,{variant:"outline",onClick:()=>g(null),children:"Отмена"})]})]})})]})]})};function qhe({request:e,onApprove:t,onApproveOnBehalf:r,onReturn:n,onDecline:i,onCancel:s}){const[l,u]=w.useState("items"),[d,f]=w.useState([]),[p,h]=w.useState("p2"),[v,b]=w.useState(""),[j,y]=w.useState(""),[g,S]=w.useState(""),[C,_]=w.useState(!1),[O,N]=w.useState([]),[k,A]=w.useState([]),[R,I]=w.useState([]),[L,U]=w.useState([]),[W,H]=w.useState([]),[G,T]=w.useState(!1),[D,V]=w.useState(!1);w.useEffect(()=>{B()},[e]),w.useEffect(()=>{q()},[d]);const B=async()=>{try{_(!0);const[te,ae,de,Me]=await Promise.all([fl.getContracts(),fl.getExpenseItems(),fl.getCounterparties(),fl.getPriorities()]);N(te),A(ae),I(de),U(Me),e.paymentAllocations&&f(e.paymentAllocations)}catch(te){console.error("Failed to load data:",te),fe.error("Ошибка загрузки данных")}finally{_(!1)}},q=()=>{const te=[],ae=d.reduce((de,Me)=>de+Me.amount,0);ae!==e.amount&&te.push(`Сумма распределений (${Y(ae,e.currency)}) не равна сумме заявки (${Y(e.amount,e.currency)})`),d.forEach((de,Me)=>{if(de.contractId==="none"||!de.contractId){te.push(`Строка ${Me+1}: Выберите договор`);return}const Ge=O.find(zt=>zt.id===de.contractId);if(!Ge){te.push(`Строка ${Me+1}: Договор не найден`);return}Ge.status!=="active"&&te.push(`Строка ${Me+1}: Договор "${Ge.code}" неактивен`);const tt=Ge.limitTotal-Ge.usedTotal;de.amount>tt&&te.push(`Строка ${Me+1}: Превышен лимит договора "${Ge.code}" (доступно: ${Y(tt,e.currency)})`),new Date(de.plannedDate)<new Date&&te.push(`Строка ${Me+1}: Плановая дата не может быть в прошлом`)}),H(te)},K=()=>{const te={id:`alloc_${Date.now()}`,contractId:"none",amount:0,currency:e.currency,plannedDate:new Date().toISOString().split("T")[0],comment:""};f([...d,te])},z=(te,ae,de)=>{const Me=[...d];Me[te]={...Me[te],[ae]:de},f(Me)},F=te=>{f(d.filter((ae,de)=>de!==te))},$=()=>{if(d.length===0){fe.warning("Добавьте хотя бы одно распределение");return}const te=d.filter(tt=>tt.contractId&&tt.contractId!=="none");if(te.length===0){fe.warning("Выберите договоры для автоматического распределения");return}const ae=Math.floor(e.amount/te.length),de=e.amount-ae*te.length,Me=[...d];let Ge=!1;te.forEach((tt,zt)=>{const Ot=d.findIndex(Vr=>Vr.id===tt.id);Ot!==-1&&(Me[Ot].amount=ae+(zt===0&&!Ge?de:0),zt===0&&(Ge=!0))}),f(Me),fe.success("Суммы распределены автоматически")},Q=te=>R.find(de=>de.id===te)?.name||"Неизвестно",J=te=>k.find(de=>de.id===te)?.name||"Неизвестно",le=(te,ae)=>O.filter(de=>de.counterpartyId===te&&de.expenseItemId===ae&&de.status==="active"),Y=(te,ae)=>new Intl.NumberFormat("ru-KZ",{style:"currency",currency:ae==="KZT"?"KZT":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(te),ce=async()=>{if(W.length>0){fe.error("Исправьте ошибки перед утверждением");return}if(d.length===0){fe.error("Добавьте распределения");return}try{await t(d,p,v)}catch(te){console.error("Failed to approve:",te)}},ie=async()=>{if(W.length>0){fe.error("Исправьте ошибки перед согласованием");return}if(d.length===0){fe.error("Добавьте распределения");return}try{await r(d,p,v)}catch(te){console.error("Failed to approve on behalf:",te)}},xe=async()=>{if(!j.trim()){fe.error("Укажите причину возврата");return}try{await n(j),T(!1)}catch(te){console.error("Failed to return:",te)}},Ce=async()=>{if(!g.trim()){fe.error("Укажите причину отклонения");return}try{await i(g),V(!1)}catch(te){console.error("Failed to decline:",te)}};return C?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ne,{variant:"ghost",size:"sm",onClick:s,children:[a.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Назад"]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-semibold",children:["Согласование заявки ",e.requestNumber]}),a.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[a.jsx(So,{status:e.status}),e.isAssignedToChief&&a.jsxs(Ne,{variant:"secondary",className:"text-xs",children:[a.jsx(Tw,{className:"h-3 w-3 mr-1"}),"Закреплено за главным распорядителем"]})]})]})]})}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsx(Pe,{children:"Общая информация"})}),a.jsx(me,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(he,{children:"Контрагент"}),a.jsx("p",{className:"font-medium",children:Q(e.counterpartyId)})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Сумма"}),a.jsx("p",{className:"font-medium",children:Y(e.amount,e.currency)})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Срок оплаты"}),a.jsxs("p",{className:"font-medium flex items-center gap-2",children:[a.jsx(Jt,{className:"h-4 w-4"}),new Date(e.dueDate).toLocaleDateString("ru-RU")]})]}),a.jsxs("div",{className:"md:col-span-3",children:[a.jsx(he,{children:"Описание"}),a.jsx("p",{children:e.description})]})]})})]}),a.jsxs(ev,{value:l,onValueChange:u,children:[a.jsxs(tv,{className:"grid w-full grid-cols-2",children:[a.jsxs(ii,{value:"items",children:["Позиции (",e.expenseSplits?.length||0,")"]}),a.jsxs(ii,{value:"allocations",children:["Распределение (",d.length,")"]})]}),a.jsx(si,{value:"items",children:a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsx(Pe,{children:"Статьи расходов"})}),a.jsx(me,{children:a.jsxs(xn,{children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{children:"Статья расходов"}),a.jsx(_e,{className:"text-right",children:"Сумма без НДС"}),a.jsx(_e,{children:"Комментарий"})]})}),a.jsx(bn,{children:e.expenseSplits?.map(te=>a.jsxs(It,{children:[a.jsx(Ee,{children:a.jsx("div",{children:a.jsx("div",{className:"font-medium",children:J(te.expenseItemId)})})}),a.jsx(Ee,{className:"text-right font-medium",children:Y(te.amount,e.currency)}),a.jsx(Ee,{children:te.comment&&a.jsx("span",{className:"text-sm text-muted-foreground",children:te.comment})})]},te.id))})]})})]})}),a.jsx(si,{value:"allocations",children:a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Распределение по контрактам"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ne,{variant:"outline",size:"sm",onClick:$,children:[a.jsx(AD,{className:"h-4 w-4 mr-2"}),"Автосплит"]}),a.jsxs(ne,{variant:"outline",size:"sm",onClick:K,children:[a.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Добавить"]})]})]})}),a.jsxs(me,{children:[W.length>0&&a.jsxs(uS,{className:"mb-4",children:[a.jsx(jt,{className:"h-4 w-4"}),a.jsx(dS,{children:a.jsx("ul",{className:"list-disc list-inside space-y-1",children:W.map((te,ae)=>a.jsx("li",{className:"text-sm",children:te},ae))})})]}),a.jsxs("div",{className:"space-y-4",children:[d.map((te,ae)=>a.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ne,{variant:"outline",children:["Распределение ",ae+1]}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>F(ae),className:"text-red-600 hover:text-red-700",children:a.jsx(ei,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Договор"}),a.jsxs(ot,{value:te.contractId,onValueChange:de=>z(ae,"contractId",de),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите договор"})}),a.jsxs(ut,{children:[a.jsx(we,{value:"none",disabled:!0,children:"Выберите договор"}),e.expenseSplits?.map(de=>le(e.counterpartyId,de.expenseItemId).map(Ge=>a.jsx(we,{value:Ge.id,children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:Ge.code}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Лимит: ",Y(Ge.limitTotal-Ge.usedTotal,e.currency)]})]})},Ge.id)))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Сумма"}),a.jsx(He,{type:"number",value:te.amount,onChange:de=>z(ae,"amount",Number(de.target.value)),placeholder:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Плановая дата"}),a.jsx(He,{type:"date",value:te.plannedDate,onChange:de=>z(ae,"plannedDate",de.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Валюта"}),a.jsx(He,{value:te.currency,disabled:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Комментарий"}),a.jsx(ai,{value:te.comment||"",onChange:de=>z(ae,"comment",de.target.value),placeholder:"Дополнительная информация...",rows:2})]})]},te.id)),d.length===0&&a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("p",{children:"Распределения не добавлены"}),a.jsxs(ne,{variant:"outline",onClick:K,className:"mt-2",children:[a.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Добавить первое распределение"]})]})]}),d.length>0&&a.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Общая сумма распределений:"}),a.jsx("span",{className:"font-medium",children:Y(d.reduce((te,ae)=>te+ae.amount,0),e.currency)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Сумма заявки:"}),a.jsx("span",{className:"font-medium",children:Y(e.amount,e.currency)})]}),a.jsxs("div",{className:"flex justify-between items-center border-t pt-2 mt-2",children:[a.jsx("span",{children:"Разница:"}),a.jsx("span",{className:`font-medium ${d.reduce((te,ae)=>te+ae.amount,0)===e.amount?"text-green-600":"text-red-600"}`,children:Y(d.reduce((te,ae)=>te+ae.amount,0)-e.amount,e.currency)})]})]})]})]})})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsx(Pe,{children:"Решение по заявке"})}),a.jsxs(me,{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Приоритет"}),a.jsxs(ot,{value:p,onValueChange:h,children:[a.jsx(ct,{children:a.jsx(lt,{})}),a.jsx(ut,{children:L.map(te=>a.jsx(we,{value:te.id,children:te.label},te.id))})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Комментарий"}),a.jsx(ai,{value:v,onChange:te=>b(te.target.value),placeholder:"Дополнительные комментарии...",rows:3})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsxs(ne,{onClick:ce,disabled:W.length>0||d.length===0,className:"flex-1",children:[a.jsx(nt,{className:"h-4 w-4 mr-2"}),"Утвердить"]}),a.jsxs(ne,{variant:"secondary",onClick:ie,disabled:W.length>0||d.length===0,className:"flex-1",children:[a.jsx(nt,{className:"h-4 w-4 mr-2"}),"Согласовать по поручению"]}),a.jsxs(gi,{open:G,onOpenChange:T,children:[a.jsx(gd,{asChild:!0,children:a.jsxs(ne,{variant:"outline",children:[a.jsx(IW,{className:"h-4 w-4 mr-2"}),"Вернуть"]})}),a.jsxs(Ma,{children:[a.jsxs(xi,{children:[a.jsx(yi,{children:"Возврат заявки"}),a.jsx(vs,{children:"Укажите причину возврата заявки на доработку"})]}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsx(ai,{value:j,onChange:te=>y(te.target.value),placeholder:"Причина возврата...",rows:3})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ne,{variant:"outline",onClick:()=>T(!1),children:"Отмена"}),a.jsx(ne,{onClick:xe,children:"Вернуть"})]})]})]}),a.jsxs(gi,{open:D,onOpenChange:V,children:[a.jsx(gd,{asChild:!0,children:a.jsxs(ne,{variant:"destructive",children:[a.jsx(oi,{className:"h-4 w-4 mr-2"}),"Отклонить"]})}),a.jsxs(Ma,{children:[a.jsxs(xi,{children:[a.jsx(yi,{children:"Отклонение заявки"}),a.jsx(vs,{children:"Укажите причину отклонения заявки"})]}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsx(ai,{value:g,onChange:te=>S(te.target.value),placeholder:"Причина отклонения...",rows:3})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ne,{variant:"outline",onClick:()=>V(!1),children:"Отмена"}),a.jsx(ne,{variant:"destructive",onClick:Ce,children:"Отклонить"})]})]})]})]})]})]})]})}const Whe=({currentRole:e,paymentRequests:t,onViewRequest:r,onNavigate:n})=>{const[i,s]=w.useState([]),[l,u]=w.useState(new Map);w.useEffect(()=>{const y=ao.subscribe(s);return d(),y},[t]);const d=()=>{const y=new Map;t.forEach(g=>{const S=ax.getWorkflowProgress(g.id,g.status,g.distributionStatus||"pending");y.set(g.id,S)}),u(y)},f=()=>{switch(e){case"registrar":return t.filter(y=>["approved","approved-on-behalf","to-pay","in-register","approved-for-payment"].includes(y.status));case"sub_registrar":return t.filter(y=>y.status==="distributed");case"distributor":return t.filter(y=>["distributed","report_published","export_linked"].includes(y.status));default:return t}},p=()=>{const y=f(),g=y.length;switch(e){case"registrar":return{total:g,pending:y.filter(S=>["approved","approved-on-behalf","to-pay","in-register","approved-for-payment"].includes(S.status)).length,distributed:y.filter(S=>S.status==="distributed").length,completed:y.filter(S=>["report_published","export_linked"].includes(S.status)).length};case"sub_registrar":return{total:g,pending:y.filter(S=>S.status==="distributed").length,inProgress:y.filter(S=>S.status==="distributed").length,completed:y.filter(S=>S.status==="report_published").length};case"distributor":return{total:g,pending:y.filter(S=>S.status==="distributed").length,enriched:y.filter(S=>S.status==="report_published").length,linked:y.filter(S=>S.status==="export_linked").length};default:return{total:g,pending:0,completed:0}}},h=y=>{switch(y.status){case"completed":return a.jsx(nt,{className:"h-4 w-4 text-green-500"});case"in-progress":return a.jsx(er,{className:"h-4 w-4 text-blue-500"});case"error":return a.jsx(co,{className:"h-4 w-4 text-red-500"});default:return a.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-gray-300"})}},v=y=>{switch(y.status){case"completed":return"text-green-600";case"in-progress":return"text-blue-600";case"error":return"text-red-600";default:return"text-gray-500"}},b=p(),j=f();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold",children:[e==="registrar"&&"Рабочий стол регистратора",e==="sub_registrar"&&"Рабочий стол суб-регистратора",e==="distributor"&&"Рабочий стол распорядителя"]}),a.jsxs("p",{className:"text-muted-foreground mt-2",children:[e==="registrar"&&"Управление распределением заявок",e==="sub_registrar"&&"Обработка назначенных заявок",e==="distributor"&&"Обработка заявок и привязка контрактов"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ne,{onClick:()=>n("requests"),variant:"outline",className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"h-4 w-4"}),"Все заявки"]}),e==="registrar"&&a.jsxs(ne,{onClick:()=>n("registrar-distribution"),className:"flex items-center gap-2",children:[a.jsx(kw,{className:"h-4 w-4"}),"Распределить заявки"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Всего заявок"}),a.jsx("p",{className:"text-2xl font-bold",children:b.total})]}),a.jsx(Nt,{className:"h-8 w-8 text-muted-foreground"})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e==="registrar"&&"Ожидают распределения",e==="sub_registrar"&&"Назначены",e==="distributor"&&"Ожидают обработки"]}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:b.pending})]}),a.jsx(er,{className:"h-8 w-8 text-blue-500"})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e==="registrar"&&"Распределены",e==="sub_registrar"&&"В работе",e==="distributor"&&"Обогащены"]}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[e==="registrar"&&b.distributed,e==="sub_registrar"&&b.inProgress,e==="distributor"&&b.enriched]})]}),a.jsx(O1,{className:"h-8 w-8 text-orange-500"})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e==="registrar"&&"Завершены",e==="sub_registrar"&&"Завершены",e==="distributor"&&"Привязаны"]}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e==="registrar"&&b.completed,e==="sub_registrar"&&b.completed,e==="distributor"&&b.linked]})]}),a.jsx(nt,{className:"h-8 w-8 text-green-500"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"h-5 w-5"}),"Последние заявки"]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-4",children:j.slice(0,5).map(y=>{const g=l.get(y.id);return g?a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-muted/50",onClick:()=>r(y.id),children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium",children:y.requestNumber||"Без номера"}),a.jsx(Ne,{variant:"outline",children:y.status})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y.description||"Без описания"}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(F1,{value:ax.getProgressPercentage(g),className:"flex-1 h-2"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[ax.getProgressPercentage(g),"%"]})]})]}),a.jsx(kw,{className:"h-4 w-4 text-muted-foreground"})]},y.id):null})})})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(A1,{className:"h-5 w-5"}),"Этапы процесса"]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-3",children:j.slice(0,1).map(y=>{const g=l.get(y.id);return g?a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:y.requestNumber||"Без номера"}),a.jsx("div",{className:"space-y-2",children:g.steps.slice(0,5).map((S,C)=>a.jsxs("div",{className:"flex items-center gap-3",children:[h(S),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:`text-sm ${v(S)}`,children:S.name}),S.description&&a.jsx("p",{className:"text-xs text-muted-foreground",children:S.description})]}),S.role===e&&S.status==="in-progress"&&a.jsx(Ne,{variant:"outline",className:"text-xs",children:"Ваша очередь"})]},S.id))})]},y.id):null})})})]})]}),i.length>0&&a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(co,{className:"h-5 w-5"}),"Уведомления"]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-2",children:i.slice(0,5).map(y=>a.jsx(uS,{children:a.jsxs(dS,{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:y.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y.message})]}),a.jsx(ne,{size:"sm",variant:"outline",onClick:()=>ao.markAsRead(y.id),children:"Закрыть"})]})},y.id))})})]})]})};var rv="Switch",[Vhe,Ape]=tn(rv),[Hhe,Ghe]=Vhe(rv),C5=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:l,disabled:u,value:d="on",onCheckedChange:f,form:p,...h}=e,[v,b]=w.useState(null),j=dt(t,_=>b(_)),y=w.useRef(!1),g=v?p||!!v.closest("form"):!0,[S,C]=ka({prop:i,defaultProp:s??!1,onChange:f,caller:rv});return a.jsxs(Hhe,{scope:r,checked:S,disabled:u,children:[a.jsx(qe.button,{type:"button",role:"switch","aria-checked":S,"aria-required":l,"data-state":P5(S),"data-disabled":u?"":void 0,disabled:u,value:d,...h,ref:j,onClick:Ae(e.onClick,_=>{C(O=>!O),g&&(y.current=_.isPropagationStopped(),y.current||_.stopPropagation())})}),g&&a.jsx(k5,{control:v,bubbles:!y.current,name:n,value:d,checked:S,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});C5.displayName=rv;var _5="SwitchThumb",E5=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=Ghe(_5,r);return a.jsx(qe.span,{"data-state":P5(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});E5.displayName=_5;var Khe="SwitchBubbleInput",k5=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},s)=>{const l=w.useRef(null),u=dt(l,s),d=T1(r),f=b1(t);return w.useEffect(()=>{const p=l.current;if(!p)return;const h=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==r&&b){const j=new Event("click",{bubbles:n});b.call(p,r),p.dispatchEvent(j)}},[d,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:u,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});k5.displayName=Khe;function P5(e){return e?"checked":"unchecked"}var Yhe=C5,Xhe=E5;function Zr({className:e,...t}){return a.jsx(Yhe,{"data-slot":"switch",className:Ie("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(Xhe,{"data-slot":"switch-thumb",className:Ie("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Qhe({onBack:e}={}){const[t,r]=w.useState([]),[n,i]=w.useState([]),[s,l]=w.useState(!0),[u,d]=w.useState(""),[f,p]=w.useState(""),[h,v]=w.useState(""),[b,j]=w.useState(!0),[y,g]=w.useState(new Date().toISOString().split("T")[0]),[S,C]=w.useState([]),[_,O]=w.useState([]),[N,k]=w.useState([]),[A,R]=w.useState(!1),[I,L]=w.useState(!1),[U,W]=w.useState(null),[H,G]=w.useState({expenseItemId:"",chiefDistributorUserId:"",effectiveFrom:new Date().toISOString().split("T")[0],effectiveTo:"",isActive:!0});w.useEffect(()=>{T()},[]),w.useEffect(()=>{D()},[t,u,f,h,b,y]);const T=async()=>{try{l(!0);const[Y,ce,ie]=await Promise.all([cl.getBindings(),fl.getExpenseItems(),MD.getUsers()]);r(Y),C(ce),O(ie);const xe=ie.filter(Ce=>Ce.roles.includes("distributor"));k(xe)}catch(Y){console.error("Failed to load data:",Y),fe.error("Ошибка загрузки данных")}finally{l(!1)}},D=()=>{let Y=[...t];if(u&&(Y=Y.filter(ce=>V(ce.expenseItemId).toLowerCase().includes(u.toLowerCase())||B(ce.chiefDistributorUserId).toLowerCase().includes(u.toLowerCase()))),f&&f!=="all"&&(Y=Y.filter(ce=>ce.expenseItemId===f)),h&&h!=="all"&&(Y=Y.filter(ce=>ce.chiefDistributorUserId===h)),b&&(Y=Y.filter(ce=>ce.isActive)),y){const ce=new Date(y);Y=Y.filter(ie=>{const xe=new Date(ie.effectiveFrom),Ce=ie.effectiveTo?new Date(ie.effectiveTo):new Date("2099-12-31");return ce>=xe&&ce<=Ce})}i(Y)},V=Y=>S.find(ie=>ie.id===Y)?.name||"Неизвестно",B=Y=>_.find(ie=>ie.id===Y)?.name||"Неизвестно",q=()=>{G({expenseItemId:"",chiefDistributorUserId:"",effectiveFrom:new Date().toISOString().split("T")[0],effectiveTo:"",isActive:!0})},K=async()=>{if(!H.expenseItemId||!H.chiefDistributorUserId){fe.error("Заполните обязательные поля");return}try{const Y=await cl.createBinding(H);r([Y,...t]),R(!1),q(),fe.success("Привязка создана успешно")}catch(Y){console.error("Failed to create binding:",Y),fe.error("Ошибка создания привязки")}},z=Y=>{W(Y),G({expenseItemId:Y.expenseItemId,chiefDistributorUserId:Y.chiefDistributorUserId,effectiveFrom:Y.effectiveFrom,effectiveTo:Y.effectiveTo||"",isActive:Y.isActive}),L(!0)},F=async()=>{if(!U||!H.expenseItemId||!H.chiefDistributorUserId){fe.error("Заполните обязательные поля");return}try{const Y=await cl.updateBinding(U.id,H);r(t.map(ce=>ce.id===U.id?Y:ce)),L(!1),W(null),q(),fe.success("Привязка обновлена успешно")}catch(Y){console.error("Failed to update binding:",Y),fe.error("Ошибка обновления привязки")}},$=async Y=>{try{const ce=await cl.updateBinding(Y.id,{...Y,isActive:!Y.isActive});r(t.map(ie=>ie.id===Y.id?ce:ie)),fe.success(`Привязка ${ce.isActive?"активирована":"деактивирована"}`)}catch(ce){console.error("Failed to toggle binding:",ce),fe.error("Ошибка изменения статуса")}},Q=async Y=>{if(confirm("Вы уверены, что хотите удалить эту привязку?"))try{await cl.deleteBinding(Y.id),r(t.filter(ce=>ce.id!==Y.id)),fe.success("Привязка удалена")}catch(ce){console.error("Failed to delete binding:",ce),fe.error("Ошибка удаления привязки")}},J=(Y,ce)=>Y.filter(ie=>ie.parentId===ce).map(ie=>({...ie,children:J(Y,ie.id)})),le=(Y,ce=0)=>Y.flatMap(ie=>[a.jsx(we,{value:ie.id,children:"  ".repeat(ce)+ie.name},ie.id),...ie.children?le(ie.children,ce+1):[]]);return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[e&&a.jsx(ne,{variant:"ghost",onClick:e,className:"pl-0",children:"← Назад"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Маршрутизация распорядителей"}),a.jsx("p",{className:"text-muted-foreground",children:"Назначение главных распорядителей к статьям расходов"})]})]}),a.jsxs(gi,{open:A,onOpenChange:R,children:[a.jsx(gd,{asChild:!0,children:a.jsxs(ne,{children:[a.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Создать привязку"]})}),a.jsxs(Ma,{className:"max-w-md",children:[a.jsxs(xi,{children:[a.jsx(yi,{children:"Создание привязки"}),a.jsx(vs,{children:"Назначьте главного распорядителя для статьи расходов"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Статья расходов *"}),a.jsxs(ot,{value:H.expenseItemId,onValueChange:Y=>G({...H,expenseItemId:Y}),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите статью"})}),a.jsx(ut,{children:le(J(S))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Главный распорядитель *"}),a.jsxs(ot,{value:H.chiefDistributorUserId,onValueChange:Y=>G({...H,chiefDistributorUserId:Y}),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите распорядителя"})}),a.jsx(ut,{children:N.map(Y=>a.jsx(we,{value:Y.id,children:Y.name},Y.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Действует с"}),a.jsx(He,{type:"date",value:H.effectiveFrom,onChange:Y=>G({...H,effectiveFrom:Y.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Действует до"}),a.jsx(He,{type:"date",value:H.effectiveTo,onChange:Y=>G({...H,effectiveTo:Y.target.value})})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zr,{id:"isActive",checked:H.isActive,onCheckedChange:Y=>G({...H,isActive:Y})}),a.jsx(he,{htmlFor:"isActive",children:"Активна"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ne,{variant:"outline",onClick:()=>{R(!1),q()},children:"Отмена"}),a.jsx(ne,{onClick:K,children:"Создать"})]})]})]})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"h-5 w-5"}),"Фильтры"]})}),a.jsxs(me,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Поиск"}),a.jsxs("div",{className:"relative",children:[a.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(He,{placeholder:"Статья или распорядитель...",value:u,onChange:Y=>d(Y.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Статья расходов"}),a.jsxs(ot,{value:f,onValueChange:p,children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Все статьи"})}),a.jsxs(ut,{children:[a.jsx(we,{value:"all",children:"Все статьи"}),le(J(S))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Распорядитель"}),a.jsxs(ot,{value:h,onValueChange:v,children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Все распорядители"})}),a.jsxs(ut,{children:[a.jsx(we,{value:"all",children:"Все распорядители"}),N.map(Y=>a.jsx(we,{value:Y.id,children:Y.name},Y.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Действующие на дату"}),a.jsx(He,{type:"date",value:y,onChange:Y=>g(Y.target.value)})]})]}),a.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[a.jsx(Zr,{id:"activeOnly",checked:b,onCheckedChange:j}),a.jsx(he,{htmlFor:"activeOnly",children:"Только активные"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Активные привязки"}),a.jsx("p",{className:"text-2xl font-semibold",children:t.filter(Y=>Y.isActive).length})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hs,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Главных распорядителей"}),a.jsx("p",{className:"text-2xl font-semibold",children:new Set(t.filter(Y=>Y.isActive).map(Y=>Y.chiefDistributorUserId)).size})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Aa,{className:"h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Закрепленных статей"}),a.jsx("p",{className:"text-2xl font-semibold",children:new Set(t.filter(Y=>Y.isActive).map(Y=>Y.expenseItemId)).size})]})]})})})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{children:["Привязки (",n.length," из ",t.length,")"]})}),a.jsxs(me,{className:"p-0",children:[a.jsxs(xn,{children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{children:"Статья расходов"}),a.jsx(_e,{children:"Главный распорядитель"}),a.jsx(_e,{children:"Период действия"}),a.jsx(_e,{className:"text-center",children:"Статус"}),a.jsx(_e,{className:"w-[150px]",children:"Действия"})]})}),a.jsx(bn,{children:n.map(Y=>a.jsxs(It,{children:[a.jsx(Ee,{children:a.jsx("div",{className:"font-medium",children:V(Y.expenseItemId)})}),a.jsx(Ee,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hs,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:B(Y.chiefDistributorUserId)})]})}),a.jsx(Ee,{children:a.jsx("div",{className:"text-sm",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Gs,{className:"h-3 w-3"}),new Date(Y.effectiveFrom).toLocaleDateString("ru-RU"),Y.effectiveTo&&a.jsxs(a.Fragment,{children:[" - ",new Date(Y.effectiveTo).toLocaleDateString("ru-RU")]})]})})}),a.jsx(Ee,{className:"text-center",children:a.jsx(Ne,{variant:Y.isActive?"default":"secondary",children:Y.isActive?"Активна":"Неактивна"})}),a.jsx(Ee,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>z(Y),className:"h-8 w-8 p-0",children:a.jsx(ga,{className:"h-4 w-4"})}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>$(Y),className:"h-8 w-8 p-0",children:Y.isActive?a.jsx(jt,{className:"h-4 w-4 text-orange-600"}):a.jsx(nt,{className:"h-4 w-4 text-green-600"})}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>Q(Y),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:a.jsx(ei,{className:"h-4 w-4"})})]})})]},Y.id))})]}),n.length===0&&a.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[a.jsx("p",{children:"Привязки не найдены"}),a.jsx("p",{className:"text-sm mt-2",children:"Попробуйте изменить фильтры или создать новую привязку"})]})]})]}),a.jsx(gi,{open:I,onOpenChange:L,children:a.jsxs(Ma,{className:"max-w-md",children:[a.jsxs(xi,{children:[a.jsx(yi,{children:"Редактирование привязки"}),a.jsx(vs,{children:"Изменение параметров привязки распорядителя"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Статья расходов *"}),a.jsxs(ot,{value:H.expenseItemId,onValueChange:Y=>G({...H,expenseItemId:Y}),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите статью"})}),a.jsx(ut,{children:le(J(S))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Главный распорядитель *"}),a.jsxs(ot,{value:H.chiefDistributorUserId,onValueChange:Y=>G({...H,chiefDistributorUserId:Y}),children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите распорядителя"})}),a.jsx(ut,{children:N.map(Y=>a.jsx(we,{value:Y.id,children:Y.name},Y.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Действует с"}),a.jsx(He,{type:"date",value:H.effectiveFrom,onChange:Y=>G({...H,effectiveFrom:Y.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Действует до"}),a.jsx(He,{type:"date",value:H.effectiveTo,onChange:Y=>G({...H,effectiveTo:Y.target.value})})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zr,{id:"isActiveEdit",checked:H.isActive,onCheckedChange:Y=>G({...H,isActive:Y})}),a.jsx(he,{htmlFor:"isActiveEdit",children:"Активна"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ne,{variant:"outline",onClick:()=>{L(!1),W(null),q()},children:"Отмена"}),a.jsx(ne,{onClick:F,children:"Сохранить"})]})]})})]})}function Zhe({onViewRequest:e}){const{items:t}=_t("counterparties"),{items:r}=_t("expense-articles"),[n,i]=w.useState([]),[s,l]=w.useState([]),[u,d]=w.useState(!0),[f,p]=w.useState(""),[h,v]=w.useState("all"),[b,j]=w.useState("date"),[y,g]=w.useState("desc");w.useEffect(()=>{S()},[]),w.useEffect(()=>{C()},[n,f,h,b,y]);const S=async()=>{try{d(!0);const L=(await rt.getAll({role:"distributor"})).filter(U=>U.paymentAllocations&&U.paymentAllocations.some(W=>W.contractId==="outside-deals"));i(L)}catch(I){console.error("Failed to load unallocated requests:",I),fe.error("Ошибка загрузки нераспределенных расходов")}finally{d(!1)}},C=()=>{let I=[...n];if(f.trim()){const L=f.toLowerCase();I=I.filter(U=>U.requestNumber?.toLowerCase().includes(L)||U.docNumber?.toLowerCase().includes(L)||_(U.counterpartyId).toLowerCase().includes(L)||U.description?.toLowerCase().includes(L))}h!=="all"&&(I=I.filter(L=>L.status===h)),I.sort((L,U)=>{let W=0;switch(b){case"date":W=new Date(L.dueDate).getTime()-new Date(U.dueDate).getTime();break;case"amount":W=L.amount-U.amount;break;case"counterparty":W=_(L.counterpartyId).localeCompare(_(U.counterpartyId));break}return y==="asc"?W:-W}),l(I)},_=I=>t.find(L=>L.id===I)?.name||"Неизвестен",O=I=>{const L=r.find(U=>U.id===I);return L?`${L.code} - ${L.name}`:"Неизвестно"},N=()=>s.reduce((I,L)=>I+L.amount,0),k=()=>{const I={approved:0,"in-register":0,"approved-for-payment":0,"paid-full":0,"paid-partial":0};return s.forEach(L=>{I.hasOwnProperty(L.status)&&I[L.status]++}),I},A=I=>{I.docFileUrl?window.open(I.docFileUrl,"_blank"):fe.info(`Просмотр документа: ${I.fileName}`)};if(u)return a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const R=k();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Реестр нераспределенных расходов"}),a.jsx("p",{className:"text-muted-foreground",children:'Заявки, по которым в "Назначении платежа" указано "Вне сделок"'})]}),a.jsx(ne,{variant:"outline",onClick:S,children:"Обновить"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jt,{className:"h-4 w-4 text-orange-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего заявок"}),a.jsx("p",{className:"text-2xl font-semibold",children:s.length})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wn,{className:"h-4 w-4 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Общая сумма"}),a.jsxs("p",{className:"text-2xl font-semibold",children:[N().toLocaleString()," ₸"]})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_l,{className:"h-4 w-4 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Утверждено"}),a.jsx("p",{className:"text-2xl font-semibold",children:R.approved})]})]})})}),a.jsx(pe,{children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"h-4 w-4 text-purple-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Оплачено"}),a.jsx("p",{className:"text-2xl font-semibold",children:R["paid-full"]+R["paid-partial"]})]})]})})})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"h-5 w-5"}),"Фильтры и поиск"]})}),a.jsx(me,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Поиск"}),a.jsxs("div",{className:"relative",children:[a.jsx(La,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(He,{placeholder:"Номер заявки, контрагент...",value:f,onChange:I=>p(I.target.value),className:"pl-9"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Статус"}),a.jsxs(ot,{value:h,onValueChange:v,children:[a.jsx(ct,{children:a.jsx(lt,{})}),a.jsxs(ut,{children:[a.jsx(we,{value:"all",children:"Все статусы"}),a.jsx(we,{value:"approved",children:"Утверждено"}),a.jsx(we,{value:"in-register",children:"В реестре"}),a.jsx(we,{value:"approved-for-payment",children:"К оплате"}),a.jsx(we,{value:"paid-full",children:"Оплачено полностью"}),a.jsx(we,{value:"paid-partial",children:"Оплачено частично"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Сортировка"}),a.jsxs(ot,{value:b,onValueChange:I=>j(I),children:[a.jsx(ct,{children:a.jsx(lt,{})}),a.jsxs(ut,{children:[a.jsx(we,{value:"date",children:"По дате"}),a.jsx(we,{value:"amount",children:"По сумме"}),a.jsx(we,{value:"counterparty",children:"По контрагенту"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Направление"}),a.jsxs(ot,{value:y,onValueChange:I=>g(I),children:[a.jsx(ct,{children:a.jsx(lt,{})}),a.jsxs(ut,{children:[a.jsx(we,{value:"desc",children:"По убыванию"}),a.jsx(we,{value:"asc",children:"По возрастанию"})]})]})]})]})})]}),s.length===0?a.jsx(pe,{children:a.jsxs(me,{className:"p-12 text-center",children:[a.jsx(jt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет нераспределенных расходов"}),a.jsx("p",{className:"text-muted-foreground",children:f||h!=="all"?"По заданным фильтрам ничего не найдено":"Все заявки распределены по контрактам"})]})}):a.jsx("div",{className:"space-y-4",children:s.map(I=>a.jsx(pe,{className:"hover:shadow-md transition-shadow",children:a.jsx(me,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ne,{variant:"outline",className:"font-mono",children:I.requestNumber}),a.jsx(So,{status:I.status}),a.jsxs(Ne,{variant:"secondary",className:"bg-orange-100 text-orange-700 border-orange-200",children:[a.jsx(jt,{className:"h-3 w-3 mr-1"}),"Вне сделок"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[e&&a.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>e(I.id),children:[a.jsx(fs,{className:"h-4 w-4 mr-1"}),"Просмотр"]}),I.fileName&&a.jsx(a.Fragment,{children:a.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>A(I),children:[a.jsx(dW,{className:"h-4 w-4 mr-1"}),"Документ"]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Aa,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Контрагент"}),a.jsx("p",{className:"text-sm",children:_(I.counterpartyId)})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(wn,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Сумма"}),a.jsxs("p",{className:"text-lg font-semibold",children:[I.amount.toLocaleString()," ",I.currency]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Срок оплаты"}),a.jsx("p",{className:"text-sm",children:Qe(new Date(I.dueDate),"d MMMM yyyy",{locale:ft})})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:"Документ"}),a.jsx("p",{className:"text-sm",children:I.docNumber})]})]})]}),I.expenseSplits&&I.expenseSplits.length>0&&a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(_l,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("p",{className:"font-semibold text-sm",children:"Статьи расходов"})]}),a.jsx("div",{className:"space-y-2",children:I.expenseSplits.map((L,U)=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm",children:O(L.expenseItemId)}),a.jsxs(Ne,{variant:"outline",children:[L.amount.toLocaleString()," ",I.currency]})]},U))})]}),I.paymentAllocations&&a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(jt,{className:"h-4 w-4 text-orange-500"}),a.jsx("p",{className:"font-semibold text-sm",children:"Назначение платежа"})]}),I.paymentAllocations.filter(L=>L.contractId==="outside-deals").map((L,U)=>a.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-orange-800",children:"Платеж вне сделок"}),a.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Данный платеж не привязан к конкретному контракту"}),L.comment&&a.jsxs("p",{className:"text-sm text-orange-700 mt-2 italic",children:["Комментарий: ",L.comment]})]}),a.jsxs(Ne,{variant:"outline",className:"bg-white",children:[L.amount.toLocaleString()," ",I.currency]})]})},U))]})]})})},I.id))})]})}function Jhe({onBack:e,onUpdateRequest:t}){const{items:r}=_t("counterparties"),{items:n}=_t("priorities"),[i,s]=w.useState([]),[l,u]=w.useState("create"),[d,f]=w.useState({}),[p,h]=w.useState([]),[v,b]=w.useState(!0),[j,y]=w.useState(null);w.useEffect(()=>{(async()=>{try{b(!0),y(null);const z=await rt.getAll({role:"treasurer"});h(z)}catch(z){console.error("Error loading requests:",z),y("Ошибка загрузки заявок"),h([])}finally{b(!1)}})()},[]);const g=p.filter(K=>["approved","approved-on-behalf"].includes(K.status)),S=p.filter(K=>["in-register","approved-for-payment","paid-full","paid-partial"].includes(K.status)),C=K=>{s(z=>z.includes(K)?z.filter(F=>F!==K):[...z,K])},_=i.reduce((K,z)=>{const F=g.find($=>$.id===z);return K+(F?.amount||0)},0),O=S.reduce((K,z)=>K+z.amount,0),N=K=>K?n.find(z=>z.id===K):null,k=K=>r.find(z=>z.id===K)?.name||"Неизвестен",A=K=>{switch(K){case"in-register":return"bg-purple-100 text-purple-800";case"approved-for-payment":return"bg-green-100 text-green-800";case"paid-full":return"bg-emerald-100 text-emerald-800";case"paid-partial":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},R=K=>{switch(K){case"in-register":return"В реестре";case"approved-for-payment":return"Утвержден к оплате";case"paid-full":return"Оплачен полностью";case"paid-partial":return"Частично оплачен";default:return"Неизвестен"}},I=async()=>{if(i.length!==0)try{await Promise.all(i.map(K=>rt.updateStatus(K,"in-register",{comment:"Включен в реестр на оплату"}))),t&&i.forEach(K=>{}),s([]),u("existing"),fe.success(`Создан реестр с ${i.length} платежами на сумму ${_.toLocaleString()} ₸`)}catch(K){console.error("Error creating register:",K),fe.error("Ошибка создания реестра")}},L=()=>{alert("Экспорт реестра в формате Excel")},U=()=>{alert("Экспорт реестра в формате PDF")},W=()=>{const K=[...new Set(S.map(z=>z.payingCompany).filter(Boolean))];alert(`Скачивание документов-оснований в разрезе оплачивающих компаний: ${K.join(", ")}`)},H=(K,z,F)=>{f($=>({...$,[K]:{...$[K],[z]:F}}))},G=K=>{const z=d[K]||{actualAmount:0,status:"paid-full",comment:"",executionDate:new Date().toISOString().split("T")[0]};if(z.actualAmount===0){const F=S.find($=>$.id===K);z.actualAmount=F?.amount||0}return z},T=(K,z)=>z===K?"paid-full":z>0&&z<K?"paid-partial":"declined",D=K=>{const z=S.find(le=>le.id===K);if(!z||!t)return;const F=G(K),$=F.actualAmount===0?"declined":T(z.amount,F.actualAmount),Q={...z,status:$,paymentExecution:{actualAmount:F.actualAmount,executionDate:F.executionDate,executionComment:F.comment,exchangeRate:1}};t(Q),f(le=>{const Y={...le};return delete Y[K],Y});const J=$==="paid-full"?"оплаченным полностью":$==="paid-partial"?"частично оплаченным":"отклоненным";fe.success(`Платеж ${z.docNumber} отмечен как ${J}`)},V=()=>{if(!t)return;const K=S.filter(z=>["in-register","approved-for-payment"].includes(z.status)&&d[z.id]);K.forEach(z=>{const F=G(z.id),$=F.actualAmount===0?"declined":T(z.amount,F.actualAmount),Q={...z,status:$,paymentExecution:{actualAmount:F.actualAmount,executionDate:F.executionDate,executionComment:F.comment,exchangeRate:1}};t(Q)}),f({}),fe.success(`Успешно обработано ${K.length} платежей`)},B=S.reduce((K,z)=>{const F=z.payingCompany||"Не указано";return K[F]||(K[F]=[]),K[F].push(z),K},{}),q=S.filter(K=>["in-register","approved-for-payment"].includes(K.status)).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ne,{variant:"ghost",size:"sm",onClick:e,children:[a.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Назад"]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Реестры платежей"}),a.jsx("p",{className:"text-muted-foreground",children:"Управление реестрами для отправки в банк"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{variant:l==="create"?"default":"outline",onClick:()=>u("create"),children:"Создать реестр"}),a.jsxs(ne,{variant:l==="existing"?"default":"outline",onClick:()=>u("existing"),children:["Текущий реестр (",S.length,")"]}),q>0&&a.jsxs(ne,{variant:l==="process"?"default":"outline",onClick:()=>u("process"),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(wn,{className:"h-4 w-4 mr-2"}),"Обработать платежи (",q,")"]})]})]}),l==="create"&&a.jsxs(a.Fragment,{children:[a.jsx(pe,{children:a.jsx(me,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nt,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Выбрано заявок"}),a.jsx("p",{className:"text-2xl font-semibold",children:i.length})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(wn,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Общая сумма"}),a.jsxs("p",{className:"text-2xl font-semibold",children:[_.toLocaleString()," ₸"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Jt,{className:"h-8 w-8 text-orange-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Реестр от"}),a.jsx("p",{className:"text-lg font-semibold",children:new Date().toLocaleDateString("ru-RU")})]})]})]})})}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{children:["Утвержденные заявки для включения в реестр (",g.length,")"]})}),a.jsx(me,{children:a.jsxs("div",{className:"space-y-3",children:[g.map(K=>{const z=i.includes(K.id),F=N(K.priority);return a.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${z?"border-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>C(K.id),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium",children:K.docNumber}),a.jsx(Ne,{variant:"outline",children:K.payingCompany}),a.jsx(Ne,{variant:"outline",children:K.dueDate}),F&&a.jsx(Ne,{style:{backgroundColor:`${F.color==="red"?"#fef2f2":F.color==="orange"?"#fff7ed":F.color==="yellow"?"#fefce8":F.color==="green"?"#f0fdf4":"#f9fafb"}`,color:`${F.color==="red"?"#b91c1c":F.color==="orange"?"#c2410c":F.color==="yellow"?"#a16207":F.color==="green"?"#166534":"#374151"}`},children:F.label})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[k(K.counterpartyId)," - ",K.description]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{children:["Сумма: ",a.jsxs("strong",{children:[K.amount.toLocaleString()," ",K.currency]})]}),a.jsxs("span",{children:["Срок: ",K.dueDate]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:`w-4 h-4 rounded border-2 ${z?"bg-primary border-primary":"border-muted-foreground"}`,children:z&&a.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-xs",children:"✓"})})})]})},K.id)}),g.length===0&&a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a.jsx("p",{children:"Нет утвержденных заявок для включения в реестр"})})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx(ne,{variant:"outline",onClick:e,children:"Отмена"}),a.jsxs(ne,{onClick:I,disabled:i.length===0,children:[a.jsx(Ed,{className:"h-4 w-4 mr-2"}),"Создать реестр (",i.length,")"]})]})]}),l==="existing"&&a.jsxs(a.Fragment,{children:[a.jsx(pe,{children:a.jsx(me,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nt,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего платежей"}),a.jsx("p",{className:"text-2xl font-semibold",children:S.length})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(wn,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Общая сумма"}),a.jsxs("p",{className:"text-2xl font-semibold",children:[O.toLocaleString()," ₸"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Aa,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Компаний"}),a.jsx("p",{className:"text-2xl font-semibold",children:Object.keys(B).length})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Jt,{className:"h-8 w-8 text-orange-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Обновлен"}),a.jsx("p",{className:"text-lg font-semibold",children:new Date().toLocaleDateString("ru-RU")})]})]})]})})}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(M2,{className:"h-5 w-5"}),"Экспорт и документы"]})}),a.jsx(me,{children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs(ne,{onClick:L,variant:"outline",children:[a.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Скачать Excel"]}),a.jsxs(ne,{onClick:U,variant:"outline",children:[a.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Скачать PDF"]}),a.jsxs(ne,{onClick:W,variant:"outline",children:[a.jsx(M2,{className:"h-4 w-4 mr-2"}),"Документы-основания"]})]})})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(B).map(([K,z])=>a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Aa,{className:"h-5 w-5"}),K," (",z.length," платежей)"]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-3",children:z.map(F=>{const $=N(F.priority);return a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium",children:F.docNumber}),a.jsx(Ne,{className:A(F.status),children:R(F.status)}),a.jsx(Ne,{variant:"outline",children:F.dueDate}),$&&a.jsx(Ne,{style:{backgroundColor:`${$.color==="red"?"#fef2f2":$.color==="orange"?"#fff7ed":$.color==="yellow"?"#fefce8":$.color==="green"?"#f0fdf4":"#f9fafb"}`,color:`${$.color==="red"?"#b91c1c":$.color==="orange"?"#c2410c":$.color==="yellow"?"#a16207":$.color==="green"?"#166534":"#374151"}`},children:$.label})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[k(F.counterpartyId)," - ",F.description]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{children:["Сумма: ",a.jsxs("strong",{children:[F.amount.toLocaleString()," ",F.currency]})]}),a.jsxs("span",{children:["Срок: ",F.dueDate]}),F.paymentExecution?.actualAmount&&a.jsxs("span",{children:["Оплачено: ",a.jsxs("strong",{children:[F.paymentExecution.actualAmount.toLocaleString()," ₸"]})]})]})]})})},F.id)})})})]},K))}),S.length===0&&a.jsx(pe,{children:a.jsx(me,{className:"p-8 text-center text-muted-foreground",children:a.jsx("p",{children:"Реестр пуст. Создайте новый реестр, добавив утвержденные заявки."})})})]}),l==="process"&&a.jsx(a.Fragment,{children:a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(wn,{className:"h-5 w-5"}),"Обработка платежей"]})}),a.jsxs(me,{children:[a.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-blue-800 mb-2",children:a.jsx("strong",{children:"Инструкция:"})}),a.jsxs("ul",{className:"text-sm text-blue-700 list-disc list-inside space-y-1",children:[a.jsx("li",{children:"Укажите фактическую сумму оплаты для каждой заявки"}),a.jsx("li",{children:'Если сумма равна заявленной - статус будет "Оплачено полностью"'}),a.jsx("li",{children:'Если сумма меньше заявленной - статус будет "Оплачено частично"'}),a.jsx("li",{children:'Если сумма равна 0 - статус будет "Отклонено"'}),a.jsx("li",{children:"Добавьте комментарий при необходимости"})]})]}),a.jsx("div",{className:"space-y-4",children:S.filter(K=>["in-register","approved-for-payment"].includes(K.status)).map(K=>{const z=G(K.id),F=N(K.priority),$=z.actualAmount===0?"declined":T(K.amount,z.actualAmount);return a.jsx(pe,{className:"border-l-4 border-l-orange-400",children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h4",{className:"font-medium",children:K.docNumber}),a.jsx(Ne,{variant:"outline",children:K.payingCompany}),a.jsx(Ne,{variant:"outline",children:K.dueDate}),F&&a.jsx(Ne,{style:{backgroundColor:`${F.color==="red"?"#fef2f2":F.color==="orange"?"#fff7ed":F.color==="yellow"?"#fefce8":F.color==="green"?"#f0fdf4":"#f9fafb"}`,color:`${F.color==="red"?"#b91c1c":F.color==="orange"?"#c2410c":F.color==="yellow"?"#a16207":F.color==="green"?"#166534":"#374151"}`},children:F.label})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[k(K.counterpartyId)," - ",K.description]}),a.jsx("div",{className:"text-sm",children:a.jsxs("span",{children:["Заявленная сумма: ",a.jsxs("strong",{children:[K.amount.toLocaleString()," ",K.currency]})]})})]}),a.jsx("div",{className:"text-right",children:a.jsx(Ne,{className:$==="paid-full"?"bg-green-100 text-green-800":$==="paid-partial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:$==="paid-full"?"Оплачено полностью":$==="paid-partial"?"Частично оплачено":"Отклонено"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Фактическая сумма оплаты *"}),a.jsx(He,{type:"number",value:z.actualAmount,onChange:Q=>H(K.id,"actualAmount",Number(Q.target.value)),placeholder:"0.00",min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Дата оплаты *"}),a.jsx(He,{type:"date",value:z.executionDate,onChange:Q=>H(K.id,"executionDate",Q.target.value)})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(he,{children:"Комментарий"}),a.jsx(ai,{value:z.comment,onChange:Q=>H(K.id,"comment",Q.target.value),placeholder:"Комментарий к оплате",rows:2})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(ne,{onClick:()=>D(K.id),disabled:!z.actualAmount&&$!=="declined",variant:$==="declined"?"destructive":"default",children:[$==="paid-full"&&a.jsx(nt,{className:"h-4 w-4 mr-2"}),$==="paid-partial"&&a.jsx(er,{className:"h-4 w-4 mr-2"}),$==="declined"&&a.jsx(oi,{className:"h-4 w-4 mr-2"}),$==="paid-full"?"Отметить как оплаченный полностью":$==="paid-partial"?"Отметить как частично оплаченный":"Отклонить платеж"]})})]})})},K.id)})}),a.jsxs("div",{className:"flex justify-between items-center mt-6 pt-6 border-t",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["К обработке: ",q," платежей"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{variant:"outline",onClick:()=>u("existing"),children:"Отмена"}),a.jsxs(ne,{onClick:V,disabled:Object.keys(d).length===0,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(_d,{className:"h-4 w-4 mr-2"}),"Обработать все заполненные (",Object.keys(d).length,")"]})]})]}),q===0&&a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(nt,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),a.jsx("p",{children:"Все платежи в реестре уже обработаны"})]})]})]})})]})}function epe({request:e,onUpdateStatus:t,onCancel:r}){const[n,i]=w.useState(null),[s,l]=w.useState(""),[u,d]=w.useState(e.amount),[f,p]=w.useState(Qe(new Date,"yyyy-MM-dd")),[h,v]=w.useState(1),[b,j]=w.useState(null),{items:y}=_t("counterparties"),{items:g}=_t("expense-articles"),{items:S}=_t("priorities"),{items:C}=_t("contracts");y.find(T=>T.id===e.counterpartyId);const _=e.expenseSplits||[],O=e.paymentAllocations||[],N=T=>{const D=g.find(V=>V.id===T);return D?`${D.code} - ${D.name}`:"Неизвестно"},k=T=>S.find(D=>D.id===T),A=T=>y.find(D=>D.id===T)?.name||"Неизвестен",R=T=>T==="outside-deals"?{code:"Вне сделок",id:"outside-deals"}:C.find(D=>D.id===T),I=()=>{t(n,{actualAmount:n==="paid-partial"||n==="paid-full"?u:void 0,executionDate:n==="paid-partial"||n==="paid-full"?f:void 0,exchangeRate:n==="paid-partial"||n==="paid-full"?h:void 0,executionComment:s||void 0})},L=()=>{alert("Открытие документа: "+e.fileName)},U=()=>{alert("Скачивание документа: "+e.fileName)},W=T=>{T.target.files&&T.target.files[0]&&j(T.target.files[0])},H=T=>{switch(T){case"approved":return"bg-blue-100 text-blue-800";case"in-register":return"bg-purple-100 text-purple-800";case"approved-for-payment":return"bg-green-100 text-green-800";case"paid-full":return"bg-emerald-100 text-emerald-800";case"paid-partial":return"bg-yellow-100 text-yellow-800";case"declined":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},G=T=>{switch(T){case"approved":return"Утверждена распорядителем";case"in-register":return"Включена в реестр";case"approved-for-payment":return"Утверждена к оплате";case"paid-full":return"Оплачена полностью";case"paid-partial":return"Оплачена частично";case"declined":return"Отклонена";case"cancelled":return"Аннулирована";default:return"Неизвестен"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ne,{variant:"ghost",size:"sm",onClick:r,children:[a.jsx(Nn,{className:"h-4 w-4 mr-2"}),"К списку"]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Обработка платежа"}),a.jsx("p",{className:"text-muted-foreground",children:e.requestNumber?`Заявка: ${e.requestNumber}`:`Документ: ${e.docNumber}`})]}),a.jsx(Ne,{className:H(e.status),children:G(e.status)})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"h-5 w-5"}),"Информация о платеже"]})}),a.jsxs(me,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Оплачивающая компания"}),a.jsx("p",{className:"font-medium",children:e.payingCompany||"Не указано"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Контрагент"}),a.jsx("p",{className:"font-medium",children:A(e.counterpartyId)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Тип документа-основания"}),a.jsx("p",{className:"font-medium",children:e.docType||"Не указано"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Срок оплаты"}),a.jsx("p",{className:"font-medium",children:Qe(new Date(e.dueDate),"d MMM yyyy",{locale:ft})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Номер документа"}),a.jsx("p",{className:"font-medium",children:e.docNumber})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Дата документа"}),a.jsx("p",{className:"font-medium",children:e.docDate})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Сумма"}),a.jsxs("p",{className:"text-lg font-semibold text-primary",children:[e.amount.toLocaleString()," ",e.currency]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Ставка НДС"}),a.jsx("p",{className:"font-medium",children:e.vatRate||"Не указано"})]}),a.jsxs("div",{className:"sm:col-span-2 lg:col-span-4 space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Документ-основание"}),a.jsx("div",{className:"flex items-center gap-2",children:e.fileName&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground flex-1",children:e.fileName}),a.jsxs(ne,{variant:"outline",size:"sm",onClick:L,children:[a.jsx(fs,{className:"h-4 w-4 mr-1"}),"Просмотр"]}),a.jsxs(ne,{variant:"outline",size:"sm",onClick:U,children:[a.jsx(Ta,{className:"h-4 w-4 mr-1"}),"Скачать"]})]})})]})]}),(e.expenseCategory||e.productService||e.volume||e.priceRate||e.period||e.description)&&a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"my-6"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(he,{className:"text-sm font-medium",children:"Описание платежа"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[e.expenseCategory&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Статья расходов:"})," ",e.expenseCategory]}),e.productService&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Товар/услуга:"})," ",e.productService]}),e.volume&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Объем:"})," ",e.volume]}),e.priceRate&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Тариф:"})," ",e.priceRate]}),e.period&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Период:"})," ",e.period]})]})]})]})]})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsx(Pe,{children:"Статьи расходов"})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-3",children:_.map((T,D)=>a.jsxs("div",{className:"flex justify-between items-start p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:N(T.expenseItemId)}),T.comment&&a.jsxs("div",{className:"mt-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Комментарий регистратора:"}),a.jsx("p",{className:"text-sm text-muted-foreground italic",children:T.comment})]})]}),a.jsxs(Ne,{variant:"secondary",children:[T.amount.toLocaleString()," ",e.currency]})]},D))})})]}),a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(_l,{className:"h-5 w-5"}),"Назначение платежа от распорядителя"]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-4",children:O.length>0?O.map((T,D)=>{const V=R(T.contractId),B=T.priority?k(T.priority):null;return a.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50/30",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Контракт"}),a.jsx("p",{className:"font-medium",children:V?.code||(T.contractId==="outside-deals"?"Вне сделок":"Неизвестен")}),T.contractId==="outside-deals"&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(jt,{className:"h-3 w-3 text-orange-500"}),a.jsx("span",{className:"text-xs text-orange-600",children:"Не привязан к контракту"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Сумма распределения"}),a.jsxs("p",{className:"font-semibold text-lg",children:[T.amount.toLocaleString()," ",e.currency]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Приоритет"}),a.jsx("div",{className:"flex items-center gap-2",children:B?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${B.color==="red"?"bg-red-500":B.color==="orange"?"bg-orange-500":B.color==="yellow"?"bg-yellow-500":B.color==="green"?"bg-green-500":"bg-gray-500"}`}),a.jsx("span",{className:"text-sm font-medium",children:B.label})]}):a.jsx("span",{className:"text-sm text-muted-foreground",children:"Не указан"})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{className:"text-xs text-muted-foreground",children:"Платежное поручение"}),a.jsx("div",{className:"flex items-center gap-2",children:T.requiresPaymentOrder?a.jsxs(a.Fragment,{children:[a.jsx(iW,{className:"h-4 w-4 text-orange-500"}),a.jsx("span",{className:"text-sm font-medium text-orange-600",children:"Требуется"})]}):a.jsxs(a.Fragment,{children:[a.jsx(nt,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Не требуется"})]})})]})]}),T.comment&&a.jsxs("div",{className:"mt-4 pt-3 border-t bg-white rounded p-3",children:[a.jsxs(he,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(hs,{className:"h-3 w-3"}),"Комментарий распорядителя:"]}),a.jsx("p",{className:"text-sm mt-1 italic",children:T.comment})]})]},T.id)}):a.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[a.jsx(_l,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Распорядитель еще не назначил контракты для данного платежа"})]})})})]}),e.history&&e.history.length>0&&a.jsxs(pe,{children:[a.jsx(ke,{children:a.jsx(Pe,{children:"История и комментарии"})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-3",children:e.history.map(T=>a.jsx("div",{className:"flex gap-3 p-3 bg-muted/30 rounded",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:T.action}),a.jsx(Ne,{variant:"outline",className:"text-xs",children:T.role==="executor"?"Исполнитель":T.role==="registrar"?"Регистратор":T.role==="distributor"?"Распорядитель":"Казначей"})]}),T.comment&&a.jsx("p",{className:"text-sm text-muted-foreground",children:T.comment}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Qe(new Date(T.date),"d MMMM yyyy, HH:mm",{locale:ft})})]})},T.id))})})]}),!n&&a.jsxs("div",{className:"flex flex-wrap gap-4 justify-end",children:[e.status==="approved"&&a.jsxs(ne,{onClick:()=>i("in-register"),className:"bg-purple-600 hover:bg-purple-700",children:[a.jsx(nt,{className:"h-4 w-4 mr-2"}),"Включить в реестр на оплату"]}),(e.status==="in-register"||e.status==="approved-for-payment")&&a.jsxs(a.Fragment,{children:[a.jsxs(ne,{onClick:()=>i("paid-full"),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(nt,{className:"h-4 w-4 mr-2"}),"Оплачено полностью"]}),a.jsxs(ne,{variant:"outline",onClick:()=>i("paid-partial"),children:[a.jsx(er,{className:"h-4 w-4 mr-2"}),"Оплачено частично"]})]}),a.jsxs(ne,{variant:"destructive",onClick:()=>i("declined"),children:[a.jsx(oi,{className:"h-4 w-4 mr-2"}),"Отклонить"]}),a.jsxs(ne,{variant:"outline",onClick:()=>i("cancelled"),children:[a.jsx(oi,{className:"h-4 w-4 mr-2"}),"Аннулировать"]})]}),n&&a.jsxs(pe,{className:"border-2 border-primary",children:[a.jsx(ke,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[n==="in-register"&&a.jsx(nt,{className:"h-4 w-4 text-purple-500"}),(n==="paid-full"||n==="paid-partial")&&a.jsx(nt,{className:"h-4 w-4 text-green-500"}),(n==="declined"||n==="cancelled")&&a.jsx(oi,{className:"h-4 w-4 text-red-500"}),"Подтверждение действия"]})}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("p",{children:[n==="in-register"&&"Платеж будет включен в реестр на оплату.",n==="paid-full"&&"Платеж будет помечен как оплаченный полностью.",n==="paid-partial"&&"Платеж будет помечен как частично оплаченный.",n==="declined"&&"Платеж будет отклонен.",n==="cancelled"&&"Платеж будет аннулирован."]}),(n==="paid-full"||n==="paid-partial")&&a.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded",children:[a.jsx("h4",{className:"font-medium",children:"Данные об оплате"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Фактическая сумма оплаты *"}),a.jsx(He,{type:"number",value:u,onChange:T=>d(Number(T.target.value)),placeholder:"0.00"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Дата оплаты *"}),a.jsx(He,{type:"date",value:f,onChange:T=>p(T.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Курс на момент оплаты"}),a.jsx(He,{type:"number",step:"0.01",value:h,onChange:T=>v(Number(T.target.value)),placeholder:"1.00"})]})]}),O.some(T=>T.requiresPaymentOrder)&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(he,{className:"flex items-center gap-2",children:[a.jsx(rm,{className:"h-4 w-4"}),"Платежное поручение *"]}),a.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded",children:[a.jsx("p",{className:"text-sm text-orange-700 mb-2",children:"Распорядитель указал, что для данного платежа требуется приложить платежное поручение"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{type:"file",accept:".pdf,.doc,.docx",onChange:W,className:"flex-1"}),b&&a.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[a.jsx(nt,{className:"h-4 w-4"}),b.name]})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Комментарий"}),a.jsx(ai,{value:s,onChange:T=>l(T.target.value),placeholder:"Комментарий к действию",rows:3})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ne,{variant:"outline",onClick:()=>i(null),children:"Отмена"}),a.jsxs(ne,{onClick:I,disabled:(n==="paid-full"||n==="paid-partial")&&(!u||!f),variant:n==="declined"||n==="cancelled"?"destructive":"default",children:[a.jsx(Ed,{className:"h-4 w-4 mr-2"}),"Подтвердить"]})]})]})]})]})}function tpe({onNavigate:e}){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-medium",children:"Администрирование системы"}),a.jsx("p",{className:"text-muted-foreground",children:"Управление пользователями, справочниками и настройками системы"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Активные пользователи"}),a.jsx(uo,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"24"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 за последний месяц"})]})]}),a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Справочники"}),a.jsx(Pu,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"12"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"3 обновлены сегодня"})]})]}),a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Система"}),a.jsx(O1,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Ne,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Работает"})}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Время работы: 99.9%"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(pe,{children:[a.jsxs(ke,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Pu,{className:"h-5 w-5"}),"Справочники"]}),a.jsx(xa,{children:"Управление справочниками статей расходов, контрагентов и других данных"})]}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Статьи расходов"}),a.jsx(Ne,{variant:"outline",children:"125 записей"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Контрагенты"}),a.jsx(Ne,{variant:"outline",children:"89 записей"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Договоры"}),a.jsx(Ne,{variant:"outline",children:"45 записей"})]}),a.jsx(ne,{onClick:()=>e("dictionaries"),className:"w-full",children:"Управлять справочниками"})]})]}),a.jsxs(pe,{children:[a.jsxs(ke,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(uo,{className:"h-5 w-5"}),"Назначения регистраторов"]}),a.jsx(xa,{children:"Назначение регистраторов для обработки заявок по статьям расходов"})]}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Активных назначений"}),a.jsx(Ne,{variant:"outline",children:"8"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Регистраторов"}),a.jsx(Ne,{variant:"outline",children:"4"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Покрытие статей"}),a.jsx(Ne,{variant:"outline",children:"95%"})]}),a.jsx(ne,{onClick:()=>e("registrar-assignments"),className:"w-full",children:"Управлять назначениями"})]})]}),a.jsxs(pe,{children:[a.jsxs(ke,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(kd,{className:"h-5 w-5"}),"Маршрутизация распорядителей"]}),a.jsx(xa,{children:"Настройка маршрутов утверждения для распорядителей"})]}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Активных маршрутов"}),a.jsx(Ne,{variant:"outline",children:"3"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Распорядителей"}),a.jsx(Ne,{variant:"outline",children:"6"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Покрытие статей"}),a.jsx(Ne,{variant:"outline",children:"100%"})]}),a.jsx(ne,{onClick:()=>e("distributor-routing"),className:"w-full",children:"Управлять маршрутизацией"})]})]}),a.jsxs(pe,{children:[a.jsxs(ke,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(RD,{className:"h-5 w-5"}),"Системные настройки"]}),a.jsx(xa,{children:"Конфигурация системы, безопасность и мониторинг"})]}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Уведомления"}),a.jsx(Ne,{variant:"outline",className:"bg-green-100 text-green-800",children:"Включены"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Бэкапы"}),a.jsx(Ne,{variant:"outline",className:"bg-green-100 text-green-800",children:"Автоматические"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Аудит"}),a.jsx(Ne,{variant:"outline",className:"bg-green-100 text-green-800",children:"Активен"})]}),a.jsx(ne,{onClick:()=>e("admin"),className:"w-full",children:"Системные настройки"})]})]})]}),a.jsxs(pe,{children:[a.jsxs(ke,{children:[a.jsx(Pe,{children:"Последние действия"}),a.jsx(xa,{children:"Системная активность за последние 24 часа"})]}),a.jsx(me,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm",children:"Обновлен справочник контрагентов"}),a.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:"2 часа назад"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-sm",children:"Добавлен новый регистратор"}),a.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:"4 часа назад"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),a.jsx("span",{className:"text-sm",children:"Изменен маршрут утверждения"}),a.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:"6 часов назад"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),a.jsx("span",{className:"text-sm",children:"Создана резервная копия системы"}),a.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:"8 часов назад"})]})]})})]})]})}const WI=[{id:"expense-items",label:"Статьи расходов",icon:Nt,description:"Управление статьями расходов и их классификацией"},{id:"counterparties",label:"Контрагенты",icon:Lq,description:"База данных контрагентов и поставщиков"},{id:"contracts",label:"Контракты",icon:Pu,description:"Договоры и соглашения с контрагентами"},{id:"normatives",label:"Нормативы",icon:AD,description:"Лимиты и нормативы по статьям расходов"},{id:"priorities",label:"Приоритеты",icon:jt,description:"Приоритеты платежей и операций"},{id:"users",label:"Пользователи",icon:uo,description:"Управление пользователями и ролями"}];function rpe({onBack:e}){const[t,r]=w.useState("expense-items"),[n,i]=w.useState(""),[s,l]=w.useState(!1),[u,d]=w.useState(!1),[f,p]=w.useState(!1),[h,v]=w.useState(null),[b,j]=w.useState(""),{items:y,statistics:g,state:S,searchItems:C,deleteItem:_,bulkDelete:O,exportItems:N,importItems:k,selectItem:A,selectAllItems:R,clearSelection:I}=_t(t),L=w.useCallback(q=>{r(q),i(""),I(),l(!1),d(!1),p(!1)},[I]),U=w.useCallback(q=>{i(q),q.trim()&&C(q)},[C]),W=w.useCallback(()=>{v(null),l(!0)},[]),H=w.useCallback(q=>{v(q),d(!0)},[]),G=w.useCallback(async q=>{window.confirm("Вы уверены, что хотите удалить этот элемент?")&&await _(q)},[_]),T=w.useCallback(async q=>{if(S.selectedItems.length!==0)switch(q){case"delete":window.confirm(`Вы уверены, что хотите удалить ${S.selectedItems.length} элементов?`)&&await O(S.selectedItems);break;case"export":try{const K=await N({format:"json"}),z=URL.createObjectURL(K),F=document.createElement("a");F.href=z,F.download=`${t}-export.json`,F.click(),URL.revokeObjectURL(z)}catch(K){console.error("Export failed:",K)}break}},[S.selectedItems,O,N,t]);w.useCallback(async q=>{try{await k(q),window.location.reload()}catch(K){console.error("Import failed:",K)}},[k]);const D=q=>q?a.jsxs(Ne,{className:"bg-green-100 text-green-800",children:[a.jsx(nt,{className:"w-3 h-3 mr-1"}),"Активный"]}):a.jsxs(Ne,{className:"bg-red-100 text-red-800",children:[a.jsx(oi,{className:"w-3 h-3 mr-1"}),"Неактивный"]}),V=q=>{const K={executor:"Исполнитель",registrar:"Регистратор",distributor:"Распорядитель",treasurer:"Казначей",admin:"Администратор"},z={executor:"bg-blue-100 text-blue-800",registrar:"bg-green-100 text-green-800",distributor:"bg-purple-100 text-purple-800",treasurer:"bg-orange-100 text-orange-800",admin:"bg-red-100 text-red-800"};return a.jsx(Ne,{className:z[q]||"bg-gray-100 text-gray-800",children:K[q]||q})},B=()=>{switch(t){case"expense-items":return a.jsxs(xn,{children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{className:"w-12",children:a.jsx("input",{type:"checkbox",checked:S.selectedItems.length===y.length&&y.length>0,onChange:R})}),a.jsx(_e,{children:"Код"}),a.jsx(_e,{children:"Наименование"}),a.jsx(_e,{children:"Роль владельца"}),a.jsx(_e,{children:"Статус"}),a.jsx(_e,{children:"Действия"})]})}),a.jsx(bn,{children:y.map(q=>a.jsxs(It,{children:[a.jsx(Ee,{children:a.jsx("input",{type:"checkbox",checked:S.selectedItems.includes(q.id),onChange:()=>A(q.id)})}),a.jsx(Ee,{className:"font-mono",children:q.code}),a.jsx(Ee,{children:q.name}),a.jsx(Ee,{children:V(q.ownerRole)}),a.jsx(Ee,{children:D(q.isActive)}),a.jsx(Ee,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>H(q),children:a.jsx(ga,{className:"w-4 h-4"})}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>G(q.id),children:a.jsx(ei,{className:"w-4 h-4"})})]})})]},q.id))})]});case"counterparties":return a.jsxs(xn,{children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{className:"w-12",children:a.jsx("input",{type:"checkbox",checked:S.selectedItems.length===y.length&&y.length>0,onChange:R})}),a.jsx(_e,{children:"Наименование"}),a.jsx(_e,{children:"Сокращение"}),a.jsx(_e,{children:"БИН/ИИН"}),a.jsx(_e,{children:"Категория"}),a.jsx(_e,{children:"Статус"}),a.jsx(_e,{children:"Действия"})]})}),a.jsx(bn,{children:y.map(q=>a.jsxs(It,{children:[a.jsx(Ee,{children:a.jsx("input",{type:"checkbox",checked:S.selectedItems.includes(q.id),onChange:()=>A(q.id)})}),a.jsx(Ee,{children:q.name}),a.jsx(Ee,{children:q.abbreviation}),a.jsx(Ee,{className:"font-mono",children:q.binIin}),a.jsx(Ee,{children:q.category}),a.jsx(Ee,{children:D(q.isActive)}),a.jsx(Ee,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>H(q),children:a.jsx(ga,{className:"w-4 h-4"})}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>G(q.id),children:a.jsx(ei,{className:"w-4 h-4"})})]})})]},q.id))})]});case"contracts":return a.jsxs(xn,{children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{className:"w-12",children:a.jsx("input",{type:"checkbox",checked:S.selectedItems.length===y.length&&y.length>0,onChange:R})}),a.jsx(_e,{children:"Код контракта"}),a.jsx(_e,{children:"Контрагент"}),a.jsx(_e,{children:"Статья расходов"}),a.jsx(_e,{children:"Лимит"}),a.jsx(_e,{children:"Статус"}),a.jsx(_e,{children:"Действия"})]})}),a.jsx(bn,{children:y.map(q=>a.jsxs(It,{children:[a.jsx(Ee,{children:a.jsx("input",{type:"checkbox",checked:S.selectedItems.includes(q.id),onChange:()=>A(q.id)})}),a.jsx(Ee,{className:"font-mono",children:q.code}),a.jsx(Ee,{children:q.counterpartyId}),a.jsx(Ee,{children:q.expenseItemId}),a.jsxs(Ee,{children:[q.limitTotal.toLocaleString()," ₸"]}),a.jsx(Ee,{children:a.jsx(Ne,{className:q.status==="active"?"bg-green-100 text-green-800":q.status==="completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800",children:q.status==="active"?"Активный":q.status==="completed"?"Завершен":"Отменен"})}),a.jsx(Ee,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>H(q),children:a.jsx(ga,{className:"w-4 h-4"})}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>G(q.id),children:a.jsx(ei,{className:"w-4 h-4"})})]})})]},q.id))})]});case"priorities":return a.jsxs(xn,{children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{className:"w-12",children:a.jsx("input",{type:"checkbox",checked:S.selectedItems.length===y.length&&y.length>0,onChange:R})}),a.jsx(_e,{children:"Ранг"}),a.jsx(_e,{children:"Наименование"}),a.jsx(_e,{children:"Цвет"}),a.jsx(_e,{children:"Описание"}),a.jsx(_e,{children:"Действия"})]})}),a.jsx(bn,{children:y.map(q=>a.jsxs(It,{children:[a.jsx(Ee,{children:a.jsx("input",{type:"checkbox",checked:S.selectedItems.includes(q.id),onChange:()=>A(q.id)})}),a.jsx(Ee,{children:q.rank}),a.jsx(Ee,{children:q.name}),a.jsx(Ee,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:q.color}}),a.jsx("span",{className:"text-sm",children:q.color})]})}),a.jsx(Ee,{className:"max-w-xs truncate",children:q.ruleDescription}),a.jsx(Ee,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>H(q),children:a.jsx(ga,{className:"w-4 h-4"})}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>G(q.id),children:a.jsx(ei,{className:"w-4 h-4"})})]})})]},q.id))})]});case"users":return a.jsxs(xn,{children:[a.jsx(yn,{children:a.jsxs(It,{children:[a.jsx(_e,{className:"w-12",children:a.jsx("input",{type:"checkbox",checked:S.selectedItems.length===y.length&&y.length>0,onChange:R})}),a.jsx(_e,{children:"Имя"}),a.jsx(_e,{children:"Email"}),a.jsx(_e,{children:"Роли"}),a.jsx(_e,{children:"Текущая роль"}),a.jsx(_e,{children:"Статус"}),a.jsx(_e,{children:"Действия"})]})}),a.jsx(bn,{children:y.map(q=>a.jsxs(It,{children:[a.jsx(Ee,{children:a.jsx("input",{type:"checkbox",checked:S.selectedItems.includes(q.id),onChange:()=>A(q.id)})}),a.jsx(Ee,{children:q.name}),a.jsx(Ee,{children:q.email}),a.jsx(Ee,{children:a.jsx("div",{className:"flex gap-1",children:q.roles.map(K=>a.jsx(Ne,{variant:"outline",className:"text-xs",children:K},K))})}),a.jsx(Ee,{children:V(q.currentRole)}),a.jsx(Ee,{children:D(q.isActive)}),a.jsx(Ee,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>H(q),children:a.jsx(ga,{className:"w-4 h-4"})}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>G(q.id),children:a.jsx(ei,{className:"w-4 h-4"})})]})})]},q.id))})]});default:return a.jsx("div",{children:"Неизвестный тип словаря"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ne,{variant:"ghost",onClick:e,className:"pl-0",children:"← Назад"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Управление справочниками"}),a.jsx("p",{className:"text-muted-foreground",children:"Централизованное управление всеми справочными данными системы"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ne,{variant:"outline",onClick:()=>p(!0),children:[a.jsx(ID,{className:"w-4 h-4 mr-2"}),"Массовые операции"]}),a.jsxs(ne,{onClick:W,children:[a.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Добавить"]})]})]}),g&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Всего элементов"}),a.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(me,{children:a.jsx("div",{className:"text-2xl font-bold",children:g.totalItems})})]}),a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Активных"}),a.jsx(nt,{className:"h-4 w-4 text-green-600"})]}),a.jsx(me,{children:a.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.activeItems})})]}),a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Неактивных"}),a.jsx(oi,{className:"h-4 w-4 text-red-600"})]}),a.jsx(me,{children:a.jsx("div",{className:"text-2xl font-bold text-red-600",children:g.inactiveItems})})]}),a.jsxs(pe,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Обновлено за неделю"}),a.jsx(kd,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(me,{children:a.jsx("div",{className:"text-2xl font-bold",children:g.recentlyUpdated})})]})]}),a.jsx(pe,{children:a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(He,{placeholder:"Поиск...",value:n,onChange:q=>U(q.target.value),className:"pl-10"})]}),a.jsxs(ne,{variant:"outline",size:"sm",children:[a.jsx(bi,{className:"w-4 h-4 mr-2"}),"Фильтры"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ne,{variant:"outline",size:"sm",children:[a.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Экспорт"]}),a.jsxs(ne,{variant:"outline",size:"sm",children:[a.jsx(rm,{className:"w-4 h-4 mr-2"}),"Импорт"]})]})]})})}),a.jsxs(ev,{value:t,onValueChange:L,children:[a.jsx(tv,{className:"grid w-full grid-cols-6",children:WI.map(q=>{const K=q.icon;return a.jsxs(ii,{value:q.id,className:"flex items-center gap-2",children:[a.jsx(K,{className:"w-4 h-4"}),q.label]},q.id)})}),WI.map(q=>a.jsx(si,{value:q.id,className:"space-y-4",children:a.jsxs(pe,{children:[a.jsxs(ke,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(q.icon,{className:"w-5 h-5"}),q.label]}),a.jsx(xa,{children:q.description})]}),a.jsx(me,{children:S.isLoading?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"text-muted-foreground",children:"Загрузка..."})}):S.error?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsxs("div",{className:"text-red-600",children:["Ошибка: ",S.error]})}):y.length===0?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"text-muted-foreground",children:"Нет данных"})}):B()})]})},q.id))]}),a.jsx(gi,{open:f,onOpenChange:p,children:a.jsxs(Ma,{children:[a.jsxs(xi,{children:[a.jsx(yi,{children:"Массовые операции"}),a.jsxs(vs,{children:["Выберите действие для ",S.selectedItems.length," выбранных элементов"]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs(ot,{value:b,onValueChange:j,children:[a.jsx(ct,{children:a.jsx(lt,{placeholder:"Выберите действие"})}),a.jsxs(ut,{children:[a.jsx(we,{value:"delete",children:"Удалить"}),a.jsx(we,{value:"export",children:"Экспортировать"}),a.jsx(we,{value:"activate",children:"Активировать"}),a.jsx(we,{value:"deactivate",children:"Деактивировать"})]})]})}),a.jsxs(DL,{children:[a.jsx(ne,{variant:"outline",onClick:()=>p(!1),children:"Отмена"}),a.jsx(ne,{onClick:()=>{T(b),p(!1)},disabled:!b,children:"Выполнить"})]})]})})]})}function npe({onBack:e}){const[t,r]=w.useState({notifications:{emailEnabled:!0,smsEnabled:!1,webhookEnabled:!0,overdueReminders:!0,approvalReminders:!0},security:{sessionTimeout:480,requirePasswordChange:!0,passwordChangeInterval:90,maxLoginAttempts:5,ipWhitelistEnabled:!1},backup:{autoBackup:!0,backupInterval:"daily",retentionDays:30,cloudBackup:!0},integration:{apiEnabled:!0,webhookUrl:"https://api.grainpay.kz/webhook",apiKey:"gp_*********************",bankIntegration:!0}}),n=(u,d,f)=>{r(p=>({...p,[u]:{...p[u],[d]:f}})),fe.success("Настройка обновлена")},i=()=>{fe.success("Настройки сохранены")},s=()=>{fe.success("Резервное копирование запущено")},l=()=>{fe.success("Соединение успешно")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ne,{variant:"ghost",onClick:e,className:"pl-0",children:"← Назад"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-medium",children:"Системные настройки"}),a.jsx("p",{className:"text-muted-foreground",children:"Конфигурация системы, безопасность и интеграции"})]})]}),a.jsx(ne,{onClick:i,children:"Сохранить изменения"})]}),a.jsxs(ev,{defaultValue:"notifications",className:"space-y-4",children:[a.jsxs(tv,{className:"grid w-full grid-cols-4",children:[a.jsxs(ii,{value:"notifications",className:"flex items-center gap-2",children:[a.jsx(OD,{className:"h-4 w-4"}),"Уведомления"]}),a.jsxs(ii,{value:"security",className:"flex items-center gap-2",children:[a.jsx(RD,{className:"h-4 w-4"}),"Безопасность"]}),a.jsxs(ii,{value:"backup",className:"flex items-center gap-2",children:[a.jsx(Ow,{className:"h-4 w-4"}),"Резервные копии"]}),a.jsxs(ii,{value:"integration",className:"flex items-center gap-2",children:[a.jsx(LW,{className:"h-4 w-4"}),"Интеграции"]})]}),a.jsx(si,{value:"notifications",className:"space-y-4",children:a.jsxs(pe,{children:[a.jsxs(ke,{children:[a.jsx(Pe,{children:"Настройки уведомлений"}),a.jsx(xa,{children:"Управление системными уведомлениями и напоминаниями"})]}),a.jsxs(me,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{children:"Email уведомления"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Отправка уведомлений по электронной почте"})]}),a.jsx(Zr,{checked:t.notifications.emailEnabled,onCheckedChange:u=>n("notifications","emailEnabled",u)})]}),a.jsx(pn,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{children:"SMS уведомления"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Отправка SMS для критичных уведомлений"})]}),a.jsx(Zr,{checked:t.notifications.smsEnabled,onCheckedChange:u=>n("notifications","smsEnabled",u)})]}),a.jsx(pn,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{children:"Webhook уведомления"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Отправка уведомлений через webhook"})]}),a.jsx(Zr,{checked:t.notifications.webhookEnabled,onCheckedChange:u=>n("notifications","webhookEnabled",u)})]}),a.jsx(pn,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{children:"Напоминания о просроченных заявках"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Автоматические напоминания о заявках, превышающих SLA"})]}),a.jsx(Zr,{checked:t.notifications.overdueReminders,onCheckedChange:u=>n("notifications","overdueReminders",u)})]}),a.jsx(pn,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{children:"Напоминания об утверждении"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Напоминания распорядителям и казначеям о необходимости утверждения"})]}),a.jsx(Zr,{checked:t.notifications.approvalReminders,onCheckedChange:u=>n("notifications","approvalReminders",u)})]})]})]})}),a.jsx(si,{value:"security",className:"space-y-4",children:a.jsxs(pe,{children:[a.jsxs(ke,{children:[a.jsx(Pe,{children:"Настройки безопасности"}),a.jsx(xa,{children:"Управление безопасностью и аутентификацией пользователей"})]}),a.jsxs(me,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"sessionTimeout",children:"Время сессии (минуты)"}),a.jsx(He,{id:"sessionTimeout",type:"number",value:t.security.sessionTimeout,onChange:u=>n("security","sessionTimeout",parseInt(u.target.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"maxLoginAttempts",children:"Максимум попыток входа"}),a.jsx(He,{id:"maxLoginAttempts",type:"number",value:t.security.maxLoginAttempts,onChange:u=>n("security","maxLoginAttempts",parseInt(u.target.value))})]})]}),a.jsx(pn,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{children:"Принудительная смена пароля"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Требовать смену пароля каждые ",t.security.passwordChangeInterval," дней"]})]}),a.jsx(Zr,{checked:t.security.requirePasswordChange,onCheckedChange:u=>n("security","requirePasswordChange",u)})]}),a.jsx(pn,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{children:"Белый список IP-адресов"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ограничить доступ только определенными IP-адресами"})]}),a.jsx(Zr,{checked:t.security.ipWhitelistEnabled,onCheckedChange:u=>n("security","ipWhitelistEnabled",u)})]})]})]})}),a.jsx(si,{value:"backup",className:"space-y-4",children:a.jsxs(pe,{children:[a.jsxs(ke,{children:[a.jsx(Pe,{children:"Резервное копирование"}),a.jsx(xa,{children:"Настройки автоматического резервного копирования данных"})]}),a.jsxs(me,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{children:"Автоматическое резервное копирование"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Регулярное создание резервных копий системы"})]}),a.jsx(Zr,{checked:t.backup.autoBackup,onCheckedChange:u=>n("backup","autoBackup",u)})]}),a.jsx(pn,{}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Интервал резервного копирования"}),a.jsxs("select",{className:"w-full p-2 border rounded-md",value:t.backup.backupInterval,onChange:u=>n("backup","backupInterval",u.target.value),children:[a.jsx("option",{value:"hourly",children:"Каждый час"}),a.jsx("option",{value:"daily",children:"Ежедневно"}),a.jsx("option",{value:"weekly",children:"Еженедельно"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Хранить копии (дней)"}),a.jsx(He,{type:"number",value:t.backup.retentionDays,onChange:u=>n("backup","retentionDays",parseInt(u.target.value))})]})]}),a.jsx(pn,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{children:"Облачное резервное копирование"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Сохранение копий в облачном хранилище"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zr,{checked:t.backup.cloudBackup,onCheckedChange:u=>n("backup","cloudBackup",u)}),a.jsxs(ne,{variant:"outline",size:"sm",onClick:s,children:[a.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Создать копию"]})]})]}),a.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(nt,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-medium",children:"Последняя резервная копия"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Создана: сегодня в 03:00 (размер: 145.6 МБ)"})]})]})]})}),a.jsx(si,{value:"integration",className:"space-y-4",children:a.jsxs(pe,{children:[a.jsxs(ke,{children:[a.jsx(Pe,{children:"Внешние интеграции"}),a.jsx(xa,{children:"Настройки API и внешних интеграций системы"})]}),a.jsxs(me,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{children:"API доступ"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Разрешить внешним системам использовать API"})]}),a.jsx(Zr,{checked:t.integration.apiEnabled,onCheckedChange:u=>n("integration","apiEnabled",u)})]}),a.jsx(pn,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"webhookUrl",children:"Webhook URL"}),a.jsx(He,{id:"webhookUrl",value:t.integration.webhookUrl,onChange:u=>n("integration","webhookUrl",u.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"apiKey",children:"API ключ"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(He,{id:"apiKey",type:"password",value:t.integration.apiKey,onChange:u=>n("integration","apiKey",u.target.value)}),a.jsxs(ne,{variant:"outline",size:"sm",children:[a.jsx(wW,{className:"h-4 w-4 mr-2"}),"Создать новый"]})]})]}),a.jsx(pn,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(he,{children:"Интеграция с банком"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Автоматическая отправка реестров платежей в банк"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zr,{checked:t.integration.bankIntegration,onCheckedChange:u=>n("integration","bankIntegration",u)}),a.jsx(ne,{variant:"outline",size:"sm",onClick:l,children:"Тест соединения"})]})]}),a.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(nt,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-medium",children:"Статус интеграций"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"API статус:"}),a.jsx(Ne,{className:"bg-green-100 text-green-800",children:"Активен"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Банковская интеграция:"}),a.jsx(Ne,{className:"bg-green-100 text-green-800",children:"Подключена"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Последняя синхронизация:"}),a.jsx("span",{className:"text-muted-foreground",children:"10 минут назад"})]})]})]})]})]})})]})]})}const ape=({onBack:e})=>a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"API Integration Test"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Test component for API integration"}),a.jsx(ne,{onClick:e,children:"Назад"})]}),ipe=({onBack:e})=>a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Dictionary API Test"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Test component for dictionary API"}),a.jsx(ne,{onClick:e,children:"Назад"})]}),spe=({onBack:e})=>a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Integration Test"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Test component for integration testing"}),a.jsx(ne,{onClick:e,children:"Назад"})]});function ope(){const{state:e,dispatch:t}=ac(),{saveDraft:r,classifyRequest:n,classifyRequestWithItems:i,returnRequest:s,approveRequest:l,approveOnBehalfRequest:u,declineRequest:d,treasurerUpdateStatus:f}=R1();B9();const{handleCreateRequest:p,handleViewRequest:h,handleRequestUpdate:v}=z9();return(()=>{try{if(e.showCreateForm){const j=e.selectedRequestId?e.paymentRequests.find(y=>y.id===e.selectedRequestId):void 0;return a.jsx(HL,{onSubmit:y=>{t(ge.addPaymentRequest(y)),t(ge.resetFormState()),t(ge.setCurrentPage("requests")),fe.success(`Заявка ${y.requestNumber} успешно создана и отправлена на регистрацию`)},onCancel:()=>{t(ge.resetFormState())},onSaveDraft:r,initialData:j,isEditing:!!j,selectedRequestId:e.selectedRequestId||void 0})}if(e.viewMode==="view"&&e.selectedRequestId)return a.jsx(Bfe,{requestId:e.selectedRequestId,onCancel:()=>{t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null)),e.currentPage==="requests"&&t(ge.setCurrentPage("dashboard"))},onRequestUpdate:v});if(e.currentPage==="requests"&&e.viewMode==="classify"&&e.selectedRequestId){const j=e.paymentRequests.find(y=>y.id===e.selectedRequestId);if(j)return a.jsx(Kfe,{request:j,onSubmit:n,onReturn:s,onCancel:()=>{t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null))}})}if(e.currentPage==="requests"&&e.viewMode==="classify-items"&&e.selectedRequestId){const j=e.paymentRequests.find(y=>y.id===e.selectedRequestId);if(j)return a.jsx(Yfe,{request:j,onSubmit:i,onReturn:s,onCancel:()=>{t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null))}})}if(e.currentPage==="requests"&&e.viewMode==="approve"&&e.selectedRequestId){const j=e.paymentRequests.find(y=>y.id===e.selectedRequestId);if(j)return a.jsx(qhe,{request:j,onApprove:l,onApproveOnBehalf:u,onReturn:s,onDecline:d,onCancel:()=>{t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null))}})}if(e.currentPage==="registers"&&e.viewMode==="register")return a.jsx(Jhe,{onBack:()=>t(ge.setViewMode("list")),onUpdateRequest:v});if(e.currentPage==="requests"&&e.viewMode==="treasurer-approve"&&e.selectedRequestId){const j=e.paymentRequests.find(y=>y.id===e.selectedRequestId);if(j)return a.jsx(epe,{request:j,onUpdateStatus:f,onCancel:()=>{t(ge.setViewMode("list")),t(ge.setSelectedRequestId(null))}})}switch(e.currentPage){case"dashboard":return e.currentRole==="admin"?a.jsx(tpe,{onNavigate:j=>t(ge.setCurrentPage(j))}):e.currentRole==="sub_registrar"?a.jsx(UI,{currentUserId:"6c626090-ab4a-44c2-a16d-01b73423557b",onViewRequest:h}):["registrar","sub_registrar","distributor"].includes(e.currentRole)?a.jsx(Whe,{currentRole:e.currentRole,paymentRequests:e.paymentRequests,onViewRequest:h,onNavigate:j=>t(ge.setCurrentPage(j))}):a.jsx(II,{currentRole:e.currentRole,onFilterChange:j=>{t(ge.setDashboardFilter(j)),!(e.currentRole==="registrar"||e.currentRole==="distributor")&&j&&e.currentRole!=="executor"&&t(ge.setCurrentPage("requests"))},currentFilter:e.dashboardFilter,onViewRequest:h,onCreateRequest:p,paymentRequests:e.paymentRequests});case"requests":return e.currentRole==="executor"?a.jsx(Ufe,{onCreateRequest:p,onViewRequest:h,onEditRequest:j=>{t(ge.setSelectedRequestId(j)),t(ge.setShowCreateForm(!0))}}):e.currentRole==="distributor"?a.jsx(Bhe,{onViewRequest:h,paymentRequests:e.paymentRequests}):e.currentRole==="sub_registrar"?a.jsx(UI,{currentUserId:"6c626090-ab4a-44c2-a16d-01b73423557b",onViewRequest:h}):a.jsx(aue,{currentRole:e.currentRole,onCreateRequest:p,onViewRequest:h,dashboardFilter:e.dashboardFilter,onClearFilter:()=>t(ge.setDashboardFilter(null)),paymentRequests:e.paymentRequests});case"registers":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Реестры платежей"}),a.jsx("p",{className:"text-muted-foreground",children:"Управление реестрами для отправки в банк"})]}),a.jsx(ne,{onClick:()=>t(ge.setViewMode("register")),children:"Открыть реестр платежей"})]}),a.jsxs("div",{className:"p-8 text-center text-muted-foreground border-2 border-dashed rounded-lg",children:[a.jsx("p",{children:"Здесь будет список созданных реестров"}),a.jsx("p",{className:"text-sm mt-2",children:"Пока что доступно только создание нового реестра"})]})]});case"dictionaries":return a.jsx(rpe,{onBack:()=>t(ge.setCurrentPage("dashboard"))});case"admin":return a.jsx(npe,{onBack:()=>t(ge.setCurrentPage("dashboard"))});case"unallocated":return a.jsx(Zhe,{onViewRequest:h});case"registrar-assignments":return a.jsx(Fhe,{onBack:()=>t(ge.setCurrentPage("dashboard"))});case"distributor-routing":return a.jsx(Qhe,{onBack:()=>t(ge.setCurrentPage("dashboard"))});case"test-api":return a.jsx(ape,{onBack:()=>t(ge.setCurrentPage("dashboard"))});case"test-dictionary-api":return a.jsx(ipe,{onBack:()=>t(ge.setCurrentPage("dashboard"))});case"integration-test":return a.jsx(spe,{onBack:()=>t(ge.setCurrentPage("dashboard"))});case"sub-registrar-assignments":return a.jsx(Jfe,{onReportUpdate:()=>{fe.success("Отчёт обновлён")}});case"distributor-workflow":return a.jsx(zhe,{onRequestUpdate:()=>{fe.success("Заявка обновлена")}});case"export-contracts":return a.jsx(Uhe,{onContractSelect:j=>{fe.success(`Выбран контракт: ${j.contractNumber}`)}});default:return a.jsx(II,{currentRole:e.currentRole,paymentRequests:e.paymentRequests,onViewRequest:h})}}catch(j){return console.error("Error rendering page:",j),a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("p",{className:"text-red-600",children:"Произошла ошибка при загрузке страницы"}),a.jsx(ne,{onClick:()=>window.location.reload(),className:"mt-4",children:"Обновить страницу"})]})}})()}const lpe={currentDictionary:"expense-articles",dictionaries:{"expense-articles":{items:[],statistics:null,state:{currentDictionary:"expense-articles",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},counterparties:{items:[],statistics:null,state:{currentDictionary:"counterparties",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},contracts:{items:[],statistics:null,state:{currentDictionary:"contracts",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},normatives:{items:[],statistics:null,state:{currentDictionary:"normatives",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},priorities:{items:[],statistics:null,state:{currentDictionary:"priorities",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},users:{items:[],statistics:null,state:{currentDictionary:"users",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}}},globalState:{isLoading:!1,error:null,lastUpdated:null}};function cpe(e,t){switch(t.type){case"SET_CURRENT_DICTIONARY":return{...e,currentDictionary:t.payload};case"SET_ITEMS":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:t.payload.items}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"SET_STATISTICS":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],statistics:t.payload.statistics}}};case"SET_STATE":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],state:{...e.dictionaries[t.payload.type].state,...t.payload.state}}}};case"ADD_ITEM":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:[...e.dictionaries[t.payload.type].items,t.payload.item]}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"UPDATE_ITEM":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:e.dictionaries[t.payload.type].items.map(r=>r.id===t.payload.id?{...r,...t.payload.item}:r)}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"DELETE_ITEM":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:e.dictionaries[t.payload.type].items.filter(r=>r.id!==t.payload.id)}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"SET_LOADING":return{...e,globalState:{...e.globalState,isLoading:t.payload}};case"SET_ERROR":return{...e,globalState:{...e.globalState,error:t.payload}};case"CLEAR_ERROR":return{...e,globalState:{...e.globalState,error:null}};case"RESET_DICTIONARY":return{...e,dictionaries:{...e.dictionaries,[t.payload]:{items:[],statistics:null,state:{currentDictionary:t.payload,selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}}}};default:return e}}const upe=w.createContext(void 0);function dpe({children:e}){const[t,r]=w.useReducer(cpe,lpe),S={state:t,dispatch:r,getDictionaryState:C=>t.dictionaries[C].state,getDictionaryItems:C=>t.dictionaries[C].items,getDictionaryStatistics:C=>t.dictionaries[C].statistics,setCurrentDictionary:C=>{r({type:"SET_CURRENT_DICTIONARY",payload:C})},setItems:(C,_)=>{r({type:"SET_ITEMS",payload:{type:C,items:_}})},setStatistics:(C,_)=>{r({type:"SET_STATISTICS",payload:{type:C,statistics:_}})},updateDictionaryState:(C,_)=>{r({type:"SET_STATE",payload:{type:C,state:_}})},addItem:(C,_)=>{r({type:"ADD_ITEM",payload:{type:C,item:_}})},updateItem:(C,_,O)=>{r({type:"UPDATE_ITEM",payload:{type:C,id:_,item:O}})},deleteItem:(C,_)=>{r({type:"DELETE_ITEM",payload:{type:C,id:_}})},setLoading:C=>{r({type:"SET_LOADING",payload:C})},setError:C=>{r({type:"SET_ERROR",payload:C})},clearError:()=>{r({type:"CLEAR_ERROR"})},resetDictionary:C=>{r({type:"RESET_DICTIONARY",payload:C})}};return a.jsx(upe.Provider,{value:S,children:e})}function fpe(){const{state:e,dispatch:t}=ac(),r=w.useCallback(async i=>{if(console.log("Toggle API mode requested:",i),D9(i),fe.info(`Переключено на ${i?"mock":"API"} режим`),e.currentUser)try{const s=await rt.getAll({role:e.currentRole});t(ge.setPaymentRequests(s))}catch(s){console.error("Failed to reload after API mode toggle:",s),fe.error("Ошибка загрузки после переключения режима")}},[e.currentUser,e.currentRole,t]),n=w.useCallback(()=>M9(),[]);return{handleToggleApiMode:r,getApiStatusInfo:n}}var hpe=(e,t,r,n,i,s,l,u)=>{let d=document.documentElement,f=["light","dark"];function p(b){(Array.isArray(e)?e:[e]).forEach(j=>{let y=j==="class",g=y&&s?i.map(S=>s[S]||S):i;y?(d.classList.remove(...g),d.classList.add(s&&s[b]?s[b]:b)):d.setAttribute(j,b)}),h(b)}function h(b){u&&f.includes(b)&&(d.style.colorScheme=b)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)p(n);else try{let b=localStorage.getItem(t)||r,j=l&&b==="system"?v():b;p(j)}catch{}},ppe=w.createContext(void 0),mpe={setTheme:e=>{},themes:[]},vpe=()=>{var e;return(e=w.useContext(ppe))!=null?e:mpe};w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:l,themes:u,nonce:d,scriptProps:f})=>{let p=JSON.stringify([r,t,s,e,u,l,n,i]).slice(1,-1);return w.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${hpe.toString()})(${p})`}})});const gpe=({...e})=>{const{theme:t="system"}=vpe();return a.jsx(_7,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function xpe(){const{state:e,dispatch:t}=ac(),{loadInitialData:r}=R1();fpe();const{logout:n}=KI();return w.useEffect(()=>{YI();const i=s=>{if(s.message&&s.message.includes("CSSScopeRule"))return console.warn("CSSScopeRule error caught and handled:",s.message),s.preventDefault(),!1};return window.addEventListener("error",i),()=>{window.removeEventListener("error",i)}},[]),w.useEffect(()=>{r()},[r]),e.isLoading&&!e.currentUser?a.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Загрузка..."})]})}):a.jsx(dpe,{children:a.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[a.jsx(JW,{currentRole:e.currentRole,onRoleChange:i=>t(ge.setCurrentRole(i)),userName:e.currentUser?.full_name||"Пользователь",onLogout:n}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(A9,{currentPage:e.currentPage,onPageChange:i=>t(ge.setCurrentPage(i)),currentRole:e.currentRole,isCreatingRequest:e.showCreateForm,paymentRequests:e.paymentRequests,onFilterChange:i=>t(ge.setDashboardFilter(i))})}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:a.jsx(ope,{})})})]}),a.jsx("div",{className:"md:hidden border-t bg-white p-2",children:a.jsx("div",{className:"flex justify-around",children:fM.filter(i=>i.roles.includes(e.currentRole)).slice(0,4).map(i=>a.jsxs(ne,{variant:e.currentPage===i.id?"default":"ghost",size:"sm",className:Ie("flex-col h-auto py-2 px-3",e.showCreateForm&&"opacity-50 cursor-not-allowed"),onClick:()=>{if(e.showCreateForm){fe.warning("Завершите создание заявки или сохраните черновик перед переходом",{duration:4e3});return}t(ge.setCurrentPage(i.id))},disabled:e.showCreateForm,children:[i.icon,a.jsx("span",{className:"text-xs mt-1",children:i.label})]},i.id))})}),a.jsx(gpe,{position:"top-right"})]})})}function ype(){return a.jsx(R9,{children:a.jsx(xpe,{})})}const bpe=()=>{const{isAuthenticated:e,login:t}=KI();return e?a.jsx(ype,{}):a.jsx(I8,{onLogin:t})};function wpe(){return a.jsx(T8,{children:a.jsx(bpe,{})})}A8.createRoot(document.getElementById("root")).render(a.jsx(wpe,{}));
