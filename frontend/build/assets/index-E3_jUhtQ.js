function GU(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ax={exports:{}},yu={},sx={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function KU(){if(hE)return bt;hE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function v(q,F,L){this.props=q,this.context=F,this.refs=b,this.updater=L||j}v.prototype.isReactComponent={},v.prototype.setState=function(q,F){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,F,"setState")},v.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=v.prototype;function C(q,F,L){this.props=q,this.context=F,this.refs=b,this.updater=L||j}var S=C.prototype=new N;S.constructor=C,w(S,v.prototype),S.isPureReactComponent=!0;var A=Array.isArray,_=Object.prototype.hasOwnProperty,T={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function D(q,F,L){var Y,ee={},ce=null,K=null;if(F!=null)for(Y in F.ref!==void 0&&(K=F.ref),F.key!==void 0&&(ce=""+F.key),F)_.call(F,Y)&&!R.hasOwnProperty(Y)&&(ee[Y]=F[Y]);var fe=arguments.length-2;if(fe===1)ee.children=L;else if(1<fe){for(var oe=Array(fe),Ee=0;Ee<fe;Ee++)oe[Ee]=arguments[Ee+2];ee.children=oe}if(q&&q.defaultProps)for(Y in fe=q.defaultProps,fe)ee[Y]===void 0&&(ee[Y]=fe[Y]);return{$$typeof:e,type:q,key:ce,ref:K,props:ee,_owner:T.current}}function k(q,F){return{$$typeof:e,type:q.type,key:F,ref:q.ref,props:q.props,_owner:q._owner}}function B(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function z(q){var F={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(L){return F[L]})}var G=/\/+/g;function W(q,F){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):F.toString(36)}function Z(q,F,L,Y,ee){var ce=typeof q;(ce==="undefined"||ce==="boolean")&&(q=null);var K=!1;if(q===null)K=!0;else switch(ce){case"string":case"number":K=!0;break;case"object":switch(q.$$typeof){case e:case t:K=!0}}if(K)return K=q,ee=ee(K),q=Y===""?"."+W(K,0):Y,A(ee)?(L="",q!=null&&(L=q.replace(G,"$&/")+"/"),Z(ee,F,L,"",function(Ee){return Ee})):ee!=null&&(B(ee)&&(ee=k(ee,L+(!ee.key||K&&K.key===ee.key?"":(""+ee.key).replace(G,"$&/")+"/")+q)),F.push(ee)),1;if(K=0,Y=Y===""?".":Y+":",A(q))for(var fe=0;fe<q.length;fe++){ce=q[fe];var oe=Y+W(ce,fe);K+=Z(ce,F,L,oe,ee)}else if(oe=g(q),typeof oe=="function")for(q=oe.call(q),fe=0;!(ce=q.next()).done;)ce=ce.value,oe=Y+W(ce,fe++),K+=Z(ce,F,L,oe,ee);else if(ce==="object")throw F=String(q),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return K}function $(q,F,L){if(q==null)return q;var Y=[],ee=0;return Z(q,Y,"","",function(ce){return F.call(L,ce,ee++)}),Y}function M(q){if(q._status===-1){var F=q._result;F=F(),F.then(function(L){(q._status===0||q._status===-1)&&(q._status=1,q._result=L)},function(L){(q._status===0||q._status===-1)&&(q._status=2,q._result=L)}),q._status===-1&&(q._status=0,q._result=F)}if(q._status===1)return q._result.default;throw q._result}var I={current:null},O={transition:null},H={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:O,ReactCurrentOwner:T};function V(){throw Error("act(...) is not supported in production builds of React.")}return bt.Children={map:$,forEach:function(q,F,L){$(q,function(){F.apply(this,arguments)},L)},count:function(q){var F=0;return $(q,function(){F++}),F},toArray:function(q){return $(q,function(F){return F})||[]},only:function(q){if(!B(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},bt.Component=v,bt.Fragment=r,bt.Profiler=s,bt.PureComponent=C,bt.StrictMode=a,bt.Suspense=d,bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,bt.act=V,bt.cloneElement=function(q,F,L){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Y=w({},q.props),ee=q.key,ce=q.ref,K=q._owner;if(F!=null){if(F.ref!==void 0&&(ce=F.ref,K=T.current),F.key!==void 0&&(ee=""+F.key),q.type&&q.type.defaultProps)var fe=q.type.defaultProps;for(oe in F)_.call(F,oe)&&!R.hasOwnProperty(oe)&&(Y[oe]=F[oe]===void 0&&fe!==void 0?fe[oe]:F[oe])}var oe=arguments.length-2;if(oe===1)Y.children=L;else if(1<oe){fe=Array(oe);for(var Ee=0;Ee<oe;Ee++)fe[Ee]=arguments[Ee+2];Y.children=fe}return{$$typeof:e,type:q.type,key:ee,ref:ce,props:Y,_owner:K}},bt.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},bt.createElement=D,bt.createFactory=function(q){var F=D.bind(null,q);return F.type=q,F},bt.createRef=function(){return{current:null}},bt.forwardRef=function(q){return{$$typeof:u,render:q}},bt.isValidElement=B,bt.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:M}},bt.memo=function(q,F){return{$$typeof:f,type:q,compare:F===void 0?null:F}},bt.startTransition=function(q){var F=O.transition;O.transition={};try{q()}finally{O.transition=F}},bt.unstable_act=V,bt.useCallback=function(q,F){return I.current.useCallback(q,F)},bt.useContext=function(q){return I.current.useContext(q)},bt.useDebugValue=function(){},bt.useDeferredValue=function(q){return I.current.useDeferredValue(q)},bt.useEffect=function(q,F){return I.current.useEffect(q,F)},bt.useId=function(){return I.current.useId()},bt.useImperativeHandle=function(q,F,L){return I.current.useImperativeHandle(q,F,L)},bt.useInsertionEffect=function(q,F){return I.current.useInsertionEffect(q,F)},bt.useLayoutEffect=function(q,F){return I.current.useLayoutEffect(q,F)},bt.useMemo=function(q,F){return I.current.useMemo(q,F)},bt.useReducer=function(q,F,L){return I.current.useReducer(q,F,L)},bt.useRef=function(q){return I.current.useRef(q)},bt.useState=function(q){return I.current.useState(q)},bt.useSyncExternalStore=function(q,F,L){return I.current.useSyncExternalStore(q,F,L)},bt.useTransition=function(){return I.current.useTransition()},bt.version="18.3.1",bt}var mE;function k1(){return mE||(mE=1,sx.exports=KU()),sx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function YU(){if(pE)return yu;pE=1;var e=k1(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var m,h={},g=null,j=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(j=d.ref);for(m in d)a.call(d,m)&&!i.hasOwnProperty(m)&&(h[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)h[m]===void 0&&(h[m]=d[m]);return{$$typeof:t,type:u,key:g,ref:j,props:h,_owner:s.current}}return yu.Fragment=r,yu.jsx=l,yu.jsxs=l,yu}var gE;function XU(){return gE||(gE=1,ax.exports=YU()),ax.exports}var n=XU(),wh={},ix={exports:{}},Pn={},ox={exports:{}},lx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function QU(){return vE||(vE=1,(function(e){function t(O,H){var V=O.length;O.push(H);e:for(;0<V;){var q=V-1>>>1,F=O[q];if(0<s(F,H))O[q]=H,O[V]=F,V=q;else break e}}function r(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var H=O[0],V=O.pop();if(V!==H){O[0]=V;e:for(var q=0,F=O.length,L=F>>>1;q<L;){var Y=2*(q+1)-1,ee=O[Y],ce=Y+1,K=O[ce];if(0>s(ee,V))ce<F&&0>s(K,ee)?(O[q]=K,O[ce]=V,q=ce):(O[q]=ee,O[Y]=V,q=Y);else if(ce<F&&0>s(K,V))O[q]=K,O[ce]=V,q=ce;else break e}}return H}function s(O,H){var V=O.sortIndex-H.sortIndex;return V!==0?V:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,h=null,g=3,j=!1,w=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var H=r(f);H!==null;){if(H.callback===null)a(f);else if(H.startTime<=O)a(f),H.sortIndex=H.expirationTime,t(d,H);else break;H=r(f)}}function A(O){if(b=!1,S(O),!w)if(r(d)!==null)w=!0,M(_);else{var H=r(f);H!==null&&I(A,H.startTime-O)}}function _(O,H){w=!1,b&&(b=!1,N(D),D=-1),j=!0;var V=g;try{for(S(H),h=r(d);h!==null&&(!(h.expirationTime>H)||O&&!z());){var q=h.callback;if(typeof q=="function"){h.callback=null,g=h.priorityLevel;var F=q(h.expirationTime<=H);H=e.unstable_now(),typeof F=="function"?h.callback=F:h===r(d)&&a(d),S(H)}else a(d);h=r(d)}if(h!==null)var L=!0;else{var Y=r(f);Y!==null&&I(A,Y.startTime-H),L=!1}return L}finally{h=null,g=V,j=!1}}var T=!1,R=null,D=-1,k=5,B=-1;function z(){return!(e.unstable_now()-B<k)}function G(){if(R!==null){var O=e.unstable_now();B=O;var H=!0;try{H=R(!0,O)}finally{H?W():(T=!1,R=null)}}else T=!1}var W;if(typeof C=="function")W=function(){C(G)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=G,W=function(){$.postMessage(null)}}else W=function(){v(G,0)};function M(O){R=O,T||(T=!0,W())}function I(O,H){D=v(function(){O(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){w||j||(w=!0,M(_))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(O){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var V=g;g=H;try{return O()}finally{g=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=g;g=O;try{return H()}finally{g=V}},e.unstable_scheduleCallback=function(O,H,V){var q=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,O){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=V+F,O={id:m++,callback:H,priorityLevel:O,startTime:V,expirationTime:F,sortIndex:-1},V>q?(O.sortIndex=V,t(f,O),r(d)===null&&O===r(f)&&(b?(N(D),D=-1):b=!0,I(A,V-q))):(O.sortIndex=F,t(d,O),w||j||(w=!0,M(_))),O},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(O){var H=g;return function(){var V=g;g=H;try{return O.apply(this,arguments)}finally{g=V}}}})(lx)),lx}var xE;function ZU(){return xE||(xE=1,ox.exports=QU()),ox.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function JU(){if(yE)return Pn;yE=1;var e=k1(),t=ZU();function r(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(s[o]=c,o=0;o<c.length;o++)a.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function g(o){return d.call(h,o)?!0:d.call(m,o)?!1:f.test(o)?h[o]=!0:(m[o]=!0,!1)}function j(o,c,p,y){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,c,p,y){if(c===null||typeof c>"u"||j(o,c,p,y))return!0;if(y)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function b(o,c,p,y,E,P,U){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=E,this.mustUseProperty=p,this.propertyName=o,this.type=c,this.sanitizeURL=P,this.removeEmptyString=U}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){v[o]=new b(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];v[c]=new b(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){v[o]=new b(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){v[o]=new b(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){v[o]=new b(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){v[o]=new b(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){v[o]=new b(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){v[o]=new b(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){v[o]=new b(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(N,C);v[c]=new b(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(N,C);v[c]=new b(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(N,C);v[c]=new b(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){v[o]=new b(o,1,!1,o.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){v[o]=new b(o,1,!1,o.toLowerCase(),null,!0,!0)});function S(o,c,p,y){var E=v.hasOwnProperty(c)?v[c]:null;(E!==null?E.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,p,E,y)&&(p=null),y||E===null?g(c)&&(p===null?o.removeAttribute(c):o.setAttribute(c,""+p)):E.mustUseProperty?o[E.propertyName]=p===null?E.type===3?!1:"":p:(c=E.attributeName,y=E.attributeNamespace,p===null?o.removeAttribute(c):(E=E.type,p=E===3||E===4&&p===!0?"":""+p,y?o.setAttributeNS(y,c,p):o.setAttribute(c,p))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),T=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),O=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=O&&o[O]||o["@@iterator"],typeof o=="function"?o:null)}var V=Object.assign,q;function F(o){if(q===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);q=c&&c[1]||""}return`
`+q+o}var L=!1;function Y(o,c){if(!o||L)return"";L=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(xe){var y=xe}Reflect.construct(o,[],c)}else{try{c.call()}catch(xe){y=xe}o.call(c.prototype)}else{try{throw Error()}catch(xe){y=xe}o()}}catch(xe){if(xe&&y&&typeof xe.stack=="string"){for(var E=xe.stack.split(`
`),P=y.stack.split(`
`),U=E.length-1,J=P.length-1;1<=U&&0<=J&&E[U]!==P[J];)J--;for(;1<=U&&0<=J;U--,J--)if(E[U]!==P[J]){if(U!==1||J!==1)do if(U--,J--,0>J||E[U]!==P[J]){var ne=`
`+E[U].replace(" at new "," at ");return o.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",o.displayName)),ne}while(1<=U&&0<=J);break}}}finally{L=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?F(o):""}function ee(o){switch(o.tag){case 5:return F(o.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return o=Y(o.type,!1),o;case 11:return o=Y(o.type.render,!1),o;case 1:return o=Y(o.type,!0),o;default:return""}}function ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case R:return"Fragment";case T:return"Portal";case k:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case Z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case z:return(o.displayName||"Context")+".Consumer";case B:return(o._context.displayName||"Context")+".Provider";case G:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case $:return c=o.displayName||null,c!==null?c:ce(o.type)||"Memo";case M:c=o._payload,o=o._init;try{return ce(o(c))}catch{}}return null}function K(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(c);case 8:return c===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function fe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function oe(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ee(o){var c=oe(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,P=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return E.call(this)},set:function(U){y=""+U,P.call(this,U)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(U){y=""+U},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function De(o){o._valueTracker||(o._valueTracker=Ee(o))}function re(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),y="";return o&&(y=oe(o)?o.checked?"true":"false":o.value),o=y,o!==p?(c.setValue(o),!0):!1}function le(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ge(o,c){var p=c.checked;return V({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function Fe(o,c){var p=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;p=fe(c.value!=null?c.value:p),o._wrapperState={initialChecked:y,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Xe(o,c){c=c.checked,c!=null&&S(o,"checked",c,!1)}function lt(o,c){Xe(o,c);var p=fe(c.value),y=c.type;if(p!=null)y==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?te(o,c.type,p):c.hasOwnProperty("defaultValue")&&te(o,c.type,fe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function wt(o,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,p||c===o.value||(o.value=c),o.defaultValue=c}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function te(o,c,p){(c!=="number"||le(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var se=Array.isArray;function Le(o,c,p,y){if(o=o.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=c.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&y&&(o[p].defaultSelected=!0)}else{for(p=""+fe(p),c=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,y&&(o[E].defaultSelected=!0);return}c!==null||o[E].disabled||(c=o[E])}c!==null&&(c.selected=!0)}}function st(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return V({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Lt(o,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(r(92));if(se(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),p=c}o._wrapperState={initialValue:fe(p)}}function Zr(o,c){var p=fe(c.value),y=fe(c.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),c.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),y!=null&&(o.defaultValue=""+y)}function ve(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function Qe(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nr(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?Qe(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var $n,Ks=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,y,E){MSApp.execUnsafeLocalFunction(function(){return o(c,p,y,E)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for($n=$n||document.createElement("div"),$n.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=$n.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Sn(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ta=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(o){ta.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Ba[c]=Ba[o]})});function Yo(o,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Ba.hasOwnProperty(o)&&Ba[o]?(""+c).trim():c+"px"}function de(o,c){o=o.style;for(var p in c)if(c.hasOwnProperty(p)){var y=p.indexOf("--")===0,E=Yo(p,c[p],y);p==="float"&&(p="cssFloat"),y?o.setProperty(p,E):o[p]=E}}var Ue=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hr(o,c){if(c){if(Ue[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function ms(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qi=null;function ra(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var $c=null,Ys=null,ps=null;function Lc(o){if(o=au(o)){if(typeof $c!="function")throw Error(r(280));var c=o.stateNode;c&&(c=Mf(c),$c(o.stateNode,o.type,c))}}function vt(o){Ys?ps?ps.push(o):ps=[o]:Ys=o}function cr(){if(Ys){var o=Ys,c=ps;if(ps=Ys=null,Lc(o),c)for(o=0;o<c.length;o++)Lc(c[o])}}function br(o,c){return o(c)}function Jr(){}var Xs=!1;function mr(o,c,p){if(Xs)return o(c,p);Xs=!0;try{return br(o,c,p)}finally{Xs=!1,(Ys!==null||ps!==null)&&(Jr(),cr())}}function Pr(o,c){var p=o.stateNode;if(p===null)return null;var y=Mf(p);if(y===null)return null;p=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Qs=!1;if(u)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{Qs=!1}function Ln(o,c,p,y,E,P,U,J,ne){var xe=Array.prototype.slice.call(arguments,3);try{c.apply(p,xe)}catch(Re){this.onError(Re)}}var Zs=!1,na=null,Fc=!1,Ng=null,eF={onError:function(o){Zs=!0,na=o}};function tF(o,c,p,y,E,P,U,J,ne){Zs=!1,na=null,Ln.apply(eF,arguments)}function rF(o,c,p,y,E,P,U,J,ne){if(tF.apply(this,arguments),Zs){if(Zs){var xe=na;Zs=!1,na=null}else throw Error(r(198));Fc||(Fc=!0,Ng=xe)}}function Zi(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function MS(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function $S(o){if(Zi(o)!==o)throw Error(r(188))}function nF(o){var c=o.alternate;if(!c){if(c=Zi(o),c===null)throw Error(r(188));return c!==o?null:o}for(var p=o,y=c;;){var E=p.return;if(E===null)break;var P=E.alternate;if(P===null){if(y=E.return,y!==null){p=y;continue}break}if(E.child===P.child){for(P=E.child;P;){if(P===p)return $S(E),o;if(P===y)return $S(E),c;P=P.sibling}throw Error(r(188))}if(p.return!==y.return)p=E,y=P;else{for(var U=!1,J=E.child;J;){if(J===p){U=!0,p=E,y=P;break}if(J===y){U=!0,y=E,p=P;break}J=J.sibling}if(!U){for(J=P.child;J;){if(J===p){U=!0,p=P,y=E;break}if(J===y){U=!0,y=P,p=E;break}J=J.sibling}if(!U)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:c}function LS(o){return o=nF(o),o!==null?FS(o):null}function FS(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=FS(o);if(c!==null)return c;o=o.sibling}return null}var US=t.unstable_scheduleCallback,BS=t.unstable_cancelCallback,aF=t.unstable_shouldYield,sF=t.unstable_requestPaint,ur=t.unstable_now,iF=t.unstable_getCurrentPriorityLevel,Sg=t.unstable_ImmediatePriority,zS=t.unstable_UserBlockingPriority,gf=t.unstable_NormalPriority,oF=t.unstable_LowPriority,qS=t.unstable_IdlePriority,vf=null,za=null;function lF(o){if(za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(vf,o,void 0,(o.current.flags&128)===128)}catch{}}var ba=Math.clz32?Math.clz32:dF,cF=Math.log,uF=Math.LN2;function dF(o){return o>>>=0,o===0?32:31-(cF(o)/uF|0)|0}var xf=64,yf=4194304;function Uc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function bf(o,c){var p=o.pendingLanes;if(p===0)return 0;var y=0,E=o.suspendedLanes,P=o.pingedLanes,U=p&268435455;if(U!==0){var J=U&~E;J!==0?y=Uc(J):(P&=U,P!==0&&(y=Uc(P)))}else U=p&~E,U!==0?y=Uc(U):P!==0&&(y=Uc(P));if(y===0)return 0;if(c!==0&&c!==y&&(c&E)===0&&(E=y&-y,P=c&-c,E>=P||E===16&&(P&4194240)!==0))return c;if((y&4)!==0&&(y|=p&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=y;0<c;)p=31-ba(c),E=1<<p,y|=o[p],c&=~E;return y}function fF(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hF(o,c){for(var p=o.suspendedLanes,y=o.pingedLanes,E=o.expirationTimes,P=o.pendingLanes;0<P;){var U=31-ba(P),J=1<<U,ne=E[U];ne===-1?((J&p)===0||(J&y)!==0)&&(E[U]=fF(J,c)):ne<=c&&(o.expiredLanes|=J),P&=~J}}function _g(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function WS(){var o=xf;return xf<<=1,(xf&4194240)===0&&(xf=64),o}function Cg(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Bc(o,c,p){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-ba(c),o[c]=p}function mF(o,c){var p=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<p;){var E=31-ba(p),P=1<<E;c[E]=0,y[E]=-1,o[E]=-1,p&=~P}}function Eg(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var y=31-ba(p),E=1<<y;E&c|o[y]&c&&(o[y]|=c),p&=~E}}var Dt=0;function VS(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var HS,Tg,GS,KS,YS,Ag=!1,jf=[],Js=null,ei=null,ti=null,zc=new Map,qc=new Map,ri=[],pF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XS(o,c){switch(o){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":zc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(c.pointerId)}}function Wc(o,c,p,y,E,P){return o===null||o.nativeEvent!==P?(o={blockedOn:c,domEventName:p,eventSystemFlags:y,nativeEvent:P,targetContainers:[E]},c!==null&&(c=au(c),c!==null&&Tg(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),o)}function gF(o,c,p,y,E){switch(c){case"focusin":return Js=Wc(Js,o,c,p,y,E),!0;case"dragenter":return ei=Wc(ei,o,c,p,y,E),!0;case"mouseover":return ti=Wc(ti,o,c,p,y,E),!0;case"pointerover":var P=E.pointerId;return zc.set(P,Wc(zc.get(P)||null,o,c,p,y,E)),!0;case"gotpointercapture":return P=E.pointerId,qc.set(P,Wc(qc.get(P)||null,o,c,p,y,E)),!0}return!1}function QS(o){var c=Ji(o.target);if(c!==null){var p=Zi(c);if(p!==null){if(c=p.tag,c===13){if(c=MS(p),c!==null){o.blockedOn=c,YS(o.priority,function(){GS(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function wf(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=Rg(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var y=new p.constructor(p.type,p);Qi=y,p.target.dispatchEvent(y),Qi=null}else return c=au(p),c!==null&&Tg(c),o.blockedOn=p,!1;c.shift()}return!0}function ZS(o,c,p){wf(o)&&p.delete(c)}function vF(){Ag=!1,Js!==null&&wf(Js)&&(Js=null),ei!==null&&wf(ei)&&(ei=null),ti!==null&&wf(ti)&&(ti=null),zc.forEach(ZS),qc.forEach(ZS)}function Vc(o,c){o.blockedOn===c&&(o.blockedOn=null,Ag||(Ag=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vF)))}function Hc(o){function c(E){return Vc(E,o)}if(0<jf.length){Vc(jf[0],o);for(var p=1;p<jf.length;p++){var y=jf[p];y.blockedOn===o&&(y.blockedOn=null)}}for(Js!==null&&Vc(Js,o),ei!==null&&Vc(ei,o),ti!==null&&Vc(ti,o),zc.forEach(c),qc.forEach(c),p=0;p<ri.length;p++)y=ri[p],y.blockedOn===o&&(y.blockedOn=null);for(;0<ri.length&&(p=ri[0],p.blockedOn===null);)QS(p),p.blockedOn===null&&ri.shift()}var Xo=A.ReactCurrentBatchConfig,Nf=!0;function xF(o,c,p,y){var E=Dt,P=Xo.transition;Xo.transition=null;try{Dt=1,Pg(o,c,p,y)}finally{Dt=E,Xo.transition=P}}function yF(o,c,p,y){var E=Dt,P=Xo.transition;Xo.transition=null;try{Dt=4,Pg(o,c,p,y)}finally{Dt=E,Xo.transition=P}}function Pg(o,c,p,y){if(Nf){var E=Rg(o,c,p,y);if(E===null)Kg(o,c,y,Sf,p),XS(o,y);else if(gF(E,o,c,p,y))y.stopPropagation();else if(XS(o,y),c&4&&-1<pF.indexOf(o)){for(;E!==null;){var P=au(E);if(P!==null&&HS(P),P=Rg(o,c,p,y),P===null&&Kg(o,c,y,Sf,p),P===E)break;E=P}E!==null&&y.stopPropagation()}else Kg(o,c,y,null,p)}}var Sf=null;function Rg(o,c,p,y){if(Sf=null,o=ra(y),o=Ji(o),o!==null)if(c=Zi(o),c===null)o=null;else if(p=c.tag,p===13){if(o=MS(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return Sf=o,null}function JS(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iF()){case Sg:return 1;case zS:return 4;case gf:case oF:return 16;case qS:return 536870912;default:return 16}default:return 16}}var ni=null,kg=null,_f=null;function e_(){if(_f)return _f;var o,c=kg,p=c.length,y,E="value"in ni?ni.value:ni.textContent,P=E.length;for(o=0;o<p&&c[o]===E[o];o++);var U=p-o;for(y=1;y<=U&&c[p-y]===E[P-y];y++);return _f=E.slice(o,1<y?1-y:void 0)}function Cf(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Ef(){return!0}function t_(){return!1}function Fn(o){function c(p,y,E,P,U){this._reactName=p,this._targetInst=E,this.type=y,this.nativeEvent=P,this.target=U,this.currentTarget=null;for(var J in o)o.hasOwnProperty(J)&&(p=o[J],this[J]=p?p(P):P[J]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Ef:t_,this.isPropagationStopped=t_,this}return V(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ef)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ef)},persist:function(){},isPersistent:Ef}),c}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ig=Fn(Qo),Gc=V({},Qo,{view:0,detail:0}),bF=Fn(Gc),Og,Dg,Kc,Tf=V({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$g,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Kc&&(Kc&&o.type==="mousemove"?(Og=o.screenX-Kc.screenX,Dg=o.screenY-Kc.screenY):Dg=Og=0,Kc=o),Og)},movementY:function(o){return"movementY"in o?o.movementY:Dg}}),r_=Fn(Tf),jF=V({},Tf,{dataTransfer:0}),wF=Fn(jF),NF=V({},Gc,{relatedTarget:0}),Mg=Fn(NF),SF=V({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),_F=Fn(SF),CF=V({},Qo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),EF=Fn(CF),TF=V({},Qo,{data:0}),n_=Fn(TF),AF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kF(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=RF[o])?!!c[o]:!1}function $g(){return kF}var IF=V({},Gc,{key:function(o){if(o.key){var c=AF[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Cf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?PF[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$g,charCode:function(o){return o.type==="keypress"?Cf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Cf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),OF=Fn(IF),DF=V({},Tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a_=Fn(DF),MF=V({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$g}),$F=Fn(MF),LF=V({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),FF=Fn(LF),UF=V({},Tf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),BF=Fn(UF),zF=[9,13,27,32],Lg=u&&"CompositionEvent"in window,Yc=null;u&&"documentMode"in document&&(Yc=document.documentMode);var qF=u&&"TextEvent"in window&&!Yc,s_=u&&(!Lg||Yc&&8<Yc&&11>=Yc),i_=" ",o_=!1;function l_(o,c){switch(o){case"keyup":return zF.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Zo=!1;function WF(o,c){switch(o){case"compositionend":return c_(c);case"keypress":return c.which!==32?null:(o_=!0,i_);case"textInput":return o=c.data,o===i_&&o_?null:o;default:return null}}function VF(o,c){if(Zo)return o==="compositionend"||!Lg&&l_(o,c)?(o=e_(),_f=kg=ni=null,Zo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return s_&&c.locale!=="ko"?null:c.data;default:return null}}var HF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u_(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!HF[o.type]:c==="textarea"}function d_(o,c,p,y){vt(y),c=If(c,"onChange"),0<c.length&&(p=new Ig("onChange","change",null,p,y),o.push({event:p,listeners:c}))}var Xc=null,Qc=null;function GF(o){A_(o,0)}function Af(o){var c=nl(o);if(re(c))return o}function KF(o,c){if(o==="change")return c}var f_=!1;if(u){var Fg;if(u){var Ug="oninput"in document;if(!Ug){var h_=document.createElement("div");h_.setAttribute("oninput","return;"),Ug=typeof h_.oninput=="function"}Fg=Ug}else Fg=!1;f_=Fg&&(!document.documentMode||9<document.documentMode)}function m_(){Xc&&(Xc.detachEvent("onpropertychange",p_),Qc=Xc=null)}function p_(o){if(o.propertyName==="value"&&Af(Qc)){var c=[];d_(c,Qc,o,ra(o)),mr(GF,c)}}function YF(o,c,p){o==="focusin"?(m_(),Xc=c,Qc=p,Xc.attachEvent("onpropertychange",p_)):o==="focusout"&&m_()}function XF(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Af(Qc)}function QF(o,c){if(o==="click")return Af(c)}function ZF(o,c){if(o==="input"||o==="change")return Af(c)}function JF(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ja=typeof Object.is=="function"?Object.is:JF;function Zc(o,c){if(ja(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),y=Object.keys(c);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var E=p[y];if(!d.call(c,E)||!ja(o[E],c[E]))return!1}return!0}function g_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function v_(o,c){var p=g_(o);o=0;for(var y;p;){if(p.nodeType===3){if(y=o+p.textContent.length,o<=c&&y>=c)return{node:p,offset:c-o};o=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=g_(p)}}function x_(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?x_(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function y_(){for(var o=window,c=le();c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=le(o.document)}return c}function Bg(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function eU(o){var c=y_(),p=o.focusedElem,y=o.selectionRange;if(c!==p&&p&&p.ownerDocument&&x_(p.ownerDocument.documentElement,p)){if(y!==null&&Bg(p)){if(c=y.start,o=y.end,o===void 0&&(o=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(o,p.value.length);else if(o=(c=p.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var E=p.textContent.length,P=Math.min(y.start,E);y=y.end===void 0?P:Math.min(y.end,E),!o.extend&&P>y&&(E=y,y=P,P=E),E=v_(p,P);var U=v_(p,y);E&&U&&(o.rangeCount!==1||o.anchorNode!==E.node||o.anchorOffset!==E.offset||o.focusNode!==U.node||o.focusOffset!==U.offset)&&(c=c.createRange(),c.setStart(E.node,E.offset),o.removeAllRanges(),P>y?(o.addRange(c),o.extend(U.node,U.offset)):(c.setEnd(U.node,U.offset),o.addRange(c)))}}for(c=[],o=p;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)o=c[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var tU=u&&"documentMode"in document&&11>=document.documentMode,Jo=null,zg=null,Jc=null,qg=!1;function b_(o,c,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;qg||Jo==null||Jo!==le(y)||(y=Jo,"selectionStart"in y&&Bg(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Jc&&Zc(Jc,y)||(Jc=y,y=If(zg,"onSelect"),0<y.length&&(c=new Ig("onSelect","select",null,c,p),o.push({event:c,listeners:y}),c.target=Jo)))}function Pf(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var el={animationend:Pf("Animation","AnimationEnd"),animationiteration:Pf("Animation","AnimationIteration"),animationstart:Pf("Animation","AnimationStart"),transitionend:Pf("Transition","TransitionEnd")},Wg={},j_={};u&&(j_=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function Rf(o){if(Wg[o])return Wg[o];if(!el[o])return o;var c=el[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in j_)return Wg[o]=c[p];return o}var w_=Rf("animationend"),N_=Rf("animationiteration"),S_=Rf("animationstart"),__=Rf("transitionend"),C_=new Map,E_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(o,c){C_.set(o,c),i(c,[o])}for(var Vg=0;Vg<E_.length;Vg++){var Hg=E_[Vg],rU=Hg.toLowerCase(),nU=Hg[0].toUpperCase()+Hg.slice(1);ai(rU,"on"+nU)}ai(w_,"onAnimationEnd"),ai(N_,"onAnimationIteration"),ai(S_,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(__,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aU=new Set("cancel close invalid load scroll toggle".split(" ").concat(eu));function T_(o,c,p){var y=o.type||"unknown-event";o.currentTarget=p,rF(y,c,void 0,o),o.currentTarget=null}function A_(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var y=o[p],E=y.event;y=y.listeners;e:{var P=void 0;if(c)for(var U=y.length-1;0<=U;U--){var J=y[U],ne=J.instance,xe=J.currentTarget;if(J=J.listener,ne!==P&&E.isPropagationStopped())break e;T_(E,J,xe),P=ne}else for(U=0;U<y.length;U++){if(J=y[U],ne=J.instance,xe=J.currentTarget,J=J.listener,ne!==P&&E.isPropagationStopped())break e;T_(E,J,xe),P=ne}}}if(Fc)throw o=Ng,Fc=!1,Ng=null,o}function Yt(o,c){var p=c[ev];p===void 0&&(p=c[ev]=new Set);var y=o+"__bubble";p.has(y)||(P_(c,o,2,!1),p.add(y))}function Gg(o,c,p){var y=0;c&&(y|=4),P_(p,o,y,c)}var kf="_reactListening"+Math.random().toString(36).slice(2);function tu(o){if(!o[kf]){o[kf]=!0,a.forEach(function(p){p!=="selectionchange"&&(aU.has(p)||Gg(p,!1,o),Gg(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[kf]||(c[kf]=!0,Gg("selectionchange",!1,c))}}function P_(o,c,p,y){switch(JS(c)){case 1:var E=xF;break;case 4:E=yF;break;default:E=Pg}p=E.bind(null,c,p,o),E=void 0,!Qs||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),y?E!==void 0?o.addEventListener(c,p,{capture:!0,passive:E}):o.addEventListener(c,p,!0):E!==void 0?o.addEventListener(c,p,{passive:E}):o.addEventListener(c,p,!1)}function Kg(o,c,p,y,E){var P=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var U=y.tag;if(U===3||U===4){var J=y.stateNode.containerInfo;if(J===E||J.nodeType===8&&J.parentNode===E)break;if(U===4)for(U=y.return;U!==null;){var ne=U.tag;if((ne===3||ne===4)&&(ne=U.stateNode.containerInfo,ne===E||ne.nodeType===8&&ne.parentNode===E))return;U=U.return}for(;J!==null;){if(U=Ji(J),U===null)return;if(ne=U.tag,ne===5||ne===6){y=P=U;continue e}J=J.parentNode}}y=y.return}mr(function(){var xe=P,Re=ra(p),Ie=[];e:{var Pe=C_.get(o);if(Pe!==void 0){var qe=Ig,Ge=o;switch(o){case"keypress":if(Cf(p)===0)break e;case"keydown":case"keyup":qe=OF;break;case"focusin":Ge="focus",qe=Mg;break;case"focusout":Ge="blur",qe=Mg;break;case"beforeblur":case"afterblur":qe=Mg;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=r_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=wF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=$F;break;case w_:case N_:case S_:qe=_F;break;case __:qe=FF;break;case"scroll":qe=bF;break;case"wheel":qe=BF;break;case"copy":case"cut":case"paste":qe=EF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=a_}var Ze=(c&4)!==0,dr=!Ze&&o==="scroll",ue=Ze?Pe!==null?Pe+"Capture":null:Pe;Ze=[];for(var ie=xe,he;ie!==null;){he=ie;var Me=he.stateNode;if(he.tag===5&&Me!==null&&(he=Me,ue!==null&&(Me=Pr(ie,ue),Me!=null&&Ze.push(ru(ie,Me,he)))),dr)break;ie=ie.return}0<Ze.length&&(Pe=new qe(Pe,Ge,null,p,Re),Ie.push({event:Pe,listeners:Ze}))}}if((c&7)===0){e:{if(Pe=o==="mouseover"||o==="pointerover",qe=o==="mouseout"||o==="pointerout",Pe&&p!==Qi&&(Ge=p.relatedTarget||p.fromElement)&&(Ji(Ge)||Ge[gs]))break e;if((qe||Pe)&&(Pe=Re.window===Re?Re:(Pe=Re.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,qe?(Ge=p.relatedTarget||p.toElement,qe=xe,Ge=Ge?Ji(Ge):null,Ge!==null&&(dr=Zi(Ge),Ge!==dr||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(qe=null,Ge=xe),qe!==Ge)){if(Ze=r_,Me="onMouseLeave",ue="onMouseEnter",ie="mouse",(o==="pointerout"||o==="pointerover")&&(Ze=a_,Me="onPointerLeave",ue="onPointerEnter",ie="pointer"),dr=qe==null?Pe:nl(qe),he=Ge==null?Pe:nl(Ge),Pe=new Ze(Me,ie+"leave",qe,p,Re),Pe.target=dr,Pe.relatedTarget=he,Me=null,Ji(Re)===xe&&(Ze=new Ze(ue,ie+"enter",Ge,p,Re),Ze.target=he,Ze.relatedTarget=dr,Me=Ze),dr=Me,qe&&Ge)t:{for(Ze=qe,ue=Ge,ie=0,he=Ze;he;he=tl(he))ie++;for(he=0,Me=ue;Me;Me=tl(Me))he++;for(;0<ie-he;)Ze=tl(Ze),ie--;for(;0<he-ie;)ue=tl(ue),he--;for(;ie--;){if(Ze===ue||ue!==null&&Ze===ue.alternate)break t;Ze=tl(Ze),ue=tl(ue)}Ze=null}else Ze=null;qe!==null&&R_(Ie,Pe,qe,Ze,!1),Ge!==null&&dr!==null&&R_(Ie,dr,Ge,Ze,!0)}}e:{if(Pe=xe?nl(xe):window,qe=Pe.nodeName&&Pe.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Pe.type==="file")var et=KF;else if(u_(Pe))if(f_)et=ZF;else{et=XF;var ct=YF}else(qe=Pe.nodeName)&&qe.toLowerCase()==="input"&&(Pe.type==="checkbox"||Pe.type==="radio")&&(et=QF);if(et&&(et=et(o,xe))){d_(Ie,et,p,Re);break e}ct&&ct(o,Pe,xe),o==="focusout"&&(ct=Pe._wrapperState)&&ct.controlled&&Pe.type==="number"&&te(Pe,"number",Pe.value)}switch(ct=xe?nl(xe):window,o){case"focusin":(u_(ct)||ct.contentEditable==="true")&&(Jo=ct,zg=xe,Jc=null);break;case"focusout":Jc=zg=Jo=null;break;case"mousedown":qg=!0;break;case"contextmenu":case"mouseup":case"dragend":qg=!1,b_(Ie,p,Re);break;case"selectionchange":if(tU)break;case"keydown":case"keyup":b_(Ie,p,Re)}var ut;if(Lg)e:{switch(o){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Zo?l_(o,p)&&(ht="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(ht="onCompositionStart");ht&&(s_&&p.locale!=="ko"&&(Zo||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Zo&&(ut=e_()):(ni=Re,kg="value"in ni?ni.value:ni.textContent,Zo=!0)),ct=If(xe,ht),0<ct.length&&(ht=new n_(ht,o,null,p,Re),Ie.push({event:ht,listeners:ct}),ut?ht.data=ut:(ut=c_(p),ut!==null&&(ht.data=ut)))),(ut=qF?WF(o,p):VF(o,p))&&(xe=If(xe,"onBeforeInput"),0<xe.length&&(Re=new n_("onBeforeInput","beforeinput",null,p,Re),Ie.push({event:Re,listeners:xe}),Re.data=ut))}A_(Ie,c)})}function ru(o,c,p){return{instance:o,listener:c,currentTarget:p}}function If(o,c){for(var p=c+"Capture",y=[];o!==null;){var E=o,P=E.stateNode;E.tag===5&&P!==null&&(E=P,P=Pr(o,p),P!=null&&y.unshift(ru(o,P,E)),P=Pr(o,c),P!=null&&y.push(ru(o,P,E))),o=o.return}return y}function tl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function R_(o,c,p,y,E){for(var P=c._reactName,U=[];p!==null&&p!==y;){var J=p,ne=J.alternate,xe=J.stateNode;if(ne!==null&&ne===y)break;J.tag===5&&xe!==null&&(J=xe,E?(ne=Pr(p,P),ne!=null&&U.unshift(ru(p,ne,J))):E||(ne=Pr(p,P),ne!=null&&U.push(ru(p,ne,J)))),p=p.return}U.length!==0&&o.push({event:c,listeners:U})}var sU=/\r\n?/g,iU=/\u0000|\uFFFD/g;function k_(o){return(typeof o=="string"?o:""+o).replace(sU,`
`).replace(iU,"")}function Of(o,c,p){if(c=k_(c),k_(o)!==c&&p)throw Error(r(425))}function Df(){}var Yg=null,Xg=null;function Qg(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Zg=typeof setTimeout=="function"?setTimeout:void 0,oU=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,lU=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(o){return I_.resolve(null).then(o).catch(cU)}:Zg;function cU(o){setTimeout(function(){throw o})}function Jg(o,c){var p=c,y=0;do{var E=p.nextSibling;if(o.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"){if(y===0){o.removeChild(E),Hc(c);return}y--}else p!=="$"&&p!=="$?"&&p!=="$!"||y++;p=E}while(p);Hc(c)}function si(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function O_(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}var rl=Math.random().toString(36).slice(2),qa="__reactFiber$"+rl,nu="__reactProps$"+rl,gs="__reactContainer$"+rl,ev="__reactEvents$"+rl,uU="__reactListeners$"+rl,dU="__reactHandles$"+rl;function Ji(o){var c=o[qa];if(c)return c;for(var p=o.parentNode;p;){if(c=p[gs]||p[qa]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=O_(o);o!==null;){if(p=o[qa])return p;o=O_(o)}return c}o=p,p=o.parentNode}return null}function au(o){return o=o[qa]||o[gs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function nl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Mf(o){return o[nu]||null}var tv=[],al=-1;function ii(o){return{current:o}}function Xt(o){0>al||(o.current=tv[al],tv[al]=null,al--)}function Ht(o,c){al++,tv[al]=o.current,o.current=c}var oi={},en=ii(oi),_n=ii(!1),eo=oi;function sl(o,c){var p=o.type.contextTypes;if(!p)return oi;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var E={},P;for(P in p)E[P]=c[P];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=E),E}function Cn(o){return o=o.childContextTypes,o!=null}function $f(){Xt(_n),Xt(en)}function D_(o,c,p){if(en.current!==oi)throw Error(r(168));Ht(en,c),Ht(_n,p)}function M_(o,c,p){var y=o.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return p;y=y.getChildContext();for(var E in y)if(!(E in c))throw Error(r(108,K(o)||"Unknown",E));return V({},p,y)}function Lf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||oi,eo=en.current,Ht(en,o),Ht(_n,_n.current),!0}function $_(o,c,p){var y=o.stateNode;if(!y)throw Error(r(169));p?(o=M_(o,c,eo),y.__reactInternalMemoizedMergedChildContext=o,Xt(_n),Xt(en),Ht(en,o)):Xt(_n),Ht(_n,p)}var vs=null,Ff=!1,rv=!1;function L_(o){vs===null?vs=[o]:vs.push(o)}function fU(o){Ff=!0,L_(o)}function li(){if(!rv&&vs!==null){rv=!0;var o=0,c=Dt;try{var p=vs;for(Dt=1;o<p.length;o++){var y=p[o];do y=y(!0);while(y!==null)}vs=null,Ff=!1}catch(E){throw vs!==null&&(vs=vs.slice(o+1)),US(Sg,li),E}finally{Dt=c,rv=!1}}return null}var il=[],ol=0,Uf=null,Bf=0,aa=[],sa=0,to=null,xs=1,ys="";function ro(o,c){il[ol++]=Bf,il[ol++]=Uf,Uf=o,Bf=c}function F_(o,c,p){aa[sa++]=xs,aa[sa++]=ys,aa[sa++]=to,to=o;var y=xs;o=ys;var E=32-ba(y)-1;y&=~(1<<E),p+=1;var P=32-ba(c)+E;if(30<P){var U=E-E%5;P=(y&(1<<U)-1).toString(32),y>>=U,E-=U,xs=1<<32-ba(c)+E|p<<E|y,ys=P+o}else xs=1<<P|p<<E|y,ys=o}function nv(o){o.return!==null&&(ro(o,1),F_(o,1,0))}function av(o){for(;o===Uf;)Uf=il[--ol],il[ol]=null,Bf=il[--ol],il[ol]=null;for(;o===to;)to=aa[--sa],aa[sa]=null,ys=aa[--sa],aa[sa]=null,xs=aa[--sa],aa[sa]=null}var Un=null,Bn=null,Zt=!1,wa=null;function U_(o,c){var p=ca(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=o,c=o.deletions,c===null?(o.deletions=[p],o.flags|=16):c.push(p)}function B_(o,c){switch(o.tag){case 5:var p=o.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Un=o,Bn=si(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Un=o,Bn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=to!==null?{id:xs,overflow:ys}:null,o.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=ca(18,null,null,0),p.stateNode=c,p.return=o,o.child=p,Un=o,Bn=null,!0):!1;default:return!1}}function sv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function iv(o){if(Zt){var c=Bn;if(c){var p=c;if(!B_(o,c)){if(sv(o))throw Error(r(418));c=si(p.nextSibling);var y=Un;c&&B_(o,c)?U_(y,p):(o.flags=o.flags&-4097|2,Zt=!1,Un=o)}}else{if(sv(o))throw Error(r(418));o.flags=o.flags&-4097|2,Zt=!1,Un=o}}}function z_(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Un=o}function zf(o){if(o!==Un)return!1;if(!Zt)return z_(o),Zt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Qg(o.type,o.memoizedProps)),c&&(c=Bn)){if(sv(o))throw q_(),Error(r(418));for(;c;)U_(o,c),c=si(c.nextSibling)}if(z_(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(c===0){Bn=si(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}o=o.nextSibling}Bn=null}}else Bn=Un?si(o.stateNode.nextSibling):null;return!0}function q_(){for(var o=Bn;o;)o=si(o.nextSibling)}function ll(){Bn=Un=null,Zt=!1}function ov(o){wa===null?wa=[o]:wa.push(o)}var hU=A.ReactCurrentBatchConfig;function su(o,c,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var y=p.stateNode}if(!y)throw Error(r(147,o));var E=y,P=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===P?c.ref:(c=function(U){var J=E.refs;U===null?delete J[P]:J[P]=U},c._stringRef=P,c)}if(typeof o!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,o))}return o}function qf(o,c){throw o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function W_(o){var c=o._init;return c(o._payload)}function V_(o){function c(ue,ie){if(o){var he=ue.deletions;he===null?(ue.deletions=[ie],ue.flags|=16):he.push(ie)}}function p(ue,ie){if(!o)return null;for(;ie!==null;)c(ue,ie),ie=ie.sibling;return null}function y(ue,ie){for(ue=new Map;ie!==null;)ie.key!==null?ue.set(ie.key,ie):ue.set(ie.index,ie),ie=ie.sibling;return ue}function E(ue,ie){return ue=gi(ue,ie),ue.index=0,ue.sibling=null,ue}function P(ue,ie,he){return ue.index=he,o?(he=ue.alternate,he!==null?(he=he.index,he<ie?(ue.flags|=2,ie):he):(ue.flags|=2,ie)):(ue.flags|=1048576,ie)}function U(ue){return o&&ue.alternate===null&&(ue.flags|=2),ue}function J(ue,ie,he,Me){return ie===null||ie.tag!==6?(ie=Zv(he,ue.mode,Me),ie.return=ue,ie):(ie=E(ie,he),ie.return=ue,ie)}function ne(ue,ie,he,Me){var et=he.type;return et===R?Re(ue,ie,he.props.children,Me,he.key):ie!==null&&(ie.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===M&&W_(et)===ie.type)?(Me=E(ie,he.props),Me.ref=su(ue,ie,he),Me.return=ue,Me):(Me=hh(he.type,he.key,he.props,null,ue.mode,Me),Me.ref=su(ue,ie,he),Me.return=ue,Me)}function xe(ue,ie,he,Me){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==he.containerInfo||ie.stateNode.implementation!==he.implementation?(ie=Jv(he,ue.mode,Me),ie.return=ue,ie):(ie=E(ie,he.children||[]),ie.return=ue,ie)}function Re(ue,ie,he,Me,et){return ie===null||ie.tag!==7?(ie=uo(he,ue.mode,Me,et),ie.return=ue,ie):(ie=E(ie,he),ie.return=ue,ie)}function Ie(ue,ie,he){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Zv(""+ie,ue.mode,he),ie.return=ue,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return he=hh(ie.type,ie.key,ie.props,null,ue.mode,he),he.ref=su(ue,null,ie),he.return=ue,he;case T:return ie=Jv(ie,ue.mode,he),ie.return=ue,ie;case M:var Me=ie._init;return Ie(ue,Me(ie._payload),he)}if(se(ie)||H(ie))return ie=uo(ie,ue.mode,he,null),ie.return=ue,ie;qf(ue,ie)}return null}function Pe(ue,ie,he,Me){var et=ie!==null?ie.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return et!==null?null:J(ue,ie,""+he,Me);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return he.key===et?ne(ue,ie,he,Me):null;case T:return he.key===et?xe(ue,ie,he,Me):null;case M:return et=he._init,Pe(ue,ie,et(he._payload),Me)}if(se(he)||H(he))return et!==null?null:Re(ue,ie,he,Me,null);qf(ue,he)}return null}function qe(ue,ie,he,Me,et){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return ue=ue.get(he)||null,J(ie,ue,""+Me,et);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case _:return ue=ue.get(Me.key===null?he:Me.key)||null,ne(ie,ue,Me,et);case T:return ue=ue.get(Me.key===null?he:Me.key)||null,xe(ie,ue,Me,et);case M:var ct=Me._init;return qe(ue,ie,he,ct(Me._payload),et)}if(se(Me)||H(Me))return ue=ue.get(he)||null,Re(ie,ue,Me,et,null);qf(ie,Me)}return null}function Ge(ue,ie,he,Me){for(var et=null,ct=null,ut=ie,ht=ie=0,Ir=null;ut!==null&&ht<he.length;ht++){ut.index>ht?(Ir=ut,ut=null):Ir=ut.sibling;var Tt=Pe(ue,ut,he[ht],Me);if(Tt===null){ut===null&&(ut=Ir);break}o&&ut&&Tt.alternate===null&&c(ue,ut),ie=P(Tt,ie,ht),ct===null?et=Tt:ct.sibling=Tt,ct=Tt,ut=Ir}if(ht===he.length)return p(ue,ut),Zt&&ro(ue,ht),et;if(ut===null){for(;ht<he.length;ht++)ut=Ie(ue,he[ht],Me),ut!==null&&(ie=P(ut,ie,ht),ct===null?et=ut:ct.sibling=ut,ct=ut);return Zt&&ro(ue,ht),et}for(ut=y(ue,ut);ht<he.length;ht++)Ir=qe(ut,ue,ht,he[ht],Me),Ir!==null&&(o&&Ir.alternate!==null&&ut.delete(Ir.key===null?ht:Ir.key),ie=P(Ir,ie,ht),ct===null?et=Ir:ct.sibling=Ir,ct=Ir);return o&&ut.forEach(function(vi){return c(ue,vi)}),Zt&&ro(ue,ht),et}function Ze(ue,ie,he,Me){var et=H(he);if(typeof et!="function")throw Error(r(150));if(he=et.call(he),he==null)throw Error(r(151));for(var ct=et=null,ut=ie,ht=ie=0,Ir=null,Tt=he.next();ut!==null&&!Tt.done;ht++,Tt=he.next()){ut.index>ht?(Ir=ut,ut=null):Ir=ut.sibling;var vi=Pe(ue,ut,Tt.value,Me);if(vi===null){ut===null&&(ut=Ir);break}o&&ut&&vi.alternate===null&&c(ue,ut),ie=P(vi,ie,ht),ct===null?et=vi:ct.sibling=vi,ct=vi,ut=Ir}if(Tt.done)return p(ue,ut),Zt&&ro(ue,ht),et;if(ut===null){for(;!Tt.done;ht++,Tt=he.next())Tt=Ie(ue,Tt.value,Me),Tt!==null&&(ie=P(Tt,ie,ht),ct===null?et=Tt:ct.sibling=Tt,ct=Tt);return Zt&&ro(ue,ht),et}for(ut=y(ue,ut);!Tt.done;ht++,Tt=he.next())Tt=qe(ut,ue,ht,Tt.value,Me),Tt!==null&&(o&&Tt.alternate!==null&&ut.delete(Tt.key===null?ht:Tt.key),ie=P(Tt,ie,ht),ct===null?et=Tt:ct.sibling=Tt,ct=Tt);return o&&ut.forEach(function(HU){return c(ue,HU)}),Zt&&ro(ue,ht),et}function dr(ue,ie,he,Me){if(typeof he=="object"&&he!==null&&he.type===R&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case _:e:{for(var et=he.key,ct=ie;ct!==null;){if(ct.key===et){if(et=he.type,et===R){if(ct.tag===7){p(ue,ct.sibling),ie=E(ct,he.props.children),ie.return=ue,ue=ie;break e}}else if(ct.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===M&&W_(et)===ct.type){p(ue,ct.sibling),ie=E(ct,he.props),ie.ref=su(ue,ct,he),ie.return=ue,ue=ie;break e}p(ue,ct);break}else c(ue,ct);ct=ct.sibling}he.type===R?(ie=uo(he.props.children,ue.mode,Me,he.key),ie.return=ue,ue=ie):(Me=hh(he.type,he.key,he.props,null,ue.mode,Me),Me.ref=su(ue,ie,he),Me.return=ue,ue=Me)}return U(ue);case T:e:{for(ct=he.key;ie!==null;){if(ie.key===ct)if(ie.tag===4&&ie.stateNode.containerInfo===he.containerInfo&&ie.stateNode.implementation===he.implementation){p(ue,ie.sibling),ie=E(ie,he.children||[]),ie.return=ue,ue=ie;break e}else{p(ue,ie);break}else c(ue,ie);ie=ie.sibling}ie=Jv(he,ue.mode,Me),ie.return=ue,ue=ie}return U(ue);case M:return ct=he._init,dr(ue,ie,ct(he._payload),Me)}if(se(he))return Ge(ue,ie,he,Me);if(H(he))return Ze(ue,ie,he,Me);qf(ue,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ie!==null&&ie.tag===6?(p(ue,ie.sibling),ie=E(ie,he),ie.return=ue,ue=ie):(p(ue,ie),ie=Zv(he,ue.mode,Me),ie.return=ue,ue=ie),U(ue)):p(ue,ie)}return dr}var cl=V_(!0),H_=V_(!1),Wf=ii(null),Vf=null,ul=null,lv=null;function cv(){lv=ul=Vf=null}function uv(o){var c=Wf.current;Xt(Wf),o._currentValue=c}function dv(o,c,p){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===p)break;o=o.return}}function dl(o,c){Vf=o,lv=ul=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(En=!0),o.firstContext=null)}function ia(o){var c=o._currentValue;if(lv!==o)if(o={context:o,memoizedValue:c,next:null},ul===null){if(Vf===null)throw Error(r(308));ul=o,Vf.dependencies={lanes:0,firstContext:o}}else ul=ul.next=o;return c}var no=null;function fv(o){no===null?no=[o]:no.push(o)}function G_(o,c,p,y){var E=c.interleaved;return E===null?(p.next=p,fv(c)):(p.next=E.next,E.next=p),c.interleaved=p,bs(o,y)}function bs(o,c){o.lanes|=c;var p=o.alternate;for(p!==null&&(p.lanes|=c),p=o,o=o.return;o!==null;)o.childLanes|=c,p=o.alternate,p!==null&&(p.childLanes|=c),p=o,o=o.return;return p.tag===3?p.stateNode:null}var ci=!1;function hv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K_(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function js(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function ui(o,c,p){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(_t&2)!==0){var E=y.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),y.pending=c,bs(o,p)}return E=y.interleaved,E===null?(c.next=c,fv(y)):(c.next=E.next,E.next=c),y.interleaved=c,bs(o,p)}function Hf(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,Eg(o,p)}}function Y_(o,c){var p=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var E=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var U={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};P===null?E=P=U:P=P.next=U,p=p.next}while(p!==null);P===null?E=P=c:P=P.next=c}else E=P=c;p={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:P,shared:y.shared,effects:y.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}function Gf(o,c,p,y){var E=o.updateQueue;ci=!1;var P=E.firstBaseUpdate,U=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var ne=J,xe=ne.next;ne.next=null,U===null?P=xe:U.next=xe,U=ne;var Re=o.alternate;Re!==null&&(Re=Re.updateQueue,J=Re.lastBaseUpdate,J!==U&&(J===null?Re.firstBaseUpdate=xe:J.next=xe,Re.lastBaseUpdate=ne))}if(P!==null){var Ie=E.baseState;U=0,Re=xe=ne=null,J=P;do{var Pe=J.lane,qe=J.eventTime;if((y&Pe)===Pe){Re!==null&&(Re=Re.next={eventTime:qe,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Ge=o,Ze=J;switch(Pe=c,qe=p,Ze.tag){case 1:if(Ge=Ze.payload,typeof Ge=="function"){Ie=Ge.call(qe,Ie,Pe);break e}Ie=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Ze.payload,Pe=typeof Ge=="function"?Ge.call(qe,Ie,Pe):Ge,Pe==null)break e;Ie=V({},Ie,Pe);break e;case 2:ci=!0}}J.callback!==null&&J.lane!==0&&(o.flags|=64,Pe=E.effects,Pe===null?E.effects=[J]:Pe.push(J))}else qe={eventTime:qe,lane:Pe,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Re===null?(xe=Re=qe,ne=Ie):Re=Re.next=qe,U|=Pe;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;Pe=J,J=Pe.next,Pe.next=null,E.lastBaseUpdate=Pe,E.shared.pending=null}}while(!0);if(Re===null&&(ne=Ie),E.baseState=ne,E.firstBaseUpdate=xe,E.lastBaseUpdate=Re,c=E.shared.interleaved,c!==null){E=c;do U|=E.lane,E=E.next;while(E!==c)}else P===null&&(E.shared.lanes=0);io|=U,o.lanes=U,o.memoizedState=Ie}}function X_(o,c,p){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var y=o[c],E=y.callback;if(E!==null){if(y.callback=null,y=p,typeof E!="function")throw Error(r(191,E));E.call(y)}}}var iu={},Wa=ii(iu),ou=ii(iu),lu=ii(iu);function ao(o){if(o===iu)throw Error(r(174));return o}function mv(o,c){switch(Ht(lu,c),Ht(ou,o),Ht(Wa,iu),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:nr(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=nr(c,o)}Xt(Wa),Ht(Wa,c)}function fl(){Xt(Wa),Xt(ou),Xt(lu)}function Q_(o){ao(lu.current);var c=ao(Wa.current),p=nr(c,o.type);c!==p&&(Ht(ou,o),Ht(Wa,p))}function pv(o){ou.current===o&&(Xt(Wa),Xt(ou))}var tr=ii(0);function Kf(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var gv=[];function vv(){for(var o=0;o<gv.length;o++)gv[o]._workInProgressVersionPrimary=null;gv.length=0}var Yf=A.ReactCurrentDispatcher,xv=A.ReactCurrentBatchConfig,so=0,rr=null,jr=null,Rr=null,Xf=!1,cu=!1,uu=0,mU=0;function tn(){throw Error(r(321))}function yv(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!ja(o[p],c[p]))return!1;return!0}function bv(o,c,p,y,E,P){if(so=P,rr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Yf.current=o===null||o.memoizedState===null?xU:yU,o=p(y,E),cu){P=0;do{if(cu=!1,uu=0,25<=P)throw Error(r(301));P+=1,Rr=jr=null,c.updateQueue=null,Yf.current=bU,o=p(y,E)}while(cu)}if(Yf.current=Jf,c=jr!==null&&jr.next!==null,so=0,Rr=jr=rr=null,Xf=!1,c)throw Error(r(300));return o}function jv(){var o=uu!==0;return uu=0,o}function Va(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?rr.memoizedState=Rr=o:Rr=Rr.next=o,Rr}function oa(){if(jr===null){var o=rr.alternate;o=o!==null?o.memoizedState:null}else o=jr.next;var c=Rr===null?rr.memoizedState:Rr.next;if(c!==null)Rr=c,jr=o;else{if(o===null)throw Error(r(310));jr=o,o={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Rr===null?rr.memoizedState=Rr=o:Rr=Rr.next=o}return Rr}function du(o,c){return typeof c=="function"?c(o):c}function wv(o){var c=oa(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var y=jr,E=y.baseQueue,P=p.pending;if(P!==null){if(E!==null){var U=E.next;E.next=P.next,P.next=U}y.baseQueue=E=P,p.pending=null}if(E!==null){P=E.next,y=y.baseState;var J=U=null,ne=null,xe=P;do{var Re=xe.lane;if((so&Re)===Re)ne!==null&&(ne=ne.next={lane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),y=xe.hasEagerState?xe.eagerState:o(y,xe.action);else{var Ie={lane:Re,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null};ne===null?(J=ne=Ie,U=y):ne=ne.next=Ie,rr.lanes|=Re,io|=Re}xe=xe.next}while(xe!==null&&xe!==P);ne===null?U=y:ne.next=J,ja(y,c.memoizedState)||(En=!0),c.memoizedState=y,c.baseState=U,c.baseQueue=ne,p.lastRenderedState=y}if(o=p.interleaved,o!==null){E=o;do P=E.lane,rr.lanes|=P,io|=P,E=E.next;while(E!==o)}else E===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function Nv(o){var c=oa(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var y=p.dispatch,E=p.pending,P=c.memoizedState;if(E!==null){p.pending=null;var U=E=E.next;do P=o(P,U.action),U=U.next;while(U!==E);ja(P,c.memoizedState)||(En=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),p.lastRenderedState=P}return[P,y]}function Z_(){}function J_(o,c){var p=rr,y=oa(),E=c(),P=!ja(y.memoizedState,E);if(P&&(y.memoizedState=E,En=!0),y=y.queue,Sv(rC.bind(null,p,y,o),[o]),y.getSnapshot!==c||P||Rr!==null&&Rr.memoizedState.tag&1){if(p.flags|=2048,fu(9,tC.bind(null,p,y,E,c),void 0,null),kr===null)throw Error(r(349));(so&30)!==0||eC(p,c,E)}return E}function eC(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=rr.updateQueue,c===null?(c={lastEffect:null,stores:null},rr.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function tC(o,c,p,y){c.value=p,c.getSnapshot=y,nC(c)&&aC(o)}function rC(o,c,p){return p(function(){nC(c)&&aC(o)})}function nC(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!ja(o,p)}catch{return!0}}function aC(o){var c=bs(o,1);c!==null&&Ca(c,o,1,-1)}function sC(o){var c=Va();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:o},c.queue=o,o=o.dispatch=vU.bind(null,rr,o),[c.memoizedState,o]}function fu(o,c,p,y){return o={tag:o,create:c,destroy:p,deps:y,next:null},c=rr.updateQueue,c===null?(c={lastEffect:null,stores:null},rr.updateQueue=c,c.lastEffect=o.next=o):(p=c.lastEffect,p===null?c.lastEffect=o.next=o:(y=p.next,p.next=o,o.next=y,c.lastEffect=o)),o}function iC(){return oa().memoizedState}function Qf(o,c,p,y){var E=Va();rr.flags|=o,E.memoizedState=fu(1|c,p,void 0,y===void 0?null:y)}function Zf(o,c,p,y){var E=oa();y=y===void 0?null:y;var P=void 0;if(jr!==null){var U=jr.memoizedState;if(P=U.destroy,y!==null&&yv(y,U.deps)){E.memoizedState=fu(c,p,P,y);return}}rr.flags|=o,E.memoizedState=fu(1|c,p,P,y)}function oC(o,c){return Qf(8390656,8,o,c)}function Sv(o,c){return Zf(2048,8,o,c)}function lC(o,c){return Zf(4,2,o,c)}function cC(o,c){return Zf(4,4,o,c)}function uC(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function dC(o,c,p){return p=p!=null?p.concat([o]):null,Zf(4,4,uC.bind(null,c,o),p)}function _v(){}function fC(o,c){var p=oa();c=c===void 0?null:c;var y=p.memoizedState;return y!==null&&c!==null&&yv(c,y[1])?y[0]:(p.memoizedState=[o,c],o)}function hC(o,c){var p=oa();c=c===void 0?null:c;var y=p.memoizedState;return y!==null&&c!==null&&yv(c,y[1])?y[0]:(o=o(),p.memoizedState=[o,c],o)}function mC(o,c,p){return(so&21)===0?(o.baseState&&(o.baseState=!1,En=!0),o.memoizedState=p):(ja(p,c)||(p=WS(),rr.lanes|=p,io|=p,o.baseState=!0),c)}function pU(o,c){var p=Dt;Dt=p!==0&&4>p?p:4,o(!0);var y=xv.transition;xv.transition={};try{o(!1),c()}finally{Dt=p,xv.transition=y}}function pC(){return oa().memoizedState}function gU(o,c,p){var y=mi(o);if(p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},gC(o))vC(c,p);else if(p=G_(o,c,p,y),p!==null){var E=fn();Ca(p,o,y,E),xC(p,c,y)}}function vU(o,c,p){var y=mi(o),E={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(gC(o))vC(c,E);else{var P=o.alternate;if(o.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var U=c.lastRenderedState,J=P(U,p);if(E.hasEagerState=!0,E.eagerState=J,ja(J,U)){var ne=c.interleaved;ne===null?(E.next=E,fv(c)):(E.next=ne.next,ne.next=E),c.interleaved=E;return}}catch{}finally{}p=G_(o,c,E,y),p!==null&&(E=fn(),Ca(p,o,y,E),xC(p,c,y))}}function gC(o){var c=o.alternate;return o===rr||c!==null&&c===rr}function vC(o,c){cu=Xf=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function xC(o,c,p){if((p&4194240)!==0){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,Eg(o,p)}}var Jf={readContext:ia,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},xU={readContext:ia,useCallback:function(o,c){return Va().memoizedState=[o,c===void 0?null:c],o},useContext:ia,useEffect:oC,useImperativeHandle:function(o,c,p){return p=p!=null?p.concat([o]):null,Qf(4194308,4,uC.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Qf(4194308,4,o,c)},useInsertionEffect:function(o,c){return Qf(4,2,o,c)},useMemo:function(o,c){var p=Va();return c=c===void 0?null:c,o=o(),p.memoizedState=[o,c],o},useReducer:function(o,c,p){var y=Va();return c=p!==void 0?p(c):c,y.memoizedState=y.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},y.queue=o,o=o.dispatch=gU.bind(null,rr,o),[y.memoizedState,o]},useRef:function(o){var c=Va();return o={current:o},c.memoizedState=o},useState:sC,useDebugValue:_v,useDeferredValue:function(o){return Va().memoizedState=o},useTransition:function(){var o=sC(!1),c=o[0];return o=pU.bind(null,o[1]),Va().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,p){var y=rr,E=Va();if(Zt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),kr===null)throw Error(r(349));(so&30)!==0||eC(y,c,p)}E.memoizedState=p;var P={value:p,getSnapshot:c};return E.queue=P,oC(rC.bind(null,y,P,o),[o]),y.flags|=2048,fu(9,tC.bind(null,y,P,p,c),void 0,null),p},useId:function(){var o=Va(),c=kr.identifierPrefix;if(Zt){var p=ys,y=xs;p=(y&~(1<<32-ba(y)-1)).toString(32)+p,c=":"+c+"R"+p,p=uu++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=mU++,c=":"+c+"r"+p.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},yU={readContext:ia,useCallback:fC,useContext:ia,useEffect:Sv,useImperativeHandle:dC,useInsertionEffect:lC,useLayoutEffect:cC,useMemo:hC,useReducer:wv,useRef:iC,useState:function(){return wv(du)},useDebugValue:_v,useDeferredValue:function(o){var c=oa();return mC(c,jr.memoizedState,o)},useTransition:function(){var o=wv(du)[0],c=oa().memoizedState;return[o,c]},useMutableSource:Z_,useSyncExternalStore:J_,useId:pC,unstable_isNewReconciler:!1},bU={readContext:ia,useCallback:fC,useContext:ia,useEffect:Sv,useImperativeHandle:dC,useInsertionEffect:lC,useLayoutEffect:cC,useMemo:hC,useReducer:Nv,useRef:iC,useState:function(){return Nv(du)},useDebugValue:_v,useDeferredValue:function(o){var c=oa();return jr===null?c.memoizedState=o:mC(c,jr.memoizedState,o)},useTransition:function(){var o=Nv(du)[0],c=oa().memoizedState;return[o,c]},useMutableSource:Z_,useSyncExternalStore:J_,useId:pC,unstable_isNewReconciler:!1};function Na(o,c){if(o&&o.defaultProps){c=V({},c),o=o.defaultProps;for(var p in o)c[p]===void 0&&(c[p]=o[p]);return c}return c}function Cv(o,c,p,y){c=o.memoizedState,p=p(y,c),p=p==null?c:V({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var eh={isMounted:function(o){return(o=o._reactInternals)?Zi(o)===o:!1},enqueueSetState:function(o,c,p){o=o._reactInternals;var y=fn(),E=mi(o),P=js(y,E);P.payload=c,p!=null&&(P.callback=p),c=ui(o,P,E),c!==null&&(Ca(c,o,E,y),Hf(c,o,E))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var y=fn(),E=mi(o),P=js(y,E);P.tag=1,P.payload=c,p!=null&&(P.callback=p),c=ui(o,P,E),c!==null&&(Ca(c,o,E,y),Hf(c,o,E))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=fn(),y=mi(o),E=js(p,y);E.tag=2,c!=null&&(E.callback=c),c=ui(o,E,y),c!==null&&(Ca(c,o,y,p),Hf(c,o,y))}};function yC(o,c,p,y,E,P,U){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,P,U):c.prototype&&c.prototype.isPureReactComponent?!Zc(p,y)||!Zc(E,P):!0}function bC(o,c,p){var y=!1,E=oi,P=c.contextType;return typeof P=="object"&&P!==null?P=ia(P):(E=Cn(c)?eo:en.current,y=c.contextTypes,P=(y=y!=null)?sl(o,E):oi),c=new c(p,P),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=eh,o.stateNode=c,c._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=E,o.__reactInternalMemoizedMaskedChildContext=P),c}function jC(o,c,p,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,y),c.state!==o&&eh.enqueueReplaceState(c,c.state,null)}function Ev(o,c,p,y){var E=o.stateNode;E.props=p,E.state=o.memoizedState,E.refs={},hv(o);var P=c.contextType;typeof P=="object"&&P!==null?E.context=ia(P):(P=Cn(c)?eo:en.current,E.context=sl(o,P)),E.state=o.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(Cv(o,c,P,p),E.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(c=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),c!==E.state&&eh.enqueueReplaceState(E,E.state,null),Gf(o,p,E,y),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308)}function hl(o,c){try{var p="",y=c;do p+=ee(y),y=y.return;while(y);var E=p}catch(P){E=`
Error generating stack: `+P.message+`
`+P.stack}return{value:o,source:c,stack:E,digest:null}}function Tv(o,c,p){return{value:o,source:null,stack:p??null,digest:c??null}}function Av(o,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var jU=typeof WeakMap=="function"?WeakMap:Map;function wC(o,c,p){p=js(-1,p),p.tag=3,p.payload={element:null};var y=c.value;return p.callback=function(){oh||(oh=!0,Wv=y),Av(o,c)},p}function NC(o,c,p){p=js(-1,p),p.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var E=c.value;p.payload=function(){return y(E)},p.callback=function(){Av(o,c)}}var P=o.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(p.callback=function(){Av(o,c),typeof y!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var U=c.stack;this.componentDidCatch(c.value,{componentStack:U!==null?U:""})}),p}function SC(o,c,p){var y=o.pingCache;if(y===null){y=o.pingCache=new jU;var E=new Set;y.set(c,E)}else E=y.get(c),E===void 0&&(E=new Set,y.set(c,E));E.has(p)||(E.add(p),o=DU.bind(null,o,c,p),c.then(o,o))}function _C(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function CC(o,c,p,y,E){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=js(-1,1),c.tag=2,ui(p,c,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=E,o)}var wU=A.ReactCurrentOwner,En=!1;function dn(o,c,p,y){c.child=o===null?H_(c,null,p,y):cl(c,o.child,p,y)}function EC(o,c,p,y,E){p=p.render;var P=c.ref;return dl(c,E),y=bv(o,c,p,y,P,E),p=jv(),o!==null&&!En?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~E,ws(o,c,E)):(Zt&&p&&nv(c),c.flags|=1,dn(o,c,y,E),c.child)}function TC(o,c,p,y,E){if(o===null){var P=p.type;return typeof P=="function"&&!Qv(P)&&P.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=P,AC(o,c,P,y,E)):(o=hh(p.type,null,y,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(P=o.child,(o.lanes&E)===0){var U=P.memoizedProps;if(p=p.compare,p=p!==null?p:Zc,p(U,y)&&o.ref===c.ref)return ws(o,c,E)}return c.flags|=1,o=gi(P,y),o.ref=c.ref,o.return=c,c.child=o}function AC(o,c,p,y,E){if(o!==null){var P=o.memoizedProps;if(Zc(P,y)&&o.ref===c.ref)if(En=!1,c.pendingProps=y=P,(o.lanes&E)!==0)(o.flags&131072)!==0&&(En=!0);else return c.lanes=o.lanes,ws(o,c,E)}return Pv(o,c,p,y,E)}function PC(o,c,p){var y=c.pendingProps,E=y.children,P=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(pl,zn),zn|=p;else{if((p&1073741824)===0)return o=P!==null?P.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,Ht(pl,zn),zn|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=P!==null?P.baseLanes:p,Ht(pl,zn),zn|=y}else P!==null?(y=P.baseLanes|p,c.memoizedState=null):y=p,Ht(pl,zn),zn|=y;return dn(o,c,E,p),c.child}function RC(o,c){var p=c.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function Pv(o,c,p,y,E){var P=Cn(p)?eo:en.current;return P=sl(c,P),dl(c,E),p=bv(o,c,p,y,P,E),y=jv(),o!==null&&!En?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~E,ws(o,c,E)):(Zt&&y&&nv(c),c.flags|=1,dn(o,c,p,E),c.child)}function kC(o,c,p,y,E){if(Cn(p)){var P=!0;Lf(c)}else P=!1;if(dl(c,E),c.stateNode===null)rh(o,c),bC(c,p,y),Ev(c,p,y,E),y=!0;else if(o===null){var U=c.stateNode,J=c.memoizedProps;U.props=J;var ne=U.context,xe=p.contextType;typeof xe=="object"&&xe!==null?xe=ia(xe):(xe=Cn(p)?eo:en.current,xe=sl(c,xe));var Re=p.getDerivedStateFromProps,Ie=typeof Re=="function"||typeof U.getSnapshotBeforeUpdate=="function";Ie||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==y||ne!==xe)&&jC(c,U,y,xe),ci=!1;var Pe=c.memoizedState;U.state=Pe,Gf(c,y,U,E),ne=c.memoizedState,J!==y||Pe!==ne||_n.current||ci?(typeof Re=="function"&&(Cv(c,p,Re,y),ne=c.memoizedState),(J=ci||yC(c,p,J,y,Pe,ne,xe))?(Ie||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(c.flags|=4194308)):(typeof U.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=ne),U.props=y,U.state=ne,U.context=xe,y=J):(typeof U.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{U=c.stateNode,K_(o,c),J=c.memoizedProps,xe=c.type===c.elementType?J:Na(c.type,J),U.props=xe,Ie=c.pendingProps,Pe=U.context,ne=p.contextType,typeof ne=="object"&&ne!==null?ne=ia(ne):(ne=Cn(p)?eo:en.current,ne=sl(c,ne));var qe=p.getDerivedStateFromProps;(Re=typeof qe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==Ie||Pe!==ne)&&jC(c,U,y,ne),ci=!1,Pe=c.memoizedState,U.state=Pe,Gf(c,y,U,E);var Ge=c.memoizedState;J!==Ie||Pe!==Ge||_n.current||ci?(typeof qe=="function"&&(Cv(c,p,qe,y),Ge=c.memoizedState),(xe=ci||yC(c,p,xe,y,Pe,Ge,ne)||!1)?(Re||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(y,Ge,ne),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(y,Ge,ne)),typeof U.componentDidUpdate=="function"&&(c.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof U.componentDidUpdate!="function"||J===o.memoizedProps&&Pe===o.memoizedState||(c.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&Pe===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Ge),U.props=y,U.state=Ge,U.context=ne,y=xe):(typeof U.componentDidUpdate!="function"||J===o.memoizedProps&&Pe===o.memoizedState||(c.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&Pe===o.memoizedState||(c.flags|=1024),y=!1)}return Rv(o,c,p,y,P,E)}function Rv(o,c,p,y,E,P){RC(o,c);var U=(c.flags&128)!==0;if(!y&&!U)return E&&$_(c,p,!1),ws(o,c,P);y=c.stateNode,wU.current=c;var J=U&&typeof p.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,o!==null&&U?(c.child=cl(c,o.child,null,P),c.child=cl(c,null,J,P)):dn(o,c,J,P),c.memoizedState=y.state,E&&$_(c,p,!0),c.child}function IC(o){var c=o.stateNode;c.pendingContext?D_(o,c.pendingContext,c.pendingContext!==c.context):c.context&&D_(o,c.context,!1),mv(o,c.containerInfo)}function OC(o,c,p,y,E){return ll(),ov(E),c.flags|=256,dn(o,c,p,y),c.child}var kv={dehydrated:null,treeContext:null,retryLane:0};function Iv(o){return{baseLanes:o,cachePool:null,transitions:null}}function DC(o,c,p){var y=c.pendingProps,E=tr.current,P=!1,U=(c.flags&128)!==0,J;if((J=U)||(J=o!==null&&o.memoizedState===null?!1:(E&2)!==0),J?(P=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(E|=1),Ht(tr,E&1),o===null)return iv(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(U=y.children,o=y.fallback,P?(y=c.mode,P=c.child,U={mode:"hidden",children:U},(y&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=U):P=mh(U,y,0,null),o=uo(o,y,p,null),P.return=c,o.return=c,P.sibling=o,c.child=P,c.child.memoizedState=Iv(p),c.memoizedState=kv,o):Ov(c,U));if(E=o.memoizedState,E!==null&&(J=E.dehydrated,J!==null))return NU(o,c,U,y,J,E,p);if(P){P=y.fallback,U=c.mode,E=o.child,J=E.sibling;var ne={mode:"hidden",children:y.children};return(U&1)===0&&c.child!==E?(y=c.child,y.childLanes=0,y.pendingProps=ne,c.deletions=null):(y=gi(E,ne),y.subtreeFlags=E.subtreeFlags&14680064),J!==null?P=gi(J,P):(P=uo(P,U,p,null),P.flags|=2),P.return=c,y.return=c,y.sibling=P,c.child=y,y=P,P=c.child,U=o.child.memoizedState,U=U===null?Iv(p):{baseLanes:U.baseLanes|p,cachePool:null,transitions:U.transitions},P.memoizedState=U,P.childLanes=o.childLanes&~p,c.memoizedState=kv,y}return P=o.child,o=P.sibling,y=gi(P,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=p),y.return=c,y.sibling=null,o!==null&&(p=c.deletions,p===null?(c.deletions=[o],c.flags|=16):p.push(o)),c.child=y,c.memoizedState=null,y}function Ov(o,c){return c=mh({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function th(o,c,p,y){return y!==null&&ov(y),cl(c,o.child,null,p),o=Ov(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function NU(o,c,p,y,E,P,U){if(p)return c.flags&256?(c.flags&=-257,y=Tv(Error(r(422))),th(o,c,U,y)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(P=y.fallback,E=c.mode,y=mh({mode:"visible",children:y.children},E,0,null),P=uo(P,E,U,null),P.flags|=2,y.return=c,P.return=c,y.sibling=P,c.child=y,(c.mode&1)!==0&&cl(c,o.child,null,U),c.child.memoizedState=Iv(U),c.memoizedState=kv,P);if((c.mode&1)===0)return th(o,c,U,null);if(E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var J=y.dgst;return y=J,P=Error(r(419)),y=Tv(P,y,void 0),th(o,c,U,y)}if(J=(U&o.childLanes)!==0,En||J){if(y=kr,y!==null){switch(U&-U){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(y.suspendedLanes|U))!==0?0:E,E!==0&&E!==P.retryLane&&(P.retryLane=E,bs(o,E),Ca(y,o,E,-1))}return Xv(),y=Tv(Error(r(421))),th(o,c,U,y)}return E.data==="$?"?(c.flags|=128,c.child=o.child,c=MU.bind(null,o),E._reactRetry=c,null):(o=P.treeContext,Bn=si(E.nextSibling),Un=c,Zt=!0,wa=null,o!==null&&(aa[sa++]=xs,aa[sa++]=ys,aa[sa++]=to,xs=o.id,ys=o.overflow,to=c),c=Ov(c,y.children),c.flags|=4096,c)}function MC(o,c,p){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),dv(o.return,c,p)}function Dv(o,c,p,y,E){var P=o.memoizedState;P===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:E}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=y,P.tail=p,P.tailMode=E)}function $C(o,c,p){var y=c.pendingProps,E=y.revealOrder,P=y.tail;if(dn(o,c,y.children,p),y=tr.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&MC(o,p,c);else if(o.tag===19)MC(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(Ht(tr,y),(c.mode&1)===0)c.memoizedState=null;else switch(E){case"forwards":for(p=c.child,E=null;p!==null;)o=p.alternate,o!==null&&Kf(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),Dv(c,!1,E,p,P);break;case"backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&Kf(o)===null){c.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}Dv(c,!0,p,null,P);break;case"together":Dv(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function rh(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function ws(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),io|=c.lanes,(p&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,p=gi(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=gi(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function SU(o,c,p){switch(c.tag){case 3:IC(c),ll();break;case 5:Q_(c);break;case 1:Cn(c.type)&&Lf(c);break;case 4:mv(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,E=c.memoizedProps.value;Ht(Wf,y._currentValue),y._currentValue=E;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(Ht(tr,tr.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?DC(o,c,p):(Ht(tr,tr.current&1),o=ws(o,c,p),o!==null?o.sibling:null);Ht(tr,tr.current&1);break;case 19:if(y=(p&c.childLanes)!==0,(o.flags&128)!==0){if(y)return $C(o,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Ht(tr,tr.current),y)break;return null;case 22:case 23:return c.lanes=0,PC(o,c,p)}return ws(o,c,p)}var LC,Mv,FC,UC;LC=function(o,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Mv=function(){},FC=function(o,c,p,y){var E=o.memoizedProps;if(E!==y){o=c.stateNode,ao(Wa.current);var P=null;switch(p){case"input":E=ge(o,E),y=ge(o,y),P=[];break;case"select":E=V({},E,{value:void 0}),y=V({},y,{value:void 0}),P=[];break;case"textarea":E=st(o,E),y=st(o,y),P=[];break;default:typeof E.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Df)}hr(p,y);var U;p=null;for(xe in E)if(!y.hasOwnProperty(xe)&&E.hasOwnProperty(xe)&&E[xe]!=null)if(xe==="style"){var J=E[xe];for(U in J)J.hasOwnProperty(U)&&(p||(p={}),p[U]="")}else xe!=="dangerouslySetInnerHTML"&&xe!=="children"&&xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&xe!=="autoFocus"&&(s.hasOwnProperty(xe)?P||(P=[]):(P=P||[]).push(xe,null));for(xe in y){var ne=y[xe];if(J=E?.[xe],y.hasOwnProperty(xe)&&ne!==J&&(ne!=null||J!=null))if(xe==="style")if(J){for(U in J)!J.hasOwnProperty(U)||ne&&ne.hasOwnProperty(U)||(p||(p={}),p[U]="");for(U in ne)ne.hasOwnProperty(U)&&J[U]!==ne[U]&&(p||(p={}),p[U]=ne[U])}else p||(P||(P=[]),P.push(xe,p)),p=ne;else xe==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,J=J?J.__html:void 0,ne!=null&&J!==ne&&(P=P||[]).push(xe,ne)):xe==="children"?typeof ne!="string"&&typeof ne!="number"||(P=P||[]).push(xe,""+ne):xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&(s.hasOwnProperty(xe)?(ne!=null&&xe==="onScroll"&&Yt("scroll",o),P||J===ne||(P=[])):(P=P||[]).push(xe,ne))}p&&(P=P||[]).push("style",p);var xe=P;(c.updateQueue=xe)&&(c.flags|=4)}},UC=function(o,c,p,y){p!==y&&(c.flags|=4)};function hu(o,c){if(!Zt)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function rn(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,y=0;if(c)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags&14680064,y|=E.flags&14680064,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=y,o.childLanes=p,c}function _U(o,c,p){var y=c.pendingProps;switch(av(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(c),null;case 1:return Cn(c.type)&&$f(),rn(c),null;case 3:return y=c.stateNode,fl(),Xt(_n),Xt(en),vv(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(zf(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,wa!==null&&(Gv(wa),wa=null))),Mv(o,c),rn(c),null;case 5:pv(c);var E=ao(lu.current);if(p=c.type,o!==null&&c.stateNode!=null)FC(o,c,p,y,E),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(r(166));return rn(c),null}if(o=ao(Wa.current),zf(c)){y=c.stateNode,p=c.type;var P=c.memoizedProps;switch(y[qa]=c,y[nu]=P,o=(c.mode&1)!==0,p){case"dialog":Yt("cancel",y),Yt("close",y);break;case"iframe":case"object":case"embed":Yt("load",y);break;case"video":case"audio":for(E=0;E<eu.length;E++)Yt(eu[E],y);break;case"source":Yt("error",y);break;case"img":case"image":case"link":Yt("error",y),Yt("load",y);break;case"details":Yt("toggle",y);break;case"input":Fe(y,P),Yt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!P.multiple},Yt("invalid",y);break;case"textarea":Lt(y,P),Yt("invalid",y)}hr(p,P),E=null;for(var U in P)if(P.hasOwnProperty(U)){var J=P[U];U==="children"?typeof J=="string"?y.textContent!==J&&(P.suppressHydrationWarning!==!0&&Of(y.textContent,J,o),E=["children",J]):typeof J=="number"&&y.textContent!==""+J&&(P.suppressHydrationWarning!==!0&&Of(y.textContent,J,o),E=["children",""+J]):s.hasOwnProperty(U)&&J!=null&&U==="onScroll"&&Yt("scroll",y)}switch(p){case"input":De(y),wt(y,P,!0);break;case"textarea":De(y),ve(y);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(y.onclick=Df)}y=E,c.updateQueue=y,y!==null&&(c.flags|=4)}else{U=E.nodeType===9?E:E.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Qe(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=U.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=U.createElement(p,{is:y.is}):(o=U.createElement(p),p==="select"&&(U=o,y.multiple?U.multiple=!0:y.size&&(U.size=y.size))):o=U.createElementNS(o,p),o[qa]=c,o[nu]=y,LC(o,c,!1,!1),c.stateNode=o;e:{switch(U=ms(p,y),p){case"dialog":Yt("cancel",o),Yt("close",o),E=y;break;case"iframe":case"object":case"embed":Yt("load",o),E=y;break;case"video":case"audio":for(E=0;E<eu.length;E++)Yt(eu[E],o);E=y;break;case"source":Yt("error",o),E=y;break;case"img":case"image":case"link":Yt("error",o),Yt("load",o),E=y;break;case"details":Yt("toggle",o),E=y;break;case"input":Fe(o,y),E=ge(o,y),Yt("invalid",o);break;case"option":E=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},E=V({},y,{value:void 0}),Yt("invalid",o);break;case"textarea":Lt(o,y),E=st(o,y),Yt("invalid",o);break;default:E=y}hr(p,E),J=E;for(P in J)if(J.hasOwnProperty(P)){var ne=J[P];P==="style"?de(o,ne):P==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Ks(o,ne)):P==="children"?typeof ne=="string"?(p!=="textarea"||ne!=="")&&Sn(o,ne):typeof ne=="number"&&Sn(o,""+ne):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(s.hasOwnProperty(P)?ne!=null&&P==="onScroll"&&Yt("scroll",o):ne!=null&&S(o,P,ne,U))}switch(p){case"input":De(o),wt(o,y,!1);break;case"textarea":De(o),ve(o);break;case"option":y.value!=null&&o.setAttribute("value",""+fe(y.value));break;case"select":o.multiple=!!y.multiple,P=y.value,P!=null?Le(o,!!y.multiple,P,!1):y.defaultValue!=null&&Le(o,!!y.multiple,y.defaultValue,!0);break;default:typeof E.onClick=="function"&&(o.onclick=Df)}switch(p){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return rn(c),null;case 6:if(o&&c.stateNode!=null)UC(o,c,o.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(p=ao(lu.current),ao(Wa.current),zf(c)){if(y=c.stateNode,p=c.memoizedProps,y[qa]=c,(P=y.nodeValue!==p)&&(o=Un,o!==null))switch(o.tag){case 3:Of(y.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Of(y.nodeValue,p,(o.mode&1)!==0)}P&&(c.flags|=4)}else y=(p.nodeType===9?p:p.ownerDocument).createTextNode(y),y[qa]=c,c.stateNode=y}return rn(c),null;case 13:if(Xt(tr),y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Zt&&Bn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)q_(),ll(),c.flags|=98560,P=!1;else if(P=zf(c),y!==null&&y.dehydrated!==null){if(o===null){if(!P)throw Error(r(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[qa]=c}else ll(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;rn(c),P=!1}else wa!==null&&(Gv(wa),wa=null),P=!0;if(!P)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(tr.current&1)!==0?wr===0&&(wr=3):Xv())),c.updateQueue!==null&&(c.flags|=4),rn(c),null);case 4:return fl(),Mv(o,c),o===null&&tu(c.stateNode.containerInfo),rn(c),null;case 10:return uv(c.type._context),rn(c),null;case 17:return Cn(c.type)&&$f(),rn(c),null;case 19:if(Xt(tr),P=c.memoizedState,P===null)return rn(c),null;if(y=(c.flags&128)!==0,U=P.rendering,U===null)if(y)hu(P,!1);else{if(wr!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(U=Kf(o),U!==null){for(c.flags|=128,hu(P,!1),y=U.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=p,p=c.child;p!==null;)P=p,o=y,P.flags&=14680066,U=P.alternate,U===null?(P.childLanes=0,P.lanes=o,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=U.childLanes,P.lanes=U.lanes,P.child=U.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=U.memoizedProps,P.memoizedState=U.memoizedState,P.updateQueue=U.updateQueue,P.type=U.type,o=U.dependencies,P.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return Ht(tr,tr.current&1|2),c.child}o=o.sibling}P.tail!==null&&ur()>gl&&(c.flags|=128,y=!0,hu(P,!1),c.lanes=4194304)}else{if(!y)if(o=Kf(U),o!==null){if(c.flags|=128,y=!0,p=o.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),hu(P,!0),P.tail===null&&P.tailMode==="hidden"&&!U.alternate&&!Zt)return rn(c),null}else 2*ur()-P.renderingStartTime>gl&&p!==1073741824&&(c.flags|=128,y=!0,hu(P,!1),c.lanes=4194304);P.isBackwards?(U.sibling=c.child,c.child=U):(p=P.last,p!==null?p.sibling=U:c.child=U,P.last=U)}return P.tail!==null?(c=P.tail,P.rendering=c,P.tail=c.sibling,P.renderingStartTime=ur(),c.sibling=null,p=tr.current,Ht(tr,y?p&1|2:p&1),c):(rn(c),null);case 22:case 23:return Yv(),y=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(zn&1073741824)!==0&&(rn(c),c.subtreeFlags&6&&(c.flags|=8192)):rn(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function CU(o,c){switch(av(c),c.tag){case 1:return Cn(c.type)&&$f(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return fl(),Xt(_n),Xt(en),vv(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return pv(c),null;case 13:if(Xt(tr),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));ll()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Xt(tr),null;case 4:return fl(),null;case 10:return uv(c.type._context),null;case 22:case 23:return Yv(),null;case 24:return null;default:return null}}var nh=!1,nn=!1,EU=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function ml(o,c){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){ar(o,c,y)}else p.current=null}function $v(o,c,p){try{p()}catch(y){ar(o,c,y)}}var BC=!1;function TU(o,c){if(Yg=Nf,o=y_(),Bg(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var E=y.anchorOffset,P=y.focusNode;y=y.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var U=0,J=-1,ne=-1,xe=0,Re=0,Ie=o,Pe=null;t:for(;;){for(var qe;Ie!==p||E!==0&&Ie.nodeType!==3||(J=U+E),Ie!==P||y!==0&&Ie.nodeType!==3||(ne=U+y),Ie.nodeType===3&&(U+=Ie.nodeValue.length),(qe=Ie.firstChild)!==null;)Pe=Ie,Ie=qe;for(;;){if(Ie===o)break t;if(Pe===p&&++xe===E&&(J=U),Pe===P&&++Re===y&&(ne=U),(qe=Ie.nextSibling)!==null)break;Ie=Pe,Pe=Ie.parentNode}Ie=qe}p=J===-1||ne===-1?null:{start:J,end:ne}}else p=null}p=p||{start:0,end:0}}else p=null;for(Xg={focusedElem:o,selectionRange:p},Nf=!1,Ve=c;Ve!==null;)if(c=Ve,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Ve=o;else for(;Ve!==null;){c=Ve;try{var Ge=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Ze=Ge.memoizedProps,dr=Ge.memoizedState,ue=c.stateNode,ie=ue.getSnapshotBeforeUpdate(c.elementType===c.type?Ze:Na(c.type,Ze),dr);ue.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var he=c.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Me){ar(c,c.return,Me)}if(o=c.sibling,o!==null){o.return=c.return,Ve=o;break}Ve=c.return}return Ge=BC,BC=!1,Ge}function mu(o,c,p){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var E=y=y.next;do{if((E.tag&o)===o){var P=E.destroy;E.destroy=void 0,P!==void 0&&$v(c,p,P)}E=E.next}while(E!==y)}}function ah(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&o)===o){var y=p.create;p.destroy=y()}p=p.next}while(p!==c)}}function Lv(o){var c=o.ref;if(c!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof c=="function"?c(o):c.current=o}}function zC(o){var c=o.alternate;c!==null&&(o.alternate=null,zC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[qa],delete c[nu],delete c[ev],delete c[uU],delete c[dU])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function qC(o){return o.tag===5||o.tag===3||o.tag===4}function WC(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||qC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Fv(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(o,c):p.insertBefore(o,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(o,p)):(c=p,c.appendChild(o)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Df));else if(y!==4&&(o=o.child,o!==null))for(Fv(o,c,p),o=o.sibling;o!==null;)Fv(o,c,p),o=o.sibling}function Uv(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(Uv(o,c,p),o=o.sibling;o!==null;)Uv(o,c,p),o=o.sibling}var Vr=null,Sa=!1;function di(o,c,p){for(p=p.child;p!==null;)VC(o,c,p),p=p.sibling}function VC(o,c,p){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(vf,p)}catch{}switch(p.tag){case 5:nn||ml(p,c);case 6:var y=Vr,E=Sa;Vr=null,di(o,c,p),Vr=y,Sa=E,Vr!==null&&(Sa?(o=Vr,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):Vr.removeChild(p.stateNode));break;case 18:Vr!==null&&(Sa?(o=Vr,p=p.stateNode,o.nodeType===8?Jg(o.parentNode,p):o.nodeType===1&&Jg(o,p),Hc(o)):Jg(Vr,p.stateNode));break;case 4:y=Vr,E=Sa,Vr=p.stateNode.containerInfo,Sa=!0,di(o,c,p),Vr=y,Sa=E;break;case 0:case 11:case 14:case 15:if(!nn&&(y=p.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){E=y=y.next;do{var P=E,U=P.destroy;P=P.tag,U!==void 0&&((P&2)!==0||(P&4)!==0)&&$v(p,c,U),E=E.next}while(E!==y)}di(o,c,p);break;case 1:if(!nn&&(ml(p,c),y=p.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(J){ar(p,c,J)}di(o,c,p);break;case 21:di(o,c,p);break;case 22:p.mode&1?(nn=(y=nn)||p.memoizedState!==null,di(o,c,p),nn=y):di(o,c,p);break;default:di(o,c,p)}}function HC(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new EU),c.forEach(function(y){var E=$U.bind(null,o,y);p.has(y)||(p.add(y),y.then(E,E))})}}function _a(o,c){var p=c.deletions;if(p!==null)for(var y=0;y<p.length;y++){var E=p[y];try{var P=o,U=c,J=U;e:for(;J!==null;){switch(J.tag){case 5:Vr=J.stateNode,Sa=!1;break e;case 3:Vr=J.stateNode.containerInfo,Sa=!0;break e;case 4:Vr=J.stateNode.containerInfo,Sa=!0;break e}J=J.return}if(Vr===null)throw Error(r(160));VC(P,U,E),Vr=null,Sa=!1;var ne=E.alternate;ne!==null&&(ne.return=null),E.return=null}catch(xe){ar(E,c,xe)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)GC(c,o),c=c.sibling}function GC(o,c){var p=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(_a(c,o),Ha(o),y&4){try{mu(3,o,o.return),ah(3,o)}catch(Ze){ar(o,o.return,Ze)}try{mu(5,o,o.return)}catch(Ze){ar(o,o.return,Ze)}}break;case 1:_a(c,o),Ha(o),y&512&&p!==null&&ml(p,p.return);break;case 5:if(_a(c,o),Ha(o),y&512&&p!==null&&ml(p,p.return),o.flags&32){var E=o.stateNode;try{Sn(E,"")}catch(Ze){ar(o,o.return,Ze)}}if(y&4&&(E=o.stateNode,E!=null)){var P=o.memoizedProps,U=p!==null?p.memoizedProps:P,J=o.type,ne=o.updateQueue;if(o.updateQueue=null,ne!==null)try{J==="input"&&P.type==="radio"&&P.name!=null&&Xe(E,P),ms(J,U);var xe=ms(J,P);for(U=0;U<ne.length;U+=2){var Re=ne[U],Ie=ne[U+1];Re==="style"?de(E,Ie):Re==="dangerouslySetInnerHTML"?Ks(E,Ie):Re==="children"?Sn(E,Ie):S(E,Re,Ie,xe)}switch(J){case"input":lt(E,P);break;case"textarea":Zr(E,P);break;case"select":var Pe=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!P.multiple;var qe=P.value;qe!=null?Le(E,!!P.multiple,qe,!1):Pe!==!!P.multiple&&(P.defaultValue!=null?Le(E,!!P.multiple,P.defaultValue,!0):Le(E,!!P.multiple,P.multiple?[]:"",!1))}E[nu]=P}catch(Ze){ar(o,o.return,Ze)}}break;case 6:if(_a(c,o),Ha(o),y&4){if(o.stateNode===null)throw Error(r(162));E=o.stateNode,P=o.memoizedProps;try{E.nodeValue=P}catch(Ze){ar(o,o.return,Ze)}}break;case 3:if(_a(c,o),Ha(o),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Hc(c.containerInfo)}catch(Ze){ar(o,o.return,Ze)}break;case 4:_a(c,o),Ha(o);break;case 13:_a(c,o),Ha(o),E=o.child,E.flags&8192&&(P=E.memoizedState!==null,E.stateNode.isHidden=P,!P||E.alternate!==null&&E.alternate.memoizedState!==null||(qv=ur())),y&4&&HC(o);break;case 22:if(Re=p!==null&&p.memoizedState!==null,o.mode&1?(nn=(xe=nn)||Re,_a(c,o),nn=xe):_a(c,o),Ha(o),y&8192){if(xe=o.memoizedState!==null,(o.stateNode.isHidden=xe)&&!Re&&(o.mode&1)!==0)for(Ve=o,Re=o.child;Re!==null;){for(Ie=Ve=Re;Ve!==null;){switch(Pe=Ve,qe=Pe.child,Pe.tag){case 0:case 11:case 14:case 15:mu(4,Pe,Pe.return);break;case 1:ml(Pe,Pe.return);var Ge=Pe.stateNode;if(typeof Ge.componentWillUnmount=="function"){y=Pe,p=Pe.return;try{c=y,Ge.props=c.memoizedProps,Ge.state=c.memoizedState,Ge.componentWillUnmount()}catch(Ze){ar(y,p,Ze)}}break;case 5:ml(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){XC(Ie);continue}}qe!==null?(qe.return=Pe,Ve=qe):XC(Ie)}Re=Re.sibling}e:for(Re=null,Ie=o;;){if(Ie.tag===5){if(Re===null){Re=Ie;try{E=Ie.stateNode,xe?(P=E.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(J=Ie.stateNode,ne=Ie.memoizedProps.style,U=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,J.style.display=Yo("display",U))}catch(Ze){ar(o,o.return,Ze)}}}else if(Ie.tag===6){if(Re===null)try{Ie.stateNode.nodeValue=xe?"":Ie.memoizedProps}catch(Ze){ar(o,o.return,Ze)}}else if((Ie.tag!==22&&Ie.tag!==23||Ie.memoizedState===null||Ie===o)&&Ie.child!==null){Ie.child.return=Ie,Ie=Ie.child;continue}if(Ie===o)break e;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===o)break e;Re===Ie&&(Re=null),Ie=Ie.return}Re===Ie&&(Re=null),Ie.sibling.return=Ie.return,Ie=Ie.sibling}}break;case 19:_a(c,o),Ha(o),y&4&&HC(o);break;case 21:break;default:_a(c,o),Ha(o)}}function Ha(o){var c=o.flags;if(c&2){try{e:{for(var p=o.return;p!==null;){if(qC(p)){var y=p;break e}p=p.return}throw Error(r(160))}switch(y.tag){case 5:var E=y.stateNode;y.flags&32&&(Sn(E,""),y.flags&=-33);var P=WC(o);Uv(o,P,E);break;case 3:case 4:var U=y.stateNode.containerInfo,J=WC(o);Fv(o,J,U);break;default:throw Error(r(161))}}catch(ne){ar(o,o.return,ne)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function AU(o,c,p){Ve=o,KC(o)}function KC(o,c,p){for(var y=(o.mode&1)!==0;Ve!==null;){var E=Ve,P=E.child;if(E.tag===22&&y){var U=E.memoizedState!==null||nh;if(!U){var J=E.alternate,ne=J!==null&&J.memoizedState!==null||nn;J=nh;var xe=nn;if(nh=U,(nn=ne)&&!xe)for(Ve=E;Ve!==null;)U=Ve,ne=U.child,U.tag===22&&U.memoizedState!==null?QC(E):ne!==null?(ne.return=U,Ve=ne):QC(E);for(;P!==null;)Ve=P,KC(P),P=P.sibling;Ve=E,nh=J,nn=xe}YC(o)}else(E.subtreeFlags&8772)!==0&&P!==null?(P.return=E,Ve=P):YC(o)}}function YC(o){for(;Ve!==null;){var c=Ve;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:nn||ah(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!nn)if(p===null)y.componentDidMount();else{var E=c.elementType===c.type?p.memoizedProps:Na(c.type,p.memoizedProps);y.componentDidUpdate(E,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var P=c.updateQueue;P!==null&&X_(c,P,y);break;case 3:var U=c.updateQueue;if(U!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}X_(c,U,p)}break;case 5:var J=c.stateNode;if(p===null&&c.flags&4){p=J;var ne=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&p.focus();break;case"img":ne.src&&(p.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var xe=c.alternate;if(xe!==null){var Re=xe.memoizedState;if(Re!==null){var Ie=Re.dehydrated;Ie!==null&&Hc(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}nn||c.flags&512&&Lv(c)}catch(Pe){ar(c,c.return,Pe)}}if(c===o){Ve=null;break}if(p=c.sibling,p!==null){p.return=c.return,Ve=p;break}Ve=c.return}}function XC(o){for(;Ve!==null;){var c=Ve;if(c===o){Ve=null;break}var p=c.sibling;if(p!==null){p.return=c.return,Ve=p;break}Ve=c.return}}function QC(o){for(;Ve!==null;){var c=Ve;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{ah(4,c)}catch(ne){ar(c,p,ne)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var E=c.return;try{y.componentDidMount()}catch(ne){ar(c,E,ne)}}var P=c.return;try{Lv(c)}catch(ne){ar(c,P,ne)}break;case 5:var U=c.return;try{Lv(c)}catch(ne){ar(c,U,ne)}}}catch(ne){ar(c,c.return,ne)}if(c===o){Ve=null;break}var J=c.sibling;if(J!==null){J.return=c.return,Ve=J;break}Ve=c.return}}var PU=Math.ceil,sh=A.ReactCurrentDispatcher,Bv=A.ReactCurrentOwner,la=A.ReactCurrentBatchConfig,_t=0,kr=null,pr=null,Hr=0,zn=0,pl=ii(0),wr=0,pu=null,io=0,ih=0,zv=0,gu=null,Tn=null,qv=0,gl=1/0,Ns=null,oh=!1,Wv=null,fi=null,lh=!1,hi=null,ch=0,vu=0,Vv=null,uh=-1,dh=0;function fn(){return(_t&6)!==0?ur():uh!==-1?uh:uh=ur()}function mi(o){return(o.mode&1)===0?1:(_t&2)!==0&&Hr!==0?Hr&-Hr:hU.transition!==null?(dh===0&&(dh=WS()),dh):(o=Dt,o!==0||(o=window.event,o=o===void 0?16:JS(o.type)),o)}function Ca(o,c,p,y){if(50<vu)throw vu=0,Vv=null,Error(r(185));Bc(o,p,y),((_t&2)===0||o!==kr)&&(o===kr&&((_t&2)===0&&(ih|=p),wr===4&&pi(o,Hr)),An(o,y),p===1&&_t===0&&(c.mode&1)===0&&(gl=ur()+500,Ff&&li()))}function An(o,c){var p=o.callbackNode;hF(o,c);var y=bf(o,o===kr?Hr:0);if(y===0)p!==null&&BS(p),o.callbackNode=null,o.callbackPriority=0;else if(c=y&-y,o.callbackPriority!==c){if(p!=null&&BS(p),c===1)o.tag===0?fU(JC.bind(null,o)):L_(JC.bind(null,o)),lU(function(){(_t&6)===0&&li()}),p=null;else{switch(VS(y)){case 1:p=Sg;break;case 4:p=zS;break;case 16:p=gf;break;case 536870912:p=qS;break;default:p=gf}p=oE(p,ZC.bind(null,o))}o.callbackPriority=c,o.callbackNode=p}}function ZC(o,c){if(uh=-1,dh=0,(_t&6)!==0)throw Error(r(327));var p=o.callbackNode;if(vl()&&o.callbackNode!==p)return null;var y=bf(o,o===kr?Hr:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||c)c=fh(o,y);else{c=y;var E=_t;_t|=2;var P=tE();(kr!==o||Hr!==c)&&(Ns=null,gl=ur()+500,lo(o,c));do try{IU();break}catch(J){eE(o,J)}while(!0);cv(),sh.current=P,_t=E,pr!==null?c=0:(kr=null,Hr=0,c=wr)}if(c!==0){if(c===2&&(E=_g(o),E!==0&&(y=E,c=Hv(o,E))),c===1)throw p=pu,lo(o,0),pi(o,y),An(o,ur()),p;if(c===6)pi(o,y);else{if(E=o.current.alternate,(y&30)===0&&!RU(E)&&(c=fh(o,y),c===2&&(P=_g(o),P!==0&&(y=P,c=Hv(o,P))),c===1))throw p=pu,lo(o,0),pi(o,y),An(o,ur()),p;switch(o.finishedWork=E,o.finishedLanes=y,c){case 0:case 1:throw Error(r(345));case 2:co(o,Tn,Ns);break;case 3:if(pi(o,y),(y&130023424)===y&&(c=qv+500-ur(),10<c)){if(bf(o,0)!==0)break;if(E=o.suspendedLanes,(E&y)!==y){fn(),o.pingedLanes|=o.suspendedLanes&E;break}o.timeoutHandle=Zg(co.bind(null,o,Tn,Ns),c);break}co(o,Tn,Ns);break;case 4:if(pi(o,y),(y&4194240)===y)break;for(c=o.eventTimes,E=-1;0<y;){var U=31-ba(y);P=1<<U,U=c[U],U>E&&(E=U),y&=~P}if(y=E,y=ur()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*PU(y/1960))-y,10<y){o.timeoutHandle=Zg(co.bind(null,o,Tn,Ns),y);break}co(o,Tn,Ns);break;case 5:co(o,Tn,Ns);break;default:throw Error(r(329))}}}return An(o,ur()),o.callbackNode===p?ZC.bind(null,o):null}function Hv(o,c){var p=gu;return o.current.memoizedState.isDehydrated&&(lo(o,c).flags|=256),o=fh(o,c),o!==2&&(c=Tn,Tn=p,c!==null&&Gv(c)),o}function Gv(o){Tn===null?Tn=o:Tn.push.apply(Tn,o)}function RU(o){for(var c=o;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var y=0;y<p.length;y++){var E=p[y],P=E.getSnapshot;E=E.value;try{if(!ja(P(),E))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function pi(o,c){for(c&=~zv,c&=~ih,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var p=31-ba(c),y=1<<p;o[p]=-1,c&=~y}}function JC(o){if((_t&6)!==0)throw Error(r(327));vl();var c=bf(o,0);if((c&1)===0)return An(o,ur()),null;var p=fh(o,c);if(o.tag!==0&&p===2){var y=_g(o);y!==0&&(c=y,p=Hv(o,y))}if(p===1)throw p=pu,lo(o,0),pi(o,c),An(o,ur()),p;if(p===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,co(o,Tn,Ns),An(o,ur()),null}function Kv(o,c){var p=_t;_t|=1;try{return o(c)}finally{_t=p,_t===0&&(gl=ur()+500,Ff&&li())}}function oo(o){hi!==null&&hi.tag===0&&(_t&6)===0&&vl();var c=_t;_t|=1;var p=la.transition,y=Dt;try{if(la.transition=null,Dt=1,o)return o()}finally{Dt=y,la.transition=p,_t=c,(_t&6)===0&&li()}}function Yv(){zn=pl.current,Xt(pl)}function lo(o,c){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,oU(p)),pr!==null)for(p=pr.return;p!==null;){var y=p;switch(av(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&$f();break;case 3:fl(),Xt(_n),Xt(en),vv();break;case 5:pv(y);break;case 4:fl();break;case 13:Xt(tr);break;case 19:Xt(tr);break;case 10:uv(y.type._context);break;case 22:case 23:Yv()}p=p.return}if(kr=o,pr=o=gi(o.current,null),Hr=zn=c,wr=0,pu=null,zv=ih=io=0,Tn=gu=null,no!==null){for(c=0;c<no.length;c++)if(p=no[c],y=p.interleaved,y!==null){p.interleaved=null;var E=y.next,P=p.pending;if(P!==null){var U=P.next;P.next=E,y.next=U}p.pending=y}no=null}return o}function eE(o,c){do{var p=pr;try{if(cv(),Yf.current=Jf,Xf){for(var y=rr.memoizedState;y!==null;){var E=y.queue;E!==null&&(E.pending=null),y=y.next}Xf=!1}if(so=0,Rr=jr=rr=null,cu=!1,uu=0,Bv.current=null,p===null||p.return===null){wr=1,pu=c,pr=null;break}e:{var P=o,U=p.return,J=p,ne=c;if(c=Hr,J.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var xe=ne,Re=J,Ie=Re.tag;if((Re.mode&1)===0&&(Ie===0||Ie===11||Ie===15)){var Pe=Re.alternate;Pe?(Re.updateQueue=Pe.updateQueue,Re.memoizedState=Pe.memoizedState,Re.lanes=Pe.lanes):(Re.updateQueue=null,Re.memoizedState=null)}var qe=_C(U);if(qe!==null){qe.flags&=-257,CC(qe,U,J,P,c),qe.mode&1&&SC(P,xe,c),c=qe,ne=xe;var Ge=c.updateQueue;if(Ge===null){var Ze=new Set;Ze.add(ne),c.updateQueue=Ze}else Ge.add(ne);break e}else{if((c&1)===0){SC(P,xe,c),Xv();break e}ne=Error(r(426))}}else if(Zt&&J.mode&1){var dr=_C(U);if(dr!==null){(dr.flags&65536)===0&&(dr.flags|=256),CC(dr,U,J,P,c),ov(hl(ne,J));break e}}P=ne=hl(ne,J),wr!==4&&(wr=2),gu===null?gu=[P]:gu.push(P),P=U;do{switch(P.tag){case 3:P.flags|=65536,c&=-c,P.lanes|=c;var ue=wC(P,ne,c);Y_(P,ue);break e;case 1:J=ne;var ie=P.type,he=P.stateNode;if((P.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(fi===null||!fi.has(he)))){P.flags|=65536,c&=-c,P.lanes|=c;var Me=NC(P,J,c);Y_(P,Me);break e}}P=P.return}while(P!==null)}nE(p)}catch(et){c=et,pr===p&&p!==null&&(pr=p=p.return);continue}break}while(!0)}function tE(){var o=sh.current;return sh.current=Jf,o===null?Jf:o}function Xv(){(wr===0||wr===3||wr===2)&&(wr=4),kr===null||(io&268435455)===0&&(ih&268435455)===0||pi(kr,Hr)}function fh(o,c){var p=_t;_t|=2;var y=tE();(kr!==o||Hr!==c)&&(Ns=null,lo(o,c));do try{kU();break}catch(E){eE(o,E)}while(!0);if(cv(),_t=p,sh.current=y,pr!==null)throw Error(r(261));return kr=null,Hr=0,wr}function kU(){for(;pr!==null;)rE(pr)}function IU(){for(;pr!==null&&!aF();)rE(pr)}function rE(o){var c=iE(o.alternate,o,zn);o.memoizedProps=o.pendingProps,c===null?nE(o):pr=c,Bv.current=null}function nE(o){var c=o;do{var p=c.alternate;if(o=c.return,(c.flags&32768)===0){if(p=_U(p,c,zn),p!==null){pr=p;return}}else{if(p=CU(p,c),p!==null){p.flags&=32767,pr=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{wr=6,pr=null;return}}if(c=c.sibling,c!==null){pr=c;return}pr=c=o}while(c!==null);wr===0&&(wr=5)}function co(o,c,p){var y=Dt,E=la.transition;try{la.transition=null,Dt=1,OU(o,c,p,y)}finally{la.transition=E,Dt=y}return null}function OU(o,c,p,y){do vl();while(hi!==null);if((_t&6)!==0)throw Error(r(327));p=o.finishedWork;var E=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var P=p.lanes|p.childLanes;if(mF(o,P),o===kr&&(pr=kr=null,Hr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||lh||(lh=!0,oE(gf,function(){return vl(),null})),P=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||P){P=la.transition,la.transition=null;var U=Dt;Dt=1;var J=_t;_t|=4,Bv.current=null,TU(o,p),GC(p,o),eU(Xg),Nf=!!Yg,Xg=Yg=null,o.current=p,AU(p),sF(),_t=J,Dt=U,la.transition=P}else o.current=p;if(lh&&(lh=!1,hi=o,ch=E),P=o.pendingLanes,P===0&&(fi=null),lF(p.stateNode),An(o,ur()),c!==null)for(y=o.onRecoverableError,p=0;p<c.length;p++)E=c[p],y(E.value,{componentStack:E.stack,digest:E.digest});if(oh)throw oh=!1,o=Wv,Wv=null,o;return(ch&1)!==0&&o.tag!==0&&vl(),P=o.pendingLanes,(P&1)!==0?o===Vv?vu++:(vu=0,Vv=o):vu=0,li(),null}function vl(){if(hi!==null){var o=VS(ch),c=la.transition,p=Dt;try{if(la.transition=null,Dt=16>o?16:o,hi===null)var y=!1;else{if(o=hi,hi=null,ch=0,(_t&6)!==0)throw Error(r(331));var E=_t;for(_t|=4,Ve=o.current;Ve!==null;){var P=Ve,U=P.child;if((Ve.flags&16)!==0){var J=P.deletions;if(J!==null){for(var ne=0;ne<J.length;ne++){var xe=J[ne];for(Ve=xe;Ve!==null;){var Re=Ve;switch(Re.tag){case 0:case 11:case 15:mu(8,Re,P)}var Ie=Re.child;if(Ie!==null)Ie.return=Re,Ve=Ie;else for(;Ve!==null;){Re=Ve;var Pe=Re.sibling,qe=Re.return;if(zC(Re),Re===xe){Ve=null;break}if(Pe!==null){Pe.return=qe,Ve=Pe;break}Ve=qe}}}var Ge=P.alternate;if(Ge!==null){var Ze=Ge.child;if(Ze!==null){Ge.child=null;do{var dr=Ze.sibling;Ze.sibling=null,Ze=dr}while(Ze!==null)}}Ve=P}}if((P.subtreeFlags&2064)!==0&&U!==null)U.return=P,Ve=U;else e:for(;Ve!==null;){if(P=Ve,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:mu(9,P,P.return)}var ue=P.sibling;if(ue!==null){ue.return=P.return,Ve=ue;break e}Ve=P.return}}var ie=o.current;for(Ve=ie;Ve!==null;){U=Ve;var he=U.child;if((U.subtreeFlags&2064)!==0&&he!==null)he.return=U,Ve=he;else e:for(U=ie;Ve!==null;){if(J=Ve,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:ah(9,J)}}catch(et){ar(J,J.return,et)}if(J===U){Ve=null;break e}var Me=J.sibling;if(Me!==null){Me.return=J.return,Ve=Me;break e}Ve=J.return}}if(_t=E,li(),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(vf,o)}catch{}y=!0}return y}finally{Dt=p,la.transition=c}}return!1}function aE(o,c,p){c=hl(p,c),c=wC(o,c,1),o=ui(o,c,1),c=fn(),o!==null&&(Bc(o,1,c),An(o,c))}function ar(o,c,p){if(o.tag===3)aE(o,o,p);else for(;c!==null;){if(c.tag===3){aE(c,o,p);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(fi===null||!fi.has(y))){o=hl(p,o),o=NC(c,o,1),c=ui(c,o,1),o=fn(),c!==null&&(Bc(c,1,o),An(c,o));break}}c=c.return}}function DU(o,c,p){var y=o.pingCache;y!==null&&y.delete(c),c=fn(),o.pingedLanes|=o.suspendedLanes&p,kr===o&&(Hr&p)===p&&(wr===4||wr===3&&(Hr&130023424)===Hr&&500>ur()-qv?lo(o,0):zv|=p),An(o,c)}function sE(o,c){c===0&&((o.mode&1)===0?c=1:(c=yf,yf<<=1,(yf&130023424)===0&&(yf=4194304)));var p=fn();o=bs(o,c),o!==null&&(Bc(o,c,p),An(o,p))}function MU(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),sE(o,p)}function $U(o,c){var p=0;switch(o.tag){case 13:var y=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(c),sE(o,p)}var iE;iE=function(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps||_n.current)En=!0;else{if((o.lanes&p)===0&&(c.flags&128)===0)return En=!1,SU(o,c,p);En=(o.flags&131072)!==0}else En=!1,Zt&&(c.flags&1048576)!==0&&F_(c,Bf,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;rh(o,c),o=c.pendingProps;var E=sl(c,en.current);dl(c,p),E=bv(null,c,y,o,E,p);var P=jv();return c.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Cn(y)?(P=!0,Lf(c)):P=!1,c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,hv(c),E.updater=eh,c.stateNode=E,E._reactInternals=c,Ev(c,y,o,p),c=Rv(null,c,y,!0,P,p)):(c.tag=0,Zt&&P&&nv(c),dn(null,c,E,p),c=c.child),c;case 16:y=c.elementType;e:{switch(rh(o,c),o=c.pendingProps,E=y._init,y=E(y._payload),c.type=y,E=c.tag=FU(y),o=Na(y,o),E){case 0:c=Pv(null,c,y,o,p);break e;case 1:c=kC(null,c,y,o,p);break e;case 11:c=EC(null,c,y,o,p);break e;case 14:c=TC(null,c,y,Na(y.type,o),p);break e}throw Error(r(306,y,""))}return c;case 0:return y=c.type,E=c.pendingProps,E=c.elementType===y?E:Na(y,E),Pv(o,c,y,E,p);case 1:return y=c.type,E=c.pendingProps,E=c.elementType===y?E:Na(y,E),kC(o,c,y,E,p);case 3:e:{if(IC(c),o===null)throw Error(r(387));y=c.pendingProps,P=c.memoizedState,E=P.element,K_(o,c),Gf(c,y,null,p);var U=c.memoizedState;if(y=U.element,P.isDehydrated)if(P={element:y,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){E=hl(Error(r(423)),c),c=OC(o,c,y,p,E);break e}else if(y!==E){E=hl(Error(r(424)),c),c=OC(o,c,y,p,E);break e}else for(Bn=si(c.stateNode.containerInfo.firstChild),Un=c,Zt=!0,wa=null,p=H_(c,null,y,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(ll(),y===E){c=ws(o,c,p);break e}dn(o,c,y,p)}c=c.child}return c;case 5:return Q_(c),o===null&&iv(c),y=c.type,E=c.pendingProps,P=o!==null?o.memoizedProps:null,U=E.children,Qg(y,E)?U=null:P!==null&&Qg(y,P)&&(c.flags|=32),RC(o,c),dn(o,c,U,p),c.child;case 6:return o===null&&iv(c),null;case 13:return DC(o,c,p);case 4:return mv(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=cl(c,null,y,p):dn(o,c,y,p),c.child;case 11:return y=c.type,E=c.pendingProps,E=c.elementType===y?E:Na(y,E),EC(o,c,y,E,p);case 7:return dn(o,c,c.pendingProps,p),c.child;case 8:return dn(o,c,c.pendingProps.children,p),c.child;case 12:return dn(o,c,c.pendingProps.children,p),c.child;case 10:e:{if(y=c.type._context,E=c.pendingProps,P=c.memoizedProps,U=E.value,Ht(Wf,y._currentValue),y._currentValue=U,P!==null)if(ja(P.value,U)){if(P.children===E.children&&!_n.current){c=ws(o,c,p);break e}}else for(P=c.child,P!==null&&(P.return=c);P!==null;){var J=P.dependencies;if(J!==null){U=P.child;for(var ne=J.firstContext;ne!==null;){if(ne.context===y){if(P.tag===1){ne=js(-1,p&-p),ne.tag=2;var xe=P.updateQueue;if(xe!==null){xe=xe.shared;var Re=xe.pending;Re===null?ne.next=ne:(ne.next=Re.next,Re.next=ne),xe.pending=ne}}P.lanes|=p,ne=P.alternate,ne!==null&&(ne.lanes|=p),dv(P.return,p,c),J.lanes|=p;break}ne=ne.next}}else if(P.tag===10)U=P.type===c.type?null:P.child;else if(P.tag===18){if(U=P.return,U===null)throw Error(r(341));U.lanes|=p,J=U.alternate,J!==null&&(J.lanes|=p),dv(U,p,c),U=P.sibling}else U=P.child;if(U!==null)U.return=P;else for(U=P;U!==null;){if(U===c){U=null;break}if(P=U.sibling,P!==null){P.return=U.return,U=P;break}U=U.return}P=U}dn(o,c,E.children,p),c=c.child}return c;case 9:return E=c.type,y=c.pendingProps.children,dl(c,p),E=ia(E),y=y(E),c.flags|=1,dn(o,c,y,p),c.child;case 14:return y=c.type,E=Na(y,c.pendingProps),E=Na(y.type,E),TC(o,c,y,E,p);case 15:return AC(o,c,c.type,c.pendingProps,p);case 17:return y=c.type,E=c.pendingProps,E=c.elementType===y?E:Na(y,E),rh(o,c),c.tag=1,Cn(y)?(o=!0,Lf(c)):o=!1,dl(c,p),bC(c,y,E),Ev(c,y,E,p),Rv(null,c,y,!0,o,p);case 19:return $C(o,c,p);case 22:return PC(o,c,p)}throw Error(r(156,c.tag))};function oE(o,c){return US(o,c)}function LU(o,c,p,y){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(o,c,p,y){return new LU(o,c,p,y)}function Qv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function FU(o){if(typeof o=="function")return Qv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===G)return 11;if(o===$)return 14}return 2}function gi(o,c){var p=o.alternate;return p===null?(p=ca(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function hh(o,c,p,y,E,P){var U=2;if(y=o,typeof o=="function")Qv(o)&&(U=1);else if(typeof o=="string")U=5;else e:switch(o){case R:return uo(p.children,E,P,c);case D:U=8,E|=8;break;case k:return o=ca(12,p,c,E|2),o.elementType=k,o.lanes=P,o;case W:return o=ca(13,p,c,E),o.elementType=W,o.lanes=P,o;case Z:return o=ca(19,p,c,E),o.elementType=Z,o.lanes=P,o;case I:return mh(p,E,P,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case B:U=10;break e;case z:U=9;break e;case G:U=11;break e;case $:U=14;break e;case M:U=16,y=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return c=ca(U,p,c,E),c.elementType=o,c.type=y,c.lanes=P,c}function uo(o,c,p,y){return o=ca(7,o,y,c),o.lanes=p,o}function mh(o,c,p,y){return o=ca(22,o,y,c),o.elementType=I,o.lanes=p,o.stateNode={isHidden:!1},o}function Zv(o,c,p){return o=ca(6,o,null,c),o.lanes=p,o}function Jv(o,c,p){return c=ca(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function UU(o,c,p,y,E){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cg(0),this.expirationTimes=Cg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cg(0),this.identifierPrefix=y,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function ex(o,c,p,y,E,P,U,J,ne){return o=new UU(o,c,p,J,ne),c===1?(c=1,P===!0&&(c|=8)):c=0,P=ca(3,null,null,c),o.current=P,P.stateNode=o,P.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},hv(P),o}function BU(o,c,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:y==null?null:""+y,children:o,containerInfo:c,implementation:p}}function lE(o){if(!o)return oi;o=o._reactInternals;e:{if(Zi(o)!==o||o.tag!==1)throw Error(r(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Cn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(o.tag===1){var p=o.type;if(Cn(p))return M_(o,p,c)}return c}function cE(o,c,p,y,E,P,U,J,ne){return o=ex(p,y,!0,o,E,P,U,J,ne),o.context=lE(null),p=o.current,y=fn(),E=mi(p),P=js(y,E),P.callback=c??null,ui(p,P,E),o.current.lanes=E,Bc(o,E,y),An(o,y),o}function ph(o,c,p,y){var E=c.current,P=fn(),U=mi(E);return p=lE(p),c.context===null?c.context=p:c.pendingContext=p,c=js(P,U),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ui(E,c,U),o!==null&&(Ca(o,E,U,P),Hf(o,E,U)),U}function gh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function uE(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function tx(o,c){uE(o,c),(o=o.alternate)&&uE(o,c)}function zU(){return null}var dE=typeof reportError=="function"?reportError:function(o){console.error(o)};function rx(o){this._internalRoot=o}vh.prototype.render=rx.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));ph(o,c,null,null)},vh.prototype.unmount=rx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;oo(function(){ph(null,o,null,null)}),c[gs]=null}};function vh(o){this._internalRoot=o}vh.prototype.unstable_scheduleHydration=function(o){if(o){var c=KS();o={blockedOn:null,target:o,priority:c};for(var p=0;p<ri.length&&c!==0&&c<ri[p].priority;p++);ri.splice(p,0,o),p===0&&QS(o)}};function nx(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function xh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function fE(){}function qU(o,c,p,y,E){if(E){if(typeof y=="function"){var P=y;y=function(){var xe=gh(U);P.call(xe)}}var U=cE(c,y,o,0,null,!1,!1,"",fE);return o._reactRootContainer=U,o[gs]=U.current,tu(o.nodeType===8?o.parentNode:o),oo(),U}for(;E=o.lastChild;)o.removeChild(E);if(typeof y=="function"){var J=y;y=function(){var xe=gh(ne);J.call(xe)}}var ne=ex(o,0,!1,null,null,!1,!1,"",fE);return o._reactRootContainer=ne,o[gs]=ne.current,tu(o.nodeType===8?o.parentNode:o),oo(function(){ph(c,ne,p,y)}),ne}function yh(o,c,p,y,E){var P=p._reactRootContainer;if(P){var U=P;if(typeof E=="function"){var J=E;E=function(){var ne=gh(U);J.call(ne)}}ph(c,U,o,E)}else U=qU(p,c,o,E,y);return gh(U)}HS=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var p=Uc(c.pendingLanes);p!==0&&(Eg(c,p|1),An(c,ur()),(_t&6)===0&&(gl=ur()+500,li()))}break;case 13:oo(function(){var y=bs(o,1);if(y!==null){var E=fn();Ca(y,o,1,E)}}),tx(o,1)}},Tg=function(o){if(o.tag===13){var c=bs(o,134217728);if(c!==null){var p=fn();Ca(c,o,134217728,p)}tx(o,134217728)}},GS=function(o){if(o.tag===13){var c=mi(o),p=bs(o,c);if(p!==null){var y=fn();Ca(p,o,c,y)}tx(o,c)}},KS=function(){return Dt},YS=function(o,c){var p=Dt;try{return Dt=o,c()}finally{Dt=p}},$c=function(o,c,p){switch(c){case"input":if(lt(o,p),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var y=p[c];if(y!==o&&y.form===o.form){var E=Mf(y);if(!E)throw Error(r(90));re(y),lt(y,E)}}}break;case"textarea":Zr(o,p);break;case"select":c=p.value,c!=null&&Le(o,!!p.multiple,c,!1)}},br=Kv,Jr=oo;var WU={usingClientEntryPoint:!1,Events:[au,nl,Mf,vt,cr,Kv]},xu={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VU={bundleType:xu.bundleType,version:xu.version,rendererPackageName:xu.rendererPackageName,rendererConfig:xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=LS(o),o===null?null:o.stateNode},findFiberByHostInstance:xu.findFiberByHostInstance||zU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{vf=bh.inject(VU),za=bh}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WU,Pn.createPortal=function(o,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nx(c))throw Error(r(200));return BU(o,c,null,p)},Pn.createRoot=function(o,c){if(!nx(o))throw Error(r(299));var p=!1,y="",E=dE;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),c=ex(o,1,!1,null,null,p,!1,y,E),o[gs]=c.current,tu(o.nodeType===8?o.parentNode:o),new rx(c)},Pn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=LS(c),o=o===null?null:o.stateNode,o},Pn.flushSync=function(o){return oo(o)},Pn.hydrate=function(o,c,p){if(!xh(c))throw Error(r(200));return yh(null,o,c,!0,p)},Pn.hydrateRoot=function(o,c,p){if(!nx(o))throw Error(r(405));var y=p!=null&&p.hydratedSources||null,E=!1,P="",U=dE;if(p!=null&&(p.unstable_strictMode===!0&&(E=!0),p.identifierPrefix!==void 0&&(P=p.identifierPrefix),p.onRecoverableError!==void 0&&(U=p.onRecoverableError)),c=cE(c,null,o,1,p??null,E,!1,P,U),o[gs]=c.current,tu(o),y)for(o=0;o<y.length;o++)p=y[o],E=p._getVersion,E=E(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,E]:c.mutableSourceEagerHydrationData.push(p,E);return new vh(c)},Pn.render=function(o,c,p){if(!xh(c))throw Error(r(200));return yh(null,o,c,!1,p)},Pn.unmountComponentAtNode=function(o){if(!xh(o))throw Error(r(40));return o._reactRootContainer?(oo(function(){yh(null,null,o,!1,function(){o._reactRootContainer=null,o[gs]=null})}),!0):!1},Pn.unstable_batchedUpdates=Kv,Pn.unstable_renderSubtreeIntoContainer=function(o,c,p,y){if(!xh(p))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return yh(o,c,p,!1,y)},Pn.version="18.3.1-next-f1338f8080-20240426",Pn}var bE;function pO(){if(bE)return ix.exports;bE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ix.exports=JU(),ix.exports}var jE;function e8(){if(jE)return wh;jE=1;var e=pO();return wh.createRoot=e.createRoot,wh.hydrateRoot=e.hydrateRoot,wh}var t8=e8(),x=k1();const Q=qt(x),gO=GU({__proto__:null,default:Q},[x]),r8=()=>"http://localhost:8000",n8={apiBaseUrl:"https://gcback.openlayers.kz",environment:"production",debug:!1},a8=()=>({...n8,apiBaseUrl:r8()}),s8=a8(),Je={baseUrl:s8.apiBaseUrl,endpoints:{getPaymentRequests:"/api/v1/requests/list",createPaymentRequest:"/api/v1/requests/create",updatePaymentRequest:"/api/v1/requests/:id",deletePaymentRequest:"/api/v1/requests/delete",getPaymentRequest:"/api/v1/requests/:id",getRequestStatistics:"/api/v1/requests/statistics",getDashboardMetrics:"/api/v1/requests/dashboard-metrics",submitRequest:"/api/v1/requests/:id/submit",classifyRequest:"/api/v1/requests/:id/classify",approveRequest:"/api/v1/requests/:id/approve",rejectRequest:"/api/v1/requests/:id/reject",addToRegistry:"/api/v1/requests/:id/add-to-registry",sendToDistributor:"/api/v1/requests/:id/send-to-distributor",distributorAction:"/api/v1/requests/:id/distributor-action",getRequestEvents:"/api/v1/requests/:id/events",getCounterparties:"/api/v1/dictionaries/counterparties",getCurrencies:"/api/v1/dictionaries/currencies",getVatRates:"/api/v1/dictionaries/vat-rates",getExpenseArticles:"/api/v1/dictionaries/expense-articles",getPayingCompanies:"/api/v1/dictionaries/paying-companies",getDocumentTypes:"/api/v1/dictionaries/document-types",getCounterpartyCategories:"/api/v1/dictionaries/counterparty-categories",getUsers:"/api/v1/users/list",getCurrentUser:"/api/v1/auth/me",getUser:"/api/v1/users/:id",createUser:"/api/v1/users",updateUser:"/api/v1/users/:id",deleteUser:"/api/v1/users/:id",getRoles:"/api/v1/roles",getRole:"/api/v1/roles/:id",createRole:"/api/v1/roles",updateRole:"/api/v1/roles/:id",deleteRole:"/api/v1/roles/:id",uploadFile:"/api/v1/files/upload",downloadFile:"/api/v1/files/download",deleteFile:"/api/v1/files/delete",getUnallocatedRequests:"/api/v1/distribution/unallocated-requests",getDistributionLines:"/api/v1/distribution/lines",createDistributionLine:"/api/v1/distribution/lines/create",updateDistributionLine:"/api/v1/distribution/lines/update",deleteDistributionLine:"/api/v1/distribution/lines/delete",getLineContracts:"/api/v1/distribution/line-contracts",createLineContract:"/api/v1/distribution/line-contracts/create",updateLineContract:"/api/v1/distribution/line-contracts/update",deleteLineContract:"/api/v1/distribution/line-contracts/delete",getRegistryEntries:"/api/v1/registry/entries",createRegistryEntry:"/api/v1/registry/entries/create",updateRegistryEntry:"/api/v1/registry/entries/update",deleteRegistryEntry:"/api/v1/registry/entries/delete"}};class i8{baseUrl;constructor(t){this.baseUrl=t}getAuthHeaders(){const t=localStorage.getItem("test_token");return t?{Authorization:`Bearer ${t}`}:{}}async get(t,r={}){const a=await fetch(`${this.baseUrl}${t}`,{...r,method:"GET",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...r.headers}});if(!a.ok)throw a.status===401?(localStorage.removeItem("test_token"),window.location.href="/login",new Error("Unauthorized - please login again")):new Error(`HTTP error! status: ${a.status}`);return a.json()}async post(t,r,a={}){const s=await fetch(`${this.baseUrl}${t}`,{...a,method:"POST",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...a.headers},body:JSON.stringify(r)});if(!s.ok)throw s.status===401?(localStorage.removeItem("test_token"),window.location.href="/login",new Error("Unauthorized - please login again")):new Error(`HTTP error! status: ${s.status}`);return s.json()}async put(t,r,a={}){const s=await fetch(`${this.baseUrl}${t}`,{...a,method:"PUT",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...a.headers},body:JSON.stringify(r)});if(!s.ok)throw s.status===401?(localStorage.removeItem("test_token"),window.location.href="/login",new Error("Unauthorized - please login again")):new Error(`HTTP error! status: ${s.status}`);return s.json()}async delete(t,r,a={}){const s=await fetch(`${this.baseUrl}${t}`,{...a,method:"DELETE",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...a.headers},body:r?JSON.stringify(r):void 0});if(!s.ok)throw s.status===401?(localStorage.removeItem("test_token"),window.location.href="/login",new Error("Unauthorized - please login again")):new Error(`HTTP error! status: ${s.status}`);if(s.status!==204)return s.json()}}const Oe=new i8(Je.baseUrl);class Vu{static async getCurrentUser(){try{return await Oe.get(Je.endpoints.getCurrentUser)}catch(t){throw console.error("Failed to load current user:",t),new Error("Unable to load current user. Please log in again.")}}static async getUsers(){return Oe.get("/api/v1/users")}static async getUser(t){const r=Je.endpoints.getUser.replace(":id",t);return Oe.get(r)}static async createUser(t){return Oe.post(Je.endpoints.createUser,t)}static async updateUser(t,r){const a=Je.endpoints.updateUser.replace(":id",t);return Oe.put(a,r)}static async deleteUser(t){const r=Je.endpoints.deleteUser.replace(":id",t);return Oe.delete(r)}static async getUsersByRole(t){try{return Oe.get(`/api/v1/admin/users/by-role/${t}`)}catch(r){return console.error("Error getting users by role:",r),[]}}static async searchUsers(t){const r=new URLSearchParams;t.query&&r.append("query",t.query),t.role&&r.append("role",t.role),t.is_active!==void 0&&r.append("is_active",t.is_active.toString()),t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString());const a=r.toString(),s=a?`/api/v1/admin/users/search?${a}`:"/api/v1/admin/users/search";return Oe.get(s)}static async getUsersByRoleCode(t){return Oe.get(`/api/v1/admin/users/by-role/${t}`)}static async getUserWithRoles(t){return Oe.get(`/api/v1/users/${t}`)}static async updateUserRoles(t,r){return Oe.put(`/api/v1/users/${t}/roles`,{roles:r})}static async bulkCreateUsers(t){return Oe.post("/api/v1/admin/users/bulk-create",{users:t})}static async bulkUpdateUsers(t){return Oe.put("/api/v1/admin/users/bulk-update",{users:t})}static async bulkDeleteUsers(t){return Oe.delete("/api/v1/admin/users/bulk-delete",{user_ids:t})}}const vO=x.createContext(void 0),yc=()=>{const e=x.useContext(vO);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},o8=({children:e})=>{const[t,r]=x.useState(null),[a,s]=x.useState(null),[i,l]=x.useState(!0),[u,d]=x.useState(null);x.useEffect(()=>{(async()=>{const N=localStorage.getItem("test_token");if(N){s(N);try{const C=await Vu.getCurrentUser();r(C)}catch(C){console.error("Failed to load current user:",C),localStorage.removeItem("test_token"),s(null)}}l(!1)})()},[]);const f=async(v,N)=>{l(!0),d(null);try{const C=new FormData;C.append("username",v),C.append("password",N);const S=await fetch("http://localhost:8000/api/v1/auth/login",{method:"POST",body:C});if(!S.ok){const T=await S.json();throw new Error(T.detail||"Login failed")}const A=await S.json();s(A.access_token),localStorage.setItem("test_token",A.access_token);const _=await Vu.getCurrentUser();r(_)}catch(C){const S=C instanceof Error?C.message:"Login failed";throw d(S),C}finally{l(!1)}},m=()=>{s(null),r(null),localStorage.removeItem("test_token"),d(null)},h=async()=>{if(a)try{const v=await Vu.getCurrentUser();r(v)}catch(v){console.error("Failed to refresh user data:",v),m()}},g=v=>!t||!t.roles?!1:t.roles.some(N=>N.code===v),b={user:t,token:a,login:f,logout:m,isAuthenticated:!!t&&!!a,isLoading:i,error:u,refreshUser:h,hasRole:g,hasAnyRole:v=>!t||!t.roles?!1:t.roles.some(N=>v.includes(N.code)),isAdmin:()=>g("ADMIN")};return n.jsx(vO.Provider,{value:b,children:e})};function wE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $s(...e){return t=>{let r=!1;const a=e.map(s=>{const i=wE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():wE(e[s],null)}}}}function Nt(...e){return x.useCallback($s(...e),e)}function Ii(e){const t=l8(e),r=x.forwardRef((a,s)=>{const{children:i,...l}=a,u=x.Children.toArray(i),d=u.find(c8);if(d){const f=d.props.children,m=u.map(h=>h===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:h);return n.jsx(t,{...l,ref:s,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return n.jsx(t,{...l,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var xO=Ii("Slot");function l8(e){const t=x.forwardRef((r,a)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const l=d8(s),u=u8(i,s.props);return s.type!==x.Fragment&&(u.ref=a?$s(a,l):l),x.cloneElement(s,u)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yO=Symbol("radix.slottable");function bO(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=yO,t}function c8(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yO}function u8(e,t){const r={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function d8(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function jO(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=jO(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Ct(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=jO(e))&&(a&&(a+=" "),a+=t);return a}const NE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,SE=Ct,I1=(e,t)=>r=>{var a;if(t?.variants==null)return SE(e,r?.class,r?.className);const{variants:s,defaultVariants:i}=t,l=Object.keys(s).map(f=>{const m=r?.[f],h=i?.[f];if(m===null)return null;const g=NE(m)||NE(h);return s[f][g]}),u=r&&Object.entries(r).reduce((f,m)=>{let[h,g]=m;return g===void 0||(f[h]=g),f},{}),d=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((f,m)=>{let{class:h,className:g,...j}=m;return Object.entries(j).every(w=>{let[b,v]=w;return Array.isArray(v)?v.includes({...i,...u}[b]):{...i,...u}[b]===v})?[...f,h,g]:f},[]);return SE(e,l,d,r?.class,r?.className)},O1="-",f8=e=>{const t=m8(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:l=>{const u=l.split(O1);return u[0]===""&&u.length!==1&&u.shift(),wO(u,t)||h8(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&a[l]?[...d,...a[l]]:d}}},wO=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),s=a?wO(e.slice(1),a):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(O1);return t.validators.find(({validator:l})=>l(i))?.classGroupId},_E=/^\[(.+)\]$/,h8=e=>{if(_E.test(e)){const t=_E.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},m8=e=>{const{theme:t,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const s in r)Fj(r[s],a,s,t);return a},Fj=(e,t,r,a)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:CE(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(p8(s)){Fj(s(a),t,r,a);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,l])=>{Fj(l,CE(t,i),r,a)})})},CE=(e,t)=>{let r=e;return t.split(O1).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},p8=e=>e.isThemeGetter,g8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const s=(i,l)=>{r.set(i,l),t++,t>e&&(t=0,a=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=a.get(i))!==void 0)return s(i,l),l},set(i,l){r.has(i)?r.set(i,l):s(i,l)}}},Uj="!",Bj=":",v8=Bj.length,x8=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const i=[];let l=0,u=0,d=0,f;for(let w=0;w<s.length;w++){let b=s[w];if(l===0&&u===0){if(b===Bj){i.push(s.slice(d,w)),d=w+v8;continue}if(b==="/"){f=w;continue}}b==="["?l++:b==="]"?l--:b==="("?u++:b===")"&&u--}const m=i.length===0?s:s.substring(d),h=y8(m),g=h!==m,j=f&&f>d?f-d:void 0;return{modifiers:i,hasImportantModifier:g,baseClassName:h,maybePostfixModifierPosition:j}};if(t){const s=t+Bj,i=a;a=l=>l.startsWith(s)?i(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const s=a;a=i=>r({className:i,parseClassName:s})}return a},y8=e=>e.endsWith(Uj)?e.substring(0,e.length-1):e.startsWith(Uj)?e.substring(1):e,b8=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const s=[];let i=[];return a.forEach(l=>{l[0]==="["||t[l]?(s.push(...i.sort(),l),i=[]):i.push(l)}),s.push(...i.sort()),s}},j8=e=>({cache:g8(e.cacheSize),parseClassName:x8(e),sortModifiers:b8(e),...f8(e)}),w8=/\s+/,N8=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:i}=t,l=[],u=e.trim().split(w8);let d="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{isExternal:h,modifiers:g,hasImportantModifier:j,baseClassName:w,maybePostfixModifierPosition:b}=r(m);if(h){d=m+(d.length>0?" "+d:d);continue}let v=!!b,N=a(v?w.substring(0,b):w);if(!N){if(!v){d=m+(d.length>0?" "+d:d);continue}if(N=a(w),!N){d=m+(d.length>0?" "+d:d);continue}v=!1}const C=i(g).join(":"),S=j?C+Uj:C,A=S+N;if(l.includes(A))continue;l.push(A);const _=s(N,v);for(let T=0;T<_.length;++T){const R=_[T];l.push(S+R)}d=m+(d.length>0?" "+d:d)}return d};function S8(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=NO(t))&&(a&&(a+=" "),a+=r);return a}const NO=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=NO(e[a]))&&(r&&(r+=" "),r+=t);return r};function _8(e,...t){let r,a,s,i=l;function l(d){const f=t.reduce((m,h)=>h(m),e());return r=j8(f),a=r.cache.get,s=r.cache.set,i=u,u(d)}function u(d){const f=a(d);if(f)return f;const m=N8(d,r);return s(d,m),m}return function(){return i(S8.apply(null,arguments))}}const Nr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},SO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_O=/^\((?:(\w[\w-]*):)?(.+)\)$/i,C8=/^\d+\/\d+$/,E8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,T8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,P8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xl=e=>C8.test(e),xt=e=>!!e&&!Number.isNaN(Number(e)),xi=e=>!!e&&Number.isInteger(Number(e)),cx=e=>e.endsWith("%")&&xt(e.slice(0,-1)),Ss=e=>E8.test(e),k8=()=>!0,I8=e=>T8.test(e)&&!A8.test(e),CO=()=>!1,O8=e=>P8.test(e),D8=e=>R8.test(e),M8=e=>!Ke(e)&&!Ye(e),$8=e=>bc(e,AO,CO),Ke=e=>SO.test(e),fo=e=>bc(e,PO,I8),ux=e=>bc(e,z8,xt),EE=e=>bc(e,EO,CO),L8=e=>bc(e,TO,D8),Nh=e=>bc(e,RO,O8),Ye=e=>_O.test(e),bu=e=>jc(e,PO),F8=e=>jc(e,q8),TE=e=>jc(e,EO),U8=e=>jc(e,AO),B8=e=>jc(e,TO),Sh=e=>jc(e,RO,!0),bc=(e,t,r)=>{const a=SO.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},jc=(e,t,r=!1)=>{const a=_O.exec(e);return a?a[1]?t(a[1]):r:!1},EO=e=>e==="position"||e==="percentage",TO=e=>e==="image"||e==="url",AO=e=>e==="length"||e==="size"||e==="bg-size",PO=e=>e==="length",z8=e=>e==="number",q8=e=>e==="family-name",RO=e=>e==="shadow",W8=()=>{const e=Nr("color"),t=Nr("font"),r=Nr("text"),a=Nr("font-weight"),s=Nr("tracking"),i=Nr("leading"),l=Nr("breakpoint"),u=Nr("container"),d=Nr("spacing"),f=Nr("radius"),m=Nr("shadow"),h=Nr("inset-shadow"),g=Nr("text-shadow"),j=Nr("drop-shadow"),w=Nr("blur"),b=Nr("perspective"),v=Nr("aspect"),N=Nr("ease"),C=Nr("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...A(),Ye,Ke],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],D=()=>[Ye,Ke,d],k=()=>[xl,"full","auto",...D()],B=()=>[xi,"none","subgrid",Ye,Ke],z=()=>["auto",{span:["full",xi,Ye,Ke]},xi,Ye,Ke],G=()=>[xi,"auto",Ye,Ke],W=()=>["auto","min","max","fr",Ye,Ke],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...D()],I=()=>[xl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],O=()=>[e,Ye,Ke],H=()=>[...A(),TE,EE,{position:[Ye,Ke]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",U8,$8,{size:[Ye,Ke]}],F=()=>[cx,bu,fo],L=()=>["","none","full",f,Ye,Ke],Y=()=>["",xt,bu,fo],ee=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[xt,cx,TE,EE],fe=()=>["","none",w,Ye,Ke],oe=()=>["none",xt,Ye,Ke],Ee=()=>["none",xt,Ye,Ke],De=()=>[xt,Ye,Ke],re=()=>[xl,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ss],breakpoint:[Ss],color:[k8],container:[Ss],"drop-shadow":[Ss],ease:["in","out","in-out"],font:[M8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ss],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ss],shadow:[Ss],spacing:["px",xt],text:[Ss],"text-shadow":[Ss],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xl,Ke,Ye,v]}],container:["container"],columns:[{columns:[xt,Ke,Ye,u]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[xi,"auto",Ye,Ke]}],basis:[{basis:[xl,"full","auto",u,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xt,xl,"auto","initial","none",Ke]}],grow:[{grow:["",xt,Ye,Ke]}],shrink:[{shrink:["",xt,Ye,Ke]}],order:[{order:[xi,"first","last","none",Ye,Ke]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[u,"screen",...I()]}],"min-w":[{"min-w":[u,"screen","none",...I()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",r,bu,fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Ye,ux]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cx,Ke]}],"font-family":[{font:[F8,Ke,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ye,Ke]}],"line-clamp":[{"line-clamp":[xt,"none",Ye,ux]}],leading:[{leading:[i,...D()]}],"list-image":[{"list-image":["none",Ye,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ye,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[xt,"from-font","auto",Ye,fo]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[xt,"auto",Ye,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xi,Ye,Ke],radial:["",Ye,Ke],conic:[xi,Ye,Ke]},B8,L8]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xt,Ye,Ke]}],"outline-w":[{outline:["",xt,bu,fo]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",m,Sh,Nh]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",h,Sh,Nh]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[xt,fo]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",g,Sh,Nh]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[xt,Ye,Ke]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xt]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[Ye,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[xt]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ye,Ke]}],filter:[{filter:["","none",Ye,Ke]}],blur:[{blur:fe()}],brightness:[{brightness:[xt,Ye,Ke]}],contrast:[{contrast:[xt,Ye,Ke]}],"drop-shadow":[{"drop-shadow":["","none",j,Sh,Nh]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",xt,Ye,Ke]}],"hue-rotate":[{"hue-rotate":[xt,Ye,Ke]}],invert:[{invert:["",xt,Ye,Ke]}],saturate:[{saturate:[xt,Ye,Ke]}],sepia:[{sepia:["",xt,Ye,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ye,Ke]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[xt,Ye,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[xt,Ye,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xt,Ye,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xt,Ye,Ke]}],"backdrop-invert":[{"backdrop-invert":["",xt,Ye,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[xt,Ye,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[xt,Ye,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",xt,Ye,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ye,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xt,"initial",Ye,Ke]}],ease:[{ease:["linear","initial",N,Ye,Ke]}],delay:[{delay:[xt,Ye,Ke]}],animate:[{animate:["none",C,Ye,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ye,Ke]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[Ye,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye,Ke]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[xt,bu,fo,ux]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},V8=_8(W8);function We(...e){return V8(Ct(e))}const Zu=I1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),X=x.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},i)=>{const l=a?xO:"button";return n.jsx(l,{"data-slot":"button",className:We(Zu({variant:t,size:r,className:e})),ref:i,...s})});X.displayName="Button";function ke({className:e,type:t,...r}){return n.jsx("input",{type:t,"data-slot":"input",className:We("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var Wd=pO();const kO=qt(Wd);var H8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=H8.reduce((e,t)=>{const r=Ii(`Primitive.${t}`),a=x.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...u,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function IO(e,t){e&&Wd.flushSync(()=>e.dispatchEvent(t))}var G8="Label",OO=x.forwardRef((e,t)=>n.jsx(it.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));OO.displayName=G8;var K8=OO;function ae({className:e,...t}){return n.jsx(K8,{"data-slot":"label",className:We("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function me({className:e,...t}){return n.jsx("div",{"data-slot":"card",className:We("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function Te({className:e,...t}){return n.jsx("div",{"data-slot":"card-header",className:We("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Ae({className:e,...t}){return n.jsx("h4",{"data-slot":"card-title",className:We("leading-none",e),...t})}function sr({className:e,...t}){return n.jsx("p",{"data-slot":"card-description",className:We("text-muted-foreground",e),...t})}function pe({className:e,...t}){return n.jsx("div",{"data-slot":"card-content",className:We("px-6 [&:last-child]:pb-6",e),...t})}const Y8=I1("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function op({className:e,variant:t,...r}){return n.jsx("div",{"data-slot":"alert",role:"alert",className:We(Y8({variant:t}),e),...r})}function lp({className:e,...t}){return n.jsx("div",{"data-slot":"alert-description",className:We("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),AE=e=>{const t=Q8(e);return t.charAt(0).toUpperCase()+t.slice(1)},DO=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:l,...u},d)=>x.createElement("svg",{ref:d,...Z8,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:DO("lucide",s),...u},[...l.map(([f,m])=>x.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=x.forwardRef(({className:a,...s},i)=>x.createElement(J8,{ref:i,iconNode:t,className:DO(`lucide-${X8(AE(e))}`,`lucide-${e}`,a),...s}));return r.displayName=AE(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ll=ze("activity",eB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],rB=ze("align-left",tB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],PE=ze("archive",nB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ia=ze("arrow-left",aB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zj=ze("arrow-right",sB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],MO=ze("banknote",iB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$O=ze("bell",oB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jh=ze("book-open",lB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Pa=ze("building-2",cB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],is=ze("building",uB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],qj=ze("calculator",dB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],mo=ze("calendar-days",fB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vr=ze("calendar",hB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],LO=ze("chart-column",mB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ju=ze("check",pB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xa=ze("chevron-down",gB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xB=ze("chevron-left",vB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Wj=ze("chevron-right",yB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jB=ze("chevron-up",bB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],FO=ze("chevrons-up-down",wB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ls=ze("circle-alert",NB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pt=ze("circle-check-big",SB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Gn=ze("circle-x",_B);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RE=ze("circle",CB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Jt=ze("clock",EB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],AB=ze("copy",TB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],RB=ze("credit-card",PB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],em=ze("database",kB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Xn=ze("dollar-sign",IB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Zn=ze("download",OB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],UO=ze("ellipsis",DB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$B=ze("external-link",MB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oi=ze("eye",LB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],UB=ze("file-pen-line",FB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],kE=ze("file-spreadsheet",BB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yt=ze("file-text",zB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9.5 10.5 5 5",key:"ra9qjz"}],["path",{d:"m14.5 10.5-5 5",key:"l2rkpq"}]],Vj=ze("folder-x",qB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ui=ze("funnel",WB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Hj=ze("history",VB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],GB=ze("key",HB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],YB=ze("layout-dashboard",KB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],QB=ze("link",XB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mr=ze("loader-circle",ZB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dx=ze("lock",JB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],t6=ze("log-in",e6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],IE=ze("map-pin",r6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],OE=ze("package",n6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],s6=ze("percent",a6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cn=ze("plus",i6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xn=ze("refresh-cw",o6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],c6=ze("rotate-ccw",l6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Vd=ze("save",u6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],xr=ze("search",d6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],cp=ze("send",f6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],m6=ze("server",h6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hd=ze("settings",p6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],v6=ze("shield-check",g6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],So=ze("shield",x6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ln=ze("square-pen",y6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Gj=ze("star",b6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gl=ze("target",j6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Cr=ze("trash-2",w6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],D1=ze("trending-up",N6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ot=ze("triangle-alert",S6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Ao=ze("upload",_6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],$u=ze("user-check",C6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],T6=ze("user-plus",E6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],DE=ze("user-x",A6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Po=ze("user",P6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Kr=ze("users",R6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],I6=ze("wallet",k6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],up=ze("x",O6),BO=()=>{const{login:e,isLoading:t,error:r}=yc(),[a,s]=x.useState(""),[i,l]=x.useState(""),[u,d]=x.useState(""),f=async m=>{m.preventDefault(),d("");try{await e(a,i)}catch(h){const g=h instanceof Error?h.message:"Login failed";d(g)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"max-w-md w-full space-y-8",children:n.jsxs(me,{children:[n.jsxs(Te,{className:"space-y-1",children:[n.jsx(Ae,{className:"text-2xl font-bold text-center",children:"  "}),n.jsx(sr,{className:"text-center",children:"     "})]}),n.jsx(pe,{children:n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"email",children:"Email"}),n.jsx(ke,{id:"email",type:"email",placeholder:"  email",value:a,onChange:m=>s(m.target.value),required:!0,disabled:t})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"password",children:""}),n.jsx(ke,{id:"password",type:"password",placeholder:"  ",value:i,onChange:m=>l(m.target.value),required:!0,disabled:t})]}),(r||u)&&n.jsx(op,{variant:"destructive",children:n.jsx(lp,{children:r||u})}),n.jsx(X,{type:"submit",className:"w-full",disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(Mr,{className:"mr-2 h-4 w-4 animate-spin"}),"..."]}):n.jsxs(n.Fragment,{children:[n.jsx(t6,{className:"mr-2 h-4 w-4"}),""]})})]})})]})})})},zO=()=>{if(!(typeof window>"u"))try{if(!("CSSScopeRule"in window)){class e{start;end;constructor(r,a){this.start=r,this.end=a}static create(r,a){return new e(r,a)}}Object.defineProperty(window,"CSSScopeRule",{value:e,writable:!1,configurable:!1})}if(!("CSS"in window)||!window.CSS.supports){const e={supports:(t,r)=>{if(r)try{const a=document.createElement("div");return a.style.setProperty(t,r),a.style.getPropertyValue(t)===r}catch{return!1}return!1}};"CSS"in window||Object.defineProperty(window,"CSS",{value:e,writable:!1,configurable:!1})}}catch(e){console.warn("CSS polyfills initialization failed:",e)}};typeof window<"u"&&zO();const D6=I1("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function je({className:e,variant:t,asChild:r=!1,...a}){const s=r?xO:"span";return n.jsx(s,{"data-slot":"badge",className:We(D6({variant:t}),e),...a})}function Be(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function M6(e,t){const r=x.createContext(t),a=i=>{const{children:l,...u}=i,d=x.useMemo(()=>u,Object.values(u));return n.jsx(r.Provider,{value:d,children:l})};a.displayName=e+"Provider";function s(i){const l=x.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function On(e,t=[]){let r=[];function a(i,l){const u=x.createContext(l),d=r.length;r=[...r,l];const f=h=>{const{scope:g,children:j,...w}=h,b=g?.[e]?.[d]||u,v=x.useMemo(()=>w,Object.values(w));return n.jsx(b.Provider,{value:v,children:j})};f.displayName=i+"Provider";function m(h,g){const j=g?.[e]?.[d]||u,w=x.useContext(j);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[f,m]}const s=()=>{const i=r.map(l=>x.createContext(l));return function(u){const d=u?.[e]||i;return x.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[a,$6(s,...t)]}function $6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=a.reduce((u,{useScope:d,scopeName:f})=>{const h=d(i)[`__scope${f}`];return{...u,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var un=globalThis?.document?x.useLayoutEffect:()=>{},L6=gO[" useInsertionEffect ".trim().toString()]||un;function os({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[s,i,l]=F6({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:s;{const m=x.useRef(e!==void 0);x.useEffect(()=>{const h=m.current;h!==u&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,a])}const f=x.useCallback(m=>{if(u){const h=U6(m)?m(e):m;h!==e&&l.current?.(h)}else i(m)},[u,e,i,l]);return[d,f]}function F6({defaultProp:e,onChange:t}){const[r,a]=x.useState(e),s=x.useRef(r),i=x.useRef(t);return L6(()=>{i.current=t},[t]),x.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,a,i]}function U6(e){return typeof e=="function"}function M1(e){const t=e+"CollectionProvider",[r,a]=On(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:v,children:N}=b,C=Q.useRef(null),S=Q.useRef(new Map).current;return n.jsx(s,{scope:v,itemMap:S,collectionRef:C,children:N})};l.displayName=t;const u=e+"CollectionSlot",d=Ii(u),f=Q.forwardRef((b,v)=>{const{scope:N,children:C}=b,S=i(u,N),A=Nt(v,S.collectionRef);return n.jsx(d,{ref:A,children:C})});f.displayName=u;const m=e+"CollectionItemSlot",h="data-radix-collection-item",g=Ii(m),j=Q.forwardRef((b,v)=>{const{scope:N,children:C,...S}=b,A=Q.useRef(null),_=Nt(v,A),T=i(m,N);return Q.useEffect(()=>(T.itemMap.set(A,{ref:A,...S}),()=>void T.itemMap.delete(A))),n.jsx(g,{[h]:"",ref:_,children:C})});j.displayName=m;function w(b){const v=i(e+"CollectionConsumer",b);return Q.useCallback(()=>{const C=v.collectionRef.current;if(!C)return[];const S=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((T,R)=>S.indexOf(T.ref.current)-S.indexOf(R.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:l,Slot:f,ItemSlot:j},w,a]}var B6=x.createContext(void 0);function dp(e){const t=x.useContext(B6);return e||t||"ltr"}function ls(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}function z6(e,t=globalThis?.document){const r=ls(e);x.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var q6="DismissableLayer",Kj="dismissableLayer.update",W6="dismissableLayer.pointerDownOutside",V6="dismissableLayer.focusOutside",ME,qO=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wc=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...d}=e,f=x.useContext(qO),[m,h]=x.useState(null),g=m?.ownerDocument??globalThis?.document,[,j]=x.useState({}),w=Nt(t,R=>h(R)),b=Array.from(f.layers),[v]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(v),C=m?b.indexOf(m):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,A=C>=N,_=K6(R=>{const D=R.target,k=[...f.branches].some(B=>B.contains(D));!A||k||(s?.(R),l?.(R),R.defaultPrevented||u?.())},g),T=Y6(R=>{const D=R.target;[...f.branches].some(B=>B.contains(D))||(i?.(R),l?.(R),R.defaultPrevented||u?.())},g);return z6(R=>{C===f.layers.size-1&&(a?.(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},g),x.useEffect(()=>{if(m)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(ME=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),$E(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=ME)}},[m,g,r,f]),x.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),$E())},[m,f]),x.useEffect(()=>{const R=()=>j({});return document.addEventListener(Kj,R),()=>document.removeEventListener(Kj,R)},[]),n.jsx(it.div,{...d,ref:w,style:{pointerEvents:S?A?"auto":"none":void 0,...e.style},onFocusCapture:Be(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Be(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Be(e.onPointerDownCapture,_.onPointerDownCapture)})});wc.displayName=q6;var H6="DismissableLayerBranch",G6=x.forwardRef((e,t)=>{const r=x.useContext(qO),a=x.useRef(null),s=Nt(t,a);return x.useEffect(()=>{const i=a.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(it.div,{...e,ref:s})});G6.displayName=H6;function K6(e,t=globalThis?.document){const r=ls(e),a=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=u=>{if(u.target&&!a.current){let d=function(){WO(W6,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);a.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Y6(e,t=globalThis?.document){const r=ls(e),a=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!a.current&&WO(V6,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function $E(){const e=new CustomEvent(Kj);document.dispatchEvent(e)}function WO(e,t,r,{discrete:a}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?IO(s,i):s.dispatchEvent(i)}var fx=0;function fp(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??LE()),document.body.insertAdjacentElement("beforeend",e[1]??LE()),fx++,()=>{fx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fx--}},[])}function LE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hx="focusScope.autoFocusOnMount",mx="focusScope.autoFocusOnUnmount",FE={bubbles:!1,cancelable:!0},X6="FocusScope",Gd=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=e,[u,d]=x.useState(null),f=ls(s),m=ls(i),h=x.useRef(null),g=Nt(t,b=>d(b)),j=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(a){let b=function(S){if(j.paused||!u)return;const A=S.target;u.contains(A)?h.current=A:bi(h.current,{select:!0})},v=function(S){if(j.paused||!u)return;const A=S.relatedTarget;A!==null&&(u.contains(A)||bi(h.current,{select:!0}))},N=function(S){if(document.activeElement===document.body)for(const _ of S)_.removedNodes.length>0&&bi(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",v);const C=new MutationObserver(N);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",v),C.disconnect()}}},[a,u,j.paused]),x.useEffect(()=>{if(u){BE.add(j);const b=document.activeElement;if(!u.contains(b)){const N=new CustomEvent(hx,FE);u.addEventListener(hx,f),u.dispatchEvent(N),N.defaultPrevented||(Q6(rz(VO(u)),{select:!0}),document.activeElement===b&&bi(u))}return()=>{u.removeEventListener(hx,f),setTimeout(()=>{const N=new CustomEvent(mx,FE);u.addEventListener(mx,m),u.dispatchEvent(N),N.defaultPrevented||bi(b??document.body,{select:!0}),u.removeEventListener(mx,m),BE.remove(j)},0)}}},[u,f,m,j]);const w=x.useCallback(b=>{if(!r&&!a||j.paused)return;const v=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(v&&N){const C=b.currentTarget,[S,A]=Z6(C);S&&A?!b.shiftKey&&N===A?(b.preventDefault(),r&&bi(S,{select:!0})):b.shiftKey&&N===S&&(b.preventDefault(),r&&bi(A,{select:!0})):N===C&&b.preventDefault()}},[r,a,j.paused]);return n.jsx(it.div,{tabIndex:-1,...l,ref:g,onKeyDown:w})});Gd.displayName=X6;function Q6(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(bi(a,{select:t}),document.activeElement!==r)return}function Z6(e){const t=VO(e),r=UE(t,e),a=UE(t.reverse(),e);return[r,a]}function VO(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function UE(e,t){for(const r of e)if(!J6(r,{upTo:t}))return r}function J6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ez(e){return e instanceof HTMLInputElement&&"select"in e}function bi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ez(e)&&t&&e.select()}}var BE=tz();function tz(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=zE(e,t),e.unshift(t)},remove(t){e=zE(e,t),e[0]?.resume()}}}function zE(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function rz(e){return e.filter(t=>t.tagName!=="A")}var nz=gO[" useId ".trim().toString()]||(()=>{}),az=0;function zr(e){const[t,r]=x.useState(nz());return un(()=>{r(a=>a??String(az++))},[e]),e||(t?`radix-${t}`:"")}const sz=["top","right","bottom","left"],Di=Math.min,Kn=Math.max,tm=Math.round,_h=Math.floor,ns=e=>({x:e,y:e}),iz={left:"right",right:"left",bottom:"top",top:"bottom"},oz={start:"end",end:"start"};function Yj(e,t,r){return Kn(e,Di(t,r))}function Fs(e,t){return typeof e=="function"?e(t):e}function Us(e){return e.split("-")[0]}function Nc(e){return e.split("-")[1]}function $1(e){return e==="x"?"y":"x"}function L1(e){return e==="y"?"height":"width"}const lz=new Set(["top","bottom"]);function es(e){return lz.has(Us(e))?"y":"x"}function F1(e){return $1(es(e))}function cz(e,t,r){r===void 0&&(r=!1);const a=Nc(e),s=F1(e),i=L1(s);let l=s==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=rm(l)),[l,rm(l)]}function uz(e){const t=rm(e);return[Xj(e),t,Xj(t)]}function Xj(e){return e.replace(/start|end/g,t=>oz[t])}const qE=["left","right"],WE=["right","left"],dz=["top","bottom"],fz=["bottom","top"];function hz(e,t,r){switch(e){case"top":case"bottom":return r?t?WE:qE:t?qE:WE;case"left":case"right":return t?dz:fz;default:return[]}}function mz(e,t,r,a){const s=Nc(e);let i=hz(Us(e),r==="start",a);return s&&(i=i.map(l=>l+"-"+s),t&&(i=i.concat(i.map(Xj)))),i}function rm(e){return e.replace(/left|right|bottom|top/g,t=>iz[t])}function pz(e){return{top:0,right:0,bottom:0,left:0,...e}}function HO(e){return typeof e!="number"?pz(e):{top:e,right:e,bottom:e,left:e}}function nm(e){const{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function VE(e,t,r){let{reference:a,floating:s}=e;const i=es(t),l=F1(t),u=L1(l),d=Us(t),f=i==="y",m=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,g=a[u]/2-s[u]/2;let j;switch(d){case"top":j={x:m,y:a.y-s.height};break;case"bottom":j={x:m,y:a.y+a.height};break;case"right":j={x:a.x+a.width,y:h};break;case"left":j={x:a.x-s.width,y:h};break;default:j={x:a.x,y:a.y}}switch(Nc(t)){case"start":j[l]-=g*(r&&f?-1:1);break;case"end":j[l]+=g*(r&&f?-1:1);break}return j}const gz=async(e,t,r)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:l}=r,u=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:h}=VE(f,a,d),g=a,j={},w=0;for(let b=0;b<u.length;b++){const{name:v,fn:N}=u[b],{x:C,y:S,data:A,reset:_}=await N({x:m,y:h,initialPlacement:a,placement:g,strategy:s,middlewareData:j,rects:f,platform:l,elements:{reference:e,floating:t}});m=C??m,h=S??h,j={...j,[v]:{...j[v],...A}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(f=_.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:m,y:h}=VE(f,g,d)),b=-1)}return{x:m,y:h,placement:g,strategy:s,middlewareData:j}};async function ed(e,t){var r;t===void 0&&(t={});const{x:a,y:s,platform:i,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:g=!1,padding:j=0}=Fs(t,e),w=HO(j),v=u[g?h==="floating"?"reference":"floating":h],N=nm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:f,rootBoundary:m,strategy:d})),C=h==="floating"?{x:a,y:s,width:l.floating.width,height:l.floating.height}:l.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),A=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},_=nm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:S,strategy:d}):C);return{top:(N.top-_.top+w.top)/A.y,bottom:(_.bottom-N.bottom+w.bottom)/A.y,left:(N.left-_.left+w.left)/A.x,right:(_.right-N.right+w.right)/A.x}}const vz=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:s,rects:i,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:m=0}=Fs(e,t)||{};if(f==null)return{};const h=HO(m),g={x:r,y:a},j=F1(s),w=L1(j),b=await l.getDimensions(f),v=j==="y",N=v?"top":"left",C=v?"bottom":"right",S=v?"clientHeight":"clientWidth",A=i.reference[w]+i.reference[j]-g[j]-i.floating[w],_=g[j]-i.reference[j],T=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let R=T?T[S]:0;(!R||!await(l.isElement==null?void 0:l.isElement(T)))&&(R=u.floating[S]||i.floating[w]);const D=A/2-_/2,k=R/2-b[w]/2-1,B=Di(h[N],k),z=Di(h[C],k),G=B,W=R-b[w]-z,Z=R/2-b[w]/2+D,$=Yj(G,Z,W),M=!d.arrow&&Nc(s)!=null&&Z!==$&&i.reference[w]/2-(Z<G?B:z)-b[w]/2<0,I=M?Z<G?Z-G:Z-W:0;return{[j]:g[j]+I,data:{[j]:$,centerOffset:Z-$-I,...M&&{alignmentOffset:I}},reset:M}}}),xz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:s,middlewareData:i,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...v}=Fs(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=Us(s),C=es(u),S=Us(u)===u,A=await(d.isRTL==null?void 0:d.isRTL(f.floating)),_=g||(S||!b?[rm(u)]:uz(u)),T=w!=="none";!g&&T&&_.push(...mz(u,b,w,A));const R=[u,..._],D=await ed(t,v),k=[];let B=((a=i.flip)==null?void 0:a.overflows)||[];if(m&&k.push(D[N]),h){const Z=cz(s,l,A);k.push(D[Z[0]],D[Z[1]])}if(B=[...B,{placement:s,overflows:k}],!k.every(Z=>Z<=0)){var z,G;const Z=(((z=i.flip)==null?void 0:z.index)||0)+1,$=R[Z];if($&&(!(h==="alignment"?C!==es($):!1)||B.every(O=>es(O.placement)===C?O.overflows[0]>0:!0)))return{data:{index:Z,overflows:B},reset:{placement:$}};let M=(G=B.filter(I=>I.overflows[0]<=0).sort((I,O)=>I.overflows[1]-O.overflows[1])[0])==null?void 0:G.placement;if(!M)switch(j){case"bestFit":{var W;const I=(W=B.filter(O=>{if(T){const H=es(O.placement);return H===C||H==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(H=>H>0).reduce((H,V)=>H+V,0)]).sort((O,H)=>O[1]-H[1])[0])==null?void 0:W[0];I&&(M=I);break}case"initialPlacement":M=u;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function HE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function GE(e){return sz.some(t=>e[t]>=0)}const yz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...s}=Fs(e,t);switch(a){case"referenceHidden":{const i=await ed(t,{...s,elementContext:"reference"}),l=HE(i,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:GE(l)}}}case"escaped":{const i=await ed(t,{...s,altBoundary:!0}),l=HE(i,r.floating);return{data:{escapedOffsets:l,escaped:GE(l)}}}default:return{}}}}},GO=new Set(["left","top"]);async function bz(e,t){const{placement:r,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),l=Us(r),u=Nc(r),d=es(r)==="y",f=GO.has(l)?-1:1,m=i&&d?-1:1,h=Fs(t,e);let{mainAxis:g,crossAxis:j,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return u&&typeof w=="number"&&(j=u==="end"?w*-1:w),d?{x:j*m,y:g*f}:{x:g*f,y:j*m}}const jz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:s,y:i,placement:l,middlewareData:u}=t,d=await bz(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(a=u.arrow)!=null&&a.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:l}}}}},wz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:s}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:v=>{let{x:N,y:C}=v;return{x:N,y:C}}},...d}=Fs(e,t),f={x:r,y:a},m=await ed(t,d),h=es(Us(s)),g=$1(h);let j=f[g],w=f[h];if(i){const v=g==="y"?"top":"left",N=g==="y"?"bottom":"right",C=j+m[v],S=j-m[N];j=Yj(C,j,S)}if(l){const v=h==="y"?"top":"left",N=h==="y"?"bottom":"right",C=w+m[v],S=w-m[N];w=Yj(C,w,S)}const b=u.fn({...t,[g]:j,[h]:w});return{...b,data:{x:b.x-r,y:b.y-a,enabled:{[g]:i,[h]:l}}}}}},Nz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:s,rects:i,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Fs(e,t),m={x:r,y:a},h=es(s),g=$1(h);let j=m[g],w=m[h];const b=Fs(u,t),v=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const S=g==="y"?"height":"width",A=i.reference[g]-i.floating[S]+v.mainAxis,_=i.reference[g]+i.reference[S]-v.mainAxis;j<A?j=A:j>_&&(j=_)}if(f){var N,C;const S=g==="y"?"width":"height",A=GO.has(Us(s)),_=i.reference[h]-i.floating[S]+(A&&((N=l.offset)==null?void 0:N[h])||0)+(A?0:v.crossAxis),T=i.reference[h]+i.reference[S]+(A?0:((C=l.offset)==null?void 0:C[h])||0)-(A?v.crossAxis:0);w<_?w=_:w>T&&(w=T)}return{[g]:j,[h]:w}}}},Sz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:s,rects:i,platform:l,elements:u}=t,{apply:d=()=>{},...f}=Fs(e,t),m=await ed(t,f),h=Us(s),g=Nc(s),j=es(s)==="y",{width:w,height:b}=i.floating;let v,N;h==="top"||h==="bottom"?(v=h,N=g===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(N=h,v=g==="end"?"top":"bottom");const C=b-m.top-m.bottom,S=w-m.left-m.right,A=Di(b-m[v],C),_=Di(w-m[N],S),T=!t.middlewareData.shift;let R=A,D=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=S),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(R=C),T&&!g){const B=Kn(m.left,0),z=Kn(m.right,0),G=Kn(m.top,0),W=Kn(m.bottom,0);j?D=w-2*(B!==0||z!==0?B+z:Kn(m.left,m.right)):R=b-2*(G!==0||W!==0?G+W:Kn(m.top,m.bottom))}await d({...t,availableWidth:D,availableHeight:R});const k=await l.getDimensions(u.floating);return w!==k.width||b!==k.height?{reset:{rects:!0}}:{}}}};function hp(){return typeof window<"u"}function Sc(e){return KO(e)?(e.nodeName||"").toLowerCase():"#document"}function Qn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fs(e){var t;return(t=(KO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function KO(e){return hp()?e instanceof Node||e instanceof Qn(e).Node:!1}function Da(e){return hp()?e instanceof Element||e instanceof Qn(e).Element:!1}function cs(e){return hp()?e instanceof HTMLElement||e instanceof Qn(e).HTMLElement:!1}function KE(e){return!hp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qn(e).ShadowRoot}const _z=new Set(["inline","contents"]);function Kd(e){const{overflow:t,overflowX:r,overflowY:a,display:s}=Ma(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!_z.has(s)}const Cz=new Set(["table","td","th"]);function Ez(e){return Cz.has(Sc(e))}const Tz=[":popover-open",":modal"];function mp(e){return Tz.some(t=>{try{return e.matches(t)}catch{return!1}})}const Az=["transform","translate","scale","rotate","perspective"],Pz=["transform","translate","scale","rotate","perspective","filter"],Rz=["paint","layout","strict","content"];function U1(e){const t=B1(),r=Da(e)?Ma(e):e;return Az.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Pz.some(a=>(r.willChange||"").includes(a))||Rz.some(a=>(r.contain||"").includes(a))}function kz(e){let t=Mi(e);for(;cs(t)&&!Kl(t);){if(U1(t))return t;if(mp(t))return null;t=Mi(t)}return null}function B1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Iz=new Set(["html","body","#document"]);function Kl(e){return Iz.has(Sc(e))}function Ma(e){return Qn(e).getComputedStyle(e)}function pp(e){return Da(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mi(e){if(Sc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||KE(e)&&e.host||fs(e);return KE(t)?t.host:t}function YO(e){const t=Mi(e);return Kl(t)?e.ownerDocument?e.ownerDocument.body:e.body:cs(t)&&Kd(t)?t:YO(t)}function td(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=YO(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),l=Qn(s);if(i){const u=Qj(l);return t.concat(l,l.visualViewport||[],Kd(s)?s:[],u&&r?td(u):[])}return t.concat(s,td(s,[],r))}function Qj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function XO(e){const t=Ma(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=cs(e),i=s?e.offsetWidth:r,l=s?e.offsetHeight:a,u=tm(r)!==i||tm(a)!==l;return u&&(r=i,a=l),{width:r,height:a,$:u}}function z1(e){return Da(e)?e:e.contextElement}function Fl(e){const t=z1(e);if(!cs(t))return ns(1);const r=t.getBoundingClientRect(),{width:a,height:s,$:i}=XO(t);let l=(i?tm(r.width):r.width)/a,u=(i?tm(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const Oz=ns(0);function QO(e){const t=Qn(e);return!B1()||!t.visualViewport?Oz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Dz(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qn(e)?!1:t}function Ro(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=z1(e);let l=ns(1);t&&(a?Da(a)&&(l=Fl(a)):l=Fl(e));const u=Dz(i,r,a)?QO(i):ns(0);let d=(s.left+u.x)/l.x,f=(s.top+u.y)/l.y,m=s.width/l.x,h=s.height/l.y;if(i){const g=Qn(i),j=a&&Da(a)?Qn(a):a;let w=g,b=Qj(w);for(;b&&a&&j!==w;){const v=Fl(b),N=b.getBoundingClientRect(),C=Ma(b),S=N.left+(b.clientLeft+parseFloat(C.paddingLeft))*v.x,A=N.top+(b.clientTop+parseFloat(C.paddingTop))*v.y;d*=v.x,f*=v.y,m*=v.x,h*=v.y,d+=S,f+=A,w=Qn(b),b=Qj(w)}}return nm({width:m,height:h,x:d,y:f})}function gp(e,t){const r=pp(e).scrollLeft;return t?t.left+r:Ro(fs(e)).left+r}function ZO(e,t){const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-gp(e,r),s=r.top+t.scrollTop;return{x:a,y:s}}function Mz(e){let{elements:t,rect:r,offsetParent:a,strategy:s}=e;const i=s==="fixed",l=fs(a),u=t?mp(t.floating):!1;if(a===l||u&&i)return r;let d={scrollLeft:0,scrollTop:0},f=ns(1);const m=ns(0),h=cs(a);if((h||!h&&!i)&&((Sc(a)!=="body"||Kd(l))&&(d=pp(a)),cs(a))){const j=Ro(a);f=Fl(a),m.x=j.x+a.clientLeft,m.y=j.y+a.clientTop}const g=l&&!h&&!i?ZO(l,d):ns(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+m.x+g.x,y:r.y*f.y-d.scrollTop*f.y+m.y+g.y}}function $z(e){return Array.from(e.getClientRects())}function Lz(e){const t=fs(e),r=pp(e),a=e.ownerDocument.body,s=Kn(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=Kn(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let l=-r.scrollLeft+gp(e);const u=-r.scrollTop;return Ma(a).direction==="rtl"&&(l+=Kn(t.clientWidth,a.clientWidth)-s),{width:s,height:i,x:l,y:u}}const YE=25;function Fz(e,t){const r=Qn(e),a=fs(e),s=r.visualViewport;let i=a.clientWidth,l=a.clientHeight,u=0,d=0;if(s){i=s.width,l=s.height;const m=B1();(!m||m&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}const f=gp(a);if(f<=0){const m=a.ownerDocument,h=m.body,g=getComputedStyle(h),j=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,w=Math.abs(a.clientWidth-h.clientWidth-j);w<=YE&&(i-=w)}else f<=YE&&(i+=f);return{width:i,height:l,x:u,y:d}}const Uz=new Set(["absolute","fixed"]);function Bz(e,t){const r=Ro(e,!0,t==="fixed"),a=r.top+e.clientTop,s=r.left+e.clientLeft,i=cs(e)?Fl(e):ns(1),l=e.clientWidth*i.x,u=e.clientHeight*i.y,d=s*i.x,f=a*i.y;return{width:l,height:u,x:d,y:f}}function XE(e,t,r){let a;if(t==="viewport")a=Fz(e,r);else if(t==="document")a=Lz(fs(e));else if(Da(t))a=Bz(t,r);else{const s=QO(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return nm(a)}function JO(e,t){const r=Mi(e);return r===t||!Da(r)||Kl(r)?!1:Ma(r).position==="fixed"||JO(r,t)}function zz(e,t){const r=t.get(e);if(r)return r;let a=td(e,[],!1).filter(u=>Da(u)&&Sc(u)!=="body"),s=null;const i=Ma(e).position==="fixed";let l=i?Mi(e):e;for(;Da(l)&&!Kl(l);){const u=Ma(l),d=U1(l);!d&&u.position==="fixed"&&(s=null),(i?!d&&!s:!d&&u.position==="static"&&!!s&&Uz.has(s.position)||Kd(l)&&!d&&JO(e,l))?a=a.filter(m=>m!==l):s=u,l=Mi(l)}return t.set(e,a),a}function qz(e){let{element:t,boundary:r,rootBoundary:a,strategy:s}=e;const l=[...r==="clippingAncestors"?mp(t)?[]:zz(t,this._c):[].concat(r),a],u=l[0],d=l.reduce((f,m)=>{const h=XE(t,m,s);return f.top=Kn(h.top,f.top),f.right=Di(h.right,f.right),f.bottom=Di(h.bottom,f.bottom),f.left=Kn(h.left,f.left),f},XE(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Wz(e){const{width:t,height:r}=XO(e);return{width:t,height:r}}function Vz(e,t,r){const a=cs(t),s=fs(t),i=r==="fixed",l=Ro(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const d=ns(0);function f(){d.x=gp(s)}if(a||!a&&!i)if((Sc(t)!=="body"||Kd(s))&&(u=pp(t)),a){const j=Ro(t,!0,i,t);d.x=j.x+t.clientLeft,d.y=j.y+t.clientTop}else s&&f();i&&!a&&s&&f();const m=s&&!a&&!i?ZO(s,u):ns(0),h=l.left+u.scrollLeft-d.x-m.x,g=l.top+u.scrollTop-d.y-m.y;return{x:h,y:g,width:l.width,height:l.height}}function px(e){return Ma(e).position==="static"}function QE(e,t){if(!cs(e)||Ma(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return fs(e)===r&&(r=r.ownerDocument.body),r}function eD(e,t){const r=Qn(e);if(mp(e))return r;if(!cs(e)){let s=Mi(e);for(;s&&!Kl(s);){if(Da(s)&&!px(s))return s;s=Mi(s)}return r}let a=QE(e,t);for(;a&&Ez(a)&&px(a);)a=QE(a,t);return a&&Kl(a)&&px(a)&&!U1(a)?r:a||kz(e)||r}const Hz=async function(e){const t=this.getOffsetParent||eD,r=this.getDimensions,a=await r(e.floating);return{reference:Vz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Gz(e){return Ma(e).direction==="rtl"}const Kz={convertOffsetParentRelativeRectToViewportRelativeRect:Mz,getDocumentElement:fs,getClippingRect:qz,getOffsetParent:eD,getElementRects:Hz,getClientRects:$z,getDimensions:Wz,getScale:Fl,isElement:Da,isRTL:Gz};function tD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Yz(e,t){let r=null,a;const s=fs(e);function i(){var u;clearTimeout(a),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:m,top:h,width:g,height:j}=f;if(u||t(),!g||!j)return;const w=_h(h),b=_h(s.clientWidth-(m+g)),v=_h(s.clientHeight-(h+j)),N=_h(m),S={rootMargin:-w+"px "+-b+"px "+-v+"px "+-N+"px",threshold:Kn(0,Di(1,d))||1};let A=!0;function _(T){const R=T[0].intersectionRatio;if(R!==d){if(!A)return l();R?l(!1,R):a=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!tD(f,e.getBoundingClientRect())&&l(),A=!1}try{r=new IntersectionObserver(_,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,S)}r.observe(e)}return l(!0),i}function Xz(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,f=z1(e),m=s||i?[...f?td(f):[],...td(t)]:[];m.forEach(N=>{s&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const h=f&&u?Yz(f,r):null;let g=-1,j=null;l&&(j=new ResizeObserver(N=>{let[C]=N;C&&C.target===f&&j&&(j.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=j)==null||S.observe(t)})),r()}),f&&!d&&j.observe(f),j.observe(t));let w,b=d?Ro(e):null;d&&v();function v(){const N=Ro(e);b&&!tD(b,N)&&r(),b=N,w=requestAnimationFrame(v)}return r(),()=>{var N;m.forEach(C=>{s&&C.removeEventListener("scroll",r),i&&C.removeEventListener("resize",r)}),h?.(),(N=j)==null||N.disconnect(),j=null,d&&cancelAnimationFrame(w)}}const Qz=jz,Zz=wz,Jz=xz,eq=Sz,tq=yz,ZE=vz,rq=Nz,nq=(e,t,r)=>{const a=new Map,s={platform:Kz,...r},i={...s.platform,_c:a};return gz(e,t,{...s,platform:i})};var aq=typeof document<"u",sq=function(){},Kh=aq?x.useLayoutEffect:sq;function am(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!am(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=r;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!am(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function rD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function JE(e,t){const r=rD(e);return Math.round(t*r)/r}function gx(e){const t=x.useRef(e);return Kh(()=>{t.current=e}),t}function iq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[m,h]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,j]=x.useState(a);am(g,a)||j(a);const[w,b]=x.useState(null),[v,N]=x.useState(null),C=x.useCallback(O=>{O!==T.current&&(T.current=O,b(O))},[]),S=x.useCallback(O=>{O!==R.current&&(R.current=O,N(O))},[]),A=i||w,_=l||v,T=x.useRef(null),R=x.useRef(null),D=x.useRef(m),k=d!=null,B=gx(d),z=gx(s),G=gx(f),W=x.useCallback(()=>{if(!T.current||!R.current)return;const O={placement:t,strategy:r,middleware:g};z.current&&(O.platform=z.current),nq(T.current,R.current,O).then(H=>{const V={...H,isPositioned:G.current!==!1};Z.current&&!am(D.current,V)&&(D.current=V,Wd.flushSync(()=>{h(V)}))})},[g,t,r,z,G]);Kh(()=>{f===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[f]);const Z=x.useRef(!1);Kh(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Kh(()=>{if(A&&(T.current=A),_&&(R.current=_),A&&_){if(B.current)return B.current(A,_,W);W()}},[A,_,W,B,k]);const $=x.useMemo(()=>({reference:T,floating:R,setReference:C,setFloating:S}),[C,S]),M=x.useMemo(()=>({reference:A,floating:_}),[A,_]),I=x.useMemo(()=>{const O={position:r,left:0,top:0};if(!M.floating)return O;const H=JE(M.floating,m.x),V=JE(M.floating,m.y);return u?{...O,transform:"translate("+H+"px, "+V+"px)",...rD(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:V}},[r,u,M.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:W,refs:$,elements:M,floatingStyles:I}),[m,W,$,M,I])}const oq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:s}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?ZE({element:a.current,padding:s}).fn(r):{}:a?ZE({element:a,padding:s}).fn(r):{}}}},lq=(e,t)=>({...Qz(e),options:[e,t]}),cq=(e,t)=>({...Zz(e),options:[e,t]}),uq=(e,t)=>({...rq(e),options:[e,t]}),dq=(e,t)=>({...Jz(e),options:[e,t]}),fq=(e,t)=>({...eq(e),options:[e,t]}),hq=(e,t)=>({...tq(e),options:[e,t]}),mq=(e,t)=>({...oq(e),options:[e,t]});var pq="Arrow",nD=x.forwardRef((e,t)=>{const{children:r,width:a=10,height:s=5,...i}=e;return n.jsx(it.svg,{...i,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});nD.displayName=pq;var gq=nD;function q1(e){const[t,r]=x.useState(void 0);return un(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,u;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var W1="Popper",[aD,Bi]=On(W1),[vq,sD]=aD(W1),iD=e=>{const{__scopePopper:t,children:r}=e,[a,s]=x.useState(null);return n.jsx(vq,{scope:t,anchor:a,onAnchorChange:s,children:r})};iD.displayName=W1;var oD="PopperAnchor",lD=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...s}=e,i=sD(oD,r),l=x.useRef(null),u=Nt(t,l),d=x.useRef(null);return x.useEffect(()=>{const f=d.current;d.current=a?.current||l.current,f!==d.current&&i.onAnchorChange(d.current)}),a?null:n.jsx(it.div,{...s,ref:u})});lD.displayName=oD;var V1="PopperContent",[xq,yq]=aD(V1),cD=x.forwardRef((e,t)=>{const{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:j="optimized",onPlaced:w,...b}=e,v=sD(V1,r),[N,C]=x.useState(null),S=Nt(t,K=>C(K)),[A,_]=x.useState(null),T=q1(A),R=T?.width??0,D=T?.height??0,k=a+(i!=="center"?"-"+i:""),B=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},z=Array.isArray(f)?f:[f],G=z.length>0,W={padding:B,boundary:z.filter(jq),altBoundary:G},{refs:Z,floatingStyles:$,placement:M,isPositioned:I,middlewareData:O}=iq({strategy:"fixed",placement:k,whileElementsMounted:(...K)=>Xz(...K,{animationFrame:j==="always"}),elements:{reference:v.anchor},middleware:[lq({mainAxis:s+D,alignmentAxis:l}),d&&cq({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?uq():void 0,...W}),d&&dq({...W}),fq({...W,apply:({elements:K,rects:fe,availableWidth:oe,availableHeight:Ee})=>{const{width:De,height:re}=fe.reference,le=K.floating.style;le.setProperty("--radix-popper-available-width",`${oe}px`),le.setProperty("--radix-popper-available-height",`${Ee}px`),le.setProperty("--radix-popper-anchor-width",`${De}px`),le.setProperty("--radix-popper-anchor-height",`${re}px`)}}),A&&mq({element:A,padding:u}),wq({arrowWidth:R,arrowHeight:D}),g&&hq({strategy:"referenceHidden",...W})]}),[H,V]=fD(M),q=ls(w);un(()=>{I&&q?.()},[I,q]);const F=O.arrow?.x,L=O.arrow?.y,Y=O.arrow?.centerOffset!==0,[ee,ce]=x.useState();return un(()=>{N&&ce(window.getComputedStyle(N).zIndex)},[N]),n.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:I?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(xq,{scope:r,placedSide:H,onArrowChange:_,arrowX:F,arrowY:L,shouldHideArrow:Y,children:n.jsx(it.div,{"data-side":H,"data-align":V,...b,ref:S,style:{...b.style,animation:I?void 0:"none"}})})})});cD.displayName=V1;var uD="PopperArrow",bq={top:"bottom",right:"left",bottom:"top",left:"right"},dD=x.forwardRef(function(t,r){const{__scopePopper:a,...s}=t,i=yq(uD,a),l=bq[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(gq,{...s,ref:r,style:{...s.style,display:"block"}})})});dD.displayName=uD;function jq(e){return e!==null}var wq=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:a,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,m]=fD(r),h={start:"0%",center:"50%",end:"100%"}[m],g=(s.arrow?.x??0)+u/2,j=(s.arrow?.y??0)+d/2;let w="",b="";return f==="bottom"?(w=l?h:`${g}px`,b=`${-d}px`):f==="top"?(w=l?h:`${g}px`,b=`${a.floating.height+d}px`):f==="right"?(w=`${-d}px`,b=l?h:`${j}px`):f==="left"&&(w=`${a.floating.width+d}px`,b=l?h:`${j}px`),{data:{x:w,y:b}}}});function fD(e){const[t,r="center"]=e.split("-");return[t,r]}var vp=iD,Yd=lD,xp=cD,yp=dD,Nq="Portal",_c=x.forwardRef((e,t)=>{const{container:r,...a}=e,[s,i]=x.useState(!1);un(()=>i(!0),[]);const l=r||s&&globalThis?.document?.body;return l?kO.createPortal(n.jsx(it.div,{...a,ref:t}),l):null});_c.displayName=Nq;function Sq(e,t){return x.useReducer((r,a)=>t[r][a]??r,e)}var Dn=e=>{const{present:t,children:r}=e,a=_q(t),s=typeof r=="function"?r({present:a.isPresent}):x.Children.only(r),i=Nt(a.ref,Cq(s));return typeof r=="function"||a.isPresent?x.cloneElement(s,{ref:i}):null};Dn.displayName="Presence";function _q(e){const[t,r]=x.useState(),a=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),l=e?"mounted":"unmounted",[u,d]=Sq(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=Ch(a.current);i.current=u==="mounted"?f:"none"},[u]),un(()=>{const f=a.current,m=s.current;if(m!==e){const g=i.current,j=Ch(f);e?d("MOUNT"):j==="none"||f?.display==="none"?d("UNMOUNT"):d(m&&g!==j?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),un(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,h=j=>{const b=Ch(a.current).includes(CSS.escape(j.animationName));if(j.target===t&&b&&(d("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},g=j=>{j.target===t&&(i.current=Ch(a.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(f=>{a.current=f?getComputedStyle(f):null,r(f)},[])}}function Ch(e){return e?.animationName||"none"}function Cq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vx="rovingFocusGroup.onEntryFocus",Eq={bubbles:!1,cancelable:!0},Xd="RovingFocusGroup",[Zj,hD,Tq]=M1(Xd),[Aq,bp]=On(Xd,[Tq]),[Pq,Rq]=Aq(Xd),mD=x.forwardRef((e,t)=>n.jsx(Zj.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Zj.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(kq,{...e,ref:t})})}));mD.displayName=Xd;var kq=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...h}=e,g=x.useRef(null),j=Nt(t,g),w=dp(i),[b,v]=os({prop:l,defaultProp:u??null,onChange:d,caller:Xd}),[N,C]=x.useState(!1),S=ls(f),A=hD(r),_=x.useRef(!1),[T,R]=x.useState(0);return x.useEffect(()=>{const D=g.current;if(D)return D.addEventListener(vx,S),()=>D.removeEventListener(vx,S)},[S]),n.jsx(Pq,{scope:r,orientation:a,dir:w,loop:s,currentTabStopId:b,onItemFocus:x.useCallback(D=>v(D),[v]),onItemShiftTab:x.useCallback(()=>C(!0),[]),onFocusableItemAdd:x.useCallback(()=>R(D=>D+1),[]),onFocusableItemRemove:x.useCallback(()=>R(D=>D-1),[]),children:n.jsx(it.div,{tabIndex:N||T===0?-1:0,"data-orientation":a,...h,ref:j,style:{outline:"none",...e.style},onMouseDown:Be(e.onMouseDown,()=>{_.current=!0}),onFocus:Be(e.onFocus,D=>{const k=!_.current;if(D.target===D.currentTarget&&k&&!N){const B=new CustomEvent(vx,Eq);if(D.currentTarget.dispatchEvent(B),!B.defaultPrevented){const z=A().filter(M=>M.focusable),G=z.find(M=>M.active),W=z.find(M=>M.id===b),$=[G,W,...z].filter(Boolean).map(M=>M.ref.current);vD($,m)}}_.current=!1}),onBlur:Be(e.onBlur,()=>C(!1))})})}),pD="RovingFocusGroupItem",gD=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:i,children:l,...u}=e,d=zr(),f=i||d,m=Rq(pD,r),h=m.currentTabStopId===f,g=hD(r),{onFocusableItemAdd:j,onFocusableItemRemove:w,currentTabStopId:b}=m;return x.useEffect(()=>{if(a)return j(),()=>w()},[a,j,w]),n.jsx(Zj.ItemSlot,{scope:r,id:f,focusable:a,active:s,children:n.jsx(it.span,{tabIndex:h?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:Be(e.onMouseDown,v=>{a?m.onItemFocus(f):v.preventDefault()}),onFocus:Be(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Be(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){m.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const N=Dq(v,m.orientation,m.dir);if(N!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let S=g().filter(A=>A.focusable).map(A=>A.ref.current);if(N==="last")S.reverse();else if(N==="prev"||N==="next"){N==="prev"&&S.reverse();const A=S.indexOf(v.currentTarget);S=m.loop?Mq(S,A+1):S.slice(A+1)}setTimeout(()=>vD(S))}}),children:typeof l=="function"?l({isCurrentTabStop:h,hasTabStop:b!=null}):l})})});gD.displayName=pD;var Iq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Oq(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Dq(e,t,r){const a=Oq(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Iq[a]}function vD(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function Mq(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var xD=mD,yD=gD,$q=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yl=new WeakMap,Eh=new WeakMap,Th={},xx=0,bD=function(e){return e&&(e.host||bD(e.parentNode))},Lq=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=bD(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Fq=function(e,t,r,a){var s=Lq(t,Array.isArray(e)?e:[e]);Th[r]||(Th[r]=new WeakMap);var i=Th[r],l=[],u=new Set,d=new Set(s),f=function(h){!h||u.has(h)||(u.add(h),f(h.parentNode))};s.forEach(f);var m=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(g){if(u.has(g))m(g);else try{var j=g.getAttribute(a),w=j!==null&&j!=="false",b=(yl.get(g)||0)+1,v=(i.get(g)||0)+1;yl.set(g,b),i.set(g,v),l.push(g),b===1&&w&&Eh.set(g,!0),v===1&&g.setAttribute(r,"true"),w||g.setAttribute(a,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return m(t),u.clear(),xx++,function(){l.forEach(function(h){var g=yl.get(h)-1,j=i.get(h)-1;yl.set(h,g),i.set(h,j),g||(Eh.has(h)||h.removeAttribute(a),Eh.delete(h)),j||h.removeAttribute(r)}),xx--,xx||(yl=new WeakMap,yl=new WeakMap,Eh=new WeakMap,Th={})}},jp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=$q(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),Fq(a,s,r,"aria-hidden")):function(){return null}},Qa=function(){return Qa=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Qa.apply(this,arguments)};function jD(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function Uq(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var Yh="right-scroll-bar-position",Xh="width-before-scroll-bar",Bq="with-scroll-bars-hidden",zq="--removed-body-scroll-bar-size";function yx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qq(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=t,r.facade}var Wq=typeof window<"u"?x.useLayoutEffect:x.useEffect,e2=new WeakMap;function Vq(e,t){var r=qq(null,function(a){return e.forEach(function(s){return yx(s,a)})});return Wq(function(){var a=e2.get(r);if(a){var s=new Set(a),i=new Set(e),l=r.current;s.forEach(function(u){i.has(u)||yx(u,null)}),i.forEach(function(u){s.has(u)||yx(u,l)})}e2.set(r,e)},[e]),r}function Hq(e){return e}function Gq(e,t){t===void 0&&(t=Hq);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=t(i,a);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(a=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(u){return i(u)},filter:function(){return r}}},assignMedium:function(i){a=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(i),l=r}var d=function(){var m=l;l=[],m.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(m){l.push(m),f()},filter:function(m){return l=l.filter(m),r}}}};return s}function Kq(e){e===void 0&&(e={});var t=Gq(null);return t.options=Qa({async:!0,ssr:!1},e),t}var wD=function(e){var t=e.sideCar,r=jD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return x.createElement(a,Qa({},r))};wD.isSideCarExport=!0;function Yq(e,t){return e.useMedium(t),wD}var ND=Kq(),bx=function(){},wp=x.forwardRef(function(e,t){var r=x.useRef(null),a=x.useState({onScrollCapture:bx,onWheelCapture:bx,onTouchMoveCapture:bx}),s=a[0],i=a[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,h=e.shards,g=e.sideCar,j=e.noRelative,w=e.noIsolation,b=e.inert,v=e.allowPinchZoom,N=e.as,C=N===void 0?"div":N,S=e.gapMode,A=jD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=g,T=Vq([r,t]),R=Qa(Qa({},A),s);return x.createElement(x.Fragment,null,m&&x.createElement(_,{sideCar:ND,removeScrollBar:f,shards:h,noRelative:j,noIsolation:w,inert:b,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:S}),l?x.cloneElement(x.Children.only(u),Qa(Qa({},R),{ref:T})):x.createElement(C,Qa({},R,{className:d,ref:T}),u))});wp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wp.classNames={fullWidth:Xh,zeroRight:Yh};var Xq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Qq(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Xq();return t&&e.setAttribute("nonce",t),e}function Zq(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Jq(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var eW=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Qq())&&(Zq(t,r),Jq(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},tW=function(){var e=eW();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},SD=function(){var e=tW(),t=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return t},rW={left:0,top:0,right:0,gap:0},jx=function(e){return parseInt(e||"",10)||0},nW=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[jx(r),jx(a),jx(s)]},aW=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return rW;var t=nW(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},sW=SD(),Ul="data-scroll-locked",iW=function(e,t,r,a){var s=e.left,i=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Bq,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(u,"px ").concat(a,`;
  }
  body[`).concat(Ul,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yh,` {
    right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Xh,` {
    margin-right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Yh," .").concat(Yh,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Xh," .").concat(Xh,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Ul,`] {
    `).concat(zq,": ").concat(u,`px;
  }
`)},t2=function(){var e=parseInt(document.body.getAttribute(Ul)||"0",10);return isFinite(e)?e:0},oW=function(){x.useEffect(function(){return document.body.setAttribute(Ul,(t2()+1).toString()),function(){var e=t2()-1;e<=0?document.body.removeAttribute(Ul):document.body.setAttribute(Ul,e.toString())}},[])},lW=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;oW();var i=x.useMemo(function(){return aW(s)},[s]);return x.createElement(sW,{styles:iW(i,!t,s,r?"":"!important")})},Jj=!1;if(typeof window<"u")try{var Ah=Object.defineProperty({},"passive",{get:function(){return Jj=!0,!0}});window.addEventListener("test",Ah,Ah),window.removeEventListener("test",Ah,Ah)}catch{Jj=!1}var bl=Jj?{passive:!1}:!1,cW=function(e){return e.tagName==="TEXTAREA"},_D=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!cW(e)&&r[t]==="visible")},uW=function(e){return _D(e,"overflowY")},dW=function(e){return _D(e,"overflowX")},r2=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=CD(e,a);if(s){var i=ED(e,a),l=i[1],u=i[2];if(l>u)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},fW=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},hW=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},CD=function(e,t){return e==="v"?uW(t):dW(t)},ED=function(e,t){return e==="v"?fW(t):hW(t)},mW=function(e,t){return e==="h"&&t==="rtl"?-1:1},pW=function(e,t,r,a,s){var i=mW(e,window.getComputedStyle(t).direction),l=i*a,u=r.target,d=t.contains(u),f=!1,m=l>0,h=0,g=0;do{if(!u)break;var j=ED(e,u),w=j[0],b=j[1],v=j[2],N=b-v-i*w;(w||N)&&CD(e,u)&&(h+=N,g+=w);var C=u.parentNode;u=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(m&&Math.abs(h)<1||!m&&Math.abs(g)<1)&&(f=!0),f},Ph=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},n2=function(e){return[e.deltaX,e.deltaY]},a2=function(e){return e&&"current"in e?e.current:e},gW=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xW=0,jl=[];function yW(e){var t=x.useRef([]),r=x.useRef([0,0]),a=x.useRef(),s=x.useState(xW++)[0],i=x.useState(SD)[0],l=x.useRef(e);x.useEffect(function(){l.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var b=Uq([e.lockRef.current],(e.shards||[]).map(a2),!0).filter(Boolean);return b.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=x.useCallback(function(b,v){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var N=Ph(b),C=r.current,S="deltaX"in b?b.deltaX:C[0]-N[0],A="deltaY"in b?b.deltaY:C[1]-N[1],_,T=b.target,R=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in b&&R==="h"&&T.type==="range")return!1;var D=r2(R,T);if(!D)return!0;if(D?_=R:(_=R==="v"?"h":"v",D=r2(R,T)),!D)return!1;if(!a.current&&"changedTouches"in b&&(S||A)&&(a.current=_),!_)return!0;var k=a.current||_;return pW(k,v,b,k==="h"?S:A)},[]),d=x.useCallback(function(b){var v=b;if(!(!jl.length||jl[jl.length-1]!==i)){var N="deltaY"in v?n2(v):Ph(v),C=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&gW(_.delta,N)})[0];if(C&&C.should){v.cancelable&&v.preventDefault();return}if(!C){var S=(l.current.shards||[]).map(a2).filter(Boolean).filter(function(_){return _.contains(v.target)}),A=S.length>0?u(v,S[0]):!l.current.noIsolation;A&&v.cancelable&&v.preventDefault()}}},[]),f=x.useCallback(function(b,v,N,C){var S={name:b,delta:v,target:N,should:C,shadowParent:bW(N)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(A){return A!==S})},1)},[]),m=x.useCallback(function(b){r.current=Ph(b),a.current=void 0},[]),h=x.useCallback(function(b){f(b.type,n2(b),b.target,u(b,e.lockRef.current))},[]),g=x.useCallback(function(b){f(b.type,Ph(b),b.target,u(b,e.lockRef.current))},[]);x.useEffect(function(){return jl.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",d,bl),document.addEventListener("touchmove",d,bl),document.addEventListener("touchstart",m,bl),function(){jl=jl.filter(function(b){return b!==i}),document.removeEventListener("wheel",d,bl),document.removeEventListener("touchmove",d,bl),document.removeEventListener("touchstart",m,bl)}},[]);var j=e.removeScrollBar,w=e.inert;return x.createElement(x.Fragment,null,w?x.createElement(i,{styles:vW(s)}):null,j?x.createElement(lW,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function bW(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const jW=Yq(ND,yW);var Qd=x.forwardRef(function(e,t){return x.createElement(wp,Qa({},e,{ref:t,sideCar:jW}))});Qd.classNames=wp.classNames;var ew=["Enter"," "],wW=["ArrowDown","PageUp","Home"],TD=["ArrowUp","PageDown","End"],NW=[...wW,...TD],SW={ltr:[...ew,"ArrowRight"],rtl:[...ew,"ArrowLeft"]},_W={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zd="Menu",[rd,CW,EW]=M1(Zd),[zo,AD]=On(Zd,[EW,Bi,bp]),Np=Bi(),PD=bp(),[TW,qo]=zo(Zd),[AW,Jd]=zo(Zd),RD=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:s,onOpenChange:i,modal:l=!0}=e,u=Np(t),[d,f]=x.useState(null),m=x.useRef(!1),h=ls(i),g=dp(s);return x.useEffect(()=>{const j=()=>{m.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>m.current=!1;return document.addEventListener("keydown",j,{capture:!0}),()=>{document.removeEventListener("keydown",j,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),n.jsx(vp,{...u,children:n.jsx(TW,{scope:t,open:r,onOpenChange:h,content:d,onContentChange:f,children:n.jsx(AW,{scope:t,onClose:x.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:m,dir:g,modal:l,children:a})})})};RD.displayName=Zd;var PW="MenuAnchor",H1=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,s=Np(r);return n.jsx(Yd,{...s,...a,ref:t})});H1.displayName=PW;var G1="MenuPortal",[RW,kD]=zo(G1,{forceMount:void 0}),ID=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:s}=e,i=qo(G1,t);return n.jsx(RW,{scope:t,forceMount:r,children:n.jsx(Dn,{present:r||i.open,children:n.jsx(_c,{asChild:!0,container:s,children:a})})})};ID.displayName=G1;var ga="MenuContent",[kW,K1]=zo(ga),OD=x.forwardRef((e,t)=>{const r=kD(ga,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=qo(ga,e.__scopeMenu),l=Jd(ga,e.__scopeMenu);return n.jsx(rd.Provider,{scope:e.__scopeMenu,children:n.jsx(Dn,{present:a||i.open,children:n.jsx(rd.Slot,{scope:e.__scopeMenu,children:l.modal?n.jsx(IW,{...s,ref:t}):n.jsx(OW,{...s,ref:t})})})})}),IW=x.forwardRef((e,t)=>{const r=qo(ga,e.__scopeMenu),a=x.useRef(null),s=Nt(t,a);return x.useEffect(()=>{const i=a.current;if(i)return jp(i)},[]),n.jsx(Y1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Be(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),OW=x.forwardRef((e,t)=>{const r=qo(ga,e.__scopeMenu);return n.jsx(Y1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),DW=Ii("MenuContent.ScrollLock"),Y1=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:g,onDismiss:j,disableOutsideScroll:w,...b}=e,v=qo(ga,r),N=Jd(ga,r),C=Np(r),S=PD(r),A=CW(r),[_,T]=x.useState(null),R=x.useRef(null),D=Nt(t,R,v.onContentChange),k=x.useRef(0),B=x.useRef(""),z=x.useRef(0),G=x.useRef(null),W=x.useRef("right"),Z=x.useRef(0),$=w?Qd:x.Fragment,M=w?{as:DW,allowPinchZoom:!0}:void 0,I=H=>{const V=B.current+H,q=A().filter(K=>!K.disabled),F=document.activeElement,L=q.find(K=>K.ref.current===F)?.textValue,Y=q.map(K=>K.textValue),ee=GW(Y,V,L),ce=q.find(K=>K.textValue===ee)?.ref.current;(function K(fe){B.current=fe,window.clearTimeout(k.current),fe!==""&&(k.current=window.setTimeout(()=>K(""),1e3))})(V),ce&&setTimeout(()=>ce.focus())};x.useEffect(()=>()=>window.clearTimeout(k.current),[]),fp();const O=x.useCallback(H=>W.current===G.current?.side&&YW(H,G.current?.area),[]);return n.jsx(kW,{scope:r,searchRef:B,onItemEnter:x.useCallback(H=>{O(H)&&H.preventDefault()},[O]),onItemLeave:x.useCallback(H=>{O(H)||(R.current?.focus(),T(null))},[O]),onTriggerLeave:x.useCallback(H=>{O(H)&&H.preventDefault()},[O]),pointerGraceTimerRef:z,onPointerGraceIntentChange:x.useCallback(H=>{G.current=H},[]),children:n.jsx($,{...M,children:n.jsx(Gd,{asChild:!0,trapped:s,onMountAutoFocus:Be(i,H=>{H.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:n.jsx(wc,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:g,onDismiss:j,children:n.jsx(xD,{asChild:!0,...S,dir:N.dir,orientation:"vertical",loop:a,currentTabStopId:_,onCurrentTabStopIdChange:T,onEntryFocus:Be(d,H=>{N.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(xp,{role:"menu","aria-orientation":"vertical","data-state":XD(v.open),"data-radix-menu-content":"",dir:N.dir,...C,...b,ref:D,style:{outline:"none",...b.style},onKeyDown:Be(b.onKeyDown,H=>{const q=H.target.closest("[data-radix-menu-content]")===H.currentTarget,F=H.ctrlKey||H.altKey||H.metaKey,L=H.key.length===1;q&&(H.key==="Tab"&&H.preventDefault(),!F&&L&&I(H.key));const Y=R.current;if(H.target!==Y||!NW.includes(H.key))return;H.preventDefault();const ce=A().filter(K=>!K.disabled).map(K=>K.ref.current);TD.includes(H.key)&&ce.reverse(),VW(ce)}),onBlur:Be(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(k.current),B.current="")}),onPointerMove:Be(e.onPointerMove,nd(H=>{const V=H.target,q=Z.current!==H.clientX;if(H.currentTarget.contains(V)&&q){const F=H.clientX>Z.current?"right":"left";W.current=F,Z.current=H.clientX}}))})})})})})})});OD.displayName=ga;var MW="MenuGroup",X1=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(it.div,{role:"group",...a,ref:t})});X1.displayName=MW;var $W="MenuLabel",DD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(it.div,{...a,ref:t})});DD.displayName=$W;var sm="MenuItem",s2="menu.itemSelect",Sp=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...s}=e,i=x.useRef(null),l=Jd(sm,e.__scopeMenu),u=K1(sm,e.__scopeMenu),d=Nt(t,i),f=x.useRef(!1),m=()=>{const h=i.current;if(!r&&h){const g=new CustomEvent(s2,{bubbles:!0,cancelable:!0});h.addEventListener(s2,j=>a?.(j),{once:!0}),IO(h,g),g.defaultPrevented?f.current=!1:l.onClose()}};return n.jsx(MD,{...s,ref:d,disabled:r,onClick:Be(e.onClick,m),onPointerDown:h=>{e.onPointerDown?.(h),f.current=!0},onPointerUp:Be(e.onPointerUp,h=>{f.current||h.currentTarget?.click()}),onKeyDown:Be(e.onKeyDown,h=>{const g=u.searchRef.current!=="";r||g&&h.key===" "||ew.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Sp.displayName=sm;var MD=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:s,...i}=e,l=K1(sm,r),u=PD(r),d=x.useRef(null),f=Nt(t,d),[m,h]=x.useState(!1),[g,j]=x.useState("");return x.useEffect(()=>{const w=d.current;w&&j((w.textContent??"").trim())},[i.children]),n.jsx(rd.ItemSlot,{scope:r,disabled:a,textValue:s??g,children:n.jsx(yD,{asChild:!0,...u,focusable:!a,children:n.jsx(it.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:f,onPointerMove:Be(e.onPointerMove,nd(w=>{a?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Be(e.onPointerLeave,nd(w=>l.onItemLeave(w))),onFocus:Be(e.onFocus,()=>h(!0)),onBlur:Be(e.onBlur,()=>h(!1))})})})}),LW="MenuCheckboxItem",$D=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...s}=e;return n.jsx(zD,{scope:e.__scopeMenu,checked:r,children:n.jsx(Sp,{role:"menuitemcheckbox","aria-checked":im(r)?"mixed":r,...s,ref:t,"data-state":Z1(r),onSelect:Be(s.onSelect,()=>a?.(im(r)?!0:!r),{checkForDefaultPrevented:!1})})})});$D.displayName=LW;var LD="MenuRadioGroup",[FW,UW]=zo(LD,{value:void 0,onValueChange:()=>{}}),FD=x.forwardRef((e,t)=>{const{value:r,onValueChange:a,...s}=e,i=ls(a);return n.jsx(FW,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(X1,{...s,ref:t})})});FD.displayName=LD;var UD="MenuRadioItem",BD=x.forwardRef((e,t)=>{const{value:r,...a}=e,s=UW(UD,e.__scopeMenu),i=r===s.value;return n.jsx(zD,{scope:e.__scopeMenu,checked:i,children:n.jsx(Sp,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":Z1(i),onSelect:Be(a.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});BD.displayName=UD;var Q1="MenuItemIndicator",[zD,BW]=zo(Q1,{checked:!1}),qD=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...s}=e,i=BW(Q1,r);return n.jsx(Dn,{present:a||im(i.checked)||i.checked===!0,children:n.jsx(it.span,{...s,ref:t,"data-state":Z1(i.checked)})})});qD.displayName=Q1;var zW="MenuSeparator",WD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(it.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});WD.displayName=zW;var qW="MenuArrow",VD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,s=Np(r);return n.jsx(yp,{...s,...a,ref:t})});VD.displayName=qW;var WW="MenuSub",[upe,HD]=zo(WW),Lu="MenuSubTrigger",GD=x.forwardRef((e,t)=>{const r=qo(Lu,e.__scopeMenu),a=Jd(Lu,e.__scopeMenu),s=HD(Lu,e.__scopeMenu),i=K1(Lu,e.__scopeMenu),l=x.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=i,f={__scopeMenu:e.__scopeMenu},m=x.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return x.useEffect(()=>m,[m]),x.useEffect(()=>{const h=u.current;return()=>{window.clearTimeout(h),d(null)}},[u,d]),n.jsx(H1,{asChild:!0,...f,children:n.jsx(MD,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":XD(r.open),...e,ref:$s(t,s.onTriggerChange),onClick:h=>{e.onClick?.(h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Be(e.onPointerMove,nd(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:Be(e.onPointerLeave,nd(h=>{m();const g=r.content?.getBoundingClientRect();if(g){const j=r.content?.dataset.side,w=j==="right",b=w?-5:5,v=g[w?"left":"right"],N=g[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:v,y:g.top},{x:N,y:g.top},{x:N,y:g.bottom},{x:v,y:g.bottom}],side:j}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Be(e.onKeyDown,h=>{const g=i.searchRef.current!=="";e.disabled||g&&h.key===" "||SW[a.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});GD.displayName=Lu;var KD="MenuSubContent",YD=x.forwardRef((e,t)=>{const r=kD(ga,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=qo(ga,e.__scopeMenu),l=Jd(ga,e.__scopeMenu),u=HD(KD,e.__scopeMenu),d=x.useRef(null),f=Nt(t,d);return n.jsx(rd.Provider,{scope:e.__scopeMenu,children:n.jsx(Dn,{present:a||i.open,children:n.jsx(rd.Slot,{scope:e.__scopeMenu,children:n.jsx(Y1,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{l.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Be(e.onFocusOutside,m=>{m.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Be(e.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:Be(e.onKeyDown,m=>{const h=m.currentTarget.contains(m.target),g=_W[l.dir].includes(m.key);h&&g&&(i.onOpenChange(!1),u.trigger?.focus(),m.preventDefault())})})})})})});YD.displayName=KD;function XD(e){return e?"open":"closed"}function im(e){return e==="indeterminate"}function Z1(e){return im(e)?"indeterminate":e?"checked":"unchecked"}function VW(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function HW(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function GW(e,t,r){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let l=HW(e,Math.max(i,0));s.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function KW(e,t){const{x:r,y:a}=e;let s=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const u=t[i],d=t[l],f=u.x,m=u.y,h=d.x,g=d.y;m>a!=g>a&&r<(h-f)*(a-m)/(g-m)+f&&(s=!s)}return s}function YW(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return KW(r,t)}function nd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var XW=RD,QW=H1,ZW=ID,JW=OD,eV=X1,tV=DD,rV=Sp,nV=$D,aV=FD,sV=BD,iV=qD,oV=WD,lV=VD,cV=GD,uV=YD,_p="DropdownMenu",[dV,dpe]=On(_p,[AD]),Nn=AD(),[fV,QD]=dV(_p),ZD=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=e,d=Nn(t),f=x.useRef(null),[m,h]=os({prop:s,defaultProp:i??!1,onChange:l,caller:_p});return n.jsx(fV,{scope:t,triggerId:zr(),triggerRef:f,contentId:zr(),open:m,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(g=>!g),[h]),modal:u,children:n.jsx(XW,{...d,open:m,onOpenChange:h,dir:a,modal:u,children:r})})};ZD.displayName=_p;var JD="DropdownMenuTrigger",eM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...s}=e,i=QD(JD,r),l=Nn(r);return n.jsx(QW,{asChild:!0,...l,children:n.jsx(it.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:$s(t,i.triggerRef),onPointerDown:Be(e.onPointerDown,u=>{!a&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:Be(e.onKeyDown,u=>{a||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});eM.displayName=JD;var hV="DropdownMenuPortal",tM=e=>{const{__scopeDropdownMenu:t,...r}=e,a=Nn(t);return n.jsx(ZW,{...a,...r})};tM.displayName=hV;var rM="DropdownMenuContent",nM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=QD(rM,r),i=Nn(r),l=x.useRef(!1);return n.jsx(JW,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:t,onCloseAutoFocus:Be(e.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Be(e.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;(!s.modal||m)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nM.displayName=rM;var mV="DropdownMenuGroup",pV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Nn(r);return n.jsx(eV,{...s,...a,ref:t})});pV.displayName=mV;var gV="DropdownMenuLabel",vV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Nn(r);return n.jsx(tV,{...s,...a,ref:t})});vV.displayName=gV;var xV="DropdownMenuItem",aM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Nn(r);return n.jsx(rV,{...s,...a,ref:t})});aM.displayName=xV;var yV="DropdownMenuCheckboxItem",bV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Nn(r);return n.jsx(nV,{...s,...a,ref:t})});bV.displayName=yV;var jV="DropdownMenuRadioGroup",wV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Nn(r);return n.jsx(aV,{...s,...a,ref:t})});wV.displayName=jV;var NV="DropdownMenuRadioItem",SV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Nn(r);return n.jsx(sV,{...s,...a,ref:t})});SV.displayName=NV;var _V="DropdownMenuItemIndicator",CV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Nn(r);return n.jsx(iV,{...s,...a,ref:t})});CV.displayName=_V;var EV="DropdownMenuSeparator",TV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Nn(r);return n.jsx(oV,{...s,...a,ref:t})});TV.displayName=EV;var AV="DropdownMenuArrow",PV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Nn(r);return n.jsx(lV,{...s,...a,ref:t})});PV.displayName=AV;var RV="DropdownMenuSubTrigger",kV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Nn(r);return n.jsx(cV,{...s,...a,ref:t})});kV.displayName=RV;var IV="DropdownMenuSubContent",OV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=Nn(r);return n.jsx(uV,{...s,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OV.displayName=IV;var DV=ZD,MV=eM,$V=tM,LV=nM,FV=aM;function tw({...e}){return n.jsx(DV,{"data-slot":"dropdown-menu",...e})}function rw({...e}){return n.jsx(MV,{"data-slot":"dropdown-menu-trigger",...e})}function nw({className:e,sideOffset:t=4,...r}){return n.jsx($V,{children:n.jsx(LV,{"data-slot":"dropdown-menu-content",sideOffset:t,className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function yo({className:e,inset:t,variant:r="default",...a}){return n.jsx(FV,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:We("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}const wx={executor:"",registrar:"",sub_registrar:"-",distributor:"",treasurer:"",admin:""},i2={executor:"bg-blue-100 text-blue-800",registrar:"bg-green-100 text-green-800",sub_registrar:"bg-emerald-100 text-emerald-800",distributor:"bg-purple-100 text-purple-800",treasurer:"bg-orange-100 text-orange-800",admin:"bg-red-100 text-red-800"};function UV({currentRole:e,onRoleChange:t,userName:r,onLogout:a}){const[s]=x.useState(3);return n.jsx("header",{className:"border-b bg-white px-4 py-3 md:px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"text-xl font-medium",children:""}),n.jsx(je,{className:`${i2[e]} border-0`,children:wx[e]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(tw,{children:[n.jsx(rw,{asChild:!0,children:n.jsxs(X,{variant:"outline",size:"sm",className:"gap-2",children:[" ",n.jsx(Xa,{className:"h-4 w-4"})]})}),n.jsx(nw,{align:"end",children:Object.keys(wx).map(i=>n.jsx(yo,{onClick:()=>t(i),className:e===i?"bg-accent":"",children:n.jsx(je,{className:`${i2[i]} border-0 mr-2`,variant:"secondary",children:wx[i]})},i))})]}),n.jsxs(X,{variant:"ghost",size:"sm",className:"relative",children:[n.jsx($O,{className:"h-4 w-4"}),s>0&&n.jsx(je,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-red-500 text-white",children:s})]}),n.jsxs(tw,{children:[n.jsx(rw,{asChild:!0,children:n.jsxs(X,{variant:"ghost",size:"sm",className:"gap-2",children:[n.jsx(Po,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden md:inline",children:r}),n.jsx(Xa,{className:"h-4 w-4"})]})}),n.jsxs(nw,{align:"end",children:[n.jsxs(yo,{children:[n.jsx(Hd,{className:"h-4 w-4 mr-2"}),""]}),n.jsx(yo,{onClick:a,children:""})]})]})]})]})})}function BV(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const zV=e=>{switch(e){case"success":return VV;case"info":return GV;case"warning":return HV;case"error":return KV;default:return null}},qV=Array(12).fill(0),WV=({visible:e,className:t})=>Q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Q.createElement("div",{className:"sonner-spinner"},qV.map((r,a)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),VV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),HV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),GV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),XV=()=>{const[e,t]=Q.useState(document.hidden);return Q.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let aw=1;class QV{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:a,...s}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:aw++,l=this.toasts.find(d=>d.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:a}),{...d,...t,id:i,dismissible:u,title:a}):d):this.addToast({title:a,...s,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(a=>a({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let a;r.loading!==void 0&&(a=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=a!==void 0,l;const u=s.then(async f=>{if(l=["resolve",f],Q.isValidElement(f))i=!1,this.create({id:a,type:"default",message:f});else if(JV(f)&&!f.ok){i=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,w=typeof h=="object"&&!Q.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:g,...w})}else if(f instanceof Error){i=!1;const h=typeof r.error=="function"?await r.error(f):r.error,g=typeof r.description=="function"?await r.description(f):r.description,w=typeof h=="object"&&!Q.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:g,...w})}else if(r.success!==void 0){i=!1;const h=typeof r.success=="function"?await r.success(f):r.success,g=typeof r.description=="function"?await r.description(f):r.description,w=typeof h=="object"&&!Q.isValidElement(h)?h:{message:h};this.create({id:a,type:"success",description:g,...w})}}).catch(async f=>{if(l=["reject",f],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(f):r.error,h=typeof r.description=="function"?await r.description(f):r.description,j=typeof m=="object"&&!Q.isValidElement(m)?m:{message:m};this.create({id:a,type:"error",description:h,...j})}}).finally(()=>{i&&(this.dismiss(a),a=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,m)=>u.then(()=>l[0]==="reject"?m(l[1]):f(l[1])).catch(m));return typeof a!="string"&&typeof a!="number"?{unwrap:d}:Object.assign(a,{unwrap:d})},this.custom=(t,r)=>{const a=r?.id||aw++;return this.create({jsx:t(a),id:a,...r}),a},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const kn=new QV,ZV=(e,t)=>{const r=t?.id||aw++;return kn.addToast({title:e,...t,id:r}),r},JV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",e7=ZV,t7=()=>kn.toasts,r7=()=>kn.getActiveToasts(),we=Object.assign(e7,{success:kn.success,info:kn.info,warning:kn.warning,error:kn.error,custom:kn.custom,message:kn.message,promise:kn.promise,dismiss:kn.dismiss,loading:kn.loading},{getHistory:t7,getToasts:r7});BV("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Rh(e){return e.label!==void 0}const n7=3,a7="24px",s7="16px",o2=4e3,i7=356,o7=14,l7=45,c7=200;function Ga(...e){return e.filter(Boolean).join(" ")}function u7(e){const[t,r]=e.split("-"),a=[];return t&&a.push(t),r&&a.push(r),a}const d7=e=>{var t,r,a,s,i,l,u,d,f;const{invert:m,toast:h,unstyled:g,interacting:j,setHeights:w,visibleToasts:b,heights:v,index:N,toasts:C,expanded:S,removeToast:A,defaultRichColors:_,closeButton:T,style:R,cancelButtonStyle:D,actionButtonStyle:k,className:B="",descriptionClassName:z="",duration:G,position:W,gap:Z,expandByDefault:$,classNames:M,icons:I,closeButtonAriaLabel:O="Close toast"}=e,[H,V]=Q.useState(null),[q,F]=Q.useState(null),[L,Y]=Q.useState(!1),[ee,ce]=Q.useState(!1),[K,fe]=Q.useState(!1),[oe,Ee]=Q.useState(!1),[De,re]=Q.useState(!1),[le,ge]=Q.useState(0),[Fe,Xe]=Q.useState(0),lt=Q.useRef(h.duration||G||o2),wt=Q.useRef(null),te=Q.useRef(null),se=N===0,Le=N+1<=b,st=h.type,Lt=h.dismissible!==!1,Zr=h.className||"",ve=h.descriptionClassName||"",Qe=Q.useMemo(()=>v.findIndex(vt=>vt.toastId===h.id)||0,[v,h.id]),nr=Q.useMemo(()=>{var vt;return(vt=h.closeButton)!=null?vt:T},[h.closeButton,T]),$n=Q.useMemo(()=>h.duration||G||o2,[h.duration,G]),Ks=Q.useRef(0),Sn=Q.useRef(0),Ba=Q.useRef(0),ta=Q.useRef(null),[Yo,de]=W.split("-"),Ue=Q.useMemo(()=>v.reduce((vt,cr,br)=>br>=Qe?vt:vt+cr.height,0),[v,Qe]),hr=XV(),ms=h.invert||m,Qi=st==="loading";Sn.current=Q.useMemo(()=>Qe*Z+Ue,[Qe,Ue]),Q.useEffect(()=>{lt.current=$n},[$n]),Q.useEffect(()=>{Y(!0)},[]),Q.useEffect(()=>{const vt=te.current;if(vt){const cr=vt.getBoundingClientRect().height;return Xe(cr),w(br=>[{toastId:h.id,height:cr,position:h.position},...br]),()=>w(br=>br.filter(Jr=>Jr.toastId!==h.id))}},[w,h.id]),Q.useLayoutEffect(()=>{if(!L)return;const vt=te.current,cr=vt.style.height;vt.style.height="auto";const br=vt.getBoundingClientRect().height;vt.style.height=cr,Xe(br),w(Jr=>Jr.find(mr=>mr.toastId===h.id)?Jr.map(mr=>mr.toastId===h.id?{...mr,height:br}:mr):[{toastId:h.id,height:br,position:h.position},...Jr])},[L,h.title,h.description,w,h.id,h.jsx,h.action,h.cancel]);const ra=Q.useCallback(()=>{ce(!0),ge(Sn.current),w(vt=>vt.filter(cr=>cr.toastId!==h.id)),setTimeout(()=>{A(h)},c7)},[h,A,w,Sn]);Q.useEffect(()=>{if(h.promise&&st==="loading"||h.duration===1/0||h.type==="loading")return;let vt;return S||j||hr?(()=>{if(Ba.current<Ks.current){const Jr=new Date().getTime()-Ks.current;lt.current=lt.current-Jr}Ba.current=new Date().getTime()})():(()=>{lt.current!==1/0&&(Ks.current=new Date().getTime(),vt=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),ra()},lt.current))})(),()=>clearTimeout(vt)},[S,j,h,st,hr,ra]),Q.useEffect(()=>{h.delete&&(ra(),h.onDismiss==null||h.onDismiss.call(h,h))},[ra,h.delete]);function $c(){var vt;if(I?.loading){var cr;return Q.createElement("div",{className:Ga(M?.loader,h==null||(cr=h.classNames)==null?void 0:cr.loader,"sonner-loader"),"data-visible":st==="loading"},I.loading)}return Q.createElement(WV,{className:Ga(M?.loader,h==null||(vt=h.classNames)==null?void 0:vt.loader),visible:st==="loading"})}const Ys=h.icon||I?.[st]||zV(st);var ps,Lc;return Q.createElement("li",{tabIndex:0,ref:te,className:Ga(B,Zr,M?.toast,h==null||(t=h.classNames)==null?void 0:t.toast,M?.default,M?.[st],h==null||(r=h.classNames)==null?void 0:r[st]),"data-sonner-toast":"","data-rich-colors":(ps=h.richColors)!=null?ps:_,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":L,"data-promise":!!h.promise,"data-swiped":De,"data-removed":ee,"data-visible":Le,"data-y-position":Yo,"data-x-position":de,"data-index":N,"data-front":se,"data-swiping":K,"data-dismissible":Lt,"data-type":st,"data-invert":ms,"data-swipe-out":oe,"data-swipe-direction":q,"data-expanded":!!(S||$&&L),"data-testid":h.testId,style:{"--index":N,"--toasts-before":N,"--z-index":C.length-N,"--offset":`${ee?le:Sn.current}px`,"--initial-height":$?"auto":`${Fe}px`,...R,...h.style},onDragEnd:()=>{fe(!1),V(null),ta.current=null},onPointerDown:vt=>{vt.button!==2&&(Qi||!Lt||(wt.current=new Date,ge(Sn.current),vt.target.setPointerCapture(vt.pointerId),vt.target.tagName!=="BUTTON"&&(fe(!0),ta.current={x:vt.clientX,y:vt.clientY})))},onPointerUp:()=>{var vt,cr,br;if(oe||!Lt)return;ta.current=null;const Jr=Number(((vt=te.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xs=Number(((cr=te.current)==null?void 0:cr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mr=new Date().getTime()-((br=wt.current)==null?void 0:br.getTime()),Pr=H==="x"?Jr:Xs,Qs=Math.abs(Pr)/mr;if(Math.abs(Pr)>=l7||Qs>.11){ge(Sn.current),h.onDismiss==null||h.onDismiss.call(h,h),F(H==="x"?Jr>0?"right":"left":Xs>0?"down":"up"),ra(),Ee(!0);return}else{var Wr,Ln;(Wr=te.current)==null||Wr.style.setProperty("--swipe-amount-x","0px"),(Ln=te.current)==null||Ln.style.setProperty("--swipe-amount-y","0px")}re(!1),fe(!1),V(null)},onPointerMove:vt=>{var cr,br,Jr;if(!ta.current||!Lt||((cr=window.getSelection())==null?void 0:cr.toString().length)>0)return;const mr=vt.clientY-ta.current.y,Pr=vt.clientX-ta.current.x;var Qs;const Wr=(Qs=e.swipeDirections)!=null?Qs:u7(W);!H&&(Math.abs(Pr)>1||Math.abs(mr)>1)&&V(Math.abs(Pr)>Math.abs(mr)?"x":"y");let Ln={x:0,y:0};const Zs=na=>1/(1.5+Math.abs(na)/20);if(H==="y"){if(Wr.includes("top")||Wr.includes("bottom"))if(Wr.includes("top")&&mr<0||Wr.includes("bottom")&&mr>0)Ln.y=mr;else{const na=mr*Zs(mr);Ln.y=Math.abs(na)<Math.abs(mr)?na:mr}}else if(H==="x"&&(Wr.includes("left")||Wr.includes("right")))if(Wr.includes("left")&&Pr<0||Wr.includes("right")&&Pr>0)Ln.x=Pr;else{const na=Pr*Zs(Pr);Ln.x=Math.abs(na)<Math.abs(Pr)?na:Pr}(Math.abs(Ln.x)>0||Math.abs(Ln.y)>0)&&re(!0),(br=te.current)==null||br.style.setProperty("--swipe-amount-x",`${Ln.x}px`),(Jr=te.current)==null||Jr.style.setProperty("--swipe-amount-y",`${Ln.y}px`)}},nr&&!h.jsx&&st!=="loading"?Q.createElement("button",{"aria-label":O,"data-disabled":Qi,"data-close-button":!0,onClick:Qi||!Lt?()=>{}:()=>{ra(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Ga(M?.closeButton,h==null||(a=h.classNames)==null?void 0:a.closeButton)},(Lc=I?.close)!=null?Lc:YV):null,(st||h.icon||h.promise)&&h.icon!==null&&(I?.[st]!==null||h.icon)?Q.createElement("div",{"data-icon":"",className:Ga(M?.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||$c():null,h.type!=="loading"?Ys:null):null,Q.createElement("div",{"data-content":"",className:Ga(M?.content,h==null||(i=h.classNames)==null?void 0:i.content)},Q.createElement("div",{"data-title":"",className:Ga(M?.title,h==null||(l=h.classNames)==null?void 0:l.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?Q.createElement("div",{"data-description":"",className:Ga(z,ve,M?.description,h==null||(u=h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),Q.isValidElement(h.cancel)?h.cancel:h.cancel&&Rh(h.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||D,onClick:vt=>{Rh(h.cancel)&&Lt&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,vt),ra())},className:Ga(M?.cancelButton,h==null||(d=h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,Q.isValidElement(h.action)?h.action:h.action&&Rh(h.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||k,onClick:vt=>{Rh(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,vt),!vt.defaultPrevented&&ra())},className:Ga(M?.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function l2(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function f7(e,t){const r={};return[e,t].forEach((a,s)=>{const i=s===1,l=i?"--mobile-offset":"--offset",u=i?s7:a7;function d(f){["top","right","bottom","left"].forEach(m=>{r[`${l}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof a=="number"||typeof a=="string"?d(a):typeof a=="object"?["top","right","bottom","left"].forEach(f=>{a[f]===void 0?r[`${l}-${f}`]=u:r[`${l}-${f}`]=typeof a[f]=="number"?`${a[f]}px`:a[f]}):d(u)}),r}const h7=Q.forwardRef(function(t,r){const{id:a,invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:d,className:f,offset:m,mobileOffset:h,theme:g="light",richColors:j,duration:w,style:b,visibleToasts:v=n7,toastOptions:N,dir:C=l2(),gap:S=o7,icons:A,containerAriaLabel:_="Notifications"}=t,[T,R]=Q.useState([]),D=Q.useMemo(()=>a?T.filter(L=>L.toasterId===a):T.filter(L=>!L.toasterId),[T,a]),k=Q.useMemo(()=>Array.from(new Set([i].concat(D.filter(L=>L.position).map(L=>L.position)))),[D,i]),[B,z]=Q.useState([]),[G,W]=Q.useState(!1),[Z,$]=Q.useState(!1),[M,I]=Q.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=Q.useRef(null),H=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=Q.useRef(null),q=Q.useRef(!1),F=Q.useCallback(L=>{R(Y=>{var ee;return(ee=Y.find(ce=>ce.id===L.id))!=null&&ee.delete||kn.dismiss(L.id),Y.filter(({id:ce})=>ce!==L.id)})},[]);return Q.useEffect(()=>kn.subscribe(L=>{if(L.dismiss){requestAnimationFrame(()=>{R(Y=>Y.map(ee=>ee.id===L.id?{...ee,delete:!0}:ee))});return}setTimeout(()=>{kO.flushSync(()=>{R(Y=>{const ee=Y.findIndex(ce=>ce.id===L.id);return ee!==-1?[...Y.slice(0,ee),{...Y[ee],...L},...Y.slice(ee+1)]:[L,...Y]})})})}),[T]),Q.useEffect(()=>{if(g!=="system"){I(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;const L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:Y})=>{I(Y?"dark":"light")})}catch{L.addListener(({matches:ee})=>{try{I(ee?"dark":"light")}catch(ce){console.error(ce)}})}},[g]),Q.useEffect(()=>{T.length<=1&&W(!1)},[T]),Q.useEffect(()=>{const L=Y=>{var ee;if(l.every(fe=>Y[fe]||Y.code===fe)){var K;W(!0),(K=O.current)==null||K.focus()}Y.code==="Escape"&&(document.activeElement===O.current||(ee=O.current)!=null&&ee.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[l]),Q.useEffect(()=>{if(O.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,q.current=!1)}},[O.current]),Q.createElement("section",{ref:r,"aria-label":`${_} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((L,Y)=>{var ee;const[ce,K]=L.split("-");return D.length?Q.createElement("ol",{key:L,dir:C==="auto"?l2():C,tabIndex:-1,ref:O,className:f,"data-sonner-toaster":!0,"data-sonner-theme":M,"data-y-position":ce,"data-x-position":K,style:{"--front-toast-height":`${((ee=B[0])==null?void 0:ee.height)||0}px`,"--width":`${i7}px`,"--gap":`${S}px`,...b,...f7(m,h)},onBlur:fe=>{q.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(q.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||q.current||(q.current=!0,V.current=fe.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{Z||W(!1)},onDragEnd:()=>W(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},D.filter(fe=>!fe.position&&Y===0||fe.position===L).map((fe,oe)=>{var Ee,De;return Q.createElement(d7,{key:fe.id,icons:A,index:oe,toast:fe,defaultRichColors:j,duration:(Ee=N?.duration)!=null?Ee:w,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:s,visibleToasts:v,closeButton:(De=N?.closeButton)!=null?De:d,interacting:Z,position:L,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:F,toasts:D.filter(re=>re.position==fe.position),heights:B.filter(re=>re.position==fe.position),setHeights:z,expandByDefault:u,gap:S,expanded:G,swipeDirections:t.swipeDirections})})):null}))}),Ti={DRAFT:"draft",SUBMITTED:"submitted",REGISTERED:"classified",APPROVED:"approved",APPROVED_ON_BEHALF:"approved-on-behalf",TO_PAY:"to-pay",IN_REGISTRY:"in-register",APPROVED_FOR_PAYMENT:"approved-for-payment",PAID_FULL:"paid-full",PAID_PARTIAL:"paid-partial",REJECTED:"rejected",DECLINED:"declined",RETURNED:"returned",CANCELLED:"cancelled"},sM=e=>Ti[e]||e.toLowerCase(),Nx=e=>({draft:"",submitted:" ",classified:"",approved:"","approved-on-behalf":"  ","to-pay":" ","in-register":" ","approved-for-payment":"  ","paid-full":" ","paid-partial":" ",rejected:"",declined:"",returned:"",cancelled:""})[e]||"",Ka=e=>{let t=e.vat_rate;if(!t&&e.lines&&e.lines.length>0){const r=e.lines[0];r.vat_rate_id&&(t=r.vat_rate_id)}return{id:e.id,requestNumber:e.number,createdAt:e.created_at||"",updatedAt:e.updated_at,dueDate:e.due_date,counterpartyId:e.counterparty_id,counterpartyCategory:e.counterparty_category,payingCompany:e.paying_company,amount:e.amount_total,currency:e.currency_code,vatRate:t,docNumber:e.doc_number,docDate:e.doc_date,docType:e.doc_type,docFileUrl:e.files?.[0]?.url,fileName:e.files?.[0]?.name,files:e.files||[],description:e.title,expenseCategory:e.expense_article_text,productService:e.product_service,volume:e.volume,priceRate:e.price_rate,period:e.period,status:sM(e.status),history:[],createdBy:e.created_by_user_id,expenseSplits:[],paymentAllocations:[],paymentExecution:void 0,attachments:e.files||[]}},m7=e=>({id:e.id,requestNumber:e.number,createdAt:e.created_at||"",updatedAt:e.updated_at,dueDate:e.due_date,counterpartyId:e.counterparty_id,counterpartyCategory:e.counterparty_category,payingCompany:e.paying_company,amount:e.amount_total,currency:e.currency_code,vatRate:e.vat_rate,docNumber:e.doc_number,docDate:e.doc_date,docType:e.doc_type,docFileUrl:e.files?.[0]?.url,fileName:e.files?.[0]?.name,files:e.files||[],description:e.title,expenseCategory:e.expense_article_text,productService:e.product_service,volume:e.volume,priceRate:e.price_rate,period:e.period,status:sM(e.status),history:[],createdBy:e.created_by_user_id,expenseSplits:[],paymentAllocations:[],paymentExecution:void 0,attachments:e.files||[]}),sw=e=>({totalRequests:e.total_requests,draftCount:e.draft,submittedCount:e.submitted,classifiedCount:e.classified,approvedCount:e.approved,inRegistryCount:e.in_registry,paidFullCount:e.paid_full,paidPartialCount:e.paid_partial,rejectedCount:e.rejected,totalAmount:e.total_amount,totalVat:e.total_vat}),p7=e=>({id:e.id,requestId:e.request_id,eventType:e.event_type,createdAt:e.created_at,createdByUserId:e.created_by_user_id,comment:e.comment,data:e.data}),g7=e=>e.map(m7);class ot{static async getAll(t){const r=new URLSearchParams;t?.status&&r.append("status",t.status),t?.role&&r.append("role",t.role),t?.dateFrom&&r.append("dateFrom",t.dateFrom),t?.dateTo&&r.append("dateTo",t.dateTo),t?.responsibleRegistrarId&&r.append("responsible_registrar_id",t.responsibleRegistrarId);const a=`${Je.endpoints.getPaymentRequests}?${r}`,s=await Oe.get(a);try{return g7(s)}catch(i){return console.error("Error normalizing data:",i),console.error("Backend response:",s),[]}}static async getById(t){const r=Je.endpoints.getPaymentRequest.replace(":id",t),a=await Oe.get(r);return Ka(a)}static async create(t){if(t.status==="draft"&&(!t.counterpartyId||!t.dueDate))throw new Error("Cannot create draft without required fields (counterpartyId and dueDate)");const r=await this.mapFrontendToBackend(t),a=await Oe.post(Je.endpoints.createPaymentRequest,r);return Ka(a)}static async update(t,r){const a=await this.mapFrontendToBackend(r),s=Je.endpoints.updatePaymentRequest.replace(":id",t),i=await Oe.put(s,a);return Ka(i)}static async submit(t,r){const a=Je.endpoints.submitRequest.replace(":id",t),s=await Oe.post(a,{comment:r});return Ka(s)}static async classify(t,r,a){const s=Je.endpoints.classifyRequest.replace(":id",t),i=r.map(u=>({article_id:u.expenseItemId,amount:u.amount,comment:u.comment||null})),l=await Oe.post(s,{comment:a||null,expense_splits:i});return Ka(l)}static async approve(t,r,a,s){const i=Je.endpoints.approveRequest.replace(":id",t),l=await Oe.post(i,{comment:s});return Ka(l)}static async updateStatus(t,r,a){const s=Je.endpoints.updatePaymentRequest.replace(":id",t);return Oe.patch(s,{status:r,executionData:a})}static async addToRegistry(t,r){const a=Je.endpoints.addToRegistry.replace(":id",t),s=await Oe.post(a,{comment:r});return Ka(s)}static async returnRequest(t,r){const a=Je.endpoints.rejectRequest.replace(":id",t),s=await Oe.post(a,{comment:r});return Ka(s)}static async sendToDistributor(t,r,a){const s=Je.endpoints.sendToDistributor.replace(":id",t),i=r.map(u=>({article_id:u.expenseItemId,amount:u.amount,comment:u.comment||null})),l=await Oe.post(s,{comment:a||null,expense_splits:i});return Ka(l)}static async distributorAction(t,r,a,s,i){const l=Je.endpoints.distributorAction.replace(":id",t),u=await Oe.post(l,{action:r,comment:a,allocations:s||[],priority:i});return Ka(u)}static getStatusActionLabel(t){switch(t){case"in-register":return"    ";case"approved-for-payment":return"  ";case"paid-full":return" ";case"paid-partial":return" ";case"declined":return"";case"cancelled":return"";default:return" "}}static async getExecutorPositionId(){try{return(await Oe.get("/api/v1/positions")).find(a=>a.title==="")?.id||"27a48e7e-0e8b-4124-95b1-a37e6ae2bbb6"}catch(t){return console.warn("Failed to fetch positions, using fallback ID. This is expected if positions endpoint requires authentication:",t),"27a48e7e-0e8b-4124-95b1-a37e6ae2bbb6"}}static async getDefaultVatRateId(){try{return(await Oe.get("/api/v1/dictionaries/vat-rates")).find(a=>a.rate===0)?.id||"55689349-dfc3-42ce-8f86-e473e2e00477"}catch(t){return console.warn("Failed to fetch VAT rates, using fallback ID:",t),"55689349-dfc3-42ce-8f86-e473e2e00477"}}static async mapFrontendToBackend(t){const r=Number(t.amount)||0;if(t.status!=="draft"&&r<=0)throw new Error("Amount must be greater than 0");const a=[t.expenseCategory&&` : ${t.expenseCategory}`,t.productService&&`/: ${t.productService}`,t.volume&&`: ${t.volume}`,t.priceRate&&`/: ${t.priceRate}`,t.period&&`: ${t.period}`].filter(Boolean).join(", "),[s,i]=await Promise.all([this.getExecutorPositionId(),this.getDefaultVatRateId()]),l=[];if((t.amount!==void 0&&t.amount!==null&&r>0||t.status==="draft")&&l.push({executor_position_id:s,quantity:1,amount_net:r||0,vat_rate_id:i,currency_code:t.currency||"KZT",note:a||" "}),t.status!=="draft"){if(!t.counterpartyId)throw new Error("Counterparty ID is required");if(!t.currency)throw new Error("Currency is required");if(!t.dueDate)throw new Error("Due date is required")}const u={title:a||" ",currency_code:t.currency||"KZT",files:t.files||[],lines:l,counterparty_id:t.counterpartyId,due_date:t.dueDate,amount_total:r,vat_total:0};return t.requestNumber&&(u.number=t.requestNumber),t.expenseCategory&&(u.expense_article_text=t.expenseCategory),t.docNumber&&(u.doc_number=t.docNumber),t.docDate&&(u.doc_date=t.docDate),t.docType&&(u.doc_type=t.docType),t.payingCompany&&(u.paying_company=t.payingCompany),t.counterpartyCategory&&(u.counterparty_category=t.counterpartyCategory),t.vatRate&&(u.vat_rate=t.vatRate),t.productService&&(u.product_service=t.productService),t.volume&&(u.volume=t.volume),t.priceRate&&(u.price_rate=t.priceRate),t.period&&(u.period=t.period),u}static async getStatistics(t,r){const a=new URLSearchParams;t&&a.append("role",t),r&&a.append("user_id",r);const s=`${Je.endpoints.getRequestStatistics}?${a}`,i=await Oe.get(s);return sw(i)}static async getDashboardMetrics(t,r){const a=new URLSearchParams;a.append("role",t),r&&a.append("user_id",r);const s=`${Je.endpoints.getDashboardMetrics}?${a}`,i=await Oe.get(s);return sw(i)}static async getRequestEvents(t){const r=Je.endpoints.getRequestEvents.replace(":id",t);return Oe.get(r)}}class kl{static async getCounterparties(){return Oe.get(Je.endpoints.getCounterparties)}static async getContracts(){return Oe.get(Je.endpoints.getCounterparties)}static async getExpenseItems(){return Oe.get(Je.endpoints.getExpenseArticles)}static async getPriorities(){return Oe.get(Je.endpoints.getPriorities)}static async getNormatives(){return Oe.get(Je.endpoints.getCounterparties)}static async getCurrencies(){return Oe.get(Je.endpoints.getCurrencies)}static async getVatRates(){return Oe.get(Je.endpoints.getVatRates)}}class v7{static async getAll(){return Oe.get(Je.endpoints.getPaymentRegistry)}static async create(t){return Oe.post(Je.endpoints.createRegistryEntry,t)}static async exportExcel(t){const r=Je.endpoints.exportRegisterExcel.replace(":id",t);return Oe.download(r)}static async exportPDF(t){const r=Je.endpoints.exportRegisterPdf.replace(":id",t);return Oe.download(r)}static async downloadDocuments(t){const r=Je.endpoints.downloadDocuments.replace(":id",t);return Oe.download(r)}static async getStatistics(){return Oe.get(Je.endpoints.getRegistryStatistics)}static async getEntries(){return Oe.get(Je.endpoints.getPaymentRegistry)}static async createEntry(t){return Oe.post(Je.endpoints.createRegistryEntry,t)}static async updateEntry(t,r){const a=Je.endpoints.updateRegistryEntry.replace(":id",t);return Oe.put(a,r)}static async deleteEntry(t){const r=Je.endpoints.deleteRegistryEntry.replace(":id",t);return Oe.delete(r)}}class Al{static async getBindings(t){const r=new URLSearchParams;t?.expenseItemId&&r.append("expenseItemId",t.expenseItemId),t?.active!==void 0&&r.append("active",t.active.toString()),t?.date&&r.append("date",t.date);const a=`${Je.endpoints.getDistributorBindings}?${r}`;return Oe.get(a)}static async createBinding(t){return Oe.post(Je.endpoints.createDistributorBinding,t)}static async updateBinding(t,r){const a=Je.endpoints.updateDistributorBinding.replace(":id",t);return Oe.put(a,r)}static async deleteBinding(t){const r=Je.endpoints.deleteDistributorBinding.replace(":id",t);return Oe.delete(r)}static async getContractsByExpenseItem(t,r,a=!0){const s=new URLSearchParams({counterpartyId:t,expenseItemId:r,active:a.toString()}),i=`${Je.endpoints.getCounterparties}?${s}`;return Oe.get(i)}static async getRequestsWithChiefAssignment(t,r=!1){const a=await ot.getAll({role:t,status:"classified"}),s=await this.getBindings({active:!0,date:new Date().toISOString().split("T")[0]});return a.map(i=>{const l=s.find(u=>i.expenseSplits.some(d=>d.expenseItemId===u.expenseItemId));return{...i,isAssignedToChief:!!l,chiefDistributorName:l?" ..":void 0,assignmentReason:l?"   ":void 0}})}}class Qh{static async getContractStatus(t){return await Oe.get(`/api/v1/distribution/contract-status/${t}`)}static async getSubRegistrars(){return await Oe.get("/api/v1/distribution/sub-registrars")}static async classifyRequest(t){const r={request_id:t.requestId,responsible_registrar_id:t.responsibleRegistrarId,expense_splits:t.expenseSplits.map(s=>({expense_item_id:s.expenseItemId,amount:s.amount,comment:s.comment,contract_id:s.contractId,priority:s.priority})),comment:t.comment},a=await fetch(`${API_BASE_URL}/distribution/classify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){const s=await a.json();throw new Error(`Failed to classify request: ${s.detail||a.statusText}`)}return a.json()}static async returnRequest(t){const r={request_id:t.requestId,comment:t.comment},a=await fetch(`${API_BASE_URL}/distribution/return`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){const s=await a.json();throw new Error(`Failed to return request: ${s.detail||a.statusText}`)}return a.json()}static async getExpenseSplits(t){const r=await fetch(`${API_BASE_URL}/distribution/expense-splits/${t}`);if(!r.ok)throw new Error(`Failed to get expense splits: ${r.statusText}`);return r.json()}static async getPendingRequests(t=0,r=100){const a=await fetch(`${API_BASE_URL}/distribution/pending-requests?skip=${t}&limit=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Failed to get pending requests: ${a.statusText}`);return a.json()}static async sendRequestsParallel(t){const r={request_id:t.requestId,sub_registrar_id:t.subRegistrarId,distributor_id:t.distributorId,expense_splits:t.expenseSplits.map(a=>({expense_item_id:a.expenseItemId,amount:a.amount,comment:a.comment,contract_id:a.contractId,priority:a.priority})),comment:t.comment};return t.originalRequestId&&(r.original_request_id=t.originalRequestId),await Oe.post("/api/v1/distribution/send-requests",r)}static async splitRequestByArticles(t){const r=await fetch(`${API_BASE_URL}/distribution/split-request`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t.requestId,sub_registrar_id:t.subRegistrarId,distributor_id:t.distributorId,expense_splits:t.expenseSplits.map(a=>({expense_item_id:a.expenseItemId,amount:a.amount,comment:a.comment,contract_id:a.contractId,priority:a.priority})),comment:t.comment})});if(!r.ok)throw new Error(`Failed to split request: ${r.statusText}`);return r.json()}}const ju="http://localhost:8000/api/v1";class Fu{static async getAssignments(t=0,r=100){const a=await fetch(`${ju}/sub-registrar/assignments?skip=${t}&limit=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Failed to get assignments: ${a.statusText}`);return a.json()}static async getReport(t){const r=await fetch(`${ju}/sub-registrar/reports/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get report: ${r.statusText}`);return r.json()}static async saveDraftReport(t){const r=await fetch(`${ju}/sub-registrar/save-draft`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t.requestId,document_status:t.documentStatus,report_data:t.reportData})});if(!r.ok)throw new Error(`Failed to save draft report: ${r.statusText}`);return r.json()}static async publishReport(t){const r=await fetch(`${ju}/sub-registrar/publish-report`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t})});if(!r.ok)throw new Error(`Failed to publish report: ${r.statusText}`);return r.json()}static async saveClosingDocs(t,r){const a=await fetch(`${ju}/sub-registrar/closing-docs/${t}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw new Error(`Failed to save closing document: ${a.statusText}`)}}const kh="http://localhost:8000/api/v1";class Sx{static async getDistributorRequests(t=0,r=100){const a=await fetch(`${kh}/distributor/requests?skip=${t}&limit=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Failed to get distributor requests: ${a.statusText}`);return a.json()}static async getDistributorRequest(t){const r=await fetch(`${kh}/distributor/requests/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get distributor request: ${r.statusText}`);return r.json()}static async linkExportContract(t,r){const a=await fetch(`${kh}/distributor/requests/${t}/export-contract`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({export_contract_id:r.exportContractId})});if(!a.ok)throw new Error(`Failed to link export contract: ${a.statusText}`);return a.json()}static async getEnrichedRequest(t){const r=await fetch(`${kh}/distributor/requests/${t}/enriched`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get enriched request: ${r.statusText}`);return r.json()}}const wu="http://localhost:8000/api/v1";class Uu{static async getExportContracts(t=0,r=100,a=!0){const s=await fetch(`${wu}/export-contracts/?skip=${t}&limit=${r}&is_active=${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to get export contracts: ${s.statusText}`);return s.json()}static async getExportContract(t){const r=await fetch(`${wu}/export-contracts/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get export contract: ${r.statusText}`);return r.json()}static async createExportContract(t){const r=await fetch(`${wu}/export-contracts/`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({contract_number:t.contractNumber,contract_date:t.contractDate,counterparty_id:t.counterpartyId,amount:t.amount,currency_code:t.currencyCode})});if(!r.ok)throw new Error(`Failed to create export contract: ${r.statusText}`);return r.json()}static async updateExportContract(t,r){const a=await fetch(`${wu}/export-contracts/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({contract_number:r.contractNumber,contract_date:r.contractDate,counterparty_id:r.counterpartyId,amount:r.amount,currency_code:r.currencyCode,is_active:r.isActive})});if(!a.ok)throw new Error(`Failed to update export contract: ${a.statusText}`);return a.json()}static async deleteExportContract(t){const r=await fetch(`${wu}/export-contracts/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to delete export contract: ${r.statusText}`)}}class _o{static notifications=[];static listeners=[];static addNotification(t){const r={...t,id:Math.random().toString(36).substr(2,9),timestamp:new Date};this.notifications.unshift(r),this.notifications.length>50&&(this.notifications=this.notifications.slice(0,50)),this.showToastNotification(r),this.notifyListeners()}static getNotifications(){return[...this.notifications]}static getNotificationsForRole(t){return this.notifications.filter(r=>r.role===t)}static markAsRead(t){this.notifications.find(a=>a.id===t)&&(this.notifications=this.notifications.filter(a=>a.id!==t),this.notifyListeners())}static clearAll(){this.notifications=[],this.notifyListeners()}static subscribe(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}static notifyListeners(){this.listeners.forEach(t=>t([...this.notifications]))}static showToastNotification(t){const r={duration:t.type==="error"?5e3:3e3,action:t.actionRequired?{label:"",onClick:()=>{console.log("Navigate to request:",t.requestId)}}:void 0};switch(t.type){case"success":we.success(t.title,{description:t.message,...r});break;case"error":we.error(t.title,{description:t.message,...r});break;case"warning":we.warning(t.title,{description:t.message,...r});break;default:we.info(t.title,{description:t.message,...r});break}}static notifyRequestDistributed(t,r){this.addNotification({type:"success",title:" ",message:` ${r}    -  `,role:"registrar",requestId:t})}static notifySubRegistrarAssigned(t,r){this.addNotification({type:"info",title:" ",message:`   ${r}  `,role:"sub_registrar",requestId:t,actionRequired:!0})}static notifyDistributorRequestCreated(t,r){this.addNotification({type:"info",title:" ",message:`  ${r}  `,role:"distributor",requestId:t,actionRequired:!0})}static notifyReportPublished(t,r){this.addNotification({type:"success",title:" ",message:`   ${r}      `,role:"sub_registrar",requestId:t}),this.addNotification({type:"info",title:" ",message:` ${r}    -`,role:"distributor",requestId:t,actionRequired:!0})}static notifyExportContractLinked(t,r,a){this.addNotification({type:"success",title:" ",message:` ${r}     ${a}`,role:"distributor",requestId:t})}static notifyWorkflowError(t,r){this.addNotification({type:"error",title:"  ",message:t,role:r})}static notifyWorkflowProgress(t,r){this.addNotification({type:"info",title:"",message:t,role:r})}}class _x{static getWorkflowProgress(t,r,a){const s=this.getWorkflowSteps(),i=this.getCurrentStepIndex(r,a);return{requestId:t,currentStep:s[i]?.id||"unknown",totalSteps:s.length,completedSteps:i,steps:s.map((l,u)=>({...l,status:this.getStepStatus(u,i,r,a),timestamp:u<i?new Date:void 0})),isComplete:i>=s.length-1,canProceed:this.canProceedToNextStep(r,a),nextRole:this.getNextRole(r,a)}}static getWorkflowSteps(){return[{id:"request-creation",name:" ",role:"EXECUTOR",description:"    "},{id:"request-submission",name:" ",role:"EXECUTOR",description:"   "},{id:"request-classification",name:" ",role:"registrar",description:"     "},{id:"request-approval",name:" ",role:"distributor",description:"  "},{id:"request-distribution",name:" ",role:"registrar",description:"    -  "},{id:"document-collection",name:" ",role:"sub_registrar",description:"-   "},{id:"report-publication",name:" ",role:"sub_registrar",description:"-   "},{id:"export-contract-linking",name:" ",role:"distributor",description:"     "},{id:"payment-processing",name:" ",role:"treasurer",description:"  "},{id:"payment-completion",name:" ",role:"treasurer",description:" "}]}static getCurrentStepIndex(t,r){let s={draft:0,submitted:1,classified:2,allocated:2,returned:1,approved:3,"approved-on-behalf":3,"to-pay":3,"in-register":3,"approved-for-payment":3,distributed:4,report_published:6,export_linked:7,"paid-full":9,"paid-partial":8,declined:1,rejected:1,cancelled:0}[t]||0;return r==="distributed"&&t==="distributed"?s=4:r==="report_published"&&t==="report_published"?s=6:r==="export_linked"&&t==="export_linked"&&(s=7),s}static getStepStatus(t,r,a,s){return t<r?"completed":t===r?"in-progress":"pending"}static canProceedToNextStep(t,r){return["submitted","classified","allocated","approved","approved-on-behalf","to-pay","in-register","approved-for-payment","distributed","report_published"].includes(t)}static getNextRole(t,r){return{draft:"EXECUTOR",submitted:"registrar",classified:"distributor",allocated:"distributor",returned:"EXECUTOR",approved:"registrar","approved-on-behalf":"registrar","to-pay":"registrar","in-register":"registrar","approved-for-payment":"registrar",distributed:"sub_registrar",report_published:"distributor",export_linked:"treasurer","paid-full":void 0,"paid-partial":"treasurer",declined:"EXECUTOR",rejected:"EXECUTOR",cancelled:void 0}[t]}static getProgressPercentage(t){return t.totalSteps===0?0:Math.round(t.completedSteps/t.totalSteps*100)}static getEstimatedTimeRemaining(t){t.totalSteps-t.completedSteps;const r={"request-creation":.5,"request-submission":.1,"request-classification":2,"request-approval":4,"request-distribution":.5,"document-collection":24,"report-publication":1,"export-contract-linking":2,"payment-processing":4,"payment-completion":1};let a=0;for(let s=t.completedSteps;s<t.totalSteps;s++){const i=t.steps[s];i&&(a+=r[i.id]||1)}return a<1?" ":a<24?` ${Math.round(a)} `:` ${Math.round(a/24)} `}static getWorkflowBottlenecks(t){const r=[],a=["document-collection","request-approval"],s=t.steps[t.completedSteps];s&&a.includes(s.id)&&r.push(`  "${s.name}"    `);const i=["document-collection","export-contract-linking"];return t.steps.slice(t.completedSteps).filter(u=>i.includes(u.id)).length>0&&r.push("     "),r}}class x7{cache=new Map;defaultTTL=300*1e3;maxSize=1e3;get(t){const r=this.cache.get(t);return r?Date.now()>r.expiresAt?(this.cache.delete(t),null):r.value:null}set(t,r,a,s=[]){this.cache.size>=this.maxSize&&this.evictOldest();const i=Date.now()+(a||this.defaultTTL);this.cache.set(t,{value:r,expiresAt:i,tags:s})}invalidate(t){this.cache.delete(t)}invalidatePattern(t){const r=new RegExp(t);for(const a of this.cache.keys())r.test(a)&&this.cache.delete(a)}invalidateByTags(t){for(const[r,a]of this.cache.entries())t.some(s=>a.tags.includes(s))&&this.cache.delete(r)}clear(){this.cache.clear()}getStats(){const t=Array.from(this.cache.entries()).map(([r,a])=>({key:r,expiresAt:a.expiresAt,tags:a.tags}));return{size:this.cache.size,maxSize:this.maxSize,hitRate:0,entries:t}}evictOldest(){const t=Array.from(this.cache.entries());t.sort((a,s)=>a[1].expiresAt-s[1].expiresAt);const r=Math.ceil(t.length*.1);for(let a=0;a<r;a++)this.cache.delete(t[a][0])}}class qn{static dictionaryItems(t){return`dictionary:${t}:items`}static dictionaryItem(t,r){return`dictionary:${t}:item:${r}`}static dictionarySearch(t,r){return`dictionary:${t}:search:${r}`}static dictionaryFilter(t,r){const a=Object.keys(r).sort().map(s=>`${s}:${r[s]}`).join("|");return`dictionary:${t}:filter:${a}`}static dictionaryStatistics(t){return`dictionary:${t}:statistics`}}const Nu={DICTIONARY:"dictionary",EXPENSE_ITEMS:"expense-articles",COUNTERPARTIES:"counterparties",CURRENCIES:"currencies",VAT_RATES:"vat-rates",SEARCH:"search",FILTER:"filter",STATISTICS:"statistics"};class Cp{createError(t,r,a){return{field:t,message:r,code:a}}validateRequired(t,r){return t==null||t===""?[this.createError(r,`${r} is required`,"REQUIRED")]:[]}validateString(t,r,a,s){const i=[];return typeof t!="string"?(i.push(this.createError(r,`${r} must be a string`,"INVALID_TYPE")),i):(a&&t.length<a&&i.push(this.createError(r,`${r} must be at least ${a} characters`,"MIN_LENGTH")),s&&t.length>s&&i.push(this.createError(r,`${r} must be no more than ${s} characters`,"MAX_LENGTH")),i)}validateEmail(t,r){const a=[];return typeof t!="string"?(a.push(this.createError(r,`${r} must be a string`,"INVALID_TYPE")),a):(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||a.push(this.createError(r,`${r} must be a valid email address`,"INVALID_EMAIL")),a)}validateNumber(t,r,a,s){const i=[];return typeof t!="number"||isNaN(t)?(i.push(this.createError(r,`${r} must be a number`,"INVALID_TYPE")),i):(a!==void 0&&t<a&&i.push(this.createError(r,`${r} must be at least ${a}`,"MIN_VALUE")),s!==void 0&&t>s&&i.push(this.createError(r,`${r} must be no more than ${s}`,"MAX_VALUE")),i)}validateEnum(t,r,a){return a.includes(t)?[]:[this.createError(r,`${r} must be one of: ${a.join(", ")}`,"INVALID_ENUM")]}}class y7 extends Cp{validate(t){const r=[];r.push(...this.validateRequired(t.name,"name")),r.push(...this.validateRequired(t.code,"code")),r.push(...this.validateRequired(t.ownerRole,"ownerRole")),r.push(...this.validateString(t.name,"name",1,255)),r.push(...this.validateString(t.code,"code",3,10)),t.code&&!/^\d{3}$/.test(t.code)&&r.push(this.createError("code","Code must be 3 digits","INVALID_FORMAT"));const a=["EXECUTOR","REGISTRAR","DISTRIBUTOR","TREASURER","ADMIN"];return r.push(...this.validateEnum(t.ownerRole,"ownerRole",a)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"name":return this.validateString(r,"name",1,255);case"code":return typeof r=="string"&&!/^\d{3}$/.test(r)?[this.createError("code","Code must be 3 digits","INVALID_FORMAT")]:this.validateString(r,"code",3,10);case"ownerRole":const a=["EXECUTOR","REGISTRAR","DISTRIBUTOR","TREASURER","ADMIN"];return this.validateEnum(r,"ownerRole",a);default:return[]}}}class b7 extends Cp{validate(t){const r=[];r.push(...this.validateRequired(t.name,"name")),r.push(...this.validateRequired(t.abbreviation,"abbreviation")),r.push(...this.validateRequired(t.binIin,"binIin")),r.push(...this.validateRequired(t.email,"email")),r.push(...this.validateRequired(t.category,"category")),r.push(...this.validateString(t.name,"name",1,255)),r.push(...this.validateString(t.abbreviation,"abbreviation",1,50)),r.push(...this.validateString(t.binIin,"binIin",12,12)),r.push(...this.validateEmail(t.email,"email")),t.binIin&&!/^\d{12}$/.test(t.binIin)&&r.push(this.createError("binIin","BIN/IIN must be 12 digits","INVALID_FORMAT"));const a=[" ",""," ","","/"];return r.push(...this.validateEnum(t.category,"category",a)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"name":return this.validateString(r,"name",1,255);case"email":return this.validateEmail(r,"email");case"binIin":return typeof r=="string"&&!/^\d{12}$/.test(r)?[this.createError("binIin","BIN/IIN must be 12 digits","INVALID_FORMAT")]:this.validateString(r,"binIin",12,12);case"category":const a=[" ",""," ","","/"];return this.validateEnum(r,"category",a);default:return[]}}}class j7 extends Cp{validate(t){const r=[];return r.push(...this.validateRequired(t.rate,"rate")),r.push(...this.validateRequired(t.name,"name")),t.rate!==void 0&&(typeof t.rate!="number"||t.rate<0||t.rate>100)&&r.push({field:"rate",message:"Rate must be a number between 0 and 100",code:"INVALID_RATE"}),r.push(...this.validateString(t.name,"name",1,255)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"rate":return typeof r!="number"||r<0||r>100?[{field:"rate",message:"Rate must be a number between 0 and 100",code:"INVALID_RATE"}]:[];case"name":return this.validateString(r,"name",1,255);default:return[]}}}class w7 extends Cp{validate(t){const r=[];return r.push(...this.validateRequired(t.code,"code")),r.push(...this.validateString(t.code,"code",1,10)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"code":return this.validateString(r,"code",1,10);default:return[]}}}class N7{validators=new Map;constructor(){this.registerValidator("expense-articles",new y7),this.registerValidator("counterparties",new b7),this.registerValidator("vat-rates",new j7),this.registerValidator("currencies",new w7)}registerValidator(t,r){this.validators.set(t,r)}validate(t,r){const a=this.validators.get(t);return a?a.validate(r):{isValid:!1,errors:[{field:"type",message:`No validator found for type: ${t}`,code:"NO_VALIDATOR"}]}}validateField(t,r,a){const s=this.validators.get(t);return s?s.validateField(r,a):[{field:"type",message:`No validator found for type: ${t}`,code:"NO_VALIDATOR"}]}}class wl extends Error{constructor(t,r,a){super(`API Error ${t}: ${r}`),this.status=t,this.statusText=r,this.response=a,this.name="ApiError"}}class S7{baseUrl;authToken=null;timeout=3e4;constructor(t="/api"){this.baseUrl=t}setAuthToken(t){this.authToken=t}getHeaders(){const t={"Content-Type":"application/json"};return this.authToken&&(t.Authorization=`Bearer ${this.authToken}`),t}async request(t,r,a,s){const i=`${this.baseUrl}${r}`,l={method:t,headers:this.getHeaders(),...s};a&&t!=="GET"&&(l.body=JSON.stringify(a));const u=new AbortController,d=setTimeout(()=>u.abort(),this.timeout);try{const f=await fetch(i,{...l,signal:u.signal});if(clearTimeout(d),!f.ok){const m=await f.json().catch(()=>({}));throw new wl(f.status,f.statusText,m)}return f.status===204?{}:await f.json()}catch(f){throw clearTimeout(d),f instanceof wl?f:f.name==="AbortError"?new wl(408,"Request timeout"):new wl(0,f.message||"Network error")}}async get(t){return this.request("GET",t)}async post(t,r){return this.request("POST",t,r)}async put(t,r){return this.request("PUT",t,r)}async delete(t){return this.request("DELETE",t)}async upload(t,r){const a=new FormData;a.append("file",r);const s=`${this.baseUrl}${t}`,i={};this.authToken&&(i.Authorization=`Bearer ${this.authToken}`);const l=await fetch(s,{method:"POST",headers:i,body:a});if(!l.ok){const u=await l.json().catch(()=>({}));throw new wl(l.status,l.statusText,u)}return await l.json()}async download(t,r){const a=`${this.baseUrl}${t}`,s={};this.authToken&&(s.Authorization=`Bearer ${this.authToken}`);const i=await fetch(a,{method:"GET",headers:s,...r});if(!i.ok)throw new wl(i.status,i.statusText);return await i.blob()}}class _7{constructor(t){this.apiClient=t}getExpenseItems=()=>this.apiClient.get("/dictionaries/expense-articles");getExpenseItem=t=>this.apiClient.get(`/dictionaries/expense-articles/${t}`);createExpenseItem=t=>this.apiClient.post("/dictionaries/expense-articles",t);updateExpenseItem=(t,r)=>this.apiClient.put(`/dictionaries/expense-articles/${t}`,r);deleteExpenseItem=t=>this.apiClient.delete(`/dictionaries/expense-articles/${t}`);getCounterparties=async()=>(await this.apiClient.get("/dictionaries/counterparties")).map(r=>({id:r.id,name:r.name,abbreviation:r.name.substring(0,10)+"...",binIin:r.tax_id||"",phone:r.phone||"",email:r.email||"",address:r.address||"",region:r.region||"",category:r.category,isActive:r.is_active,code:r.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}));getCounterparty=async t=>{const r=await this.apiClient.get(`/dictionaries/counterparties/${t}`);return{id:r.id,name:r.name,abbreviation:r.name.substring(0,10)+"...",binIin:r.tax_id||"",phone:r.phone||"",email:r.email||"",address:r.address||"",region:r.region||"",category:r.category,isActive:r.is_active,code:r.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}};createCounterparty=t=>this.apiClient.post("/dictionaries/counterparties",t);updateCounterparty=(t,r)=>this.apiClient.put(`/dictionaries/counterparties/${t}`,r);deleteCounterparty=t=>this.apiClient.delete(`/dictionaries/counterparties/${t}`);getContracts=()=>Promise.resolve([]);getContract=t=>Promise.reject(new Error("Contracts dictionary is not supported"));createContract=t=>Promise.reject(new Error("Contracts dictionary is not supported"));updateContract=(t,r)=>Promise.reject(new Error("Contracts dictionary is not supported"));deleteContract=t=>Promise.reject(new Error("Contracts dictionary is not supported"));getNormatives=()=>Promise.resolve([]);getNormative=t=>Promise.reject(new Error("Normatives dictionary is not supported"));createNormative=t=>Promise.reject(new Error("Normatives dictionary is not supported"));updateNormative=(t,r)=>Promise.reject(new Error("Normatives dictionary is not supported"));deleteNormative=t=>Promise.reject(new Error("Normatives dictionary is not supported"));getPriorities=()=>Promise.resolve([]);getPriority=t=>Promise.reject(new Error("Priorities dictionary is not supported"));createPriority=t=>Promise.reject(new Error("Priorities dictionary is not supported"));updatePriority=(t,r)=>Promise.reject(new Error("Priorities dictionary is not supported"));deletePriority=t=>Promise.reject(new Error("Priorities dictionary is not supported"));getUsers=()=>Promise.resolve([]);getUser=t=>Promise.reject(new Error("Users dictionary is not supported"));createUser=t=>Promise.reject(new Error("Users dictionary is not supported"));updateUser=(t,r)=>Promise.reject(new Error("Users dictionary is not supported"));deleteUser=t=>Promise.reject(new Error("Users dictionary is not supported"));getCurrencies=async()=>(await this.apiClient.get("/dictionaries/currencies")).map(r=>({id:r.code,code:r.code,name:this.getCurrencyName(r.code),scale:r.scale,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}));getCurrency=async t=>{const r=await this.apiClient.get(`/dictionaries/currencies/${t}`);return{id:r.code,code:r.code,name:this.getCurrencyName(r.code),scale:r.scale,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}};getCurrencyName=t=>({KZT:" ",USD:" ",EUR:"",RUB:" ",CNY:" "})[t]||t;getVatRates=()=>this.apiClient.get("/dictionaries/vat-rates");getVatRate=t=>this.apiClient.get(`/dictionaries/vat-rates/${t}`);createVatRate=t=>this.apiClient.post("/dictionaries/vat-rates",t);updateVatRate=(t,r)=>this.apiClient.put(`/dictionaries/vat-rates/${t}`,r);deleteVatRate=t=>this.apiClient.delete(`/dictionaries/vat-rates/${t}`);bulkCreate=(t,r)=>this.apiClient.post(`/dictionaries/${t}/bulk`,{items:r});bulkUpdate=async(t,r)=>{let a=0,s=0;const i=[],l=[];for(const{id:u,data:d}of r)try{let f;t==="counterparties"?f=await this.updateCounterparty(u,d):t==="expense-articles"?f=await this.updateExpenseItem(u,d):t==="vat-rates"&&(f=await this.updateVatRate(u,d)),l.push(f),a++}catch(f){s++,i.push({id:u,error:f instanceof Error?f.message:"Unknown error"})}return{success_count:a,error_count:s,errors:i,updated_items:l}};bulkDelete=async(t,r)=>{let a=0,s=0;const i=[];for(const l of r)try{t==="counterparties"?await this.deleteCounterparty(l):t==="expense-articles"?await this.deleteExpenseItem(l):t==="vat-rates"&&await this.deleteVatRate(l),a++}catch(u){s++,i.push({id:l,error:u instanceof Error?u.message:"Unknown error"})}return{success_count:a,error_count:s,errors:i}};search=async(t,r)=>["counterparties","expense-articles","vat-rates","currencies"].includes(t)?t==="counterparties"?this.apiClient.get(`/dictionaries/counterparties?search=${encodeURIComponent(r)}`):t==="expense-articles"?this.apiClient.get(`/dictionaries/expense-articles?search=${encodeURIComponent(r)}`):t==="vat-rates"?this.apiClient.get(`/dictionaries/vat-rates?search=${encodeURIComponent(r)}`):t==="currencies"?this.apiClient.get("/dictionaries/currencies"):Promise.resolve([]):Promise.resolve([]);filter=async(t,r)=>{if(!["counterparties","expense-articles","vat-rates","currencies"].includes(t))return Promise.resolve([]);const s=new URLSearchParams;r.is_active!==void 0&&s.append("active_only",r.is_active.toString()),r.category&&s.append("category",r.category),r.search&&s.append("search",r.search);const i=s.toString(),l=i?`/dictionaries/${t}?${i}`:`/dictionaries/${t}`;return this.apiClient.get(l)};getStatistics=async t=>{if(!["counterparties","expense-articles","vat-rates","currencies"].includes(t))return{totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0};try{const a=await this.apiClient.get(`/dictionaries/${t}/statistics`);return{totalItems:a.totalItems,activeItems:a.activeItems,inactiveItems:a.inactiveItems,recentlyUpdated:a.recentlyUpdated}}catch(a){console.warn(`Failed to get statistics for ${t}, falling back to mock data:`,a);const s=await this.apiClient.get(`/dictionaries/${t}`);return{totalItems:s.length,activeItems:s.filter(i=>i.is_active).length,inactiveItems:s.filter(i=>!i.is_active).length,recentlyUpdated:0}}};export=(t,r)=>this.apiClient.download(`/dictionaries/export/${t}?format=${r.format||"csv"}&active_only=${r.active_only||!0}`);import=(t,r)=>this.apiClient.upload(`/dictionaries/import?dictionary_type=${t}`,r);getTemplate=t=>this.apiClient.download(`/dictionaries/template/${t}`)}class Ps{static instance;handlers=new Map;cache;validator;api;isOnline=!0;constructor(){this.cache=new x7,this.validator=new N7;const t=new S7("http://localhost:8000/api/v1");this.api=new _7(t),this.initializeHandlers(),this.setupOnlineStatusListener()}static getInstance(){return Ps.instance||(Ps.instance=new Ps),Ps.instance}initializeHandlers(){["expense-articles","counterparties","currencies","vat-rates"].forEach(r=>{const a=this.createHandler(r);this.handlers.set(r,a)})}createHandler(t){return{getItems:()=>this.getItems(t),getItemById:r=>this.getItemById(t,r),createItem:r=>this.createItem(t,r),updateItem:(r,a)=>this.updateItem(t,r,a),deleteItem:r=>this.deleteItem(t,r),validateItem:r=>this.validateItem(t,r),searchItems:r=>this.searchItems(t,r),getItemsByFilter:r=>this.getItemsByFilter(t,r),getStatistics:()=>this.getStatistics(t),bulkCreate:r=>this.bulkCreate(t,r),bulkUpdate:r=>this.bulkUpdate(t,r),bulkDelete:r=>this.bulkDelete(t,r),exportItems:r=>this.exportItems(t,r),importItems:r=>this.importItems(t,r)}}setupOnlineStatusListener(){typeof window<"u"&&(window.addEventListener("online",()=>{this.isOnline=!0,this.syncOfflineChanges()}),window.addEventListener("offline",()=>{this.isOnline=!1}))}getHandler(t){const r=this.handlers.get(t);return r||this.createMockHandler(t)}createMockHandler(t){return{getItems:()=>Promise.resolve([]),getItemById:()=>Promise.resolve(null),createItem:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),updateItem:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),deleteItem:()=>Promise.resolve(!1),validateItem:()=>({isValid:!1,errors:[{field:"type",message:`Dictionary type '${t}' is not supported`}]}),searchItems:()=>Promise.resolve([]),getItemsByFilter:()=>Promise.resolve([]),getStatistics:()=>Promise.resolve({totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0}),bulkCreate:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),bulkUpdate:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),bulkDelete:()=>Promise.resolve({success_count:0,error_count:0,errors:[]}),exportItems:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),importItems:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`))}}async getItems(t){const r=qn.dictionaryItems(t),a=this.cache.get(r);if(a)return a;try{let s;return this.isOnline?s=await this.getApiMethod(t,"getItems")():s=this.getOfflineData(t),this.cache.set(r,s,void 0,[Nu.DICTIONARY,t]),s}catch(s){return console.error(`Error fetching ${t} items:`,s),this.getOfflineData(t)}}async getItemById(t,r){const a=qn.dictionaryItem(t,r),s=this.cache.get(a);if(s)return s;try{let i;return this.isOnline?i=await this.getApiMethod(t,"getItem")(r):i=this.getOfflineData(t).find(u=>u.id===r)||null,i&&this.cache.set(a,i,void 0,[Nu.DICTIONARY,t]),i}catch(i){return console.error(`Error fetching ${t} item ${r}:`,i),null}}async createItem(t,r){const a=this.validator.validate(t,r);if(!a.isValid)throw new Error(`Validation failed: ${a.errors.map(s=>s.message).join(", ")}`);try{let s;return this.isOnline?s=await this.getApiMethod(t,"createItem")(r):s=this.createOfflineItem(t,r),this.cache.invalidate(qn.dictionaryItems(t)),this.cache.invalidateByTags([t]),s}catch(s){throw console.error(`Error creating ${t} item:`,s),s}}async updateItem(t,r,a){const s=this.validator.validate(t,a);if(!s.isValid)throw new Error(`Validation failed: ${s.errors.map(i=>i.message).join(", ")}`);try{let i;return this.isOnline?i=await this.getApiMethod(t,"updateItem")(r,a):i=this.updateOfflineItem(t,r,a),this.cache.invalidate(qn.dictionaryItems(t)),this.cache.invalidate(qn.dictionaryItem(t,r)),this.cache.invalidateByTags([t]),i}catch(i){throw console.error(`Error updating ${t} item ${r}:`,i),i}}async deleteItem(t,r){try{return this.isOnline?await this.getApiMethod(t,"deleteItem")(r):this.deleteOfflineItem(t,r),this.cache.invalidate(qn.dictionaryItems(t)),this.cache.invalidate(qn.dictionaryItem(t,r)),this.cache.invalidateByTags([t]),!0}catch(a){return console.error(`Error deleting ${t} item ${r}:`,a),!1}}validateItem(t,r){return this.validator.validate(t,r)}async searchItems(t,r){const a=qn.dictionarySearch(t,r),s=this.cache.get(a);if(s)return s;try{let i;return this.isOnline?i=await this.api.search(t,r):i=this.getOfflineData(t).filter(u=>u.name.toLowerCase().includes(r.toLowerCase())||u.code.toLowerCase().includes(r.toLowerCase())),this.cache.set(a,i,6e4,[Nu.SEARCH,t]),i}catch(i){return console.error(`Error searching ${t} items:`,i),[]}}async getItemsByFilter(t,r){const a=qn.dictionaryFilter(t,r),s=this.cache.get(a);if(s)return s;try{let i;if(this.isOnline)i=await this.api.filter(t,r);else{const l=this.getOfflineData(t);i=this.applyFilters(l,r)}return this.cache.set(a,i,6e4,[Nu.FILTER,t]),i}catch(i){return console.error(`Error filtering ${t} items:`,i),[]}}async getStatistics(t){const r=qn.dictionaryStatistics(t),a=this.cache.get(r);if(a)return a;try{let s;if(this.isOnline)s=await this.api.getStatistics(t);else{const i=this.getOfflineData(t);s=this.calculateStatistics(i)}return this.cache.set(r,s,3e5,[Nu.STATISTICS,t]),s}catch(s){return console.error(`Error getting ${t} statistics:`,s),{totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0}}}async bulkCreate(t,r){for(const a of r){const s=this.validator.validate(t,a);if(!s.isValid)throw new Error(`Validation failed for item: ${s.errors.map(i=>i.message).join(", ")}`)}try{let a;return this.isOnline?a=await this.api.bulkCreate(t,r):a=r.map(s=>this.createOfflineItem(t,s)),this.cache.invalidate(qn.dictionaryItems(t)),this.cache.invalidateByTags([t]),a}catch(a){throw console.error(`Error bulk creating ${t} items:`,a),a}}async bulkUpdate(t,r){try{let a;return this.isOnline?a=await this.api.bulkUpdate(t,r):a=r.map(({id:s,data:i})=>this.updateOfflineItem(t,s,i)),this.cache.invalidate(qn.dictionaryItems(t)),this.cache.invalidateByTags([t]),a}catch(a){throw console.error(`Error bulk updating ${t} items:`,a),a}}async bulkDelete(t,r){try{return this.isOnline?await this.api.bulkDelete(t,r):r.forEach(a=>this.deleteOfflineItem(t,a)),this.cache.invalidate(qn.dictionaryItems(t)),this.cache.invalidateByTags([t]),!0}catch(a){return console.error(`Error bulk deleting ${t} items:`,a),!1}}async exportItems(t,r){try{if(this.isOnline)return await this.api.export(t,r);{const a=this.getOfflineData(t),s=JSON.stringify(a,null,2);return new Blob([s],{type:"application/json"})}}catch(a){throw console.error(`Error exporting ${t} items:`,a),a}}async importItems(t,r){try{return this.isOnline?await this.api.import(t,r):{success:[],errors:[]}}catch(a){throw console.error(`Error importing ${t} items:`,a),a}}getApiMethod(t,r){const s={"expense-articles":{getItems:()=>this.api.getExpenseItems(),getItem:i=>this.api.getExpenseItem(i),createItem:i=>this.api.createExpenseItem(i),updateItem:(i,l)=>this.api.updateExpenseItem(i,l),deleteItem:i=>this.api.deleteExpenseItem(i)},counterparties:{getItems:()=>this.api.getCounterparties(),getItem:i=>this.api.getCounterparty(i),createItem:i=>this.api.createCounterparty(i),updateItem:(i,l)=>this.api.updateCounterparty(i,l),deleteItem:i=>this.api.deleteCounterparty(i)},currencies:{getItems:()=>this.api.getCurrencies(),getItem:i=>this.api.getCurrency(i),createItem:i=>Promise.reject(new Error("Currencies are read-only")),updateItem:(i,l)=>Promise.reject(new Error("Currencies are read-only")),deleteItem:i=>Promise.reject(new Error("Currencies are read-only"))},"vat-rates":{getItems:()=>this.api.getVatRates(),getItem:i=>this.api.getVatRate(i),createItem:i=>this.api.createVatRate(i),updateItem:(i,l)=>this.api.updateVatRate(i,l),deleteItem:i=>this.api.deleteVatRate(i)}}[t];if(!s||!s[r])throw new Error(`No API method found for ${t}.${r}`);return s[r]}getOfflineData(t){try{const r=localStorage.getItem(`dictionary_${t}`);return r?JSON.parse(r):[]}catch(r){return console.error(`Error loading offline data for ${t}:`,r),[]}}saveOfflineData(t,r){try{localStorage.setItem(`dictionary_${t}`,JSON.stringify(r))}catch(a){console.error(`Error saving offline data for ${t}:`,a)}}createOfflineItem(t,r){const a={...r,id:`offline-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:1},s=this.getOfflineData(t);return s.push(a),this.saveOfflineData(t,s),a}updateOfflineItem(t,r,a){const s=this.getOfflineData(t),i=s.findIndex(u=>u.id===r);if(i===-1)throw new Error(`Item not found: ${r}`);const l={...s[i],...a,updatedAt:new Date().toISOString(),version:(s[i].version||0)+1};return s[i]=l,this.saveOfflineData(t,s),l}deleteOfflineItem(t,r){const s=this.getOfflineData(t).filter(i=>i.id!==r);this.saveOfflineData(t,s)}applyFilters(t,r){return t.filter(a=>{for(const[s,i]of Object.entries(r)){if(i==null||i==="")continue;const l=a[s];if(s==="isActive"){if(l!==i)return!1}else if(s==="category"){if(l!==i)return!1}else if(s==="ownerRole"){if(l!==i)return!1}else if(s==="dateRange"){const u=new Date(l),d=new Date(i.start),f=new Date(i.end);if(u<d||u>f)return!1}else if(typeof i=="string"&&(!l||!l.toString().toLowerCase().includes(i.toLowerCase())))return!1}return!0})}calculateStatistics(t){const r=new Date,a=new Date(r.getTime()-10080*60*1e3);return{totalItems:t.length,activeItems:t.filter(s=>s.isActive).length,inactiveItems:t.filter(s=>!s.isActive).length,recentlyUpdated:t.filter(s=>new Date(s.updatedAt)>a).length}}async syncOfflineChanges(){console.log("Syncing offline changes...")}clearCache(){this.cache.clear()}getCacheStats(){return this.cache.getStats()}async ensureInitialized(){}}class Cx{static cache=new Map;static CACHE_DURATION=300*1e3;static MAX_CACHE_SIZE=50;static async getRoleStatistics(t,r){const a=`role_stats_${t}_${r||"all"}`,s=this.getFromCache(a);if(s)return s;try{const i=await ot.getStatistics(t,r),l=sw(i);return this.setCache(a,l),l}catch(i){throw console.error("Error fetching role statistics:",i),new Error(`Failed to fetch statistics for role: ${t}`)}}static async getDashboardMetrics(t,r){const a=`dashboard_metrics_${t}_${r||"all"}`,s=this.getFromCache(a);if(s)return s;try{const i=await ot.getDashboardMetrics(t,r);return this.setCache(a,i),i}catch(i){throw console.error("Error fetching dashboard metrics:",i),new Error(`Failed to fetch dashboard metrics for role: ${t}`)}}static async getRegistryStatistics(){const t="registry_statistics",r=this.getFromCache(t);if(r)return r;try{const a=await v7.getStatistics();return this.setCache(t,a),a}catch(a){throw console.error("Error fetching registry statistics:",a),new Error("Failed to fetch registry statistics")}}static async getRealTimeStatistics(t,r){try{const a=await ot.getStatistics(t,r),s=`role_stats_${t}_${r||"all"}`;return this.setCache(s,a),a}catch(a){throw console.error("Error fetching real-time statistics:",a),new Error(`Failed to fetch real-time statistics for role: ${t}`)}}static async getAllRoleStatistics(){const t=["EXECUTOR","REGISTRAR","DISTRIBUTOR","TREASURER"],r={};try{const a=t.map(async i=>{try{const l=await this.getRoleStatistics(i);return{role:i,stats:l}}catch(l){return console.error(`Error fetching statistics for role ${i}:`,l),{role:i,stats:null}}});return(await Promise.all(a)).forEach(({role:i,stats:l})=>{r[i]=l}),r}catch(a){throw console.error("Error fetching all role statistics:",a),new Error("Failed to fetch statistics for all roles")}}static async getStatisticsWithFallback(t,r){try{return await this.getRealTimeStatistics(t,r)}catch(a){console.warn("Failed to fetch fresh statistics, trying cache:",a);const s=`role_stats_${t}_${r||"all"}`,i=this.getFromCache(s);if(i)return console.log("Using cached statistics as fallback"),i;throw a}}static clearCache(t,r){if(t){const a=`role_stats_${t}_${r||"all"}`;this.cache.delete(a),console.log(`Cleared cache for role: ${t}`)}else this.cache.clear(),console.log("Cleared all statistics cache")}static getCacheInfo(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}static getFromCache(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>r.expiresIn?(this.cache.delete(t),null):r.data:null}static setCache(t,r){this.cache.size>=this.MAX_CACHE_SIZE&&this.cleanupCache(),this.cache.set(t,{data:r,timestamp:Date.now(),expiresIn:this.CACHE_DURATION})}static cleanupCache(){const t=Date.now(),r=[];for(const[a,s]of this.cache.entries())t-s.timestamp>s.expiresIn&&r.push(a);r.forEach(a=>this.cache.delete(a)),this.cache.size>=this.MAX_CACHE_SIZE&&Array.from(this.cache.entries()).sort((i,l)=>i[1].timestamp-l[1].timestamp).slice(0,this.cache.size-this.MAX_CACHE_SIZE+1).forEach(([i])=>this.cache.delete(i))}}function iM(e,t,r){const[a,s]=x.useState(null),[i,l]=x.useState(!0),[u,d]=x.useState(null),[f,m]=x.useState(null),{enableCache:h=!0,refreshInterval:g=3e4,autoRefresh:j=!1}=r||{},w=x.useCallback(async(N=!1)=>{try{l(!0),d(null);let C;N||!h?C=await Cx.getRealTimeStatistics(e,t):C=await Cx.getStatisticsWithFallback(e,t),s(C),m(new Date)}catch(C){console.error("Error fetching role statistics:",C),d(C instanceof Error?C.message:"Failed to fetch statistics")}finally{l(!1)}},[e,t,h]);x.useEffect(()=>{w()},[w]),x.useEffect(()=>{if(!j)return;const N=setInterval(()=>{w()},g);return()=>clearInterval(N)},[j,g,w]);const b=x.useCallback(()=>{w(!0)},[w]),v=x.useCallback(()=>{Cx.clearCache(e,t)},[e,t]);return{statistics:a,loading:i,error:u,lastUpdated:f,refresh:b,clearCache:v,formatted:a?.formatted||null}}const oM=[{id:"dashboard",label:"Dashboard",icon:n.jsx(YB,{className:"h-4 w-4"}),roles:["EXECUTOR","REGISTRAR","SUB_REGISTRAR","DISTRIBUTOR","TREASURER","ADMIN"]},{id:"requests",label:"",icon:n.jsx(yt,{className:"h-4 w-4"}),roles:["EXECUTOR","REGISTRAR","SUB_REGISTRAR","DISTRIBUTOR","TREASURER"],badge:"5"},{id:"sub-registrar-assignments",label:" ",icon:n.jsx(yt,{className:"h-4 w-4"}),roles:["SUB_REGISTRAR"]},{id:"distributor-workflow",label:"  ",icon:n.jsx(yt,{className:"h-4 w-4"}),roles:["DISTRIBUTOR"]},{id:"export-contracts",label:" ",icon:n.jsx(em,{className:"h-4 w-4"}),roles:["DISTRIBUTOR"]},{id:"registers",label:"",icon:n.jsx(em,{className:"h-4 w-4"}),roles:["TREASURER"]},{id:"unallocated",label:"  ",icon:n.jsx(Vj,{className:"h-4 w-4"}),roles:["DISTRIBUTOR"]},{id:"dictionaries",label:"",icon:n.jsx(Jh,{className:"h-4 w-4"}),roles:["ADMIN"]},{id:"registrar-assignments",label:" ",icon:n.jsx(Kr,{className:"h-4 w-4"}),roles:["ADMIN"]},{id:"distributor-routing",label:" ",icon:n.jsx(Kr,{className:"h-4 w-4"}),roles:["ADMIN"]},{id:"admin",label:"",icon:n.jsx(Hd,{className:"h-4 w-4"}),roles:["ADMIN"]}];function C7({currentPage:e,onPageChange:t,currentRole:r,currentUser:a,isCreatingRequest:s=!1,paymentRequests:i=[],onFilterChange:l}){const u=r!=="EXECUTOR",{statistics:d,loading:f}=iM(r,a?.id,{enableCache:!0,autoRefresh:u,refreshInterval:3e4}),m=oM.filter(v=>v.roles.includes(r)).map(v=>{let N=v.badge;return v.id==="requests"&&d&&(r==="EXECUTOR"?N=(d.draftCount+d.submittedCount+d.classifiedCount+d.approvedCount+d.inRegistryCount).toString():r==="REGISTRAR"?N=(d.submittedCount+d.classifiedCount).toString():r==="DISTRIBUTOR"?N=d.approvedCount.toString():r==="TREASURER"&&(N=d.inRegistryCount.toString())),v.id==="registers"&&d&&(N=d.inRegistryCount.toString()),{...v,badge:N}}),g=f||!d?{draft:0,underReview:0,returnedForRevision:0,paid:0,declined:0,inWork:0,registered:0,overdue:0}:r==="EXECUTOR"?{draft:d.draftCount||0,underReview:(d.submittedCount||0)+(d.classifiedCount||0)+(d.approvedCount||0)+(d.inRegistryCount||0),returnedForRevision:d.rejectedCount||0,paid:0,declined:d.rejectedCount||0}:r==="REGISTRAR"?{inWork:d.submittedCount||0,registered:d.classifiedCount||0,overdue:d.overdue||0,returnedForRevision:d.rejectedCount||0,declined:d.rejectedCount||0}:r==="DISTRIBUTOR"?{pendingApproval:d.approvedCount||0,approved:d.approvedCount||0,rejected:d.rejectedCount||0}:r==="TREASURER"?{inRegistry:d.inRegistryCount||0,totalAmount:(d.totalRequests||0)*1e3,overdue:d.overdue||0}:{},j=v=>{if(s){we.warning("       ",{duration:4e3});return}t(v)},w=()=>{if(s){we.warning("       ",{duration:4e3});return}l&&l("drafts"),t("requests")},b=v=>{if(s){we.warning("       ",{duration:4e3});return}l&&l(v),t("requests")};return n.jsxs("nav",{className:"w-full md:w-64 border-r bg-white p-4 overflow-y-auto",children:[n.jsx("div",{className:"space-y-2",children:m.map(v=>n.jsxs(X,{variant:e===v.id?"secondary":"ghost",className:We("w-full justify-start gap-3",v.id==="unallocated"?"h-auto py-2 min-h-[2.5rem]":"h-10",e===v.id&&"bg-accent",s&&"opacity-50 cursor-not-allowed"),onClick:()=>j(v.id),disabled:s,children:[v.icon,n.jsx("span",{className:v.id==="unallocated"?"whitespace-normal break-words":"",children:v.label}),v.badge&&n.jsx("span",{className:"ml-auto bg-primary text-primary-foreground rounded-full px-2 py-0.5 text-xs",children:v.badge})]},v.id))}),n.jsxs("div",{className:We("mt-8 p-3 bg-muted rounded-lg",s&&"opacity-50"),children:[n.jsx("h4",{className:"font-medium mb-2",children:" "}),n.jsxs("div",{className:"space-y-2 text-sm",children:[r==="EXECUTOR"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:w,children:[n.jsx(Jt,{className:"h-3 w-3 text-gray-500"}),n.jsxs("span",{children:[g.draft||0," "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jt,{className:"h-3 w-3 text-orange-500"}),n.jsxs("span",{children:[g.underReview||0,"  "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-3 w-3 text-red-500"}),n.jsxs("span",{children:[g.returnedForRevision||0,"   "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsxs("span",{children:[g.paid||0," "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-3 w-3 text-red-600"}),n.jsxs("span",{children:[g.declined||0," "]})]})]}),r==="REGISTRAR"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:()=>b("newRequests"),children:[n.jsx(Jt,{className:"h-3 w-3 text-orange-500"}),n.jsxs("span",{children:[g.inWork||0,"  "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsxs("span",{children:[g.registered||0," "]})]}),n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:()=>b("overdue"),children:[n.jsx(Ot,{className:"h-3 w-3 text-red-500"}),n.jsxs("span",{children:[g.overdue||0," "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-3 w-3 text-yellow-500"}),n.jsxs("span",{children:[g.returnedForRevision||0,"   "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vj,{className:"h-3 w-3 text-red-600"}),n.jsxs("span",{children:[g.declined||0," "]})]})]}),r==="DISTRIBUTOR"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jt,{className:"h-3 w-3 text-orange-500"}),n.jsx("span",{children:"1  "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-3 w-3 text-yellow-500"}),n.jsx("span",{children:"0   "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{children:"15   "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{children:"25 "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vj,{className:"h-3 w-3 text-red-600"}),n.jsx("span",{children:"0 "})]})]}),r==="TREASURER"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jt,{className:"h-3 w-3 text-orange-500"}),n.jsx("span",{children:"2  "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-3 w-3 text-yellow-500"}),n.jsx("span",{children:"1   "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{children:"5     "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{children:"25 "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-3 w-3 text-red-500"}),n.jsx("span",{children:"0 "})]})]}),r==="ADMIN"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{children:"4  "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jh,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{children:"12 "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hd,{className:"h-3 w-3 text-gray-500"}),n.jsx("span",{children:"3  "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{children:" "})]})]})]})]})]})}const E7={currentUser:null,currentRole:"EXECUTOR",currentPage:"dashboard",showCreateForm:!1,selectedRequestId:null,viewMode:"list",dashboardFilter:null,isLoading:!0,paymentRequests:[]};function T7(e,t){switch(t.type){case"SET_CURRENT_USER":return{...e,currentUser:t.payload};case"SET_CURRENT_ROLE":return{...e,currentRole:t.payload};case"SET_CURRENT_PAGE":return{...e,currentPage:t.payload};case"SET_SHOW_CREATE_FORM":return{...e,showCreateForm:t.payload};case"SET_SELECTED_REQUEST_ID":return{...e,selectedRequestId:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"SET_DASHBOARD_FILTER":return{...e,dashboardFilter:t.payload};case"SET_IS_LOADING":return{...e,isLoading:t.payload};case"SET_PAYMENT_REQUESTS":return{...e,paymentRequests:t.payload};case"UPDATE_PAYMENT_REQUEST":return{...e,paymentRequests:e.paymentRequests.map(r=>r.id===t.payload.id?t.payload:r)};case"ADD_PAYMENT_REQUEST":return{...e,paymentRequests:[t.payload,...e.paymentRequests]};case"RESET_FORM_STATE":return{...e,showCreateForm:!1,selectedRequestId:null,viewMode:"list"};case"RESET_ROLE_STATE":return{...e,currentPage:"dashboard",showCreateForm:!1,viewMode:"list",selectedRequestId:null,dashboardFilter:null};default:return e}}const lM=x.createContext(null);function A7({children:e}){const[t,r]=x.useReducer(T7,E7);return n.jsx(lM.Provider,{value:{state:t,dispatch:r},children:e})}function zi(){const e=x.useContext(lM);if(!e)throw new Error("useAppState must be used within an AppStateProvider");return e}const be={setCurrentUser:e=>({type:"SET_CURRENT_USER",payload:e}),setCurrentRole:e=>({type:"SET_CURRENT_ROLE",payload:e}),setCurrentPage:e=>({type:"SET_CURRENT_PAGE",payload:e}),setShowCreateForm:e=>({type:"SET_SHOW_CREATE_FORM",payload:e}),setSelectedRequestId:e=>({type:"SET_SELECTED_REQUEST_ID",payload:e}),setViewMode:e=>({type:"SET_VIEW_MODE",payload:e}),setDashboardFilter:e=>({type:"SET_DASHBOARD_FILTER",payload:e}),setIsLoading:e=>({type:"SET_IS_LOADING",payload:e}),setPaymentRequests:e=>({type:"SET_PAYMENT_REQUESTS",payload:e}),updatePaymentRequest:e=>({type:"UPDATE_PAYMENT_REQUEST",payload:e}),addPaymentRequest:e=>({type:"ADD_PAYMENT_REQUEST",payload:e}),resetFormState:()=>({type:"RESET_FORM_STATE"}),resetRoleState:()=>({type:"RESET_ROLE_STATE"})};let om=!0;const P7=e=>{om=e,console.log(`API mode switched to: ${e?"MOCK":"API"}`),localStorage.setItem("api_mode",e?"mock":"api")},R7=()=>({useMockData:om,mode:om?"mock":"api"}),k7=()=>{const e=localStorage.getItem("api_mode");e&&(om=e==="mock")};k7();function cM(){const{state:e,dispatch:t}=zi(),r=x.useCallback(async()=>{try{console.log("Starting to load initial data..."),t(be.setIsLoading(!0)),console.log("Loading current user...");const v=await Vu.getCurrentUser();console.log("User loaded:",v),v&&v.is_active?t(be.setCurrentUser(v)):(console.log("User is inactive, not setting current user"),t(be.setCurrentUser(null))),console.log("Initial data loading completed successfully")}catch(v){console.error("Failed to load initial data:",v),we.error(`  : ${v.message||v}`)}finally{t(be.setIsLoading(!1))}},[t]),a=x.useCallback(async v=>{try{console.log("Loading requests for role change:",v);const N=await ot.getAll({role:v});console.log("Requests loaded for role:",v,N.length),t(be.setPaymentRequests(N))}catch(N){console.error("Failed to load requests for role:",v,N),we.error(`     ${I7(v)}: ${N.message||N}`)}},[t]),s=x.useCallback(async v=>{try{t(be.setIsLoading(!0));const N=e.currentUser?.id||"dev-user-123";if(e.selectedRequestId&&v.id){const C=await ot.update(e.selectedRequestId,v);t(be.updatePaymentRequest(C)),v.status==="draft"?we.success(`  ${C.requestNumber}  `):we.success(` ${C.requestNumber}      `)}else{const C=await ot.create(v);t(be.addPaymentRequest(C)),v.status==="draft"?we.success(`  ${C.requestNumber}  `):we.success(` ${C.requestNumber}      `)}t(be.resetFormState()),t(be.setCurrentPage("requests"))}catch(N){console.error("Failed to submit request:",N),we.error(v.status==="draft"?"  ":"  ")}finally{t(be.setIsLoading(!1))}},[e.currentUser,e.selectedRequestId,t]),i=x.useCallback(async v=>{try{t(be.setIsLoading(!0));const N=e.currentUser?.id||"dev-user-123";if(e.selectedRequestId&&v.id){const C=await ot.update(e.selectedRequestId,{...v,status:"draft"});t(be.updatePaymentRequest(C)),we.success(`  ${C.requestNumber}  `)}else{const C=await ot.create({...v,status:"draft"});t(be.addPaymentRequest(C)),we.success(`  ${C.requestNumber}  `)}t(be.resetFormState()),t(be.setCurrentPage("requests"))}catch(N){console.error("Failed to save draft:",N),we.error("  ")}finally{t(be.setIsLoading(!1))}},[e.currentUser,e.selectedRequestId,t]),l=x.useCallback(async(v,N)=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const C=await ot.classify(e.selectedRequestId,v,N);t(be.updatePaymentRequest(C)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),t(be.setCurrentPage("dashboard")),we.success("    ")}catch(C){console.error("Failed to classify request:",C),we.error("  ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),u=x.useCallback(async(v,N)=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const C=await ot.classify(e.selectedRequestId,v,N);t(be.updatePaymentRequest(C));const S=await ot.sendToDistributor(e.selectedRequestId,v,N);t(be.updatePaymentRequest(S)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),t(be.setCurrentPage("dashboard")),we.success("         ")}catch(C){console.error("Failed to classify and send request to distributor:",C),we.error("   ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),d=x.useCallback(async v=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const N=await ot.returnRequest(e.selectedRequestId,v);t(be.updatePaymentRequest(N)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),t(be.setCurrentPage("dashboard")),we.success(" ")}catch(N){console.error("Failed to return request:",N),we.error("  ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),f=x.useCallback(async(v,N,C)=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const S=await ot.approve(e.selectedRequestId,v,N,C);t(be.updatePaymentRequest(S)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success("    ")}catch(S){console.error("Failed to approve request:",S),we.error("  ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),m=x.useCallback(async(v,N,C)=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const S=await ot.updateStatus(e.selectedRequestId,"approved-on-behalf",{paymentAllocations:v,priority:N,executionComment:C});t(be.updatePaymentRequest(S)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success("       ")}catch(S){console.error("Failed to approve request on behalf:",S),we.error("    ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),h=x.useCallback(async v=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const N=await ot.updateStatus(e.selectedRequestId,"declined",{executionComment:v});t(be.updatePaymentRequest(N)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success(" ")}catch(N){console.error("Failed to decline request:",N),we.error("  ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),g=x.useCallback(async(v,N)=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const C=await ot.updateStatus(e.selectedRequestId,v,N);t(be.updatePaymentRequest(C)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success(O7(v))}catch(C){console.error("Failed to update request status:",C),we.error("   ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),j=x.useCallback(async(v,N,C)=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const S=await ot.distributorAction(e.selectedRequestId,"approve",C,v,N);t(be.updatePaymentRequest(S)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success("     ")}catch(S){console.error("Failed to approve request as distributor:",S),we.error("   ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),w=x.useCallback(async v=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const N=await ot.distributorAction(e.selectedRequestId,"decline",v);t(be.updatePaymentRequest(N)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success("  ")}catch(N){console.error("Failed to decline request as distributor:",N),we.error("   ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),b=x.useCallback(async v=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const N=await ot.distributorAction(e.selectedRequestId,"return",v);t(be.updatePaymentRequest(N)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success("   ")}catch(N){console.error("Failed to return request as distributor:",N),we.error("   ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]);return{loadInitialData:r,loadRequestsForRole:a,submitRequest:s,saveDraft:i,classifyRequest:l,classifyRequestWithItems:u,returnRequest:d,approveRequest:f,approveOnBehalfRequest:m,declineRequest:h,treasurerUpdateStatus:g,distributorApprove:j,distributorDecline:w,distributorReturn:b}}function I7(e){return{executor:"",registrar:"",distributor:"",treasurer:"",admin:""}[e]}function O7(e){switch(e){case"in-register":return"     ";case"approved-for-payment":return"   ";case"paid-full":return"    ";case"paid-partial":return"    ";case"declined":return" ";case"cancelled":return" ";default:return"  "}}function D7(){const{state:e,dispatch:t}=zi(),{loadRequestsForRole:r}=cM(),a=x.useCallback(async i=>{t(be.setCurrentRole(i)),t(be.resetRoleState()),we.success(`  : ${s(i)}`),await r(i)},[t,r]),s=i=>({executor:"",registrar:"",distributor:"",treasurer:"",admin:""})[i];return{handleRoleChange:a,getRoleLabel:s}}function M7(){const{state:e,dispatch:t}=zi(),r=x.useCallback(()=>{e.currentRole==="EXECUTOR"&&t(be.setShowCreateForm(!0))},[e.currentRole,t]),a=x.useCallback(i=>{t(be.setSelectedRequestId(i));const l=e.paymentRequests.find(u=>u.id===i);e.currentRole==="EXECUTOR"?(t(be.setCurrentPage("requests")),l&&l.status==="draft"?t(be.setShowCreateForm(!0)):t(be.setViewMode("view"))):e.currentRole==="REGISTRAR"?(t(be.setCurrentPage("requests")),l&&l.status==="submitted"?t(be.setViewMode("classify-items")):t(be.setViewMode("view"))):e.currentRole==="DISTRIBUTOR"?(t(be.setCurrentPage("requests")),l&&l.status==="classified"?t(be.setViewMode("approve")):t(be.setViewMode("view"))):e.currentRole==="TREASURER"&&(l&&["approved","in-register","approved-for-payment"].includes(l.status)?(t(be.setCurrentPage("requests")),t(be.setViewMode("treasurer-approve"))):we.info("    "))},[e.currentRole,e.paymentRequests,t]),s=x.useCallback(i=>{t(be.updatePaymentRequest(i))},[t]);return{handleCreateRequest:r,handleViewRequest:a,handleRequestUpdate:s}}var uM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$7="VisuallyHidden",dM=x.forwardRef((e,t)=>n.jsx(it.span,{...e,ref:t,style:{...uM,...e.style}}));dM.displayName=$7;var L7=dM,[Ep,fpe]=On("Tooltip",[Bi]),Tp=Bi(),fM="TooltipProvider",F7=700,iw="tooltip.open",[U7,J1]=Ep(fM),hM=e=>{const{__scopeTooltip:t,delayDuration:r=F7,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,l=x.useRef(!0),u=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),n.jsx(U7,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,a)},[a]),isPointerInTransitRef:u,onPointerInTransitChange:x.useCallback(f=>{u.current=f},[]),disableHoverableContent:s,children:i})};hM.displayName=fM;var ad="Tooltip",[B7,ef]=Ep(ad),mM=e=>{const{__scopeTooltip:t,children:r,open:a,defaultOpen:s,onOpenChange:i,disableHoverableContent:l,delayDuration:u}=e,d=J1(ad,e.__scopeTooltip),f=Tp(t),[m,h]=x.useState(null),g=zr(),j=x.useRef(0),w=l??d.disableHoverableContent,b=u??d.delayDuration,v=x.useRef(!1),[N,C]=os({prop:a,defaultProp:s??!1,onChange:R=>{R?(d.onOpen(),document.dispatchEvent(new CustomEvent(iw))):d.onClose(),i?.(R)},caller:ad}),S=x.useMemo(()=>N?v.current?"delayed-open":"instant-open":"closed",[N]),A=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,v.current=!1,C(!0)},[C]),_=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,C(!1)},[C]),T=x.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>{v.current=!0,C(!0),j.current=0},b)},[b,C]);return x.useEffect(()=>()=>{j.current&&(window.clearTimeout(j.current),j.current=0)},[]),n.jsx(vp,{...f,children:n.jsx(B7,{scope:t,contentId:g,open:N,stateAttribute:S,trigger:m,onTriggerChange:h,onTriggerEnter:x.useCallback(()=>{d.isOpenDelayedRef.current?T():A()},[d.isOpenDelayedRef,T,A]),onTriggerLeave:x.useCallback(()=>{w?_():(window.clearTimeout(j.current),j.current=0)},[_,w]),onOpen:A,onClose:_,disableHoverableContent:w,children:r})})};mM.displayName=ad;var ow="TooltipTrigger",pM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=ef(ow,r),i=J1(ow,r),l=Tp(r),u=x.useRef(null),d=Nt(t,u,s.onTriggerChange),f=x.useRef(!1),m=x.useRef(!1),h=x.useCallback(()=>f.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(Yd,{asChild:!0,...l,children:n.jsx(it.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:d,onPointerMove:Be(e.onPointerMove,g=>{g.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Be(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Be(e.onPointerDown,()=>{s.open&&s.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Be(e.onFocus,()=>{f.current||s.onOpen()}),onBlur:Be(e.onBlur,s.onClose),onClick:Be(e.onClick,s.onClose)})})});pM.displayName=ow;var eN="TooltipPortal",[z7,q7]=Ep(eN,{forceMount:void 0}),gM=e=>{const{__scopeTooltip:t,forceMount:r,children:a,container:s}=e,i=ef(eN,t);return n.jsx(z7,{scope:t,forceMount:r,children:n.jsx(Dn,{present:r||i.open,children:n.jsx(_c,{asChild:!0,container:s,children:a})})})};gM.displayName=eN;var Yl="TooltipContent",vM=x.forwardRef((e,t)=>{const r=q7(Yl,e.__scopeTooltip),{forceMount:a=r.forceMount,side:s="top",...i}=e,l=ef(Yl,e.__scopeTooltip);return n.jsx(Dn,{present:a||l.open,children:l.disableHoverableContent?n.jsx(xM,{side:s,...i,ref:t}):n.jsx(W7,{side:s,...i,ref:t})})}),W7=x.forwardRef((e,t)=>{const r=ef(Yl,e.__scopeTooltip),a=J1(Yl,e.__scopeTooltip),s=x.useRef(null),i=Nt(t,s),[l,u]=x.useState(null),{trigger:d,onClose:f}=r,m=s.current,{onPointerInTransitChange:h}=a,g=x.useCallback(()=>{u(null),h(!1)},[h]),j=x.useCallback((w,b)=>{const v=w.currentTarget,N={x:w.clientX,y:w.clientY},C=K7(N,v.getBoundingClientRect()),S=Y7(N,C),A=X7(b.getBoundingClientRect()),_=Z7([...S,...A]);u(_),h(!0)},[h]);return x.useEffect(()=>()=>g(),[g]),x.useEffect(()=>{if(d&&m){const w=v=>j(v,m),b=v=>j(v,d);return d.addEventListener("pointerleave",w),m.addEventListener("pointerleave",b),()=>{d.removeEventListener("pointerleave",w),m.removeEventListener("pointerleave",b)}}},[d,m,j,g]),x.useEffect(()=>{if(l){const w=b=>{const v=b.target,N={x:b.clientX,y:b.clientY},C=d?.contains(v)||m?.contains(v),S=!Q7(N,l);C?g():S&&(g(),f())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[d,m,l,f,g]),n.jsx(xM,{...e,ref:i})}),[V7,H7]=Ep(ad,{isInside:!1}),G7=bO("TooltipContent"),xM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...u}=e,d=ef(Yl,r),f=Tp(r),{onClose:m}=d;return x.useEffect(()=>(document.addEventListener(iw,m),()=>document.removeEventListener(iw,m)),[m]),x.useEffect(()=>{if(d.trigger){const h=g=>{g.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[d.trigger,m]),n.jsx(wc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:h=>h.preventDefault(),onDismiss:m,children:n.jsxs(xp,{"data-state":d.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(G7,{children:a}),n.jsx(V7,{scope:r,isInside:!0,children:n.jsx(L7,{id:d.contentId,role:"tooltip",children:s||a})})]})})});vM.displayName=Yl;var yM="TooltipArrow",bM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=Tp(r);return H7(yM,r).isInside?null:n.jsx(yp,{...s,...a,ref:t})});bM.displayName=yM;function K7(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,a,s,i)){case i:return"left";case s:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function Y7(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function X7(e){const{top:t,right:r,bottom:a,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:a},{x:s,y:a}]}function Q7(e,t){const{x:r,y:a}=e;let s=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const u=t[i],d=t[l],f=u.x,m=u.y,h=d.x,g=d.y;m>a!=g>a&&r<(h-f)*(a-m)/(g-m)+f&&(s=!s)}return s}function Z7(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),J7(t)}function J7(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const s=e[a];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;r.length>=2;){const i=r[r.length-1],l=r[r.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var e9=hM,t9=mM,r9=pM,n9=gM,a9=vM,s9=bM;function Ap({delayDuration:e=0,...t}){return n.jsx(e9,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function sd({...e}){return n.jsx(Ap,{children:n.jsx(t9,{"data-slot":"tooltip",...e})})}function id({...e}){return n.jsx(r9,{"data-slot":"tooltip-trigger",...e})}function od({className:e,sideOffset:t=0,children:r,...a}){return n.jsx(n9,{children:n.jsxs(a9,{"data-slot":"tooltip-content",sideOffset:t,className:We("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...a,children:[r,n.jsx(s9,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const i9={draft:{label:"",variant:"secondary",className:"bg-gray-100 text-gray-800"},submitted:{label:"",variant:"secondary",className:"bg-blue-100 text-blue-800"},classified:{label:"",variant:"secondary",className:"bg-yellow-100 text-yellow-800"},allocated:{label:"",variant:"secondary",className:"bg-purple-100 text-purple-800"},returned:{label:"",variant:"secondary",className:"bg-orange-100 text-orange-800"},approved:{label:"",variant:"secondary",className:"bg-green-100 text-green-800"},"approved-on-behalf":{label:"   -",variant:"secondary",className:"bg-violet-100 text-violet-800"},"to-pay":{label:" ",variant:"secondary",className:"bg-indigo-100 text-indigo-800"},"in-register":{label:" ",variant:"secondary",className:"bg-cyan-100 text-cyan-800"},"approved-for-payment":{label:"  ",variant:"secondary",className:"bg-teal-100 text-teal-800"},"paid-full":{label:" ",variant:"secondary",className:"bg-emerald-100 text-emerald-800"},"paid-partial":{label:" ",variant:"secondary",className:"bg-lime-100 text-lime-800"},declined:{label:"",variant:"secondary",className:"bg-red-100 text-red-800"},rejected:{label:"",variant:"secondary",className:"bg-red-100 text-red-800"},cancelled:{label:"",variant:"secondary",className:"bg-slate-100 text-slate-800"}};function Wo({status:e,className:t,showTooltip:r,responsible:a,statusTime:s}){const i=i9[e];if(!i)return console.warn(`Unknown status: ${e}`),n.jsx(je,{variant:"secondary",className:`bg-gray-100 text-gray-800 border-0 ${t||""}`,children:e});const l=n.jsx(je,{variant:i.variant,className:`${i.className} border-0 ${t||""}`,children:i.label});return r&&a?n.jsx(Ap,{children:n.jsxs(sd,{children:[n.jsx(id,{asChild:!0,children:n.jsx("span",{children:l})}),n.jsx(od,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium",children:[": ",a]}),n.jsxs("div",{children:[": ",i.label]}),s&&n.jsxs("div",{children:[": ",s]})]})})]})}):l}var tN="Progress",rN=100,[o9,hpe]=On(tN),[l9,c9]=o9(tN),jM=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:s,getValueLabel:i=u9,...l}=e;(s||s===0)&&!c2(s)&&console.error(d9(`${s}`,"Progress"));const u=c2(s)?s:rN;a!==null&&!u2(a,u)&&console.error(f9(`${a}`,"Progress"));const d=u2(a,u)?a:null,f=lm(d)?i(d,u):void 0;return n.jsx(l9,{scope:r,value:d,max:u,children:n.jsx(it.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":lm(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":SM(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});jM.displayName=tN;var wM="ProgressIndicator",NM=x.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,s=c9(wM,r);return n.jsx(it.div,{"data-state":SM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});NM.displayName=wM;function u9(e,t){return`${Math.round(e/t*100)}%`}function SM(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function lm(e){return typeof e=="number"}function c2(e){return lm(e)&&!isNaN(e)&&e>0}function u2(e,t){return lm(e)&&!isNaN(e)&&e<=t&&e>=0}function d9(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${rN}\`.`}function f9(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${rN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var h9=jM,m9=NM;function nN({className:e,value:t,...r}){return n.jsx(h9,{"data-slot":"progress",className:We("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:n.jsx(m9,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function d2(e,[t,r]){return Math.min(r,Math.max(t,e))}function aN(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var p9=[" ","Enter","ArrowUp","ArrowDown"],g9=[" ","Enter"],ko="Select",[Pp,Rp,v9]=M1(ko),[Cc,mpe]=On(ko,[v9,Bi]),kp=Bi(),[x9,qi]=Cc(ko),[y9,b9]=Cc(ko),_M=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:s,onOpenChange:i,value:l,defaultValue:u,onValueChange:d,dir:f,name:m,autoComplete:h,disabled:g,required:j,form:w}=e,b=kp(t),[v,N]=x.useState(null),[C,S]=x.useState(null),[A,_]=x.useState(!1),T=dp(f),[R,D]=os({prop:a,defaultProp:s??!1,onChange:i,caller:ko}),[k,B]=os({prop:l,defaultProp:u,onChange:d,caller:ko}),z=x.useRef(null),G=v?w||!!v.closest("form"):!0,[W,Z]=x.useState(new Set),$=Array.from(W).map(M=>M.props.value).join(";");return n.jsx(vp,{...b,children:n.jsxs(x9,{required:j,scope:t,trigger:v,onTriggerChange:N,valueNode:C,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:_,contentId:zr(),value:k,onValueChange:B,open:R,onOpenChange:D,dir:T,triggerPointerDownPosRef:z,disabled:g,children:[n.jsx(Pp.Provider,{scope:t,children:n.jsx(y9,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(M=>{Z(I=>new Set(I).add(M))},[]),onNativeOptionRemove:x.useCallback(M=>{Z(I=>{const O=new Set(I);return O.delete(M),O})},[]),children:r})}),G?n.jsxs(GM,{"aria-hidden":!0,required:j,tabIndex:-1,name:m,autoComplete:h,value:k,onChange:M=>B(M.target.value),disabled:g,form:w,children:[k===void 0?n.jsx("option",{value:""}):null,Array.from(W)]},$):null]})})};_M.displayName=ko;var CM="SelectTrigger",EM=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...s}=e,i=kp(r),l=qi(CM,r),u=l.disabled||a,d=Nt(t,l.onTriggerChange),f=Rp(r),m=x.useRef("touch"),[h,g,j]=YM(b=>{const v=f().filter(S=>!S.disabled),N=v.find(S=>S.value===l.value),C=XM(v,b,N);C!==void 0&&l.onValueChange(C.value)}),w=b=>{u||(l.onOpenChange(!0),j()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return n.jsx(Yd,{asChild:!0,...i,children:n.jsx(it.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":KM(l.value)?"":void 0,...s,ref:d,onClick:Be(s.onClick,b=>{b.currentTarget.focus(),m.current!=="mouse"&&w(b)}),onPointerDown:Be(s.onPointerDown,b=>{m.current=b.pointerType;const v=b.target;v.hasPointerCapture(b.pointerId)&&v.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:Be(s.onKeyDown,b=>{const v=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(v&&b.key===" ")&&p9.includes(b.key)&&(w(),b.preventDefault())})})})});EM.displayName=CM;var TM="SelectValue",AM=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,children:i,placeholder:l="",...u}=e,d=qi(TM,r),{onValueNodeHasChildrenChange:f}=d,m=i!==void 0,h=Nt(t,d.onValueNodeChange);return un(()=>{f(m)},[f,m]),n.jsx(it.span,{...u,ref:h,style:{pointerEvents:"none"},children:KM(d.value)?n.jsx(n.Fragment,{children:l}):i})});AM.displayName=TM;var j9="SelectIcon",PM=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...s}=e;return n.jsx(it.span,{"aria-hidden":!0,...s,ref:t,children:a||""})});PM.displayName=j9;var w9="SelectPortal",RM=e=>n.jsx(_c,{asChild:!0,...e});RM.displayName=w9;var Io="SelectContent",kM=x.forwardRef((e,t)=>{const r=qi(Io,e.__scopeSelect),[a,s]=x.useState();if(un(()=>{s(new DocumentFragment)},[]),!r.open){const i=a;return i?Wd.createPortal(n.jsx(IM,{scope:e.__scopeSelect,children:n.jsx(Pp.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(OM,{...e,ref:t})});kM.displayName=Io;var Ta=10,[IM,Wi]=Cc(Io),N9="SelectContentImpl",S9=Ii("SelectContent.RemoveScroll"),OM=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:g,collisionPadding:j,sticky:w,hideWhenDetached:b,avoidCollisions:v,...N}=e,C=qi(Io,r),[S,A]=x.useState(null),[_,T]=x.useState(null),R=Nt(t,K=>A(K)),[D,k]=x.useState(null),[B,z]=x.useState(null),G=Rp(r),[W,Z]=x.useState(!1),$=x.useRef(!1);x.useEffect(()=>{if(S)return jp(S)},[S]),fp();const M=x.useCallback(K=>{const[fe,...oe]=G().map(re=>re.ref.current),[Ee]=oe.slice(-1),De=document.activeElement;for(const re of K)if(re===De||(re?.scrollIntoView({block:"nearest"}),re===fe&&_&&(_.scrollTop=0),re===Ee&&_&&(_.scrollTop=_.scrollHeight),re?.focus(),document.activeElement!==De))return},[G,_]),I=x.useCallback(()=>M([D,S]),[M,D,S]);x.useEffect(()=>{W&&I()},[W,I]);const{onOpenChange:O,triggerPointerDownPosRef:H}=C;x.useEffect(()=>{if(S){let K={x:0,y:0};const fe=Ee=>{K={x:Math.abs(Math.round(Ee.pageX)-(H.current?.x??0)),y:Math.abs(Math.round(Ee.pageY)-(H.current?.y??0))}},oe=Ee=>{K.x<=10&&K.y<=10?Ee.preventDefault():S.contains(Ee.target)||O(!1),document.removeEventListener("pointermove",fe),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",oe,{capture:!0})}}},[S,O,H]),x.useEffect(()=>{const K=()=>O(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[O]);const[V,q]=YM(K=>{const fe=G().filter(De=>!De.disabled),oe=fe.find(De=>De.ref.current===document.activeElement),Ee=XM(fe,K,oe);Ee&&setTimeout(()=>Ee.ref.current.focus())}),F=x.useCallback((K,fe,oe)=>{const Ee=!$.current&&!oe;(C.value!==void 0&&C.value===fe||Ee)&&(k(K),Ee&&($.current=!0))},[C.value]),L=x.useCallback(()=>S?.focus(),[S]),Y=x.useCallback((K,fe,oe)=>{const Ee=!$.current&&!oe;(C.value!==void 0&&C.value===fe||Ee)&&z(K)},[C.value]),ee=a==="popper"?lw:DM,ce=ee===lw?{side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:g,collisionPadding:j,sticky:w,hideWhenDetached:b,avoidCollisions:v}:{};return n.jsx(IM,{scope:r,content:S,viewport:_,onViewportChange:T,itemRefCallback:F,selectedItem:D,onItemLeave:L,itemTextRefCallback:Y,focusSelectedItem:I,selectedItemText:B,position:a,isPositioned:W,searchRef:V,children:n.jsx(Qd,{as:S9,allowPinchZoom:!0,children:n.jsx(Gd,{asChild:!0,trapped:C.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Be(s,K=>{C.trigger?.focus({preventScroll:!0}),K.preventDefault()}),children:n.jsx(wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:n.jsx(ee,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:K=>K.preventDefault(),...N,...ce,onPlaced:()=>Z(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Be(N.onKeyDown,K=>{const fe=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!fe&&K.key.length===1&&q(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let Ee=G().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(K.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const De=K.target,re=Ee.indexOf(De);Ee=Ee.slice(re+1)}setTimeout(()=>M(Ee)),K.preventDefault()}})})})})})})});OM.displayName=N9;var _9="SelectItemAlignedPosition",DM=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...s}=e,i=qi(Io,r),l=Wi(Io,r),[u,d]=x.useState(null),[f,m]=x.useState(null),h=Nt(t,R=>m(R)),g=Rp(r),j=x.useRef(!1),w=x.useRef(!0),{viewport:b,selectedItem:v,selectedItemText:N,focusSelectedItem:C}=l,S=x.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&f&&b&&v&&N){const R=i.trigger.getBoundingClientRect(),D=f.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),B=N.getBoundingClientRect();if(i.dir!=="rtl"){const De=B.left-D.left,re=k.left-De,le=R.left-re,ge=R.width+le,Fe=Math.max(ge,D.width),Xe=window.innerWidth-Ta,lt=d2(re,[Ta,Math.max(Ta,Xe-Fe)]);u.style.minWidth=ge+"px",u.style.left=lt+"px"}else{const De=D.right-B.right,re=window.innerWidth-k.right-De,le=window.innerWidth-R.right-re,ge=R.width+le,Fe=Math.max(ge,D.width),Xe=window.innerWidth-Ta,lt=d2(re,[Ta,Math.max(Ta,Xe-Fe)]);u.style.minWidth=ge+"px",u.style.right=lt+"px"}const z=g(),G=window.innerHeight-Ta*2,W=b.scrollHeight,Z=window.getComputedStyle(f),$=parseInt(Z.borderTopWidth,10),M=parseInt(Z.paddingTop,10),I=parseInt(Z.borderBottomWidth,10),O=parseInt(Z.paddingBottom,10),H=$+M+W+O+I,V=Math.min(v.offsetHeight*5,H),q=window.getComputedStyle(b),F=parseInt(q.paddingTop,10),L=parseInt(q.paddingBottom,10),Y=R.top+R.height/2-Ta,ee=G-Y,ce=v.offsetHeight/2,K=v.offsetTop+ce,fe=$+M+K,oe=H-fe;if(fe<=Y){const De=z.length>0&&v===z[z.length-1].ref.current;u.style.bottom="0px";const re=f.clientHeight-b.offsetTop-b.offsetHeight,le=Math.max(ee,ce+(De?L:0)+re+I),ge=fe+le;u.style.height=ge+"px"}else{const De=z.length>0&&v===z[0].ref.current;u.style.top="0px";const le=Math.max(Y,$+b.offsetTop+(De?F:0)+ce)+oe;u.style.height=le+"px",b.scrollTop=fe-Y+b.offsetTop}u.style.margin=`${Ta}px 0`,u.style.minHeight=V+"px",u.style.maxHeight=G+"px",a?.(),requestAnimationFrame(()=>j.current=!0)}},[g,i.trigger,i.valueNode,u,f,b,v,N,i.dir,a]);un(()=>S(),[S]);const[A,_]=x.useState();un(()=>{f&&_(window.getComputedStyle(f).zIndex)},[f]);const T=x.useCallback(R=>{R&&w.current===!0&&(S(),C?.(),w.current=!1)},[S,C]);return n.jsx(E9,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:j,onScrollButtonChange:T,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:n.jsx(it.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});DM.displayName=_9;var C9="SelectPopperPosition",lw=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:s=Ta,...i}=e,l=kp(r);return n.jsx(xp,{...l,...i,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lw.displayName=C9;var[E9,sN]=Cc(Io,{}),cw="SelectViewport",MM=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...s}=e,i=Wi(cw,r),l=sN(cw,r),u=Nt(t,i.onViewportChange),d=x.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(Pp.Slot,{scope:r,children:n.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Be(s.onScroll,f=>{const m=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=l;if(g?.current&&h){const j=Math.abs(d.current-m.scrollTop);if(j>0){const w=window.innerHeight-Ta*2,b=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),N=Math.max(b,v);if(N<w){const C=N+j,S=Math.min(w,C),A=C-S;h.style.height=S+"px",h.style.bottom==="0px"&&(m.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});MM.displayName=cw;var $M="SelectGroup",[T9,A9]=Cc($M),P9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=zr();return n.jsx(T9,{scope:r,id:s,children:n.jsx(it.div,{role:"group","aria-labelledby":s,...a,ref:t})})});P9.displayName=$M;var LM="SelectLabel",R9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=A9(LM,r);return n.jsx(it.div,{id:s.id,...a,ref:t})});R9.displayName=LM;var cm="SelectItem",[k9,FM]=Cc(cm),UM=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:s=!1,textValue:i,...l}=e,u=qi(cm,r),d=Wi(cm,r),f=u.value===a,[m,h]=x.useState(i??""),[g,j]=x.useState(!1),w=Nt(t,C=>d.itemRefCallback?.(C,a,s)),b=zr(),v=x.useRef("touch"),N=()=>{s||(u.onValueChange(a),u.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(k9,{scope:r,value:a,disabled:s,textId:b,isSelected:f,onItemTextChange:x.useCallback(C=>{h(S=>S||(C?.textContent??"").trim())},[]),children:n.jsx(Pp.ItemSlot,{scope:r,value:a,disabled:s,textValue:m,children:n.jsx(it.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:w,onFocus:Be(l.onFocus,()=>j(!0)),onBlur:Be(l.onBlur,()=>j(!1)),onClick:Be(l.onClick,()=>{v.current!=="mouse"&&N()}),onPointerUp:Be(l.onPointerUp,()=>{v.current==="mouse"&&N()}),onPointerDown:Be(l.onPointerDown,C=>{v.current=C.pointerType}),onPointerMove:Be(l.onPointerMove,C=>{v.current=C.pointerType,s?d.onItemLeave?.():v.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Be(l.onPointerLeave,C=>{C.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Be(l.onKeyDown,C=>{d.searchRef?.current!==""&&C.key===" "||(g9.includes(C.key)&&N(),C.key===" "&&C.preventDefault())})})})})});UM.displayName=cm;var Bu="SelectItemText",BM=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,...i}=e,l=qi(Bu,r),u=Wi(Bu,r),d=FM(Bu,r),f=b9(Bu,r),[m,h]=x.useState(null),g=Nt(t,N=>h(N),d.onItemTextChange,N=>u.itemTextRefCallback?.(N,d.value,d.disabled)),j=m?.textContent,w=x.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:j},d.value),[d.disabled,d.value,j]),{onNativeOptionAdd:b,onNativeOptionRemove:v}=f;return un(()=>(b(w),()=>v(w)),[b,v,w]),n.jsxs(n.Fragment,{children:[n.jsx(it.span,{id:d.textId,...i,ref:g}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Wd.createPortal(i.children,l.valueNode):null]})});BM.displayName=Bu;var zM="SelectItemIndicator",qM=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return FM(zM,r).isSelected?n.jsx(it.span,{"aria-hidden":!0,...a,ref:t}):null});qM.displayName=zM;var uw="SelectScrollUpButton",WM=x.forwardRef((e,t)=>{const r=Wi(uw,e.__scopeSelect),a=sN(uw,e.__scopeSelect),[s,i]=x.useState(!1),l=Nt(t,a.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;i(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?n.jsx(HM,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});WM.displayName=uw;var dw="SelectScrollDownButton",VM=x.forwardRef((e,t)=>{const r=Wi(dw,e.__scopeSelect),a=sN(dw,e.__scopeSelect),[s,i]=x.useState(!1),l=Nt(t,a.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;i(m)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?n.jsx(HM,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});VM.displayName=dw;var HM=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...s}=e,i=Wi("SelectScrollButton",r),l=x.useRef(null),u=Rp(r),d=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),un(()=>{u().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),n.jsx(it.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Be(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(a,50))}),onPointerMove:Be(s.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(a,50))}),onPointerLeave:Be(s.onPointerLeave,()=>{d()})})}),I9="SelectSeparator",O9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return n.jsx(it.div,{"aria-hidden":!0,...a,ref:t})});O9.displayName=I9;var fw="SelectArrow",D9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=kp(r),i=qi(fw,r),l=Wi(fw,r);return i.open&&l.position==="popper"?n.jsx(yp,{...s,...a,ref:t}):null});D9.displayName=fw;var M9="SelectBubbleInput",GM=x.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const s=x.useRef(null),i=Nt(a,s),l=aN(t);return x.useEffect(()=>{const u=s.current;if(!u)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const h=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(h)}},[l,t]),n.jsx(it.select,{...r,style:{...uM,...r.style},ref:i,defaultValue:t})});GM.displayName=M9;function KM(e){return e===""||e===void 0}function YM(e){const t=ls(e),r=x.useRef(""),a=x.useRef(0),s=x.useCallback(l=>{const u=r.current+l;t(u),(function d(f){r.current=f,window.clearTimeout(a.current),f!==""&&(a.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,s,i]}function XM(e,t,r){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let l=$9(e,Math.max(i,0));s.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function $9(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var L9=_M,F9=EM,U9=AM,B9=PM,z9=RM,q9=kM,W9=MM,V9=UM,H9=BM,G9=qM,K9=WM,Y9=VM;function tt({...e}){return n.jsx(L9,{"data-slot":"select",...e})}function rt({...e}){return n.jsx(U9,{"data-slot":"select-value",...e})}function nt({className:e,size:t="default",children:r,...a}){return n.jsxs(F9,{"data-slot":"select-trigger","data-size":t,className:We("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[r,n.jsx(B9,{asChild:!0,children:n.jsx(Xa,{className:"size-4 opacity-50"})})]})}function at({className:e,children:t,position:r="popper",...a}){return n.jsx(z9,{children:n.jsxs(q9,{"data-slot":"select-content",className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[n.jsx(X9,{}),n.jsx(W9,{className:We("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),n.jsx(Q9,{})]})})}function ye({className:e,children:t,...r}){return n.jsxs(V9,{"data-slot":"select-item",className:We("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[n.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:n.jsx(G9,{children:n.jsx(Ju,{className:"size-4"})})}),n.jsx(H9,{children:t})]})}function X9({className:e,...t}){return n.jsx(K9,{"data-slot":"select-scroll-up-button",className:We("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(jB,{className:"size-4"})})}function Q9({className:e,...t}){return n.jsx(Y9,{"data-slot":"select-scroll-down-button",className:We("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Xa,{className:"size-4"})})}var Ex,f2;function Mn(){if(f2)return Ex;f2=1;var e=Array.isArray;return Ex=e,Ex}var Tx,h2;function QM(){if(h2)return Tx;h2=1;var e=typeof jh=="object"&&jh&&jh.Object===Object&&jh;return Tx=e,Tx}var Ax,m2;function hs(){if(m2)return Ax;m2=1;var e=QM(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Ax=r,Ax}var Px,p2;function tf(){if(p2)return Px;p2=1;var e=hs(),t=e.Symbol;return Px=t,Px}var Rx,g2;function Z9(){if(g2)return Rx;g2=1;var e=tf(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,s=e?e.toStringTag:void 0;function i(l){var u=r.call(l,s),d=l[s];try{l[s]=void 0;var f=!0}catch{}var m=a.call(l);return f&&(u?l[s]=d:delete l[s]),m}return Rx=i,Rx}var kx,v2;function J9(){if(v2)return kx;v2=1;var e=Object.prototype,t=e.toString;function r(a){return t.call(a)}return kx=r,kx}var Ix,x2;function Ws(){if(x2)return Ix;x2=1;var e=tf(),t=Z9(),r=J9(),a="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?s:a:i&&i in Object(u)?t(u):r(u)}return Ix=l,Ix}var Ox,y2;function Vs(){if(y2)return Ox;y2=1;function e(t){return t!=null&&typeof t=="object"}return Ox=e,Ox}var Dx,b2;function Ec(){if(b2)return Dx;b2=1;var e=Ws(),t=Vs(),r="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&e(s)==r}return Dx=a,Dx}var Mx,j2;function iN(){if(j2)return Mx;j2=1;var e=Mn(),t=Ec(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,l){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||t(i)?!0:a.test(i)||!r.test(i)||l!=null&&i in Object(l)}return Mx=s,Mx}var $x,w2;function Vi(){if(w2)return $x;w2=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return $x=e,$x}var Lx,N2;function oN(){if(N2)return Lx;N2=1;var e=Ws(),t=Vi(),r="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==a||d==s||d==r||d==i}return Lx=l,Lx}var Fx,S2;function eH(){if(S2)return Fx;S2=1;var e=hs(),t=e["__core-js_shared__"];return Fx=t,Fx}var Ux,_2;function tH(){if(_2)return Ux;_2=1;var e=eH(),t=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!t&&t in a}return Ux=r,Ux}var Bx,C2;function ZM(){if(C2)return Bx;C2=1;var e=Function.prototype,t=e.toString;function r(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return Bx=r,Bx}var zx,E2;function rH(){if(E2)return zx;E2=1;var e=oN(),t=tH(),r=Vi(),a=ZM(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,m=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!r(g)||t(g))return!1;var j=e(g)?m:i;return j.test(a(g))}return zx=h,zx}var qx,T2;function nH(){if(T2)return qx;T2=1;function e(t,r){return t?.[r]}return qx=e,qx}var Wx,A2;function Vo(){if(A2)return Wx;A2=1;var e=rH(),t=nH();function r(a,s){var i=t(a,s);return e(i)?i:void 0}return Wx=r,Wx}var Vx,P2;function Ip(){if(P2)return Vx;P2=1;var e=Vo(),t=e(Object,"create");return Vx=t,Vx}var Hx,R2;function aH(){if(R2)return Hx;R2=1;var e=Ip();function t(){this.__data__=e?e(null):{},this.size=0}return Hx=t,Hx}var Gx,k2;function sH(){if(k2)return Gx;k2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Gx=e,Gx}var Kx,I2;function iH(){if(I2)return Kx;I2=1;var e=Ip(),t="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function s(i){var l=this.__data__;if(e){var u=l[i];return u===t?void 0:u}return a.call(l,i)?l[i]:void 0}return Kx=s,Kx}var Yx,O2;function oH(){if(O2)return Yx;O2=1;var e=Ip(),t=Object.prototype,r=t.hasOwnProperty;function a(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return Yx=a,Yx}var Xx,D2;function lH(){if(D2)return Xx;D2=1;var e=Ip(),t="__lodash_hash_undefined__";function r(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&s===void 0?t:s,this}return Xx=r,Xx}var Qx,M2;function cH(){if(M2)return Qx;M2=1;var e=aH(),t=sH(),r=iH(),a=oH(),s=lH();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,Qx=i,Qx}var Zx,$2;function uH(){if($2)return Zx;$2=1;function e(){this.__data__=[],this.size=0}return Zx=e,Zx}var Jx,L2;function lN(){if(L2)return Jx;L2=1;function e(t,r){return t===r||t!==t&&r!==r}return Jx=e,Jx}var ey,F2;function Op(){if(F2)return ey;F2=1;var e=lN();function t(r,a){for(var s=r.length;s--;)if(e(r[s][0],a))return s;return-1}return ey=t,ey}var ty,U2;function dH(){if(U2)return ty;U2=1;var e=Op(),t=Array.prototype,r=t.splice;function a(s){var i=this.__data__,l=e(i,s);if(l<0)return!1;var u=i.length-1;return l==u?i.pop():r.call(i,l,1),--this.size,!0}return ty=a,ty}var ry,B2;function fH(){if(B2)return ry;B2=1;var e=Op();function t(r){var a=this.__data__,s=e(a,r);return s<0?void 0:a[s][1]}return ry=t,ry}var ny,z2;function hH(){if(z2)return ny;z2=1;var e=Op();function t(r){return e(this.__data__,r)>-1}return ny=t,ny}var ay,q2;function mH(){if(q2)return ay;q2=1;var e=Op();function t(r,a){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,a])):s[i][1]=a,this}return ay=t,ay}var sy,W2;function Dp(){if(W2)return sy;W2=1;var e=uH(),t=dH(),r=fH(),a=hH(),s=mH();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,sy=i,sy}var iy,V2;function cN(){if(V2)return iy;V2=1;var e=Vo(),t=hs(),r=e(t,"Map");return iy=r,iy}var oy,H2;function pH(){if(H2)return oy;H2=1;var e=cH(),t=Dp(),r=cN();function a(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return oy=a,oy}var ly,G2;function gH(){if(G2)return ly;G2=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return ly=e,ly}var cy,K2;function Mp(){if(K2)return cy;K2=1;var e=gH();function t(r,a){var s=r.__data__;return e(a)?s[typeof a=="string"?"string":"hash"]:s.map}return cy=t,cy}var uy,Y2;function vH(){if(Y2)return uy;Y2=1;var e=Mp();function t(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return uy=t,uy}var dy,X2;function xH(){if(X2)return dy;X2=1;var e=Mp();function t(r){return e(this,r).get(r)}return dy=t,dy}var fy,Q2;function yH(){if(Q2)return fy;Q2=1;var e=Mp();function t(r){return e(this,r).has(r)}return fy=t,fy}var hy,Z2;function bH(){if(Z2)return hy;Z2=1;var e=Mp();function t(r,a){var s=e(this,r),i=s.size;return s.set(r,a),this.size+=s.size==i?0:1,this}return hy=t,hy}var my,J2;function uN(){if(J2)return my;J2=1;var e=pH(),t=vH(),r=xH(),a=yH(),s=bH();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,my=i,my}var py,eT;function JM(){if(eT)return py;eT=1;var e=uN(),t="Expected a function";function r(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var l=arguments,u=s?s.apply(this,l):l[0],d=i.cache;if(d.has(u))return d.get(u);var f=a.apply(this,l);return i.cache=d.set(u,f)||d,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,py=r,py}var gy,tT;function jH(){if(tT)return gy;tT=1;var e=JM(),t=500;function r(a){var s=e(a,function(l){return i.size===t&&i.clear(),l}),i=s.cache;return s}return gy=r,gy}var vy,rT;function wH(){if(rT)return vy;rT=1;var e=jH(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(l,u,d,f){i.push(d?f.replace(r,"$1"):u||l)}),i});return vy=a,vy}var xy,nT;function dN(){if(nT)return xy;nT=1;function e(t,r){for(var a=-1,s=t==null?0:t.length,i=Array(s);++a<s;)i[a]=r(t[a],a,t);return i}return xy=e,xy}var yy,aT;function NH(){if(aT)return yy;aT=1;var e=tf(),t=dN(),r=Mn(),a=Ec(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(a(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return yy=l,yy}var by,sT;function e4(){if(sT)return by;sT=1;var e=NH();function t(r){return r==null?"":e(r)}return by=t,by}var jy,iT;function t4(){if(iT)return jy;iT=1;var e=Mn(),t=iN(),r=wH(),a=e4();function s(i,l){return e(i)?i:t(i,l)?[i]:r(a(i))}return jy=s,jy}var wy,oT;function $p(){if(oT)return wy;oT=1;var e=Ec();function t(r){if(typeof r=="string"||e(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return wy=t,wy}var Ny,lT;function fN(){if(lT)return Ny;lT=1;var e=t4(),t=$p();function r(a,s){s=e(s,a);for(var i=0,l=s.length;a!=null&&i<l;)a=a[t(s[i++])];return i&&i==l?a:void 0}return Ny=r,Ny}var Sy,cT;function r4(){if(cT)return Sy;cT=1;var e=fN();function t(r,a,s){var i=r==null?void 0:e(r,a);return i===void 0?s:i}return Sy=t,Sy}var SH=r4();const va=qt(SH);var _y,uT;function _H(){if(uT)return _y;uT=1;function e(t){return t==null}return _y=e,_y}var CH=_H();const Rt=qt(CH);var Cy,dT;function EH(){if(dT)return Cy;dT=1;var e=Ws(),t=Mn(),r=Vs(),a="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==a}return Cy=s,Cy}var TH=EH();const Oo=qt(TH);var AH=oN();const jt=qt(AH);var PH=Vi();const Tc=qt(PH);var Ey={exports:{}},kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function RH(){if(fT)return kt;fT=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function b(v){if(typeof v=="object"&&v!==null){var N=v.$$typeof;switch(N){case e:switch(v=v.type,v){case r:case s:case a:case f:case m:return v;default:switch(v=v&&v.$$typeof,v){case u:case l:case d:case g:case h:case i:return v;default:return N}}case t:return N}}}return kt.ContextConsumer=l,kt.ContextProvider=i,kt.Element=e,kt.ForwardRef=d,kt.Fragment=r,kt.Lazy=g,kt.Memo=h,kt.Portal=t,kt.Profiler=s,kt.StrictMode=a,kt.Suspense=f,kt.SuspenseList=m,kt.isAsyncMode=function(){return!1},kt.isConcurrentMode=function(){return!1},kt.isContextConsumer=function(v){return b(v)===l},kt.isContextProvider=function(v){return b(v)===i},kt.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},kt.isForwardRef=function(v){return b(v)===d},kt.isFragment=function(v){return b(v)===r},kt.isLazy=function(v){return b(v)===g},kt.isMemo=function(v){return b(v)===h},kt.isPortal=function(v){return b(v)===t},kt.isProfiler=function(v){return b(v)===s},kt.isStrictMode=function(v){return b(v)===a},kt.isSuspense=function(v){return b(v)===f},kt.isSuspenseList=function(v){return b(v)===m},kt.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===s||v===a||v===f||v===m||v===j||typeof v=="object"&&v!==null&&(v.$$typeof===g||v.$$typeof===h||v.$$typeof===i||v.$$typeof===l||v.$$typeof===d||v.$$typeof===w||v.getModuleId!==void 0)},kt.typeOf=b,kt}var hT;function kH(){return hT||(hT=1,Ey.exports=RH()),Ey.exports}var IH=kH(),Ty,mT;function n4(){if(mT)return Ty;mT=1;var e=Ws(),t=Vs(),r="[object Number]";function a(s){return typeof s=="number"||t(s)&&e(s)==r}return Ty=a,Ty}var Ay,pT;function OH(){if(pT)return Ay;pT=1;var e=n4();function t(r){return e(r)&&r!=+r}return Ay=t,Ay}var DH=OH();const rf=qt(DH);var MH=n4();const $H=qt(MH);var ka=function(t){return t===0?0:t>0?1:-1},bo=function(t){return Oo(t)&&t.indexOf("%")===t.length-1},$e=function(t){return $H(t)&&!rf(t)},LH=function(t){return Rt(t)},Tr=function(t){return $e(t)||Oo(t)},FH=0,Lp=function(t){var r=++FH;return"".concat(t||"").concat(r)},Do=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(t)&&!Oo(t))return a;var i;if(bo(t)){var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return rf(i)&&(i=a),s&&i>r&&(i=r),i},Ci=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},UH=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},Nl=function(t,r){return $e(t)&&$e(r)?function(a){return t+a*(r-t)}:function(){return r}};function hw(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):va(a,t))===r})}var BH=function(t,r){return $e(t)&&$e(r)?t-r:Oo(t)&&Oo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Bl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function mw(e){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mw(e)}var zH=["viewBox","children"],qH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gT=["points","pathLength"],Py={svg:zH,polygon:gT,polyline:gT},hN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],um=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Tc(a))return null;var s={};return Object.keys(a).forEach(function(i){hN.includes(i)&&(s[i]=r||function(l){return a[i](a,l)})}),s},WH=function(t,r,a){return function(s){return t(r,a,s),null}},dm=function(t,r,a){if(!Tc(t)||mw(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];hN.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=WH(l,r,a))}),s},VH=["children"],HH=["children"];function vT(e,t){if(e==null)return{};var r=GH(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function GH(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var xT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Os=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},yT=null,Ry=null,mN=function e(t){if(t===yT&&Array.isArray(Ry))return Ry;var r=[];return x.Children.forEach(t,function(a){Rt(a)||(IH.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),Ry=r,yT=t,r};function Oa(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(s){return Os(s)}):a=[Os(t)],mN(e).forEach(function(s){var i=va(s,"type.displayName")||va(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function Hn(e,t){var r=Oa(e,t);return r&&r[0]}var bT=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,s=r.height;return!(!$e(a)||a<=0||!$e(s)||s<=0)},KH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],YH=function(t){return t&&t.type&&Oo(t.type)&&KH.indexOf(t.type)>=0},XH=function(t,r,a,s){var i,l=(i=Py?.[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!jt(t)&&(s&&l.includes(r)||qH.includes(r))||a&&hN.includes(r)},Pt=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(x.isValidElement(t)&&(s=t.props),!Tc(s))return null;var i={};return Object.keys(s).forEach(function(l){var u;XH((u=s)===null||u===void 0?void 0:u[l],l,r,a)&&(i[l]=s[l])}),i},pw=function e(t,r){if(t===r)return!0;var a=x.Children.count(t);if(a!==x.Children.count(r))return!1;if(a===0)return!0;if(a===1)return jT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var i=t[s],l=r[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!jT(i,l))return!1}return!0},jT=function(t,r){if(Rt(t)&&Rt(r))return!0;if(!Rt(t)&&!Rt(r)){var a=t.props||{},s=a.children,i=vT(a,VH),l=r.props||{},u=l.children,d=vT(l,HH);return s&&u?Bl(i,d)&&pw(s,u):!s&&!u?Bl(i,d):!1}return!1},wT=function(t,r){var a=[],s={};return mN(t).forEach(function(i,l){if(YH(i))a.push(i);else if(i){var u=Os(i.type),d=r[u]||{},f=d.handler,m=d.once;if(f&&(!m||!s[u])){var h=f(i,u,l);a.push(h),s[u]=!0}}}),a},QH=function(t){var r=t&&t.type;return r&&xT[r]?xT[r]:null},ZH=function(t,r){return mN(r).indexOf(t)},JH=["children","width","height","viewBox","className","style","title","desc"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gw.apply(this,arguments)}function eG(e,t){if(e==null)return{};var r=tG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function tG(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function vw(e){var t=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,l=e.style,u=e.title,d=e.desc,f=eG(e,JH),m=s||{width:r,height:a,x:0,y:0},h=Ct("recharts-surface",i);return Q.createElement("svg",gw({},Pt(f,!0,"svg"),{className:h,width:r,height:a,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),Q.createElement("title",null,u),Q.createElement("desc",null,d),t)}var rG=["children","className"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xw.apply(this,arguments)}function nG(e,t){if(e==null)return{};var r=aG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function aG(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var $r=Q.forwardRef(function(e,t){var r=e.children,a=e.className,s=nG(e,rG),i=Ct("recharts-layer",a);return Q.createElement("g",xw({className:i},Pt(s,!0),{ref:t}),r)}),Ds=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},ky,NT;function sG(){if(NT)return ky;NT=1;function e(t,r,a){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),a=a>i?i:a,a<0&&(a+=i),i=r>a?0:a-r>>>0,r>>>=0;for(var l=Array(i);++s<i;)l[s]=t[s+r];return l}return ky=e,ky}var Iy,ST;function iG(){if(ST)return Iy;ST=1;var e=sG();function t(r,a,s){var i=r.length;return s=s===void 0?i:s,!a&&s>=i?r:e(r,a,s)}return Iy=t,Iy}var Oy,_T;function a4(){if(_T)return Oy;_T=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+r+a,i="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+s+i+"]");function d(f){return u.test(f)}return Oy=d,Oy}var Dy,CT;function oG(){if(CT)return Dy;CT=1;function e(t){return t.split("")}return Dy=e,Dy}var My,ET;function lG(){if(ET)return My;ET=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+r+a,i="\\ufe0e\\ufe0f",l="["+e+"]",u="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",m="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",j="\\u200d",w=f+"?",b="["+i+"]?",v="(?:"+j+"(?:"+[m,h,g].join("|")+")"+b+w+")*",N=b+w+v,C="(?:"+[m+u+"?",u,h,g,l].join("|")+")",S=RegExp(d+"(?="+d+")|"+C+N,"g");function A(_){return _.match(S)||[]}return My=A,My}var $y,TT;function cG(){if(TT)return $y;TT=1;var e=oG(),t=a4(),r=lG();function a(s){return t(s)?r(s):e(s)}return $y=a,$y}var Ly,AT;function uG(){if(AT)return Ly;AT=1;var e=iG(),t=a4(),r=cG(),a=e4();function s(i){return function(l){l=a(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[i]()+f}}return Ly=s,Ly}var Fy,PT;function dG(){if(PT)return Fy;PT=1;var e=uG(),t=e("toUpperCase");return Fy=t,Fy}var fG=dG();const Fp=qt(fG);function Gt(e){return function(){return e}}const s4=Math.cos,fm=Math.sin,Fa=Math.sqrt,hm=Math.PI,Up=2*hm,yw=Math.PI,bw=2*yw,po=1e-6,hG=bw-po;function i4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function mG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return i4;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class pG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?i4:mG(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,l){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=a-t,f=s-r,m=l-t,h=u-r,g=m*m+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>po)if(!(Math.abs(h*d-f*m)>po)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let j=a-l,w=s-u,b=d*d+f*f,v=j*j+w*w,N=Math.sqrt(b),C=Math.sqrt(g),S=i*Math.tan((yw-Math.acos((b+g-v)/(2*N*C)))/2),A=S/C,_=S/N;Math.abs(A-1)>po&&this._append`L${t+A*m},${r+A*h}`,this._append`A${i},${i},0,0,${+(h*j>m*w)},${this._x1=t+_*d},${this._y1=r+_*f}`}}arc(t,r,a,s,i,l){if(t=+t,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let u=a*Math.cos(s),d=a*Math.sin(s),f=t+u,m=r+d,h=1^l,g=l?s-i:i-s;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>po||Math.abs(this._y1-m)>po)&&this._append`L${f},${m}`,a&&(g<0&&(g=g%bw+bw),g>hG?this._append`A${a},${a},0,1,${h},${t-u},${r-d}A${a},${a},0,1,${h},${this._x1=f},${this._y1=m}`:g>po&&this._append`A${a},${a},0,${+(g>=yw)},${h},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function pN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new pG(t)}function gN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o4(e){this._context=e}o4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Bp(e){return new o4(e)}function l4(e){return e[0]}function c4(e){return e[1]}function u4(e,t){var r=Gt(!0),a=null,s=Bp,i=null,l=pN(u);e=typeof e=="function"?e:e===void 0?l4:Gt(e),t=typeof t=="function"?t:t===void 0?c4:Gt(t);function u(d){var f,m=(d=gN(d)).length,h,g=!1,j;for(a==null&&(i=s(j=l())),f=0;f<=m;++f)!(f<m&&r(h=d[f],f,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(h,f,d),+t(h,f,d));if(j)return i=null,j+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Gt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Gt(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Gt(!!d),u):r},u.curve=function(d){return arguments.length?(s=d,a!=null&&(i=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=i=null:i=s(a=d),u):a},u}function Ih(e,t,r){var a=null,s=Gt(!0),i=null,l=Bp,u=null,d=pN(f);e=typeof e=="function"?e:e===void 0?l4:Gt(+e),t=typeof t=="function"?t:Gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?c4:Gt(+r);function f(h){var g,j,w,b=(h=gN(h)).length,v,N=!1,C,S=new Array(b),A=new Array(b);for(i==null&&(u=l(C=d())),g=0;g<=b;++g){if(!(g<b&&s(v=h[g],g,h))===N)if(N=!N)j=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=g-1;w>=j;--w)u.point(S[w],A[w]);u.lineEnd(),u.areaEnd()}N&&(S[g]=+e(v,g,h),A[g]=+t(v,g,h),u.point(a?+a(v,g,h):S[g],r?+r(v,g,h):A[g]))}if(C)return u=null,C+""||null}function m(){return u4().defined(s).curve(l).context(i)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:Gt(+h),a=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Gt(+h),f):e},f.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:Gt(+h),f):a},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:Gt(+h),r=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Gt(+h),f):t},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Gt(+h),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(a).y(t)},f.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Gt(!!h),f):s},f.curve=function(h){return arguments.length?(l=h,i!=null&&(u=l(i)),f):l},f.context=function(h){return arguments.length?(h==null?i=u=null:u=l(i=h),f):i},f}class d4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function gG(e){return new d4(e,!0)}function vG(e){return new d4(e,!1)}const vN={draw(e,t){const r=Fa(t/hm);e.moveTo(r,0),e.arc(0,0,r,0,Up)}},xG={draw(e,t){const r=Fa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},f4=Fa(1/3),yG=f4*2,bG={draw(e,t){const r=Fa(t/yG),a=r*f4;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},jG={draw(e,t){const r=Fa(t),a=-r/2;e.rect(a,a,r,r)}},wG=.8908130915292852,h4=fm(hm/10)/fm(7*hm/10),NG=fm(Up/10)*h4,SG=-s4(Up/10)*h4,_G={draw(e,t){const r=Fa(t*wG),a=NG*r,s=SG*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const l=Up*i/5,u=s4(l),d=fm(l);e.lineTo(d*r,-u*r),e.lineTo(u*a-d*s,d*a+u*s)}e.closePath()}},Uy=Fa(3),CG={draw(e,t){const r=-Fa(t/(Uy*3));e.moveTo(0,r*2),e.lineTo(-Uy*r,-r),e.lineTo(Uy*r,-r),e.closePath()}},ua=-.5,da=Fa(3)/2,jw=1/Fa(12),EG=(jw/2+1)*3,TG={draw(e,t){const r=Fa(t/EG),a=r/2,s=r*jw,i=a,l=r*jw+r,u=-i,d=l;e.moveTo(a,s),e.lineTo(i,l),e.lineTo(u,d),e.lineTo(ua*a-da*s,da*a+ua*s),e.lineTo(ua*i-da*l,da*i+ua*l),e.lineTo(ua*u-da*d,da*u+ua*d),e.lineTo(ua*a+da*s,ua*s-da*a),e.lineTo(ua*i+da*l,ua*l-da*i),e.lineTo(ua*u+da*d,ua*d-da*u),e.closePath()}};function AG(e,t){let r=null,a=pN(s);e=typeof e=="function"?e:Gt(e||vN),t=typeof t=="function"?t:Gt(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Gt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function mm(){}function pm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function m4(e){this._context=e}m4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PG(e){return new m4(e)}function p4(e){this._context=e}p4.prototype={areaStart:mm,areaEnd:mm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RG(e){return new p4(e)}function g4(e){this._context=e}g4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:pm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kG(e){return new g4(e)}function v4(e){this._context=e}v4.prototype={areaStart:mm,areaEnd:mm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function IG(e){return new v4(e)}function RT(e){return e<0?-1:1}function kT(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),l=(r-e._y1)/(s||a<0&&-0),u=(i*s+l*a)/(a+s);return(RT(i)+RT(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function IT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function By(e,t,r){var a=e._x0,s=e._y0,i=e._x1,l=e._y1,u=(i-a)/3;e._context.bezierCurveTo(a+u,s+u*t,i-u,l-u*r,i,l)}function gm(e){this._context=e}gm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:By(this,this._t0,IT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,By(this,IT(this,r=kT(this,e,t)),r);break;default:By(this,this._t0,r=kT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function x4(e){this._context=new y4(e)}(x4.prototype=Object.create(gm.prototype)).point=function(e,t){gm.prototype.point.call(this,t,e)};function y4(e){this._context=e}y4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function OG(e){return new gm(e)}function DG(e){return new x4(e)}function b4(e){this._context=e}b4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=OT(e),s=OT(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function OT(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),l=new Array(r);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(s[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function MG(e){return new b4(e)}function zp(e,t){this._context=e,this._t=t}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function $G(e){return new zp(e,.5)}function LG(e){return new zp(e,0)}function FG(e){return new zp(e,1)}function Xl(e,t){if((l=e.length)>1)for(var r=1,a,s,i=e[t[0]],l,u=i.length;r<l;++r)for(s=i,i=e[t[r]],a=0;a<u;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function ww(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function UG(e,t){return e[t]}function BG(e){const t=[];return t.key=e,t}function zG(){var e=Gt([]),t=ww,r=Xl,a=UG;function s(i){var l=Array.from(e.apply(this,arguments),BG),u,d=l.length,f=-1,m;for(const h of i)for(u=0,++f;u<d;++u)(l[u][f]=[0,+a(h,l[u].key,f,i)]).data=h;for(u=0,m=gN(t(l));u<d;++u)l[m[u]].index=u;return r(l,m),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Gt(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?ww:typeof i=="function"?i:Gt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Xl,s):r},s}function qG(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,l;s<i;++s){for(l=r=0;r<a;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<a;++r)e[r][s][1]/=l}Xl(e,t)}}function WG(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var l=0,u=0;l<s;++l)u+=e[l][r][1]||0;a[r][1]+=a[r][0]=-u/2}Xl(e,t)}}function VG(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,l;a<i;++a){for(var u=0,d=0,f=0;u<l;++u){for(var m=e[t[u]],h=m[a][1]||0,g=m[a-1][1]||0,j=(h-g)/2,w=0;w<u;++w){var b=e[t[w]],v=b[a][1]||0,N=b[a-1][1]||0;j+=v-N}d+=h,f+=j*h}s[a-1][1]+=s[a-1][0]=r,d&&(r-=f/d)}s[a-1][1]+=s[a-1][0]=r,Xl(e,t)}}function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}var HG=["type","size","sizeType"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Nw.apply(this,arguments)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function MT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(a){GG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function GG(e,t,r){return t=KG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=YG(e,"string");return ld(t)=="symbol"?t:t+""}function YG(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ld(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XG(e,t){if(e==null)return{};var r=QG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function QG(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var j4={symbolCircle:vN,symbolCross:xG,symbolDiamond:bG,symbolSquare:jG,symbolStar:_G,symbolTriangle:CG,symbolWye:TG},ZG=Math.PI/180,JG=function(t){var r="symbol".concat(Fp(t));return j4[r]||vN},eK=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*ZG;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},tK=function(t,r){j4["symbol".concat(Fp(t))]=r},xN=function(t){var r=t.type,a=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,l=t.sizeType,u=l===void 0?"area":l,d=XG(t,HG),f=MT(MT({},d),{},{type:a,size:i,sizeType:u}),m=function(){var v=JG(a),N=AG().type(v).size(eK(i,u,a));return N()},h=f.className,g=f.cx,j=f.cy,w=Pt(f,!0);return g===+g&&j===+j&&i===+i?Q.createElement("path",Nw({},w,{className:Ct("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(j,")"),d:m()})):null};xN.registerSymbol=tK;function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sw.apply(this,arguments)}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(a){cd(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aK(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,N4(a.key),a)}}function sK(e,t,r){return t&&aK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iK(e,t,r){return t=vm(t),oK(e,w4()?Reflect.construct(t,r||[],vm(e).constructor):t.apply(e,r))}function oK(e,t){if(t&&(Ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lK(e)}function lK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w4=function(){return!!e})()}function vm(e){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(e)}function cK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_w(e,t)}function _w(e,t){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_w(e,t)}function cd(e,t,r){return t=N4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N4(e){var t=uK(e,"string");return Ql(t)=="symbol"?t:t+""}function uK(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ql(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fa=32,yN=(function(e){function t(){return nK(this,t),iK(this,t,arguments)}return cK(t,e),sK(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=fa/2,l=fa/6,u=fa/3,d=a.inactive?s:a.color;if(a.type==="plainline")return Q.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:fa,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return Q.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(fa,"M").concat(2*u,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return Q.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(fa/8,"h").concat(fa,"v").concat(fa*3/4,"h").concat(-fa,"z"),className:"recharts-legend-icon"});if(Q.isValidElement(a.legendIcon)){var f=rK({},a);return delete f.legendIcon,Q.cloneElement(a.legendIcon,f)}return Q.createElement(xN,{fill:d,cx:i,cy:i,size:fa,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,l=s.iconSize,u=s.layout,d=s.formatter,f=s.inactiveColor,m={x:0,y:0,width:fa,height:fa},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(j,w){var b=j.formatter||d,v=Ct(cd(cd({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",j.inactive));if(j.type==="none")return null;var N=jt(j.value)?null:j.value;Ds(!jt(j.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=j.inactive?f:j.color;return Q.createElement("li",Sw({className:v,style:h,key:"legend-item-".concat(w)},dm(a.props,j,w)),Q.createElement(vw,{width:l,height:l,viewBox:m,style:g},a.renderIcon(j)),Q.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},b?b(N,j,w):N))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,l=a.align;if(!s||!s.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return Q.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(x.PureComponent);cd(yN,"displayName","Legend");cd(yN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zy,LT;function dK(){if(LT)return zy;LT=1;var e=Dp();function t(){this.__data__=new e,this.size=0}return zy=t,zy}var qy,FT;function fK(){if(FT)return qy;FT=1;function e(t){var r=this.__data__,a=r.delete(t);return this.size=r.size,a}return qy=e,qy}var Wy,UT;function hK(){if(UT)return Wy;UT=1;function e(t){return this.__data__.get(t)}return Wy=e,Wy}var Vy,BT;function mK(){if(BT)return Vy;BT=1;function e(t){return this.__data__.has(t)}return Vy=e,Vy}var Hy,zT;function pK(){if(zT)return Hy;zT=1;var e=Dp(),t=cN(),r=uN(),a=200;function s(i,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<a-1)return d.push([i,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(i,l),this.size=u.size,this}return Hy=s,Hy}var Gy,qT;function S4(){if(qT)return Gy;qT=1;var e=Dp(),t=dK(),r=fK(),a=hK(),s=mK(),i=pK();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=s,l.prototype.set=i,Gy=l,Gy}var Ky,WT;function gK(){if(WT)return Ky;WT=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Ky=t,Ky}var Yy,VT;function vK(){if(VT)return Yy;VT=1;function e(t){return this.__data__.has(t)}return Yy=e,Yy}var Xy,HT;function _4(){if(HT)return Xy;HT=1;var e=uN(),t=gK(),r=vK();function a(s){var i=-1,l=s==null?0:s.length;for(this.__data__=new e;++i<l;)this.add(s[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=r,Xy=a,Xy}var Qy,GT;function C4(){if(GT)return Qy;GT=1;function e(t,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(r(t[a],a,t))return!0;return!1}return Qy=e,Qy}var Zy,KT;function E4(){if(KT)return Zy;KT=1;function e(t,r){return t.has(r)}return Zy=e,Zy}var Jy,YT;function T4(){if(YT)return Jy;YT=1;var e=_4(),t=C4(),r=E4(),a=1,s=2;function i(l,u,d,f,m,h){var g=d&a,j=l.length,w=u.length;if(j!=w&&!(g&&w>j))return!1;var b=h.get(l),v=h.get(u);if(b&&v)return b==u&&v==l;var N=-1,C=!0,S=d&s?new e:void 0;for(h.set(l,u),h.set(u,l);++N<j;){var A=l[N],_=u[N];if(f)var T=g?f(_,A,N,u,l,h):f(A,_,N,l,u,h);if(T!==void 0){if(T)continue;C=!1;break}if(S){if(!t(u,function(R,D){if(!r(S,D)&&(A===R||m(A,R,d,f,h)))return S.push(D)})){C=!1;break}}else if(!(A===_||m(A,_,d,f,h))){C=!1;break}}return h.delete(l),h.delete(u),C}return Jy=i,Jy}var e0,XT;function xK(){if(XT)return e0;XT=1;var e=hs(),t=e.Uint8Array;return e0=t,e0}var t0,QT;function yK(){if(QT)return t0;QT=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(s,i){a[++r]=[i,s]}),a}return t0=e,t0}var r0,ZT;function bN(){if(ZT)return r0;ZT=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(s){a[++r]=s}),a}return r0=e,r0}var n0,JT;function bK(){if(JT)return n0;JT=1;var e=tf(),t=xK(),r=lN(),a=T4(),s=yK(),i=bN(),l=1,u=2,d="[object Boolean]",f="[object Date]",m="[object Error]",h="[object Map]",g="[object Number]",j="[object RegExp]",w="[object Set]",b="[object String]",v="[object Symbol]",N="[object ArrayBuffer]",C="[object DataView]",S=e?e.prototype:void 0,A=S?S.valueOf:void 0;function _(T,R,D,k,B,z,G){switch(D){case C:if(T.byteLength!=R.byteLength||T.byteOffset!=R.byteOffset)return!1;T=T.buffer,R=R.buffer;case N:return!(T.byteLength!=R.byteLength||!z(new t(T),new t(R)));case d:case f:case g:return r(+T,+R);case m:return T.name==R.name&&T.message==R.message;case j:case b:return T==R+"";case h:var W=s;case w:var Z=k&l;if(W||(W=i),T.size!=R.size&&!Z)return!1;var $=G.get(T);if($)return $==R;k|=u,G.set(T,R);var M=a(W(T),W(R),k,B,z,G);return G.delete(T),M;case v:if(A)return A.call(T)==A.call(R)}return!1}return n0=_,n0}var a0,eA;function A4(){if(eA)return a0;eA=1;function e(t,r){for(var a=-1,s=r.length,i=t.length;++a<s;)t[i+a]=r[a];return t}return a0=e,a0}var s0,tA;function jK(){if(tA)return s0;tA=1;var e=A4(),t=Mn();function r(a,s,i){var l=s(a);return t(a)?l:e(l,i(a))}return s0=r,s0}var i0,rA;function wK(){if(rA)return i0;rA=1;function e(t,r){for(var a=-1,s=t==null?0:t.length,i=0,l=[];++a<s;){var u=t[a];r(u,a,t)&&(l[i++]=u)}return l}return i0=e,i0}var o0,nA;function NK(){if(nA)return o0;nA=1;function e(){return[]}return o0=e,o0}var l0,aA;function SK(){if(aA)return l0;aA=1;var e=wK(),t=NK(),r=Object.prototype,a=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(u){return a.call(l,u)}))}:t;return l0=i,l0}var c0,sA;function _K(){if(sA)return c0;sA=1;function e(t,r){for(var a=-1,s=Array(t);++a<t;)s[a]=r(a);return s}return c0=e,c0}var u0,iA;function CK(){if(iA)return u0;iA=1;var e=Ws(),t=Vs(),r="[object Arguments]";function a(s){return t(s)&&e(s)==r}return u0=a,u0}var d0,oA;function jN(){if(oA)return d0;oA=1;var e=CK(),t=Vs(),r=Object.prototype,a=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&a.call(l,"callee")&&!s.call(l,"callee")};return d0=i,d0}var zu={exports:{}},f0,lA;function EK(){if(lA)return f0;lA=1;function e(){return!1}return f0=e,f0}zu.exports;var cA;function P4(){return cA||(cA=1,(function(e,t){var r=hs(),a=EK(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||a;e.exports=f})(zu,zu.exports)),zu.exports}var h0,uA;function wN(){if(uA)return h0;uA=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(a,s){var i=typeof a;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<s}return h0=r,h0}var m0,dA;function NN(){if(dA)return m0;dA=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return m0=t,m0}var p0,fA;function TK(){if(fA)return p0;fA=1;var e=Ws(),t=NN(),r=Vs(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",m="[object Number]",h="[object Object]",g="[object RegExp]",j="[object Set]",w="[object String]",b="[object WeakMap]",v="[object ArrayBuffer]",N="[object DataView]",C="[object Float32Array]",S="[object Float64Array]",A="[object Int8Array]",_="[object Int16Array]",T="[object Int32Array]",R="[object Uint8Array]",D="[object Uint8ClampedArray]",k="[object Uint16Array]",B="[object Uint32Array]",z={};z[C]=z[S]=z[A]=z[_]=z[T]=z[R]=z[D]=z[k]=z[B]=!0,z[a]=z[s]=z[v]=z[i]=z[N]=z[l]=z[u]=z[d]=z[f]=z[m]=z[h]=z[g]=z[j]=z[w]=z[b]=!1;function G(W){return r(W)&&t(W.length)&&!!z[e(W)]}return p0=G,p0}var g0,hA;function R4(){if(hA)return g0;hA=1;function e(t){return function(r){return t(r)}}return g0=e,g0}var qu={exports:{}};qu.exports;var mA;function AK(){return mA||(mA=1,(function(e,t){var r=QM(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i&&r.process,u=(function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(qu,qu.exports)),qu.exports}var v0,pA;function k4(){if(pA)return v0;pA=1;var e=TK(),t=R4(),r=AK(),a=r&&r.isTypedArray,s=a?t(a):e;return v0=s,v0}var x0,gA;function PK(){if(gA)return x0;gA=1;var e=_K(),t=jN(),r=Mn(),a=P4(),s=wN(),i=k4(),l=Object.prototype,u=l.hasOwnProperty;function d(f,m){var h=r(f),g=!h&&t(f),j=!h&&!g&&a(f),w=!h&&!g&&!j&&i(f),b=h||g||j||w,v=b?e(f.length,String):[],N=v.length;for(var C in f)(m||u.call(f,C))&&!(b&&(C=="length"||j&&(C=="offset"||C=="parent")||w&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||s(C,N)))&&v.push(C);return v}return x0=d,x0}var y0,vA;function RK(){if(vA)return y0;vA=1;var e=Object.prototype;function t(r){var a=r&&r.constructor,s=typeof a=="function"&&a.prototype||e;return r===s}return y0=t,y0}var b0,xA;function I4(){if(xA)return b0;xA=1;function e(t,r){return function(a){return t(r(a))}}return b0=e,b0}var j0,yA;function kK(){if(yA)return j0;yA=1;var e=I4(),t=e(Object.keys,Object);return j0=t,j0}var w0,bA;function IK(){if(bA)return w0;bA=1;var e=RK(),t=kK(),r=Object.prototype,a=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var l=[];for(var u in Object(i))a.call(i,u)&&u!="constructor"&&l.push(u);return l}return w0=s,w0}var N0,jA;function nf(){if(jA)return N0;jA=1;var e=oN(),t=NN();function r(a){return a!=null&&t(a.length)&&!e(a)}return N0=r,N0}var S0,wA;function qp(){if(wA)return S0;wA=1;var e=PK(),t=IK(),r=nf();function a(s){return r(s)?e(s):t(s)}return S0=a,S0}var _0,NA;function OK(){if(NA)return _0;NA=1;var e=jK(),t=SK(),r=qp();function a(s){return e(s,r,t)}return _0=a,_0}var C0,SA;function DK(){if(SA)return C0;SA=1;var e=OK(),t=1,r=Object.prototype,a=r.hasOwnProperty;function s(i,l,u,d,f,m){var h=u&t,g=e(i),j=g.length,w=e(l),b=w.length;if(j!=b&&!h)return!1;for(var v=j;v--;){var N=g[v];if(!(h?N in l:a.call(l,N)))return!1}var C=m.get(i),S=m.get(l);if(C&&S)return C==l&&S==i;var A=!0;m.set(i,l),m.set(l,i);for(var _=h;++v<j;){N=g[v];var T=i[N],R=l[N];if(d)var D=h?d(R,T,N,l,i,m):d(T,R,N,i,l,m);if(!(D===void 0?T===R||f(T,R,u,d,m):D)){A=!1;break}_||(_=N=="constructor")}if(A&&!_){var k=i.constructor,B=l.constructor;k!=B&&"constructor"in i&&"constructor"in l&&!(typeof k=="function"&&k instanceof k&&typeof B=="function"&&B instanceof B)&&(A=!1)}return m.delete(i),m.delete(l),A}return C0=s,C0}var E0,_A;function MK(){if(_A)return E0;_A=1;var e=Vo(),t=hs(),r=e(t,"DataView");return E0=r,E0}var T0,CA;function $K(){if(CA)return T0;CA=1;var e=Vo(),t=hs(),r=e(t,"Promise");return T0=r,T0}var A0,EA;function O4(){if(EA)return A0;EA=1;var e=Vo(),t=hs(),r=e(t,"Set");return A0=r,A0}var P0,TA;function LK(){if(TA)return P0;TA=1;var e=Vo(),t=hs(),r=e(t,"WeakMap");return P0=r,P0}var R0,AA;function FK(){if(AA)return R0;AA=1;var e=MK(),t=cN(),r=$K(),a=O4(),s=LK(),i=Ws(),l=ZM(),u="[object Map]",d="[object Object]",f="[object Promise]",m="[object Set]",h="[object WeakMap]",g="[object DataView]",j=l(e),w=l(t),b=l(r),v=l(a),N=l(s),C=i;return(e&&C(new e(new ArrayBuffer(1)))!=g||t&&C(new t)!=u||r&&C(r.resolve())!=f||a&&C(new a)!=m||s&&C(new s)!=h)&&(C=function(S){var A=i(S),_=A==d?S.constructor:void 0,T=_?l(_):"";if(T)switch(T){case j:return g;case w:return u;case b:return f;case v:return m;case N:return h}return A}),R0=C,R0}var k0,PA;function UK(){if(PA)return k0;PA=1;var e=S4(),t=T4(),r=bK(),a=DK(),s=FK(),i=Mn(),l=P4(),u=k4(),d=1,f="[object Arguments]",m="[object Array]",h="[object Object]",g=Object.prototype,j=g.hasOwnProperty;function w(b,v,N,C,S,A){var _=i(b),T=i(v),R=_?m:s(b),D=T?m:s(v);R=R==f?h:R,D=D==f?h:D;var k=R==h,B=D==h,z=R==D;if(z&&l(b)){if(!l(v))return!1;_=!0,k=!1}if(z&&!k)return A||(A=new e),_||u(b)?t(b,v,N,C,S,A):r(b,v,R,N,C,S,A);if(!(N&d)){var G=k&&j.call(b,"__wrapped__"),W=B&&j.call(v,"__wrapped__");if(G||W){var Z=G?b.value():b,$=W?v.value():v;return A||(A=new e),S(Z,$,N,C,A)}}return z?(A||(A=new e),a(b,v,N,C,S,A)):!1}return k0=w,k0}var I0,RA;function SN(){if(RA)return I0;RA=1;var e=UK(),t=Vs();function r(a,s,i,l,u){return a===s?!0:a==null||s==null||!t(a)&&!t(s)?a!==a&&s!==s:e(a,s,i,l,r,u)}return I0=r,I0}var O0,kA;function BK(){if(kA)return O0;kA=1;var e=S4(),t=SN(),r=1,a=2;function s(i,l,u,d){var f=u.length,m=f,h=!d;if(i==null)return!m;for(i=Object(i);f--;){var g=u[f];if(h&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++f<m;){g=u[f];var j=g[0],w=i[j],b=g[1];if(h&&g[2]){if(w===void 0&&!(j in i))return!1}else{var v=new e;if(d)var N=d(w,b,j,i,l,v);if(!(N===void 0?t(b,w,r|a,d,v):N))return!1}}return!0}return O0=s,O0}var D0,IA;function D4(){if(IA)return D0;IA=1;var e=Vi();function t(r){return r===r&&!e(r)}return D0=t,D0}var M0,OA;function zK(){if(OA)return M0;OA=1;var e=D4(),t=qp();function r(a){for(var s=t(a),i=s.length;i--;){var l=s[i],u=a[l];s[i]=[l,u,e(u)]}return s}return M0=r,M0}var $0,DA;function M4(){if(DA)return $0;DA=1;function e(t,r){return function(a){return a==null?!1:a[t]===r&&(r!==void 0||t in Object(a))}}return $0=e,$0}var L0,MA;function qK(){if(MA)return L0;MA=1;var e=BK(),t=zK(),r=M4();function a(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(l){return l===s||e(l,s,i)}}return L0=a,L0}var F0,$A;function WK(){if($A)return F0;$A=1;function e(t,r){return t!=null&&r in Object(t)}return F0=e,F0}var U0,LA;function VK(){if(LA)return U0;LA=1;var e=t4(),t=jN(),r=Mn(),a=wN(),s=NN(),i=$p();function l(u,d,f){d=e(d,u);for(var m=-1,h=d.length,g=!1;++m<h;){var j=i(d[m]);if(!(g=u!=null&&f(u,j)))break;u=u[j]}return g||++m!=h?g:(h=u==null?0:u.length,!!h&&s(h)&&a(j,h)&&(r(u)||t(u)))}return U0=l,U0}var B0,FA;function HK(){if(FA)return B0;FA=1;var e=WK(),t=VK();function r(a,s){return a!=null&&t(a,s,e)}return B0=r,B0}var z0,UA;function GK(){if(UA)return z0;UA=1;var e=SN(),t=r4(),r=HK(),a=iN(),s=D4(),i=M4(),l=$p(),u=1,d=2;function f(m,h){return a(m)&&s(h)?i(l(m),h):function(g){var j=t(g,m);return j===void 0&&j===h?r(g,m):e(h,j,u|d)}}return z0=f,z0}var q0,BA;function Ac(){if(BA)return q0;BA=1;function e(t){return t}return q0=e,q0}var W0,zA;function KK(){if(zA)return W0;zA=1;function e(t){return function(r){return r?.[t]}}return W0=e,W0}var V0,qA;function YK(){if(qA)return V0;qA=1;var e=fN();function t(r){return function(a){return e(a,r)}}return V0=t,V0}var H0,WA;function XK(){if(WA)return H0;WA=1;var e=KK(),t=YK(),r=iN(),a=$p();function s(i){return r(i)?e(a(i)):t(i)}return H0=s,H0}var G0,VA;function Hi(){if(VA)return G0;VA=1;var e=qK(),t=GK(),r=Ac(),a=Mn(),s=XK();function i(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?a(l)?t(l[0],l[1]):e(l):s(l)}return G0=i,G0}var K0,HA;function $4(){if(HA)return K0;HA=1;function e(t,r,a,s){for(var i=t.length,l=a+(s?1:-1);s?l--:++l<i;)if(r(t[l],l,t))return l;return-1}return K0=e,K0}var Y0,GA;function QK(){if(GA)return Y0;GA=1;function e(t){return t!==t}return Y0=e,Y0}var X0,KA;function ZK(){if(KA)return X0;KA=1;function e(t,r,a){for(var s=a-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return X0=e,X0}var Q0,YA;function JK(){if(YA)return Q0;YA=1;var e=$4(),t=QK(),r=ZK();function a(s,i,l){return i===i?r(s,i,l):e(s,t,l)}return Q0=a,Q0}var Z0,XA;function eY(){if(XA)return Z0;XA=1;var e=JK();function t(r,a){var s=r==null?0:r.length;return!!s&&e(r,a,0)>-1}return Z0=t,Z0}var J0,QA;function tY(){if(QA)return J0;QA=1;function e(t,r,a){for(var s=-1,i=t==null?0:t.length;++s<i;)if(a(r,t[s]))return!0;return!1}return J0=e,J0}var eb,ZA;function rY(){if(ZA)return eb;ZA=1;function e(){}return eb=e,eb}var tb,JA;function nY(){if(JA)return tb;JA=1;var e=O4(),t=rY(),r=bN(),a=1/0,s=e&&1/r(new e([,-0]))[1]==a?function(i){return new e(i)}:t;return tb=s,tb}var rb,eP;function aY(){if(eP)return rb;eP=1;var e=_4(),t=eY(),r=tY(),a=E4(),s=nY(),i=bN(),l=200;function u(d,f,m){var h=-1,g=t,j=d.length,w=!0,b=[],v=b;if(m)w=!1,g=r;else if(j>=l){var N=f?null:s(d);if(N)return i(N);w=!1,g=a,v=new e}else v=f?[]:b;e:for(;++h<j;){var C=d[h],S=f?f(C):C;if(C=m||C!==0?C:0,w&&S===S){for(var A=v.length;A--;)if(v[A]===S)continue e;f&&v.push(S),b.push(C)}else g(v,S,m)||(v!==b&&v.push(S),b.push(C))}return b}return rb=u,rb}var nb,tP;function sY(){if(tP)return nb;tP=1;var e=Hi(),t=aY();function r(a,s){return a&&a.length?t(a,e(s,2)):[]}return nb=r,nb}var iY=sY();const rP=qt(iY);function L4(e,t,r){return t===!0?rP(e,r):jt(t)?rP(e,t):e}function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}var oY=["ref"];function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(a){Wp(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aP(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,U4(a.key),a)}}function cY(e,t,r){return t&&aP(e.prototype,t),r&&aP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uY(e,t,r){return t=xm(t),dY(e,F4()?Reflect.construct(t,r||[],xm(e).constructor):t.apply(e,r))}function dY(e,t){if(t&&(Zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fY(e)}function fY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F4=function(){return!!e})()}function xm(e){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(e)}function hY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cw(e,t)}function Cw(e,t){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Cw(e,t)}function Wp(e,t,r){return t=U4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U4(e){var t=mY(e,"string");return Zl(t)=="symbol"?t:t+""}function mY(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Zl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pY(e,t){if(e==null)return{};var r=gY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gY(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function vY(e){return e.value}function xY(e,t){if(Q.isValidElement(e))return Q.cloneElement(e,t);if(typeof e=="function")return Q.createElement(e,t);t.ref;var r=pY(t,oY);return Q.createElement(yN,r)}var sP=1,zl=(function(e){function t(){var r;lY(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=uY(this,t,[].concat(s)),Wp(r,"lastBoundingBox",{width:-1,height:-1}),r}return hY(t,e),cY(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>sP||Math.abs(s.height-this.lastBoundingBox.height)>sP)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_s({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,l=s.align,u=s.verticalAlign,d=s.margin,f=s.chartWidth,m=s.chartHeight,h,g;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&i==="vertical"){var j=this.getBBoxSnapshot();h={left:((f||0)-j.width)/2}}else h=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();g={top:((m||0)-w.height)/2}}else g=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return _s(_s({},h),g)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,l=s.width,u=s.height,d=s.wrapperStyle,f=s.payloadUniqBy,m=s.payload,h=_s(_s({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return Q.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(j){a.wrapperNode=j}},xY(i,_s(_s({},this.props),{},{payload:L4(m,f,vY)})))}}],[{key:"getWithHeight",value:function(a,s){var i=_s(_s({},this.defaultProps),a.props),l=i.layout;return l==="vertical"&&$e(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||s}:null}}])})(x.PureComponent);Wp(zl,"displayName","Legend");Wp(zl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ab,iP;function yY(){if(iP)return ab;iP=1;var e=tf(),t=jN(),r=Mn(),a=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(a&&i&&i[a])}return ab=s,ab}var sb,oP;function B4(){if(oP)return sb;oP=1;var e=A4(),t=yY();function r(a,s,i,l,u){var d=-1,f=a.length;for(i||(i=t),u||(u=[]);++d<f;){var m=a[d];s>0&&i(m)?s>1?r(m,s-1,i,l,u):e(u,m):l||(u[u.length]=m)}return u}return sb=r,sb}var ib,lP;function bY(){if(lP)return ib;lP=1;function e(t){return function(r,a,s){for(var i=-1,l=Object(r),u=s(r),d=u.length;d--;){var f=u[t?d:++i];if(a(l[f],f,l)===!1)break}return r}}return ib=e,ib}var ob,cP;function jY(){if(cP)return ob;cP=1;var e=bY(),t=e();return ob=t,ob}var lb,uP;function z4(){if(uP)return lb;uP=1;var e=jY(),t=qp();function r(a,s){return a&&e(a,s,t)}return lb=r,lb}var cb,dP;function wY(){if(dP)return cb;dP=1;var e=nf();function t(r,a){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var l=s.length,u=a?l:-1,d=Object(s);(a?u--:++u<l)&&i(d[u],u,d)!==!1;);return s}}return cb=t,cb}var ub,fP;function _N(){if(fP)return ub;fP=1;var e=z4(),t=wY(),r=t(e);return ub=r,ub}var db,hP;function q4(){if(hP)return db;hP=1;var e=_N(),t=nf();function r(a,s){var i=-1,l=t(a)?Array(a.length):[];return e(a,function(u,d,f){l[++i]=s(u,d,f)}),l}return db=r,db}var fb,mP;function NY(){if(mP)return fb;mP=1;function e(t,r){var a=t.length;for(t.sort(r);a--;)t[a]=t[a].value;return t}return fb=e,fb}var hb,pP;function SY(){if(pP)return hb;pP=1;var e=Ec();function t(r,a){if(r!==a){var s=r!==void 0,i=r===null,l=r===r,u=e(r),d=a!==void 0,f=a===null,m=a===a,h=e(a);if(!f&&!h&&!u&&r>a||u&&d&&m&&!f&&!h||i&&d&&m||!s&&m||!l)return 1;if(!i&&!u&&!h&&r<a||h&&s&&l&&!i&&!u||f&&s&&l||!d&&l||!m)return-1}return 0}return hb=t,hb}var mb,gP;function _Y(){if(gP)return mb;gP=1;var e=SY();function t(r,a,s){for(var i=-1,l=r.criteria,u=a.criteria,d=l.length,f=s.length;++i<d;){var m=e(l[i],u[i]);if(m){if(i>=f)return m;var h=s[i];return m*(h=="desc"?-1:1)}}return r.index-a.index}return mb=t,mb}var pb,vP;function CY(){if(vP)return pb;vP=1;var e=dN(),t=fN(),r=Hi(),a=q4(),s=NY(),i=R4(),l=_Y(),u=Ac(),d=Mn();function f(m,h,g){h.length?h=e(h,function(b){return d(b)?function(v){return t(v,b.length===1?b[0]:b)}:b}):h=[u];var j=-1;h=e(h,i(r));var w=a(m,function(b,v,N){var C=e(h,function(S){return S(b)});return{criteria:C,index:++j,value:b}});return s(w,function(b,v){return l(b,v,g)})}return pb=f,pb}var gb,xP;function EY(){if(xP)return gb;xP=1;function e(t,r,a){switch(a.length){case 0:return t.call(r);case 1:return t.call(r,a[0]);case 2:return t.call(r,a[0],a[1]);case 3:return t.call(r,a[0],a[1],a[2])}return t.apply(r,a)}return gb=e,gb}var vb,yP;function TY(){if(yP)return vb;yP=1;var e=EY(),t=Math.max;function r(a,s,i){return s=t(s===void 0?a.length-1:s,0),function(){for(var l=arguments,u=-1,d=t(l.length-s,0),f=Array(d);++u<d;)f[u]=l[s+u];u=-1;for(var m=Array(s+1);++u<s;)m[u]=l[u];return m[s]=i(f),e(a,this,m)}}return vb=r,vb}var xb,bP;function AY(){if(bP)return xb;bP=1;function e(t){return function(){return t}}return xb=e,xb}var yb,jP;function W4(){if(jP)return yb;jP=1;var e=Vo(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return yb=t,yb}var bb,wP;function PY(){if(wP)return bb;wP=1;var e=AY(),t=W4(),r=Ac(),a=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return bb=a,bb}var jb,NP;function RY(){if(NP)return jb;NP=1;var e=800,t=16,r=Date.now;function a(s){var i=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return jb=a,jb}var wb,SP;function kY(){if(SP)return wb;SP=1;var e=PY(),t=RY(),r=t(e);return wb=r,wb}var Nb,_P;function IY(){if(_P)return Nb;_P=1;var e=Ac(),t=TY(),r=kY();function a(s,i){return r(t(s,i,e),s+"")}return Nb=a,Nb}var Sb,CP;function Vp(){if(CP)return Sb;CP=1;var e=lN(),t=nf(),r=wN(),a=Vi();function s(i,l,u){if(!a(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],i):!1}return Sb=s,Sb}var _b,EP;function OY(){if(EP)return _b;EP=1;var e=B4(),t=CY(),r=IY(),a=Vp(),s=r(function(i,l){if(i==null)return[];var u=l.length;return u>1&&a(i,l[0],l[1])?l=[]:u>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return _b=s,_b}var DY=OY();const CN=qt(DY);function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ew.apply(this,arguments)}function MY(e,t){return UY(e)||FY(e,t)||LY(e,t)||$Y()}function $Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LY(e,t){if(e){if(typeof e=="string")return TP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TP(e,t)}}function TP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function FY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function UY(e){if(Array.isArray(e))return e}function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(a){BY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BY(e,t,r){return t=zY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zY(e){var t=qY(e,"string");return ud(t)=="symbol"?t:t+""}function qY(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ud(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WY(e){return Array.isArray(e)&&Tr(e[0])&&Tr(e[1])?e.join(" ~ "):e}var VY=function(t){var r=t.separator,a=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,m=t.payload,h=t.formatter,g=t.itemSorter,j=t.wrapperClassName,w=t.labelClassName,b=t.label,v=t.labelFormatter,N=t.accessibilityLayer,C=N===void 0?!1:N,S=function(){if(m&&m.length){var G={padding:0,margin:0},W=(g?CN(m,g):m).map(function(Z,$){if(Z.type==="none")return null;var M=Cb({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},u),I=Z.formatter||h||WY,O=Z.value,H=Z.name,V=O,q=H;if(I&&V!=null&&q!=null){var F=I(O,H,Z,$,m);if(Array.isArray(F)){var L=MY(F,2);V=L[0],q=L[1]}else V=F}return Q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:M},Tr(q)?Q.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Tr(q)?Q.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,Q.createElement("span",{className:"recharts-tooltip-item-value"},V),Q.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return Q.createElement("ul",{className:"recharts-tooltip-item-list",style:G},W)}return null},A=Cb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=Cb({margin:0},f),T=!Rt(b),R=T?b:"",D=Ct("recharts-default-tooltip",j),k=Ct("recharts-tooltip-label",w);T&&v&&m!==void 0&&m!==null&&(R=v(b,m));var B=C?{role:"status","aria-live":"assertive"}:{};return Q.createElement("div",Ew({className:D,style:A},B),Q.createElement("p",{className:k,style:_},Q.isValidElement(R)?R:"".concat(R)),S())};function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function Oh(e,t,r){return t=HY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HY(e){var t=GY(e,"string");return dd(t)=="symbol"?t:t+""}function GY(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(dd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Su="recharts-tooltip-wrapper",KY={visibility:"hidden"};function YY(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return Ct(Su,Oh(Oh(Oh(Oh({},"".concat(Su,"-right"),$e(r)&&t&&$e(t.x)&&r>=t.x),"".concat(Su,"-left"),$e(r)&&t&&$e(t.x)&&r<t.x),"".concat(Su,"-bottom"),$e(a)&&t&&$e(t.y)&&a>=t.y),"".concat(Su,"-top"),$e(a)&&t&&$e(t.y)&&a<t.y))}function PP(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(i&&$e(i[a]))return i[a];var m=r[a]-u-s,h=r[a]+s;if(t[a])return l[a]?m:h;if(l[a]){var g=m,j=d[a];return g<j?Math.max(h,d[a]):Math.max(m,d[a])}var w=h+u,b=d[a]+f;return w>b?Math.max(m,d[a]):Math.max(h,d[a])}function XY(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function QY(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,m,h;return l.height>0&&l.width>0&&r?(m=PP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),h=PP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=XY({translateX:m,translateY:h,useTranslate3d:u})):f=KY,{cssProperties:f,cssClasses:YY({translateX:m,translateY:h,coordinate:r})}}function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(a){Aw(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JY(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,H4(a.key),a)}}function eX(e,t,r){return t&&JY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tX(e,t,r){return t=ym(t),rX(e,V4()?Reflect.construct(t,r||[],ym(e).constructor):t.apply(e,r))}function rX(e,t){if(t&&(Jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nX(e)}function nX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V4=function(){return!!e})()}function ym(e){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(e)}function aX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tw(e,t)}function Tw(e,t){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Tw(e,t)}function Aw(e,t,r){return t=H4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H4(e){var t=sX(e,"string");return Jl(t)=="symbol"?t:t+""}function sX(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Jl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IP=1,iX=(function(e){function t(){var r;ZY(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=tX(this,t,[].concat(s)),Aw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Aw(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&f!==void 0?f:0}})}}),r}return aX(t,e),eX(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>IP||Math.abs(a.height-this.state.lastBoundingBox.height)>IP)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.children,m=s.coordinate,h=s.hasPayload,g=s.isAnimationActive,j=s.offset,w=s.position,b=s.reverseDirection,v=s.useTranslate3d,N=s.viewBox,C=s.wrapperStyle,S=QY({allowEscapeViewBox:l,coordinate:m,offsetTopLeft:j,position:w,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:N}),A=S.cssClasses,_=S.cssProperties,T=kP(kP({transition:g&&i?"transform ".concat(u,"ms ").concat(d):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},C);return Q.createElement("div",{tabIndex:-1,className:A,style:T,ref:function(D){a.wrapperNode=D}},f)}}])})(x.PureComponent),oX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},af={isSsr:oX()};function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function DP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(a){EN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cX(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,K4(a.key),a)}}function uX(e,t,r){return t&&cX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dX(e,t,r){return t=bm(t),fX(e,G4()?Reflect.construct(t,r||[],bm(e).constructor):t.apply(e,r))}function fX(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hX(e)}function hX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G4=function(){return!!e})()}function bm(e){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bm(e)}function mX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pw(e,t)}function Pw(e,t){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Pw(e,t)}function EN(e,t,r){return t=K4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4(e){var t=pX(e,"string");return ec(t)=="symbol"?t:t+""}function pX(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ec(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gX(e){return e.dataKey}function vX(e,t){return Q.isValidElement(e)?Q.cloneElement(e,t):typeof e=="function"?Q.createElement(e,t):Q.createElement(VY,t)}var Ya=(function(e){function t(){return lX(this,t),dX(this,t,arguments)}return mX(t,e),uX(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.content,m=s.coordinate,h=s.filterNull,g=s.isAnimationActive,j=s.offset,w=s.payload,b=s.payloadUniqBy,v=s.position,N=s.reverseDirection,C=s.useTranslate3d,S=s.viewBox,A=s.wrapperStyle,_=w??[];h&&_.length&&(_=L4(w.filter(function(R){return R.value!=null&&(R.hide!==!0||a.props.includeHidden)}),b,gX));var T=_.length>0;return Q.createElement(iX,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:g,active:i,coordinate:m,hasPayload:T,offset:j,position:v,reverseDirection:N,useTranslate3d:C,viewBox:S,wrapperStyle:A},vX(f,DP(DP({},this.props),{},{payload:_})))}}])})(x.PureComponent);EN(Ya,"displayName","Tooltip");EN(Ya,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!af.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Eb,MP;function xX(){if(MP)return Eb;MP=1;var e=hs(),t=function(){return e.Date.now()};return Eb=t,Eb}var Tb,$P;function yX(){if($P)return Tb;$P=1;var e=/\s/;function t(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return Tb=t,Tb}var Ab,LP;function bX(){if(LP)return Ab;LP=1;var e=yX(),t=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return Ab=r,Ab}var Pb,FP;function Y4(){if(FP)return Pb;FP=1;var e=bX(),t=Vi(),r=Ec(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return a;if(t(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=t(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=e(f);var h=i.test(f);return h||l.test(f)?u(f.slice(2),h?2:8):s.test(f)?a:+f}return Pb=d,Pb}var Rb,UP;function jX(){if(UP)return Rb;UP=1;var e=Vi(),t=xX(),r=Y4(),a="Expected a function",s=Math.max,i=Math.min;function l(u,d,f){var m,h,g,j,w,b,v=0,N=!1,C=!1,S=!0;if(typeof u!="function")throw new TypeError(a);d=r(d)||0,e(f)&&(N=!!f.leading,C="maxWait"in f,g=C?s(r(f.maxWait)||0,d):g,S="trailing"in f?!!f.trailing:S);function A(W){var Z=m,$=h;return m=h=void 0,v=W,j=u.apply($,Z),j}function _(W){return v=W,w=setTimeout(D,d),N?A(W):j}function T(W){var Z=W-b,$=W-v,M=d-Z;return C?i(M,g-$):M}function R(W){var Z=W-b,$=W-v;return b===void 0||Z>=d||Z<0||C&&$>=g}function D(){var W=t();if(R(W))return k(W);w=setTimeout(D,T(W))}function k(W){return w=void 0,S&&m?A(W):(m=h=void 0,j)}function B(){w!==void 0&&clearTimeout(w),v=0,m=b=h=w=void 0}function z(){return w===void 0?j:k(t())}function G(){var W=t(),Z=R(W);if(m=arguments,h=this,b=W,Z){if(w===void 0)return _(b);if(C)return clearTimeout(w),w=setTimeout(D,d),A(b)}return w===void 0&&(w=setTimeout(D,d)),j}return G.cancel=B,G.flush=z,G}return Rb=l,Rb}var kb,BP;function wX(){if(BP)return kb;BP=1;var e=jX(),t=Vi(),r="Expected a function";function a(s,i,l){var u=!0,d=!0;if(typeof s!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(s,i,{leading:u,maxWait:i,trailing:d})}return kb=a,kb}var NX=wX();const X4=qt(NX);function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(a){SX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SX(e,t,r){return t=_X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=CX(e,"string");return fd(t)=="symbol"?t:t+""}function CX(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(fd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EX(e,t){return RX(e)||PX(e,t)||AX(e,t)||TX()}function TX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AX(e,t){if(e){if(typeof e=="string")return qP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qP(e,t)}}function qP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function PX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function RX(e){if(Array.isArray(e))return e}var kX=x.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,l=i===void 0?"100%":i,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,m=f===void 0?0:f,h=e.minHeight,g=e.maxHeight,j=e.children,w=e.debounce,b=w===void 0?0:w,v=e.id,N=e.className,C=e.onResize,S=e.style,A=S===void 0?{}:S,_=x.useRef(null),T=x.useRef();T.current=C,x.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var R=x.useState({containerWidth:s.width,containerHeight:s.height}),D=EX(R,2),k=D[0],B=D[1],z=x.useCallback(function(W,Z){B(function($){var M=Math.round(W),I=Math.round(Z);return $.containerWidth===M&&$.containerHeight===I?$:{containerWidth:M,containerHeight:I}})},[]);x.useEffect(function(){var W=function(H){var V,q=H[0].contentRect,F=q.width,L=q.height;z(F,L),(V=T.current)===null||V===void 0||V.call(T,F,L)};b>0&&(W=X4(W,b,{trailing:!0,leading:!1}));var Z=new ResizeObserver(W),$=_.current.getBoundingClientRect(),M=$.width,I=$.height;return z(M,I),Z.observe(_.current),function(){Z.disconnect()}},[z,b]);var G=x.useMemo(function(){var W=k.containerWidth,Z=k.containerHeight;if(W<0||Z<0)return null;Ds(bo(l)||bo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Ds(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=bo(l)?W:l,M=bo(d)?Z:d;r&&r>0&&($?M=$/r:M&&($=M*r),g&&M>g&&(M=g)),Ds($>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,M,l,d,m,h,r);var I=!Array.isArray(j)&&Os(j.type).endsWith("Chart");return Q.Children.map(j,function(O){return Q.isValidElement(O)?x.cloneElement(O,Dh({width:$,height:M},I?{style:Dh({height:"100%",width:"100%",maxHeight:M,maxWidth:$},O.props.style)}:{})):O})},[r,j,d,g,h,m,k,l]);return Q.createElement("div",{id:v?"".concat(v):void 0,className:Ct("recharts-responsive-container",N),style:Dh(Dh({},A),{},{width:l,height:d,minWidth:m,minHeight:h,maxHeight:g}),ref:_},G)}),Q4=function(t){return null};Q4.displayName="Cell";function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(a){IX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IX(e,t,r){return t=OX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=DX(e,"string");return hd(t)=="symbol"?t:t+""}function DX(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(hd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sl={widthCache:{},cacheCount:0},MX=2e3,$X={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VP="recharts_measurement_span";function LX(e){var t=Rw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Hu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||af.isSsr)return{width:0,height:0};var a=LX(r),s=JSON.stringify({text:t,copyStyle:a});if(Sl.widthCache[s])return Sl.widthCache[s];try{var i=document.getElementById(VP);i||(i=document.createElement("span"),i.setAttribute("id",VP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=Rw(Rw({},$X),a);Object.assign(i.style,l),i.textContent="".concat(t);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return Sl.widthCache[s]=d,++Sl.cacheCount>MX&&(Sl.cacheCount=0,Sl.widthCache={}),d}catch{return{width:0,height:0}}},FX=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function jm(e,t){return qX(e)||zX(e,t)||BX(e,t)||UX()}function UX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BX(e,t){if(e){if(typeof e=="string")return HP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HP(e,t)}}function HP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function zX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function qX(e){if(Array.isArray(e))return e}function WX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GP(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,HX(a.key),a)}}function VX(e,t,r){return t&&GP(e.prototype,t),r&&GP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HX(e){var t=GX(e,"string");return md(t)=="symbol"?t:t+""}function GX(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(md(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Z4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XX=Object.keys(Z4),Il="NaN";function QX(e,t){return e*Z4[t]}var Mh=(function(){function e(t,r){WX(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!KX.test(r)&&(this.num=NaN,this.unit=""),XX.includes(r)&&(this.num=QX(t,r),this.unit="px")}return VX(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=YX.exec(r))!==null&&a!==void 0?a:[],i=jm(s,3),l=i[1],u=i[2];return new e(parseFloat(l),u??"")}}])})();function J4(e){if(e.includes(Il))return Il;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=KP.exec(t))!==null&&r!==void 0?r:[],s=jm(a,4),i=s[1],l=s[2],u=s[3],d=Mh.parse(i??""),f=Mh.parse(u??""),m=l==="*"?d.multiply(f):d.divide(f);if(m.isNaN())return Il;t=t.replace(KP,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,g=(h=YP.exec(t))!==null&&h!==void 0?h:[],j=jm(g,4),w=j[1],b=j[2],v=j[3],N=Mh.parse(w??""),C=Mh.parse(v??""),S=b==="+"?N.add(C):N.subtract(C);if(S.isNaN())return Il;t=t.replace(YP,S.toString())}return t}var XP=/\(([^()]*)\)/;function ZX(e){for(var t=e;t.includes("(");){var r=XP.exec(t),a=jm(r,2),s=a[1];t=t.replace(XP,J4(s))}return t}function JX(e){var t=e.replace(/\s+/g,"");return t=ZX(t),t=J4(t),t}function eQ(e){try{return JX(e)}catch{return Il}}function Ib(e){var t=eQ(e.slice(5,-1));return t===Il?"":t}var tQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rQ=["dx","dy","angle","className","breakAll"];function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kw.apply(this,arguments)}function QP(e,t){if(e==null)return{};var r=nQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function nQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ZP(e,t){return oQ(e)||iQ(e,t)||sQ(e,t)||aQ()}function aQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sQ(e,t){if(e){if(typeof e=="string")return JP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JP(e,t)}}function JP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function iQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function oQ(e){if(Array.isArray(e))return e}var e$=/[ \f\n\r\t\v\u2028\u2029]+/,t$=function(t){var r=t.children,a=t.breakAll,s=t.style;try{var i=[];Rt(r)||(a?i=r.toString().split(""):i=r.toString().split(e$));var l=i.map(function(d){return{word:d,width:Hu(d,s).width}}),u=a?0:Hu("",s).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},lQ=function(t,r,a,s,i){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,m=$e(l),h=u,g=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(M,I){var O=I.word,H=I.width,V=M[M.length-1];if(V&&(s==null||i||V.width+H+a<Number(s)))V.words.push(O),V.width+=H+a;else{var q={words:[O],width:H};M.push(q)}return M},[])},j=g(r),w=function($){return $.reduce(function(M,I){return M.width>I.width?M:I})};if(!m)return j;for(var b="",v=function($){var M=h.slice(0,$),I=t$({breakAll:f,style:d,children:M+b}).wordsWithComputedWidth,O=g(I),H=O.length>l||w(O).width>Number(s);return[H,O]},N=0,C=h.length-1,S=0,A;N<=C&&S<=h.length-1;){var _=Math.floor((N+C)/2),T=_-1,R=v(T),D=ZP(R,2),k=D[0],B=D[1],z=v(_),G=ZP(z,1),W=G[0];if(!k&&!W&&(N=_+1),k&&W&&(C=_-1),!k&&W){A=B;break}S++}return A||j},eR=function(t){var r=Rt(t)?[]:t.toString().split(e$);return[{words:r}]},cQ=function(t){var r=t.width,a=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,u=t.maxLines;if((r||a)&&!af.isSsr){var d,f,m=t$({breakAll:l,children:s,style:i});if(m){var h=m.wordsWithComputedWidth,g=m.spaceWidth;d=h,f=g}else return eR(s);return lQ({breakAll:l,children:s,maxLines:u,style:i},d,f,r,a)}return eR(s)},tR="#808080",wm=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,m=t.scaleToFit,h=m===void 0?!1:m,g=t.textAnchor,j=g===void 0?"start":g,w=t.verticalAnchor,b=w===void 0?"end":w,v=t.fill,N=v===void 0?tR:v,C=QP(t,tQ),S=x.useMemo(function(){return cQ({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:h,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,h,C.style,C.width]),A=C.dx,_=C.dy,T=C.angle,R=C.className,D=C.breakAll,k=QP(C,rQ);if(!Tr(a)||!Tr(i))return null;var B=a+($e(A)?A:0),z=i+($e(_)?_:0),G;switch(b){case"start":G=Ib("calc(".concat(f,")"));break;case"middle":G=Ib("calc(".concat((S.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:G=Ib("calc(".concat(S.length-1," * -").concat(u,")"));break}var W=[];if(h){var Z=S[0].width,$=C.width;W.push("scale(".concat(($e($)?$/Z:1)/Z,")"))}return T&&W.push("rotate(".concat(T,", ").concat(B,", ").concat(z,")")),W.length&&(k.transform=W.join(" ")),Q.createElement("text",kw({},Pt(k,!0),{x:B,y:z,className:Ct("recharts-text",R),textAnchor:j,fill:N.includes("url")?tR:N}),S.map(function(M,I){var O=M.words.join(D?"":" ");return Q.createElement("tspan",{x:B,dy:I===0?G:u,key:"".concat(O,"-").concat(I)},O)}))};function Ri(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function TN(e){let t,r,a;e.length!==2?(t=Ri,r=(u,d)=>Ri(e(u),d),a=(u,d)=>e(u)-d):(t=e===Ri||e===uQ?e:dQ,r=e,a=e);function s(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const h=f+m>>>1;r(u[h],d)<0?f=h+1:m=h}while(f<m)}return f}function i(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const h=f+m>>>1;r(u[h],d)<=0?f=h+1:m=h}while(f<m)}return f}function l(u,d,f=0,m=u.length){const h=s(u,d,f,m-1);return h>f&&a(u[h-1],d)>-a(u[h],d)?h-1:h}return{left:s,center:l,right:i}}function dQ(){return 0}function r$(e){return e===null?NaN:+e}function*fQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const hQ=TN(Ri),sf=hQ.right;TN(r$).center;class rR extends Map{constructor(t,r=gQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(nR(this,t))}has(t){return super.has(nR(this,t))}set(t,r){return super.set(mQ(this,t),r)}delete(t){return super.delete(pQ(this,t))}}function nR({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function mQ({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function pQ({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function gQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vQ(e=Ri){if(e===Ri)return n$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function n$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xQ=Math.sqrt(50),yQ=Math.sqrt(10),bQ=Math.sqrt(2);function Nm(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),l=i>=xQ?10:i>=yQ?5:i>=bQ?2:1;let u,d,f;return s<0?(f=Math.pow(10,-s)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,s)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?Nm(e,t,r*2):[u,d,f]}function Iw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,l]=a?Nm(t,e,r):Nm(e,t,r);if(!(i>=s))return[];const u=i-s+1,d=new Array(u);if(a)if(l<0)for(let f=0;f<u;++f)d[f]=(i-f)/-l;else for(let f=0;f<u;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(s+f)/-l;else for(let f=0;f<u;++f)d[f]=(s+f)*l;return d}function Ow(e,t,r){return t=+t,e=+e,r=+r,Nm(e,t,r)[2]}function Dw(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?Ow(t,e,r):Ow(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function aR(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function sR(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function a$(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?n$:vQ(s);a>r;){if(a-r>600){const d=a-r+1,f=t-r+1,m=Math.log(d),h=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*h*(d-h)/d)*(f-d/2<0?-1:1),j=Math.max(r,Math.floor(t-f*h/d+g)),w=Math.min(a,Math.floor(t+(d-f)*h/d+g));a$(e,t,j,w,s)}const i=e[t];let l=r,u=a;for(_u(e,r,t),s(e[a],i)>0&&_u(e,r,a);l<u;){for(_u(e,l,u),++l,--u;s(e[l],i)<0;)++l;for(;s(e[u],i)>0;)--u}s(e[r],i)===0?_u(e,r,u):(++u,_u(e,u,a)),u<=t&&(r=u+1),t<=u&&(a=u-1)}return e}function _u(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function jQ(e,t,r){if(e=Float64Array.from(fQ(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return sR(e);if(t>=1)return aR(e);var a,s=(a-1)*t,i=Math.floor(s),l=aR(a$(e,i).subarray(0,i+1)),u=sR(e.subarray(i+1));return l+(u-l)*(s-i)}}function wQ(e,t,r=r$){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),l=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return l+(u-l)*(s-i)}}function NQ(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function ya(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Mw=Symbol("implicit");function AN(){var e=new rR,t=[],r=[],a=Mw;function s(i){let l=e.get(i);if(l===void 0){if(a!==Mw)return a;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new rR;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return AN(t,r).unknown(a)},ya.apply(s,arguments),s}function pd(){var e=AN().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,l,u=!1,d=0,f=0,m=.5;delete e.unknown;function h(){var g=t().length,j=s<a,w=j?s:a,b=j?a:s;i=(b-w)/Math.max(1,g-d+f*2),u&&(i=Math.floor(i)),w+=(b-w-i*(g-d))*m,l=i*(1-d),u&&(w=Math.round(w),l=Math.round(l));var v=NQ(g).map(function(N){return w+i*N});return r(j?v.reverse():v)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([a,s]=g,a=+a,s=+s,h()):[a,s]},e.rangeRound=function(g){return[a,s]=g,a=+a,s=+s,u=!0,h()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(u=!!g,h()):u},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),h()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),h()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,h()):f},e.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),h()):m},e.copy=function(){return pd(t(),[a,s]).round(u).paddingInner(d).paddingOuter(f).align(m)},ya.apply(h(),arguments)}function s$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return s$(t())},e}function Gu(){return s$(pd.apply(null,arguments).paddingInner(1))}function PN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function i$(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function of(){}var gd=.7,Sm=1/gd,ql="\\s*([+-]?\\d+)\\s*",vd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SQ=/^#([0-9a-f]{3,8})$/,_Q=new RegExp(`^rgb\\(${ql},${ql},${ql}\\)$`),CQ=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),EQ=new RegExp(`^rgba\\(${ql},${ql},${ql},${vd}\\)$`),TQ=new RegExp(`^rgba\\(${as},${as},${as},${vd}\\)$`),AQ=new RegExp(`^hsl\\(${vd},${as},${as}\\)$`),PQ=new RegExp(`^hsla\\(${vd},${as},${as},${vd}\\)$`),iR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PN(of,xd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oR,formatHex:oR,formatHex8:RQ,formatHsl:kQ,formatRgb:lR,toString:lR});function oR(){return this.rgb().formatHex()}function RQ(){return this.rgb().formatHex8()}function kQ(){return o$(this).formatHsl()}function lR(){return this.rgb().formatRgb()}function xd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=SQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cR(t):r===3?new In(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$h(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$h(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_Q.exec(e))?new In(t[1],t[2],t[3],1):(t=CQ.exec(e))?new In(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=EQ.exec(e))?$h(t[1],t[2],t[3],t[4]):(t=TQ.exec(e))?$h(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AQ.exec(e))?fR(t[1],t[2]/100,t[3]/100,1):(t=PQ.exec(e))?fR(t[1],t[2]/100,t[3]/100,t[4]):iR.hasOwnProperty(e)?cR(iR[e]):e==="transparent"?new In(NaN,NaN,NaN,0):null}function cR(e){return new In(e>>16&255,e>>8&255,e&255,1)}function $h(e,t,r,a){return a<=0&&(e=t=r=NaN),new In(e,t,r,a)}function IQ(e){return e instanceof of||(e=xd(e)),e?(e=e.rgb(),new In(e.r,e.g,e.b,e.opacity)):new In}function $w(e,t,r,a){return arguments.length===1?IQ(e):new In(e,t,r,a??1)}function In(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}PN(In,$w,i$(of,{brighter(e){return e=e==null?Sm:Math.pow(Sm,e),new In(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gd:Math.pow(gd,e),new In(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new In(Co(this.r),Co(this.g),Co(this.b),_m(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uR,formatHex:uR,formatHex8:OQ,formatRgb:dR,toString:dR}));function uR(){return`#${jo(this.r)}${jo(this.g)}${jo(this.b)}`}function OQ(){return`#${jo(this.r)}${jo(this.g)}${jo(this.b)}${jo((isNaN(this.opacity)?1:this.opacity)*255)}`}function dR(){const e=_m(this.opacity);return`${e===1?"rgb(":"rgba("}${Co(this.r)}, ${Co(this.g)}, ${Co(this.b)}${e===1?")":`, ${e})`}`}function _m(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Co(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jo(e){return e=Co(e),(e<16?"0":"")+e.toString(16)}function fR(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ra(e,t,r,a)}function o$(e){if(e instanceof Ra)return new Ra(e.h,e.s,e.l,e.opacity);if(e instanceof of||(e=xd(e)),!e)return new Ra;if(e instanceof Ra)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),l=NaN,u=i-s,d=(i+s)/2;return u?(t===i?l=(r-a)/u+(r<a)*6:r===i?l=(a-t)/u+2:l=(t-r)/u+4,u/=d<.5?i+s:2-i-s,l*=60):u=d>0&&d<1?0:l,new Ra(l,u,d,e.opacity)}function DQ(e,t,r,a){return arguments.length===1?o$(e):new Ra(e,t,r,a??1)}function Ra(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}PN(Ra,DQ,i$(of,{brighter(e){return e=e==null?Sm:Math.pow(Sm,e),new Ra(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gd:Math.pow(gd,e),new Ra(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new In(Ob(e>=240?e-240:e+120,s,a),Ob(e,s,a),Ob(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Ra(hR(this.h),Lh(this.s),Lh(this.l),_m(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_m(this.opacity);return`${e===1?"hsl(":"hsla("}${hR(this.h)}, ${Lh(this.s)*100}%, ${Lh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hR(e){return e=(e||0)%360,e<0?e+360:e}function Lh(e){return Math.max(0,Math.min(1,e||0))}function Ob(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const RN=e=>()=>e;function MQ(e,t){return function(r){return e+r*t}}function $Q(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function LQ(e){return(e=+e)==1?l$:function(t,r){return r-t?$Q(t,r,e):RN(isNaN(t)?r:t)}}function l$(e,t){var r=t-e;return r?MQ(e,r):RN(isNaN(e)?t:e)}const mR=(function e(t){var r=LQ(t);function a(s,i){var l=r((s=$w(s)).r,(i=$w(i)).r),u=r(s.g,i.g),d=r(s.b,i.b),f=l$(s.opacity,i.opacity);return function(m){return s.r=l(m),s.g=u(m),s.b=d(m),s.opacity=f(m),s+""}}return a.gamma=e,a})(1);function FQ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function UQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function BQ(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),l;for(l=0;l<a;++l)s[l]=Pc(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(u){for(l=0;l<a;++l)i[l]=s[l](u);return i}}function zQ(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function Cm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function qQ(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Pc(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var Lw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Db=new RegExp(Lw.source,"g");function WQ(e){return function(){return e}}function VQ(e){return function(t){return e(t)+""}}function HQ(e,t){var r=Lw.lastIndex=Db.lastIndex=0,a,s,i,l=-1,u=[],d=[];for(e=e+"",t=t+"";(a=Lw.exec(e))&&(s=Db.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),u[l]?u[l]+=i:u[++l]=i),(a=a[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:Cm(a,s)})),r=Db.lastIndex;return r<t.length&&(i=t.slice(r),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?VQ(d[0].x):WQ(t):(t=d.length,function(f){for(var m=0,h;m<t;++m)u[(h=d[m]).i]=h.x(f);return u.join("")})}function Pc(e,t){var r=typeof t,a;return t==null||r==="boolean"?RN(t):(r==="number"?Cm:r==="string"?(a=xd(t))?(t=a,mR):HQ:t instanceof xd?mR:t instanceof Date?zQ:UQ(t)?FQ:Array.isArray(t)?BQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qQ:Cm)(e,t)}function kN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function GQ(e,t){t===void 0&&(t=e,e=Pc);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(l){var u=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[u](l-u)}}function KQ(e){return function(){return e}}function Em(e){return+e}var pR=[0,1];function yn(e){return e}function Fw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:KQ(isNaN(t)?NaN:.5)}function YQ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function XQ(e,t,r){var a=e[0],s=e[1],i=t[0],l=t[1];return s<a?(a=Fw(s,a),i=r(l,i)):(a=Fw(a,s),i=r(i,l)),function(u){return i(a(u))}}function QQ(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=Fw(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(u){var d=sf(e,u,1,a)-1;return i[d](s[d](u))}}function lf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hp(){var e=pR,t=pR,r=Pc,a,s,i,l=yn,u,d,f;function m(){var g=Math.min(e.length,t.length);return l!==yn&&(l=YQ(e[0],e[g-1])),u=g>2?QQ:XQ,d=f=null,h}function h(g){return g==null||isNaN(g=+g)?i:(d||(d=u(e.map(a),t,r)))(a(l(g)))}return h.invert=function(g){return l(s((f||(f=u(t,e.map(a),Cm)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,Em),m()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),r=kN,m()},h.clamp=function(g){return arguments.length?(l=g?!0:yn,m()):l!==yn},h.interpolate=function(g){return arguments.length?(r=g,m()):r},h.unknown=function(g){return arguments.length?(i=g,h):i},function(g,j){return a=g,s=j,m()}}function IN(){return Hp()(yn,yn)}function ZQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function tc(e){return e=Tm(Math.abs(e)),e?e[1]:NaN}function JQ(e,t){return function(r,a){for(var s=r.length,i=[],l=0,u=e[0],d=0;s>0&&u>0&&(d+u+1>a&&(u=Math.max(1,a-d)),i.push(r.substring(s-=u,s+u)),!((d+=u+1)>a));)u=e[l=(l+1)%e.length];return i.reverse().join(t)}}function eZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yd(e){if(!(t=tZ.exec(e)))throw new Error("invalid format: "+e);var t;return new ON({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yd.prototype=ON.prototype;function ON(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ON.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rZ(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var c$;function nZ(e,t){var r=Tm(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(c$=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Tm(e,Math.max(0,t+i-1))[0]}function gR(e,t){var r=Tm(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const vR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gR(e*100,t),r:gR,s:nZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xR(e){return e}var yR=Array.prototype.map,bR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aZ(e){var t=e.grouping===void 0||e.thousands===void 0?xR:JQ(yR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?xR:eZ(yR.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(h){h=yd(h);var g=h.fill,j=h.align,w=h.sign,b=h.symbol,v=h.zero,N=h.width,C=h.comma,S=h.precision,A=h.trim,_=h.type;_==="n"?(C=!0,_="g"):vR[_]||(S===void 0&&(S=12),A=!0,_="g"),(v||g==="0"&&j==="=")&&(v=!0,g="0",j="=");var T=b==="$"?r:b==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",R=b==="$"?a:/[%p]/.test(_)?l:"",D=vR[_],k=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function B(z){var G=T,W=R,Z,$,M;if(_==="c")W=D(z)+W,z="";else{z=+z;var I=z<0||1/z<0;if(z=isNaN(z)?d:D(Math.abs(z),S),A&&(z=rZ(z)),I&&+z==0&&w!=="+"&&(I=!1),G=(I?w==="("?w:u:w==="-"||w==="("?"":w)+G,W=(_==="s"?bR[8+c$/3]:"")+W+(I&&w==="("?")":""),k){for(Z=-1,$=z.length;++Z<$;)if(M=z.charCodeAt(Z),48>M||M>57){W=(M===46?s+z.slice(Z+1):z.slice(Z))+W,z=z.slice(0,Z);break}}}C&&!v&&(z=t(z,1/0));var O=G.length+z.length+W.length,H=O<N?new Array(N-O+1).join(g):"";switch(C&&v&&(z=t(H+z,H.length?N-W.length:1/0),H=""),j){case"<":z=G+z+W+H;break;case"=":z=G+H+z+W;break;case"^":z=H.slice(0,O=H.length>>1)+G+z+W+H.slice(O);break;default:z=H+G+z+W;break}return i(z)}return B.toString=function(){return h+""},B}function m(h,g){var j=f((h=yd(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(tc(g)/3)))*3,b=Math.pow(10,-w),v=bR[8+w/3];return function(N){return j(b*N)+v}}return{format:f,formatPrefix:m}}var Fh,DN,u$;sZ({thousands:",",grouping:[3],currency:["$",""]});function sZ(e){return Fh=aZ(e),DN=Fh.format,u$=Fh.formatPrefix,Fh}function iZ(e){return Math.max(0,-tc(Math.abs(e)))}function oZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tc(t)/3)))*3-tc(Math.abs(e)))}function lZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tc(t)-tc(e))+1}function d$(e,t,r,a){var s=Dw(e,t,r),i;switch(a=yd(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=oZ(s,l))&&(a.precision=i),u$(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=lZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=iZ(s))&&(a.precision=i-(a.type==="%")*2);break}}return DN(a)}function Gi(e){var t=e.domain;return e.ticks=function(r){var a=t();return Iw(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return d$(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,l=a[s],u=a[i],d,f,m=10;for(u<l&&(f=l,l=u,u=f,f=s,s=i,i=f);m-- >0;){if(f=Ow(l,u,r),f===d)return a[s]=l,a[i]=u,t(a);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Am(){var e=IN();return e.copy=function(){return lf(e,Am())},ya.apply(e,arguments),Gi(e)}function f$(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Em),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return f$(e).unknown(t)},e=arguments.length?Array.from(e,Em):[0,1],Gi(r)}function h$(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],l;return i<s&&(l=r,r=a,a=l,l=s,s=i,i=l),e[r]=t.floor(s),e[a]=t.ceil(i),e}function jR(e){return Math.log(e)}function wR(e){return Math.exp(e)}function cZ(e){return-Math.log(-e)}function uZ(e){return-Math.exp(-e)}function dZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fZ(e){return e===10?dZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function NR(e){return(t,r)=>-e(-t,r)}function MN(e){const t=e(jR,wR),r=t.domain;let a=10,s,i;function l(){return s=hZ(a),i=fZ(a),r()[0]<0?(s=NR(s),i=NR(i),e(cZ,uZ)):e(jR,wR),t}return t.base=function(u){return arguments.length?(a=+u,l()):a},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],m=d[d.length-1];const h=m<f;h&&([f,m]=[m,f]);let g=s(f),j=s(m),w,b;const v=u==null?10:+u;let N=[];if(!(a%1)&&j-g<v){if(g=Math.floor(g),j=Math.ceil(j),f>0){for(;g<=j;++g)for(w=1;w<a;++w)if(b=g<0?w/i(-g):w*i(g),!(b<f)){if(b>m)break;N.push(b)}}else for(;g<=j;++g)for(w=a-1;w>=1;--w)if(b=g>0?w/i(-g):w*i(g),!(b<f)){if(b>m)break;N.push(b)}N.length*2<v&&(N=Iw(f,m,v))}else N=Iw(g,j,Math.min(j-g,v)).map(i);return h?N.reverse():N},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=yd(d)).precision==null&&(d.trim=!0),d=DN(d)),u===1/0)return d;const f=Math.max(1,a*u/t.ticks().length);return m=>{let h=m/i(Math.round(s(m)));return h*a<a-.5&&(h*=a),h<=f?d(m):""}},t.nice=()=>r(h$(r(),{floor:u=>i(Math.floor(s(u))),ceil:u=>i(Math.ceil(s(u)))})),t}function m$(){const e=MN(Hp()).domain([1,10]);return e.copy=()=>lf(e,m$()).base(e.base()),ya.apply(e,arguments),e}function SR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _R(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $N(e){var t=1,r=e(SR(t),_R(t));return r.constant=function(a){return arguments.length?e(SR(t=+a),_R(t)):t},Gi(r)}function p$(){var e=$N(Hp());return e.copy=function(){return lf(e,p$()).constant(e.constant())},ya.apply(e,arguments)}function CR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pZ(e){return e<0?-e*e:e*e}function LN(e){var t=e(yn,yn),r=1;function a(){return r===1?e(yn,yn):r===.5?e(mZ,pZ):e(CR(r),CR(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},Gi(t)}function FN(){var e=LN(Hp());return e.copy=function(){return lf(e,FN()).exponent(e.exponent())},ya.apply(e,arguments),e}function gZ(){return FN.apply(null,arguments).exponent(.5)}function ER(e){return Math.sign(e)*e*e}function vZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function g$(){var e=IN(),t=[0,1],r=!1,a;function s(i){var l=vZ(e(i));return isNaN(l)?a:r?Math.round(l):l}return s.invert=function(i){return e.invert(ER(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Em)).map(ER)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return g$(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},ya.apply(s,arguments),Gi(s)}function v$(){var e=[],t=[],r=[],a;function s(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=wQ(e,l/u);return i}function i(l){return l==null||isNaN(l=+l)?a:t[sf(r,l)]}return i.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ri),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return v$().domain(e).range(t).unknown(a)},ya.apply(i,arguments)}function x$(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function l(d){return d!=null&&d<=d?s[sf(a,d,0,r)]:i}function u(){var d=-1;for(a=new Array(r);++d<r;)a[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,u()):s.slice()},l.invertExtent=function(d){var f=s.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,a[0]]:f>=r?[a[r-1],t]:[a[f-1],a[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return a.slice()},l.copy=function(){return x$().domain([e,t]).range(s).unknown(i)},ya.apply(Gi(l),arguments)}function y$(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[sf(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return y$().domain(e).range(t).unknown(r)},ya.apply(s,arguments)}const Mb=new Date,$b=new Date;function Ar(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),u=s.ceil(i);return i-l<u-i?l:u},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,u)=>{const d=[];if(i=s.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let f;do d.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<l);return d},s.filter=i=>Ar(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!i(l););else for(;--u>=0;)for(;t(l,1),!i(l););}),r&&(s.count=(i,l)=>(Mb.setTime(+i),$b.setTime(+l),e(Mb),e($b),Math.floor(r(Mb,$b))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?l=>a(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const Pm=Ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Pm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Pm);Pm.range;const Rs=1e3,pa=Rs*60,ks=pa*60,Bs=ks*24,UN=Bs*7,TR=Bs*30,Lb=Bs*365,wo=Ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCSeconds());wo.range;const BN=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rs)},(e,t)=>{e.setTime(+e+t*pa)},(e,t)=>(t-e)/pa,e=>e.getMinutes());BN.range;const zN=Ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pa)},(e,t)=>(t-e)/pa,e=>e.getUTCMinutes());zN.range;const qN=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rs-e.getMinutes()*pa)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getHours());qN.range;const WN=Ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCHours());WN.range;const cf=Ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pa)/Bs,e=>e.getDate()-1);cf.range;const Gp=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bs,e=>e.getUTCDate()-1);Gp.range;const b$=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bs,e=>Math.floor(e/Bs));b$.range;function Ho(e){return Ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*pa)/UN)}const Kp=Ho(0),Rm=Ho(1),xZ=Ho(2),yZ=Ho(3),rc=Ho(4),bZ=Ho(5),jZ=Ho(6);Kp.range;Rm.range;xZ.range;yZ.range;rc.range;bZ.range;jZ.range;function Go(e){return Ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/UN)}const Yp=Go(0),km=Go(1),wZ=Go(2),NZ=Go(3),nc=Go(4),SZ=Go(5),_Z=Go(6);Yp.range;km.range;wZ.range;NZ.range;nc.range;SZ.range;_Z.range;const VN=Ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());VN.range;const HN=Ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());HN.range;const zs=Ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());zs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});zs.range;const qs=Ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});qs.range;function j$(e,t,r,a,s,i){const l=[[wo,1,Rs],[wo,5,5*Rs],[wo,15,15*Rs],[wo,30,30*Rs],[i,1,pa],[i,5,5*pa],[i,15,15*pa],[i,30,30*pa],[s,1,ks],[s,3,3*ks],[s,6,6*ks],[s,12,12*ks],[a,1,Bs],[a,2,2*Bs],[r,1,UN],[t,1,TR],[t,3,3*TR],[e,1,Lb]];function u(f,m,h){const g=m<f;g&&([f,m]=[m,f]);const j=h&&typeof h.range=="function"?h:d(f,m,h),w=j?j.range(f,+m+1):[];return g?w.reverse():w}function d(f,m,h){const g=Math.abs(m-f)/h,j=TN(([,,v])=>v).right(l,g);if(j===l.length)return e.every(Dw(f/Lb,m/Lb,h));if(j===0)return Pm.every(Math.max(Dw(f,m,h),1));const[w,b]=l[g/l[j-1][2]<l[j][2]/g?j-1:j];return w.every(b)}return[u,d]}const[CZ,EZ]=j$(qs,HN,Yp,b$,WN,zN),[TZ,AZ]=j$(zs,VN,Kp,cf,qN,BN);function Fb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ub(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function PZ(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Eu(s),m=Tu(s),h=Eu(i),g=Tu(i),j=Eu(l),w=Tu(l),b=Eu(u),v=Tu(u),N=Eu(d),C=Tu(d),S={a:I,A:O,b:H,B:V,c:null,d:OR,e:OR,f:JZ,g:cJ,G:dJ,H:XZ,I:QZ,j:ZZ,L:w$,m:eJ,M:tJ,p:q,q:F,Q:$R,s:LR,S:rJ,u:nJ,U:aJ,V:sJ,w:iJ,W:oJ,x:null,X:null,y:lJ,Y:uJ,Z:fJ,"%":MR},A={a:L,A:Y,b:ee,B:ce,c:null,d:DR,e:DR,f:gJ,g:CJ,G:TJ,H:hJ,I:mJ,j:pJ,L:S$,m:vJ,M:xJ,p:K,q:fe,Q:$R,s:LR,S:yJ,u:bJ,U:jJ,V:wJ,w:NJ,W:SJ,x:null,X:null,y:_J,Y:EJ,Z:AJ,"%":MR},_={a:B,A:z,b:G,B:W,c:Z,d:kR,e:kR,f:HZ,g:RR,G:PR,H:IR,I:IR,j:zZ,L:VZ,m:BZ,M:qZ,p:k,q:UZ,Q:KZ,s:YZ,S:WZ,u:DZ,U:MZ,V:$Z,w:OZ,W:LZ,x:$,X:M,y:RR,Y:PR,Z:FZ,"%":GZ};S.x=T(r,S),S.X=T(a,S),S.c=T(t,S),A.x=T(r,A),A.X=T(a,A),A.c=T(t,A);function T(oe,Ee){return function(De){var re=[],le=-1,ge=0,Fe=oe.length,Xe,lt,wt;for(De instanceof Date||(De=new Date(+De));++le<Fe;)oe.charCodeAt(le)===37&&(re.push(oe.slice(ge,le)),(lt=AR[Xe=oe.charAt(++le)])!=null?Xe=oe.charAt(++le):lt=Xe==="e"?" ":"0",(wt=Ee[Xe])&&(Xe=wt(De,lt)),re.push(Xe),ge=le+1);return re.push(oe.slice(ge,le)),re.join("")}}function R(oe,Ee){return function(De){var re=Cu(1900,void 0,1),le=D(re,oe,De+="",0),ge,Fe;if(le!=De.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Ee&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(ge=Ub(Cu(re.y,0,1)),Fe=ge.getUTCDay(),ge=Fe>4||Fe===0?km.ceil(ge):km(ge),ge=Gp.offset(ge,(re.V-1)*7),re.y=ge.getUTCFullYear(),re.m=ge.getUTCMonth(),re.d=ge.getUTCDate()+(re.w+6)%7):(ge=Fb(Cu(re.y,0,1)),Fe=ge.getDay(),ge=Fe>4||Fe===0?Rm.ceil(ge):Rm(ge),ge=cf.offset(ge,(re.V-1)*7),re.y=ge.getFullYear(),re.m=ge.getMonth(),re.d=ge.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Fe="Z"in re?Ub(Cu(re.y,0,1)).getUTCDay():Fb(Cu(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Fe+5)%7:re.w+re.U*7-(Fe+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Ub(re)):Fb(re)}}function D(oe,Ee,De,re){for(var le=0,ge=Ee.length,Fe=De.length,Xe,lt;le<ge;){if(re>=Fe)return-1;if(Xe=Ee.charCodeAt(le++),Xe===37){if(Xe=Ee.charAt(le++),lt=_[Xe in AR?Ee.charAt(le++):Xe],!lt||(re=lt(oe,De,re))<0)return-1}else if(Xe!=De.charCodeAt(re++))return-1}return re}function k(oe,Ee,De){var re=f.exec(Ee.slice(De));return re?(oe.p=m.get(re[0].toLowerCase()),De+re[0].length):-1}function B(oe,Ee,De){var re=j.exec(Ee.slice(De));return re?(oe.w=w.get(re[0].toLowerCase()),De+re[0].length):-1}function z(oe,Ee,De){var re=h.exec(Ee.slice(De));return re?(oe.w=g.get(re[0].toLowerCase()),De+re[0].length):-1}function G(oe,Ee,De){var re=N.exec(Ee.slice(De));return re?(oe.m=C.get(re[0].toLowerCase()),De+re[0].length):-1}function W(oe,Ee,De){var re=b.exec(Ee.slice(De));return re?(oe.m=v.get(re[0].toLowerCase()),De+re[0].length):-1}function Z(oe,Ee,De){return D(oe,t,Ee,De)}function $(oe,Ee,De){return D(oe,r,Ee,De)}function M(oe,Ee,De){return D(oe,a,Ee,De)}function I(oe){return l[oe.getDay()]}function O(oe){return i[oe.getDay()]}function H(oe){return d[oe.getMonth()]}function V(oe){return u[oe.getMonth()]}function q(oe){return s[+(oe.getHours()>=12)]}function F(oe){return 1+~~(oe.getMonth()/3)}function L(oe){return l[oe.getUTCDay()]}function Y(oe){return i[oe.getUTCDay()]}function ee(oe){return d[oe.getUTCMonth()]}function ce(oe){return u[oe.getUTCMonth()]}function K(oe){return s[+(oe.getUTCHours()>=12)]}function fe(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Ee=T(oe+="",S);return Ee.toString=function(){return oe},Ee},parse:function(oe){var Ee=R(oe+="",!1);return Ee.toString=function(){return oe},Ee},utcFormat:function(oe){var Ee=T(oe+="",A);return Ee.toString=function(){return oe},Ee},utcParse:function(oe){var Ee=R(oe+="",!0);return Ee.toString=function(){return oe},Ee}}}var AR={"-":"",_:" ",0:"0"},qr=/^\s*\d+/,RZ=/^%/,kZ=/[\\^$*+?|[\]().{}]/g;function At(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function IZ(e){return e.replace(kZ,"\\$&")}function Eu(e){return new RegExp("^(?:"+e.map(IZ).join("|")+")","i")}function Tu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function OZ(e,t,r){var a=qr.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function DZ(e,t,r){var a=qr.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function MZ(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function $Z(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function LZ(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function PR(e,t,r){var a=qr.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function RR(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function FZ(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function UZ(e,t,r){var a=qr.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function BZ(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function kR(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function zZ(e,t,r){var a=qr.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function IR(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function qZ(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function WZ(e,t,r){var a=qr.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function VZ(e,t,r){var a=qr.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function HZ(e,t,r){var a=qr.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function GZ(e,t,r){var a=RZ.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function KZ(e,t,r){var a=qr.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function YZ(e,t,r){var a=qr.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function OR(e,t){return At(e.getDate(),t,2)}function XZ(e,t){return At(e.getHours(),t,2)}function QZ(e,t){return At(e.getHours()%12||12,t,2)}function ZZ(e,t){return At(1+cf.count(zs(e),e),t,3)}function w$(e,t){return At(e.getMilliseconds(),t,3)}function JZ(e,t){return w$(e,t)+"000"}function eJ(e,t){return At(e.getMonth()+1,t,2)}function tJ(e,t){return At(e.getMinutes(),t,2)}function rJ(e,t){return At(e.getSeconds(),t,2)}function nJ(e){var t=e.getDay();return t===0?7:t}function aJ(e,t){return At(Kp.count(zs(e)-1,e),t,2)}function N$(e){var t=e.getDay();return t>=4||t===0?rc(e):rc.ceil(e)}function sJ(e,t){return e=N$(e),At(rc.count(zs(e),e)+(zs(e).getDay()===4),t,2)}function iJ(e){return e.getDay()}function oJ(e,t){return At(Rm.count(zs(e)-1,e),t,2)}function lJ(e,t){return At(e.getFullYear()%100,t,2)}function cJ(e,t){return e=N$(e),At(e.getFullYear()%100,t,2)}function uJ(e,t){return At(e.getFullYear()%1e4,t,4)}function dJ(e,t){var r=e.getDay();return e=r>=4||r===0?rc(e):rc.ceil(e),At(e.getFullYear()%1e4,t,4)}function fJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function DR(e,t){return At(e.getUTCDate(),t,2)}function hJ(e,t){return At(e.getUTCHours(),t,2)}function mJ(e,t){return At(e.getUTCHours()%12||12,t,2)}function pJ(e,t){return At(1+Gp.count(qs(e),e),t,3)}function S$(e,t){return At(e.getUTCMilliseconds(),t,3)}function gJ(e,t){return S$(e,t)+"000"}function vJ(e,t){return At(e.getUTCMonth()+1,t,2)}function xJ(e,t){return At(e.getUTCMinutes(),t,2)}function yJ(e,t){return At(e.getUTCSeconds(),t,2)}function bJ(e){var t=e.getUTCDay();return t===0?7:t}function jJ(e,t){return At(Yp.count(qs(e)-1,e),t,2)}function _$(e){var t=e.getUTCDay();return t>=4||t===0?nc(e):nc.ceil(e)}function wJ(e,t){return e=_$(e),At(nc.count(qs(e),e)+(qs(e).getUTCDay()===4),t,2)}function NJ(e){return e.getUTCDay()}function SJ(e,t){return At(km.count(qs(e)-1,e),t,2)}function _J(e,t){return At(e.getUTCFullYear()%100,t,2)}function CJ(e,t){return e=_$(e),At(e.getUTCFullYear()%100,t,2)}function EJ(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function TJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?nc(e):nc.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function AJ(){return"+0000"}function MR(){return"%"}function $R(e){return+e}function LR(e){return Math.floor(+e/1e3)}var _l,C$,E$;PJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PJ(e){return _l=PZ(e),C$=_l.format,_l.parse,E$=_l.utcFormat,_l.utcParse,_l}function RJ(e){return new Date(e)}function kJ(e){return e instanceof Date?+e:+new Date(+e)}function GN(e,t,r,a,s,i,l,u,d,f){var m=IN(),h=m.invert,g=m.domain,j=f(".%L"),w=f(":%S"),b=f("%I:%M"),v=f("%I %p"),N=f("%a %d"),C=f("%b %d"),S=f("%B"),A=f("%Y");function _(T){return(d(T)<T?j:u(T)<T?w:l(T)<T?b:i(T)<T?v:a(T)<T?s(T)<T?N:C:r(T)<T?S:A)(T)}return m.invert=function(T){return new Date(h(T))},m.domain=function(T){return arguments.length?g(Array.from(T,kJ)):g().map(RJ)},m.ticks=function(T){var R=g();return e(R[0],R[R.length-1],T??10)},m.tickFormat=function(T,R){return R==null?_:f(R)},m.nice=function(T){var R=g();return(!T||typeof T.range!="function")&&(T=t(R[0],R[R.length-1],T??10)),T?g(h$(R,T)):m},m.copy=function(){return lf(m,GN(e,t,r,a,s,i,l,u,d,f))},m}function IJ(){return ya.apply(GN(TZ,AZ,zs,VN,Kp,cf,qN,BN,wo,C$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function OJ(){return ya.apply(GN(CZ,EZ,qs,HN,Yp,Gp,WN,zN,wo,E$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xp(){var e=0,t=1,r,a,s,i,l=yn,u=!1,d;function f(h){return h==null||isNaN(h=+h)?d:l(s===0?.5:(h=(i(h)-r)*s,u?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),f):[e,t]},f.clamp=function(h){return arguments.length?(u=!!h,f):u},f.interpolator=function(h){return arguments.length?(l=h,f):l};function m(h){return function(g){var j,w;return arguments.length?([j,w]=g,l=h(j,w),f):[l(0),l(1)]}}return f.range=m(Pc),f.rangeRound=m(kN),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return i=h,r=h(e),a=h(t),s=r===a?0:1/(a-r),f}}function Ki(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function T$(){var e=Gi(Xp()(yn));return e.copy=function(){return Ki(e,T$())},Hs.apply(e,arguments)}function A$(){var e=MN(Xp()).domain([1,10]);return e.copy=function(){return Ki(e,A$()).base(e.base())},Hs.apply(e,arguments)}function P$(){var e=$N(Xp());return e.copy=function(){return Ki(e,P$()).constant(e.constant())},Hs.apply(e,arguments)}function KN(){var e=LN(Xp());return e.copy=function(){return Ki(e,KN()).exponent(e.exponent())},Hs.apply(e,arguments)}function DJ(){return KN.apply(null,arguments).exponent(.5)}function R$(){var e=[],t=yn;function r(a){if(a!=null&&!isNaN(a=+a))return t((sf(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ri),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>jQ(e,i/a))},r.copy=function(){return R$(t).domain(e)},Hs.apply(r,arguments)}function Qp(){var e=0,t=.5,r=1,a=1,s,i,l,u,d,f=yn,m,h=!1,g;function j(b){return isNaN(b=+b)?g:(b=.5+((b=+m(b))-i)*(a*b<a*i?u:d),f(h?Math.max(0,Math.min(1,b)):b))}j.domain=function(b){return arguments.length?([e,t,r]=b,s=m(e=+e),i=m(t=+t),l=m(r=+r),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),a=i<s?-1:1,j):[e,t,r]},j.clamp=function(b){return arguments.length?(h=!!b,j):h},j.interpolator=function(b){return arguments.length?(f=b,j):f};function w(b){return function(v){var N,C,S;return arguments.length?([N,C,S]=v,f=GQ(b,[N,C,S]),j):[f(0),f(.5),f(1)]}}return j.range=w(Pc),j.rangeRound=w(kN),j.unknown=function(b){return arguments.length?(g=b,j):g},function(b){return m=b,s=b(e),i=b(t),l=b(r),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),a=i<s?-1:1,j}}function k$(){var e=Gi(Qp()(yn));return e.copy=function(){return Ki(e,k$())},Hs.apply(e,arguments)}function I$(){var e=MN(Qp()).domain([.1,1,10]);return e.copy=function(){return Ki(e,I$()).base(e.base())},Hs.apply(e,arguments)}function O$(){var e=$N(Qp());return e.copy=function(){return Ki(e,O$()).constant(e.constant())},Hs.apply(e,arguments)}function YN(){var e=LN(Qp());return e.copy=function(){return Ki(e,YN()).exponent(e.exponent())},Hs.apply(e,arguments)}function MJ(){return YN.apply(null,arguments).exponent(.5)}const FR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pd,scaleDiverging:k$,scaleDivergingLog:I$,scaleDivergingPow:YN,scaleDivergingSqrt:MJ,scaleDivergingSymlog:O$,scaleIdentity:f$,scaleImplicit:Mw,scaleLinear:Am,scaleLog:m$,scaleOrdinal:AN,scalePoint:Gu,scalePow:FN,scaleQuantile:v$,scaleQuantize:x$,scaleRadial:g$,scaleSequential:T$,scaleSequentialLog:A$,scaleSequentialPow:KN,scaleSequentialQuantile:R$,scaleSequentialSqrt:DJ,scaleSequentialSymlog:P$,scaleSqrt:gZ,scaleSymlog:p$,scaleThreshold:y$,scaleTime:IJ,scaleUtc:OJ,tickFormat:d$},Symbol.toStringTag,{value:"Module"}));var Bb,UR;function D$(){if(UR)return Bb;UR=1;var e=Ec();function t(r,a,s){for(var i=-1,l=r.length;++i<l;){var u=r[i],d=a(u);if(d!=null&&(f===void 0?d===d&&!e(d):s(d,f)))var f=d,m=u}return m}return Bb=t,Bb}var zb,BR;function $J(){if(BR)return zb;BR=1;function e(t,r){return t>r}return zb=e,zb}var qb,zR;function LJ(){if(zR)return qb;zR=1;var e=D$(),t=$J(),r=Ac();function a(s){return s&&s.length?e(s,r,t):void 0}return qb=a,qb}var FJ=LJ();const Zp=qt(FJ);var Wb,qR;function UJ(){if(qR)return Wb;qR=1;function e(t,r){return t<r}return Wb=e,Wb}var Vb,WR;function BJ(){if(WR)return Vb;WR=1;var e=D$(),t=UJ(),r=Ac();function a(s){return s&&s.length?e(s,r,t):void 0}return Vb=a,Vb}var zJ=BJ();const Jp=qt(zJ);var Hb,VR;function qJ(){if(VR)return Hb;VR=1;var e=dN(),t=Hi(),r=q4(),a=Mn();function s(i,l){var u=a(i)?e:r;return u(i,t(l,3))}return Hb=s,Hb}var Gb,HR;function WJ(){if(HR)return Gb;HR=1;var e=B4(),t=qJ();function r(a,s){return e(t(a,s),1)}return Gb=r,Gb}var VJ=WJ();const HJ=qt(VJ);var Kb,GR;function GJ(){if(GR)return Kb;GR=1;var e=SN();function t(r,a){return e(r,a)}return Kb=t,Kb}var KJ=GJ();const XN=qt(KJ);var Rc=1e9,YJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZN,er=!0,xa="[DecimalError] ",Eo=xa+"Invalid argument: ",QN=xa+"Exponent out of range: ",kc=Math.floor,go=Math.pow,XJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yn,Dr=1e7,Qt=7,M$=9007199254740991,Im=kc(M$/Qt),He={};He.absoluteValue=He.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};He.comparedTo=He.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};He.decimalPlaces=He.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};He.dividedBy=He.div=function(e){return Ms(this,new this.constructor(e))};He.dividedToIntegerBy=He.idiv=function(e){var t=this,r=t.constructor;return Vt(Ms(t,new r(e),0,1),r.precision)};He.equals=He.eq=function(e){return!this.cmp(e)};He.exponent=function(){return yr(this)};He.greaterThan=He.gt=function(e){return this.cmp(e)>0};He.greaterThanOrEqualTo=He.gte=function(e){return this.cmp(e)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(e){return this.cmp(e)<0};He.lessThanOrEqualTo=He.lte=function(e){return this.cmp(e)<1};He.logarithm=He.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Yn))throw Error(xa+"NaN");if(r.s<1)throw Error(xa+(r.s?"NaN":"-Infinity"));return r.eq(Yn)?new a(0):(er=!1,t=Ms(bd(r,i),bd(e,i),i),er=!0,Vt(t,s))};He.minus=He.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?F$(t,e):$$(t,(e.s=-e.s,e))};He.modulo=He.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(xa+"NaN");return r.s?(er=!1,t=Ms(r,e,0,1).times(e),er=!0,r.minus(t)):Vt(new a(r),s)};He.naturalExponential=He.exp=function(){return L$(this)};He.naturalLogarithm=He.ln=function(){return bd(this)};He.negated=He.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};He.plus=He.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$$(t,e):F$(t,(e.s=-e.s,e))};He.precision=He.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Eo+e);if(t=yr(s)+1,a=s.d.length-1,r=a*Qt+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};He.squareRoot=He.sqrt=function(){var e,t,r,a,s,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(xa+"NaN")}for(e=yr(u),er=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=ts(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=kc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new d(t)):a=new d(s.toString()),r=d.precision,s=l=r+3;;)if(i=a,a=i.plus(Ms(u,i,l+2)).times(.5),ts(i.d).slice(0,l)===(t=ts(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(Vt(i,r+1,0),i.times(i).eq(u)){a=i;break}}else if(t!="9999")break;l+=4}return er=!0,Vt(a,r)};He.times=He.mul=function(e){var t,r,a,s,i,l,u,d,f,m=this,h=m.constructor,g=m.d,j=(e=new h(e)).d;if(!m.s||!e.s)return new h(0);for(e.s*=m.s,r=m.e+e.e,d=g.length,f=j.length,d<f&&(i=g,g=j,j=i,l=d,d=f,f=l),i=[],l=d+f,a=l;a--;)i.push(0);for(a=f;--a>=0;){for(t=0,s=d+a;s>a;)u=i[s]+j[a]*g[s-a-1]+t,i[s--]=u%Dr|0,t=u/Dr|0;i[s]=(i[s]+t)%Dr|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,er?Vt(e,h.precision):e};He.toDecimalPlaces=He.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(us(e,0,Rc),t===void 0?t=a.rounding:us(t,0,8),Vt(r,e+yr(r)+1,t))};He.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=Mo(a,!0):(us(e,0,Rc),t===void 0?t=s.rounding:us(t,0,8),a=Vt(new s(a),e+1,t),r=Mo(a,!0,e+1)),r};He.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?Mo(s):(us(e,0,Rc),t===void 0?t=i.rounding:us(t,0,8),a=Vt(new i(s),e+yr(s)+1,t),r=Mo(a.abs(),!1,e+yr(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};He.toInteger=He.toint=function(){var e=this,t=e.constructor;return Vt(new t(e),yr(e)+1,t.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(e){var t,r,a,s,i,l,u=this,d=u.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(Yn);if(u=new d(u),!u.s){if(e.s<1)throw Error(xa+"Infinity");return u}if(u.eq(Yn))return u;if(a=d.precision,e.eq(Yn))return Vt(u,a);if(t=e.e,r=e.d.length-1,l=t>=r,i=u.s,l){if((r=m<0?-m:m)<=M$){for(s=new d(Yn),t=Math.ceil(a/Qt+4),er=!1;r%2&&(s=s.times(u),YR(s.d,t)),r=kc(r/2),r!==0;)u=u.times(u),YR(u.d,t);return er=!0,e.s<0?new d(Yn).div(s):Vt(s,a)}}else if(i<0)throw Error(xa+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,er=!1,s=e.times(bd(u,a+f)),er=!0,s=L$(s),s.s=i,s};He.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=yr(s),a=Mo(s,r<=i.toExpNeg||r>=i.toExpPos)):(us(e,1,Rc),t===void 0?t=i.rounding:us(t,0,8),s=Vt(new i(s),e,t),r=yr(s),a=Mo(s,e<=r||r<=i.toExpNeg,e)),a};He.toSignificantDigits=He.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(us(e,1,Rc),t===void 0?t=a.rounding:us(t,0,8)),Vt(new a(r),e,t)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=yr(e),r=e.constructor;return Mo(e,t<=r.toExpNeg||t>=r.toExpPos)};function $$(e,t){var r,a,s,i,l,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),er?Vt(t,h):t;if(d=e.d,f=t.d,l=e.e,s=t.e,d=d.slice(),i=l-s,i){for(i<0?(a=d,i=-i,u=f.length):(a=f,s=l,u=d.length),l=Math.ceil(h/Qt),u=l>u?l+1:u+1,i>u&&(i=u,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,a=f,f=d,d=a),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/Dr|0,d[i]%=Dr;for(r&&(d.unshift(r),++s),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=s,er?Vt(t,h):t}function us(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Eo+e)}function ts(e){var t,r,a,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)a=e[t]+"",r=Qt-a.length,r&&(i+=ji(r)),i+=a;l=e[t],a=l+"",r=Qt-a.length,r&&(i+=ji(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Ms=(function(){function e(a,s){var i,l=0,u=a.length;for(a=a.slice();u--;)i=a[u]*s+l,a[u]=i%Dr|0,l=i/Dr|0;return l&&a.unshift(l),a}function t(a,s,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(a[u]!=s[u]){d=a[u]>s[u]?1:-1;break}return d}function r(a,s,i){for(var l=0;i--;)a[i]-=l,l=a[i]<s[i]?1:0,a[i]=l*Dr+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,l){var u,d,f,m,h,g,j,w,b,v,N,C,S,A,_,T,R,D,k=a.constructor,B=a.s==s.s?1:-1,z=a.d,G=s.d;if(!a.s)return new k(a);if(!s.s)throw Error(xa+"Division by zero");for(d=a.e-s.e,R=G.length,_=z.length,j=new k(B),w=j.d=[],f=0;G[f]==(z[f]||0);)++f;if(G[f]>(z[f]||0)&&--d,i==null?C=i=k.precision:l?C=i+(yr(a)-yr(s))+1:C=i,C<0)return new k(0);if(C=C/Qt+2|0,f=0,R==1)for(m=0,G=G[0],C++;(f<_||m)&&C--;f++)S=m*Dr+(z[f]||0),w[f]=S/G|0,m=S%G|0;else{for(m=Dr/(G[0]+1)|0,m>1&&(G=e(G,m),z=e(z,m),R=G.length,_=z.length),A=R,b=z.slice(0,R),v=b.length;v<R;)b[v++]=0;D=G.slice(),D.unshift(0),T=G[0],G[1]>=Dr/2&&++T;do m=0,u=t(G,b,R,v),u<0?(N=b[0],R!=v&&(N=N*Dr+(b[1]||0)),m=N/T|0,m>1?(m>=Dr&&(m=Dr-1),h=e(G,m),g=h.length,v=b.length,u=t(h,b,g,v),u==1&&(m--,r(h,R<g?D:G,g))):(m==0&&(u=m=1),h=G.slice()),g=h.length,g<v&&h.unshift(0),r(b,h,v),u==-1&&(v=b.length,u=t(G,b,R,v),u<1&&(m++,r(b,R<v?D:G,v))),v=b.length):u===0&&(m++,b=[0]),w[f++]=m,u&&b[0]?b[v++]=z[A]||0:(b=[z[A]],v=1);while((A++<_||b[0]!==void 0)&&C--)}return w[0]||w.shift(),j.e=d,Vt(j,l?i+yr(j)+1:i)}})();function L$(e,t){var r,a,s,i,l,u,d=0,f=0,m=e.constructor,h=m.precision;if(yr(e)>16)throw Error(QN+yr(e));if(!e.s)return new m(Yn);for(er=!1,u=h,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(a=Math.log(go(2,f))/Math.LN10*2+5|0,u+=a,r=s=i=new m(Yn),m.precision=u;;){if(s=Vt(s.times(e),u),r=r.times(++d),l=i.plus(Ms(s,r,u)),ts(l.d).slice(0,u)===ts(i.d).slice(0,u)){for(;f--;)i=Vt(i.times(i),u);return m.precision=h,t==null?(er=!0,Vt(i,h)):i}i=l}}function yr(e){for(var t=e.e*Qt,r=e.d[0];r>=10;r/=10)t++;return t}function Yb(e,t,r){if(t>e.LN10.sd())throw er=!0,r&&(e.precision=r),Error(xa+"LN10 precision limit exceeded");return Vt(new e(e.LN10),t)}function ji(e){for(var t="";e--;)t+="0";return t}function bd(e,t){var r,a,s,i,l,u,d,f,m,h=1,g=10,j=e,w=j.d,b=j.constructor,v=b.precision;if(j.s<1)throw Error(xa+(j.s?"NaN":"-Infinity"));if(j.eq(Yn))return new b(0);if(t==null?(er=!1,f=v):f=t,j.eq(10))return t==null&&(er=!0),Yb(b,f);if(f+=g,b.precision=f,r=ts(w),a=r.charAt(0),i=yr(j),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)j=j.times(e),r=ts(j.d),a=r.charAt(0),h++;i=yr(j),a>1?(j=new b("0."+r),i++):j=new b(a+"."+r.slice(1))}else return d=Yb(b,f+2,v).times(i+""),j=bd(new b(a+"."+r.slice(1)),f-g).plus(d),b.precision=v,t==null?(er=!0,Vt(j,v)):j;for(u=l=j=Ms(j.minus(Yn),j.plus(Yn),f),m=Vt(j.times(j),f),s=3;;){if(l=Vt(l.times(m),f),d=u.plus(Ms(l,new b(s),f)),ts(d.d).slice(0,f)===ts(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(Yb(b,f+2,v).times(i+""))),u=Ms(u,new b(h),f),b.precision=v,t==null?(er=!0,Vt(u,v)):u;u=d,s+=2}}function KR(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=kc(r/Qt),e.d=[],a=(r+1)%Qt,r<0&&(a+=Qt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Qt;a<s;)e.d.push(+t.slice(a,a+=Qt));t=t.slice(a),a=Qt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),er&&(e.e>Im||e.e<-Im))throw Error(QN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Vt(e,t,r){var a,s,i,l,u,d,f,m,h=e.d;for(l=1,i=h[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=Qt,s=t,f=h[m=0];else{if(m=Math.ceil((a+1)/Qt),i=h.length,m>=i)return e;for(f=i=h[m],l=1;i>=10;i/=10)l++;a%=Qt,s=a-Qt+l}if(r!==void 0&&(i=go(10,l-s-1),u=f/i%10|0,d=t<0||h[m+1]!==void 0||f%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(a>0?s>0?f/go(10,l-s):0:h[m-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return d?(i=yr(e),h.length=1,t=t-i-1,h[0]=go(10,(Qt-t%Qt)%Qt),e.e=kc(-t/Qt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=m,i=1,m--):(h.length=m+1,i=go(10,Qt-a),h[m]=s>0?(f/go(10,l-s)%go(10,s)|0)*i:0),d)for(;;)if(m==0){(h[0]+=i)==Dr&&(h[0]=1,++e.e);break}else{if(h[m]+=i,h[m]!=Dr)break;h[m--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(er&&(e.e>Im||e.e<-Im))throw Error(QN+yr(e));return e}function F$(e,t){var r,a,s,i,l,u,d,f,m,h,g=e.constructor,j=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),er?Vt(t,j):t;if(d=e.d,h=t.d,a=t.e,f=e.e,d=d.slice(),l=f-a,l){for(m=l<0,m?(r=d,l=-l,u=h.length):(r=h,a=f,u=d.length),s=Math.max(Math.ceil(j/Qt),u)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=d.length,u=h.length,m=s<u,m&&(u=s),s=0;s<u;s++)if(d[s]!=h[s]){m=d[s]<h[s];break}l=0}for(m&&(r=d,d=h,h=r,t.s=-t.s),u=d.length,s=h.length-u;s>0;--s)d[u++]=0;for(s=h.length;s>l;){if(d[--s]<h[s]){for(i=s;i&&d[--i]===0;)d[i]=Dr-1;--d[i],d[s]+=Dr}d[s]-=h[s]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(t.d=d,t.e=a,er?Vt(t,j):t):new g(0)}function Mo(e,t,r){var a,s=yr(e),i=ts(e.d),l=i.length;return t?(r&&(a=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+ji(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ji(-s-1)+i,r&&(a=r-l)>0&&(i+=ji(a))):s>=l?(i+=ji(s+1-l),r&&(a=r-s-1)>0&&(i=i+"."+ji(a))):((a=s+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-l)>0&&(s+1===l&&(i+="."),i+=ji(a))),e.s<0?"-"+i:i}function YR(e,t){if(e.length>t)return e.length=t,!0}function U$(e){var t,r,a;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Eo+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return KR(l,i.toString())}else if(typeof i!="string")throw Error(Eo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,XJ.test(i))KR(l,i);else throw Error(Eo+i)}if(s.prototype=He,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=U$,s.config=s.set=QJ,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function QJ(e){if(!e||typeof e!="object")throw Error(xa+"Object expected");var t,r,a,s=["precision",1,Rc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(kc(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Eo+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Eo+r+": "+a);return this}var ZN=U$(YJ);Yn=new ZN(1);const Ft=ZN;function ZJ(e){return ree(e)||tee(e)||eee(e)||JJ()}function JJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eee(e,t){if(e){if(typeof e=="string")return Uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(e,t)}}function tee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ree(e){if(Array.isArray(e))return Uw(e)}function Uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var nee=function(t){return t},B$={},z$=function(t){return t===B$},XR=function(t){return function r(){return arguments.length===0||arguments.length===1&&z$(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},aee=function e(t,r){return t===1?r:XR(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var l=s.filter(function(u){return u!==B$}).length;return l>=t?r.apply(void 0,s):e(t-l,XR(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var m=s.map(function(h){return z$(h)?d.shift():h});return r.apply(void 0,ZJ(m).concat(d))}))})},eg=function(t){return aee(t.length,t)},Bw=function(t,r){for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},see=eg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),iee=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return nee;var s=r.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},zw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},q$=function(t){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return r&&i.every(function(u,d){return u===r[d]})||(r=i,a=t.apply(void 0,i)),a}};function oee(e){var t;return e===0?t=1:t=Math.floor(new Ft(e).abs().log(10).toNumber())+1,t}function lee(e,t,r){for(var a=new Ft(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var cee=eg(function(e,t,r){var a=+e,s=+t;return a+r*(s-a)}),uee=eg(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),dee=eg(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const tg={rangeStep:lee,getDigitCount:oee,interpolateNumber:cee,uninterpolateNumber:uee,uninterpolateTruncation:dee};function qw(e){return mee(e)||hee(e)||W$(e)||fee()}function fee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function mee(e){if(Array.isArray(e))return Ww(e)}function jd(e,t){return vee(e)||gee(e,t)||W$(e,t)||pee()}function pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W$(e,t){if(e){if(typeof e=="string")return Ww(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(e,t)}}function Ww(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function gee(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),u;!(a=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));a=!0);}catch(d){s=!0,i=d}finally{try{!a&&l.return!=null&&l.return()}finally{if(s)throw i}}return r}}function vee(e){if(Array.isArray(e))return e}function V$(e){var t=jd(e,2),r=t[0],a=t[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function H$(e,t,r){if(e.lte(0))return new Ft(0);var a=tg.getDigitCount(e.toNumber()),s=new Ft(10).pow(a),i=e.div(s),l=a!==1?.05:.1,u=new Ft(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=u.mul(s);return t?d:new Ft(Math.ceil(d))}function xee(e,t,r){var a=1,s=new Ft(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new Ft(10).pow(tg.getDigitCount(e)-1),s=new Ft(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Ft(Math.floor(e)))}else e===0?s=new Ft(Math.floor((t-1)/2)):r||(s=new Ft(Math.floor(e)));var l=Math.floor((t-1)/2),u=iee(see(function(d){return s.add(new Ft(d-l).mul(a)).toNumber()}),Bw);return u(0,t)}function G$(e,t,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var i=H$(new Ft(t).sub(e).div(r-1),a,s),l;e<=0&&t>=0?l=new Ft(0):(l=new Ft(e).add(t).div(2),l=l.sub(new Ft(l).mod(i)));var u=Math.ceil(l.sub(e).div(i).toNumber()),d=Math.ceil(new Ft(t).sub(l).div(i).toNumber()),f=u+d+1;return f>r?G$(e,t,r,a,s+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:i,tickMin:l.sub(new Ft(u).mul(i)),tickMax:l.add(new Ft(d).mul(i))})}function yee(e){var t=jd(e,2),r=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),u=V$([r,a]),d=jd(u,2),f=d[0],m=d[1];if(f===-1/0||m===1/0){var h=m===1/0?[f].concat(qw(Bw(0,s-1).map(function(){return 1/0}))):[].concat(qw(Bw(0,s-1).map(function(){return-1/0})),[m]);return r>a?zw(h):h}if(f===m)return xee(f,s,i);var g=G$(f,m,l,i),j=g.step,w=g.tickMin,b=g.tickMax,v=tg.rangeStep(w,b.add(new Ft(.1).mul(j)),j);return r>a?zw(v):v}function bee(e,t){var r=jd(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=V$([a,s]),u=jd(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[a,s];if(d===f)return[d];var m=Math.max(t,2),h=H$(new Ft(f).sub(d).div(m-1),i,0),g=[].concat(qw(tg.rangeStep(new Ft(d),new Ft(f).sub(new Ft(.99).mul(h)),h)),[f]);return a>s?zw(g):g}var jee=q$(yee),wee=q$(bee),Nee="Invariant failed";function $o(e,t){throw new Error(Nee)}var See=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Om.apply(this,arguments)}function _ee(e,t){return Aee(e)||Tee(e,t)||Eee(e,t)||Cee()}function Cee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eee(e,t){if(e){if(typeof e=="string")return QR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QR(e,t)}}function QR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Tee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Aee(e){if(Array.isArray(e))return e}function Pee(e,t){if(e==null)return{};var r=Ree(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ree(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function kee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iee(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,X$(a.key),a)}}function Oee(e,t,r){return t&&Iee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dee(e,t,r){return t=Dm(t),Mee(e,K$()?Reflect.construct(t,r||[],Dm(e).constructor):t.apply(e,r))}function Mee(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ee(e)}function $ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K$=function(){return!!e})()}function Dm(e){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dm(e)}function Lee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vw(e,t)}function Vw(e,t){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Vw(e,t)}function Y$(e,t,r){return t=X$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X$(e){var t=Fee(e,"string");return ac(t)=="symbol"?t:t+""}function Fee(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ac(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rg=(function(e){function t(){return kee(this,t),Dee(this,t,arguments)}return Lee(t,e),Oee(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,l=a.width,u=a.dataKey,d=a.data,f=a.dataPointFormatter,m=a.xAxis,h=a.yAxis,g=Pee(a,See),j=Pt(g,!1);this.props.direction==="x"&&m.type!=="number"&&$o();var w=d.map(function(b){var v=f(b,u),N=v.x,C=v.y,S=v.value,A=v.errorVal;if(!A)return null;var _=[],T,R;if(Array.isArray(A)){var D=_ee(A,2);T=D[0],R=D[1]}else T=R=A;if(i==="vertical"){var k=m.scale,B=C+s,z=B+l,G=B-l,W=k(S-T),Z=k(S+R);_.push({x1:Z,y1:z,x2:Z,y2:G}),_.push({x1:W,y1:B,x2:Z,y2:B}),_.push({x1:W,y1:z,x2:W,y2:G})}else if(i==="horizontal"){var $=h.scale,M=N+s,I=M-l,O=M+l,H=$(S-T),V=$(S+R);_.push({x1:I,y1:V,x2:O,y2:V}),_.push({x1:M,y1:H,x2:M,y2:V}),_.push({x1:I,y1:H,x2:O,y2:H})}return Q.createElement($r,Om({className:"recharts-errorBar",key:"bar-".concat(_.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},j),_.map(function(q){return Q.createElement("line",Om({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return Q.createElement($r,{className:"recharts-errorBars"},w)}}])})(Q.Component);Y$(rg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Y$(rg,"displayName","ErrorBar");function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(a){Uee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Uee(e,t,r){return t=Bee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bee(e){var t=zee(e,"string");return wd(t)=="symbol"?t:t+""}function zee(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(wd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q$=function(t){var r=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=Hn(r,zl);if(!l)return null;var u=zl.defaultProps,d=u!==void 0?ho(ho({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:i==="children"?f=(a||[]).reduce(function(m,h){var g=h.item,j=h.props,w=j.sectors||j.data||[];return m.concat(w.map(function(b){return{type:l.props.iconType||g.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(a||[]).map(function(m){var h=m.item,g=h.type.defaultProps,j=g!==void 0?ho(ho({},g),h.props):{},w=j.dataKey,b=j.name,v=j.legendType,N=j.hide;return{inactive:N,dataKey:w,type:d.iconType||v||"square",color:JN(h),value:b||w,payload:j}}),ho(ho(ho({},d),zl.getWithHeight(l,s)),{},{payload:f,item:l})};function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function JR(e){return Hee(e)||Vee(e)||Wee(e)||qee()}function qee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wee(e,t){if(e){if(typeof e=="string")return Hw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hw(e,t)}}function Vee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hee(e){if(Array.isArray(e))return Hw(e)}function Hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(a){Wl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Wl(e,t,r){return t=Gee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gee(e){var t=Kee(e,"string");return Nd(t)=="symbol"?t:t+""}function Kee(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Nd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ds(e,t,r){return Rt(e)||Rt(t)?r:Tr(t)?va(e,t,r):jt(t)?t(e):r}function Ku(e,t,r,a){var s=HJ(e,function(u){return ds(u,t)});if(r==="number"){var i=s.filter(function(u){return $e(u)||parseFloat(u)});return i.length?[Jp(i),Zp(i)]:[1/0,-1/0]}var l=a?s.filter(function(u){return!Rt(u)}):s;return l.map(function(u){return Tr(u)||u instanceof Date?u:""})}var Yee=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=a?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<u;f++){var m=f>0?s[f-1].coordinate:s[u-1].coordinate,h=s[f].coordinate,g=f>=u-1?s[0].coordinate:s[f+1].coordinate,j=void 0;if(ka(h-m)!==ka(g-h)){var w=[];if(ka(g-h)===ka(d[1]-d[0])){j=g;var b=h+d[1]-d[0];w[0]=Math.min(b,(b+m)/2),w[1]=Math.max(b,(b+m)/2)}else{j=m;var v=g+d[1]-d[0];w[0]=Math.min(h,(v+h)/2),w[1]=Math.max(h,(v+h)/2)}var N=[Math.min(h,(j+h)/2),Math.max(h,(j+h)/2)];if(t>N[0]&&t<=N[1]||t>=w[0]&&t<=w[1]){l=s[f].index;break}}else{var C=Math.min(m,g),S=Math.max(m,g);if(t>(C+h)/2&&t<=(S+h)/2){l=s[f].index;break}}}else for(var A=0;A<u;A++)if(A===0&&t<=(a[A].coordinate+a[A+1].coordinate)/2||A>0&&A<u-1&&t>(a[A].coordinate+a[A-1].coordinate)/2&&t<=(a[A].coordinate+a[A+1].coordinate)/2||A===u-1&&t>(a[A].coordinate+a[A-1].coordinate)/2){l=a[A].index;break}return l},JN=function(t){var r,a=t,s=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,l=i.stroke,u=i.fill,d;switch(s){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},Xee=function(t){var r=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},u=Object.keys(i),d=0,f=u.length;d<f;d++)for(var m=i[u[d]].stackGroups,h=Object.keys(m),g=0,j=h.length;g<j;g++){var w=m[h[g]],b=w.items,v=w.cateAxisId,N=b.filter(function(R){return Os(R.type).indexOf("Bar")>=0});if(N&&N.length){var C=N[0].type.defaultProps,S=C!==void 0?ir(ir({},C),N[0].props):N[0].props,A=S.barSize,_=S[v];l[_]||(l[_]=[]);var T=Rt(A)?r:A;l[_].push({item:N[0],stackList:N.slice(1),barSize:Rt(T)?void 0:Do(T,a,0)})}}return l},Qee=function(t){var r=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=Do(r,s,0,!0),m,h=[];if(l[0].barSize===+l[0].barSize){var g=!1,j=s/d,w=l.reduce(function(A,_){return A+_.barSize||0},0);w+=(d-1)*f,w>=s&&(w-=(d-1)*f,f=0),w>=s&&j>0&&(g=!0,j*=.9,w=d*j);var b=(s-w)/2>>0,v={offset:b-f,size:0};m=l.reduce(function(A,_){var T={item:_.item,position:{offset:v.offset+v.size+f,size:g?j:_.barSize}},R=[].concat(JR(A),[T]);return v=R[R.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(D){R.push({item:D,position:v})}),R},h)}else{var N=Do(a,s,0,!0);s-2*N-(d-1)*f<=0&&(f=0);var C=(s-2*N-(d-1)*f)/d;C>1&&(C>>=0);var S=u===+u?Math.min(C,u):C;m=l.reduce(function(A,_,T){var R=[].concat(JR(A),[{item:_.item,position:{offset:N+(C+f)*T+(C-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(D){R.push({item:D,position:R[R.length-1].position})}),R},h)}return m},Zee=function(t,r,a,s){var i=a.children,l=a.width,u=a.margin,d=l-(u.left||0)-(u.right||0),f=Q$({children:i,legendWidth:d});if(f){var m=s||{},h=m.width,g=m.height,j=f.align,w=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&w==="middle")&&j!=="center"&&$e(t[j]))return ir(ir({},t),{},Wl({},j,t[j]+(h||0)));if((b==="horizontal"||b==="vertical"&&j==="center")&&w!=="middle"&&$e(t[w]))return ir(ir({},t),{},Wl({},w,t[w]+(g||0)))}return t},Jee=function(t,r,a){return Rt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},Z$=function(t,r,a,s,i){var l=r.props.children,u=Oa(l,rg).filter(function(f){return Jee(s,i,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,m){var h=ds(m,a);if(Rt(h))return f;var g=Array.isArray(h)?[Jp(h),Zp(h)]:[h,h],j=d.reduce(function(w,b){var v=ds(m,b,0),N=g[0]-Math.abs(Array.isArray(v)?v[0]:v),C=g[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(N,w[0]),Math.max(C,w[1])]},[1/0,-1/0]);return[Math.min(j[0],f[0]),Math.max(j[1],f[1])]},[1/0,-1/0])}return null},ete=function(t,r,a,s,i){var l=r.map(function(u){return Z$(t,u,a,i,s)}).filter(function(u){return!Rt(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},J$=function(t,r,a,s,i){var l=r.map(function(d){var f=d.props.dataKey;return a==="number"&&f&&Z$(t,d,f,s)||Ku(t,f,a,i)});if(a==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var m=0,h=f.length;m<h;m++)u[f[m]]||(u[f[m]]=!0,d.push(f[m]));return d},[])},eL=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},tL=function(t,r,a,s){if(s)return t.map(function(d){return d.coordinate});var i,l,u=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===a&&(l=!0),d.coordinate});return i||u.push(r),l||u.push(a),u},Is=function(t,r,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,f=(r||a)&&l==="category"&&s.bandwidth?s.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&u?.length>=2?ka(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(h){var g=i?i.indexOf(h):h;return{coordinate:s(g)+f,value:h,offset:f}});return m.filter(function(h){return!rf(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,g){return{coordinate:s(h)+f,value:h,index:g,offset:f}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(h){return{coordinate:s(h)+f,value:h,offset:f}}):s.domain().map(function(h,g){return{coordinate:s(h)+f,value:i?i[h]:h,index:g,offset:f}})},Xb=new WeakMap,Uh=function(t,r){if(typeof r!="function")return t;Xb.has(t)||Xb.set(t,new WeakMap);var a=Xb.get(t);if(a.has(r))return a.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},tte=function(t,r,a){var s=t.scale,i=t.type,l=t.layout,u=t.axisType;if(s==="auto")return l==="radial"&&u==="radiusAxis"?{scale:pd(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:Am(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Gu(),realScaleType:"point"}:i==="category"?{scale:pd(),realScaleType:"band"}:{scale:Am(),realScaleType:"linear"};if(Oo(s)){var d="scale".concat(Fp(s));return{scale:(FR[d]||Gu)(),realScaleType:FR[d]?d:"point"}}return jt(s)?{scale:s}:{scale:Gu(),realScaleType:"point"}},tk=1e-4,rte=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-tk,l=Math.max(s[0],s[1])+tk,u=t(r[0]),d=t(r[a-1]);(u<i||u>l||d<i||d>l)&&t.domain([r[0],r[a-1]])}},nte=function(t,r){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===r)return t[a].position;return null},ate=function(t,r){if(!r||r.length!==2||!$e(r[0])||!$e(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!$e(t[0])||t[0]<a)&&(i[0]=a),(!$e(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},ste=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0,u=0;u<r;++u){var d=rf(t[u][a][1])?t[u][a][0]:t[u][a][1];d>=0?(t[u][a][0]=i,t[u][a][1]=i+d,i=t[u][a][1]):(t[u][a][0]=l,t[u][a][1]=l+d,l=t[u][a][1])}},ite=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0;l<r;++l){var u=rf(t[l][a][1])?t[l][a][0]:t[l][a][1];u>=0?(t[l][a][0]=i,t[l][a][1]=i+u,i=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},ote={sign:ste,expand:qG,none:Xl,silhouette:WG,wiggle:VG,positive:ite},lte=function(t,r,a){var s=r.map(function(u){return u.props.dataKey}),i=ote[a],l=zG().keys(s).value(function(u,d){return+ds(u,d,0)}).order(ww).offset(i);return l(t)},cte=function(t,r,a,s,i,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(h,g){var j,w=(j=g.type)!==null&&j!==void 0&&j.defaultProps?ir(ir({},g.type.defaultProps),g.props):g.props,b=w.stackId,v=w.hide;if(v)return h;var N=w[a],C=h[N]||{hasStack:!1,stackGroups:{}};if(Tr(b)){var S=C.stackGroups[b]||{numericAxisId:a,cateAxisId:s,items:[]};S.items.push(g),C.hasStack=!0,C.stackGroups[b]=S}else C.stackGroups[Lp("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[g]};return ir(ir({},h),{},Wl({},N,C))},d),m={};return Object.keys(f).reduce(function(h,g){var j=f[g];if(j.hasStack){var w={};j.stackGroups=Object.keys(j.stackGroups).reduce(function(b,v){var N=j.stackGroups[v];return ir(ir({},b),{},Wl({},v,{numericAxisId:a,cateAxisId:s,items:N.items,stackedData:lte(t,N.items,i)}))},w)}return ir(ir({},h),{},Wl({},g,j))},m)},ute=function(t,r){var a=r.realScaleType,s=r.type,i=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=a||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var m=jee(f,i,u);return t.domain([Jp(m),Zp(m)]),{niceTicks:m}}if(i&&s==="number"){var h=t.domain(),g=wee(h,i,u);return{niceTicks:g}}return null},rk=function(t){var r=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return a[u]?a[u].coordinate+s:null;var d=ds(l,r.dataKey,r.domain[u]);return Rt(d)?null:r.scale(d)-i/2+s},dte=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},fte=function(t,r){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Tr(i)){var l=r[i];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},hte=function(t){return t.reduce(function(r,a){return[Jp(a.concat([r[0]]).filter($e)),Zp(a.concat([r[1]]).filter($e))]},[1/0,-1/0])},rL=function(t,r,a){return Object.keys(t).reduce(function(s,i){var l=t[i],u=l.stackedData,d=u.reduce(function(f,m){var h=hte(m.slice(r,a+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},nk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ak=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gw=function(t,r,a){if(jt(t))return t(r,a);if(!Array.isArray(t))return r;var s=[];if($e(t[0]))s[0]=a?t[0]:Math.min(t[0],r[0]);else if(nk.test(t[0])){var i=+nk.exec(t[0])[1];s[0]=r[0]-i}else jt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if($e(t[1]))s[1]=a?t[1]:Math.max(t[1],r[1]);else if(ak.test(t[1])){var l=+ak.exec(t[1])[1];s[1]=r[1]+l}else jt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Mm=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=CN(r,function(h){return h.coordinate}),l=1/0,u=1,d=i.length;u<d;u++){var f=i[u],m=i[u-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},sk=function(t,r,a){return!t||!t.length||XN(t,va(a,"type.defaultProps.domain"))?r:t},nL=function(t,r){var a=t.type.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,l=a.unit,u=a.formatter,d=a.tooltipType,f=a.chartType,m=a.hide;return ir(ir({},Pt(t,!1)),{},{dataKey:s,unit:l,formatter:u,name:i||s,color:JN(t),value:ds(r,s),type:d,payload:r,chartType:f,hide:m})};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ok(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(a){mte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mte(e,t,r){return t=pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pte(e){var t=gte(e,"string");return Sd(t)=="symbol"?t:t+""}function gte(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Sd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $m=Math.PI/180,vte=function(t){return t*180/Math.PI},Yr=function(t,r,a,s){return{x:t+Math.cos(-$m*s)*a,y:r+Math.sin(-$m*s)*a}},xte=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-l,2))},yte=function(t,r){var a=t.x,s=t.y,i=r.cx,l=r.cy,u=xte({x:a,y:s},{x:i,y:l});if(u<=0)return{radius:u};var d=(a-i)/u,f=Math.acos(d);return s>l&&(f=2*Math.PI-f),{radius:u,angle:vte(f),angleInRadian:f}},bte=function(t){var r=t.startAngle,a=t.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),l=Math.min(s,i);return{startAngle:r-l*360,endAngle:a-l*360}},jte=function(t,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),l=Math.floor(s/360),u=Math.min(i,l);return t+u*360},lk=function(t,r){var a=t.x,s=t.y,i=yte({x:a,y:s},r),l=i.radius,u=i.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var m=bte(r),h=m.startAngle,g=m.endAngle,j=u,w;if(h<=g){for(;j>g;)j-=360;for(;j<h;)j+=360;w=j>=h&&j<=g}else{for(;j>h;)j-=360;for(;j<g;)j+=360;w=j>=g&&j<=h}return w?ok(ok({},r),{},{radius:l,angle:jte(j,r)}):null};function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}var wte=["offset"];function Nte(e){return Ete(e)||Cte(e)||_te(e)||Ste()}function Ste(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _te(e,t){if(e){if(typeof e=="string")return Kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(e,t)}}function Cte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ete(e){if(Array.isArray(e))return Kw(e)}function Kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Tte(e,t){if(e==null)return{};var r=Ate(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ate(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(a){Pte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Pte(e,t,r){return t=Rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rte(e){var t=kte(e,"string");return _d(t)=="symbol"?t:t+""}function kte(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(_d(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cd.apply(this,arguments)}var Ite=function(t){var r=t.value,a=t.formatter,s=Rt(t.children)?r:t.children;return jt(a)?a(s):s},Ote=function(t,r){var a=ka(r-t),s=Math.min(Math.abs(r-t),360);return a*s},Dte=function(t,r,a){var s=t.position,i=t.viewBox,l=t.offset,u=t.className,d=i,f=d.cx,m=d.cy,h=d.innerRadius,g=d.outerRadius,j=d.startAngle,w=d.endAngle,b=d.clockWise,v=(h+g)/2,N=Ote(j,w),C=N>=0?1:-1,S,A;s==="insideStart"?(S=j+C*l,A=b):s==="insideEnd"?(S=w-C*l,A=!b):s==="end"&&(S=w+C*l,A=b),A=N<=0?A:!A;var _=Yr(f,m,v,S),T=Yr(f,m,v,S+(A?1:-1)*359),R="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(A?0:1,`,
    `).concat(T.x,",").concat(T.y),D=Rt(t.id)?Lp("recharts-radial-line-"):t.id;return Q.createElement("text",Cd({},a,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",u)}),Q.createElement("defs",null,Q.createElement("path",{id:D,d:R})),Q.createElement("textPath",{xlinkHref:"#".concat(D)},r))},Mte=function(t){var r=t.viewBox,a=t.offset,s=t.position,i=r,l=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,m=i.startAngle,h=i.endAngle,g=(m+h)/2;if(s==="outside"){var j=Yr(l,u,f+a,g),w=j.x,b=j.y;return{x:w,y:b,textAnchor:w>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var v=(d+f)/2,N=Yr(l,u,v,g),C=N.x,S=N.y;return{x:C,y:S,textAnchor:"middle",verticalAnchor:"middle"}},$te=function(t){var r=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,l=r,u=l.x,d=l.y,f=l.width,m=l.height,h=m>=0?1:-1,g=h*s,j=h>0?"end":"start",w=h>0?"start":"end",b=f>=0?1:-1,v=b*s,N=b>0?"end":"start",C=b>0?"start":"end";if(i==="top"){var S={x:u+f/2,y:d-h*s,textAnchor:"middle",verticalAnchor:j};return _r(_r({},S),a?{height:Math.max(d-a.y,0),width:f}:{})}if(i==="bottom"){var A={x:u+f/2,y:d+m+g,textAnchor:"middle",verticalAnchor:w};return _r(_r({},A),a?{height:Math.max(a.y+a.height-(d+m),0),width:f}:{})}if(i==="left"){var _={x:u-v,y:d+m/2,textAnchor:N,verticalAnchor:"middle"};return _r(_r({},_),a?{width:Math.max(_.x-a.x,0),height:m}:{})}if(i==="right"){var T={x:u+f+v,y:d+m/2,textAnchor:C,verticalAnchor:"middle"};return _r(_r({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:m}:{})}var R=a?{width:f,height:m}:{};return i==="insideLeft"?_r({x:u+v,y:d+m/2,textAnchor:C,verticalAnchor:"middle"},R):i==="insideRight"?_r({x:u+f-v,y:d+m/2,textAnchor:N,verticalAnchor:"middle"},R):i==="insideTop"?_r({x:u+f/2,y:d+g,textAnchor:"middle",verticalAnchor:w},R):i==="insideBottom"?_r({x:u+f/2,y:d+m-g,textAnchor:"middle",verticalAnchor:j},R):i==="insideTopLeft"?_r({x:u+v,y:d+g,textAnchor:C,verticalAnchor:w},R):i==="insideTopRight"?_r({x:u+f-v,y:d+g,textAnchor:N,verticalAnchor:w},R):i==="insideBottomLeft"?_r({x:u+v,y:d+m-g,textAnchor:C,verticalAnchor:j},R):i==="insideBottomRight"?_r({x:u+f-v,y:d+m-g,textAnchor:N,verticalAnchor:j},R):Tc(i)&&($e(i.x)||bo(i.x))&&($e(i.y)||bo(i.y))?_r({x:u+Do(i.x,f),y:d+Do(i.y,m),textAnchor:"end",verticalAnchor:"end"},R):_r({x:u+f/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Lte=function(t){return"cx"in t&&$e(t.cx)};function sn(e){var t=e.offset,r=t===void 0?5:t,a=Tte(e,wte),s=_r({offset:r},a),i=s.viewBox,l=s.position,u=s.value,d=s.children,f=s.content,m=s.className,h=m===void 0?"":m,g=s.textBreakAll;if(!i||Rt(u)&&Rt(d)&&!x.isValidElement(f)&&!jt(f))return null;if(x.isValidElement(f))return x.cloneElement(f,s);var j;if(jt(f)){if(j=x.createElement(f,s),x.isValidElement(j))return j}else j=Ite(s);var w=Lte(i),b=Pt(s,!0);if(w&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Dte(s,j,b);var v=w?Mte(s):$te(s);return Q.createElement(wm,Cd({className:Ct("recharts-label",h)},b,v,{breakAll:g}),j)}sn.displayName="Label";var aL=function(t){var r=t.cx,a=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,m=t.outerRadius,h=t.x,g=t.y,j=t.top,w=t.left,b=t.width,v=t.height,N=t.clockWise,C=t.labelViewBox;if(C)return C;if($e(b)&&$e(v)){if($e(h)&&$e(g))return{x:h,y:g,width:b,height:v};if($e(j)&&$e(w))return{x:j,y:w,width:b,height:v}}return $e(h)&&$e(g)?{x:h,y:g,width:0,height:0}:$e(r)&&$e(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:l||s||0,innerRadius:f||0,outerRadius:m||d||u||0,clockWise:N}:t.viewBox?t.viewBox:{}},Fte=function(t,r){return t?t===!0?Q.createElement(sn,{key:"label-implicit",viewBox:r}):Tr(t)?Q.createElement(sn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===sn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):Q.createElement(sn,{key:"label-implicit",content:t,viewBox:r}):jt(t)?Q.createElement(sn,{key:"label-implicit",content:t,viewBox:r}):Tc(t)?Q.createElement(sn,Cd({viewBox:r},t,{key:"label-implicit"})):null:null},Ute=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=aL(t),l=Oa(s,sn).map(function(d,f){return x.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!a)return l;var u=Fte(t.label,r||i);return[u].concat(Nte(l))};sn.parseViewBox=aL;sn.renderCallByParent=Ute;var Qb,uk;function Bte(){if(uk)return Qb;uk=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Qb=e,Qb}var zte=Bte();const qte=qt(zte);function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}var Wte=["valueAccessor"],Vte=["data","dataKey","clockWise","id","textBreakAll"];function Hte(e){return Xte(e)||Yte(e)||Kte(e)||Gte()}function Gte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kte(e,t){if(e){if(typeof e=="string")return Yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yw(e,t)}}function Yte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xte(e){if(Array.isArray(e))return Yw(e)}function Yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Lm.apply(this,arguments)}function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(a){Qte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Qte(e,t,r){return t=Zte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zte(e){var t=Jte(e,"string");return Ed(t)=="symbol"?t:t+""}function Jte(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ed(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hk(e,t){if(e==null)return{};var r=ere(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ere(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var tre=function(t){return Array.isArray(t.value)?qte(t.value):t.value};function To(e){var t=e.valueAccessor,r=t===void 0?tre:t,a=hk(e,Wte),s=a.data,i=a.dataKey,l=a.clockWise,u=a.id,d=a.textBreakAll,f=hk(a,Vte);return!s||!s.length?null:Q.createElement($r,{className:"recharts-label-list"},s.map(function(m,h){var g=Rt(i)?r(m,h):ds(m&&m.payload,i),j=Rt(u)?{}:{id:"".concat(u,"-").concat(h)};return Q.createElement(sn,Lm({},Pt(m,!0),f,j,{parentViewBox:m.parentViewBox,value:g,textBreakAll:d,viewBox:sn.parseViewBox(Rt(l)?m:fk(fk({},m),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}To.displayName="LabelList";function rre(e,t){return e?e===!0?Q.createElement(To,{key:"labelList-implicit",data:t}):Q.isValidElement(e)||jt(e)?Q.createElement(To,{key:"labelList-implicit",data:t,content:e}):Tc(e)?Q.createElement(To,Lm({data:t},e,{key:"labelList-implicit"})):null:null}function nre(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=Oa(a,To).map(function(l,u){return x.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return s;var i=rre(e.label,t);return[i].concat(Hte(s))}To.renderCallByParent=nre;function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xw.apply(this,arguments)}function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(a){are(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function are(e,t,r){return t=sre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sre(e){var t=ire(e,"string");return Td(t)=="symbol"?t:t+""}function ire(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Td(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ore=function(t,r){var a=ka(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},Bh=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,m=d*(u?1:-1)+s,h=Math.asin(d/m)/$m,g=f?i:i+l*h,j=Yr(r,a,m,g),w=Yr(r,a,s,g),b=f?i-l*h:i,v=Yr(r,a,m*Math.cos(h*$m),b);return{center:j,circleTangency:w,lineTangency:v,theta:h}},sL=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,u=t.endAngle,d=ore(l,u),f=l+d,m=Yr(r,a,i,l),h=Yr(r,a,i,f),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var j=Yr(r,a,s,l),w=Yr(r,a,s,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(j.x,",").concat(j.y," Z")}else g+="L ".concat(r,",").concat(a," Z");return g},lre=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,m=t.endAngle,h=ka(m-f),g=Bh({cx:r,cy:a,radius:i,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),j=g.circleTangency,w=g.lineTangency,b=g.theta,v=Bh({cx:r,cy:a,radius:i,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),N=v.circleTangency,C=v.lineTangency,S=v.theta,A=d?Math.abs(f-m):Math.abs(f-m)-b-S;if(A<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):sL({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:f,endAngle:m});var _="M ".concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(s>0){var T=Bh({cx:r,cy:a,radius:s,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),R=T.circleTangency,D=T.lineTangency,k=T.theta,B=Bh({cx:r,cy:a,radius:s,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),z=B.circleTangency,G=B.lineTangency,W=B.theta,Z=d?Math.abs(f-m):Math.abs(f-m)-k-W;if(Z<0&&l===0)return"".concat(_,"L").concat(r,",").concat(a,"Z");_+="L".concat(G.x,",").concat(G.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(Z>180),",").concat(+(h>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else _+="L".concat(r,",").concat(a,"Z");return _},cre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iL=function(t){var r=pk(pk({},cre),t),a=r.cx,s=r.cy,i=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,m=r.startAngle,h=r.endAngle,g=r.className;if(l<i||m===h)return null;var j=Ct("recharts-sector",g),w=l-i,b=Do(u,w,0,!0),v;return b>0&&Math.abs(m-h)<360?v=lre({cx:a,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(b,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):v=sL({cx:a,cy:s,innerRadius:i,outerRadius:l,startAngle:m,endAngle:h}),Q.createElement("path",Xw({},Pt(r,!0),{className:j,d:v,role:"img"}))};function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qw.apply(this,arguments)}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(a){ure(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ure(e,t,r){return t=dre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dre(e){var t=fre(e,"string");return Ad(t)=="symbol"?t:t+""}function fre(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ad(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xk={curveBasisClosed:RG,curveBasisOpen:kG,curveBasis:PG,curveBumpX:gG,curveBumpY:vG,curveLinearClosed:IG,curveLinear:Bp,curveMonotoneX:OG,curveMonotoneY:DG,curveNatural:MG,curveStep:$G,curveStepAfter:FG,curveStepBefore:LG},zh=function(t){return t.x===+t.x&&t.y===+t.y},Au=function(t){return t.x},Pu=function(t){return t.y},hre=function(t,r){if(jt(t))return t;var a="curve".concat(Fp(t));return(a==="curveMonotone"||a==="curveBump")&&r?xk["".concat(a).concat(r==="vertical"?"Y":"X")]:xk[a]||Bp},mre=function(t){var r=t.type,a=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,m=hre(a,u),h=f?i.filter(function(b){return zh(b)}):i,g;if(Array.isArray(l)){var j=f?l.filter(function(b){return zh(b)}):l,w=h.map(function(b,v){return vk(vk({},b),{},{base:j[v]})});return u==="vertical"?g=Ih().y(Pu).x1(Au).x0(function(b){return b.base.x}):g=Ih().x(Au).y1(Pu).y0(function(b){return b.base.y}),g.defined(zh).curve(m),g(w)}return u==="vertical"&&$e(l)?g=Ih().y(Pu).x1(Au).x0(l):$e(l)?g=Ih().x(Au).y1(Pu).y0(l):g=u4().x(Au).y(Pu),g.defined(zh).curve(m),g(h)},yk=function(t){var r=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var l=a&&a.length?mre(t):s;return x.createElement("path",Qw({},Pt(t,!1),um(t),{className:Ct("recharts-curve",r),d:l,ref:i}))},Zb={exports:{}},Jb,bk;function pre(){if(bk)return Jb;bk=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jb=e,Jb}var ej,jk;function gre(){if(jk)return ej;jk=1;var e=pre();function t(){}function r(){}return r.resetWarningCache=t,ej=function(){function a(l,u,d,f,m,h){if(h!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},ej}var wk;function vre(){return wk||(wk=1,Zb.exports=gre()()),Zb.exports}var xre=vre();const It=qt(xre);var yre=Object.getOwnPropertyNames,bre=Object.getOwnPropertySymbols,jre=Object.prototype.hasOwnProperty;function Nk(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function qh(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var i=s.cache,l=i.get(r),u=i.get(a);if(l&&u)return l===a&&u===r;i.set(r,a),i.set(a,r);var d=e(r,a,s);return i.delete(r),i.delete(a),d}}function Sk(e){return yre(e).concat(bre(e))}var wre=Object.hasOwn||(function(e,t){return jre.call(e,t)});function Ko(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Nre="__v",Sre="__o",_re="_owner",_k=Object.getOwnPropertyDescriptor,Ck=Object.keys;function Cre(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function Ere(e,t){return Ko(e.getTime(),t.getTime())}function Tre(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Are(e,t){return e===t}function Ek(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),l,u,d=0;(l=i.next())&&!l.done;){for(var f=t.entries(),m=!1,h=0;(u=f.next())&&!u.done;){if(s[h]){h++;continue}var g=l.value,j=u.value;if(r.equals(g[0],j[0],d,h,e,t,r)&&r.equals(g[1],j[1],g[0],j[0],e,t,r)){m=s[h]=!0;break}h++}if(!m)return!1;d++}return!0}var Pre=Ko;function Rre(e,t,r){var a=Ck(e),s=a.length;if(Ck(t).length!==s)return!1;for(;s-- >0;)if(!oL(e,t,r,a[s]))return!1;return!0}function Ru(e,t,r){var a=Sk(e),s=a.length;if(Sk(t).length!==s)return!1;for(var i,l,u;s-- >0;)if(i=a[s],!oL(e,t,r,i)||(l=_k(e,i),u=_k(t,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function kre(e,t){return Ko(e.valueOf(),t.valueOf())}function Ire(e,t){return e.source===t.source&&e.flags===t.flags}function Tk(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),l,u;(l=i.next())&&!l.done;){for(var d=t.values(),f=!1,m=0;(u=d.next())&&!u.done;){if(!s[m]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=s[m]=!0;break}m++}if(!f)return!1}return!0}function Ore(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Dre(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function oL(e,t,r,a){return(a===_re||a===Sre||a===Nre)&&(e.$$typeof||t.$$typeof)?!0:wre(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var Mre="[object Arguments]",$re="[object Boolean]",Lre="[object Date]",Fre="[object Error]",Ure="[object Map]",Bre="[object Number]",zre="[object Object]",qre="[object RegExp]",Wre="[object Set]",Vre="[object String]",Hre="[object URL]",Gre=Array.isArray,Ak=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Pk=Object.assign,Kre=Object.prototype.toString.call.bind(Object.prototype.toString);function Yre(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,l=e.areNumbersEqual,u=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,m=e.areSetsEqual,h=e.areTypedArraysEqual,g=e.areUrlsEqual;return function(w,b,v){if(w===b)return!0;if(w==null||b==null)return!1;var N=typeof w;if(N!==typeof b)return!1;if(N!=="object")return N==="number"?l(w,b,v):N==="function"?s(w,b,v):!1;var C=w.constructor;if(C!==b.constructor)return!1;if(C===Object)return u(w,b,v);if(Gre(w))return t(w,b,v);if(Ak!=null&&Ak(w))return h(w,b,v);if(C===Date)return r(w,b,v);if(C===RegExp)return f(w,b,v);if(C===Map)return i(w,b,v);if(C===Set)return m(w,b,v);var S=Kre(w);return S===Lre?r(w,b,v):S===qre?f(w,b,v):S===Ure?i(w,b,v):S===Wre?m(w,b,v):S===zre?typeof w.then!="function"&&typeof b.then!="function"&&u(w,b,v):S===Hre?g(w,b,v):S===Fre?a(w,b,v):S===Mre?u(w,b,v):S===$re||S===Bre||S===Vre?d(w,b,v):!1}}function Xre(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?Ru:Cre,areDatesEqual:Ere,areErrorsEqual:Tre,areFunctionsEqual:Are,areMapsEqual:a?Nk(Ek,Ru):Ek,areNumbersEqual:Pre,areObjectsEqual:a?Ru:Rre,arePrimitiveWrappersEqual:kre,areRegExpsEqual:Ire,areSetsEqual:a?Nk(Tk,Ru):Tk,areTypedArraysEqual:a?Ru:Ore,areUrlsEqual:Dre};if(r&&(s=Pk({},s,r(s))),t){var i=qh(s.areArraysEqual),l=qh(s.areMapsEqual),u=qh(s.areObjectsEqual),d=qh(s.areSetsEqual);s=Pk({},s,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return s}function Qre(e){return function(t,r,a,s,i,l,u){return e(t,r,u)}}function Zre(e){var t=e.circular,r=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(d,f){var m=a(),h=m.cache,g=h===void 0?t?new WeakMap:void 0:h,j=m.meta;return r(d,f,{cache:g,equals:s,meta:j,strict:i})};if(t)return function(d,f){return r(d,f,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var l={cache:void 0,equals:s,meta:void 0,strict:i};return function(d,f){return r(d,f,l)}}var Jre=Yi();Yi({strict:!0});Yi({circular:!0});Yi({circular:!0,strict:!0});Yi({createInternalComparator:function(){return Ko}});Yi({strict:!0,createInternalComparator:function(){return Ko}});Yi({circular:!0,createInternalComparator:function(){return Ko}});Yi({circular:!0,createInternalComparator:function(){return Ko},strict:!0});function Yi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,l=i===void 0?!1:i,u=Xre(e),d=Yre(u),f=a?a(d):Qre(d);return Zre({circular:r,comparator:d,createState:s,equals:f,strict:l})}function ene(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Rk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):ene(s)};requestAnimationFrame(a)}function Zw(e){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zw(e)}function tne(e){return sne(e)||ane(e)||nne(e)||rne()}function rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nne(e,t){if(e){if(typeof e=="string")return kk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kk(e,t)}}function kk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ane(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sne(e){if(Array.isArray(e))return e}function ine(){var e={},t=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,u=tne(l),d=u[0],f=u.slice(1);if(typeof d=="number"){Rk(s.bind(null,f),d);return}s(d),Rk(s.bind(null,f));return}Zw(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ok(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(a){lL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lL(e,t,r){return t=one(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function one(e){var t=lne(e,"string");return Pd(t)==="symbol"?t:String(t)}function lne(e,t){if(Pd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Pd(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cne=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},une=function(t){return t},dne=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Yu=function(t,r){return Object.keys(r).reduce(function(a,s){return Ok(Ok({},a),{},lL({},s,t(s,r[s])))},{})},Dk=function(t,r,a){return t.map(function(s){return"".concat(dne(s)," ").concat(r,"ms ").concat(a)}).join(",")};function fne(e,t){return pne(e)||mne(e,t)||cL(e,t)||hne()}function hne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function pne(e){if(Array.isArray(e))return e}function gne(e){return yne(e)||xne(e)||cL(e)||vne()}function vne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cL(e,t){if(e){if(typeof e=="string")return Jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(e,t)}}function xne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yne(e){if(Array.isArray(e))return Jw(e)}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Fm=1e-4,uL=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},dL=function(t,r){return t.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},Mk=function(t,r){return function(a){var s=uL(t,r);return dL(s,a)}},bne=function(t,r){return function(a){var s=uL(t,r),i=[].concat(gne(s.map(function(l,u){return l*u}).slice(1)),[0]);return dL(i,a)}},$k=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0],i=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,l=1,u=1;break;case"ease":s=.25,i=.1,l=.25,u=1;break;case"ease-in":s=.42,i=0,l=1,u=1;break;case"ease-out":s=.42,i=0,l=.58,u=1;break;case"ease-in-out":s=0,i=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),m=fne(f,4);s=m[0],i=m[1],l=m[2],u=m[3]}}}var h=Mk(s,l),g=Mk(i,u),j=bne(s,l),w=function(N){return N>1?1:N<0?0:N},b=function(N){for(var C=N>1?1:N,S=C,A=0;A<8;++A){var _=h(S)-C,T=j(S);if(Math.abs(_-C)<Fm||T<Fm)return g(S);S=w(S-_/T)}return g(S)};return b.isStepper=!1,b},jne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,l=t.dt,u=l===void 0?17:l,d=function(m,h,g){var j=-(m-h)*a,w=g*i,b=g+(j-w)*u/1e3,v=g*u/1e3+m;return Math.abs(v-h)<Fm&&Math.abs(b)<Fm?[h,0]:[v,b]};return d.isStepper=!0,d.dt=u,d},wne=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $k(s);case"spring":return jne();default:if(s.split("(")[0]==="cubic-bezier")return $k(s)}return typeof s=="function"?s:null};function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function Lk(e){return _ne(e)||Sne(e)||fL(e)||Nne()}function Nne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _ne(e){if(Array.isArray(e))return t1(e)}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(a){e1(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function e1(e,t,r){return t=Cne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cne(e){var t=Ene(e,"string");return Rd(t)==="symbol"?t:String(t)}function Ene(e,t){if(Rd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Rd(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tne(e,t){return Rne(e)||Pne(e,t)||fL(e,t)||Ane()}function Ane(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fL(e,t){if(e){if(typeof e=="string")return t1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(e,t)}}function t1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Pne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Rne(e){if(Array.isArray(e))return e}var Um=function(t,r,a){return t+(r-t)*a},r1=function(t){var r=t.from,a=t.to;return r!==a},kne=function e(t,r,a){var s=Yu(function(i,l){if(r1(l)){var u=t(l.from,l.to,l.velocity),d=Tne(u,2),f=d[0],m=d[1];return Gr(Gr({},l),{},{from:f,velocity:m})}return l},r);return a<1?Yu(function(i,l){return r1(l)?Gr(Gr({},l),{},{velocity:Um(l.velocity,s[i].velocity,a),from:Um(l.from,s[i].from,a)}):l},r):e(t,s,a-1)};const Ine=(function(e,t,r,a,s){var i=cne(e,t),l=i.reduce(function(v,N){return Gr(Gr({},v),{},e1({},N,[e[N],t[N]]))},{}),u=i.reduce(function(v,N){return Gr(Gr({},v),{},e1({},N,{from:e[N],velocity:0,to:t[N]}))},{}),d=-1,f,m,h=function(){return null},g=function(){return Yu(function(N,C){return C.from},u)},j=function(){return!Object.values(u).filter(r1).length},w=function(N){f||(f=N);var C=N-f,S=C/r.dt;u=kne(r,u,S),s(Gr(Gr(Gr({},e),t),g())),f=N,j()||(d=requestAnimationFrame(h))},b=function(N){m||(m=N);var C=(N-m)/a,S=Yu(function(_,T){return Um.apply(void 0,Lk(T).concat([r(C)]))},l);if(s(Gr(Gr(Gr({},e),t),S)),C<1)d=requestAnimationFrame(h);else{var A=Yu(function(_,T){return Um.apply(void 0,Lk(T).concat([r(1)]))},l);s(Gr(Gr(Gr({},e),t),A))}};return h=r.isStepper?w:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}var One=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Dne(e,t){if(e==null)return{};var r=Mne(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Mne(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function tj(e){return Une(e)||Fne(e)||Lne(e)||$ne()}function $ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lne(e,t){if(e){if(typeof e=="string")return n1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n1(e,t)}}function Fne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Une(e){if(Array.isArray(e))return n1(e)}function n1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(a){Wu(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Wu(e,t,r){return t=hL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zne(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,hL(a.key),a)}}function qne(e,t,r){return t&&zne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hL(e){var t=Wne(e,"string");return sc(t)==="symbol"?t:String(t)}function Wne(e,t){if(sc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(sc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a1(e,t)}function a1(e,t){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},a1(e,t)}function Hne(e){var t=Gne();return function(){var a=Bm(e),s;if(t){var i=Bm(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return s1(this,s)}}function s1(e,t){if(t&&(sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i1(e)}function i1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bm(e){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(e)}var $i=(function(e){Vne(r,e);var t=Hne(r);function r(a,s){var i;Bne(this,r),i=t.call(this,a,s);var l=i.props,u=l.isActive,d=l.attributeName,f=l.from,m=l.to,h=l.steps,g=l.children,j=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(i1(i)),i.changeStyle=i.changeStyle.bind(i1(i)),!u||j<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:m}),s1(i);if(h&&h.length)i.state={style:h[0].style};else if(f){if(typeof g=="function")return i.state={style:f},s1(i);i.state={style:d?Wu({},d,f):f}}else i.state={style:{}};return i}return qne(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,u=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,m=i.to,h=i.from,g=this.state.style;if(u){if(!l){var j={style:d?Wu({},d,m):m};this.state&&g&&(d&&g[d]!==m||!d&&g!==m)&&this.setState(j);return}if(!(Jre(s.to,m)&&s.canBegin&&s.isActive)){var w=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=w||f?h:s.to;if(this.state&&g){var v={style:d?Wu({},d,b):b};(d&&g[d]!==b||!d&&g!==b)&&this.setState(v)}this.runAnimation(Ea(Ea({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,u=s.to,d=s.duration,f=s.easing,m=s.begin,h=s.onAnimationEnd,g=s.onAnimationStart,j=Ine(l,u,wne(f),d,this.changeStyle),w=function(){i.stopJSAnimation=j()};this.manager.start([g,m,w,d,h])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,u=s.begin,d=s.onAnimationStart,f=l[0],m=f.style,h=f.duration,g=h===void 0?0:h,j=function(b,v,N){if(N===0)return b;var C=v.duration,S=v.easing,A=S===void 0?"ease":S,_=v.style,T=v.properties,R=v.onAnimationEnd,D=N>0?l[N-1]:v,k=T||Object.keys(_);if(typeof A=="function"||A==="spring")return[].concat(tj(b),[i.runJSAnimation.bind(i,{from:D.style,to:_,duration:C,easing:A}),C]);var B=Dk(k,C,A),z=Ea(Ea(Ea({},D.style),_),{},{transition:B});return[].concat(tj(b),[z,C,R]).filter(une)};return this.manager.start([d].concat(tj(l.reduce(j,[m,Math.max(g,u)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=ine());var i=s.begin,l=s.duration,u=s.attributeName,d=s.to,f=s.easing,m=s.onAnimationStart,h=s.onAnimationEnd,g=s.steps,j=s.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof j=="function"||f==="spring"){this.runJSAnimation(s);return}if(g.length>1){this.runStepAnimation(s);return}var b=u?Wu({},u,d):d,v=Dk(Object.keys(b),l,f);w.start([m,i,Ea(Ea({},b),{},{transition:v}),l,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var u=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=Dne(s,One),f=x.Children.count(i),m=this.state.style;if(typeof i=="function")return i(m);if(!u||f===0||l<=0)return i;var h=function(j){var w=j.props,b=w.style,v=b===void 0?{}:b,N=w.className,C=x.cloneElement(j,Ea(Ea({},d),{},{style:Ea(Ea({},v),m),className:N}));return C};return f===1?h(x.Children.only(i)):Q.createElement("div",null,x.Children.map(i,function(g){return h(g)}))}}]),r})(x.PureComponent);$i.displayName="Animate";$i.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$i.propTypes={from:It.oneOfType([It.object,It.string]),to:It.oneOfType([It.object,It.string]),attributeName:It.string,duration:It.number,begin:It.number,easing:It.oneOfType([It.string,It.func]),steps:It.arrayOf(It.shape({duration:It.number.isRequired,style:It.object.isRequired,easing:It.oneOfType([It.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),It.func]),properties:It.arrayOf("string"),onAnimationEnd:It.func})),children:It.oneOfType([It.node,It.func]),isActive:It.bool,canBegin:It.bool,onAnimationEnd:It.func,shouldReAnimate:It.bool,onAnimationStart:It.func,onAnimationReStart:It.func};function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zm.apply(this,arguments)}function Kne(e,t){return Zne(e)||Qne(e,t)||Xne(e,t)||Yne()}function Yne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xne(e,t){if(e){if(typeof e=="string")return Bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(e,t)}}function Bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Qne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Zne(e){if(Array.isArray(e))return e}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(a){Jne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jne(e,t,r){return t=eae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eae(e){var t=tae(e,"string");return kd(t)=="symbol"?t:t+""}function tae(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(kd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wk=function(t,r,a,s,i){var l=Math.min(Math.abs(a)/2,Math.abs(s)/2),u=s>=0?1:-1,d=a>=0?1:-1,f=s>=0&&a>=0||s<0&&a<0?1:0,m;if(l>0&&i instanceof Array){for(var h=[0,0,0,0],g=0,j=4;g<j;g++)h[g]=i[g]>l?l:i[g];m="M".concat(t,",").concat(r+u*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+d*h[0],",").concat(r)),m+="L ".concat(t+a-d*h[1],",").concat(r),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+a,",").concat(r+u*h[1])),m+="L ".concat(t+a,",").concat(r+s-u*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+a-d*h[2],",").concat(r+s)),m+="L ".concat(t+d*h[3],",").concat(r+s),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+s-u*h[3])),m+="Z"}else if(l>0&&i===+i&&i>0){var w=Math.min(l,i);m="M ".concat(t,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(r,`
            L `).concat(t+a-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+a,",").concat(r+u*w,`
            L `).concat(t+a,",").concat(r+s-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+a-d*w,",").concat(r+s,`
            L `).concat(t+d*w,",").concat(r+s,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(r+s-u*w," Z")}else m="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return m},rae=function(t,r){if(!t||!r)return!1;var a=t.x,s=t.y,i=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(i,i+u),m=Math.max(i,i+u),h=Math.min(l,l+d),g=Math.max(l,l+d);return a>=f&&a<=m&&s>=h&&s<=g}return!1},nae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eS=function(t){var r=qk(qk({},nae),t),a=x.useRef(),s=x.useState(-1),i=Kne(s,2),l=i[0],u=i[1];x.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var A=a.current.getTotalLength();A&&u(A)}catch{}},[]);var d=r.x,f=r.y,m=r.width,h=r.height,g=r.radius,j=r.className,w=r.animationEasing,b=r.animationDuration,v=r.animationBegin,N=r.isAnimationActive,C=r.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||h!==+h||m===0||h===0)return null;var S=Ct("recharts-rectangle",j);return C?Q.createElement($i,{canBegin:l>0,from:{width:m,height:h,x:d,y:f},to:{width:m,height:h,x:d,y:f},duration:b,animationEasing:w,isActive:C},function(A){var _=A.width,T=A.height,R=A.x,D=A.y;return Q.createElement($i,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,isActive:N,easing:w},Q.createElement("path",zm({},Pt(r,!0),{className:S,d:Wk(R,D,_,T,g),ref:a})))}):Q.createElement("path",zm({},Pt(r,!0),{className:S,d:Wk(d,f,m,h,g)}))};function o1(){return o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o1.apply(this,arguments)}var mL=function(t){var r=t.cx,a=t.cy,s=t.r,i=t.className,l=Ct("recharts-dot",i);return r===+r&&a===+a&&s===+s?x.createElement("circle",o1({},Pt(t,!1),um(t),{className:l,cx:r,cy:a,r:s})):null};function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}var aae=["x","y","top","left","width","height","className"];function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l1.apply(this,arguments)}function Vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(r),!0).forEach(function(a){iae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iae(e,t,r){return t=oae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oae(e){var t=lae(e,"string");return Id(t)=="symbol"?t:t+""}function lae(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Id(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cae(e,t){if(e==null)return{};var r=uae(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function uae(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var dae=function(t,r,a,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(r,"h").concat(a)},fae=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,m=t.width,h=m===void 0?0:m,g=t.height,j=g===void 0?0:g,w=t.className,b=cae(t,aae),v=sae({x:a,y:i,top:u,left:f,width:h,height:j},b);return!$e(a)||!$e(i)||!$e(h)||!$e(j)||!$e(u)||!$e(f)?null:Q.createElement("path",l1({},Pt(v,!0),{className:Ct("recharts-cross",w),d:dae(a,i,h,j,u,f)}))},rj,Hk;function hae(){if(Hk)return rj;Hk=1;var e=I4(),t=e(Object.getPrototypeOf,Object);return rj=t,rj}var nj,Gk;function mae(){if(Gk)return nj;Gk=1;var e=Ws(),t=hae(),r=Vs(),a="[object Object]",s=Function.prototype,i=Object.prototype,l=s.toString,u=i.hasOwnProperty,d=l.call(Object);function f(m){if(!r(m)||e(m)!=a)return!1;var h=t(m);if(h===null)return!0;var g=u.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return nj=f,nj}var pae=mae();const gae=qt(pae);var aj,Kk;function vae(){if(Kk)return aj;Kk=1;var e=Ws(),t=Vs(),r="[object Boolean]";function a(s){return s===!0||s===!1||t(s)&&e(s)==r}return aj=a,aj}var xae=vae();const yae=qt(xae);function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qm.apply(this,arguments)}function bae(e,t){return Sae(e)||Nae(e,t)||wae(e,t)||jae()}function jae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wae(e,t){if(e){if(typeof e=="string")return Yk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yk(e,t)}}function Yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Nae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Sae(e){if(Array.isArray(e))return e}function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(a){_ae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _ae(e,t,r){return t=Cae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cae(e){var t=Eae(e,"string");return Od(t)=="symbol"?t:t+""}function Eae(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Od(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zk=function(t,r,a,s,i){var l=a-s,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+a,",").concat(r),u+="L ".concat(t+a-l/2,",").concat(r+i),u+="L ".concat(t+a-l/2-s,",").concat(r+i),u+="L ".concat(t,",").concat(r," Z"),u},Tae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Aae=function(t){var r=Qk(Qk({},Tae),t),a=x.useRef(),s=x.useState(-1),i=bae(s,2),l=i[0],u=i[1];x.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&u(S)}catch{}},[]);var d=r.x,f=r.y,m=r.upperWidth,h=r.lowerWidth,g=r.height,j=r.className,w=r.animationEasing,b=r.animationDuration,v=r.animationBegin,N=r.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||h!==+h||g!==+g||m===0&&h===0||g===0)return null;var C=Ct("recharts-trapezoid",j);return N?Q.createElement($i,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:m,lowerWidth:h,height:g,x:d,y:f},duration:b,animationEasing:w,isActive:N},function(S){var A=S.upperWidth,_=S.lowerWidth,T=S.height,R=S.x,D=S.y;return Q.createElement($i,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,easing:w},Q.createElement("path",qm({},Pt(r,!0),{className:C,d:Zk(R,D,A,_,T),ref:a})))}):Q.createElement("g",null,Q.createElement("path",qm({},Pt(r,!0),{className:C,d:Zk(d,f,m,h,g)})))},Pae=["option","shapeType","propTransformer","activeClassName","isActive"];function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function Rae(e,t){if(e==null)return{};var r=kae(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function kae(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(r),!0).forEach(function(a){Iae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Iae(e,t,r){return t=Oae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oae(e){var t=Dae(e,"string");return Dd(t)=="symbol"?t:t+""}function Dae(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Dd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mae(e,t){return Wm(Wm({},t),e)}function $ae(e,t){return e==="symbols"}function eI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Q.createElement(eS,r);case"trapezoid":return Q.createElement(Aae,r);case"sector":return Q.createElement(iL,r);case"symbols":if($ae(t))return Q.createElement(xN,r);break;default:return null}}function Lae(e){return x.isValidElement(e)?e.props:e}function Fae(e){var t=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?Mae:a,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,u=e.isActive,d=Rae(e,Pae),f;if(x.isValidElement(t))f=x.cloneElement(t,Wm(Wm({},d),Lae(t)));else if(jt(t))f=t(d);else if(gae(t)&&!yae(t)){var m=s(t,d);f=Q.createElement(eI,{shapeType:r,elementProps:m})}else{var h=d;f=Q.createElement(eI,{shapeType:r,elementProps:h})}return u?Q.createElement($r,{className:l},f):f}function ng(e,t){return t!=null&&"trapezoids"in e.props}function ag(e,t){return t!=null&&"sectors"in e.props}function Md(e,t){return t!=null&&"points"in e.props}function Uae(e,t){var r,a,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function Bae(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function zae(e,t){var r=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return r&&a&&s}function qae(e,t){var r;return ng(e,t)?r=Uae:ag(e,t)?r=Bae:Md(e,t)&&(r=zae),r}function Wae(e,t){var r;return ng(e,t)?r="trapezoids":ag(e,t)?r="sectors":Md(e,t)&&(r="points"),r}function Vae(e,t){if(ng(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ag(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Md(e,t)?t.payload:{}}function Hae(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=Wae(r,t),i=Vae(r,t),l=a.filter(function(d,f){var m=XN(i,d),h=r.props[s].filter(function(w){var b=qae(r,t);return b(w,t)}),g=r.props[s].indexOf(h[h.length-1]),j=f===g;return m&&j}),u=a.indexOf(l[l.length-1]);return u}var sj,tI;function Gae(){if(tI)return sj;tI=1;var e=Math.ceil,t=Math.max;function r(a,s,i,l){for(var u=-1,d=t(e((s-a)/(i||1)),0),f=Array(d);d--;)f[l?d:++u]=a,a+=i;return f}return sj=r,sj}var ij,rI;function pL(){if(rI)return ij;rI=1;var e=Y4(),t=1/0,r=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return ij=a,ij}var oj,nI;function Kae(){if(nI)return oj;nI=1;var e=Gae(),t=Vp(),r=pL();function a(s){return function(i,l,u){return u&&typeof u!="number"&&t(i,l,u)&&(l=u=void 0),i=r(i),l===void 0?(l=i,i=0):l=r(l),u=u===void 0?i<l?1:-1:r(u),e(i,l,u,s)}}return oj=a,oj}var lj,aI;function Yae(){if(aI)return lj;aI=1;var e=Kae(),t=e();return lj=t,lj}var Xae=Yae();const Vm=qt(Xae);function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function sI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function iI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(r),!0).forEach(function(a){gL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gL(e,t,r){return t=Qae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qae(e){var t=Zae(e,"string");return $d(t)=="symbol"?t:t+""}function Zae(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if($d(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jae=["Webkit","Moz","O","ms"],ese=function(t,r){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Jae.reduce(function(i,l){return iI(iI({},i),{},gL({},l+a,r))},{});return s[t]=r,s};function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hm.apply(this,arguments)}function oI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(r),!0).forEach(function(a){Vn(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lI(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xL(a.key),a)}}function rse(e,t,r){return t&&lI(e.prototype,t),r&&lI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nse(e,t,r){return t=Gm(t),ase(e,vL()?Reflect.construct(t,r||[],Gm(e).constructor):t.apply(e,r))}function ase(e,t){if(t&&(ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sse(e)}function sse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vL=function(){return!!e})()}function Gm(e){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gm(e)}function ise(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c1(e,t)}function c1(e,t){return c1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},c1(e,t)}function Vn(e,t,r){return t=xL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xL(e){var t=ose(e,"string");return ic(t)=="symbol"?t:t+""}function ose(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ic(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lse=function(t){var r=t.data,a=t.startIndex,s=t.endIndex,i=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Gu().domain(Vm(0,d)).range([i,i+l-u]),m=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(a),endX:f(s),scale:f,scaleValues:m}},cI=function(t){return t.changedTouches&&!!t.changedTouches.length},oc=(function(e){function t(r){var a;return tse(this,t),a=nse(this,t,[r]),Vn(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Vn(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Vn(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,l=s.onDragEnd,u=s.startIndex;l?.({endIndex:i,startIndex:u})}),a.detachDragEndListener()}),Vn(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Vn(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Vn(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Vn(a,"handleSlideDragStart",function(s){var i=cI(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return ise(t,e),rse(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,m=f.length-1,h=Math.min(s,i),g=Math.max(s,i),j=t.getIndexInRange(l,h),w=t.getIndexInRange(l,g);return{startIndex:j-j%d,endIndex:w===m?m:w-w%d}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,l=s.tickFormatter,u=s.dataKey,d=ds(i[a],u,a);return jt(l)?l(d,a):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,l=s.startX,u=s.endX,d=this.props,f=d.x,m=d.width,h=d.travellerWidth,g=d.startIndex,j=d.endIndex,w=d.onChange,b=a.pageX-i;b>0?b=Math.min(b,f+m-h-u,f+m-h-l):b<0&&(b=Math.max(b,f-l,f-u));var v=this.getIndex({startX:l+b,endX:u+b});(v.startIndex!==g||v.endIndex!==j)&&w&&w(v),this.setState({startX:l+b,endX:u+b,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=cI(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,u=s.endX,d=s.startX,f=this.state[l],m=this.props,h=m.x,g=m.width,j=m.travellerWidth,w=m.onChange,b=m.gap,v=m.data,N={startX:this.state.startX,endX:this.state.endX},C=a.pageX-i;C>0?C=Math.min(C,h+g-j-f):C<0&&(C=Math.max(C,h-f)),N[l]=f+C;var S=this.getIndex(N),A=S.startIndex,_=S.endIndex,T=function(){var D=v.length-1;return l==="startX"&&(u>d?A%b===0:_%b===0)||u<d&&_===D||l==="endX"&&(u>d?_%b===0:A%b===0)||u>d&&_===D};this.setState(Vn(Vn({},l,f+C),"brushMoveStartX",a.pageX),function(){w&&T()&&w(S)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,m=this.state[s],h=u.indexOf(m);if(h!==-1){var g=h+a;if(!(g===-1||g>=u.length)){var j=u[g];s==="startX"&&j>=f||s==="endX"&&j<=d||this.setState(Vn({},s,j),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.fill,f=a.stroke;return Q.createElement("rect",{stroke:f,fill:d,x:s,y:i,width:l,height:u})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.data,f=a.children,m=a.padding,h=x.Children.only(f);return h?Q.cloneElement(h,{x:s,y:i,width:l,height:u,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,l,u=this,d=this.props,f=d.y,m=d.travellerWidth,h=d.height,g=d.traveller,j=d.ariaLabel,w=d.data,b=d.startIndex,v=d.endIndex,N=Math.max(a,this.props.x),C=cj(cj({},Pt(this.props,!1)),{},{x:N,y:f,width:m,height:h}),S=j||"Min value: ".concat((i=w[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=w[v])===null||l===void 0?void 0:l.name);return Q.createElement($r,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),u.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,s))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,C))}},{key:"renderSlide",value:function(a,s){var i=this.props,l=i.y,u=i.height,d=i.stroke,f=i.travellerWidth,m=Math.min(a,s)+f,h=Math.max(Math.abs(s-a)-f,0);return Q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:l,width:h,height:u})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,l=a.y,u=a.height,d=a.travellerWidth,f=a.stroke,m=this.state,h=m.startX,g=m.endX,j=5,w={pointerEvents:"none",fill:f};return Q.createElement($r,{className:"recharts-brush-texts"},Q.createElement(wm,Hm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-j,y:l+u/2},w),this.getTextOfTick(s)),Q.createElement(wm,Hm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+d+j,y:l+u/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,l=a.children,u=a.x,d=a.y,f=a.width,m=a.height,h=a.alwaysShowText,g=this.state,j=g.startX,w=g.endX,b=g.isTextActive,v=g.isSlideMoving,N=g.isTravellerMoving,C=g.isTravellerFocused;if(!s||!s.length||!$e(u)||!$e(d)||!$e(f)||!$e(m)||f<=0||m<=0)return null;var S=Ct("recharts-brush",i),A=Q.Children.count(l)===1,_=ese("userSelect","none");return Q.createElement($r,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(j,w),this.renderTravellerLayer(j,"startX"),this.renderTravellerLayer(w,"endX"),(b||v||N||C||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,l=a.width,u=a.height,d=a.stroke,f=Math.floor(i+u/2)-1;return Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:s,y:i,width:l,height:u,fill:d,stroke:"none"}),Q.createElement("line",{x1:s+1,y1:f,x2:s+l-1,y2:f,fill:"none",stroke:"#fff"}),Q.createElement("line",{x1:s+1,y1:f+2,x2:s+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return Q.isValidElement(a)?i=Q.cloneElement(a,s):jt(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,l=a.width,u=a.x,d=a.travellerWidth,f=a.updateId,m=a.startIndex,h=a.endIndex;if(i!==s.prevData||f!==s.prevUpdateId)return cj({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},i&&i.length?lse({data:i,width:l,x:u,travellerWidth:d,startIndex:m,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||u!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([u,u+l-d]);var g=s.scale.domain().map(function(j){return s.scale(j)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,l=0,u=i-1;u-l>1;){var d=Math.floor((l+u)/2);a[d]>s?u=d:l=d}return s>=a[u]?u:l}}])})(x.PureComponent);Vn(oc,"displayName","Brush");Vn(oc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var uj,uI;function cse(){if(uI)return uj;uI=1;var e=_N();function t(r,a){var s;return e(r,function(i,l,u){return s=a(i,l,u),!s}),!!s}return uj=t,uj}var dj,dI;function use(){if(dI)return dj;dI=1;var e=C4(),t=Hi(),r=cse(),a=Mn(),s=Vp();function i(l,u,d){var f=a(l)?e:r;return d&&s(l,u,d)&&(u=void 0),f(l,t(u,3))}return dj=i,dj}var dse=use();const fse=qt(dse);var ss=function(t,r){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===r},fj,fI;function hse(){if(fI)return fj;fI=1;var e=W4();function t(r,a,s){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[a]=s}return fj=t,fj}var hj,hI;function mse(){if(hI)return hj;hI=1;var e=hse(),t=z4(),r=Hi();function a(s,i){var l={};return i=r(i,3),t(s,function(u,d,f){e(l,d,i(u,d,f))}),l}return hj=a,hj}var pse=mse();const gse=qt(pse);var mj,mI;function vse(){if(mI)return mj;mI=1;function e(t,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(!r(t[a],a,t))return!1;return!0}return mj=e,mj}var pj,pI;function xse(){if(pI)return pj;pI=1;var e=_N();function t(r,a){var s=!0;return e(r,function(i,l,u){return s=!!a(i,l,u),s}),s}return pj=t,pj}var gj,gI;function yse(){if(gI)return gj;gI=1;var e=vse(),t=xse(),r=Hi(),a=Mn(),s=Vp();function i(l,u,d){var f=a(l)?e:t;return d&&s(l,u,d)&&(u=void 0),f(l,r(u,3))}return gj=i,gj}var bse=yse();const yL=qt(bse);var jse=["x","y"];function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function u1(){return u1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u1.apply(this,arguments)}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(a){wse(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wse(e,t,r){return t=Nse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nse(e){var t=Sse(e,"string");return Ld(t)=="symbol"?t:t+""}function Sse(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ld(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _se(e,t){if(e==null)return{};var r=Cse(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Cse(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Ese(e,t){var r=e.x,a=e.y,s=_se(e,jse),i="".concat(r),l=parseInt(i,10),u="".concat(a),d=parseInt(u,10),f="".concat(t.height||s.height),m=parseInt(f,10),h="".concat(t.width||s.width),g=parseInt(h,10);return ku(ku(ku(ku(ku({},t),s),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:g,name:t.name,radius:t.radius})}function xI(e){return Q.createElement(Fae,u1({shapeType:"rectangle",propTransformer:Ese,activeClassName:"recharts-active-bar"},e))}var Tse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=$e(a)||LH(a);return i?t(a,s):(i||$o(),r)}},Ase=["value","background"],bL;function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function Pse(e,t){if(e==null)return{};var r=Rse(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Rse(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Km.apply(this,arguments)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(a){Ai(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bI(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wL(a.key),a)}}function Ise(e,t,r){return t&&bI(e.prototype,t),r&&bI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ose(e,t,r){return t=Ym(t),Dse(e,jL()?Reflect.construct(t,r||[],Ym(e).constructor):t.apply(e,r))}function Dse(e,t){if(t&&(lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mse(e)}function Mse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jL=function(){return!!e})()}function Ym(e){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(e)}function $se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d1(e,t)}function d1(e,t){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},d1(e,t)}function Ai(e,t,r){return t=wL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wL(e){var t=Lse(e,"string");return lc(t)=="symbol"?t:t+""}function Lse(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(lc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Li=(function(e){function t(){var r;kse(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=Ose(this,t,[].concat(s)),Ai(r,"state",{isAnimationFinished:!1}),Ai(r,"id",Lp("recharts-bar-")),Ai(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Ai(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return $se(t,e),Ise(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,l=i.shape,u=i.dataKey,d=i.activeIndex,f=i.activeBar,m=Pt(this.props,!1);return a&&a.map(function(h,g){var j=g===d,w=j?f:l,b=gr(gr(gr({},m),h),{},{isActive:j,option:w,index:g,dataKey:u,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Q.createElement($r,Km({className:"recharts-bar-rectangle"},dm(s.props,h,g),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(g)}),Q.createElement(xI,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,l=s.layout,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,m=s.animationEasing,h=s.animationId,g=this.state.prevData;return Q.createElement($i,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t,b=i.map(function(v,N){var C=g&&g[N];if(C){var S=Nl(C.x,v.x),A=Nl(C.y,v.y),_=Nl(C.width,v.width),T=Nl(C.height,v.height);return gr(gr({},v),{},{x:S(w),y:A(w),width:_(w),height:T(w)})}if(l==="horizontal"){var R=Nl(0,v.height),D=R(w);return gr(gr({},v),{},{y:v.y+v.height-D,height:D})}var k=Nl(0,v.width),B=k(w);return gr(gr({},v),{},{width:B})});return Q.createElement($r,null,a.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!XN(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,l=s.dataKey,u=s.activeIndex,d=Pt(this.props.background,!1);return i.map(function(f,m){f.value;var h=f.background,g=Pse(f,Ase);if(!h)return null;var j=gr(gr(gr(gr(gr({},g),{},{fill:"#eee"},h),d),dm(a.props,f,m)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:m,className:"recharts-bar-background-rectangle"});return Q.createElement(xI,Km({key:"background-bar-".concat(m),option:a.props.background,isActive:m===u},j))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,u=i.xAxis,d=i.yAxis,f=i.layout,m=i.children,h=Oa(m,rg);if(!h)return null;var g=f==="vertical"?l[0].height/2:l[0].width/2,j=function(v,N){var C=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:C,errorVal:ds(v,N)}},w={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Q.createElement($r,w,h.map(function(b){return Q.cloneElement(b,{key:"error-bar-".concat(s,"-").concat(b.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:g,dataPointFormatter:j})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,l=a.className,u=a.xAxis,d=a.yAxis,f=a.left,m=a.top,h=a.width,g=a.height,j=a.isAnimationActive,w=a.background,b=a.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,N=Ct("recharts-bar",l),C=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,A=C||S,_=Rt(b)?this.id:b;return Q.createElement($r,{className:N},C||S?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(_)},Q.createElement("rect",{x:C?f:f-h/2,y:S?m:m-g/2,width:C?h:h*2,height:S?g:g*2}))):null,Q.createElement($r,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(_,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,_),(!j||v)&&To.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(x.PureComponent);bL=Li;Ai(Li,"displayName","Bar");Ai(Li,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!af.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ai(Li,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,m=e.dataStartIndex,h=e.displayedData,g=e.offset,j=nte(a,r);if(!j)return null;var w=t.layout,b=r.type.defaultProps,v=b!==void 0?gr(gr({},b),r.props):r.props,N=v.dataKey,C=v.children,S=v.minPointSize,A=w==="horizontal"?l:i,_=f?A.scale.domain():null,T=dte({numericAxis:A}),R=Oa(C,Q4),D=h.map(function(k,B){var z,G,W,Z,$,M;f?z=ate(f[m+B],_):(z=ds(k,N),Array.isArray(z)||(z=[T,z]));var I=Tse(S,bL.defaultProps.minPointSize)(z[1],B);if(w==="horizontal"){var O,H=[l.scale(z[0]),l.scale(z[1])],V=H[0],q=H[1];G=rk({axis:i,ticks:u,bandSize:s,offset:j.offset,entry:k,index:B}),W=(O=q??V)!==null&&O!==void 0?O:void 0,Z=j.size;var F=V-q;if($=Number.isNaN(F)?0:F,M={x:G,y:l.y,width:Z,height:l.height},Math.abs(I)>0&&Math.abs($)<Math.abs(I)){var L=ka($||I)*(Math.abs(I)-Math.abs($));W-=L,$+=L}}else{var Y=[i.scale(z[0]),i.scale(z[1])],ee=Y[0],ce=Y[1];if(G=ee,W=rk({axis:l,ticks:d,bandSize:s,offset:j.offset,entry:k,index:B}),Z=ce-ee,$=j.size,M={x:i.x,y:W,width:i.width,height:$},Math.abs(I)>0&&Math.abs(Z)<Math.abs(I)){var K=ka(Z||I)*(Math.abs(I)-Math.abs(Z));Z+=K}}return gr(gr(gr({},k),{},{x:G,y:W,width:Z,height:$,value:f?z:z[1],payload:k,background:M},R&&R[B]&&R[B].props),{},{tooltipPayload:[nL(r,k)],tooltipPosition:{x:G+Z/2,y:W+$/2}})});return gr({data:D,layout:w},g)});function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function Fse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jI(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,NL(a.key),a)}}function Use(e,t,r){return t&&jI(e.prototype,t),r&&jI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(a){sg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sg(e,t,r){return t=NL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NL(e){var t=Bse(e,"string");return Fd(t)=="symbol"?t:t+""}function Bse(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Fd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zse=function(t,r,a,s,i){var l=t.width,u=t.height,d=t.layout,f=t.children,m=Object.keys(r),h={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:u-a.bottom,bottomMirror:u-a.bottom},g=!!Hn(f,Li);return m.reduce(function(j,w){var b=r[w],v=b.orientation,N=b.domain,C=b.padding,S=C===void 0?{}:C,A=b.mirror,_=b.reversed,T="".concat(v).concat(A?"Mirror":""),R,D,k,B,z;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var G=N[1]-N[0],W=1/0,Z=b.categoricalDomain.sort(BH);if(Z.forEach(function(Y,ee){ee>0&&(W=Math.min((Y||0)-(Z[ee-1]||0),W))}),Number.isFinite(W)){var $=W/G,M=b.layout==="vertical"?a.height:a.width;if(b.padding==="gap"&&(R=$*M/2),b.padding==="no-gap"){var I=Do(t.barCategoryGap,$*M),O=$*M/2;R=O-I-(O-I)/M*I}}}s==="xAxis"?D=[a.left+(S.left||0)+(R||0),a.left+a.width-(S.right||0)-(R||0)]:s==="yAxis"?D=d==="horizontal"?[a.top+a.height-(S.bottom||0),a.top+(S.top||0)]:[a.top+(S.top||0)+(R||0),a.top+a.height-(S.bottom||0)-(R||0)]:D=b.range,_&&(D=[D[1],D[0]]);var H=tte(b,i,g),V=H.scale,q=H.realScaleType;V.domain(N).range(D),rte(V);var F=ute(V,Aa(Aa({},b),{},{realScaleType:q}));s==="xAxis"?(z=v==="top"&&!A||v==="bottom"&&A,k=a.left,B=h[T]-z*b.height):s==="yAxis"&&(z=v==="left"&&!A||v==="right"&&A,k=h[T]-z*b.width,B=a.top);var L=Aa(Aa(Aa({},b),F),{},{realScaleType:q,x:k,y:B,scale:V,width:s==="xAxis"?a.width:b.width,height:s==="yAxis"?a.height:b.height});return L.bandSize=Mm(L,F),!b.hide&&s==="xAxis"?h[T]+=(z?-1:1)*L.height:b.hide||(h[T]+=(z?-1:1)*L.width),Aa(Aa({},j),{},sg({},w,L))},{})},SL=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return{x:Math.min(a,i),y:Math.min(s,l),width:Math.abs(i-a),height:Math.abs(l-s)}},qse=function(t){var r=t.x1,a=t.y1,s=t.x2,i=t.y2;return SL({x:r,y:a},{x:s,y:i})},_L=(function(){function e(t){Fse(this,e),this.scale=t}return Use(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();sg(_L,"EPS",1e-4);var tS=function(t){var r=Object.keys(t).reduce(function(a,s){return Aa(Aa({},a),{},sg({},s,_L.create(t[s])))},{});return Aa(Aa({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,u=i.position;return gse(s,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(s){return yL(s,function(i,l){return r[l].isInRange(i)})}})};function Wse(e){return(e%180+180)%180}var Vse=function(t){var r=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Wse(s),l=i*Math.PI/180,u=Math.atan(a/r),d=l>u&&l<Math.PI-u?a/Math.sin(l):r/Math.cos(l);return Math.abs(d)},vj,NI;function Hse(){if(NI)return vj;NI=1;var e=Hi(),t=nf(),r=qp();function a(s){return function(i,l,u){var d=Object(i);if(!t(i)){var f=e(l,3);i=r(i),l=function(h){return f(d[h],h,d)}}var m=s(i,l,u);return m>-1?d[f?i[m]:m]:void 0}}return vj=a,vj}var xj,SI;function Gse(){if(SI)return xj;SI=1;var e=pL();function t(r){var a=e(r),s=a%1;return a===a?s?a-s:a:0}return xj=t,xj}var yj,_I;function Kse(){if(_I)return yj;_I=1;var e=$4(),t=Hi(),r=Gse(),a=Math.max;function s(i,l,u){var d=i==null?0:i.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=a(d+f,0)),e(i,t(l,3),f)}return yj=s,yj}var bj,CI;function Yse(){if(CI)return bj;CI=1;var e=Hse(),t=Kse(),r=e(t);return bj=r,bj}var Xse=Yse();const Qse=qt(Xse);var Zse=JM();const Jse=qt(Zse);var eie=Jse(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),rS=x.createContext(void 0),nS=x.createContext(void 0),CL=x.createContext(void 0),EL=x.createContext({}),TL=x.createContext(void 0),AL=x.createContext(0),PL=x.createContext(0),EI=function(t){var r=t.state,a=r.xAxisMap,s=r.yAxisMap,i=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,m=eie(i);return Q.createElement(rS.Provider,{value:a},Q.createElement(nS.Provider,{value:s},Q.createElement(EL.Provider,{value:i},Q.createElement(CL.Provider,{value:m},Q.createElement(TL.Provider,{value:l},Q.createElement(AL.Provider,{value:f},Q.createElement(PL.Provider,{value:d},u)))))))},tie=function(){return x.useContext(TL)},RL=function(t){var r=x.useContext(rS);r==null&&$o();var a=r[t];return a==null&&$o(),a},rie=function(){var t=x.useContext(rS);return Ci(t)},nie=function(){var t=x.useContext(nS),r=Qse(t,function(a){return yL(a.domain,Number.isFinite)});return r||Ci(t)},kL=function(t){var r=x.useContext(nS);r==null&&$o();var a=r[t];return a==null&&$o(),a},aie=function(){var t=x.useContext(CL);return t},sie=function(){return x.useContext(EL)},aS=function(){return x.useContext(PL)},sS=function(){return x.useContext(AL)};function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function iie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oie(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,OL(a.key),a)}}function lie(e,t,r){return t&&oie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cie(e,t,r){return t=Xm(t),uie(e,IL()?Reflect.construct(t,r||[],Xm(e).constructor):t.apply(e,r))}function uie(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return die(e)}function die(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IL=function(){return!!e})()}function Xm(e){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(e)}function fie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f1(e,t)}function f1(e,t){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},f1(e,t)}function TI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function AI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(r),!0).forEach(function(a){iS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iS(e,t,r){return t=OL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OL(e){var t=hie(e,"string");return cc(t)=="symbol"?t:t+""}function hie(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(cc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mie(e,t){return xie(e)||vie(e,t)||gie(e,t)||pie()}function pie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gie(e,t){if(e){if(typeof e=="string")return PI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PI(e,t)}}function PI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function vie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function xie(e){if(Array.isArray(e))return e}function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h1.apply(this,arguments)}var yie=function(t,r){var a;return Q.isValidElement(t)?a=Q.cloneElement(t,r):jt(t)?a=t(r):a=Q.createElement("line",h1({},r,{className:"recharts-reference-line-line"})),a},bie=function(t,r,a,s,i,l,u,d,f){var m=i.x,h=i.y,g=i.width,j=i.height;if(a){var w=f.y,b=t.y.apply(w,{position:l});if(ss(f,"discard")&&!t.y.isInRange(b))return null;var v=[{x:m+g,y:b},{x:m,y:b}];return d==="left"?v.reverse():v}if(r){var N=f.x,C=t.x.apply(N,{position:l});if(ss(f,"discard")&&!t.x.isInRange(C))return null;var S=[{x:C,y:h+j},{x:C,y:h}];return u==="top"?S.reverse():S}if(s){var A=f.segment,_=A.map(function(T){return t.apply(T,{position:l})});return ss(f,"discard")&&fse(_,function(T){return!t.isInRange(T)})?null:_}return null};function jie(e){var t=e.x,r=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=tie(),m=RL(s),h=kL(i),g=aie();if(!f||!g)return null;Ds(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var j=tS({x:m.scale,y:h.scale}),w=Tr(t),b=Tr(r),v=a&&a.length===2,N=bie(j,w,b,v,g,e.position,m.orientation,h.orientation,e);if(!N)return null;var C=mie(N,2),S=C[0],A=S.x,_=S.y,T=C[1],R=T.x,D=T.y,k=ss(e,"hidden")?"url(#".concat(f,")"):void 0,B=AI(AI({clipPath:k},Pt(e,!0)),{},{x1:A,y1:_,x2:R,y2:D});return Q.createElement($r,{className:Ct("recharts-reference-line",u)},yie(l,B),sn.renderCallByParent(e,qse({x1:A,y1:_,x2:R,y2:D})))}var ig=(function(e){function t(){return iie(this,t),cie(this,t,arguments)}return fie(t,e),lie(t,[{key:"render",value:function(){return Q.createElement(jie,this.props)}}])})(Q.Component);iS(ig,"displayName","ReferenceLine");iS(ig,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m1.apply(this,arguments)}function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(a){og(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nie(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ML(a.key),a)}}function Sie(e,t,r){return t&&Nie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ie(e,t,r){return t=Qm(t),Cie(e,DL()?Reflect.construct(t,r||[],Qm(e).constructor):t.apply(e,r))}function Cie(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eie(e)}function Eie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!e})()}function Qm(e){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(e)}function Tie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p1(e,t)}function p1(e,t){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},p1(e,t)}function og(e,t,r){return t=ML(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ML(e){var t=Aie(e,"string");return uc(t)=="symbol"?t:t+""}function Aie(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(uc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pie=function(t){var r=t.x,a=t.y,s=t.xAxis,i=t.yAxis,l=tS({x:s.scale,y:i.scale}),u=l.apply({x:r,y:a},{bandAware:!0});return ss(t,"discard")&&!l.isInRange(u)?null:u},lg=(function(e){function t(){return wie(this,t),_ie(this,t,arguments)}return Tie(t,e),Sie(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,l=a.r,u=a.alwaysShow,d=a.clipPathId,f=Tr(s),m=Tr(i);if(Ds(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!m)return null;var h=Pie(this.props);if(!h)return null;var g=h.x,j=h.y,w=this.props,b=w.shape,v=w.className,N=ss(this.props,"hidden")?"url(#".concat(d,")"):void 0,C=kI(kI({clipPath:N},Pt(this.props,!0)),{},{cx:g,cy:j});return Q.createElement($r,{className:Ct("recharts-reference-dot",v)},t.renderDot(b,C),sn.renderCallByParent(this.props,{x:g-l,y:j-l,width:2*l,height:2*l}))}}])})(Q.Component);og(lg,"displayName","ReferenceDot");og(lg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});og(lg,"renderDot",function(e,t){var r;return Q.isValidElement(e)?r=Q.cloneElement(e,t):jt(e)?r=e(t):r=Q.createElement(mL,m1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},g1.apply(this,arguments)}function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function OI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(a){cg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kie(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,LL(a.key),a)}}function Iie(e,t,r){return t&&kie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oie(e,t,r){return t=Zm(t),Die(e,$L()?Reflect.construct(t,r||[],Zm(e).constructor):t.apply(e,r))}function Die(e,t){if(t&&(dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mie(e)}function Mie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($L=function(){return!!e})()}function Zm(e){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(e)}function $ie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v1(e,t)}function v1(e,t){return v1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},v1(e,t)}function cg(e,t,r){return t=LL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LL(e){var t=Lie(e,"string");return dc(t)=="symbol"?t:t+""}function Lie(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(dc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fie=function(t,r,a,s,i){var l=i.x1,u=i.x2,d=i.y1,f=i.y2,m=i.xAxis,h=i.yAxis;if(!m||!h)return null;var g=tS({x:m.scale,y:h.scale}),j={x:t?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:a?g.y.apply(d,{position:"start"}):g.y.rangeMin},w={x:r?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:s?g.y.apply(f,{position:"end"}):g.y.rangeMax};return ss(i,"discard")&&(!g.isInRange(j)||!g.isInRange(w))?null:SL(j,w)},ug=(function(e){function t(){return Rie(this,t),Oie(this,t,arguments)}return $ie(t,e),Iie(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,l=a.y1,u=a.y2,d=a.className,f=a.alwaysShow,m=a.clipPathId;Ds(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Tr(s),g=Tr(i),j=Tr(l),w=Tr(u),b=this.props.shape;if(!h&&!g&&!j&&!w&&!b)return null;var v=Fie(h,g,j,w,this.props);if(!v&&!b)return null;var N=ss(this.props,"hidden")?"url(#".concat(m,")"):void 0;return Q.createElement($r,{className:Ct("recharts-reference-area",d)},t.renderRect(b,OI(OI({clipPath:N},Pt(this.props,!0)),v)),sn.renderCallByParent(this.props,v))}}])})(Q.Component);cg(ug,"displayName","ReferenceArea");cg(ug,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cg(ug,"renderRect",function(e,t){var r;return Q.isValidElement(e)?r=Q.cloneElement(e,t):jt(e)?r=e(t):r=Q.createElement(eS,g1({},t,{className:"recharts-reference-area-rect"})),r});function FL(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function Uie(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return Vse(a,r)}function Bie(e,t,r){var a=r==="width",s=e.x,i=e.y,l=e.width,u=e.height;return t===1?{start:a?s:i,end:a?s+l:i+u}:{start:a?s+l:i+u,end:a?s:i}}function Jm(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function zie(e,t){return FL(e,t+1)}function qie(e,t,r,a,s){for(var i=(a||[]).slice(),l=t.start,u=t.end,d=0,f=1,m=l,h=function(){var w=a?.[d];if(w===void 0)return{v:FL(a,f)};var b=d,v,N=function(){return v===void 0&&(v=r(w,b)),v},C=w.coordinate,S=d===0||Jm(e,C,N,m,u);S||(d=0,m=l,f+=1),S&&(m=C+e*(N()/2+s),d+=f)},g;f<=i.length;)if(g=h(),g)return g.v;return[]}function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function DI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(r),!0).forEach(function(a){Wie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Wie(e,t,r){return t=Vie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vie(e){var t=Hie(e,"string");return Ud(t)=="symbol"?t:t+""}function Hie(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ud(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gie(e,t,r,a,s){for(var i=(a||[]).slice(),l=i.length,u=t.start,d=t.end,f=function(g){var j=i[g],w,b=function(){return w===void 0&&(w=r(j,g)),w};if(g===l-1){var v=e*(j.coordinate+e*b()/2-d);i[g]=j=an(an({},j),{},{tickCoord:v>0?j.coordinate-v*e:j.coordinate})}else i[g]=j=an(an({},j),{},{tickCoord:j.coordinate});var N=Jm(e,j.tickCoord,b,u,d);N&&(d=j.tickCoord-e*(b()/2+s),i[g]=an(an({},j),{},{isShow:!0}))},m=l-1;m>=0;m--)f(m);return i}function Kie(e,t,r,a,s,i){var l=(a||[]).slice(),u=l.length,d=t.start,f=t.end;if(i){var m=a[u-1],h=r(m,u-1),g=e*(m.coordinate+e*h/2-f);l[u-1]=m=an(an({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate});var j=Jm(e,m.tickCoord,function(){return h},d,f);j&&(f=m.tickCoord-e*(h/2+s),l[u-1]=an(an({},m),{},{isShow:!0}))}for(var w=i?u-1:u,b=function(C){var S=l[C],A,_=function(){return A===void 0&&(A=r(S,C)),A};if(C===0){var T=e*(S.coordinate-e*_()/2-d);l[C]=S=an(an({},S),{},{tickCoord:T<0?S.coordinate-T*e:S.coordinate})}else l[C]=S=an(an({},S),{},{tickCoord:S.coordinate});var R=Jm(e,S.tickCoord,_,d,f);R&&(d=S.tickCoord+e*(_()/2+s),l[C]=an(an({},S),{},{isShow:!0}))},v=0;v<w;v++)b(v);return l}function oS(e,t,r){var a=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,m=e.unit,h=e.angle;if(!s||!s.length||!a)return[];if($e(d)||af.isSsr)return zie(s,typeof d=="number"&&$e(d)?d:0);var g=[],j=u==="top"||u==="bottom"?"width":"height",w=m&&j==="width"?Hu(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(S,A){var _=jt(f)?f(S.value,A):S.value;return j==="width"?Uie(Hu(_,{fontSize:t,letterSpacing:r}),w,h):Hu(_,{fontSize:t,letterSpacing:r})[j]},v=s.length>=2?ka(s[1].coordinate-s[0].coordinate):1,N=Bie(i,v,j);return d==="equidistantPreserveStart"?qie(v,N,b,s,l):(d==="preserveStart"||d==="preserveStartEnd"?g=Kie(v,N,b,s,l,d==="preserveStartEnd"):g=Gie(v,N,b,s,l),g.filter(function(C){return C.isShow}))}var Yie=["viewBox"],Xie=["viewBox"],Qie=["ticks"];function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ol.apply(this,arguments)}function MI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(r),!0).forEach(function(a){lS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jj(e,t){if(e==null)return{};var r=Zie(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Zie(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Jie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $I(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,BL(a.key),a)}}function eoe(e,t,r){return t&&$I(e.prototype,t),r&&$I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function toe(e,t,r){return t=ep(t),roe(e,UL()?Reflect.construct(t,r||[],ep(e).constructor):t.apply(e,r))}function roe(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return noe(e)}function noe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UL=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(e)}function aoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x1(e,t)}function x1(e,t){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},x1(e,t)}function lS(e,t,r){return t=BL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BL(e){var t=soe(e,"string");return fc(t)=="symbol"?t:t+""}function soe(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(fc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ic=(function(e){function t(r){var a;return Jie(this,t),a=toe(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return aoe(t,e),eoe(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,l=jj(a,Yie),u=this.props,d=u.viewBox,f=jj(u,Xie);return!Bl(i,d)||!Bl(l,f)||!Bl(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,l=s.y,u=s.width,d=s.height,f=s.orientation,m=s.tickSize,h=s.mirror,g=s.tickMargin,j,w,b,v,N,C,S=h?-1:1,A=a.tickSize||m,_=$e(a.tickCoord)?a.tickCoord:a.coordinate;switch(f){case"top":j=w=a.coordinate,v=l+ +!h*d,b=v-S*A,C=b-S*g,N=_;break;case"left":b=v=a.coordinate,w=i+ +!h*u,j=w-S*A,N=j-S*g,C=_;break;case"right":b=v=a.coordinate,w=i+ +h*u,j=w+S*A,N=j+S*g,C=_;break;default:j=w=a.coordinate,v=l+ +h*d,b=v+S*A,C=b+S*g,N=_;break}return{line:{x1:j,y1:b,x2:w,y2:v},tick:{x:N,y:C}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.orientation,f=a.mirror,m=a.axisLine,h=Sr(Sr(Sr({},Pt(this.props,!1)),Pt(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!f||d==="bottom"&&f);h=Sr(Sr({},h),{},{x1:s,y1:i+g*u,x2:s+l,y2:i+g*u})}else{var j=+(d==="left"&&!f||d==="right"&&f);h=Sr(Sr({},h),{},{x1:s+j*l,y1:i,x2:s+j*l,y2:i+u})}return Q.createElement("line",Ol({},h,{className:Ct("recharts-cartesian-axis-line",va(m,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var l=this,u=this.props,d=u.tickLine,f=u.stroke,m=u.tick,h=u.tickFormatter,g=u.unit,j=oS(Sr(Sr({},this.props),{},{ticks:a}),s,i),w=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),v=Pt(this.props,!1),N=Pt(m,!1),C=Sr(Sr({},v),{},{fill:"none"},Pt(d,!1)),S=j.map(function(A,_){var T=l.getTickLineCoord(A),R=T.line,D=T.tick,k=Sr(Sr(Sr(Sr({textAnchor:w,verticalAnchor:b},v),{},{stroke:"none",fill:f},N),D),{},{index:_,payload:A,visibleTicksCount:j.length,tickFormatter:h});return Q.createElement($r,Ol({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},dm(l.props,A,_)),d&&Q.createElement("line",Ol({},C,R,{className:Ct("recharts-cartesian-axis-tick-line",va(d,"className"))})),m&&t.renderTickItem(m,k,"".concat(jt(h)?h(A.value,_):A.value).concat(g||"")))});return Q.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,l=s.width,u=s.height,d=s.ticksGenerator,f=s.className,m=s.hide;if(m)return null;var h=this.props,g=h.ticks,j=jj(h,Qie),w=g;return jt(d)&&(w=g&&g.length>0?d(this.props):d(j)),l<=0||u<=0||!w||!w.length?null:Q.createElement($r,{className:Ct("recharts-cartesian-axis",f),ref:function(v){a.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),sn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var l,u=Ct(s.className,"recharts-cartesian-axis-tick-value");return Q.isValidElement(a)?l=Q.cloneElement(a,Sr(Sr({},s),{},{className:u})):jt(a)?l=a(Sr(Sr({},s),{},{className:u})):l=Q.createElement(wm,Ol({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})(x.Component);lS(Ic,"displayName","CartesianAxis");lS(Ic,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ioe=["x1","y1","x2","y2","key"],ooe=["offset"];function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(a){loe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function loe(e,t,r){return t=coe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function coe(e){var t=uoe(e,"string");return Lo(t)=="symbol"?t:t+""}function uoe(e,t){if(Lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Lo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},No.apply(this,arguments)}function FI(e,t){if(e==null)return{};var r=doe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function doe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var foe=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,l=t.width,u=t.height,d=t.ry;return Q.createElement("rect",{x:s,y:i,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function zL(e,t){var r;if(Q.isValidElement(e))r=Q.cloneElement(e,t);else if(jt(e))r=e(t);else{var a=t.x1,s=t.y1,i=t.x2,l=t.y2,u=t.key,d=FI(t,ioe),f=Pt(d,!1);f.offset;var m=FI(f,ooe);r=Q.createElement("line",No({},m,{x1:a,y1:s,x2:i,y2:l,fill:"none",key:u}))}return r}function hoe(e){var t=e.x,r=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=on(on({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return zL(s,f)});return Q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function moe(e){var t=e.y,r=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=on(on({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return zL(s,f)});return Q.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function poe(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,i=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var m=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,j){return g-j});s!==m[0]&&m.unshift(0);var h=m.map(function(g,j){var w=!m[j+1],b=w?s+l-g:m[j+1]-g;if(b<=0)return null;var v=j%t.length;return Q.createElement("rect",{key:"react-".concat(j),y:g,x:a,height:b,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function goe(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!a||!a.length)return null;var m=f.map(function(g){return Math.round(g+i-i)}).sort(function(g,j){return g-j});i!==m[0]&&m.unshift(0);var h=m.map(function(g,j){var w=!m[j+1],b=w?i+u-g:m[j+1]-g;if(b<=0)return null;var v=j%a.length;return Q.createElement("rect",{key:"react-".concat(j),x:g,y:l,width:b,height:d,stroke:"none",fill:a[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var voe=function(t,r){var a=t.xAxis,s=t.width,i=t.height,l=t.offset;return tL(oS(on(on(on({},Ic.defaultProps),a),{},{ticks:Is(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.left,l.left+l.width,r)},xoe=function(t,r){var a=t.yAxis,s=t.width,i=t.height,l=t.offset;return tL(oS(on(on(on({},Ic.defaultProps),a),{},{ticks:Is(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.top,l.top+l.height,r)},Cl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function qL(e){var t,r,a,s,i,l,u=aS(),d=sS(),f=sie(),m=on(on({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Cl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Cl.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:Cl.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Cl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Cl.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Cl.verticalFill,x:$e(e.x)?e.x:f.left,y:$e(e.y)?e.y:f.top,width:$e(e.width)?e.width:f.width,height:$e(e.height)?e.height:f.height}),h=m.x,g=m.y,j=m.width,w=m.height,b=m.syncWithTicks,v=m.horizontalValues,N=m.verticalValues,C=rie(),S=nie();if(!$e(j)||j<=0||!$e(w)||w<=0||!$e(h)||h!==+h||!$e(g)||g!==+g)return null;var A=m.verticalCoordinatesGenerator||voe,_=m.horizontalCoordinatesGenerator||xoe,T=m.horizontalPoints,R=m.verticalPoints;if((!T||!T.length)&&jt(_)){var D=v&&v.length,k=_({yAxis:S?on(on({},S),{},{ticks:D?v:S.ticks}):void 0,width:u,height:d,offset:f},D?!0:b);Ds(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Lo(k),"]")),Array.isArray(k)&&(T=k)}if((!R||!R.length)&&jt(A)){var B=N&&N.length,z=A({xAxis:C?on(on({},C),{},{ticks:B?N:C.ticks}):void 0,width:u,height:d,offset:f},B?!0:b);Ds(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Lo(z),"]")),Array.isArray(z)&&(R=z)}return Q.createElement("g",{className:"recharts-cartesian-grid"},Q.createElement(foe,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),Q.createElement(hoe,No({},m,{offset:f,horizontalPoints:T,xAxis:C,yAxis:S})),Q.createElement(moe,No({},m,{offset:f,verticalPoints:R,xAxis:C,yAxis:S})),Q.createElement(poe,No({},m,{horizontalPoints:T})),Q.createElement(goe,No({},m,{verticalPoints:R})))}qL.displayName="CartesianGrid";function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function yoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function boe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,HL(a.key),a)}}function joe(e,t,r){return t&&boe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function woe(e,t,r){return t=tp(t),Noe(e,WL()?Reflect.construct(t,r||[],tp(e).constructor):t.apply(e,r))}function Noe(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Soe(e)}function Soe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WL=function(){return!!e})()}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(e)}function _oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y1(e,t)}function y1(e,t){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},y1(e,t)}function VL(e,t,r){return t=HL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HL(e){var t=Coe(e,"string");return hc(t)=="symbol"?t:t+""}function Coe(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(hc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b1.apply(this,arguments)}function Eoe(e){var t=e.xAxisId,r=aS(),a=sS(),s=RL(t);return s==null?null:x.createElement(Ic,b1({},s,{className:Ct("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return Is(l,!0)}}))}var dg=(function(e){function t(){return yoe(this,t),woe(this,t,arguments)}return _oe(t,e),joe(t,[{key:"render",value:function(){return x.createElement(Eoe,this.props)}}])})(x.Component);VL(dg,"displayName","XAxis");VL(dg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function Toe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aoe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,YL(a.key),a)}}function Poe(e,t,r){return t&&Aoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Roe(e,t,r){return t=rp(t),koe(e,GL()?Reflect.construct(t,r||[],rp(e).constructor):t.apply(e,r))}function koe(e,t){if(t&&(mc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ioe(e)}function Ioe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GL=function(){return!!e})()}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rp(e)}function Ooe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j1(e,t)}function j1(e,t){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},j1(e,t)}function KL(e,t,r){return t=YL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YL(e){var t=Doe(e,"string");return mc(t)=="symbol"?t:t+""}function Doe(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(mc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},w1.apply(this,arguments)}var Moe=function(t){var r=t.yAxisId,a=aS(),s=sS(),i=kL(r);return i==null?null:x.createElement(Ic,w1({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(u){return Is(u,!0)}}))},fg=(function(e){function t(){return Toe(this,t),Roe(this,t,arguments)}return Ooe(t,e),Poe(t,[{key:"render",value:function(){return x.createElement(Moe,this.props)}}])})(x.Component);KL(fg,"displayName","YAxis");KL(fg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UI(e){return Uoe(e)||Foe(e)||Loe(e)||$oe()}function $oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Loe(e,t){if(e){if(typeof e=="string")return N1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(e,t)}}function Foe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uoe(e){if(Array.isArray(e))return N1(e)}function N1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var S1=function(t,r,a,s,i){var l=Oa(t,ig),u=Oa(t,lg),d=[].concat(UI(l),UI(u)),f=Oa(t,ug),m="".concat(s,"Id"),h=s[0],g=r;if(d.length&&(g=d.reduce(function(b,v){if(v.props[m]===a&&ss(v.props,"extendDomain")&&$e(v.props[h])){var N=v.props[h];return[Math.min(b[0],N),Math.max(b[1],N)]}return b},g)),f.length){var j="".concat(h,"1"),w="".concat(h,"2");g=f.reduce(function(b,v){if(v.props[m]===a&&ss(v.props,"extendDomain")&&$e(v.props[j])&&$e(v.props[w])){var N=v.props[j],C=v.props[w];return[Math.min(b[0],N,C),Math.max(b[1],N,C)]}return b},g)}return i&&i.length&&(g=i.reduce(function(b,v){return $e(v)?[Math.min(b[0],v),Math.max(b[1],v)]:b},g)),g},wj={exports:{}},BI;function Boe(){return BI||(BI=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function i(d,f,m,h,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var j=new s(m,h||d,g),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],j]:d._events[w].push(j):(d._events[w]=j,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new a:delete d._events[f]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,h;if(this._eventsCount===0)return f;for(h in m=this._events)t.call(m,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=r?r+f:f,h=this._events[m];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,j=h.length,w=new Array(j);g<j;g++)w[g]=h[g].fn;return w},u.prototype.listenerCount=function(f){var m=r?r+f:f,h=this._events[m];return h?h.fn?1:h.length:0},u.prototype.emit=function(f,m,h,g,j,w){var b=r?r+f:f;if(!this._events[b])return!1;var v=this._events[b],N=arguments.length,C,S;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),N){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,m),!0;case 3:return v.fn.call(v.context,m,h),!0;case 4:return v.fn.call(v.context,m,h,g),!0;case 5:return v.fn.call(v.context,m,h,g,j),!0;case 6:return v.fn.call(v.context,m,h,g,j,w),!0}for(S=1,C=new Array(N-1);S<N;S++)C[S-1]=arguments[S];v.fn.apply(v.context,C)}else{var A=v.length,_;for(S=0;S<A;S++)switch(v[S].once&&this.removeListener(f,v[S].fn,void 0,!0),N){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,m);break;case 3:v[S].fn.call(v[S].context,m,h);break;case 4:v[S].fn.call(v[S].context,m,h,g);break;default:if(!C)for(_=1,C=new Array(N-1);_<N;_++)C[_-1]=arguments[_];v[S].fn.apply(v[S].context,C)}}return!0},u.prototype.on=function(f,m,h){return i(this,f,m,h,!1)},u.prototype.once=function(f,m,h){return i(this,f,m,h,!0)},u.prototype.removeListener=function(f,m,h,g){var j=r?r+f:f;if(!this._events[j])return this;if(!m)return l(this,j),this;var w=this._events[j];if(w.fn)w.fn===m&&(!g||w.once)&&(!h||w.context===h)&&l(this,j);else{for(var b=0,v=[],N=w.length;b<N;b++)(w[b].fn!==m||g&&!w[b].once||h&&w[b].context!==h)&&v.push(w[b]);v.length?this._events[j]=v.length===1?v[0]:v:l(this,j)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&l(this,m)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(wj)),wj.exports}var zoe=Boe();const qoe=qt(zoe);var Nj=new qoe,Sj="recharts.syncMouseEvents";function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function Woe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Voe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XL(a.key),a)}}function Hoe(e,t,r){return t&&Voe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _j(e,t,r){return t=XL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=Goe(e,"string");return Bd(t)=="symbol"?t:t+""}function Goe(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Bd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Koe=(function(){function e(){Woe(this,e),_j(this,"activeIndex",0),_j(this,"coordinateList",[]),_j(this,"layout","horizontal")}return Hoe(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,i=s===void 0?null:s,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,m=r.offset,h=m===void 0?null:m,g=r.mouseHandlerCallback,j=g===void 0?null:g;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=j??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,u=s.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+d+f,g=l+this.offset.top+u/2+m;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])})();function Yoe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e?.[0],s=e?.[1];if(a&&s&&$e(a)&&$e(s))return!0}return!1}function Xoe(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function QL(e){var t=e.cx,r=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,l=Yr(t,r,a,s),u=Yr(t,r,a,i);return{points:[l,u],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function Qoe(e,t,r){var a,s,i,l;if(e==="horizontal")a=t.x,i=a,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,m=t.outerRadius,h=t.angle,g=Yr(u,d,f,h),j=Yr(u,d,m,h);a=g.x,s=g.y,i=j.x,l=j.y}else return QL(t);return[{x:a,y:s},{x:i,y:l}]}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function zI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(r),!0).forEach(function(a){Zoe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zoe(e,t,r){return t=Joe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Joe(e){var t=ele(e,"string");return zd(t)=="symbol"?t:t+""}function ele(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(zd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tle(e){var t,r,a=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,m=e.tooltipAxisBandSize,h=e.layout,g=e.chartName,j=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!j||!i||!l||g!=="ScatterChart"&&s!=="axis")return null;var w,b=yk;if(g==="ScatterChart")w=l,b=fae;else if(g==="BarChart")w=Xoe(h,l,d,m),b=eS;else if(h==="radial"){var v=QL(l),N=v.cx,C=v.cy,S=v.radius,A=v.startAngle,_=v.endAngle;w={cx:N,cy:C,startAngle:A,endAngle:_,innerRadius:S,outerRadius:S},b=iL}else w={points:Qoe(h,l,d)},b=yk;var T=Wh(Wh(Wh(Wh({stroke:"#ccc",pointerEvents:"none"},d),w),Pt(j,!1)),{},{payload:u,payloadIndex:f,className:Ct("recharts-tooltip-cursor",j.className)});return x.isValidElement(j)?x.cloneElement(j,T):x.createElement(b,T)}var rle=["item"],nle=["children","className","width","height","style","compact","title","desc"];function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dl.apply(this,arguments)}function qI(e,t){return ile(e)||sle(e,t)||JL(e,t)||ale()}function ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function ile(e){if(Array.isArray(e))return e}function WI(e,t){if(e==null)return{};var r=ole(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ole(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function lle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cle(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,e3(a.key),a)}}function ule(e,t,r){return t&&cle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dle(e,t,r){return t=np(t),fle(e,ZL()?Reflect.construct(t,r||[],np(e).constructor):t.apply(e,r))}function fle(e,t){if(t&&(pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hle(e)}function hle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!e})()}function np(e){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},np(e)}function mle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_1(e,t)}function _1(e,t){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_1(e,t)}function gc(e){return vle(e)||gle(e)||JL(e)||ple()}function ple(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JL(e,t){if(e){if(typeof e=="string")return C1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(e,t)}}function gle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vle(e){if(Array.isArray(e))return C1(e)}function C1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(a){dt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dt(e,t,r){return t=e3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e3(e){var t=xle(e,"string");return pc(t)=="symbol"?t:t+""}function xle(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(pc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yle={xAxis:["bottom","top"],yAxis:["left","right"]},ble={width:"100%",height:"100%"},t3={x:0,y:0};function Vh(e){return e}var jle=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},wle=function(t,r,a,s){var i=r.find(function(m){return m&&m.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,u=s.radius;return Ne(Ne(Ne({},s),Yr(s.cx,s.cy,u,l)),{},{angle:l,radius:u})}var d=i.coordinate,f=s.angle;return Ne(Ne(Ne({},s),Yr(s.cx,s.cy,d,f)),{},{angle:f,radius:d})}return t3},hg=function(t,r){var a=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,l=(a??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(gc(u),gc(f)):u},[]);return l.length>0?l:t&&t.length&&$e(s)&&$e(i)?t.slice(s,i+1):[]};function r3(e){return e==="number"?[0,"auto"]:void 0}var E1=function(t,r,a,s){var i=t.graphicalItems,l=t.tooltipAxis,u=hg(r,t);return a<0||!i||!i.length||a>=u.length?null:i.reduce(function(d,f){var m,h=(m=f.props.data)!==null&&m!==void 0?m:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var j=h===void 0?u:h;g=hw(j,l.dataKey,s)}else g=h&&h[a]||u[a];return g?[].concat(gc(d),[nL(f,g)]):d},[])},HI=function(t,r,a,s){var i=s||{x:t.chartX,y:t.chartY},l=jle(i,a),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,m=Yee(l,u,f,d);if(m>=0&&f){var h=f[m]&&f[m].value,g=E1(t,r,m,h),j=wle(a,u,m,i);return{activeTooltipIndex:m,activeLabel:h,activePayload:g,activeCoordinate:j}}return null},Nle=function(t,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=t.layout,h=t.children,g=t.stackOffset,j=eL(m,i);return a.reduce(function(w,b){var v,N=b.type.defaultProps!==void 0?Ne(Ne({},b.type.defaultProps),b.props):b.props,C=N.type,S=N.dataKey,A=N.allowDataOverflow,_=N.allowDuplicatedCategory,T=N.scale,R=N.ticks,D=N.includeHidden,k=N[l];if(w[k])return w;var B=hg(t.data,{graphicalItems:s.filter(function(F){var L,Y=l in F.props?F.props[l]:(L=F.type.defaultProps)===null||L===void 0?void 0:L[l];return Y===k}),dataStartIndex:d,dataEndIndex:f}),z=B.length,G,W,Z;Yoe(N.domain,A,C)&&(G=Gw(N.domain,null,A),j&&(C==="number"||T!=="auto")&&(Z=Ku(B,S,"category")));var $=r3(C);if(!G||G.length===0){var M,I=(M=N.domain)!==null&&M!==void 0?M:$;if(S){if(G=Ku(B,S,C),C==="category"&&j){var O=UH(G);_&&O?(W=G,G=Vm(0,z)):_||(G=sk(I,G,b).reduce(function(F,L){return F.indexOf(L)>=0?F:[].concat(gc(F),[L])},[]))}else if(C==="category")_?G=G.filter(function(F){return F!==""&&!Rt(F)}):G=sk(I,G,b).reduce(function(F,L){return F.indexOf(L)>=0||L===""||Rt(L)?F:[].concat(gc(F),[L])},[]);else if(C==="number"){var H=ete(B,s.filter(function(F){var L,Y,ee=l in F.props?F.props[l]:(L=F.type.defaultProps)===null||L===void 0?void 0:L[l],ce="hide"in F.props?F.props.hide:(Y=F.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return ee===k&&(D||!ce)}),S,i,m);H&&(G=H)}j&&(C==="number"||T!=="auto")&&(Z=Ku(B,S,"category"))}else j?G=Vm(0,z):u&&u[k]&&u[k].hasStack&&C==="number"?G=g==="expand"?[0,1]:rL(u[k].stackGroups,d,f):G=J$(B,s.filter(function(F){var L=l in F.props?F.props[l]:F.type.defaultProps[l],Y="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return L===k&&(D||!Y)}),C,m,!0);if(C==="number")G=S1(h,G,k,i,R),I&&(G=Gw(I,G,A));else if(C==="category"&&I){var V=I,q=G.every(function(F){return V.indexOf(F)>=0});q&&(G=V)}}return Ne(Ne({},w),{},dt({},k,Ne(Ne({},N),{},{axisType:i,domain:G,categoricalDomain:Z,duplicateDomain:W,originalDomain:(v=N.domain)!==null&&v!==void 0?v:$,isCategorical:j,layout:m})))},{})},Sle=function(t,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=t.layout,h=t.children,g=hg(t.data,{graphicalItems:a,dataStartIndex:d,dataEndIndex:f}),j=g.length,w=eL(m,i),b=-1;return a.reduce(function(v,N){var C=N.type.defaultProps!==void 0?Ne(Ne({},N.type.defaultProps),N.props):N.props,S=C[l],A=r3("number");if(!v[S]){b++;var _;return w?_=Vm(0,j):u&&u[S]&&u[S].hasStack?(_=rL(u[S].stackGroups,d,f),_=S1(h,_,S,i)):(_=Gw(A,J$(g,a.filter(function(T){var R,D,k=l in T.props?T.props[l]:(R=T.type.defaultProps)===null||R===void 0?void 0:R[l],B="hide"in T.props?T.props.hide:(D=T.type.defaultProps)===null||D===void 0?void 0:D.hide;return k===S&&!B}),"number",m),s.defaultProps.allowDataOverflow),_=S1(h,_,S,i)),Ne(Ne({},v),{},dt({},S,Ne(Ne({axisType:i},s.defaultProps),{},{hide:!0,orientation:va(yle,"".concat(i,".").concat(b%2),null),domain:_,originalDomain:A,isCategorical:w,layout:m})))}return v},{})},_le=function(t,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=t.children,h="".concat(s,"Id"),g=Oa(m,i),j={};return g&&g.length?j=Nle(t,{axes:g,graphicalItems:l,axisType:s,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(j=Sle(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),j},Cle=function(t){var r=Ci(t),a=Is(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:CN(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Mm(r,a)}},GI=function(t){var r=t.children,a=t.defaultShowTooltip,s=Hn(r,oc),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},Ele=function(t){return!t||!t.length?!1:t.some(function(r){var a=Os(r&&r.type);return a&&a.indexOf("Bar")>=0})},KI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Tle=function(t,r){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,u=t.yAxisMap,d=u===void 0?{}:u,f=a.width,m=a.height,h=a.children,g=a.margin||{},j=Hn(h,oc),w=Hn(h,zl),b=Object.keys(d).reduce(function(_,T){var R=d[T],D=R.orientation;return!R.mirror&&!R.hide?Ne(Ne({},_),{},dt({},D,_[D]+R.width)):_},{left:g.left||0,right:g.right||0}),v=Object.keys(l).reduce(function(_,T){var R=l[T],D=R.orientation;return!R.mirror&&!R.hide?Ne(Ne({},_),{},dt({},D,va(_,"".concat(D))+R.height)):_},{top:g.top||0,bottom:g.bottom||0}),N=Ne(Ne({},v),b),C=N.bottom;j&&(N.bottom+=j.props.height||oc.defaultProps.height),w&&r&&(N=Zee(N,s,a,r));var S=f-N.left-N.right,A=m-N.top-N.bottom;return Ne(Ne({brushBottom:C},N),{},{width:Math.max(S,0),height:Math.max(A,0)})},Ale=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Ple=function(t){var r=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,m=t.formatAxisMap,h=t.defaultProps,g=function(N,C){var S=C.graphicalItems,A=C.stackGroups,_=C.offset,T=C.updateId,R=C.dataStartIndex,D=C.dataEndIndex,k=N.barSize,B=N.layout,z=N.barGap,G=N.barCategoryGap,W=N.maxBarSize,Z=KI(B),$=Z.numericAxisName,M=Z.cateAxisName,I=Ele(S),O=[];return S.forEach(function(H,V){var q=hg(N.data,{graphicalItems:[H],dataStartIndex:R,dataEndIndex:D}),F=H.type.defaultProps!==void 0?Ne(Ne({},H.type.defaultProps),H.props):H.props,L=F.dataKey,Y=F.maxBarSize,ee=F["".concat($,"Id")],ce=F["".concat(M,"Id")],K={},fe=d.reduce(function(Le,st){var Lt=C["".concat(st.axisType,"Map")],Zr=F["".concat(st.axisType,"Id")];Lt&&Lt[Zr]||st.axisType==="zAxis"||$o();var ve=Lt[Zr];return Ne(Ne({},Le),{},dt(dt({},st.axisType,ve),"".concat(st.axisType,"Ticks"),Is(ve)))},K),oe=fe[M],Ee=fe["".concat(M,"Ticks")],De=A&&A[ee]&&A[ee].hasStack&&fte(H,A[ee].stackGroups),re=Os(H.type).indexOf("Bar")>=0,le=Mm(oe,Ee),ge=[],Fe=I&&Xee({barSize:k,stackGroups:A,totalSize:Ale(fe,M)});if(re){var Xe,lt,wt=Rt(Y)?W:Y,te=(Xe=(lt=Mm(oe,Ee,!0))!==null&&lt!==void 0?lt:wt)!==null&&Xe!==void 0?Xe:0;ge=Qee({barGap:z,barCategoryGap:G,bandSize:te!==le?te:le,sizeList:Fe[ce],maxBarSize:wt}),te!==le&&(ge=ge.map(function(Le){return Ne(Ne({},Le),{},{position:Ne(Ne({},Le.position),{},{offset:Le.position.offset-te/2})})}))}var se=H&&H.type&&H.type.getComposedData;se&&O.push({props:Ne(Ne({},se(Ne(Ne({},fe),{},{displayedData:q,props:N,dataKey:L,item:H,bandSize:le,barPosition:ge,offset:_,stackedData:De,layout:B,dataStartIndex:R,dataEndIndex:D}))),{},dt(dt(dt({key:H.key||"item-".concat(V)},$,fe[$]),M,fe[M]),"animationId",T)),childIndex:ZH(H,N.children),item:H})}),O},j=function(N,C){var S=N.props,A=N.dataStartIndex,_=N.dataEndIndex,T=N.updateId;if(!bT({props:S}))return null;var R=S.children,D=S.layout,k=S.stackOffset,B=S.data,z=S.reverseStackOrder,G=KI(D),W=G.numericAxisName,Z=G.cateAxisName,$=Oa(R,a),M=cte(B,$,"".concat(W,"Id"),"".concat(Z,"Id"),k,z),I=d.reduce(function(F,L){var Y="".concat(L.axisType,"Map");return Ne(Ne({},F),{},dt({},Y,_le(S,Ne(Ne({},L),{},{graphicalItems:$,stackGroups:L.axisType===W&&M,dataStartIndex:A,dataEndIndex:_}))))},{}),O=Tle(Ne(Ne({},I),{},{props:S,graphicalItems:$}),C?.legendBBox);Object.keys(I).forEach(function(F){I[F]=m(S,I[F],O,F.replace("Map",""),r)});var H=I["".concat(Z,"Map")],V=Cle(H),q=g(S,Ne(Ne({},I),{},{dataStartIndex:A,dataEndIndex:_,updateId:T,graphicalItems:$,stackGroups:M,offset:O}));return Ne(Ne({formattedGraphicalItems:q,graphicalItems:$,offset:O,stackGroups:M},V),I)},w=(function(v){function N(C){var S,A,_;return lle(this,N),_=dle(this,N,[C]),dt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),dt(_,"accessibilityManager",new Koe),dt(_,"handleLegendBBoxUpdate",function(T){if(T){var R=_.state,D=R.dataStartIndex,k=R.dataEndIndex,B=R.updateId;_.setState(Ne({legendBBox:T},j({props:_.props,dataStartIndex:D,dataEndIndex:k,updateId:B},Ne(Ne({},_.state),{},{legendBBox:T}))))}}),dt(_,"handleReceiveSyncEvent",function(T,R,D){if(_.props.syncId===T){if(D===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(R)}}),dt(_,"handleBrushChange",function(T){var R=T.startIndex,D=T.endIndex;if(R!==_.state.dataStartIndex||D!==_.state.dataEndIndex){var k=_.state.updateId;_.setState(function(){return Ne({dataStartIndex:R,dataEndIndex:D},j({props:_.props,dataStartIndex:R,dataEndIndex:D,updateId:k},_.state))}),_.triggerSyncEvent({dataStartIndex:R,dataEndIndex:D})}}),dt(_,"handleMouseEnter",function(T){var R=_.getMouseInfo(T);if(R){var D=Ne(Ne({},R),{},{isTooltipActive:!0});_.setState(D),_.triggerSyncEvent(D);var k=_.props.onMouseEnter;jt(k)&&k(D,T)}}),dt(_,"triggeredAfterMouseMove",function(T){var R=_.getMouseInfo(T),D=R?Ne(Ne({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(D),_.triggerSyncEvent(D);var k=_.props.onMouseMove;jt(k)&&k(D,T)}),dt(_,"handleItemMouseEnter",function(T){_.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),dt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),dt(_,"handleMouseMove",function(T){T.persist(),_.throttleTriggeredAfterMouseMove(T)}),dt(_,"handleMouseLeave",function(T){_.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};_.setState(R),_.triggerSyncEvent(R);var D=_.props.onMouseLeave;jt(D)&&D(R,T)}),dt(_,"handleOuterEvent",function(T){var R=QH(T),D=va(_.props,"".concat(R));if(R&&jt(D)){var k,B;/.*touch.*/i.test(R)?B=_.getMouseInfo(T.changedTouches[0]):B=_.getMouseInfo(T),D((k=B)!==null&&k!==void 0?k:{},T)}}),dt(_,"handleClick",function(T){var R=_.getMouseInfo(T);if(R){var D=Ne(Ne({},R),{},{isTooltipActive:!0});_.setState(D),_.triggerSyncEvent(D);var k=_.props.onClick;jt(k)&&k(D,T)}}),dt(_,"handleMouseDown",function(T){var R=_.props.onMouseDown;if(jt(R)){var D=_.getMouseInfo(T);R(D,T)}}),dt(_,"handleMouseUp",function(T){var R=_.props.onMouseUp;if(jt(R)){var D=_.getMouseInfo(T);R(D,T)}}),dt(_,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),dt(_,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&_.handleMouseDown(T.changedTouches[0])}),dt(_,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&_.handleMouseUp(T.changedTouches[0])}),dt(_,"handleDoubleClick",function(T){var R=_.props.onDoubleClick;if(jt(R)){var D=_.getMouseInfo(T);R(D,T)}}),dt(_,"handleContextMenu",function(T){var R=_.props.onContextMenu;if(jt(R)){var D=_.getMouseInfo(T);R(D,T)}}),dt(_,"triggerSyncEvent",function(T){_.props.syncId!==void 0&&Nj.emit(Sj,_.props.syncId,T,_.eventEmitterSymbol)}),dt(_,"applySyncEvent",function(T){var R=_.props,D=R.layout,k=R.syncMethod,B=_.state.updateId,z=T.dataStartIndex,G=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)_.setState(Ne({dataStartIndex:z,dataEndIndex:G},j({props:_.props,dataStartIndex:z,dataEndIndex:G,updateId:B},_.state)));else if(T.activeTooltipIndex!==void 0){var W=T.chartX,Z=T.chartY,$=T.activeTooltipIndex,M=_.state,I=M.offset,O=M.tooltipTicks;if(!I)return;if(typeof k=="function")$=k(O,T);else if(k==="value"){$=-1;for(var H=0;H<O.length;H++)if(O[H].value===T.activeLabel){$=H;break}}var V=Ne(Ne({},I),{},{x:I.left,y:I.top}),q=Math.min(W,V.x+V.width),F=Math.min(Z,V.y+V.height),L=O[$]&&O[$].value,Y=E1(_.state,_.props.data,$),ee=O[$]?{x:D==="horizontal"?O[$].coordinate:q,y:D==="horizontal"?F:O[$].coordinate}:t3;_.setState(Ne(Ne({},T),{},{activeLabel:L,activeCoordinate:ee,activePayload:Y,activeTooltipIndex:$}))}else _.setState(T)}),dt(_,"renderCursor",function(T){var R,D=_.state,k=D.isTooltipActive,B=D.activeCoordinate,z=D.activePayload,G=D.offset,W=D.activeTooltipIndex,Z=D.tooltipAxisBandSize,$=_.getTooltipEventType(),M=(R=T.props.active)!==null&&R!==void 0?R:k,I=_.props.layout,O=T.key||"_recharts-cursor";return Q.createElement(tle,{key:O,activeCoordinate:B,activePayload:z,activeTooltipIndex:W,chartName:r,element:T,isActive:M,layout:I,offset:G,tooltipAxisBandSize:Z,tooltipEventType:$})}),dt(_,"renderPolarAxis",function(T,R,D){var k=va(T,"type.axisType"),B=va(_.state,"".concat(k,"Map")),z=T.type.defaultProps,G=z!==void 0?Ne(Ne({},z),T.props):T.props,W=B&&B[G["".concat(k,"Id")]];return x.cloneElement(T,Ne(Ne({},W),{},{className:Ct(k,W.className),key:T.key||"".concat(R,"-").concat(D),ticks:Is(W,!0)}))}),dt(_,"renderPolarGrid",function(T){var R=T.props,D=R.radialLines,k=R.polarAngles,B=R.polarRadius,z=_.state,G=z.radiusAxisMap,W=z.angleAxisMap,Z=Ci(G),$=Ci(W),M=$.cx,I=$.cy,O=$.innerRadius,H=$.outerRadius;return x.cloneElement(T,{polarAngles:Array.isArray(k)?k:Is($,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(B)?B:Is(Z,!0).map(function(V){return V.coordinate}),cx:M,cy:I,innerRadius:O,outerRadius:H,key:T.key||"polar-grid",radialLines:D})}),dt(_,"renderLegend",function(){var T=_.state.formattedGraphicalItems,R=_.props,D=R.children,k=R.width,B=R.height,z=_.props.margin||{},G=k-(z.left||0)-(z.right||0),W=Q$({children:D,formattedGraphicalItems:T,legendWidth:G,legendContent:f});if(!W)return null;var Z=W.item,$=WI(W,rle);return x.cloneElement(Z,Ne(Ne({},$),{},{chartWidth:k,chartHeight:B,margin:z,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),dt(_,"renderTooltip",function(){var T,R=_.props,D=R.children,k=R.accessibilityLayer,B=Hn(D,Ya);if(!B)return null;var z=_.state,G=z.isTooltipActive,W=z.activeCoordinate,Z=z.activePayload,$=z.activeLabel,M=z.offset,I=(T=B.props.active)!==null&&T!==void 0?T:G;return x.cloneElement(B,{viewBox:Ne(Ne({},M),{},{x:M.left,y:M.top}),active:I,label:$,payload:I?Z:[],coordinate:W,accessibilityLayer:k})}),dt(_,"renderBrush",function(T){var R=_.props,D=R.margin,k=R.data,B=_.state,z=B.offset,G=B.dataStartIndex,W=B.dataEndIndex,Z=B.updateId;return x.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Uh(_.handleBrushChange,T.props.onChange),data:k,x:$e(T.props.x)?T.props.x:z.left,y:$e(T.props.y)?T.props.y:z.top+z.height+z.brushBottom-(D.bottom||0),width:$e(T.props.width)?T.props.width:z.width,startIndex:G,endIndex:W,updateId:"brush-".concat(Z)})}),dt(_,"renderReferenceElement",function(T,R,D){if(!T)return null;var k=_,B=k.clipPathId,z=_.state,G=z.xAxisMap,W=z.yAxisMap,Z=z.offset,$=T.type.defaultProps||{},M=T.props,I=M.xAxisId,O=I===void 0?$.xAxisId:I,H=M.yAxisId,V=H===void 0?$.yAxisId:H;return x.cloneElement(T,{key:T.key||"".concat(R,"-").concat(D),xAxis:G[O],yAxis:W[V],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:B})}),dt(_,"renderActivePoints",function(T){var R=T.item,D=T.activePoint,k=T.basePoint,B=T.childIndex,z=T.isRange,G=[],W=R.props.key,Z=R.item.type.defaultProps!==void 0?Ne(Ne({},R.item.type.defaultProps),R.item.props):R.item.props,$=Z.activeDot,M=Z.dataKey,I=Ne(Ne({index:B,dataKey:M,cx:D.x,cy:D.y,r:4,fill:JN(R.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Pt($,!1)),um($));return G.push(N.renderActiveDot($,I,"".concat(W,"-activePoint-").concat(B))),k?G.push(N.renderActiveDot($,Ne(Ne({},I),{},{cx:k.x,cy:k.y}),"".concat(W,"-basePoint-").concat(B))):z&&G.push(null),G}),dt(_,"renderGraphicChild",function(T,R,D){var k=_.filterFormatItem(T,R,D);if(!k)return null;var B=_.getTooltipEventType(),z=_.state,G=z.isTooltipActive,W=z.tooltipAxis,Z=z.activeTooltipIndex,$=z.activeLabel,M=_.props.children,I=Hn(M,Ya),O=k.props,H=O.points,V=O.isRange,q=O.baseLine,F=k.item.type.defaultProps!==void 0?Ne(Ne({},k.item.type.defaultProps),k.item.props):k.item.props,L=F.activeDot,Y=F.hide,ee=F.activeBar,ce=F.activeShape,K=!!(!Y&&G&&I&&(L||ee||ce)),fe={};B!=="axis"&&I&&I.props.trigger==="click"?fe={onClick:Uh(_.handleItemMouseEnter,T.props.onClick)}:B!=="axis"&&(fe={onMouseLeave:Uh(_.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Uh(_.handleItemMouseEnter,T.props.onMouseEnter)});var oe=x.cloneElement(T,Ne(Ne({},k.props),fe));function Ee(st){return typeof W.dataKey=="function"?W.dataKey(st.payload):null}if(K)if(Z>=0){var De,re;if(W.dataKey&&!W.allowDuplicatedCategory){var le=typeof W.dataKey=="function"?Ee:"payload.".concat(W.dataKey.toString());De=hw(H,le,$),re=V&&q&&hw(q,le,$)}else De=H?.[Z],re=V&&q&&q[Z];if(ce||ee){var ge=T.props.activeIndex!==void 0?T.props.activeIndex:Z;return[x.cloneElement(T,Ne(Ne(Ne({},k.props),fe),{},{activeIndex:ge})),null,null]}if(!Rt(De))return[oe].concat(gc(_.renderActivePoints({item:k,activePoint:De,basePoint:re,childIndex:Z,isRange:V})))}else{var Fe,Xe=(Fe=_.getItemByXY(_.state.activeCoordinate))!==null&&Fe!==void 0?Fe:{graphicalItem:oe},lt=Xe.graphicalItem,wt=lt.item,te=wt===void 0?T:wt,se=lt.childIndex,Le=Ne(Ne(Ne({},k.props),fe),{},{activeIndex:se});return[x.cloneElement(te,Le),null,null]}return V?[oe,null,null]:[oe,null]}),dt(_,"renderCustomized",function(T,R,D){return x.cloneElement(T,Ne(Ne({key:"recharts-customized-".concat(D)},_.props),_.state))}),dt(_,"renderMap",{CartesianGrid:{handler:Vh,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Vh},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Vh},YAxis:{handler:Vh},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((S=C.id)!==null&&S!==void 0?S:Lp("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=X4(_.triggeredAfterMouseMove,(A=C.throttleDelay)!==null&&A!==void 0?A:1e3/60),_.state={},_}return mle(N,v),ule(N,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,_=S.data,T=S.height,R=S.layout,D=Hn(A,Ya);if(D){var k=D.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,z=E1(this.state,_,k,B),G=this.state.tooltipTicks[k].coordinate,W=(this.state.offset.top+T)/2,Z=R==="horizontal",$=Z?{x:G,y:W}:{y:G,x:W},M=this.state.formattedGraphicalItems.find(function(O){var H=O.item;return H.type.name==="Scatter"});M&&($=Ne(Ne({},$),M.props.points[k].tooltipPosition),z=M.props.points[k].tooltipPayload);var I={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:B,activePayload:z,activeCoordinate:$};this.setState(I),this.renderCursor(D),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var _,T;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(S){pw([Hn(S.children,Ya)],[Hn(this.props.children,Ya)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Hn(this.props.children,Ya);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return u.indexOf(A)>=0?A:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,_=A.getBoundingClientRect(),T=FX(_),R={chartX:Math.round(S.pageX-T.left),chartY:Math.round(S.pageY-T.top)},D=_.width/A.offsetWidth||1,k=this.inRange(R.chartX,R.chartY,D);if(!k)return null;var B=this.state,z=B.xAxisMap,G=B.yAxisMap,W=this.getTooltipEventType(),Z=HI(this.state,this.props.data,this.props.layout,k);if(W!=="axis"&&z&&G){var $=Ci(z).scale,M=Ci(G).scale,I=$&&$.invert?$.invert(R.chartX):null,O=M&&M.invert?M.invert(R.chartY):null;return Ne(Ne({},R),{},{xValue:I,yValue:O},Z)}return Z?Ne(Ne({},R),Z):null}},{key:"inRange",value:function(S,A){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,R=S/_,D=A/_;if(T==="horizontal"||T==="vertical"){var k=this.state.offset,B=R>=k.left&&R<=k.left+k.width&&D>=k.top&&D<=k.top+k.height;return B?{x:R,y:D}:null}var z=this.state,G=z.angleAxisMap,W=z.radiusAxisMap;if(G&&W){var Z=Ci(G);return lk({x:R,y:D},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),_=Hn(S,Ya),T={};_&&A==="axis"&&(_.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=um(this.props,this.handleOuterEvent);return Ne(Ne({},R),T)}},{key:"addListener",value:function(){Nj.on(Sj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Nj.removeListener(Sj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,_){for(var T=this.state.formattedGraphicalItems,R=0,D=T.length;R<D;R++){var k=T[R];if(k.item===S||k.props.key===S.key||A===Os(k.item.type)&&_===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,_=A.left,T=A.top,R=A.height,D=A.width;return Q.createElement("defs",null,Q.createElement("clipPath",{id:S},Q.createElement("rect",{x:_,y:T,height:R,width:D})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,_){var T=qI(_,2),R=T[0],D=T[1];return Ne(Ne({},A),{},dt({},R,D.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,_){var T=qI(_,2),R=T[0],D=T[1];return Ne(Ne({},A),{},dt({},R,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,_=A.formattedGraphicalItems,T=A.activeItem;if(_&&_.length)for(var R=0,D=_.length;R<D;R++){var k=_[R],B=k.props,z=k.item,G=z.type.defaultProps!==void 0?Ne(Ne({},z.type.defaultProps),z.props):z.props,W=Os(z.type);if(W==="Bar"){var Z=(B.data||[]).find(function(O){return rae(S,O)});if(Z)return{graphicalItem:k,payload:Z}}else if(W==="RadialBar"){var $=(B.data||[]).find(function(O){return lk(S,O)});if($)return{graphicalItem:k,payload:$}}else if(ng(k,T)||ag(k,T)||Md(k,T)){var M=Hae({graphicalItem:k,activeTooltipItem:T,itemData:G.data}),I=G.activeIndex===void 0?M:G.activeIndex;return{graphicalItem:Ne(Ne({},k),{},{childIndex:I}),payload:Md(k,T)?G.data[M]:k.props.data[M]}}}return null}},{key:"render",value:function(){var S=this;if(!bT(this))return null;var A=this.props,_=A.children,T=A.className,R=A.width,D=A.height,k=A.style,B=A.compact,z=A.title,G=A.desc,W=WI(A,nle),Z=Pt(W,!1);if(B)return Q.createElement(EI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement(vw,Dl({},Z,{width:R,height:D,title:z,desc:G}),this.renderClipPath(),wT(_,this.renderMap)));if(this.props.accessibilityLayer){var $,M;Z.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,Z.role=(M=this.props.role)!==null&&M!==void 0?M:"application",Z.onKeyDown=function(O){S.accessibilityManager.keyboardEvent(O)},Z.onFocus=function(){S.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return Q.createElement(EI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement("div",Dl({className:Ct("recharts-wrapper",T),style:Ne({position:"relative",cursor:"default",width:R,height:D},k)},I,{ref:function(H){S.container=H}}),Q.createElement(vw,Dl({},Z,{width:R,height:D,title:z,desc:G,style:ble}),this.renderClipPath(),wT(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(x.Component);dt(w,"displayName",r),dt(w,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),dt(w,"getDerivedStateFromProps",function(v,N){var C=v.dataKey,S=v.data,A=v.children,_=v.width,T=v.height,R=v.layout,D=v.stackOffset,k=v.margin,B=N.dataStartIndex,z=N.dataEndIndex;if(N.updateId===void 0){var G=GI(v);return Ne(Ne(Ne({},G),{},{updateId:0},j(Ne(Ne({props:v},G),{},{updateId:0}),N)),{},{prevDataKey:C,prevData:S,prevWidth:_,prevHeight:T,prevLayout:R,prevStackOffset:D,prevMargin:k,prevChildren:A})}if(C!==N.prevDataKey||S!==N.prevData||_!==N.prevWidth||T!==N.prevHeight||R!==N.prevLayout||D!==N.prevStackOffset||!Bl(k,N.prevMargin)){var W=GI(v),Z={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},$=Ne(Ne({},HI(N,S,R)),{},{updateId:N.updateId+1}),M=Ne(Ne(Ne({},W),Z),$);return Ne(Ne(Ne({},M),j(Ne({props:v},M),N)),{},{prevDataKey:C,prevData:S,prevWidth:_,prevHeight:T,prevLayout:R,prevStackOffset:D,prevMargin:k,prevChildren:A})}if(!pw(A,N.prevChildren)){var I,O,H,V,q=Hn(A,oc),F=q&&(I=(O=q.props)===null||O===void 0?void 0:O.startIndex)!==null&&I!==void 0?I:B,L=q&&(H=(V=q.props)===null||V===void 0?void 0:V.endIndex)!==null&&H!==void 0?H:z,Y=F!==B||L!==z,ee=!Rt(S),ce=ee&&!Y?N.updateId:N.updateId+1;return Ne(Ne({updateId:ce},j(Ne(Ne({props:v},N),{},{updateId:ce,dataStartIndex:F,dataEndIndex:L}),N)),{},{prevChildren:A,dataStartIndex:F,dataEndIndex:L})}return null}),dt(w,"renderActiveDot",function(v,N,C){var S;return x.isValidElement(v)?S=x.cloneElement(v,N):jt(v)?S=v(N):S=Q.createElement(mL,N),Q.createElement($r,{className:"recharts-active-dot",key:C},S)});var b=x.forwardRef(function(N,C){return Q.createElement(w,Dl({},N,{ref:C}))});return b.displayName=w.displayName,b},Rle=Ple({chartName:"BarChart",GraphicalChild:Li,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:dg},{axisType:"yAxis",AxisComp:fg}],formatAxisMap:zse});function Et(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Jn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function or(e,t){const r=Et(e);return isNaN(t)?Jn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function bn(e,t){const r=Et(e);if(isNaN(t))return Jn(e,NaN);if(!t)return r;const a=r.getDate(),s=Jn(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return a>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}const cS=6048e5,kle=864e5,n3=6e4,a3=36e5;let Ile={};function uf(){return Ile}function ea(e,t){const r=uf(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Et(e),i=s.getDay(),l=(i<a?7:0)+i-a;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Fo(e){return ea(e,{weekStartsOn:1})}function s3(e){const t=Et(e),r=t.getFullYear(),a=Jn(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Fo(a),i=Jn(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const l=Fo(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function vc(e){const t=Et(e);return t.setHours(0,0,0,0),t}function ap(e){const t=Et(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function rs(e,t){const r=vc(e),a=vc(t),s=+r-ap(r),i=+a-ap(a);return Math.round((s-i)/kle)}function Ole(e){const t=s3(e),r=Jn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Fo(r)}function T1(e,t){const r=t*7;return or(e,r)}function Dle(e,t){return bn(e,t*12)}function Mle(e){let t;return e.forEach(function(r){const a=Et(r);(t===void 0||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function $le(e){let t;return e.forEach(r=>{const a=Et(r);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}function Xr(e,t){const r=vc(e),a=vc(t);return+r==+a}function uS(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Lle(e){if(!uS(e)&&typeof e!="number")return!1;const t=Et(e);return!isNaN(Number(t))}function qd(e,t){const r=Et(e),a=Et(t),s=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return s*12+i}function Fle(e,t,r){const a=ea(e,r),s=ea(t,r),i=+a-ap(a),l=+s-ap(s);return Math.round((i-l)/cS)}function dS(e){const t=Et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Qr(e){const t=Et(e);return t.setDate(1),t.setHours(0,0,0,0),t}function i3(e){const t=Et(e),r=Jn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function fS(e,t){const r=uf(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Et(e),i=s.getDay(),l=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function o3(e){return fS(e,{weekStartsOn:1})}const Ule={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ble=(e,t,r)=>{let a;const s=Ule[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Vl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const zle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vle={date:Vl({formats:zle,defaultWidth:"full"}),time:Vl({formats:qle,defaultWidth:"full"}),dateTime:Vl({formats:Wle,defaultWidth:"full"})},Hle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gle=(e,t,r,a)=>Hle[e];function Za(e){return(t,r)=>{const a=r?.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):l;s=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;s=e.values[u]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Kle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ece=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tce={ordinalNumber:ece,era:Za({values:Kle,defaultWidth:"wide"}),quarter:Za({values:Yle,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Za({values:Xle,defaultWidth:"wide"}),day:Za({values:Qle,defaultWidth:"wide"}),dayPeriod:Za({values:Zle,defaultWidth:"wide",formattingValues:Jle,defaultFormattingWidth:"wide"})};function Ja(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const l=i[0],u=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?nce(u,h=>h.test(l)):rce(u,h=>h.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const m=t.slice(l.length);return{value:f,rest:m}}}function rce(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function nce(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function l3(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const u=t.slice(s.length);return{value:l,rest:u}}}const ace=/^(\d+)(th|st|nd|rd)?/i,sce=/\d+/i,ice={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oce={any:[/^b/i,/^(a|c)/i]},lce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cce={any:[/1/i,/2/i,/3/i,/4/i]},uce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gce={ordinalNumber:l3({matchPattern:ace,parsePattern:sce,valueCallback:e=>parseInt(e,10)}),era:Ja({matchPatterns:ice,defaultMatchWidth:"wide",parsePatterns:oce,defaultParseWidth:"any"}),quarter:Ja({matchPatterns:lce,defaultMatchWidth:"wide",parsePatterns:cce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ja({matchPatterns:uce,defaultMatchWidth:"wide",parsePatterns:dce,defaultParseWidth:"any"}),day:Ja({matchPatterns:fce,defaultMatchWidth:"wide",parsePatterns:hce,defaultParseWidth:"any"}),dayPeriod:Ja({matchPatterns:mce,defaultMatchWidth:"any",parsePatterns:pce,defaultParseWidth:"any"})},c3={code:"en-US",formatDistance:Ble,formatLong:Vle,formatRelative:Gle,localize:tce,match:gce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vce(e){const t=Et(e);return rs(t,i3(t))+1}function u3(e){const t=Et(e),r=+Fo(t)-+Ole(t);return Math.round(r/cS)+1}function d3(e,t){const r=Et(e),a=r.getFullYear(),s=uf(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=Jn(e,0);l.setFullYear(a+1,0,i),l.setHours(0,0,0,0);const u=ea(l,t),d=Jn(e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const f=ea(d,t);return r.getTime()>=u.getTime()?a+1:r.getTime()>=f.getTime()?a:a-1}function xce(e,t){const r=uf(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=d3(e,t),i=Jn(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),ea(i,t)}function f3(e,t){const r=Et(e),a=+ea(r,t)-+xce(r,t);return Math.round(a/cS)+1}function Mt(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const yi={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Mt(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mt(r+1,2)},d(e,t){return Mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mt(e.getHours()%12||12,t.length)},H(e,t){return Mt(e.getHours(),t.length)},m(e,t){return Mt(e.getMinutes(),t.length)},s(e,t){return Mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return Mt(s,t.length)}},El={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YI={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return yi.y(e,t)},Y:function(e,t,r,a){const s=d3(e,a),i=s>0?s:1-s;if(t==="YY"){const l=i%100;return Mt(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mt(i,t.length)},R:function(e,t){const r=s3(e);return Mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mt(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Mt(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Mt(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return yi.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Mt(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const s=f3(e,a);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Mt(s,t.length)},I:function(e,t,r){const a=u3(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Mt(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):yi.d(e,t)},D:function(e,t,r){const a=vce(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Mt(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Mt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Mt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),s=a===0?7:a;switch(t){case"i":return String(s);case"ii":return Mt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let s;switch(a===12?s=El.noon:a===0?s=El.midnight:s=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let s;switch(a>=17?s=El.evening:a>=12?s=El.afternoon:a>=4?s=El.morning:s=El.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return yi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):yi.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Mt(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Mt(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):yi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):yi.s(e,t)},S:function(e,t){return yi.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return QI(a);case"XXXX":case"XX":return vo(a);case"XXXXX":case"XXX":default:return vo(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return QI(a);case"xxxx":case"xx":return vo(a);case"xxxxx":case"xxx":default:return vo(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+XI(a,":");case"OOOO":default:return"GMT"+vo(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+XI(a,":");case"zzzz":default:return"GMT"+vo(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return Mt(a,t.length)},T:function(e,t,r){const a=e.getTime();return Mt(a,t.length)}};function XI(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?r+String(s):r+String(s)+t+Mt(i,2)}function QI(e,t){return e%60===0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):vo(e,t)}function vo(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Mt(Math.trunc(a/60),2),i=Mt(a%60,2);return r+s+t+i}const ZI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},h3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},yce=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return ZI(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ZI(a,t)).replace("{{time}}",h3(s,t))},bce={p:h3,P:yce},jce=/^D+$/,wce=/^Y+$/,Nce=["D","DD","YY","YYYY"];function Sce(e){return jce.test(e)}function _ce(e){return wce.test(e)}function Cce(e,t,r){const a=Ece(e,t,r);if(console.warn(a),Nce.includes(e))throw new RangeError(a)}function Ece(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Tce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ace=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pce=/^'([^]*?)'?$/,Rce=/''/g,kce=/[a-zA-Z]/;function mt(e,t,r){const a=uf(),s=r?.locale??a.locale??c3,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=Et(e);if(!Lle(u))throw new RangeError("Invalid time value");let d=t.match(Ace).map(m=>{const h=m[0];if(h==="p"||h==="P"){const g=bce[h];return g(m,s.formatLong)}return m}).join("").match(Tce).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const h=m[0];if(h==="'")return{isToken:!1,value:Ice(m)};if(YI[h])return{isToken:!0,value:m};if(h.match(kce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(d=s.localize.preprocessor(u,d));const f={firstWeekContainsDate:i,weekStartsOn:l,locale:s};return d.map(m=>{if(!m.isToken)return m.value;const h=m.value;(!r?.useAdditionalWeekYearTokens&&_ce(h)||!r?.useAdditionalDayOfYearTokens&&Sce(h))&&Cce(h,t,String(e));const g=YI[h[0]];return g(u,h,s.localize,f)}).join("")}function Ice(e){const t=e.match(Pce);return t?t[1].replace(Rce,"'"):e}function Oce(e){const t=Et(e),r=t.getFullYear(),a=t.getMonth(),s=Jn(e,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Dce(e){return Math.trunc(+Et(e)/1e3)}function Mce(e){const t=Et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function $ce(e,t){return Fle(Mce(e),Qr(e),t)+1}function Es(e,t){const r=Et(e),a=Et(t);return r.getTime()>a.getTime()}function m3(e,t){const r=Et(e),a=Et(t);return+r<+a}function JI(e,t,r){const a=ea(e,r),s=ea(t,r);return+a==+s}function hS(e,t){const r=Et(e),a=Et(t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function Lce(e,t){const r=Et(e),a=Et(t);return r.getFullYear()===a.getFullYear()}function Cj(e,t){return or(e,-t)}function Wn(e,t){const a=zce(e);let s;if(a.date){const d=qce(a.date,2);s=Wce(d.restDateString,d.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let l=0,u;if(a.time&&(l=Vce(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(u=Hce(a.timezone),isNaN(u))return new Date(NaN)}else{const d=new Date(i+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(i+l+u)}const Hh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Fce=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Uce=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zce(e){const t={},r=e.split(Hh.dateTimeDelimiter);let a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],Hh.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Hh.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const s=Hh.timezone.exec(a);s?(t.time=a.replace(s[1],""),t.timezone=s[1]):t.time=a}return t}function qce(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function Wce(e,t){if(t===null)return new Date(NaN);const r=e.match(Fce);if(!r)return new Date(NaN);const a=!!r[4],s=Iu(r[1]),i=Iu(r[2])-1,l=Iu(r[3]),u=Iu(r[4]),d=Iu(r[5])-1;if(a)return Qce(t,u,d)?Gce(t,u,d):new Date(NaN);{const f=new Date(0);return!Yce(t,i,l)||!Xce(t,s)?new Date(NaN):(f.setUTCFullYear(t,i,Math.max(s,l)),f)}}function Iu(e){return e?parseInt(e):1}function Vce(e){const t=e.match(Uce);if(!t)return NaN;const r=Ej(t[1]),a=Ej(t[2]),s=Ej(t[3]);return Zce(r,a,s)?r*a3+a*n3+s*1e3:NaN}function Ej(e){return e&&parseFloat(e.replace(",","."))||0}function Hce(e){if(e==="Z")return 0;const t=e.match(Bce);if(!t)return 0;const r=t[1]==="+"?-1:1,a=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Jce(a,s)?r*(a*a3+s*n3):NaN}function Gce(e,t,r){const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,i=(t-1)*7+r+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const Kce=[31,null,31,30,31,30,31,31,30,31,30,31];function p3(e){return e%400===0||e%4===0&&e%100!==0}function Yce(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Kce[t]||(p3(e)?29:28))}function Xce(e,t){return t>=1&&t<=(p3(e)?366:365)}function Qce(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Zce(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Jce(e,t){return t>=0&&t<=59}function Tj(e,t){const r=Et(e),a=r.getFullYear(),s=r.getDate(),i=Jn(e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);const l=Oce(i);return r.setMonth(t,Math.min(s,l)),r}function eO(e,t){const r=Et(e);return isNaN(+r)?Jn(e,NaN):(r.setFullYear(t),r)}function Ou(e,t){if(e.one!==void 0&&t===1)return e.one;const r=t%10,a=t%100;return r===1&&a!==11?e.singularNominative.replace("{{count}}",String(t)):r>=2&&r<=4&&(a<10||a>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function hn(e){return(t,r)=>r?.addSuffix?r.comparison&&r.comparison>0?e.future?Ou(e.future,t):" "+Ou(e.regular,t):e.past?Ou(e.past,t):Ou(e.regular,t)+" ":Ou(e.regular,t)}const eue={lessThanXSeconds:hn({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:(e,t)=>t?.addSuffix?t.comparison&&t.comparison>0?" ":" ":"",lessThanXMinutes:hn({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:hn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:hn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:hn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:hn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:hn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:hn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},tue=(e,t,r)=>eue[e](t,r),rue={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},nue={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},aue={any:"{{date}}, {{time}}"},sue={date:Vl({formats:rue,defaultWidth:"full"}),time:Vl({formats:nue,defaultWidth:"full"}),dateTime:Vl({formats:aue,defaultWidth:"any"})},mS=["","","","","","",""];function iue(e){const t=mS[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}function tO(e){const t=mS[e];return e===2?"' "+t+" ' p":"' "+t+" ' p"}function oue(e){const t=mS[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}const lue={lastWeek:(e,t,r)=>{const a=e.getDay();return JI(e,t,r)?tO(a):iue(a)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:(e,t,r)=>{const a=e.getDay();return JI(e,t,r)?tO(a):oue(a)},other:"P"},cue=(e,t,r,a)=>{const s=lue[e];return typeof s=="function"?s(t,r,a):s},uue={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},due={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},fue={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},hue={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},mue={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},pue={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},gue={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},vue=(e,t)=>{const r=Number(e),a=t?.unit;let s;return a==="date"?s="-":a==="week"||a==="minute"||a==="second"?s="-":s="-",r+s},xue={ordinalNumber:vue,era:Za({values:uue,defaultWidth:"wide"}),quarter:Za({values:due,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Za({values:fue,defaultWidth:"wide",formattingValues:hue,defaultFormattingWidth:"wide"}),day:Za({values:mue,defaultWidth:"wide"}),dayPeriod:Za({values:pue,defaultWidth:"any",formattingValues:gue,defaultFormattingWidth:"wide"})},yue=/^(\d+)(-?(||||||||||))?/i,bue=/\d+/i,jue={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},wue={any:[/^/i,/^/i]},Nue={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},Sue={any:[/1/i,/2/i,/3/i,/4/i]},_ue={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},Cue={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Eue={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},Tue={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},Aue={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},Pue={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},Rue={ordinalNumber:l3({matchPattern:yue,parsePattern:bue,valueCallback:e=>parseInt(e,10)}),era:Ja({matchPatterns:jue,defaultMatchWidth:"wide",parsePatterns:wue,defaultParseWidth:"any"}),quarter:Ja({matchPatterns:Nue,defaultMatchWidth:"wide",parsePatterns:Sue,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ja({matchPatterns:_ue,defaultMatchWidth:"wide",parsePatterns:Cue,defaultParseWidth:"any"}),day:Ja({matchPatterns:Eue,defaultMatchWidth:"wide",parsePatterns:Tue,defaultParseWidth:"any"}),dayPeriod:Ja({matchPatterns:Aue,defaultMatchWidth:"wide",parsePatterns:Pue,defaultParseWidth:"any"})},St={code:"ru",formatDistance:tue,formatLong:sue,formatRelative:cue,localize:xue,match:Rue,options:{weekStartsOn:1,firstWeekContainsDate:1}};function kue({className:e,paymentRequests:t=[]}){const[r,a]=x.useState("week_days"),s=new Date,i=[{value:"week_days",label:"  "},{value:"month_days",label:"  "},{value:"quarter_decades",label:"  "},{value:"halfyear_months",label:"  "}],l=x.useMemo(()=>t.filter(m=>["approved","to-pay"].includes(m.status)),[t]),u=x.useMemo(()=>{const m=[];switch(r){case"week_days":{const h=ea(s,{weekStartsOn:1});for(let g=0;g<7;g++){const j=or(h,g),w=mt(j,"yyyy-MM-dd"),b=l.filter(N=>Xr(Wn(N.dueDate),j)),v=b.filter(N=>Es(s,Wn(N.dueDate)));m.push({date:w,label:mt(j,"EEE d",{locale:St}),amount:b.reduce((N,C)=>N+C.amount,0),overdue:v.reduce((N,C)=>N+C.amount,0),count:b.length,overdueCount:v.length})}break}case"month_days":{const h=Qr(s),g=new Date(s.getFullYear(),s.getMonth()+1,0).getDate();for(let j=0;j<g;j++){const w=or(h,j),b=mt(w,"yyyy-MM-dd"),v=l.filter(C=>Xr(Wn(C.dueDate),w)),N=v.filter(C=>Es(s,Wn(C.dueDate)));m.push({date:b,label:mt(w,"d",{locale:St}),amount:v.reduce((C,S)=>C+S.amount,0),overdue:N.reduce((C,S)=>C+S.amount,0),count:v.length,overdueCount:N.length})}break}case"quarter_decades":{const h=Qr(s);for(let g=0;g<9;g++){const j=Math.floor(g/3),w=g%3,b=bn(h,j);let v,N,C;w===0?(v=b,N=or(b,9),C=`${mt(b,"MMM",{locale:St})} 1-10`):w===1?(v=or(b,10),N=or(b,19),C=`${mt(b,"MMM",{locale:St})} 11-20`):(v=or(b,20),N=or(bn(b,1),-1),C=`${mt(b,"MMM",{locale:St})} 21-${mt(N,"d")}`);const S=l.filter(_=>{const T=Wn(_.dueDate);return T>=v&&T<=N}),A=S.filter(_=>Es(s,Wn(_.dueDate)));m.push({date:mt(v,"yyyy-MM-dd"),label:C,amount:S.reduce((_,T)=>_+T.amount,0),overdue:A.reduce((_,T)=>_+T.amount,0),count:S.length,overdueCount:A.length})}break}case"halfyear_months":{const h=Qr(s);for(let g=0;g<6;g++){const j=bn(h,g),w=bn(j,1),b=l.filter(N=>{const C=Wn(N.dueDate);return C>=j&&C<w}),v=b.filter(N=>Es(s,Wn(N.dueDate)));m.push({date:mt(j,"yyyy-MM-dd"),label:mt(j,"MMM yyyy",{locale:St}),amount:b.reduce((N,C)=>N+C.amount,0),overdue:v.reduce((N,C)=>N+C.amount,0),count:b.length,overdueCount:v.length})}break}}return m},[r,l,s]),d=x.useMemo(()=>{const m=l.filter(g=>Xr(Wn(g.dueDate),s)),h=l.filter(g=>Es(s,Wn(g.dueDate)));return{todayAmount:m.reduce((g,j)=>g+j.amount,0),todayCount:m.length,overdueAmount:h.reduce((g,j)=>g+j.amount,0),overdueCount:h.length,totalAmount:l.reduce((g,j)=>g+j.amount,0),totalCount:l.length}},[l,s]),f=m=>m>=1e6?`${(m/1e6).toFixed(1)}M`:m>=1e3?`${(m/1e3).toFixed(0)}K`:m.toString();return n.jsxs("div",{className:`space-y-6 ${e}`,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"  "}),n.jsx(vr,{className:"h-4 w-4 text-blue-500"})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.todayAmount.toLocaleString()," "]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.todayCount," "]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Ot,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[d.overdueAmount.toLocaleString()," "]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.overdueCount," "]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"  "}),n.jsx(D1,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.totalAmount.toLocaleString()," "]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.totalCount," "]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Jt,{className:"h-4 w-4 text-orange-500"})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.totalCount>0?Math.round(d.todayCount/d.totalCount*100):0,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{children:" "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(tt,{value:r,onValueChange:m=>a(m),children:[n.jsx(nt,{className:"w-48",children:n.jsx(rt,{})}),n.jsx(at,{children:i.map(m=>n.jsx(ye,{value:m.value,children:m.label},m.value))})]})})]})}),n.jsxs(pe,{children:[n.jsx("div",{className:"h-80",children:n.jsx(kX,{width:"100%",height:"100%",children:n.jsxs(Rle,{data:u,margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(qL,{strokeDasharray:"3 3"}),n.jsx(dg,{dataKey:"label",fontSize:12,angle:r==="month_days"?-45:0,textAnchor:r==="month_days"?"end":"middle",height:r==="month_days"?60:40}),n.jsx(fg,{fontSize:12,tickFormatter:f}),n.jsx(Ya,{formatter:(m,h)=>[`${m.toLocaleString()} `,h==="amount"?"":""],labelFormatter:m=>`: ${m}`}),n.jsx(ig,{x:mt(s,r.includes("days")?"d":"MMM",{locale:St}),stroke:"#ef4444",strokeDasharray:"2 2",label:""}),n.jsx(Li,{dataKey:"amount",fill:"hsl(var(--chart-1))",name:"amount",radius:[2,2,0,0]}),n.jsx(Li,{dataKey:"overdue",fill:"#ef4444",name:"overdue",radius:[2,2,0,0]})]})})}),n.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"hsl(var(--chart-1))"}}),n.jsx("span",{className:"text-sm",children:""})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),n.jsx("span",{className:"text-sm",children:""})]})]})]})]}),d.overdueCount>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-5 w-5 text-red-500"}),"  (",d.overdueCount,")"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-2",children:[l.filter(m=>Es(s,Wn(m.dueDate))).slice(0,5).map(m=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:m.docNumber}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["  ",Math.ceil((s.getTime()-Wn(m.dueDate).getTime())/(1e3*60*60*24))," ."]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium text-red-600",children:[m.amount.toLocaleString()," "]}),n.jsx(je,{variant:"destructive",className:"text-xs",children:mt(Wn(m.dueDate),"d MMM",{locale:St})})]})]},m.id)),d.overdueCount>5&&n.jsx("div",{className:"text-center py-2",children:n.jsxs(X,{variant:"outline",size:"sm",children:["  ",d.overdueCount-5," "]})})]})})]})]})}function Iue({paymentRequests:e,onFilterChange:t,currentFilter:r,onViewRequest:a}){const[s,i]=x.useState(null),l=e.filter(_=>["approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(_.status)),u=e.filter(_=>_.status==="approved"),d=new Date(Date.now()-300*60*1e3),f=u.filter(_=>new Date(_.createdAt)<d),m=e.filter(_=>_.status==="in-register"),h=e.filter(_=>_.status==="approved-for-payment"),g=u.reduce((_,T)=>{const R=T.currency||"KZT";return _[R]||(_[R]={count:0,amount:0}),_[R].count+=1,_[R].amount+=T.amount,_},{}),j=l.reduce((_,T)=>{const R=T.status;return _[R]||(_[R]=0),_[R]+=1,_},{}),w=(_,T)=>{const R={KZT:"",USD:"$",EUR:"",RUB:"",CNY:""};return`${_.toLocaleString()} ${R[T]||T}`},b=_=>({approved:"","in-register":" ","approved-for-payment":" ","paid-full":"","paid-partial":" ",declined:"",returned:""})[_]||_,v=_=>({approved:"bg-orange-100 text-orange-700","in-register":"bg-blue-100 text-blue-700","approved-for-payment":"bg-purple-100 text-purple-700","paid-full":"bg-green-100 text-green-700","paid-partial":"bg-yellow-100 text-yellow-700",declined:"bg-red-100 text-red-700",returned:"bg-gray-100 text-gray-700"})[_]||"bg-gray-100 text-gray-700",N=_=>{t&&t(r===_?null:_)},C=f.length,S=h.length,A=u.length+m.length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(me,{className:"border-l-4 border-l-orange-500",children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Gl,{className:"h-5 w-5 text-orange-500"})," "]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md ${C>0?"border-red-200 bg-red-50":"border-green-200 bg-green-50"} ${r==="overdue"?"ring-2 ring-primary":""}`,onClick:()=>N("overdue"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:`h-4 w-4 ${C>0?"text-red-500":"text-green-500"}`}),n.jsx("span",{className:"font-medium",children:""})]}),n.jsx(je,{variant:C>0?"destructive":"default",children:C})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:C>0?" 5   ":"  "})]}),n.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md ${S>0?"border-purple-200 bg-purple-50":"border-gray-200 bg-gray-50"}`,onClick:()=>N("approved-for-payment"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(MO,{className:"h-4 w-4 text-purple-500"}),n.jsx("span",{className:"font-medium",children:"  "})]}),n.jsx(je,{variant:S>0?"secondary":"outline",children:S})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]}),n.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md ${A>0?"border-blue-200 bg-blue-50":"border-gray-200 bg-gray-50"} ${r==="newRequests"?"ring-2 ring-primary":""}`,onClick:()=>N("newRequests"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jt,{className:"h-4 w-4 text-blue-500"}),n.jsx("span",{className:"font-medium",children:" "})]}),n.jsx(je,{variant:A>0?"secondary":"outline",children:A})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]})]}),n.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[n.jsxs(X,{size:"sm",onClick:()=>N("newRequests"),disabled:u.length===0,children:[n.jsx(Oi,{className:"h-4 w-4 mr-1"}),"  (",u.length,")"]}),n.jsxs(X,{size:"sm",variant:"outline",onClick:()=>i(s==="register"?null:"register"),children:[n.jsx(yt,{className:"h-4 w-4 mr-1"})," "]})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(I6,{className:"h-5 w-5 text-blue-500"})," "]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>i(s==="currencies"?null:"currencies"),children:[s==="currencies"?"":"",n.jsx(zj,{className:`h-4 w-4 ml-1 transition-transform ${s==="currencies"?"rotate-90":""}`})]})]})}),n.jsx(pe,{children:s==="currencies"?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:["KZT","USD","EUR","RUB","CNY"].map(_=>{const T=g[_]||{count:0,amount:0};return n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium",children:_}),n.jsx(je,{variant:"outline",children:T.count})]}),n.jsx("div",{className:"text-lg font-semibold mb-1",children:w(T.amount,_)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]},_)})}):n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Object.entries(g).slice(0,3).map(([_,T])=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:_}),n.jsx("div",{className:"font-semibold",children:w(T.amount,_)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[T.count," "]})]},_)),Object.keys(g).length>3&&n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:""}),n.jsxs("div",{className:"font-semibold",children:["+",Object.keys(g).length-3]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:""})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ll,{className:"h-5 w-5 text-green-500"})," workflow"]})}),n.jsxs(pe,{children:[n.jsx("div",{className:"space-y-3",children:Object.entries(j).map(([_,T])=>{const R=l.length>0?T/l.length*100:0;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(je,{className:v(_),variant:"secondary",children:b(_)}),n.jsx("span",{className:"text-sm",children:T})]}),n.jsx("div",{className:"w-24",children:n.jsx(nN,{value:R,className:"h-2"})})]},_)})}),n.jsx("div",{className:"mt-4 pt-4 border-t",children:n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:" "}),n.jsx("span",{className:"font-medium",children:l.length})]})})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-5 w-5 text-purple-500"})," "]})}),n.jsx(pe,{children:n.jsx(kue,{})})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(D1,{className:"h-5 w-5 text-emerald-500"})," "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round((j["paid-full"]||0)/Math.max(l.length,1)*100),"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(((j["paid-full"]||0)+(j["paid-partial"]||0))/Math.max(l.length,1)*100),"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:f.length>0?"":""}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"SLA "})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m.length+h.length}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"  "})]})]})})]})]})}function lr(e){const{isAdmin:t,user:r}=yc(),[a,s]=x.useState({currentDictionary:e,selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}),[i,l]=x.useState([]),[u,d]=x.useState(null),f=Ps.getInstance(),m=x.useMemo(()=>f.getHandler(e),[f,e]),h=x.useCallback(async()=>{s(M=>({...M,isLoading:!0,error:null}));try{const M=await m.getItems();l(M),s(I=>({...I,pagination:{...I.pagination,total:M.length,totalPages:Math.ceil(M.length/I.pagination.pageSize)}}))}catch(M){s(I=>({...I,error:M instanceof Error?M.message:"Failed to load items"}))}finally{s(M=>({...M,isLoading:!1}))}},[m]),g=x.useCallback(async()=>{try{const M=await m.getStatistics();d(M)}catch(M){console.error("Failed to load statistics:",M)}},[m]),j=x.useCallback(async M=>{s(I=>({...I,searchQuery:M,isLoading:!0}));try{const I=await m.searchItems(M);l(I)}catch(I){s(O=>({...O,error:I instanceof Error?I.message:"Search failed"}))}finally{s(I=>({...I,isLoading:!1}))}},[m]),w=x.useCallback(async M=>{s(I=>({...I,filters:M,isLoading:!0}));try{const I=await m.getItemsByFilter(M);l(I)}catch(I){s(O=>({...O,error:I instanceof Error?I.message:"Filter failed"}))}finally{s(I=>({...I,isLoading:!1}))}},[m]),b=x.useCallback(async M=>{s(I=>({...I,isLoading:!0,error:null}));try{const I=await m.createItem(M);return l(O=>[...O,I]),s(O=>({...O,editingItem:null})),I}catch(I){const O=I instanceof Error?I.message:"Failed to create item";throw s(H=>({...H,error:O})),I}finally{s(I=>({...I,isLoading:!1}))}},[m]),v=x.useCallback(async(M,I)=>{s(O=>({...O,isLoading:!0,error:null}));try{const O=await m.updateItem(M,I);return l(H=>H.map(V=>V.id===M?O:V)),s(H=>({...H,editingItem:null})),O}catch(O){const H=O instanceof Error?O.message:"Failed to update item";throw s(V=>({...V,error:H})),O}finally{s(O=>({...O,isLoading:!1}))}},[m]),N=x.useCallback(async M=>{s(I=>({...I,isLoading:!0,error:null}));try{const I=await m.deleteItem(M);return I&&(l(O=>O.filter(H=>H.id!==M)),s(O=>({...O,selectedItems:O.selectedItems.filter(H=>H!==M)}))),I}catch(I){const O=I instanceof Error?I.message:"Failed to delete item";return s(H=>({...H,error:O})),!1}finally{s(I=>({...I,isLoading:!1}))}},[m]),C=x.useCallback(async M=>{s(I=>({...I,isLoading:!0,error:null}));try{const I=await m.bulkCreate(M);return l(O=>[...O,...I]),I}catch(I){const O=I instanceof Error?I.message:"Failed to create items";throw s(H=>({...H,error:O})),I}finally{s(I=>({...I,isLoading:!1}))}},[m]),S=x.useCallback(async M=>{s(I=>({...I,isLoading:!0,error:null}));try{const I=await m.bulkUpdate(M);return l(O=>{const H=new Map(I.map(V=>[V.id,V]));return O.map(V=>H.get(V.id)||V)}),s(O=>({...O,selectedItems:[]})),I}catch(I){const O=I instanceof Error?I.message:"Failed to update items";throw s(H=>({...H,error:O})),I}finally{s(I=>({...I,isLoading:!1}))}},[m]),A=x.useCallback(async M=>{s(I=>({...I,isLoading:!0,error:null}));try{const I=await m.bulkDelete(M);return I&&(l(O=>O.filter(H=>!M.includes(H.id))),s(O=>({...O,selectedItems:[]}))),I}catch(I){const O=I instanceof Error?I.message:"Failed to delete items";return s(H=>({...H,error:O})),!1}finally{s(I=>({...I,isLoading:!1}))}},[m]),_=x.useCallback(async M=>{try{return await m.exportItems(M)}catch(I){const O=I instanceof Error?I.message:"Failed to export items";throw s(H=>({...H,error:O})),I}},[m]),T=x.useCallback(async M=>{s(I=>({...I,isLoading:!0,error:null}));try{const I=await m.importItems(M);return I.success.length>0&&l(O=>[...O,...I.success]),I}catch(I){const O=I instanceof Error?I.message:"Failed to import items";throw s(H=>({...H,error:O})),I}finally{s(I=>({...I,isLoading:!1}))}},[m]),R=x.useCallback(M=>m.validateItem(M),[m]),D=x.useCallback(M=>{s(I=>({...I,selectedItems:I.selectedItems.includes(M)?I.selectedItems.filter(O=>O!==M):[...I.selectedItems,M]}))},[]),k=x.useCallback(()=>{s(M=>({...M,selectedItems:i.map(I=>I.id)}))},[i]),B=x.useCallback(()=>{s(M=>({...M,selectedItems:[]}))},[]),z=x.useCallback(M=>{s(I=>({...I,editingItem:M}))},[]),G=x.useCallback(M=>{s(I=>({...I,bulkActionMode:M,selectedItems:M?I.selectedItems:[]}))},[]),W=x.useCallback(M=>{s(I=>({...I,pagination:{...I.pagination,...M}}))},[]),Z=x.useCallback(()=>{s(M=>({...M,error:null}))},[]),$=x.useCallback(async()=>{const M=[h()];t&&M.push(g()),await Promise.all(M)},[h,g,t]);return x.useEffect(()=>{e==="counterparties"&&r?.roles?.some(M=>M.code==="EXECUTOR")||(h(),t&&g())},[h,g,t,e,r]),{items:i,statistics:u,state:a,loadItems:h,loadStatistics:g,searchItems:j,filterItems:w,createItem:b,updateItem:v,deleteItem:N,bulkCreate:C,bulkUpdate:S,bulkDelete:A,exportItems:_,importItems:T,validateItem:R,selectItem:D,selectAllItems:k,clearSelection:B,setEditingItem:z,setBulkActionMode:G,updatePagination:W,clearError:Z,refresh:$}}function Oue(e,t){const r=typeof e=="string"?parseFloat(e):e;if(isNaN(r))return"0,00";const s=r.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!0}).replace(/\s/g," ");return t?`${s} ${t}`:s}function Lr(e,t="KZT"){return Oue(e,t)}const g3=(e={})=>{const[t,r]=x.useState([]),[a,s]=x.useState(!1),[i,l]=x.useState(null),[u,d]=x.useState(!0),[f,m]=x.useState(0),{status:h,searchTerm:g,counterpartyFilter:j,page:w=1,limit:b=10}=e,v=x.useCallback(async()=>{try{s(!0),l(null);const C=new URLSearchParams;C.append("role","EXECUTOR"),h&&h!=="all"&&C.append("status",h),g&&C.append("search",g),j&&j!=="all"&&C.append("counterparty_id",j),C.append("page",w.toString()),C.append("limit",b.toString());const S=await ot.getAll({role:"EXECUTOR"});let A=S;h&&h!=="all"&&(A=S.filter(_=>_.status===h)),g&&(A=A.filter(_=>_.requestNumber?.toLowerCase().includes(g.toLowerCase())||_.description?.toLowerCase().includes(g.toLowerCase()))),j&&j!=="all"&&(A=A.filter(_=>_.counterpartyId===j)),r(A),d(A.length===b),m(A.length)}catch(C){const S=C instanceof Error?C.message:"Failed to fetch requests";l(S),console.error("Error fetching executor requests:",C)}finally{s(!1)}},[h,g,j,w,b]),N=x.useCallback(async()=>{await v()},[v]);return x.useEffect(()=>{v()},[v]),{data:t,loading:a,error:i,refetch:N,hasMore:u,totalCount:f}},Xu=(e,t="dd.MM.yyyy")=>{if(!e)return" ";try{const r=new Date(e);return isNaN(r.getTime())?" ":mt(r,t,{locale:St})}catch(r){return console.warn("Error formatting date:",r)," "}};function Due({onViewRequest:e,onCreateRequest:t}){const[r,a]=x.useState(null),[s,i]=x.useState(1),[l,u]=x.useState(""),d=5,{items:f}=lr("counterparties"),{data:m,loading:h,error:g}=g3({status:r&&r!=="total"?r:void 0,page:s,limit:d}),{statistics:j,loading:w,error:b}=iM("EXECUTOR"),v=h||w,N=g||b,C=x.useMemo(()=>{let G=[...m];if(r)switch(r){case"draft":G=G.filter(W=>W.status==="draft");break;case"submitted":G=G.filter(W=>W.status==="submitted");break;case"in-register":G=G.filter(W=>W.status==="in-register");break;case"to-pay":G=G.filter(W=>W.status==="to-pay");break;case"rejected":G=G.filter(W=>W.status==="rejected");break}return G.sort((W,Z)=>{try{const $=new Date(W.createdAt),M=new Date(Z.createdAt);return isNaN($.getTime())||isNaN(M.getTime())?0:M.getTime()-$.getTime()}catch{return 0}})},[m,r]),S=Math.ceil(C.length/d),A=(s-1)*d,_=A+d,T=C.slice(A,_),R=x.useMemo(()=>j?{total:j.totalRequests||0,inProgress:j.submittedCount||0,approvedNotPaid:j.inRegistryCount||0,paid:(j.paidFullCount||0)+(j.paidPartialCount||0),declined:j.rejectedCount||0,draft:j.draftCount||0,totalAmount:j.totalAmount||0}:{total:0,inProgress:0,approvedNotPaid:0,paid:0,declined:0,draft:0,totalAmount:0},[j]),D=x.useCallback(G=>f.find(W=>W.id===G)?.name||"",[f]),k=x.useCallback(G=>{a(r===G?null:G),i(1)},[r]),B=x.useCallback(G=>{u(G.target.value)},[]),z=x.useCallback(G=>{if(G.key==="Enter"){const W=parseInt(l);W>=1&&W<=S&&(i(W),u(""))}},[l,S]);return v?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"   "})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mr,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"text-muted-foreground",children:"  ..."})]})})]}):N?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"   "})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ot,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  "}),n.jsx("p",{className:"text-muted-foreground mb-4",children:N}),n.jsx(X,{onClick:()=>window.location.reload(),variant:"outline",children:" "})]})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"   "})]}),n.jsxs(X,{onClick:t,children:[n.jsx(cn,{className:"h-4 w-4 mr-2"})," "]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:" "}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="draft"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>k("draft"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(UB,{className:"h-3 w-3 text-gray-500"}),n.jsx("span",{className:"text-xs font-medium",children:""})]}),n.jsx("div",{className:"text-lg font-semibold",children:R.draft})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="submitted"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>k("submitted"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Jt,{className:"h-3 w-3 text-orange-500"}),n.jsx("span",{className:"text-xs font-medium",children:" "})]}),n.jsx("div",{className:"text-lg font-semibold",children:R.inProgress})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="in-register"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>k("in-register"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(pt,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{className:"text-xs font-medium",children:""})]}),n.jsx("div",{className:"text-lg font-semibold",children:R.approvedNotPaid})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="to-pay"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>k("to-pay"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{className:"text-xs font-medium",children:""})]}),n.jsx("div",{className:"text-lg font-semibold",children:R.paid})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="rejected"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>k("rejected"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ot,{className:"h-3 w-3 text-red-500"}),n.jsx("span",{className:"text-xs font-medium",children:""})]}),n.jsx("div",{className:"text-lg font-semibold",children:R.declined})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="total"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>k("total"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(yt,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs font-medium",children:""})]}),n.jsx("div",{className:"text-lg font-semibold",children:R.total})]})]})]})}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ae,{children:" "}),n.jsx("div",{className:"text-sm text-muted-foreground",children:C.length>0&&n.jsxs("span",{children:[" ",A+1,"-",Math.min(_,C.length),"  ",C.length]})})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"space-y-3",children:[T.map(G=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>e?.(G.id),children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:G.requestNumber}),n.jsx("p",{className:"text-sm text-muted-foreground",children:D(G.counterpartyId)})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-medium",children:Lr(G.amount,G.currency)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:Xu(G.createdAt)})]}),n.jsx(Wo,{status:G.status})]})]},G.id)),C.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"   "})]}),S>1&&n.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(1),disabled:s===1,className:"hidden sm:flex",children:""}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(G=>Math.max(G-1,1)),disabled:s===1,children:""}),n.jsxs("span",{className:"text-sm text-muted-foreground hidden sm:block",children:[" ",s,"  ",S]}),n.jsxs("span",{className:"text-sm text-muted-foreground sm:hidden",children:[s,"/",S]}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(G=>Math.min(G+1,S)),disabled:s===S,children:""}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(S),disabled:s===S,className:"hidden sm:flex",children:""})]}),n.jsx("div",{className:"flex items-center gap-1 overflow-x-auto",children:(()=>{const W=[];if(S<=7)for(let Z=1;Z<=S;Z++)W.push(n.jsx(X,{variant:s===Z?"default":"outline",size:"sm",onClick:()=>i(Z),className:"w-8 h-8 p-0",children:Z},Z));else{const Z=Math.floor(3.5);W.push(n.jsx(X,{variant:s===1?"default":"outline",size:"sm",onClick:()=>i(1),className:"w-8 h-8 p-0",children:"1"},1)),s>Z+2&&W.push(n.jsx("span",{className:"px-2 text-muted-foreground",children:"..."},"ellipsis1"));const $=Math.max(2,s-Z),M=Math.min(S-1,s+Z);for(let I=$;I<=M;I++)I!==1&&I!==S&&W.push(n.jsx(X,{variant:s===I?"default":"outline",size:"sm",onClick:()=>i(I),className:"w-8 h-8 p-0",children:I},I));s<S-Z-1&&W.push(n.jsx("span",{className:"px-2 text-muted-foreground",children:"..."},"ellipsis2")),S>1&&W.push(n.jsx(X,{variant:s===S?"default":"outline",size:"sm",onClick:()=>i(S),className:"w-8 h-8 p-0",children:S},S))}return W})()}),S>10&&n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:" :"}),n.jsx(ke,{type:"number",min:"1",max:S,value:l,onChange:B,onKeyDown:z,placeholder:"",className:"w-16 h-8 text-center"})]})]})]})]})]})}function rO({currentRole:e,onFilterChange:t,currentFilter:r,onViewRequest:a,onCreateRequest:s,paymentRequests:i=[]}){const[l,u]=x.useState([]),[d,f]=x.useState(!1),[m,h]=x.useState(null),{items:g}=lr("counterparties");if(x.useEffect(()=>{(async()=>{f(!0),h(null);try{const T=await ot.getAll({role:e});u(T)}catch(T){console.error("Dashboard: Error loading payment requests:",T),h("   "),u([])}finally{f(!1)}})()},[e]),e==="EXECUTOR")return n.jsx(Due,{onViewRequest:a,onCreateRequest:s});const j=i.length>0?i:l,b=(()=>{const _=j;if(e==="REGISTRAR"){const $=_.filter(F=>["submitted","classified","returned","declined"].includes(F.status)),M=_.filter(F=>F.status==="submitted"),I=_.filter(F=>F.status==="classified"),O=_.filter(F=>F.status==="declined"),H=_.filter(F=>F.status==="returned"),V=new Date;V.setHours(0,0,0,0);const q=M.filter(F=>{try{const L=new Date(F.dueDate);return isNaN(L.getTime())?!1:(L.setHours(0,0,0,0),L<V)}catch{return!1}});return{total:$.length,newRequests:M.length,inProgress:M.length,registered:I.length,overdueCount:q.length,returnedForRevision:H.length,declinedStats:O.length}}if(e==="DISTRIBUTOR"){const $=_.filter(ee=>["classified","approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(ee.status)),M=_.filter(ee=>ee.status==="classified"),I=_.filter(ee=>ee.status==="approved"),O=new Date;O.setHours(0,0,0,0);const H=M.filter(ee=>{try{const ce=new Date(ee.dueDate);return isNaN(ce.getTime())?!1:(ce.setHours(0,0,0,0),ce<O)}catch{return!1}}),V=_.filter(ee=>["classified"].includes(ee.status)).length,q=_.filter(ee=>ee.status==="returned").length,F=_.filter(ee=>["approved","in-register","approved-for-payment"].includes(ee.status)).length,L=_.filter(ee=>["paid-full","paid-partial"].includes(ee.status)).length,Y=_.filter(ee=>ee.status==="declined").length;return{total:$.length,newRequests:M.length,toApprove:M.length,approved:I.length,overdueCount:H.length,totalAmount:[...M,...I].reduce((ee,ce)=>ee+ce.amount,0),inWork:V,returnedForRevision:q,approvedForPayment:F,paid:L,declined:Y}}if(e==="EXECUTOR"){const $=_.filter(ce=>["draft","submitted","classified","approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(ce.status)),M=_.filter(ce=>ce.status==="draft"),I=_.filter(ce=>ce.status==="submitted"),O=_.filter(ce=>ce.status==="classified"),H=_.filter(ce=>ce.status==="approved"),V=_.filter(ce=>ce.status==="in-register"),q=_.filter(ce=>["paid-full","paid-partial"].includes(ce.status)),F=_.filter(ce=>ce.status==="declined"),L=_.filter(ce=>ce.status==="returned"),Y=I.length+O.length+H.length+V.length,ee=H.length+V.length;return{total:$.length,draft:M.length,inProgress:Y,approvedNotPaid:ee,paid:q.length,declined:F.length,returnedForRevision:L.length,totalAmount:$.reduce((ce,K)=>ce+(K.amount||0),0)}}const T=_.filter($=>["approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes($.status)),R=_.filter($=>$.status==="approved"),D=new Date;D.setHours(0,0,0,0);const k=R.filter($=>{try{const M=new Date($.dueDate);return isNaN(M.getTime())?!1:(M.setHours(0,0,0,0),M<D)}catch{return!1}}),B=_.filter($=>["approved"].includes($.status)).length,z=_.filter($=>$.status==="returned").length,G=_.filter($=>["in-register"].includes($.status)).length,W=_.filter($=>["paid-full","paid-partial"].includes($.status)).length,Z=_.filter($=>$.status==="declined").length;return{total:T.length,newRequests:R.length,overdueCount:k.length,inWork:B,returnedForRevision:z,inRegister:G,paid:W,declined:Z}})(),N=(()=>{let T=[...j];if(e==="REGISTRAR"){if(T=T.filter(R=>["submitted","classified","returned","declined"].includes(R.status)),r)switch(r){case"total":break;case"newRequests":T=T.filter(R=>R.status==="submitted");break;case"overdue":T=T.filter(R=>{if(R.status==="submitted")try{const D=new Date(R.dueDate);if(isNaN(D.getTime()))return!1;const k=new Date;return k.setHours(0,0,0,0),D.setHours(0,0,0,0),D<k}catch{return!1}return!1});break}}else if(e==="DISTRIBUTOR"){if(T=T.filter(R=>["classified","approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(R.status)),r){const R=new Date;switch(R.setHours(0,0,0,0),r){case"total":break;case"newRequests":T=T.filter(D=>D.status==="classified");break;case"overdue":T=T.filter(D=>{if(D.status==="classified")try{const k=new Date(D.dueDate);return isNaN(k.getTime())?!1:(k.setHours(0,0,0,0),k<R)}catch{return!1}return!1});break;case"approved":T=T.filter(D=>["approved","in-register","approved-for-payment"].includes(D.status));break;case"returned":T=T.filter(D=>D.status==="returned");break;case"paid":T=T.filter(D=>["paid-full","paid-partial"].includes(D.status));break}}}else if(e==="TREASURER"&&(T=T.filter(R=>["approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(R.status)),r))switch(r){case"total":break;case"newRequests":T=T.filter(R=>R.status==="approved");break;case"overdue":T=T.filter(R=>{if(R.status==="approved")try{const D=new Date(R.dueDate);if(isNaN(D.getTime()))return!1;const k=new Date;return k.setHours(0,0,0,0),D.setHours(0,0,0,0),D<k}catch{return!1}return!1});break}return T.sort((R,D)=>{try{const k=new Date(R.createdAt),B=new Date(D.createdAt);return isNaN(k.getTime())||isNaN(B.getTime())?0:B.getTime()-k.getTime()}catch{return 0}}).slice(0,5)})(),C=_=>g.find(T=>T.id===_)?.name||"",S=_=>{try{const T=new Date(_);return isNaN(T.getTime())?" ":mt(T,"d MMM",{locale:St})}catch{return" "}},A=_=>{if(console.log("Dashboard: Filter clicked:",_,"Current filter:",r),t){const T=r===_?null:_;console.log("Dashboard: Setting new filter:",T),t(T)}};return d?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"   "})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mr,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"text-muted-foreground",children:"  ..."})]})})]}):m?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"   "})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ot,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  "}),n.jsx("p",{className:"text-muted-foreground mb-4",children:m}),n.jsx(X,{onClick:()=>window.location.reload(),variant:"outline",children:" "})]})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"   "})]}),e!=="EXECUTOR"&&n.jsxs("div",{className:`grid gap-4 ${e==="DISTRIBUTOR"?"grid-cols-1 md:grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"}`,children:[e==="REGISTRAR"&&n.jsxs(n.Fragment,{children:[n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="total"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("total"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:b.total}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="newRequests"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("newRequests"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Ot,{className:"h-4 w-4 text-orange-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:b.newRequests}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="overdue"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("overdue"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Ot,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.overdueCount||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),e==="DISTRIBUTOR"&&n.jsxs(n.Fragment,{children:[n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="newRequests"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("newRequests"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Ot,{className:"h-4 w-4 text-orange-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:b.inWork||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="overdue"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("overdue"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(vr,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.overdueCount||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="approved"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("approved"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(pt,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.approvedForPayment||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="returned"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("returned"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Ia,{className:"h-4 w-4 text-blue-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.returnedForRevision||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="paid"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("paid"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Xn,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-700",children:b.paid||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),e==="TREASURER"&&n.jsx("div",{className:"col-span-full",children:n.jsx(Iue,{paymentRequests:i.length>0?i:l,onFilterChange:t,currentFilter:r,onViewRequest:a})})]}),e!=="treasurer"&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-3",children:[N.map(_=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>a?.(_.id),children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:_.requestNumber}),n.jsx("p",{className:"text-sm text-muted-foreground",children:C(_.counterpartyId)})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-medium",children:Lr(_.amount,_.currency)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S(_.createdAt)})]}),n.jsx(Wo,{status:_.status})]})]},_.id)),N.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"   "})]})})]})]})}function Fr({className:e,...t}){return n.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:n.jsx("table",{"data-slot":"table",className:We("w-full caption-bottom text-sm",e),...t})})}function Ur({className:e,...t}){return n.jsx("thead",{"data-slot":"table-header",className:We("[&_tr]:border-b",e),...t})}function Br({className:e,...t}){return n.jsx("tbody",{"data-slot":"table-body",className:We("[&_tr:last-child]:border-0",e),...t})}function gt({className:e,...t}){return n.jsx("tr",{"data-slot":"table-row",className:We("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Ce({className:e,...t}){return n.jsx("th",{"data-slot":"table-head",className:We("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Se({className:e,...t}){return n.jsx("td",{"data-slot":"table-cell",className:We("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Mue({filteredRequests:e,currentFilter:t,onFilterClick:r}){const a=()=>{const u=new Date(Date.now()-18e6);return e.filter(d=>d.status==="submitted"&&new Date(d.createdAt)<u).length},s=[{id:"in-work",title:" ",value:e.filter(u=>u.status==="submitted").length,icon:n.jsx(Ot,{className:"h-4 w-4 text-orange-500"}),color:"text-orange-500",isClickable:!0,filterType:"in-work",tooltip:",   "},{id:"registered",title:"",value:e.filter(u=>u.status==="classified").length,icon:n.jsx(yt,{className:"h-4 w-4 text-green-500"}),color:"text-green-500",isClickable:!0,filterType:"registered",tooltip:",     "},{id:"overdue",title:"",value:a(),icon:n.jsx(vr,{className:"h-4 w-4 text-red-500"}),color:"text-red-500",isClickable:!0,filterType:"overdue",tooltip:",   5      "},{id:"returned",title:"  ",value:e.filter(u=>u.status==="returned").length,icon:n.jsx(is,{className:"h-4 w-4 text-blue-500"}),color:"text-blue-500",isClickable:!0,filterType:"returned",tooltip:",    "},{id:"declined",title:"",value:e.filter(u=>u.status==="declined").length,icon:n.jsx(yt,{className:"h-4 w-4 text-red-600"}),color:"text-red-600",isClickable:!0,filterType:"declined",tooltip:" "}],i=u=>{u.isClickable&&u.filterType&&r(u.filterType)},l=u=>{const d="transition-all duration-300 ease-out";if(u.isClickable){const f=t===u.filterType;return`${d} cursor-pointer hover:shadow-lg hover:scale-[1.03] active:scale-[0.98] ${f?"ring-2 ring-primary shadow-lg scale-[1.02] bg-primary/5 border-primary/20":"hover:bg-accent/30 hover:border-primary/30"}`}return`${d} hover:shadow-md hover:scale-[1.01]`};return n.jsx(Ap,{children:n.jsxs("div",{className:"space-y-4",children:[t&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in-50 duration-300",children:[n.jsx(Ui,{className:"h-4 w-4 text-primary"}),n.jsxs("span",{className:"text-sm",children:[" : ",n.jsx("strong",{children:s.find(u=>u.filterType===t)?.title})]}),n.jsxs(je,{variant:"secondary",className:"ml-2",children:[e.length," "]}),n.jsxs(sd,{children:[n.jsx(id,{asChild:!0,children:n.jsx("div",{children:n.jsx(X,{variant:"ghost",size:"sm",className:"ml-auto h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>r(t),children:n.jsx(up,{className:"h-3 w-3"})})})}),n.jsx(od,{children:n.jsx("p",{children:" "})})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:s.map(u=>n.jsxs(sd,{children:[n.jsx(id,{asChild:!0,children:n.jsx("div",{children:n.jsx(me,{className:l(u),onClick:()=>i(u),children:n.jsxs(pe,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:u.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:u.title}),n.jsx("p",{className:"text-2xl font-semibold mt-1",children:u.value.toLocaleString()})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[!u.isClickable&&n.jsx("span",{className:"text-xs text-muted-foreground",children:" "}),t===u.filterType&&n.jsx(je,{variant:"default",size:"sm",className:"animate-pulse",children:""})]})]})})})}),n.jsx(od,{side:"bottom",className:"max-w-xs",children:n.jsx("p",{children:u.tooltip})})]},u.id))})]})})}function $ue({filteredRequests:e,currentFilter:t,onFilterClick:r}){const a=[{id:"in-work",title:" ",value:e.filter(l=>l.status==="classified").length,icon:n.jsx(Ot,{className:"h-4 w-4 text-orange-500"}),color:"text-orange-500",isClickable:!0,filterType:"in-work",tooltip:",   "},{id:"returned-for-revision",title:"  ",value:e.filter(l=>l.status==="returned").length,icon:n.jsx(Ia,{className:"h-4 w-4 text-blue-500"}),color:"text-blue-500",isClickable:!0,filterType:"returned-for-revision",tooltip:",   "},{id:"approved-for-payment",title:"  ",value:e.filter(l=>["approved","approved-on-behalf","in-register","approved-for-payment"].includes(l.status)).length,icon:n.jsx(pt,{className:"h-4 w-4 text-green-500"}),color:"text-green-500",isClickable:!0,filterType:"approved-for-payment",tooltip:",   "},{id:"approved-on-behalf",title:"   -",value:e.filter(l=>l.status==="approved-on-behalf").length,icon:n.jsx(pt,{className:"h-4 w-4 text-purple-500"}),color:"text-purple-500",isClickable:!0,filterType:"approved-on-behalf",tooltip:",    "},{id:"paid",title:"",value:e.filter(l=>["paid-full","paid-partial"].includes(l.status)).length,icon:n.jsx(Xn,{className:"h-4 w-4 text-green-600"}),color:"text-green-600",isClickable:!0,filterType:"paid",tooltip:" "},{id:"declined",title:"",value:e.filter(l=>l.status==="declined").length,icon:n.jsx(Gn,{className:"h-4 w-4 text-red-500"}),color:"text-red-500",isClickable:!0,filterType:"declined",tooltip:" "}],s=l=>{l.isClickable&&l.filterType&&r(l.filterType)},i=l=>{const u="transition-all duration-300 ease-out";if(l.isClickable){const d=t===l.filterType;return`${u} cursor-pointer hover:shadow-lg hover:scale-[1.03] active:scale-[0.98] ${d?"ring-2 ring-primary shadow-lg scale-[1.02] bg-primary/5 border-primary/20":"hover:bg-accent/30 hover:border-primary/30"}`}return`${u} hover:shadow-md hover:scale-[1.01]`};return n.jsx(Ap,{children:n.jsxs("div",{className:"space-y-4",children:[t&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in-50 duration-300",children:[n.jsx(Ui,{className:"h-4 w-4 text-primary"}),n.jsxs("span",{className:"text-sm",children:[" : ",n.jsx("strong",{children:a.find(l=>l.filterType===t)?.title})]}),n.jsxs(je,{variant:"secondary",className:"ml-2",children:[e.length," "]}),n.jsxs(sd,{children:[n.jsx(id,{asChild:!0,children:n.jsx("div",{children:n.jsx(X,{variant:"ghost",size:"sm",className:"ml-auto h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>r(t),children:n.jsx(up,{className:"h-3 w-3"})})})}),n.jsx(od,{children:n.jsx("p",{children:" "})})]})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:a.map(l=>n.jsxs(sd,{children:[n.jsx(id,{asChild:!0,children:n.jsx("div",{children:n.jsx(me,{className:i(l),onClick:()=>s(l),children:n.jsxs(pe,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-shrink-0",children:l.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground truncate leading-tight",children:l.title}),n.jsx("p",{className:"text-xl font-semibold mt-0.5",children:l.value.toLocaleString()})]})]}),t===l.filterType&&n.jsx("div",{className:"mt-2 flex justify-end",children:n.jsx(je,{variant:"default",size:"sm",className:"animate-pulse text-xs",children:""})})]})})})}),n.jsx(od,{side:"bottom",className:"max-w-xs",children:n.jsx("p",{children:l.tooltip})})]},l.id))})]})})}function Lue({currentRole:e,onCreateRequest:t,onViewRequest:r,dashboardFilter:a,onClearFilter:s,paymentRequests:i}){const{items:l}=lr("counterparties"),[u,d]=x.useState(""),[f,m]=x.useState("all"),[h,g]=x.useState("all"),[j,w]=x.useState(null),[b,v]=x.useState([]),[N,C]=x.useState(!0),[S,A]=x.useState(null);x.useEffect(()=>{(async()=>{try{if(C(!0),A(null),i&&i.length>0)v(i);else{const M=await ot.getAll({role:e,status:a||void 0});v(M)}}catch(M){console.error("Error loading requests:",M),A("  "),v([])}finally{C(!1)}})()},[e,a,i]);const _=$=>{try{const M=new Date($);return isNaN(M.getTime())?" ":mt(M,"d MMM",{locale:St})}catch{return" "}},T=$=>{try{const M=new Date($);return isNaN(M.getTime())?" ":mt(M,"d MMM HH:mm",{locale:St})}catch{return" "}},R=$=>{try{const M=new Date($);return!isNaN(M.getTime())&&M<new Date}catch{return!1}},D=($,M)=>{try{const I=new Date($);if(isNaN(I.getTime()))return!1;const O=new Date(Date.now()-M*60*60*1e3);return I<O}catch{return!1}},k=x.useMemo(()=>{let $=[...b];if(e==="REGISTRAR"){if($=$.filter(M=>["submitted","classified","returned","declined","approved","in-register","paid-full","paid-partial"].includes(M.status)),j)switch(j){case"draft":$=$.filter(M=>M.status==="draft");break;case"inProgress":$=$.filter(M=>["submitted","classified","approved","in-register"].includes(M.status));break;case"approvedNotPaid":$=$.filter(M=>["approved","in-register"].includes(M.status));break;case"paid":$=$.filter(M=>["paid-full","paid-partial"].includes(M.status));break;case"declined":$=$.filter(M=>["declined","rejected"].includes(M.status));break;case"total":break;case"newRequests":$=$.filter(M=>M.status==="submitted");break;case"overdue":$=$.filter(M=>M.status==="submitted"&&D(M.createdAt,5));break}}else if(e==="DISTRIBUTOR"){if($=$.filter(M=>["classified","approved","approved-on-behalf","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(M.status)),j)switch(j){case"total":break;case"in-work":$=$.filter(M=>M.status==="classified");break;case"returned-for-revision":$=$.filter(M=>M.status==="returned");break;case"approved-for-payment":$=$.filter(M=>["approved","approved-on-behalf","in-register","approved-for-payment"].includes(M.status));break;case"approved-on-behalf":$=$.filter(M=>M.status==="approved-on-behalf");break;case"paid":$=$.filter(M=>["paid-full","paid-partial"].includes(M.status));break;case"declined":$=$.filter(M=>M.status==="declined");break;case"newRequests":$=$.filter(M=>M.status==="classified");break;case"overdue":$=$.filter(M=>M.status==="classified"&&D(M.createdAt,5));break}}else if(e==="TREASURER"&&($=$.filter(M=>["approved","approved-on-behalf","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(M.status)),j))switch(j){case"total":break;case"newRequests":$=$.filter(M=>["approved","approved-on-behalf"].includes(M.status));break;case"overdue":$=$.filter(M=>["approved","approved-on-behalf"].includes(M.status)&&D(M.createdAt,5));break}return u&&($=$.filter(M=>{const I=l.find(O=>O.id===M.counterpartyId);return M.docNumber.toLowerCase().includes(u.toLowerCase())||M.requestNumber?.toLowerCase().includes(u.toLowerCase())||M.description.toLowerCase().includes(u.toLowerCase())||I?.name.toLowerCase().includes(u.toLowerCase())||M.amount.toString().includes(u)})),f!=="all"&&($=$.filter(M=>M.counterpartyId===f)),h!=="all"&&($=$.filter(M=>M.status===h)),$.sort((M,I)=>{try{const O=new Date(M.createdAt),H=new Date(I.createdAt);return isNaN(O.getTime())||isNaN(H.getTime())?0:H.getTime()-O.getTime()}catch{return 0}})},[b,u,f,h,e,j,a,l]),B=$=>l.find(M=>M.id===$)?.name||"",z=()=>[...new Set(b.map(M=>M.counterpartyId))].map(M=>{const I=l.find(O=>O.id===M);return I?{id:M,name:I.name}:{id:M,name:""}}).sort((M,I)=>M.name.localeCompare(I.name)),G=$=>{switch($){case"submitted":return"";case"classified":case"allocated":return"";case"approved":case"approved-on-behalf":case"in-register":case"approved-for-payment":return"";case"paid-full":case"paid-partial":return"";case"declined":case"cancelled":return"";case"returned":return"";case"draft":return" ";default:return"-"}},W=$=>{w(j===$?null:$)},Z=()=>k.filter($=>["approved","approved-on-behalf"].includes($.status)&&D($.createdAt,5)).length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"  "}),n.jsx("p",{className:"text-muted-foreground",children:e==="REGISTRAR"?"  ":e==="DISTRIBUTOR"?"  ":e==="TREASURER"?"  ":""})]}),n.jsx("div",{className:"flex gap-2",children:a&&n.jsx(X,{variant:"outline",onClick:s,children:" "})})]}),(e==="REGISTRAR"||e==="DISTRIBUTOR")&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ui,{className:"h-4 w-4"}),""]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ke,{placeholder:"  , ...",value:u,onChange:$=>d($.target.value),className:"pl-10"})]}),n.jsxs(tt,{value:f,onValueChange:m,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:""})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),z().map($=>n.jsx(ye,{value:$.id,children:$.name},$.id))]})]}),n.jsxs(tt,{value:h,onValueChange:g,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:""})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),n.jsx(ye,{value:"draft",children:""}),n.jsx(ye,{value:"submitted",children:""}),n.jsx(ye,{value:"classified",children:""}),n.jsx(ye,{value:"approved",children:""}),n.jsx(ye,{value:"in-register",children:" "}),n.jsx(ye,{value:"paid-full",children:" "}),n.jsx(ye,{value:"paid-partial",children:" "}),n.jsx(ye,{value:"declined",children:""}),n.jsx(ye,{value:"returned",children:""})]})]})]})})})]}),e==="REGISTRAR"?n.jsx(Mue,{filteredRequests:k,currentFilter:j,onFilterClick:W}):e==="DISTRIBUTOR"?n.jsx($ue,{filteredRequests:k,currentFilter:j,onFilterClick:W}):e==="TREASURER"?n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsx(me,{className:`cursor-pointer transition-all hover:shadow-md ${j==="total"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>W("total"),children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-xl font-semibold",children:k.length})]})]})})}),n.jsx(me,{className:`cursor-pointer transition-all hover:shadow-md ${j==="newRequests"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>W("newRequests"),children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-xl font-semibold",children:k.filter($=>["approved","approved-on-behalf"].includes($.status)).length})]})]})})}),n.jsx(me,{className:`cursor-pointer transition-all hover:shadow-md ${j==="overdue"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>W("overdue"),children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-xl font-semibold",children:Z()})]})]})})})]}):n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-xl font-semibold",children:k.filter($=>["submitted","classified"].includes($.status)).length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(is,{className:"h-4 w-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-xl font-semibold",children:new Set(k.map($=>$.counterpartyId)).size})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-xl font-semibold",children:k.filter($=>R($.dueDate)).length})]})]})})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ae,{children:[" (",k.length,")"]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"})," xlsx"]})]}),n.jsx(pe,{children:N?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):S?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-500 mb-2",children:"  "}),n.jsx("p",{className:"text-muted-foreground text-sm",children:S})]})}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:"   "}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:k.map($=>n.jsxs(gt,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r?.($.id),children:[n.jsx(Se,{className:"font-medium",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:$.requestNumber||$.docNumber}),$.requestNumber&&n.jsx("span",{className:"text-xs text-muted-foreground",children:$.docNumber})]})}),n.jsx(Se,{children:B($.counterpartyId)}),n.jsx(Se,{children:n.jsx("div",{className:"flex items-center gap-1",children:n.jsx("span",{children:Lr($.amount,$.currency)})})}),n.jsx(Se,{children:n.jsxs("div",{className:`flex items-center gap-2 ${R($.dueDate)?"text-red-600":""}`,children:[_($.dueDate),R($.dueDate)&&n.jsx(je,{variant:"destructive",className:"text-xs",children:""})]})}),n.jsx(Se,{children:n.jsx(Wo,{status:$.status,showTooltip:e==="EXECUTOR",responsible:G($.status),statusTime:T($.updatedAt||$.createdAt)})}),n.jsx(Se,{className:"text-muted-foreground",children:G($.status)}),n.jsx(Se,{className:"text-muted-foreground",children:_($.createdAt)})]},$.id))})]}),k.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  "})]})})]})]})}var ft=function(){return ft=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ft.apply(this,arguments)};function Fue(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function v3(e,t,r){for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function df(e){return e.mode==="multiple"}function ff(e){return e.mode==="range"}function mg(e){return e.mode==="single"}var Uue={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Bue(e,t){return mt(e,"LLLL y",t)}function zue(e,t){return mt(e,"d",t)}function que(e,t){return mt(e,"LLLL",t)}function Wue(e){return"".concat(e)}function Vue(e,t){return mt(e,"cccccc",t)}function Hue(e,t){return mt(e,"yyyy",t)}var Gue=Object.freeze({__proto__:null,formatCaption:Bue,formatDay:zue,formatMonthCaption:que,formatWeekNumber:Wue,formatWeekdayName:Vue,formatYearCaption:Hue}),Kue=function(e,t,r){return mt(e,"do MMMM (EEEE)",r)},Yue=function(){return"Month: "},Xue=function(){return"Go to next month"},Que=function(){return"Go to previous month"},Zue=function(e,t){return mt(e,"cccc",t)},Jue=function(e){return"Week n. ".concat(e)},ede=function(){return"Year: "},tde=Object.freeze({__proto__:null,labelDay:Kue,labelMonthDropdown:Yue,labelNext:Xue,labelPrevious:Que,labelWeekNumber:Jue,labelWeekday:Zue,labelYearDropdown:ede});function rde(){var e="buttons",t=Uue,r=c3,a={},s={},i=1,l={},u=new Date;return{captionLayout:e,classNames:t,formatters:Gue,labels:tde,locale:r,modifiersClassNames:a,modifiers:s,numberOfMonths:i,styles:l,today:u,mode:"default"}}function nde(e){var t=e.fromYear,r=e.toYear,a=e.fromMonth,s=e.toMonth,i=e.fromDate,l=e.toDate;return a?i=Qr(a):t&&(i=new Date(t,0,1)),s?l=dS(s):r&&(l=new Date(r,11,31)),{fromDate:i?vc(i):void 0,toDate:l?vc(l):void 0}}var x3=x.createContext(void 0);function ade(e){var t,r=e.initialProps,a=rde(),s=nde(r),i=s.fromDate,l=s.toDate,u=(t=r.captionLayout)!==null&&t!==void 0?t:a.captionLayout;u!=="buttons"&&(!i||!l)&&(u="buttons");var d;(mg(r)||df(r)||ff(r))&&(d=r.onSelect);var f=ft(ft(ft({},a),r),{captionLayout:u,classNames:ft(ft({},a.classNames),r.classNames),components:ft({},r.components),formatters:ft(ft({},a.formatters),r.formatters),fromDate:i,labels:ft(ft({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:ft(ft({},a.modifiers),r.modifiers),modifiersClassNames:ft(ft({},a.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:ft(ft({},a.styles),r.styles),toDate:l});return n.jsx(x3.Provider,{value:f,children:e.children})}function Kt(){var e=x.useContext(x3);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function y3(e){var t=Kt(),r=t.locale,a=t.classNames,s=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:a.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function sde(e){return n.jsx("svg",ft({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function b3(e){var t,r,a=e.onChange,s=e.value,i=e.children,l=e.caption,u=e.className,d=e.style,f=Kt(),m=(r=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:sde;return n.jsxs("div",{className:u,style:d,children:[n.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:s,onChange:a,children:i}),n.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[l,n.jsx(m,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function ide(e){var t,r=Kt(),a=r.fromDate,s=r.toDate,i=r.styles,l=r.locale,u=r.formatters.formatMonthCaption,d=r.classNames,f=r.components,m=r.labels.labelMonthDropdown;if(!a)return n.jsx(n.Fragment,{});if(!s)return n.jsx(n.Fragment,{});var h=[];if(Lce(a,s))for(var g=Qr(a),j=a.getMonth();j<=s.getMonth();j++)h.push(Tj(g,j));else for(var g=Qr(new Date),j=0;j<=11;j++)h.push(Tj(g,j));var w=function(v){var N=Number(v.target.value),C=Tj(Qr(e.displayMonth),N);e.onChange(C)},b=(t=f?.Dropdown)!==null&&t!==void 0?t:b3;return n.jsx(b,{name:"months","aria-label":m(),className:d.dropdown_month,style:i.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:l}),children:h.map(function(v){return n.jsx("option",{value:v.getMonth(),children:u(v,{locale:l})},v.getMonth())})})}function ode(e){var t,r=e.displayMonth,a=Kt(),s=a.fromDate,i=a.toDate,l=a.locale,u=a.styles,d=a.classNames,f=a.components,m=a.formatters.formatYearCaption,h=a.labels.labelYearDropdown,g=[];if(!s)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var j=s.getFullYear(),w=i.getFullYear(),b=j;b<=w;b++)g.push(eO(i3(new Date),b));var v=function(C){var S=eO(Qr(r),Number(C.target.value));e.onChange(S)},N=(t=f?.Dropdown)!==null&&t!==void 0?t:b3;return n.jsx(N,{name:"years","aria-label":h(),className:d.dropdown_year,style:u.dropdown_year,onChange:v,value:r.getFullYear(),caption:m(r,{locale:l}),children:g.map(function(C){return n.jsx("option",{value:C.getFullYear(),children:m(C,{locale:l})},C.getFullYear())})})}function lde(e,t){var r=x.useState(e),a=r[0],s=r[1],i=t===void 0?a:t;return[i,s]}function cde(e){var t=e.month,r=e.defaultMonth,a=e.today,s=t||r||a||new Date,i=e.toDate,l=e.fromDate,u=e.numberOfMonths,d=u===void 0?1:u;if(i&&qd(i,s)<0){var f=-1*(d-1);s=bn(i,f)}return l&&qd(s,l)<0&&(s=l),Qr(s)}function ude(){var e=Kt(),t=cde(e),r=lde(t,e.month),a=r[0],s=r[1],i=function(l){var u;if(!e.disableNavigation){var d=Qr(l);s(d),(u=e.onMonthChange)===null||u===void 0||u.call(e,d)}};return[a,i]}function dde(e,t){for(var r=t.reverseMonths,a=t.numberOfMonths,s=Qr(e),i=Qr(bn(s,a)),l=qd(i,s),u=[],d=0;d<l;d++){var f=bn(s,d);u.push(f)}return r&&(u=u.reverse()),u}function fde(e,t){if(!t.disableNavigation){var r=t.toDate,a=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,l=a?i:1,u=Qr(e);if(!r)return bn(u,l);var d=qd(r,e);if(!(d<i))return bn(u,l)}}function hde(e,t){if(!t.disableNavigation){var r=t.fromDate,a=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,l=a?i:1,u=Qr(e);if(!r)return bn(u,-l);var d=qd(u,r);if(!(d<=0))return bn(u,-l)}}var j3=x.createContext(void 0);function mde(e){var t=Kt(),r=ude(),a=r[0],s=r[1],i=dde(a,t),l=fde(a,t),u=hde(a,t),d=function(h){return i.some(function(g){return hS(h,g)})},f=function(h,g){d(h)||(g&&m3(h,g)?s(bn(h,1+t.numberOfMonths*-1)):s(h))},m={currentMonth:a,displayMonths:i,goToMonth:s,goToDate:f,previousMonth:u,nextMonth:l,isDateDisplayed:d};return n.jsx(j3.Provider,{value:m,children:e.children})}function hf(){var e=x.useContext(j3);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function nO(e){var t,r=Kt(),a=r.classNames,s=r.styles,i=r.components,l=hf().goToMonth,u=function(m){l(bn(m,e.displayIndex?-e.displayIndex:0))},d=(t=i?.CaptionLabel)!==null&&t!==void 0?t:y3,f=n.jsx(d,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:a.caption_dropdowns,style:s.caption_dropdowns,children:[n.jsx("div",{className:a.vhidden,children:f}),n.jsx(ide,{onChange:u,displayMonth:e.displayMonth}),n.jsx(ode,{onChange:u,displayMonth:e.displayMonth})]})}function pde(e){return n.jsx("svg",ft({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gde(e){return n.jsx("svg",ft({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var sp=x.forwardRef(function(e,t){var r=Kt(),a=r.classNames,s=r.styles,i=[a.button_reset,a.button];e.className&&i.push(e.className);var l=i.join(" "),u=ft(ft({},s.button_reset),s.button);return e.style&&Object.assign(u,e.style),n.jsx("button",ft({},e,{ref:t,type:"button",className:l,style:u}))});function vde(e){var t,r,a=Kt(),s=a.dir,i=a.locale,l=a.classNames,u=a.styles,d=a.labels,f=d.labelPrevious,m=d.labelNext,h=a.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var g=f(e.previousMonth,{locale:i}),j=[l.nav_button,l.nav_button_previous].join(" "),w=m(e.nextMonth,{locale:i}),b=[l.nav_button,l.nav_button_next].join(" "),v=(t=h?.IconRight)!==null&&t!==void 0?t:gde,N=(r=h?.IconLeft)!==null&&r!==void 0?r:pde;return n.jsxs("div",{className:l.nav,style:u.nav,children:[!e.hidePrevious&&n.jsx(sp,{name:"previous-month","aria-label":g,className:j,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?n.jsx(v,{className:l.nav_icon,style:u.nav_icon}):n.jsx(N,{className:l.nav_icon,style:u.nav_icon})}),!e.hideNext&&n.jsx(sp,{name:"next-month","aria-label":w,className:b,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?n.jsx(N,{className:l.nav_icon,style:u.nav_icon}):n.jsx(v,{className:l.nav_icon,style:u.nav_icon})})]})}function aO(e){var t=Kt().numberOfMonths,r=hf(),a=r.previousMonth,s=r.nextMonth,i=r.goToMonth,l=r.displayMonths,u=l.findIndex(function(w){return hS(e.displayMonth,w)}),d=u===0,f=u===l.length-1,m=t>1&&(d||!f),h=t>1&&(f||!d),g=function(){a&&i(a)},j=function(){s&&i(s)};return n.jsx(vde,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:h,nextMonth:s,previousMonth:a,onPreviousClick:g,onNextClick:j})}function xde(e){var t,r=Kt(),a=r.classNames,s=r.disableNavigation,i=r.styles,l=r.captionLayout,u=r.components,d=(t=u?.CaptionLabel)!==null&&t!==void 0?t:y3,f;return s?f=n.jsx(d,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?f=n.jsx(nO,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?f=n.jsxs(n.Fragment,{children:[n.jsx(nO,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(aO,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=n.jsxs(n.Fragment,{children:[n.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(aO,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:a.caption,style:i.caption,children:f})}function yde(e){var t=Kt(),r=t.footer,a=t.styles,s=t.classNames.tfoot;return r?n.jsx("tfoot",{className:s,style:a.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function bde(e,t,r){for(var a=r?Fo(new Date):ea(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var l=or(a,i);s.push(l)}return s}function jde(){var e=Kt(),t=e.classNames,r=e.styles,a=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,l=e.ISOWeek,u=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,f=bde(s,i,l);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[a&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),f.map(function(m,h){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(m,{locale:s}),children:u(m,{locale:s})},h)})]})}function wde(){var e,t=Kt(),r=t.classNames,a=t.styles,s=t.components,i=(e=s?.HeadRow)!==null&&e!==void 0?e:jde;return n.jsx("thead",{style:a.head,className:r.head,children:n.jsx(i,{})})}function Nde(e){var t=Kt(),r=t.locale,a=t.formatters.formatDay;return n.jsx(n.Fragment,{children:a(e.date,{locale:r})})}var pS=x.createContext(void 0);function Sde(e){if(!df(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(pS.Provider,{value:t,children:e.children})}return n.jsx(_de,{initialProps:e.initialProps,children:e.children})}function _de(e){var t=e.initialProps,r=e.children,a=t.selected,s=t.min,i=t.max,l=function(f,m,h){var g,j;(g=t.onDayClick)===null||g===void 0||g.call(t,f,m,h);var w=!!(m.selected&&s&&a?.length===s);if(!w){var b=!!(!m.selected&&i&&a?.length===i);if(!b){var v=a?v3([],a):[];if(m.selected){var N=v.findIndex(function(C){return Xr(f,C)});v.splice(N,1)}else v.push(f);(j=t.onSelect)===null||j===void 0||j.call(t,v,f,m,h)}}},u={disabled:[]};a&&u.disabled.push(function(f){var m=i&&a.length>i-1,h=a.some(function(g){return Xr(g,f)});return!!(m&&!h)});var d={selected:a,onDayClick:l,modifiers:u};return n.jsx(pS.Provider,{value:d,children:r})}function gS(){var e=x.useContext(pS);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Cde(e,t){var r=t||{},a=r.from,s=r.to;return a&&s?Xr(s,e)&&Xr(a,e)?void 0:Xr(s,e)?{from:s,to:void 0}:Xr(a,e)?void 0:Es(a,e)?{from:e,to:s}:{from:a,to:e}:s?Es(e,s)?{from:s,to:e}:{from:e,to:s}:a?m3(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var vS=x.createContext(void 0);function Ede(e){if(!ff(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(vS.Provider,{value:t,children:e.children})}return n.jsx(Tde,{initialProps:e.initialProps,children:e.children})}function Tde(e){var t=e.initialProps,r=e.children,a=t.selected,s=a||{},i=s.from,l=s.to,u=t.min,d=t.max,f=function(j,w,b){var v,N;(v=t.onDayClick)===null||v===void 0||v.call(t,j,w,b);var C=Cde(j,a);(N=t.onSelect)===null||N===void 0||N.call(t,C,j,w,b)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(m.range_start=[i],l?(m.range_end=[l],Xr(i,l)||(m.range_middle=[{after:i,before:l}])):m.range_end=[i]):l&&(m.range_start=[l],m.range_end=[l]),u&&(i&&!l&&m.disabled.push({after:Cj(i,u-1),before:or(i,u-1)}),i&&l&&m.disabled.push({after:i,before:or(i,u-1)}),!i&&l&&m.disabled.push({after:Cj(l,u-1),before:or(l,u-1)})),d){if(i&&!l&&(m.disabled.push({before:or(i,-d+1)}),m.disabled.push({after:or(i,d-1)})),i&&l){var h=rs(l,i)+1,g=d-h;m.disabled.push({before:Cj(i,g)}),m.disabled.push({after:or(l,g)})}!i&&l&&(m.disabled.push({before:or(l,-d+1)}),m.disabled.push({after:or(l,d-1)}))}return n.jsx(vS.Provider,{value:{selected:a,onDayClick:f,modifiers:m},children:r})}function xS(){var e=x.useContext(vS);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Zh(e){return Array.isArray(e)?v3([],e):e!==void 0?[e]:[]}function Ade(e){var t={};return Object.entries(e).forEach(function(r){var a=r[0],s=r[1];t[a]=Zh(s)}),t}var $a;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})($a||($a={}));var Pde=$a.Selected,Cs=$a.Disabled,Rde=$a.Hidden,kde=$a.Today,Aj=$a.RangeEnd,Pj=$a.RangeMiddle,Rj=$a.RangeStart,Ide=$a.Outside;function Ode(e,t,r){var a,s=(a={},a[Pde]=Zh(e.selected),a[Cs]=Zh(e.disabled),a[Rde]=Zh(e.hidden),a[kde]=[e.today],a[Aj]=[],a[Pj]=[],a[Rj]=[],a[Ide]=[],a);return e.fromDate&&s[Cs].push({before:e.fromDate}),e.toDate&&s[Cs].push({after:e.toDate}),df(e)?s[Cs]=s[Cs].concat(t.modifiers[Cs]):ff(e)&&(s[Cs]=s[Cs].concat(r.modifiers[Cs]),s[Rj]=r.modifiers[Rj],s[Pj]=r.modifiers[Pj],s[Aj]=r.modifiers[Aj]),s}var w3=x.createContext(void 0);function Dde(e){var t=Kt(),r=gS(),a=xS(),s=Ode(t,r,a),i=Ade(t.modifiers),l=ft(ft({},s),i);return n.jsx(w3.Provider,{value:l,children:e.children})}function N3(){var e=x.useContext(w3);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Mde(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function $de(e){return!!(e&&typeof e=="object"&&"from"in e)}function Lde(e){return!!(e&&typeof e=="object"&&"after"in e)}function Fde(e){return!!(e&&typeof e=="object"&&"before"in e)}function Ude(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Bde(e,t){var r,a=t.from,s=t.to;if(a&&s){var i=rs(s,a)<0;i&&(r=[s,a],a=r[0],s=r[1]);var l=rs(e,a)>=0&&rs(s,e)>=0;return l}return s?Xr(s,e):a?Xr(a,e):!1}function zde(e){return uS(e)}function qde(e){return Array.isArray(e)&&e.every(uS)}function Wde(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(zde(r))return Xr(e,r);if(qde(r))return r.includes(e);if($de(r))return Bde(e,r);if(Ude(r))return r.dayOfWeek.includes(e.getDay());if(Mde(r)){var a=rs(r.before,e),s=rs(r.after,e),i=a>0,l=s<0,u=Es(r.before,r.after);return u?l&&i:i||l}return Lde(r)?rs(e,r.after)>0:Fde(r)?rs(r.before,e)>0:typeof r=="function"?r(e):!1})}function yS(e,t,r){var a=Object.keys(t).reduce(function(i,l){var u=t[l];return Wde(e,u)&&i.push(l),i},[]),s={};return a.forEach(function(i){return s[i]=!0}),r&&!hS(e,r)&&(s.outside=!0),s}function Vde(e,t){for(var r=Qr(e[0]),a=dS(e[e.length-1]),s,i,l=r;l<=a;){var u=yS(l,t),d=!u.disabled&&!u.hidden;if(!d){l=or(l,1);continue}if(u.selected)return l;u.today&&!i&&(i=l),s||(s=l),l=or(l,1)}return i||s}var Hde=365;function S3(e,t){var r=t.moveBy,a=t.direction,s=t.context,i=t.modifiers,l=t.retry,u=l===void 0?{count:0,lastFocused:e}:l,d=s.weekStartsOn,f=s.fromDate,m=s.toDate,h=s.locale,g={day:or,week:T1,month:bn,year:Dle,startOfWeek:function(v){return s.ISOWeek?Fo(v):ea(v,{locale:h,weekStartsOn:d})},endOfWeek:function(v){return s.ISOWeek?o3(v):fS(v,{locale:h,weekStartsOn:d})}},j=g[r](e,a==="after"?1:-1);a==="before"&&f?j=Mle([f,j]):a==="after"&&m&&(j=$le([m,j]));var w=!0;if(i){var b=yS(j,i);w=!b.disabled&&!b.hidden}return w?j:u.count>Hde?u.lastFocused:S3(j,{moveBy:r,direction:a,context:s,modifiers:i,retry:ft(ft({},u),{count:u.count+1})})}var _3=x.createContext(void 0);function Gde(e){var t=hf(),r=N3(),a=x.useState(),s=a[0],i=a[1],l=x.useState(),u=l[0],d=l[1],f=Vde(t.displayMonths,r),m=s??(u&&t.isDateDisplayed(u))?u:f,h=function(){d(s),i(void 0)},g=function(v){i(v)},j=Kt(),w=function(v,N){if(s){var C=S3(s,{moveBy:v,direction:N,context:j,modifiers:r});Xr(s,C)||(t.goToDate(C,s),g(C))}},b={focusedDay:s,focusTarget:m,blur:h,focus:g,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return n.jsx(_3.Provider,{value:b,children:e.children})}function bS(){var e=x.useContext(_3);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Kde(e,t){var r=N3(),a=yS(e,r,t);return a}var jS=x.createContext(void 0);function Yde(e){if(!mg(e.initialProps)){var t={selected:void 0};return n.jsx(jS.Provider,{value:t,children:e.children})}return n.jsx(Xde,{initialProps:e.initialProps,children:e.children})}function Xde(e){var t=e.initialProps,r=e.children,a=function(i,l,u){var d,f,m;if((d=t.onDayClick)===null||d===void 0||d.call(t,i,l,u),l.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,i,l,u);return}(m=t.onSelect)===null||m===void 0||m.call(t,i,i,l,u)},s={selected:t.selected,onDayClick:a};return n.jsx(jS.Provider,{value:s,children:r})}function C3(){var e=x.useContext(jS);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Qde(e,t){var r=Kt(),a=C3(),s=gS(),i=xS(),l=bS(),u=l.focusDayAfter,d=l.focusDayBefore,f=l.focusWeekAfter,m=l.focusWeekBefore,h=l.blur,g=l.focus,j=l.focusMonthBefore,w=l.focusMonthAfter,b=l.focusYearBefore,v=l.focusYearAfter,N=l.focusStartOfWeek,C=l.focusEndOfWeek,S=function(I){var O,H,V,q;mg(r)?(O=a.onDayClick)===null||O===void 0||O.call(a,e,t,I):df(r)?(H=s.onDayClick)===null||H===void 0||H.call(s,e,t,I):ff(r)?(V=i.onDayClick)===null||V===void 0||V.call(i,e,t,I):(q=r.onDayClick)===null||q===void 0||q.call(r,e,t,I)},A=function(I){var O;g(e),(O=r.onDayFocus)===null||O===void 0||O.call(r,e,t,I)},_=function(I){var O;h(),(O=r.onDayBlur)===null||O===void 0||O.call(r,e,t,I)},T=function(I){var O;(O=r.onDayMouseEnter)===null||O===void 0||O.call(r,e,t,I)},R=function(I){var O;(O=r.onDayMouseLeave)===null||O===void 0||O.call(r,e,t,I)},D=function(I){var O;(O=r.onDayPointerEnter)===null||O===void 0||O.call(r,e,t,I)},k=function(I){var O;(O=r.onDayPointerLeave)===null||O===void 0||O.call(r,e,t,I)},B=function(I){var O;(O=r.onDayTouchCancel)===null||O===void 0||O.call(r,e,t,I)},z=function(I){var O;(O=r.onDayTouchEnd)===null||O===void 0||O.call(r,e,t,I)},G=function(I){var O;(O=r.onDayTouchMove)===null||O===void 0||O.call(r,e,t,I)},W=function(I){var O;(O=r.onDayTouchStart)===null||O===void 0||O.call(r,e,t,I)},Z=function(I){var O;(O=r.onDayKeyUp)===null||O===void 0||O.call(r,e,t,I)},$=function(I){var O;switch(I.key){case"ArrowLeft":I.preventDefault(),I.stopPropagation(),r.dir==="rtl"?u():d();break;case"ArrowRight":I.preventDefault(),I.stopPropagation(),r.dir==="rtl"?d():u();break;case"ArrowDown":I.preventDefault(),I.stopPropagation(),f();break;case"ArrowUp":I.preventDefault(),I.stopPropagation(),m();break;case"PageUp":I.preventDefault(),I.stopPropagation(),I.shiftKey?b():j();break;case"PageDown":I.preventDefault(),I.stopPropagation(),I.shiftKey?v():w();break;case"Home":I.preventDefault(),I.stopPropagation(),N();break;case"End":I.preventDefault(),I.stopPropagation(),C();break}(O=r.onDayKeyDown)===null||O===void 0||O.call(r,e,t,I)},M={onClick:S,onFocus:A,onBlur:_,onKeyDown:$,onKeyUp:Z,onMouseEnter:T,onMouseLeave:R,onPointerEnter:D,onPointerLeave:k,onTouchCancel:B,onTouchEnd:z,onTouchMove:G,onTouchStart:W};return M}function Zde(){var e=Kt(),t=C3(),r=gS(),a=xS(),s=mg(e)?t.selected:df(e)?r.selected:ff(e)?a.selected:void 0;return s}function Jde(e){return Object.values($a).includes(e)}function efe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(a){var s=e.modifiersClassNames[a];if(s)r.push(s);else if(Jde(a)){var i=e.classNames["day_".concat(a)];i&&r.push(i)}}),r}function tfe(e,t){var r=ft({},e.styles.day);return Object.keys(t).forEach(function(a){var s;r=ft(ft({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[a])}),r}function rfe(e,t,r){var a,s,i,l=Kt(),u=bS(),d=Kde(e,t),f=Qde(e,d),m=Zde(),h=!!(l.onDayClick||l.mode!=="default");x.useEffect(function(){var T;d.outside||u.focusedDay&&h&&Xr(u.focusedDay,e)&&((T=r.current)===null||T===void 0||T.focus())},[u.focusedDay,e,r,h,d.outside]);var g=efe(l,d).join(" "),j=tfe(l,d),w=!!(d.outside&&!l.showOutsideDays||d.hidden),b=(i=(s=l.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Nde,v=n.jsx(b,{date:e,displayMonth:t,activeModifiers:d}),N={style:j,className:g,children:v,role:"gridcell"},C=u.focusTarget&&Xr(u.focusTarget,e)&&!d.outside,S=u.focusedDay&&Xr(u.focusedDay,e),A=ft(ft(ft({},N),(a={disabled:d.disabled,role:"gridcell"},a["aria-selected"]=d.selected,a.tabIndex=S||C?0:-1,a)),f),_={isButton:h,isHidden:w,activeModifiers:d,selectedDays:m,buttonProps:A,divProps:N};return _}function nfe(e){var t=x.useRef(null),r=rfe(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(sp,ft({name:"day",ref:t},r.buttonProps)):n.jsx("div",ft({},r.divProps))}function afe(e){var t=e.number,r=e.dates,a=Kt(),s=a.onWeekNumberClick,i=a.styles,l=a.classNames,u=a.locale,d=a.labels.labelWeekNumber,f=a.formatters.formatWeekNumber,m=f(Number(t),{locale:u});if(!s)return n.jsx("span",{className:l.weeknumber,style:i.weeknumber,children:m});var h=d(Number(t),{locale:u}),g=function(j){s(t,r,j)};return n.jsx(sp,{name:"week-number","aria-label":h,className:l.weeknumber,style:i.weeknumber,onClick:g,children:m})}function sfe(e){var t,r,a=Kt(),s=a.styles,i=a.classNames,l=a.showWeekNumber,u=a.components,d=(t=u?.Day)!==null&&t!==void 0?t:nfe,f=(r=u?.WeekNumber)!==null&&r!==void 0?r:afe,m;return l&&(m=n.jsx("td",{className:i.cell,style:s.cell,children:n.jsx(f,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:s.row,children:[m,e.dates.map(function(h){return n.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:n.jsx(d,{displayMonth:e.displayMonth,date:h})},Dce(h))})]})}function sO(e,t,r){for(var a=r?.ISOWeek?o3(t):fS(t,r),s=r?.ISOWeek?Fo(e):ea(e,r),i=rs(a,s),l=[],u=0;u<=i;u++)l.push(or(s,u));var d=l.reduce(function(f,m){var h=r?.ISOWeek?u3(m):f3(m,r),g=f.find(function(j){return j.weekNumber===h});return g?(g.dates.push(m),f):(f.push({weekNumber:h,dates:[m]}),f)},[]);return d}function ife(e,t){var r=sO(Qr(e),dS(e),t);if(t?.useFixedWeeks){var a=$ce(e,t);if(a<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],l=T1(i,6-a),u=sO(T1(i,1),l,t);r.push.apply(r,u)}}return r}function ofe(e){var t,r,a,s=Kt(),i=s.locale,l=s.classNames,u=s.styles,d=s.hideHead,f=s.fixedWeeks,m=s.components,h=s.weekStartsOn,g=s.firstWeekContainsDate,j=s.ISOWeek,w=ife(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:j,locale:i,weekStartsOn:h,firstWeekContainsDate:g}),b=(t=m?.Head)!==null&&t!==void 0?t:wde,v=(r=m?.Row)!==null&&r!==void 0?r:sfe,N=(a=m?.Footer)!==null&&a!==void 0?a:yde;return n.jsxs("table",{id:e.id,className:l.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&n.jsx(b,{}),n.jsx("tbody",{className:l.tbody,style:u.tbody,children:w.map(function(C){return n.jsx(v,{displayMonth:e.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),n.jsx(N,{displayMonth:e.displayMonth})]})}function lfe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var cfe=lfe()?x.useLayoutEffect:x.useEffect,kj=!1,ufe=0;function iO(){return"react-day-picker-".concat(++ufe)}function dfe(e){var t,r=e??(kj?iO():null),a=x.useState(r),s=a[0],i=a[1];return cfe(function(){s===null&&i(iO())},[]),x.useEffect(function(){kj===!1&&(kj=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function ffe(e){var t,r,a=Kt(),s=a.dir,i=a.classNames,l=a.styles,u=a.components,d=hf().displayMonths,f=dfe(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),m=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],g=l.month,j=e.displayIndex===0,w=e.displayIndex===d.length-1,b=!j&&!w;s==="rtl"&&(t=[j,w],w=t[0],j=t[1]),j&&(h.push(i.caption_start),g=ft(ft({},g),l.caption_start)),w&&(h.push(i.caption_end),g=ft(ft({},g),l.caption_end)),b&&(h.push(i.caption_between),g=ft(ft({},g),l.caption_between));var v=(r=u?.Caption)!==null&&r!==void 0?r:xde;return n.jsxs("div",{className:h.join(" "),style:g,children:[n.jsx(v,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(ofe,{id:m,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function hfe(e){var t=Kt(),r=t.classNames,a=t.styles;return n.jsx("div",{className:r.months,style:a.months,children:e.children})}function mfe(e){var t,r,a=e.initialProps,s=Kt(),i=bS(),l=hf(),u=x.useState(!1),d=u[0],f=u[1];x.useEffect(function(){s.initialFocus&&i.focusTarget&&(d||(i.focus(i.focusTarget),f(!0)))},[s.initialFocus,d,i.focus,i.focusTarget,i]);var m=[s.classNames.root,s.className];s.numberOfMonths>1&&m.push(s.classNames.multiple_months),s.showWeekNumber&&m.push(s.classNames.with_weeknumber);var h=ft(ft({},s.styles.root),s.style),g=Object.keys(a).filter(function(w){return w.startsWith("data-")}).reduce(function(w,b){var v;return ft(ft({},w),(v={},v[b]=a[b],v))},{}),j=(r=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:hfe;return n.jsx("div",ft({className:m.join(" "),style:h,dir:s.dir,id:s.id,nonce:a.nonce,title:a.title,lang:a.lang},g,{children:n.jsx(j,{children:l.displayMonths.map(function(w,b){return n.jsx(ffe,{displayIndex:b,displayMonth:w},b)})})}))}function pfe(e){var t=e.children,r=Fue(e,["children"]);return n.jsx(ade,{initialProps:r,children:n.jsx(mde,{children:n.jsx(Yde,{initialProps:r,children:n.jsx(Sde,{initialProps:r,children:n.jsx(Ede,{initialProps:r,children:n.jsx(Dde,{children:n.jsx(Gde,{children:t})})})})})})})}function gfe(e){return n.jsx(pfe,ft({},e,{children:n.jsx(mfe,{initialProps:e})}))}function xo({className:e,classNames:t,showOutsideDays:r=!0,...a}){return n.jsx(gfe,{showOutsideDays:r,className:We("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:We(Zu({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:We("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",a.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:We(Zu({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:s,...i})=>n.jsx(xB,{className:We("size-4",s),...i}),IconRight:({className:s,...i})=>n.jsx(Wj,{className:We("size-4",s),...i})},...a})}var pg="Popover",[E3,ppe]=On(pg,[Bi]),mf=Bi(),[vfe,Xi]=E3(pg),T3=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:l=!1}=e,u=mf(t),d=x.useRef(null),[f,m]=x.useState(!1),[h,g]=os({prop:a,defaultProp:s??!1,onChange:i,caller:pg});return n.jsx(vp,{...u,children:n.jsx(vfe,{scope:t,contentId:zr(),triggerRef:d,open:h,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(j=>!j),[g]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>m(!0),[]),onCustomAnchorRemove:x.useCallback(()=>m(!1),[]),modal:l,children:r})})};T3.displayName=pg;var A3="PopoverAnchor",xfe=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=Xi(A3,r),i=mf(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=s;return x.useEffect(()=>(l(),()=>u()),[l,u]),n.jsx(Yd,{...i,...a,ref:t})});xfe.displayName=A3;var P3="PopoverTrigger",R3=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=Xi(P3,r),i=mf(r),l=Nt(t,s.triggerRef),u=n.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":M3(s.open),...a,ref:l,onClick:Be(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:n.jsx(Yd,{asChild:!0,...i,children:u})});R3.displayName=P3;var wS="PopoverPortal",[yfe,bfe]=E3(wS,{forceMount:void 0}),k3=e=>{const{__scopePopover:t,forceMount:r,children:a,container:s}=e,i=Xi(wS,t);return n.jsx(yfe,{scope:t,forceMount:r,children:n.jsx(Dn,{present:r||i.open,children:n.jsx(_c,{asChild:!0,container:s,children:a})})})};k3.displayName=wS;var xc="PopoverContent",I3=x.forwardRef((e,t)=>{const r=bfe(xc,e.__scopePopover),{forceMount:a=r.forceMount,...s}=e,i=Xi(xc,e.__scopePopover);return n.jsx(Dn,{present:a||i.open,children:i.modal?n.jsx(wfe,{...s,ref:t}):n.jsx(Nfe,{...s,ref:t})})});I3.displayName=xc;var jfe=Ii("PopoverContent.RemoveScroll"),wfe=x.forwardRef((e,t)=>{const r=Xi(xc,e.__scopePopover),a=x.useRef(null),s=Nt(t,a),i=x.useRef(!1);return x.useEffect(()=>{const l=a.current;if(l)return jp(l)},[]),n.jsx(Qd,{as:jfe,allowPinchZoom:!0,children:n.jsx(O3,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Be(e.onCloseAutoFocus,l=>{l.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Be(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Be(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Nfe=x.forwardRef((e,t)=>{const r=Xi(xc,e.__scopePopover),a=x.useRef(!1),s=x.useRef(!1);return n.jsx(O3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||r.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),O3=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...h}=e,g=Xi(xc,r),j=mf(r);return fp(),n.jsx(Gd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(wc,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:n.jsx(xp,{"data-state":M3(g.open),role:"dialog",id:g.contentId,...j,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),D3="PopoverClose",Sfe=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=Xi(D3,r);return n.jsx(it.button,{type:"button",...a,ref:t,onClick:Be(e.onClick,()=>s.onOpenChange(!1))})});Sfe.displayName=D3;var _fe="PopoverArrow",Cfe=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=mf(r);return n.jsx(yp,{...s,...a,ref:t})});Cfe.displayName=_fe;function M3(e){return e?"open":"closed"}var Efe=T3,Tfe=R3,Afe=k3,Pfe=I3;function mn({...e}){return n.jsx(Efe,{"data-slot":"popover",...e})}function pn({...e}){return n.jsx(Tfe,{"data-slot":"popover-trigger",...e})}function gn({className:e,align:t="center",sideOffset:r=4,...a}){return n.jsx(Afe,{children:n.jsx(Pfe,{"data-slot":"popover-content",align:t,sideOffset:r,className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...a})})}var gg="Dialog",[$3,L3]=On(gg),[Rfe,Ua]=$3(gg),F3=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,u=x.useRef(null),d=x.useRef(null),[f,m]=os({prop:a,defaultProp:s??!1,onChange:i,caller:gg});return n.jsx(Rfe,{scope:t,triggerRef:u,contentRef:d,contentId:zr(),titleId:zr(),descriptionId:zr(),open:f,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(h=>!h),[m]),modal:l,children:r})};F3.displayName=gg;var U3="DialogTrigger",B3=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ua(U3,r),i=Nt(t,s.triggerRef);return n.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_S(s.open),...a,ref:i,onClick:Be(e.onClick,s.onOpenToggle)})});B3.displayName=U3;var NS="DialogPortal",[kfe,z3]=$3(NS,{forceMount:void 0}),q3=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:s}=e,i=Ua(NS,t);return n.jsx(kfe,{scope:t,forceMount:r,children:x.Children.map(a,l=>n.jsx(Dn,{present:r||i.open,children:n.jsx(_c,{asChild:!0,container:s,children:l})}))})};q3.displayName=NS;var ip="DialogOverlay",W3=x.forwardRef((e,t)=>{const r=z3(ip,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=Ua(ip,e.__scopeDialog);return i.modal?n.jsx(Dn,{present:a||i.open,children:n.jsx(Ofe,{...s,ref:t})}):null});W3.displayName=ip;var Ife=Ii("DialogOverlay.RemoveScroll"),Ofe=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ua(ip,r);return n.jsx(Qd,{as:Ife,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(it.div,{"data-state":_S(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Uo="DialogContent",V3=x.forwardRef((e,t)=>{const r=z3(Uo,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=Ua(Uo,e.__scopeDialog);return n.jsx(Dn,{present:a||i.open,children:i.modal?n.jsx(Dfe,{...s,ref:t}):n.jsx(Mfe,{...s,ref:t})})});V3.displayName=Uo;var Dfe=x.forwardRef((e,t)=>{const r=Ua(Uo,e.__scopeDialog),a=x.useRef(null),s=Nt(t,r.contentRef,a);return x.useEffect(()=>{const i=a.current;if(i)return jp(i)},[]),n.jsx(H3,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Be(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Be(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Be(e.onFocusOutside,i=>i.preventDefault())})}),Mfe=x.forwardRef((e,t)=>{const r=Ua(Uo,e.__scopeDialog),a=x.useRef(!1),s=x.useRef(!1);return n.jsx(H3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||r.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),H3=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=e,u=Ua(Uo,r),d=x.useRef(null),f=Nt(t,d);return fp(),n.jsxs(n.Fragment,{children:[n.jsx(Gd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(wc,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":_S(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Lfe,{titleId:u.titleId}),n.jsx(Ufe,{contentRef:d,descriptionId:u.descriptionId})]})]})}),SS="DialogTitle",G3=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ua(SS,r);return n.jsx(it.h2,{id:s.titleId,...a,ref:t})});G3.displayName=SS;var K3="DialogDescription",Y3=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ua(K3,r);return n.jsx(it.p,{id:s.descriptionId,...a,ref:t})});Y3.displayName=K3;var X3="DialogClose",Q3=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ua(X3,r);return n.jsx(it.button,{type:"button",...a,ref:t,onClick:Be(e.onClick,()=>s.onOpenChange(!1))})});Q3.displayName=X3;function _S(e){return e?"open":"closed"}var Z3="DialogTitleWarning",[$fe,J3]=M6(Z3,{contentName:Uo,titleName:SS,docsSlug:"dialog"}),Lfe=({titleId:e})=>{const t=J3(Z3),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Ffe="DialogDescriptionWarning",Ufe=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${J3(Ffe).contentName}}.`;return x.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},CS=F3,e5=B3,ES=q3,vg=W3,xg=V3,t5=G3,r5=Y3,TS=Q3;function Ut({...e}){return n.jsx(CS,{"data-slot":"dialog",...e})}function La({...e}){return n.jsx(e5,{"data-slot":"dialog-trigger",...e})}function Bfe({...e}){return n.jsx(ES,{"data-slot":"dialog-portal",...e})}const n5=x.forwardRef(({className:e,...t},r)=>n.jsx(vg,{ref:r,"data-slot":"dialog-overlay",className:We("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));n5.displayName=vg.displayName;const $t=x.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(Bfe,{children:[n.jsx(n5,{}),n.jsxs(xg,{ref:a,"data-slot":"dialog-content",className:We("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n.jsxs(TS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[n.jsx(up,{}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$t.displayName=xg.displayName;function Bt({className:e,...t}){return n.jsx("div",{"data-slot":"dialog-header",className:We("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Ml({className:e,...t}){return n.jsx("div",{"data-slot":"dialog-footer",className:We("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function zt({className:e,...t}){return n.jsx(t5,{"data-slot":"dialog-title",className:We("text-lg leading-none font-semibold",e),...t})}function Wt({className:e,...t}){return n.jsx(r5,{"data-slot":"dialog-description",className:We("text-muted-foreground text-sm",e),...t})}var oO=1,zfe=.9,qfe=.8,Wfe=.17,Ij=.1,Oj=.999,Vfe=.9999,Hfe=.99,Gfe=/[\\\/_+.#"@\[\(\{&]/,Kfe=/[\\\/_+.#"@\[\(\{&]/g,Yfe=/[\s-]/,a5=/[\s-]/g;function A1(e,t,r,a,s,i,l){if(i===t.length)return s===e.length?oO:Hfe;var u=`${s},${i}`;if(l[u]!==void 0)return l[u];for(var d=a.charAt(i),f=r.indexOf(d,s),m=0,h,g,j,w;f>=0;)h=A1(e,t,r,a,f+1,i+1,l),h>m&&(f===s?h*=oO:Gfe.test(e.charAt(f-1))?(h*=qfe,j=e.slice(s,f-1).match(Kfe),j&&s>0&&(h*=Math.pow(Oj,j.length))):Yfe.test(e.charAt(f-1))?(h*=zfe,w=e.slice(s,f-1).match(a5),w&&s>0&&(h*=Math.pow(Oj,w.length))):(h*=Wfe,s>0&&(h*=Math.pow(Oj,f-s))),e.charAt(f)!==t.charAt(i)&&(h*=Vfe)),(h<Ij&&r.charAt(f-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&r.charAt(f-1)!==a.charAt(i))&&(g=A1(e,t,r,a,f+1,i+2,l),g*Ij>h&&(h=g*Ij)),h>m&&(m=h),f=r.indexOf(d,f+1);return l[u]=m,m}function lO(e){return e.toLowerCase().replace(a5," ")}function Xfe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,A1(e,t,lO(e),lO(t),0,0,{})}var Du='[cmdk-group=""]',Dj='[cmdk-group-items=""]',Qfe='[cmdk-group-heading=""]',s5='[cmdk-item=""]',cO=`${s5}:not([aria-disabled="true"])`,P1="cmdk-item-select",Pl="data-value",Zfe=(e,t,r)=>Xfe(e,t,r),i5=x.createContext(void 0),pf=()=>x.useContext(i5),o5=x.createContext(void 0),AS=()=>x.useContext(o5),l5=x.createContext(void 0),c5=x.forwardRef((e,t)=>{let r=Rl(()=>{var F,L;return{search:"",value:(L=(F=e.value)!=null?F:e.defaultValue)!=null?L:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Rl(()=>new Set),s=Rl(()=>new Map),i=Rl(()=>new Map),l=Rl(()=>new Set),u=u5(e),{label:d,children:f,value:m,onValueChange:h,filter:g,shouldFilter:j,loop:w,disablePointerSelection:b=!1,vimBindings:v=!0,...N}=e,C=zr(),S=zr(),A=zr(),_=x.useRef(null),T=che();Bo(()=>{if(m!==void 0){let F=m.trim();r.current.value=F,R.emit()}},[m]),Bo(()=>{T(6,W)},[]);let R=x.useMemo(()=>({subscribe:F=>(l.current.add(F),()=>l.current.delete(F)),snapshot:()=>r.current,setState:(F,L,Y)=>{var ee,ce,K,fe;if(!Object.is(r.current[F],L)){if(r.current[F]=L,F==="search")G(),B(),T(1,z);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let oe=document.getElementById(A);oe?oe.focus():(ee=document.getElementById(C))==null||ee.focus()}if(T(7,()=>{var oe;r.current.selectedItemId=(oe=Z())==null?void 0:oe.id,R.emit()}),Y||T(5,W),((ce=u.current)==null?void 0:ce.value)!==void 0){let oe=L??"";(fe=(K=u.current).onValueChange)==null||fe.call(K,oe);return}}R.emit()}},emit:()=>{l.current.forEach(F=>F())}}),[]),D=x.useMemo(()=>({value:(F,L,Y)=>{var ee;L!==((ee=i.current.get(F))==null?void 0:ee.value)&&(i.current.set(F,{value:L,keywords:Y}),r.current.filtered.items.set(F,k(L,Y)),T(2,()=>{B(),R.emit()}))},item:(F,L)=>(a.current.add(F),L&&(s.current.has(L)?s.current.get(L).add(F):s.current.set(L,new Set([F]))),T(3,()=>{G(),B(),r.current.value||z(),R.emit()}),()=>{i.current.delete(F),a.current.delete(F),r.current.filtered.items.delete(F);let Y=Z();T(4,()=>{G(),Y?.getAttribute("id")===F&&z(),R.emit()})}),group:F=>(s.current.has(F)||s.current.set(F,new Set),()=>{i.current.delete(F),s.current.delete(F)}),filter:()=>u.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:C,inputId:A,labelId:S,listInnerRef:_}),[]);function k(F,L){var Y,ee;let ce=(ee=(Y=u.current)==null?void 0:Y.filter)!=null?ee:Zfe;return F?ce(F,r.current.search,L):0}function B(){if(!r.current.search||u.current.shouldFilter===!1)return;let F=r.current.filtered.items,L=[];r.current.filtered.groups.forEach(ee=>{let ce=s.current.get(ee),K=0;ce.forEach(fe=>{let oe=F.get(fe);K=Math.max(oe,K)}),L.push([ee,K])});let Y=_.current;$().sort((ee,ce)=>{var K,fe;let oe=ee.getAttribute("id"),Ee=ce.getAttribute("id");return((K=F.get(Ee))!=null?K:0)-((fe=F.get(oe))!=null?fe:0)}).forEach(ee=>{let ce=ee.closest(Dj);ce?ce.appendChild(ee.parentElement===ce?ee:ee.closest(`${Dj} > *`)):Y.appendChild(ee.parentElement===Y?ee:ee.closest(`${Dj} > *`))}),L.sort((ee,ce)=>ce[1]-ee[1]).forEach(ee=>{var ce;let K=(ce=_.current)==null?void 0:ce.querySelector(`${Du}[${Pl}="${encodeURIComponent(ee[0])}"]`);K?.parentElement.appendChild(K)})}function z(){let F=$().find(Y=>Y.getAttribute("aria-disabled")!=="true"),L=F?.getAttribute(Pl);R.setState("value",L||void 0)}function G(){var F,L,Y,ee;if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let ce=0;for(let K of a.current){let fe=(L=(F=i.current.get(K))==null?void 0:F.value)!=null?L:"",oe=(ee=(Y=i.current.get(K))==null?void 0:Y.keywords)!=null?ee:[],Ee=k(fe,oe);r.current.filtered.items.set(K,Ee),Ee>0&&ce++}for(let[K,fe]of s.current)for(let oe of fe)if(r.current.filtered.items.get(oe)>0){r.current.filtered.groups.add(K);break}r.current.filtered.count=ce}function W(){var F,L,Y;let ee=Z();ee&&(((F=ee.parentElement)==null?void 0:F.firstChild)===ee&&((Y=(L=ee.closest(Du))==null?void 0:L.querySelector(Qfe))==null||Y.scrollIntoView({block:"nearest"})),ee.scrollIntoView({block:"nearest"}))}function Z(){var F;return(F=_.current)==null?void 0:F.querySelector(`${s5}[aria-selected="true"]`)}function $(){var F;return Array.from(((F=_.current)==null?void 0:F.querySelectorAll(cO))||[])}function M(F){let L=$()[F];L&&R.setState("value",L.getAttribute(Pl))}function I(F){var L;let Y=Z(),ee=$(),ce=ee.findIndex(fe=>fe===Y),K=ee[ce+F];(L=u.current)!=null&&L.loop&&(K=ce+F<0?ee[ee.length-1]:ce+F===ee.length?ee[0]:ee[ce+F]),K&&R.setState("value",K.getAttribute(Pl))}function O(F){let L=Z(),Y=L?.closest(Du),ee;for(;Y&&!ee;)Y=F>0?ohe(Y,Du):lhe(Y,Du),ee=Y?.querySelector(cO);ee?R.setState("value",ee.getAttribute(Pl)):I(F)}let H=()=>M($().length-1),V=F=>{F.preventDefault(),F.metaKey?H():F.altKey?O(1):I(1)},q=F=>{F.preventDefault(),F.metaKey?M(0):F.altKey?O(-1):I(-1)};return x.createElement(it.div,{ref:t,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:F=>{var L;(L=N.onKeyDown)==null||L.call(N,F);let Y=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||Y))switch(F.key){case"n":case"j":{v&&F.ctrlKey&&V(F);break}case"ArrowDown":{V(F);break}case"p":case"k":{v&&F.ctrlKey&&q(F);break}case"ArrowUp":{q(F);break}case"Home":{F.preventDefault(),M(0);break}case"End":{F.preventDefault(),H();break}case"Enter":{F.preventDefault();let ee=Z();if(ee){let ce=new Event(P1);ee.dispatchEvent(ce)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:D.inputId,id:D.labelId,style:dhe},d),yg(e,F=>x.createElement(o5.Provider,{value:R},x.createElement(i5.Provider,{value:D},F))))}),Jfe=x.forwardRef((e,t)=>{var r,a;let s=zr(),i=x.useRef(null),l=x.useContext(l5),u=pf(),d=u5(e),f=(a=(r=d.current)==null?void 0:r.forceMount)!=null?a:l?.forceMount;Bo(()=>{if(!f)return u.item(s,l?.id)},[f]);let m=d5(s,i,[e.value,e.children,i],e.keywords),h=AS(),g=Fi(T=>T.value&&T.value===m.current),j=Fi(T=>f||u.filter()===!1?!0:T.search?T.filtered.items.get(s)>0:!0);x.useEffect(()=>{let T=i.current;if(!(!T||e.disabled))return T.addEventListener(P1,w),()=>T.removeEventListener(P1,w)},[j,e.onSelect,e.disabled]);function w(){var T,R;b(),(R=(T=d.current).onSelect)==null||R.call(T,m.current)}function b(){h.setState("value",m.current,!0)}if(!j)return null;let{disabled:v,value:N,onSelect:C,forceMount:S,keywords:A,..._}=e;return x.createElement(it.div,{ref:$s(i,t),..._,id:s,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!g,"data-disabled":!!v,"data-selected":!!g,onPointerMove:v||u.getDisablePointerSelection()?void 0:b,onClick:v?void 0:w},e.children)}),ehe=x.forwardRef((e,t)=>{let{heading:r,children:a,forceMount:s,...i}=e,l=zr(),u=x.useRef(null),d=x.useRef(null),f=zr(),m=pf(),h=Fi(j=>s||m.filter()===!1?!0:j.search?j.filtered.groups.has(l):!0);Bo(()=>m.group(l),[]),d5(l,u,[e.value,e.heading,d]);let g=x.useMemo(()=>({id:l,forceMount:s}),[s]);return x.createElement(it.div,{ref:$s(u,t),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&x.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:f},r),yg(e,j=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?f:void 0},x.createElement(l5.Provider,{value:g},j))))}),the=x.forwardRef((e,t)=>{let{alwaysRender:r,...a}=e,s=x.useRef(null),i=Fi(l=>!l.search);return!r&&!i?null:x.createElement(it.div,{ref:$s(s,t),...a,"cmdk-separator":"",role:"separator"})}),rhe=x.forwardRef((e,t)=>{let{onValueChange:r,...a}=e,s=e.value!=null,i=AS(),l=Fi(f=>f.search),u=Fi(f=>f.selectedItemId),d=pf();return x.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),x.createElement(it.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:s?e.value:l,onChange:f=>{s||i.setState("search",f.target.value),r?.(f.target.value)}})}),nhe=x.forwardRef((e,t)=>{let{children:r,label:a="Suggestions",...s}=e,i=x.useRef(null),l=x.useRef(null),u=Fi(f=>f.selectedItemId),d=pf();return x.useEffect(()=>{if(l.current&&i.current){let f=l.current,m=i.current,h,g=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let j=f.offsetHeight;m.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return g.observe(f),()=>{cancelAnimationFrame(h),g.unobserve(f)}}},[]),x.createElement(it.div,{ref:$s(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":a,id:d.listId},yg(e,f=>x.createElement("div",{ref:$s(l,d.listInnerRef),"cmdk-list-sizer":""},f)))}),ahe=x.forwardRef((e,t)=>{let{open:r,onOpenChange:a,overlayClassName:s,contentClassName:i,container:l,...u}=e;return x.createElement(CS,{open:r,onOpenChange:a},x.createElement(ES,{container:l},x.createElement(vg,{"cmdk-overlay":"",className:s}),x.createElement(xg,{"aria-label":e.label,"cmdk-dialog":"",className:i},x.createElement(c5,{ref:t,...u}))))}),she=x.forwardRef((e,t)=>Fi(r=>r.filtered.count===0)?x.createElement(it.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),ihe=x.forwardRef((e,t)=>{let{progress:r,children:a,label:s="Loading...",...i}=e;return x.createElement(it.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},yg(e,l=>x.createElement("div",{"aria-hidden":!0},l)))}),Oc=Object.assign(c5,{List:nhe,Item:Jfe,Input:rhe,Group:ehe,Separator:the,Dialog:ahe,Empty:she,Loading:ihe});function ohe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function lhe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function u5(e){let t=x.useRef(e);return Bo(()=>{t.current=e}),t}var Bo=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Rl(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Fi(e){let t=AS(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function d5(e,t,r,a=[]){let s=x.useRef(),i=pf();return Bo(()=>{var l;let u=(()=>{var f;for(let m of r){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(f=m.current.textContent)==null?void 0:f.trim():s.current}})(),d=a.map(f=>f.trim());i.value(e,u,d),(l=t.current)==null||l.setAttribute(Pl,u),s.current=u}),s}var che=()=>{let[e,t]=x.useState(),r=Rl(()=>new Map);return Bo(()=>{r.current.forEach(a=>a()),r.current=new Map},[e]),(a,s)=>{r.current.set(a,s),t({})}};function uhe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function yg({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(uhe(t),{ref:t.ref},r(t.props.children)):r(t)}var dhe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function wi({className:e,...t}){return n.jsx(Oc,{"data-slot":"command",className:We("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function Ni({className:e,...t}){return n.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[n.jsx(xr,{className:"size-4 shrink-0 opacity-50"}),n.jsx(Oc.Input,{"data-slot":"command-input",className:We("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function Si({className:e,...t}){return n.jsx(Oc.List,{"data-slot":"command-list",className:We("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function _i({...e}){return n.jsx(Oc.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function Ts({className:e,...t}){return n.jsx(Oc.Group,{"data-slot":"command-group",className:We("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function Ei({className:e,...t}){return n.jsx(Oc.Item,{"data-slot":"command-item",className:We("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Qu(e){const[t,r]=x.useState([]),[a,s]=x.useState(!1),[i,l]=x.useState(null),u=Ps.getInstance(),d=x.useMemo(()=>u.getHandler(e),[u,e]),f=x.useCallback(async()=>{s(!0),l(null);try{const m=await d.getItems();r(m)}catch(m){console.error(`Failed to load ${e}:`,m),l(m instanceof Error?m.message:`Failed to load ${e}`)}finally{s(!1)}},[d,e]);return x.useEffect(()=>{f()},[f]),{items:t,loading:a,error:i,refetch:f}}function fhe({value:e,onValueChange:t,onCounterpartyAdd:r,filterByCategory:a,onCategoryChange:s,compact:i=!1}){const[l,u]=x.useState(!1),[d,f]=x.useState(""),{items:m,loading:h,error:g}=Qu("counterparties"),j=m.filter(N=>{const C=N.isActive,S=!a||N.category===a,A=!d||N.name?.toLowerCase().includes(d.toLowerCase())||N.binIin?.includes(d)||N.email&&N.email.toLowerCase().includes(d.toLowerCase())||N.region&&N.region.toLowerCase().includes(d.toLowerCase())||N.abbreviation?.toLowerCase().includes(d.toLowerCase());return C&&S&&A}),w=j.reduce((N,C)=>{const S=C.category;return N[S]||(N[S]=[]),N[S].push(C),N},{}),b=m.find(N=>N.id===e),v=N=>{switch(N){case" ":return"bg-green-100 text-green-800";case"":return"bg-blue-100 text-blue-800";case" ":return"bg-orange-100 text-orange-800";case"":return"bg-purple-100 text-purple-800";case"/":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"space-y-2",children:[!i&&n.jsxs(ae,{children:[" *",a&&n.jsx(je,{className:`ml-2 ${v(a)}`,children:a})]}),n.jsxs("div",{className:"flex gap-2 items-stretch",style:{alignItems:"stretch"},children:[n.jsx("div",{className:"flex-1",children:n.jsxs(tt,{value:a||"",onValueChange:N=>{s&&s(N)},children:[n.jsx(nt,{className:"h-12 min-h-12",style:{height:"48px",minHeight:"48px"},children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:" ",children:" "}),n.jsx(ye,{value:"",children:""}),n.jsx(ye,{value:" ",children:" "}),n.jsx(ye,{value:"",children:""}),n.jsx(ye,{value:"/",children:"/"})]})]})}),n.jsx("div",{className:"flex-1",children:n.jsxs(mn,{open:l,onOpenChange:N=>{u(N),N||f("")},children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between h-12 min-h-12",style:{height:"48px",minHeight:"48px"},children:[b?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(is,{className:"h-4 w-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:b.name})]}):n.jsx("span",{className:"text-muted-foreground",children:a?`  (${a})...`:" ..."}),n.jsx(FO,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(gn,{className:"w-full p-0",align:"start",children:n.jsxs(wi,{shouldFilter:!1,children:[n.jsx(Ni,{placeholder:a?`  ${a.toLowerCase()}...`:" ...",value:d,onValueChange:f}),n.jsxs(Si,{className:"max-h-[300px]",children:[n.jsx(_i,{children:h?n.jsxs("div",{className:"flex items-center justify-center py-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),n.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:" ..."})]}):g?n.jsxs("div",{className:"text-center py-4 text-red-500",children:[n.jsx("p",{children:"  "}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:g})]}):j.length===0?a?`  "${a}"  .`:"  .":null}),a?n.jsx(Ts,{children:j.map(N=>n.jsxs(Ei,{value:N.id,onSelect:()=>{t(N.id),u(!1)},className:"flex items-start gap-2 p-3",children:[n.jsx(Ju,{className:We("h-4 w-4 mt-0.5 flex-shrink-0",e===N.id?"opacity-100":"opacity-0")}),n.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[n.jsx("span",{className:"truncate",children:N.name}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["/: ",N.binIin]}),N.region&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(IE,{className:"h-3 w-3"}),N.region]})]})]})]},N.id))}):Object.entries(w).map(([N,C])=>n.jsx(Ts,{heading:N,children:C.map(S=>n.jsxs(Ei,{value:S.id,onSelect:()=>{t(S.id),u(!1)},className:"flex items-start gap-2 p-3",children:[n.jsx(Ju,{className:We("h-4 w-4 mt-0.5 flex-shrink-0",e===S.id?"opacity-100":"opacity-0")}),n.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"truncate",children:S.name}),n.jsx(je,{className:`${v(S.category)} text-xs px-1 py-0 flex-shrink-0`,children:S.category})]}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["/: ",S.binIin]}),S.region&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(IE,{className:"h-3 w-3"}),S.region]})]})]})]},S.id))},N))]})]})})]})}),n.jsx("div",{className:"flex-1 rounded-md border p-3 bg-muted/30 h-12 min-h-12 flex items-center",style:{height:"48px",minHeight:"48px"},children:b?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4 text-sm text-muted-foreground w-full",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"/:"})," ",b.binIin]}),n.jsxs("div",{children:[n.jsx("strong",{children:":"})," ",b.address||" "]})]}):n.jsx("div",{className:"text-sm text-muted-foreground w-full text-center",children:"    "})})]})]})}function f5({onFileSelect:e,onFileNameChange:t,acceptedTypes:r=[".pdf",".jpg",".jpeg",".png"],maxSize:a=10,currentFileName:s,files:i=[],onRemoveFile:l,onViewFile:u,multiple:d=!1}){const f=m=>{if(!m)return;Array.from(m).forEach(g=>{if(g.size>a*1024*1024){alert(` "${g.name}"  .  : ${a}MB`);return}e(g)})};return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",asChild:!0,size:"sm",children:n.jsxs("label",{className:"cursor-pointer",children:[n.jsx(Ao,{className:"h-4 w-4 mr-1"}),d?" ":" ",n.jsx("input",{type:"file",className:"hidden",accept:r.join(","),multiple:d,onChange:m=>f(m.target.files)})]})}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.join(", "),", . ",a,"MB"]})]}),i&&i.length>0&&n.jsx("div",{className:"space-y-1",children:i.map(m=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[n.jsx(yt,{className:"h-3 w-3 text-blue-500 flex-shrink-0"}),n.jsx("span",{className:"font-medium truncate",children:m.name}),n.jsxs("span",{className:"text-gray-500 flex-shrink-0",children:["(",m.originalName,")"]})]}),n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[u&&n.jsx(X,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>u(m.url),children:""}),l&&n.jsx(X,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>l(m.id),children:n.jsx(up,{className:"h-3 w-3"})})]})]},m.id))})]})}function hhe(){const e=Date.now().toString().slice(-6),t=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`REQ-${e}-${t}`}const mhe=e=>{const{formData:t,draftId:r,debounceMs:a=1e3,enabled:s=!0,autoSaveDisabled:i=!1,onDraftCreated:l}=e,[u,d]=x.useState(!1),[f,m]=x.useState(!1),[h,g]=x.useState(null),[j,w]=x.useState(null),b=x.useRef(null),v=x.useRef(0),N=x.useRef(s),C=x.useRef(null);x.useEffect(()=>{N.current=s},[s]);const S=()=>{b.current!==null&&(window.clearTimeout(b.current),b.current=null)},A=x.useCallback(()=>{S(),v.current+=1},[]),_=x.useCallback(()=>d(!1),[]),T=x.useCallback(async D=>{if(N.current&&D===v.current&&!(t.status&&t.status!==Ti.DRAFT))try{if(m(!0),w(null),C.current=D,r){const{status:k,...B}=t;await ot.update(r,{...B,payingCompany:B.payingCompany,docType:B.docType,counterpartyCategory:B.counterpartyCategory,currency:B.currency,vatRate:B.vatRate})}else{const k=await ot.create({...t,status:Ti.DRAFT,payingCompany:t.payingCompany,docType:t.docType,counterpartyCategory:t.counterpartyCategory,currency:t.currency,vatRate:t.vatRate});if(D!==v.current)return;l?.(k.id)}if(D!==v.current)return;d(!1),g(new Date)}catch(k){if(D!==v.current)return;w(k?.message??"Auto-save error")}finally{D===C.current&&(m(!1),C.current=null)}},[r,t,l]);x.useEffect(()=>{if(!s||i||t.status&&t.status!==Ti.DRAFT)return;d(!0),S();const D=v.current+1;return v.current=D,b.current=window.setTimeout(()=>{T(D)},a),()=>{S(),v.current+=1}},[t.payingCompany,t.docType,t.counterpartyId,t.counterpartyCategory,t.amount,t.currency,t.vatRate,t.dueDate,t.expenseCategory,t.productService,t.volume,t.priceRate,t.period,t.docNumber,t.docDate,t.fileName,t.docFileUrl,t.files?.length,s,i,a]),x.useEffect(()=>{(!s||i)&&A()},[s,i]);const R=x.useCallback(async()=>{if(!s||!u||i||!t.counterpartyId||!t.dueDate||f)return;const D=v.current+1;v.current=D,await T(D)},[s,u,i,t.counterpartyId,t.dueDate,f,T]);return{isDirty:u,isSaving:f,lastSaved:h,error:j,saveDraft:R,markClean:_,cancelAutoSave:A}},h5=e=>{const{docType:t,docNumber:r,docDate:a,payingCompany:s,counterpartyName:i}=e,l=w=>{try{const b=new Date(w);return isNaN(b.getTime())?"unknown-date":b.toISOString().split("T")[0]}catch{return"unknown-date"}},u=w=>w.replace(/[^a-zA-Z0-9--\s-]/g,"").replace(/\s+/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),d=l(a),f=u(t),m=u(r),h=u(s),g=u(i);return[f,m,d,h,g].filter(Boolean).join("_")+".pdf"};function m5({onSubmit:e,onCancel:t,onSaveDraft:r,initialData:a,isEditing:s,selectedRequestId:i}){const{items:l}=Qu("counterparties"),{items:u}=Qu("currencies"),{items:d}=Qu("vat-rates"),[f,m]=x.useState({payingCompany:"",docType:"",counterpartyId:"",counterpartyCategory:"",amount:"",currency:"",vatRate:"",dueDate:void 0,docNumber:"",docDate:"",fileName:"",docFileUrl:"",files:[],expenseCategory:"",productService:"",volume:"",priceRate:"",period:""}),[h,g]=x.useState({}),[j,w]=x.useState(!1),[b,v]=x.useState(!1),[N,C]=x.useState(!1),[S,A]=x.useState(null),[_,T]=x.useState(!1),[R,D]=x.useState(!1),k=Q.useRef(null),B=Q.useRef(!1),z=Q.useRef(!1),G=x.useCallback(le=>{A(le),k.current=le},[]);x.useEffect(()=>{k.current=S},[S]);const W=()=>{m({payingCompany:"",docType:"",counterpartyId:"",counterpartyCategory:"",amount:"",currency:"",vatRate:"",dueDate:void 0,docNumber:"",docDate:"",fileName:"",docFileUrl:"",files:[],expenseCategory:"",productService:"",volume:"",priceRate:"",period:""})},Z=B.current?Ti.SUBMITTED:Ti.DRAFT,{isDirty:$,isSaving:M,lastSaved:I,error:O,markClean:H,cancelAutoSave:V}=mhe({formData:{id:S||void 0,payingCompany:f.payingCompany,docType:f.docType,counterpartyId:f.counterpartyId,counterpartyCategory:f.counterpartyCategory,amount:f.amount?Number(f.amount.replace(",",".")):0,currency:f.currency,vatRate:f.vatRate,dueDate:f.dueDate?.toISOString().split("T")[0]||"",description:[f.expenseCategory&&` : ${f.expenseCategory}`,f.productService&&`/: ${f.productService}`,f.volume&&`: ${f.volume}`,f.priceRate&&`/: ${f.priceRate}`,f.period&&`: ${f.period}`].filter(Boolean).join(", "),expenseCategory:f.expenseCategory,productService:f.productService,volume:f.volume,priceRate:f.priceRate,period:f.period,docNumber:f.docNumber,docDate:f.docDate,fileName:f.fileName,docFileUrl:f.docFileUrl,files:f.files||[],status:Z,createdBy:"3394830b-1b62-4db4-a6e4-fdf76b5033f5",history:[],expenseSplits:[],paymentAllocations:[],paymentExecution:void 0,attachments:[]},draftId:S||void 0,enabled:R&&!b&&!N&&!j&&!_&&!B.current&&!z.current,autoSaveDisabled:_,onDraftCreated:G}),q=(le=!1)=>{const ge=[f.expenseCategory&&` : ${f.expenseCategory}`,f.productService&&`/: ${f.productService}`,f.volume&&`: ${f.volume}`,f.priceRate&&`/: ${f.priceRate}`,f.period&&`: ${f.period}`].filter(Boolean).join(", ");return{...S?{id:S}:{},...S?{}:{requestNumber:hhe()},payingCompany:f.payingCompany||"",docType:f.docType||"",counterpartyId:f.counterpartyId,counterpartyCategory:f.counterpartyCategory,amount:f.amount?Number(f.amount.replace(",",".")):0,currency:f.currency||"",vatRate:f.vatRate||"",dueDate:f.dueDate?.toISOString().split("T")[0]||"",description:ge,expenseCategory:f.expenseCategory,productService:f.productService,volume:f.volume,priceRate:f.priceRate,period:f.period,docNumber:f.docNumber,docDate:f.docDate,fileName:f.fileName,docFileUrl:f.docFileUrl,files:f.files||[],...le?{status:Ti.DRAFT}:{},...S?{updatedAt:new Date().toISOString()}:{createdAt:new Date().toISOString()},history:[{id:Date.now().toString(),date:new Date().toISOString(),action:le?" ":"   ",userId:"3394830b-1b62-4db4-a6e4-fdf76b5033f5",role:"EXECUTOR"}],expenseSplits:[]}};x.useEffect(()=>{a&&s&&(m({payingCompany:a.payingCompany||"",docType:a.docType||"",counterpartyId:a.counterpartyId||"",counterpartyCategory:a.counterpartyCategory||"",amount:a.amount?a.amount.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}):"",currency:a.currency||"",vatRate:a.vatRate||"",dueDate:a.dueDate?new Date(a.dueDate):void 0,docNumber:a.docNumber||"",docDate:a.docDate||"",fileName:a.fileName||"",docFileUrl:a.docFileUrl||"",files:a.files||[],expenseCategory:a.expenseCategory||"",productService:a.productService||"",volume:a.volume||"",priceRate:a.priceRate||"",period:a.period||""}),A(a.id),k.current=a.id,a.status&&a.status!==Ti.DRAFT&&(T(!0),B.current=!0))},[a,s]),x.useEffect(()=>{i&&!s&&(A(i),k.current=i)},[i,s]),x.useEffect(()=>()=>{V()},[V]);const F=le=>{const ge=L(),Fe=le.name.split(".").pop(),Xe=((f.files?.length||0)+1).toString().padStart(2,"0"),lt=ge?`${ge}_${Xe}.${Fe}`:le.name,wt={id:`file_${Date.now()}`,name:lt,url:`/uploads/${lt}`,originalName:le.name,mimeType:le.type||"application/octet-stream",docType:f.docType||""};m(te=>({...te,files:[...te.files||[],wt],docFileUrl:wt.url,fileName:wt.name})),we.success(" ")},L=()=>{if(!f.docType||!f.docNumber||!f.docDate||!f.payingCompany||!f.counterpartyId)return"";const ge=l.find(Fe=>Fe.id===f.counterpartyId)?.name||"Unknown";return h5({docType:f.docType,docNumber:f.docNumber,docDate:f.docDate,payingCompany:f.payingCompany,counterpartyName:ge})};x.useEffect(()=>{const le=L();le&&!f.fileName.includes("original_")&&m(ge=>({...ge,fileName:le}))},[f.docType,f.docNumber,f.docDate,f.payingCompany,f.counterpartyId]);const Y=le=>{m(ge=>({...ge,fileName:le}))},ee=le=>{m(ge=>{const Fe=(ge.files||[]).filter(Xe=>Xe.id!==le);return{...ge,files:Fe,docFileUrl:Fe[0]?.url||"",fileName:Fe[0]?.name||""}}),we.success(" ")},ce=le=>{window.open(le,"_blank")},K=le=>{const ge=le.replace(/[^\d.,]/g,"");m(Fe=>({...Fe,amount:ge}))},fe=()=>{const le={};return f.payingCompany||(le.payingCompany="  "),f.docType||(le.docType="  -"),f.counterpartyCategory||(le.counterpartyCategory="  "),f.counterpartyId||(le.counterparty=" "),f.docNumber||(le.docNumber="  "),f.docDate||(le.docDate="  "),(f.files?.length||0)===0&&(le.file="  -"),(!f.amount||isNaN(Number(f.amount.replace(",",".")))||Number(f.amount.replace(",","."))<=0)&&(le.amount="  "),(!f.currency||f.currency.trim()==="")&&(le.currency="   "),(!f.vatRate||f.vatRate.trim()==="")&&(le.vatRate="    "),f.dueDate||(le.dueDate="  "),f.expenseCategory.trim()||(le.expenseCategory="    "),f.productService.trim()||(le.productService="/   "),f.volume.trim()||(le.volume="   "),f.priceRate.trim()||(le.priceRate="/   "),f.period.trim()||(le.period="   "),g(le),Object.keys(le).length===0},oe=()=>{if(!fe()){we.error(",    ");return}z.current=!0,V(),T(!0),w(!0)},Ee=async()=>{V();let le=0;for(;M&&le<10;)await new Promise(Fe=>setTimeout(Fe,100)),le++;z.current&&k.current==null&&S==null&&await new Promise(Fe=>setTimeout(Fe,0));let ge=k.current??S;if(ge){const Fe=q(!1),{status:Xe,...lt}=Fe;return await ot.update(ge,lt),await ot.submit(ge)}else{const Fe=q(!0);return ge=(await ot.create(Fe)).id,A(ge),k.current=ge,await ot.submit(ge)}},De=async()=>{v(!0),w(!1),z.current=!0,B.current=!0,T(!0),V();try{const le=await Ee();H(),A(null),k.current=null,W(),D(!1),we.success("    "),e(le)}catch(le){console.error("Failed to submit request:",le),we.error("   "),B.current=!1,T(!1),z.current=!1}finally{z.current=!1,v(!1)}},re=async()=>{if(!N)try{if(C(!0),S){console.log(" Manual save: Updating existing draft...");const le=q(!0),ge=await ot.update(S,le);H(),we.success(" "),r&&r(ge)}else{console.log(" Manual save: Creating new draft...");const le=q(!0),ge=await ot.create(le);A(ge.id),k.current=ge.id,H(),we.success(" "),r&&r(ge)}}catch(le){console.error("Failed to save draft:",le),we.error("   ")}finally{C(!1)}};return n.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",onClick:t,children:[n.jsx(Ia,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold",children:s?" ":"   "}),n.jsx("p",{className:"text-muted-foreground",children:s?"   ":"     "})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[M&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary"}),n.jsx("span",{children:"..."})]}),I&&!M&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(pt,{className:"h-3 w-3 text-green-500"}),n.jsxs("span",{children:[" ",mt(I,"HH:mm",{locale:St})]})]}),$&&!M&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"h-2 w-2 bg-orange-500 rounded-full"}),n.jsx("span",{children:"  "})]})]})]}),O&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-red-600",children:[" : ",O]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"  "]})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"payingCompany",children:"  *"}),n.jsxs(tt,{value:f.payingCompany||"",onValueChange:le=>m(ge=>({...ge,payingCompany:le})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"SD",children:"SD"}),n.jsx(ye,{value:"KD",children:"KD"}),n.jsx(ye,{value:"AEK",children:"AEK"}),n.jsx(ye,{value:"ADT",children:"ADT"}),n.jsx(ye,{value:"KAS",children:"KAS"})]})]}),h.payingCompany&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.payingCompany})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"docType",children:" - *"}),n.jsxs(tt,{value:f.docType||"",onValueChange:le=>m(ge=>({...ge,docType:le})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"",children:""}),n.jsx(ye,{value:"",children:""}),n.jsx(ye,{value:"",children:""}),n.jsx(ye,{value:"Debit note",children:"Debit note"}),n.jsx(ye,{value:"",children:""}),n.jsx(ye,{value:" ",children:" "}),n.jsx(ye,{value:"",children:""}),n.jsx(ye,{value:"",children:""}),n.jsx(ye,{value:"-",children:"-"}),n.jsx(ye,{value:"  ",children:"  "}),n.jsx(ye,{value:"",children:""})]})]}),h.docType&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.docType})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fhe,{value:f.counterpartyId,onValueChange:le=>m(ge=>({...ge,counterpartyId:le})),filterByCategory:f.counterpartyCategory,onCategoryChange:le=>{m(ge=>({...ge,counterpartyCategory:le,counterpartyId:""}))}}),h.counterparty&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.counterparty}),h.counterpartyCategory&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.counterpartyCategory})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"docNumber",children:"  *"}),n.jsx(ke,{id:"docNumber",value:f.docNumber,onChange:le=>m(ge=>({...ge,docNumber:le.target.value})),placeholder:"  "}),h.docNumber&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.docNumber})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"docDate",children:"  *"}),n.jsx(ke,{id:"docDate",type:"date",value:f.docDate,onChange:le=>m(ge=>({...ge,docDate:le.target.value}))}),h.docDate&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.docDate})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"file",children:"- *"}),n.jsx(f5,{onFileSelect:F,onFileNameChange:Y,currentFileName:f.fileName,files:f.files,onRemoveFile:ee,onViewFile:ce,acceptedTypes:[".pdf",".doc",".docx",".xls",".xlsx",".jpg",".jpeg",".png"],maxSize:10,multiple:!0}),h.file&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.file})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(MO,{className:"h-5 w-5"}),"  "]})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"amount",children:" *"}),n.jsx(ke,{id:"amount",value:f.amount,onChange:le=>K(le.target.value),placeholder:"0,00"}),h.amount&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.amount})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"currency",children:" *"}),n.jsxs(tt,{value:f.currency||"",onValueChange:le=>m(ge=>({...ge,currency:le})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:u.map(le=>n.jsx(ye,{value:le.code,children:le.name||le.code},le.code))})]}),h.currency&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.currency})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"vatRate",children:"  *"}),n.jsxs(tt,{value:f.vatRate||"",onValueChange:le=>m(ge=>({...ge,vatRate:le})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:"  "})}),n.jsx(at,{children:d.map(le=>n.jsx(ye,{value:le.name,children:le.name},le.id))})]}),h.vatRate&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.vatRate})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"dueDate",children:"  *"}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:We("w-full justify-start text-left font-normal",!f.dueDate&&"text-muted-foreground"),children:[n.jsx(vr,{className:"mr-2 h-4 w-4"}),f.dueDate?mt(f.dueDate,"dd.MM.yyyy",{locale:St}):" "]})}),n.jsx(gn,{className:"w-auto p-0",children:n.jsx(xo,{mode:"single",selected:f.dueDate,onSelect:le=>m(ge=>({...ge,dueDate:le})),initialFocus:!0})})]}),h.dueDate&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.dueDate})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:" "}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"expenseCategory",className:"text-xs",children:"  *"}),n.jsx(ke,{id:"expenseCategory",value:f.expenseCategory,onChange:le=>m(ge=>({...ge,expenseCategory:le.target.value})),placeholder:"  ",className:"h-8 text-sm"}),h.expenseCategory&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.expenseCategory})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"productService",className:"text-xs",children:"/ *"}),n.jsx(ke,{id:"productService",value:f.productService,onChange:le=>m(ge=>({...ge,productService:le.target.value})),placeholder:"   ",className:"h-8 text-sm"}),h.productService&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.productService})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"volume",className:"text-xs",children:" *"}),n.jsx(ke,{id:"volume",value:f.volume,onChange:le=>m(ge=>({...ge,volume:le.target.value})),placeholder:" ",className:"h-8 text-sm"}),h.volume&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.volume})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"priceRate",className:"text-xs",children:"/ *"}),n.jsx(ke,{id:"priceRate",value:f.priceRate,onChange:le=>m(ge=>({...ge,priceRate:le.target.value})),placeholder:"   ",className:"h-8 text-sm"}),h.priceRate&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.priceRate})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"period",className:"text-xs",children:" *"}),n.jsx(ke,{id:"period",value:f.period,onChange:le=>m(ge=>({...ge,period:le.target.value})),placeholder:" ",className:"h-8 text-sm"}),h.period&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.period})]})]})]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(X,{variant:"outline",onClick:re,disabled:b||N,children:[n.jsx(Vd,{className:"h-4 w-4 mr-2"}),N?"...":" "]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",onClick:t,disabled:b,children:""}),n.jsxs(X,{onClick:oe,disabled:b,children:[n.jsx(cp,{className:"h-4 w-4 mr-2"}),b?"...":" "]})]})]}),n.jsx(Ut,{open:j,onOpenChange:w,children:n.jsxs($t,{children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:" ,      ?       ."})]}),n.jsxs(Ml,{children:[n.jsx(X,{variant:"outline",onClick:()=>w(!1),children:""}),n.jsx(X,{onClick:De,children:" "})]})]})})]})}const Mj=[{status:"draft",label:""},{status:"submitted",label:""},{status:"classified",label:""},{status:"approved",label:""},{status:"in-register",label:" "},{status:"paid-full",label:""}];function phe({status:e,className:t}){const r=Mj.findIndex(i=>i.status===e),a=r>=0?(r+1)/Mj.length*100:0,s=(i,l)=>e==="declined"||e==="returned"||e==="rejected"?i<=r?n.jsx(Gn,{className:"h-4 w-4 text-red-500"}):n.jsx(RE,{className:"h-4 w-4 text-gray-300"}):i<r?n.jsx(pt,{className:"h-4 w-4 text-green-500"}):i===r?n.jsx(Jt,{className:"h-4 w-4 text-blue-500"}):n.jsx(RE,{className:"h-4 w-4 text-gray-300"});return n.jsxs("div",{className:`space-y-3 ${t||""}`,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:" "}),n.jsxs("span",{className:"text-muted-foreground",children:[Math.round(a),"%"]})]}),n.jsx(nN,{value:a,className:`h-2 ${e==="declined"||e==="returned"||e==="rejected"?"[&>div]:bg-red-500":""}`}),n.jsx("div",{className:"hidden md:flex items-center justify-between",children:Mj.map((i,l)=>n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s(l,i.status),n.jsx("span",{className:`text-xs text-center max-w-16 ${l<=r?"text-foreground":"text-muted-foreground"}`,children:i.label})]},i.status))})]})}function PS({request:e,getCounterpartyName:t,getCounterpartyCategory:r,getVatRate:a,onViewDocument:s,onDownloadDocument:i,showDocumentActions:l=!0,className:u=""}){const d=m=>{if(!m)return" ";const h=new Date(m);return isNaN(h.getTime())?" ":new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}).format(h)},f=m=>{if(m.fileName)return m.fileName;const h=m.requestNumber||"UNKNOWN",g=new Date(m.createdAt).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit"}).replace(/\./g,""),j=m.payingCompany||"KD",w=t(m.counterpartyId).split(" ")[0];return`_${h}_${g}_${j}_${w}`};return n.jsxs(me,{className:u,children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"  "]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(is,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:e.payingCompany||" "})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:d(e.docDate)})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:""}),n.jsx("p",{className:"text-lg font-semibold",children:Lr(e.amount,e.currency)})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" -"}),n.jsx("p",{className:"text-sm",children:e.docType||""})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Po,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:r?r(e.counterpartyId):e.counterpartyCategory||" "})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(s6,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:a?a(e.vatRate):e.vatRate||" "})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:e.docNumber})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(is,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:""}),n.jsx("p",{className:"text-sm",children:t(e.counterpartyId)})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:d(e.dueDate)})]})]})]}),e.description&&n.jsx("div",{className:"mt-6 pt-4 border-t",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(rB,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm",children:""}),n.jsx("div",{className:"text-sm mt-2",children:e.description.split(`
`).map((m,h)=>{const g=m.indexOf(":");if(g!==-1){const j=m.substring(0,g+1),w=m.substring(g+1),v=[" :","/:",":","/:",":"].some(N=>j.toLowerCase().includes(N.toLowerCase()));return n.jsxs("span",{className:"inline-block mr-4",children:[n.jsx("span",{className:v?"font-bold":"font-semibold",children:j}),n.jsx("span",{children:w})]},h)}return m.trim()?n.jsx("span",{className:"inline-block mr-4",children:m},h):null})})]})]})}),l&&n.jsx("div",{className:"mt-6 pt-4 border-t",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm",children:"-"}),e.files&&e.files.length>0?n.jsx("div",{className:"space-y-2 mt-2",children:e.files.map((m,h)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-lg bg-gray-50",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:m.originalName||m.name}),m.url&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]}),n.jsxs("div",{className:"flex gap-1",children:[m.url&&n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>window.open(m.url,"_blank"),children:[n.jsx(Oi,{className:"h-4 w-4 mr-1"}),""]}),m.url&&n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{const g=document.createElement("a");g.href=m.url,g.download=m.originalName||m.name,g.click()},children:[n.jsx(Zn,{className:"h-4 w-4 mr-1"}),""]})]})]},m.id||h))}):n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground flex-1",children:f(e)}),s&&n.jsxs(X,{variant:"outline",size:"sm",onClick:s,children:[n.jsx(Oi,{className:"h-4 w-4 mr-1"}),""]}),i&&n.jsxs(X,{variant:"outline",size:"sm",onClick:i,children:[n.jsx(Zn,{className:"h-4 w-4 mr-1"}),""]})]})]})]})})]})]})}function p5({request:e,initialSplits:t}){const[r,a]=x.useState(()=>t&&t.length>0?t.map(g=>({expenseItemId:g.expenseItemId,amount:g.amount,comment:g.comment,contractId:g.contractId,priority:g.priority})):[{expenseItemId:"",amount:e.amount,comment:""}]),s=x.useMemo(()=>r.reduce((g,j)=>g+(j.amount||0),0),[r]),i=x.useMemo(()=>Math.abs(s-e.amount)<.01,[s,e.amount]),l=x.useMemo(()=>{const g=[],j=r.filter(v=>!v.expenseItemId);j.length>0&&g.push(`${j.length}      `);const w=r.filter(v=>"subRegistrarId"in v&&!v.subRegistrarId);w.length>0&&g.push(`  -  ${w.length} `),i||g.push(`  (${s.toLocaleString()})     (${e.amount.toLocaleString()})`);const b=r.filter(v=>!v.amount||v.amount<=0);return b.length>0&&g.push(`${b.length}     `),g},[r,i,s,e.amount]),u=x.useMemo(()=>{const g=[],j=r.filter(b=>!b.expenseItemId);j.length>0&&g.push(`     ${j.length} `);const w=r.filter(b=>"subRegistrarId"in b&&!b.subRegistrarId);return w.length>0&&g.push(`  -  ${w.length} `),i||g.push(`  (${s.toLocaleString()})     (${e.amount.toLocaleString()})`),g},[r,i,s,e.amount]),d=x.useMemo(()=>l.length===0,[l]),f=x.useCallback(()=>{a(g=>[...g,{expenseItemId:"",amount:0,comment:""}])},[]),m=x.useCallback(g=>{a(j=>j.length>1?j.filter((w,b)=>b!==g):j)},[]),h=x.useCallback((g,j,w)=>{a(b=>{const v=[...b];return v[g]={...v[g],[j]:w},v})},[]);return{splits:r,setSplits:a,totalSplit:s,isBalanced:i,addSplit:f,removeSplit:m,updateSplit:h,validationErrors:l,validationWarnings:u,isFormValid:d}}const RS=x.memo(({request:e,expenseItems:t,onSplitsChange:r,initialSplits:a,showValidation:s=!0,className:i=""})=>{const{splits:l,totalSplit:u,isBalanced:d,addSplit:f,removeSplit:m,updateSplit:h}=p5({request:e,initialSplits:a}),[g,j]=x.useState(null),[w,b]=x.useState([]),[v,N]=x.useState(!1);x.useEffect(()=>{r(l)},[l]),x.useEffect(()=>{C()},[]);const C=async()=>{try{N(!0);const A=await Qh.getSubRegistrars();b(A)}catch(A){console.error("Error loading sub-registrars:",A),we.error("  -")}finally{N(!1)}},S=A=>{const _=t.find(T=>T.id===A);return _?_.name:" "};return n.jsx("div",{className:`space-y-4 ${i}`,children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:["   ",n.jsxs(je,{variant:d?"default":"destructive",children:[": ",Lr(u,e.currency)]})]})}),n.jsxs(pe,{className:"space-y-4",children:[s&&!d&&n.jsxs(op,{variant:"destructive",children:[n.jsx(Ot,{className:"h-4 w-4"}),n.jsxs(lp,{children:["  (",Lr(u,e.currency),")     (",Lr(e.amount,e.currency),")"]})]}),l.map((A,_)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h4",{className:"font-medium",children:[" ",_+1]}),l.length>1&&n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>m(_),children:n.jsx(Cr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(mn,{open:g===_,onOpenChange:T=>{j(T?_:null)},children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[S(A.expenseItemId),n.jsx(FO,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(gn,{className:"w-full p-0",align:"start",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:"  ..."}),n.jsxs(Si,{children:[n.jsx(_i,{children:"  ."}),n.jsx(Ts,{children:t.map(T=>n.jsxs(Ei,{value:T.id,onSelect:R=>{h(_,"expenseItemId",R),j(null)},children:[n.jsx(Ju,{className:We("mr-2 h-4 w-4",A.expenseItemId===T.id?"opacity-100":"opacity-0")}),n.jsx("span",{children:T.name})]},T.id))})]})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" *"}),n.jsx(ke,{type:"number",value:A.amount||"",onChange:T=>h(_,"amount",Number(T.target.value)),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"- *"}),n.jsxs(tt,{value:A.subRegistrarId||"",onValueChange:T=>h(_,"subRegistrarId",T),disabled:v,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" -"})}),n.jsx(at,{children:w.map(T=>n.jsxs(ye,{value:T.id,children:[T.full_name," (",T.email,")"]},T.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(ke,{value:A.comment||"",onChange:T=>h(_,"comment",T.target.value),placeholder:" "})]})]})]},_)),n.jsxs(X,{variant:"outline",onClick:f,className:"w-full",children:[n.jsx(cn,{className:"h-4 w-4 mr-2"}),"  "]})]})]})})});RS.displayName="ExpenseSplitForm";function ghe({requestId:e,onCancel:t,onRequestUpdate:r}){const{items:a}=lr("counterparties"),{items:s}=lr("expense-articles"),{items:i}=lr("vat-rates"),[l,u]=x.useState(null),[d,f]=x.useState(!0),[m,h]=x.useState(!1);x.useEffect(()=>{e&&(async()=>{try{f(!0);const T=await ot.getById(e);u(T)}catch(T){console.error("Failed to load request:",T),we.error("  ")}finally{f(!1)}})()},[e]);const g=_=>{const T=a.find(R=>R.id===_);return T?T.name:" "},j=_=>{const T=a.find(R=>R.id===_);return T?T.category:" "},w=_=>{if(!_)return" ";const T=i.find(R=>R.name===_);return T?T.name:_},b=_=>{if(_.fileName)return _.fileName;const T=a.find(D=>D.id===_.counterpartyId),R=T?.abbreviation||T?.name||"Unknown";return h5({docType:_.docType||"",docNumber:_.docNumber||_.requestNumber||"UNKNOWN",docDate:_.docDate||_.createdAt,payingCompany:_.payingCompany||"KD",counterpartyName:R})},v=_=>{_.url?window.open(_.url,"_blank"):we.info(` : ${_.name}`)},N=()=>{h(!0)},C=async _=>{try{f(!0);const T=await ot.update(e,_);u(T),h(!1),r&&r(T);const R=_.status==="draft"?"":"  ";we.success(`  ${R}`)}catch(T){console.error("Failed to update request:",T),we.error("  ")}finally{f(!1)}},S=()=>{h(!1)},A=_=>{const T=s.find(R=>R.id===_);return T?`${T.code} - ${T.name}`:_||""};return m&&l?n.jsx(m5,{onSubmit:C,onCancel:S,onSaveDraft:C,initialData:l,isEditing:!0}):d?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(X,{variant:"ghost",size:"sm",onClick:t,children:[n.jsx(Ia,{className:"w-4 h-4"}),""]})}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]}):l?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:t,children:[n.jsx(Ia,{className:"w-4 h-4"}),""]}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-semibold",children:[" ",l.requestNumber]}),n.jsx("p",{className:"text-muted-foreground",children:l.status==="draft"?"   ":"  "})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[l.status==="draft"&&n.jsxs(X,{onClick:N,className:"flex items-center gap-2",children:[n.jsx(ln,{className:"w-4 h-4"}),""]}),n.jsx(Wo,{status:l.status})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsx(pe,{children:n.jsx(phe,{status:l.status})})]}),n.jsx(PS,{request:l,getCounterpartyName:g,getCounterpartyCategory:j,getVatRate:w,onViewDocument:()=>v({name:b(l),url:l.docFileUrl}),onDownloadDocument:()=>v({name:b(l),url:l.docFileUrl}),showDocumentActions:!0}),l.expenseSplits&&l.expenseSplits.length>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gl,{className:"h-5 w-5"}),"   "]}),n.jsxs(je,{variant:"default",children:[": ",Lr(l.expenseSplits.reduce((_,T)=>_+T.amount,0),l.currency)]})]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:l.expenseSplits.map((_,T)=>n.jsxs("div",{className:"flex justify-between items-start p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:A(_.expenseItemId)}),_.comment&&n.jsxs("div",{className:"mt-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:" :"}),n.jsx("p",{className:"text-sm text-muted-foreground italic",children:_.comment})]})]}),n.jsx(je,{variant:"secondary",children:Lr(_.amount,l.currency)})]},T))})})]}),l.status==="approved"&&n.jsx(RS,{request:l,expenseItems:s,onSplitsChange:_=>{},showValidation:!0}),l.paymentAllocations&&l.paymentAllocations.length>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:l.paymentAllocations.map((_,T)=>n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),n.jsx("p",{className:"font-medium",children:_.contractId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),n.jsx("p",{className:"font-medium",children:Lr(_.amount,l.currency)})]})]}),_.comment&&n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),n.jsx("p",{children:_.comment})]}),_.priority&&n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),n.jsx(je,{variant:_.priority==="high"?"destructive":_.priority==="medium"?"default":"secondary",children:_.priority==="high"?"":_.priority==="medium"?"":""})]})]},T))})})]}),l.paymentExecution&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsxs(pe,{className:"space-y-4",children:[l.paymentExecution.actualAmount&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" "}),n.jsx("p",{className:"font-medium",children:Lr(l.paymentExecution.actualAmount,l.currency)})]}),l.paymentExecution.executionDate&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" "}),n.jsx("p",{children:Xu(l.paymentExecution.executionDate)})]}),l.paymentExecution.exchangeRate&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" "}),n.jsx("p",{children:l.paymentExecution.exchangeRate})]}),l.paymentExecution.executionComment&&n.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[n.jsx("label",{className:"text-sm font-medium text-orange-800",children:" "}),n.jsx("p",{className:"mt-1 text-orange-700",children:l.paymentExecution.executionComment})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(X,{variant:"ghost",size:"sm",onClick:t,children:[n.jsx(Ia,{className:"w-4 h-4"}),""]})}),n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"  "})})]})}const vhe=e=>{const[t,r]=x.useState({}),[a,s]=x.useState(!1),[i,l]=x.useState(null),{requestIds:u}=e,d=x.useCallback(async()=>{if(u.length===0){r({});return}try{s(!0),l(null);const m={},h=u.map(async g=>{try{const b=(await ot.getRequestEvents(g)).map(p7).filter(v=>v.eventType==="REJECTED").sort((v,N)=>new Date(N.createdAt).getTime()-new Date(v.createdAt).getTime())[0];b&&b.comment&&(m[g]=b.comment)}catch(j){console.warn(`Failed to fetch events for request ${g}:`,j)}});await Promise.all(h),r(m)}catch(m){const h=m instanceof Error?m.message:"Failed to fetch rejection reasons";l(h),console.error("Error fetching rejection reasons:",m)}finally{s(!1)}},[u.join(",")]),f=x.useCallback(async()=>{await d()},[d]);return x.useEffect(()=>{d()},[d]),{rejectionReasons:t,loading:a,error:i,refetch:f}},$j=e=>{if(!e)return!1;try{const t=new Date(e),r=new Date;return r.setHours(0,0,0,0),t.setHours(0,0,0,0),isNaN(t.getTime())?!1:t<r}catch(t){return console.warn("Error checking overdue date:",t),!1}};function xhe({onCreateRequest:e,onViewRequest:t,onEditRequest:r}){const{items:a}=Qu("counterparties"),[s,i]=x.useState(""),[l,u]=x.useState("all"),[d,f]=x.useState("all"),{data:m,loading:h,error:g}=g3({status:d!=="all"?d:void 0,searchTerm:s||void 0,counterpartyFilter:l!=="all"?l:void 0}),j=m.filter(S=>S.status==="rejected").map(S=>S.id),{rejectionReasons:w}=vhe({requestIds:j}),b=x.useMemo(()=>{const S=[...new Set(m.map(A=>A.counterpartyId))];return a.filter(A=>S.includes(A.id))},[m,a]),v=x.useMemo(()=>{let S=[...m];return s&&(S=S.filter(A=>{const _=a.find(T=>T.id===A.counterpartyId);return A.docNumber?.toLowerCase().includes(s.toLowerCase())||A.requestNumber?.toLowerCase().includes(s.toLowerCase())||A.description.toLowerCase().includes(s.toLowerCase())||_?.name?.toLowerCase().includes(s.toLowerCase())||A.amount.toString().includes(s)})),l!=="all"&&(S=S.filter(A=>A.counterpartyId===l)),d!=="all"&&(S=S.filter(A=>A.status===d)),S.sort((A,_)=>{try{const T=new Date(A.createdAt),R=new Date(_.createdAt);return isNaN(T.getTime())||isNaN(R.getTime())?0:R.getTime()-T.getTime()}catch{return 0}})},[m,s,l,d,a]),N=S=>a.find(A=>A.id===S)?.name||"",C=()=>{const S={draft:"",submitted:" ","in-register":"",rejected:"","to-pay":""};return[{value:"all",label:" "},...["draft","submitted","in-register","rejected","to-pay"].map(T=>({value:T,label:S[T]||T}))]};return h?n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})})}):g?n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-500 mb-2",children:"  "}),n.jsx("p",{className:"text-muted-foreground text-sm",children:g}),n.jsx(X,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:" "})]})})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"  "}),n.jsx("p",{className:"text-muted-foreground",children:"  ,     "})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(X,{onClick:e,children:[n.jsx(cn,{className:"h-4 w-4 mr-2"})," "]})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ui,{className:"h-4 w-4"}),""]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ke,{placeholder:"  , ...",value:s,onChange:S=>i(S.target.value),className:"pl-10"})]}),n.jsxs(tt,{value:l,onValueChange:u,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:` (${b.length})`})}),n.jsxs(at,{children:[n.jsxs(ye,{value:"all",children:["  (",b.length,")"]}),b.map(S=>n.jsx(ye,{value:S.id,children:S.name},S.id))]})]}),n.jsxs(tt,{value:d,onValueChange:f,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:""})}),n.jsx(at,{children:C().map(S=>n.jsx(ye,{value:S.value,children:S.label},S.value))})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-xl font-semibold",children:v.length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(is,{className:"h-4 w-4 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-xl font-semibold",children:new Set(v.map(S=>S.counterpartyId)).size})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xn,{className:"h-4 w-4 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-xl font-semibold",children:Lr(v.reduce((S,A)=>S+A.amount,0),"KZT")})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-xl font-semibold",children:v.filter(S=>$j(S.dueDate)).length})]})]})})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ae,{children:[" (",v.length,")"]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"})," xlsx"]})]}),n.jsx(pe,{children:n.jsxs("div",{children:[n.jsxs(Fr,{className:"table-fixed w-full",children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{className:"w-32",children:" "}),n.jsx(Ce,{className:"w-40",children:""}),n.jsx(Ce,{className:"w-24",children:""}),n.jsx(Ce,{className:"w-28",children:" "}),n.jsx(Ce,{className:"w-32",children:""}),n.jsx(Ce,{className:"w-36",children:"   "}),n.jsx(Ce,{className:"w-28",children:""}),n.jsx(Ce,{className:"w-16",children:""})]})}),n.jsx(Br,{children:v.map(S=>n.jsxs(gt,{className:"hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>t?.(S.id),children:[n.jsx(Se,{className:"font-medium w-32",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"truncate text-ellipsis overflow-hidden",title:S.requestNumber||S.docNumber,style:{maxWidth:"128px"},children:S.requestNumber||S.docNumber}),S.requestNumber&&n.jsx("span",{className:"text-xs text-muted-foreground truncate text-ellipsis overflow-hidden",title:S.docNumber,style:{maxWidth:"128px"},children:S.docNumber}),S.status==="rejected"&&w[S.id]&&n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx(Ot,{className:"h-3 w-3 text-red-500"}),n.jsx("span",{className:"text-xs text-red-600 font-medium truncate text-ellipsis overflow-hidden",title:w[S.id],style:{maxWidth:"128px"},children:w[S.id]})]})]})}),n.jsx(Se,{className:"w-40",children:n.jsx("span",{className:"truncate block text-ellipsis overflow-hidden",title:N(S.counterpartyId),style:{maxWidth:"160px"},children:N(S.counterpartyId)})}),n.jsx(Se,{className:"w-24",children:n.jsx("div",{className:"flex items-center gap-1",children:n.jsx("span",{className:"truncate",children:Lr(S.amount,S.currency)})})}),n.jsx(Se,{className:"w-28",children:n.jsxs("div",{className:`flex items-center gap-2 ${$j(S.dueDate)?"text-red-600":""}`,children:[n.jsx("span",{className:"truncate",children:Xu(S.dueDate)}),$j(S.dueDate)&&n.jsx(je,{variant:"destructive",className:"text-xs",children:""})]})}),n.jsx(Se,{className:"w-32",children:n.jsx(Wo,{status:S.status,showTooltip:!0,responsible:Nx(S.status),statusTime:Xu(S.updatedAt||S.createdAt)})}),n.jsx(Se,{className:"text-muted-foreground w-36",children:n.jsx("span",{className:"truncate block text-ellipsis overflow-hidden",title:Nx(S.status),style:{maxWidth:"144px"},children:Nx(S.status)})}),n.jsx(Se,{className:"text-muted-foreground w-28",children:n.jsx("span",{className:"truncate block",children:Xu(S.createdAt)})}),n.jsx(Se,{className:"w-16",children:n.jsx("div",{className:"flex items-center justify-end gap-1",children:S.status==="rejected"&&r&&n.jsx(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:A=>{A.stopPropagation(),r(S.id)},title:"",children:n.jsx(ln,{className:"h-4 w-4"})})})})]},S.id))})]}),v.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  "})]})})]})]})}function Pi({className:e,...t}){return n.jsx("textarea",{"data-slot":"textarea",className:We("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function uO({request:e,onSubmit:t,onReturn:r,onCancel:a}){const{items:s,state:i}=lr("expense-articles"),{items:l,state:u}=lr("counterparties"),[d,f]=x.useState(""),[m,h]=x.useState(!1),[g,j]=x.useState(!1),[w,b]=x.useState(null),{splits:v,setSplits:N,validationWarnings:C,isFormValid:S}=p5({request:e,initialSplits:[]});x.useEffect(()=>{(async()=>{try{const D=await Qh.getContractStatus(e.counterpartyId);b(D)}catch(D){console.error("Error loading contract status:",D)}})()},[e.counterpartyId]);const A=async()=>{if(!S){we.error("    ");return}if(v.filter(D=>!D.subRegistrarId).length>0){we.error(" -   ");return}j(!0);try{const D=v.map((W,Z)=>({id:`split-${Date.now()}-${Z}`,requestId:e.id,expenseItemId:W.expenseItemId,amount:W.amount,comment:W.comment,contractId:"outside-contract",priority:"medium",subRegistrarId:W.subRegistrarId}));console.log("DEBUG: Sending classification request:",{requestId:e.id,requestStatus:e.status,expenseSplits:D}),await ot.classify(e.id,D,"");const k=v.reduce((W,Z)=>{const $=Z.subRegistrarId;return $&&(W[$]||(W[$]=[]),W[$].push(Z)),W},{}),B=Object.keys(k),z=[];for(let W=0;W<B.length;W++){const Z=B[W],$=k[Z],I={requestId:crypto.randomUUID(),subRegistrarId:Z,distributorId:"10756640-8f37-4cd2-84da-f9d1e3c16c70",expenseSplits:$.map(H=>({expenseItemId:H.expenseItemId,amount:H.amount,comment:H.comment,contractId:"outside-contract",priority:"medium"})),comment:` ${W+1}  -`,originalRequestId:e.id},O=await Qh.sendRequestsParallel(I);z.push(O)}_o.notifyRequestDistributed(e.id,e.requestNumber||" "),B.forEach(W=>{_o.notifySubRegistrarAssigned(e.id,e.requestNumber||" ")}),_o.notifyDistributorRequestCreated(e.id,e.requestNumber||" "),we.success(`      ${z.length}   -`);const G=v.map((W,Z)=>({id:`split-${Date.now()}-${Z}`,requestId:e.id,expenseItemId:W.expenseItemId,amount:W.amount,comment:W.comment,contractId:"outside-contract",priority:"medium",subRegistrarId:W.subRegistrarId}));t(G)}catch(D){console.error("Error classifying request:",D),we.error("   ")}finally{j(!1)}},_=async()=>{if(!d.trim()){we.error("  ");return}j(!0);try{await Qh.returnRequest({requestId:e.id,comment:d}),we.success("  "),r(d),h(!1)}catch(R){console.error("Error returning request:",R),we.error("   ")}finally{j(!1)}},T=R=>l.find(D=>D.id===R)?.name||"";return i.isLoading||u.isLoading?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):i.error||u.error?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-destructive mb-2",children:"  "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:i.error||u.error})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:a,children:n.jsx(Ia,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("h2",{children:["  ",e.requestNumber]}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]})]})}),n.jsx(PS,{request:e,getCounterpartyName:T,onViewDocument:()=>{e.docFileUrl?window.open(e.docFileUrl,"_blank"):we.info(` : ${e.fileName}`)},onDownloadDocument:()=>{we.info(` : ${e.fileName}`)},showDocumentActions:!0}),w&&n.jsx(me,{className:w.hasContract?"border-green-200 bg-green-50":"border-red-200 bg-red-50",children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${w.hasContract?"bg-green-500":"bg-red-500"}`}),n.jsx("div",{className:"flex-1",children:w.hasContract?n.jsxs("div",{className:"text-green-800",children:[n.jsx("p",{className:"font-medium",children:"   "}),n.jsxs("p",{className:"text-sm",children:[" ",w.contractNumber,"  ",w.contractDate]}),w.validityPeriod&&n.jsxs("p",{className:"text-sm mt-1",children:[" : ",w.validityPeriod]}),w.rates&&n.jsxs("p",{className:"text-sm mt-1",children:[": ",w.rates]}),w.contractInfo&&n.jsxs("p",{className:"text-sm mt-1",children:[": ",w.contractInfo]}),w.contractFileUrl&&n.jsx("button",{className:"text-sm mt-2 text-blue-600 hover:text-blue-800 underline",onClick:()=>window.open(w.contractFileUrl,"_blank"),children:"  "})]}):n.jsx("div",{className:"text-red-800",children:n.jsx("p",{className:"font-medium",children:"   "})})})]})})}),n.jsx(RS,{request:e,expenseItems:s,onSplitsChange:N,showValidation:!0}),!S&&C.length>0&&n.jsx(me,{className:"border-amber-200 bg-amber-50",children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ot,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-amber-800",children:" "}),n.jsx("ul",{className:"space-y-1 text-sm text-amber-700",children:C.map((R,D)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-amber-600 rounded-full mt-2 flex-shrink-0"}),R]},D))})]})]})})}),n.jsxs("div",{className:"flex gap-2 pt-6 border-t",children:[n.jsxs(Ut,{open:m,onOpenChange:h,children:[n.jsx(La,{asChild:!0,children:n.jsx(X,{variant:"outline",children:""})}),n.jsxs($t,{children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"      ."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsx(Pi,{placeholder:"    ...",value:d,onChange:R=>f(R.target.value),rows:4})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>h(!1),children:""}),n.jsx(X,{onClick:_,disabled:!d.trim(),children:" "})]})]})]})]}),n.jsxs(X,{onClick:A,disabled:!S||g,className:"flex-1",children:[n.jsx(Vd,{className:"w-4 h-4 mr-2"}),""]})]})]})}const yhe=[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],bhe=[{value:"not_received",label:" "},{value:"fully_received",label:"   "},{value:"partially_received",label:" "}];function jhe({request:e,onBack:t,onSave:r}){const{items:a,state:s}=lr("counterparties"),{state:i}=lr("expense-articles"),[l,u]=x.useState({documentType:"",documentNumber:"",documentDate:"",amountWithoutVat:0,vatAmount:0,currency:e.currency,files:[],originalDocumentsStatus:"not_received",comment:""}),[d,f]=x.useState(!1),[m,h]=x.useState(!1);x.useEffect(()=>{},[e.id]),x.useEffect(()=>{const _=l.documentType!==""&&l.documentNumber!==""&&l.documentDate!==""&&l.amountWithoutVat>0&&l.originalDocumentsStatus!=="";h(_)},[l]);const g=_=>a.find(T=>T.id===_)?.name||"",j=_=>a.find(T=>T.id===_)?.category||" ",w=_=>_||" ",b=(_,T)=>{u(R=>({...R,[_]:T}))},v=_=>{const T=_.map(R=>({id:`file-${Date.now()}-${Math.random()}`,name:R.name,url:URL.createObjectURL(R),originalName:R.name}));u(R=>({...R,files:[...R.files,...T]}))},N=_=>{u(T=>({...T,files:T.files.filter(R=>R.id!==_)}))},C=async()=>{if(!m){we.error("   ");return}f(!0);try{await r(l),we.success("   ")}catch(_){console.error("Error saving closing document data:",_),we.error("   ")}finally{f(!1)}},S=_=>{switch(_){case"classified":return n.jsx(je,{className:"bg-blue-100 text-blue-800",children:""});case"allocated":return n.jsx(je,{className:"bg-green-100 text-green-800",children:""});case"returned":return n.jsx(je,{className:"bg-red-100 text-red-800",children:""});default:return n.jsx(je,{className:"bg-gray-100 text-gray-800",children:_})}},A=_=>{switch(_){case"classified":return n.jsx(pt,{className:"w-4 h-4 text-blue-600"});case"allocated":return n.jsx(pt,{className:"w-4 h-4 text-green-600"});case"returned":return n.jsx(Ls,{className:"w-4 h-4 text-red-600"});default:return n.jsx(Jt,{className:"w-4 h-4 text-gray-600"})}};return s.isLoading||i.isLoading?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Ia,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-semibold",children:[" ",e.requestNumber]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A(e.status),S(e.status)]})]})]}),n.jsxs(X,{onClick:C,disabled:!m||d,className:"flex items-center gap-2",children:[n.jsx(Vd,{className:"w-4 h-4"}),d?"...":""]})]}),n.jsx(PS,{request:e,getCounterpartyName:g,getCounterpartyCategory:j,getVatRate:w,onViewDocument:()=>{e.docFileUrl?window.open(e.docFileUrl,"_blank"):we.info(` : ${e.fileName}`)},onDownloadDocument:()=>{we.info(` : ${e.fileName}`)},showDocumentActions:!0}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Po,{className:"h-5 w-5"}),"  "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:" "}),n.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[n.jsx(Po,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:" "})]})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:" "}),n.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[n.jsx(vr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"15.01.2024 14:30"})]})]})]})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"})," "]})}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"document-type",className:"mb-2 block",children:"   *"}),n.jsxs(tt,{value:l.documentType,onValueChange:_=>b("documentType",_),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:"  "})}),n.jsx(at,{children:yhe.map(_=>n.jsx(ye,{value:_.value,children:_.label},_.value))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"document-number",className:"mb-2 block",children:"  *"}),n.jsx(ke,{id:"document-number",value:l.documentNumber,onChange:_=>b("documentNumber",_.target.value),placeholder:"  "})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"document-date",className:"mb-2 block",children:"  *"}),n.jsx(ke,{id:"document-date",type:"date",value:l.documentDate,onChange:_=>b("documentDate",_.target.value)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"amount-without-vat",className:"mb-2 block",children:"  ,   *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ke,{id:"amount-without-vat",type:"number",value:l.amountWithoutVat||"",onChange:_=>b("amountWithoutVat",parseFloat(_.target.value)||0),placeholder:"0.00",className:"pl-10"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"vat-amount",className:"mb-2 block",children:" ,   *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ke,{id:"vat-amount",type:"number",value:l.vatAmount||"",onChange:_=>b("vatAmount",parseFloat(_.target.value)||0),placeholder:"0.00",className:"pl-10"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:""}),n.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:n.jsx("span",{className:"font-medium",children:e.currency})})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:"  "}),n.jsx(f5,{onFilesChange:v,onFileRemove:N,files:l.files,maxFiles:10,maxSize:10,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"original-documents-status",className:"mb-2 block",children:"    *"}),n.jsxs(tt,{value:l.originalDocumentsStatus,onValueChange:_=>b("originalDocumentsStatus",_),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:bhe.map(_=>n.jsx(ye,{value:_.value,children:_.label},_.value))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"comment",className:"mb-2 block",children:""}),n.jsx(Pi,{id:"comment",value:l.comment||"",onChange:_=>b("comment",_.target.value),placeholder:" ...",rows:3})]}),n.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:""}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"  :"}),n.jsx("span",{className:"ml-2 font-medium",children:Lr(l.amountWithoutVat,l.currency)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:" :"}),n.jsx("span",{className:"ml-2 font-medium",children:Lr(l.vatAmount,l.currency)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:":"}),n.jsx("span",{className:"ml-2 font-medium",children:Lr(l.amountWithoutVat+l.vatAmount,l.currency)})]})]})]})]})]})]})}const whe=x.memo(({status:e,showIcon:t=!0,showBadge:r=!0,className:a=""})=>{const s=l=>{switch(l){case"classified":return n.jsx(pt,{className:"w-4 h-4 text-blue-600"});case"allocated":return n.jsx(pt,{className:"w-4 h-4 text-green-600"});case"returned":return n.jsx(Ls,{className:"w-4 h-4 text-red-600"});case"approved":return n.jsx(pt,{className:"w-4 h-4 text-green-600"});case"pending":return n.jsx(Jt,{className:"w-4 h-4 text-yellow-600"});default:return n.jsx(Jt,{className:"w-4 h-4 text-gray-600"})}},i=l=>{switch(l){case"classified":return n.jsx(je,{className:"bg-blue-100 text-blue-800",children:""});case"allocated":return n.jsx(je,{className:"bg-green-100 text-green-800",children:""});case"returned":return n.jsx(je,{className:"bg-red-100 text-red-800",children:""});case"approved":return n.jsx(je,{className:"bg-green-100 text-green-800",children:""});case"pending":return n.jsx(je,{className:"bg-yellow-100 text-yellow-800",children:" "});default:return n.jsx(je,{className:"bg-gray-100 text-gray-800",children:l})}};return n.jsxs("div",{className:`flex items-center gap-2 ${a}`,children:[t&&s(e),r&&i(e)]})});whe.displayName="RequestStatus";const Nhe=e=>{switch(e){case"classified":return n.jsx(pt,{className:"w-4 h-4 text-blue-600"});case"allocated":return n.jsx(pt,{className:"w-4 h-4 text-green-600"});case"returned":return n.jsx(Ls,{className:"w-4 h-4 text-red-600"});case"approved":return n.jsx(pt,{className:"w-4 h-4 text-green-600"});case"pending":return n.jsx(Jt,{className:"w-4 h-4 text-yellow-600"});default:return n.jsx(Jt,{className:"w-4 h-4 text-gray-600"})}},She=e=>{switch(e){case"classified":return n.jsx(je,{className:"bg-blue-100 text-blue-800",children:""});case"allocated":return n.jsx(je,{className:"bg-green-100 text-green-800",children:""});case"returned":return n.jsx(je,{className:"bg-red-100 text-red-800",children:""});case"approved":return n.jsx(je,{className:"bg-green-100 text-green-800",children:""});case"pending":return n.jsx(je,{className:"bg-yellow-100 text-yellow-800",children:" "});default:return n.jsx(je,{className:"bg-gray-100 text-gray-800",children:e})}},dO=(e,t)=>e.find(r=>r.id===t)?.name||"";function fO({currentUserId:e}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(""),[u,d]=x.useState("all"),[f,m]=x.useState(!0),[h,g]=x.useState(null),{items:j}=lr("counterparties");lr("expense-articles");const w=C=>new Date(C).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});x.useEffect(()=>{(async()=>{try{m(!0);const A=(await ot.getAll({responsibleRegistrarId:e})).map(_=>({id:_.id,requestNumber:_.number,createdAt:_.created_at,dueDate:_.due_date,counterpartyId:_.counterparty_id,amount:_.amount_total,currency:_.currency_code,description:_.title,status:_.status,responsibleRegistrarId:_.responsible_registrar_id,files:_.files||[],docType:_.doc_type,docNumber:_.doc_number,docDate:_.doc_date,payingCompany:_.paying_company,vatRate:_.vat_rate}));r(A),s(A)}catch(S){console.error("Error loading assigned requests:",S),r([]),s([])}finally{m(!1)}})()},[e]),x.useEffect(()=>{let C=t;i&&(C=C.filter(S=>S.requestNumber?.toLowerCase().includes(i.toLowerCase())||S.description.toLowerCase().includes(i.toLowerCase())||dO(j,S.counterpartyId).toLowerCase().includes(i.toLowerCase()))),u!=="all"&&(C=C.filter(S=>S.status===u)),s(C)},[t,i,u]);const b=C=>{g(C)},v=()=>{g(null)},N=async C=>{try{if(!h)throw new Error("No request selected");await Fu.saveClosingDocs(h.id,C),we.success("   ")}catch(S){throw console.error("Error saving closing document:",S),we.error("    "),S}};return f?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):h?n.jsx(jhe,{request:h,onBack:v,onSave:N}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:",     "})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(je,{className:"bg-emerald-100 text-emerald-800",children:"-"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),n.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(pt,{className:"h-4 w-4 text-green-600"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:""}),n.jsx("p",{className:"text-2xl font-bold",children:t.filter(C=>C.status==="classified").length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ls,{className:"h-4 w-4 text-red-600"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:""}),n.jsx("p",{className:"text-2xl font-bold",children:t.filter(C=>C.status==="returned").length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ui,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),n.jsx("p",{className:"text-2xl font-bold",children:Lr(t.reduce((C,S)=>C+S.amount,0),"KZT")})]})]})})})]}),n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(ke,{placeholder:"  ,   ...",value:i,onChange:C=>l(C.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("select",{value:u,onChange:C=>d(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[n.jsx("option",{value:"all",children:" "}),n.jsx("option",{value:"classified",children:""}),n.jsx("option",{value:"allocated",children:""}),n.jsx("option",{value:"returned",children:""})]})})]})})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{children:["  (",a.length,")"]})}),n.jsx(pe,{children:a.length===0?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"   "})}):n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:a.map(C=>n.jsxs(gt,{children:[n.jsx(Se,{className:"font-medium",children:C.requestNumber}),n.jsx(Se,{children:dO(j,C.counterpartyId)}),n.jsx(Se,{children:Lr(C.amount,C.currency)}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[Nhe(C.status),She(C.status)]})}),n.jsx(Se,{children:w(C.createdAt)}),n.jsx(Se,{children:w(C.dueDate)}),n.jsx(Se,{children:n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>b(C),children:[n.jsx(Oi,{className:"w-4 h-4 mr-2"}),""]})})]},C.id))})]})})]})]})}const _he=({onReportUpdate:e})=>{const[t,r]=x.useState([]),[a,s]=x.useState(new Map),[i,l]=x.useState(new Map),[u,d]=x.useState(!1),[f,m]=x.useState(!1),[h,g]=x.useState(!1),[j,w]=x.useState(null),[b,v]=x.useState(" "),[N,C]=x.useState("");x.useEffect(()=>{S()},[]);const S=async()=>{try{d(!0);const k=await Fu.getAssignments();r(k.assignments);const B=new Map,z=new Map;for(const G of k.assignments){try{const W=await Fu.getReport(G.requestId);B.set(G.requestId,W)}catch{}try{const W=await ot.getById(G.requestId);W&&z.set(G.requestId,W)}catch(W){console.error("Error loading request:",W)}}s(B),l(z)}catch(k){console.error("Error loading assignments:",k),we.error("  ")}finally{d(!1)}},A=async k=>{try{m(!0);const B={requestId:k.requestId,documentStatus:b,reportData:B?JSON.parse(B):void 0};await Fu.saveDraftReport(B),we.success("   "),await S(),e&&e()}catch(B){console.error("Error saving draft:",B),we.error("  ")}finally{m(!1)}},_=async k=>{try{g(!0),await Fu.publishReport(k.requestId);const B=i.get(k.requestId);B&&_o.notifyReportPublished(k.requestId,B.requestNumber||" "),we.success(" "),await S(),e&&e()}catch(B){console.error("Error publishing report:",B),we.error("  ")}finally{g(!1)}},T=k=>{const B=a.get(k.requestId);return B?B.status==="draft"?n.jsx(je,{variant:"secondary",children:""}):B.status==="published"?n.jsx(je,{variant:"default",children:""}):n.jsx(je,{variant:"outline",children:k.status}):n.jsx(je,{variant:"outline",children:""})},R=k=>{switch(k){case" ":return n.jsx(Ls,{className:"h-4 w-4 text-red-500"});case"   ":return n.jsx(pt,{className:"h-4 w-4 text-green-500"});case" ":return n.jsx(Jt,{className:"h-4 w-4 text-yellow-500"});default:return n.jsx(Ls,{className:"h-4 w-4 text-gray-500"})}},D=k=>{switch(k){case" ":return"text-red-600";case"   ":return"text-green-600";case" ":return"text-yellow-600";default:return"text-gray-600"}};return u?n.jsxs("div",{className:"flex items-center justify-center p-8",children:[n.jsx(Mr,{className:"h-8 w-8 animate-spin"}),n.jsx("span",{className:"ml-2",children:" ..."})]}):t.length===0?n.jsx(me,{children:n.jsxs(pe,{className:"p-8 text-center",children:[n.jsx(yt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"       "})]})}):n.jsx("div",{className:"space-y-6",children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:t.map(k=>{const B=i.get(k.requestId),z=a.get(k.requestId);return n.jsx(me,{className:"border-l-4 border-l-blue-500",children:n.jsxs(pe,{className:"pt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:B?.requestNumber||` ${k.requestId.slice(0,8)}`}),n.jsx("p",{className:"text-sm text-muted-foreground",children:B?.description||" "}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:":"}),n.jsxs("span",{className:"text-sm",children:[B?.amount," ",B?.currency]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:":"}),T(k)]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:" "}),n.jsxs("div",{className:"flex items-center gap-2",children:[R(b),n.jsx("span",{className:`text-sm ${D(b)}`,children:b})]}),n.jsxs(tt,{value:b,onValueChange:G=>v(G),children:[n.jsx(nt,{className:"w-full",children:n.jsx(rt,{})}),n.jsxs(at,{children:[n.jsx(ye,{value:" ",children:" "}),n.jsx(ye,{value:"   ",children:"   "}),n.jsx(ye,{value:" ",children:" "})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{size:"sm",variant:"outline",onClick:()=>A(k),disabled:f,className:"flex items-center gap-1",children:[f?n.jsx(Mr,{className:"h-3 w-3 animate-spin"}):n.jsx(Vd,{className:"h-3 w-3"}),"  "]}),n.jsxs(X,{size:"sm",onClick:()=>_(k),disabled:h||!z,className:"flex items-center gap-1",children:[h?n.jsx(Mr,{className:"h-3 w-3 animate-spin"}):n.jsx(cp,{className:"h-3 w-3"})," "]})]}),z&&n.jsx("div",{className:"text-xs text-muted-foreground",children:z.status==="draft"?n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Jt,{className:"h-3 w-3"}),"  ",new Date(z.createdAt).toLocaleDateString()]}):n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(pt,{className:"h-3 w-3"})," ",z.publishedAt&&new Date(z.publishedAt).toLocaleDateString()]})})]})]}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:"  (JSON)"}),n.jsx("textarea",{value:N,onChange:G=>C(G.target.value),placeholder:"     JSON ()",className:"w-full px-3 py-2 border border-input rounded-md text-sm",rows:3})]})]})},k.id)})})})]})})};var bg="Checkbox",[Che,gpe]=On(bg),[Ehe,kS]=Che(bg);function The(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:s,disabled:i,form:l,name:u,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:h}=e,[g,j]=os({prop:r,defaultProp:s??!1,onChange:d,caller:bg}),[w,b]=x.useState(null),[v,N]=x.useState(null),C=x.useRef(!1),S=w?!!l||!!w.closest("form"):!0,A={checked:g,disabled:i,setChecked:j,control:w,setControl:b,name:u,form:l,value:m,hasConsumerStoppedPropagationRef:C,required:f,defaultChecked:ki(s)?!1:s,isFormControl:S,bubbleInput:v,setBubbleInput:N};return n.jsx(Ehe,{scope:t,...A,children:Ahe(h)?h(A):a})}var g5="CheckboxTrigger",v5=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},s)=>{const{control:i,value:l,disabled:u,checked:d,required:f,setControl:m,setChecked:h,hasConsumerStoppedPropagationRef:g,isFormControl:j,bubbleInput:w}=kS(g5,e),b=Nt(s,m),v=x.useRef(d);return x.useEffect(()=>{const N=i?.form;if(N){const C=()=>h(v.current);return N.addEventListener("reset",C),()=>N.removeEventListener("reset",C)}},[i,h]),n.jsx(it.button,{type:"button",role:"checkbox","aria-checked":ki(d)?"mixed":d,"aria-required":f,"data-state":N5(d),"data-disabled":u?"":void 0,disabled:u,value:l,...a,ref:b,onKeyDown:Be(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Be(r,N=>{h(C=>ki(C)?!0:!C),w&&j&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});v5.displayName=g5;var x5=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:s,defaultChecked:i,required:l,disabled:u,value:d,onCheckedChange:f,form:m,...h}=e;return n.jsx(The,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:u,required:l,onCheckedChange:f,name:a,form:m,value:d,internal_do_not_use_render:({isFormControl:g})=>n.jsxs(n.Fragment,{children:[n.jsx(v5,{...h,ref:t,__scopeCheckbox:r}),g&&n.jsx(w5,{__scopeCheckbox:r})]})})});x5.displayName=bg;var y5="CheckboxIndicator",b5=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...s}=e,i=kS(y5,r);return n.jsx(Dn,{present:a||ki(i.checked)||i.checked===!0,children:n.jsx(it.span,{"data-state":N5(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});b5.displayName=y5;var j5="CheckboxBubbleInput",w5=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:l,required:u,disabled:d,name:f,value:m,form:h,bubbleInput:g,setBubbleInput:j}=kS(j5,e),w=Nt(r,j),b=aN(i),v=q1(a);x.useEffect(()=>{const C=g;if(!C)return;const S=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(S,"checked").set,T=!s.current;if(b!==i&&_){const R=new Event("click",{bubbles:T});C.indeterminate=ki(i),_.call(C,ki(i)?!1:i),C.dispatchEvent(R)}},[g,b,i,s]);const N=x.useRef(ki(i)?!1:i);return n.jsx(it.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??N.current,required:u,disabled:d,name:f,value:m,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});w5.displayName=j5;function Ahe(e){return typeof e=="function"}function ki(e){return e==="indeterminate"}function N5(e){return ki(e)?"indeterminate":e?"checked":"unchecked"}function Er({className:e,...t}){return n.jsx(x5,{"data-slot":"checkbox",className:We("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(b5,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:n.jsx(Ju,{className:"size-3.5"})})})}var jg="Tabs",[Phe,vpe]=On(jg,[bp]),S5=bp(),[Rhe,IS]=Phe(jg),_5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,m=dp(u),[h,g]=os({prop:a,onChange:s,defaultProp:i??"",caller:jg});return n.jsx(Rhe,{scope:r,baseId:zr(),value:h,onValueChange:g,orientation:l,dir:m,activationMode:d,children:n.jsx(it.div,{dir:m,"data-orientation":l,...f,ref:t})})});_5.displayName=jg;var C5="TabsList",E5=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...s}=e,i=IS(C5,r),l=S5(r);return n.jsx(xD,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:a,children:n.jsx(it.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});E5.displayName=C5;var T5="TabsTrigger",A5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:s=!1,...i}=e,l=IS(T5,r),u=S5(r),d=k5(l.baseId,a),f=I5(l.baseId,a),m=a===l.value;return n.jsx(yD,{asChild:!0,...u,focusable:!s,active:m,children:n.jsx(it.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:t,onMouseDown:Be(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?l.onValueChange(a):h.preventDefault()}),onKeyDown:Be(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&l.onValueChange(a)}),onFocus:Be(e.onFocus,()=>{const h=l.activationMode!=="manual";!m&&!s&&h&&l.onValueChange(a)})})})});A5.displayName=T5;var P5="TabsContent",R5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:s,children:i,...l}=e,u=IS(P5,r),d=k5(u.baseId,a),f=I5(u.baseId,a),m=a===u.value,h=x.useRef(m);return x.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),n.jsx(Dn,{present:s||m,children:({present:g})=>n.jsx(it.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&i})})});R5.displayName=P5;function k5(e,t){return`${e}-trigger-${t}`}function I5(e,t){return`${e}-content-${t}`}var khe=_5,Ihe=E5,Ohe=A5,Dhe=R5;function Dc({className:e,...t}){return n.jsx(khe,{"data-slot":"tabs",className:We("flex flex-col gap-2",e),...t})}function Mc({className:e,...t}){return n.jsx(Ihe,{"data-slot":"tabs-list",className:We("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function jn({className:e,...t}){return n.jsx(Ohe,{"data-slot":"tabs-trigger",className:We("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function wn({className:e,...t}){return n.jsx(Dhe,{"data-slot":"tabs-content",className:We("flex-1 outline-none",e),...t})}var O5="AlertDialog",[Mhe,xpe]=On(O5,[L3]),Gs=L3(),D5=e=>{const{__scopeAlertDialog:t,...r}=e,a=Gs(t);return n.jsx(CS,{...a,...r,modal:!0})};D5.displayName=O5;var $he="AlertDialogTrigger",M5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Gs(r);return n.jsx(e5,{...s,...a,ref:t})});M5.displayName=$he;var Lhe="AlertDialogPortal",$5=e=>{const{__scopeAlertDialog:t,...r}=e,a=Gs(t);return n.jsx(ES,{...a,...r})};$5.displayName=Lhe;var Fhe="AlertDialogOverlay",L5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Gs(r);return n.jsx(vg,{...s,...a,ref:t})});L5.displayName=Fhe;var Hl="AlertDialogContent",[Uhe,Bhe]=Mhe(Hl),zhe=bO("AlertDialogContent"),F5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...s}=e,i=Gs(r),l=x.useRef(null),u=Nt(t,l),d=x.useRef(null);return n.jsx($fe,{contentName:Hl,titleName:U5,docsSlug:"alert-dialog",children:n.jsx(Uhe,{scope:r,cancelRef:d,children:n.jsxs(xg,{role:"alertdialog",...i,...s,ref:u,onOpenAutoFocus:Be(s.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[n.jsx(zhe,{children:a}),n.jsx(Whe,{contentRef:l})]})})})});F5.displayName=Hl;var U5="AlertDialogTitle",B5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Gs(r);return n.jsx(t5,{...s,...a,ref:t})});B5.displayName=U5;var z5="AlertDialogDescription",q5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Gs(r);return n.jsx(r5,{...s,...a,ref:t})});q5.displayName=z5;var qhe="AlertDialogAction",W5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Gs(r);return n.jsx(TS,{...s,...a,ref:t})});W5.displayName=qhe;var V5="AlertDialogCancel",H5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=Bhe(V5,r),i=Gs(r),l=Nt(t,s);return n.jsx(TS,{...i,...a,ref:l})});H5.displayName=V5;var Whe=({contentRef:e})=>{const t=`\`${Hl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hl}\` by passing a \`${z5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Vhe=D5,Hhe=M5,Ghe=$5,Khe=L5,Yhe=F5,Xhe=W5,Qhe=H5,Zhe=B5,Jhe=q5;function eme({...e}){return n.jsx(Vhe,{"data-slot":"alert-dialog",...e})}function tme({...e}){return n.jsx(Hhe,{"data-slot":"alert-dialog-trigger",...e})}function rme({...e}){return n.jsx(Ghe,{"data-slot":"alert-dialog-portal",...e})}function nme({className:e,...t}){return n.jsx(Khe,{"data-slot":"alert-dialog-overlay",className:We("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function ame({className:e,...t}){return n.jsxs(rme,{children:[n.jsx(nme,{}),n.jsx(Yhe,{"data-slot":"alert-dialog-content",className:We("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function sme({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-header",className:We("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ime({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-footer",className:We("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ome({className:e,...t}){return n.jsx(Zhe,{"data-slot":"alert-dialog-title",className:We("text-lg font-semibold",e),...t})}function lme({className:e,...t}){return n.jsx(Jhe,{"data-slot":"alert-dialog-description",className:We("text-muted-foreground text-sm",e),...t})}function cme({className:e,...t}){return n.jsx(Xhe,{className:We(Zu(),e),...t})}function ume({className:e,...t}){return n.jsx(Qhe,{className:We(Zu({variant:"outline"}),e),...t})}var dme="Separator",hO="horizontal",fme=["horizontal","vertical"],G5=x.forwardRef((e,t)=>{const{decorative:r,orientation:a=hO,...s}=e,i=hme(a)?a:hO,u=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(it.div,{"data-orientation":i,...u,...s,ref:t})});G5.displayName=dme;function hme(e){return fme.includes(e)}var mme=G5;function ha({className:e,orientation:t="horizontal",decorative:r=!0,...a}){return n.jsx(mme,{"data-slot":"separator-root",decorative:r,orientation:t,className:We("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...a})}const Gh=[{id:"1",name:" ",level:0,children:[{id:"1.1",name:" ",parentId:"1",level:1},{id:"1.2",name:" ",parentId:"1",level:1}]},{id:"2",name:" ",level:0},{id:"3",name:" ",level:0}],Lj=["   ","  ","-"," "," "],mO=[{id:"1",expenseItemId:"1",expenseItemCode:"001",expenseItemName:"  (EXW)",expenseItemPath:"001   (EXW)",orgUnitId:"1.1",orgUnitName:" ",registrarPosition:"   ",priority:1,effectiveFrom:"2025-01-01",effectiveTo:"2025-12-31",status:"active",createdBy:"admin",createdByName:"",createdAt:"2025-12-01T10:00:00Z"},{id:"2",expenseItemId:"4",expenseItemCode:"004",expenseItemName:" ",expenseItemPath:"004  ",registrarPosition:"-",priority:2,effectiveFrom:"2025-07-01",status:"active",createdBy:"admin",createdByName:"",createdAt:"2025-11-15T14:30:00Z"},{id:"3",expenseItemId:"6",expenseItemCode:"006",expenseItemName:" ",expenseItemPath:"006  ",orgUnitId:"1.2",orgUnitName:" ",registrarPosition:"  ",priority:1,effectiveFrom:"2025-01-01",status:"active",createdBy:"admin",createdByName:"",createdAt:"2025-11-20T09:15:00Z"}];function pme({onBack:e}={}){const{items:t}=lr("expense-articles"),[r,a]=x.useState(mO),[s,i]=x.useState(mO),[l,u]=x.useState([]),[d,f]=x.useState(!1),[m,h]=x.useState(!1),[g,j]=x.useState(null),[w,b]=x.useState(!1),[v,N]=x.useState({expenseItem:"",orgUnit:"",status:"all",position:"all-positions",effectiveDate:new Date}),[C,S]=x.useState({expenseItemId:"",orgUnitId:"all-units",registrarPosition:"",priority:1,effectiveFrom:new Date,effectiveTo:null}),[A,_]=x.useState({expenseItemId:"",orgUnitId:"all-units",asOfDate:new Date}),[T,R]=x.useState([]);x.useEffect(()=>{let L=r.filter(Y=>{if(v.status!=="all"&&Y.status!==v.status||v.expenseItem&&!Y.expenseItemPath.toLowerCase().includes(v.expenseItem.toLowerCase())||v.orgUnit&&Y.orgUnitName&&!Y.orgUnitName.toLowerCase().includes(v.orgUnit.toLowerCase())||v.position&&v.position!=="all-positions"&&Y.registrarPosition!==v.position)return!1;const ee=mt(v.effectiveDate,"yyyy-MM-dd");return!(Y.effectiveFrom>ee||Y.effectiveTo&&Y.effectiveTo<ee)});i(L)},[r,v]);const D=async()=>{try{b(!0);const L={id:Date.now().toString(),expenseItemId:C.expenseItemId,expenseItemCode:I(C.expenseItemId),expenseItemName:O(C.expenseItemId),expenseItemPath:H(C.expenseItemId),orgUnitId:C.orgUnitId&&C.orgUnitId!=="all-units"?C.orgUnitId:void 0,orgUnitName:C.orgUnitId&&C.orgUnitId!=="all-units"?V(C.orgUnitId):void 0,registrarPosition:C.registrarPosition,priority:C.priority,effectiveFrom:mt(C.effectiveFrom,"yyyy-MM-dd"),effectiveTo:C.effectiveTo?mt(C.effectiveTo,"yyyy-MM-dd"):void 0,status:"active",createdBy:"current-user",createdByName:" ",createdAt:new Date().toISOString()};a(Y=>[L,...Y]),f(!1),$(),we.success("  ")}catch(L){console.error("Error creating assignment:",L),we.error("  ")}finally{b(!1)}},k=async()=>{if(g)try{b(!0);const L={...g,expenseItemId:C.expenseItemId,expenseItemCode:I(C.expenseItemId),expenseItemName:O(C.expenseItemId),expenseItemPath:H(C.expenseItemId),orgUnitId:C.orgUnitId&&C.orgUnitId!=="all-units"?C.orgUnitId:void 0,orgUnitName:C.orgUnitId&&C.orgUnitId!=="all-units"?V(C.orgUnitId):void 0,registrarPosition:C.registrarPosition,priority:C.priority,effectiveFrom:mt(C.effectiveFrom,"yyyy-MM-dd"),effectiveTo:C.effectiveTo?mt(C.effectiveTo,"yyyy-MM-dd"):void 0};a(Y=>Y.map(ee=>ee.id===g.id?L:ee)),j(null),$(),we.success("  ")}catch(L){console.error("Error updating assignment:",L),we.error("  ")}finally{b(!1)}},B=L=>{S({expenseItemId:L.expenseItemId,orgUnitId:L.orgUnitId||"all-units",registrarPosition:L.registrarPosition,priority:L.priority,effectiveFrom:new Date,effectiveTo:null}),f(!0)},z=async L=>{try{a(Y=>Y.map(ee=>ee.id===L?{...ee,status:"archived"}:ee)),we.success(" ")}catch(Y){console.error("Error archiving assignment:",Y),we.error("  ")}},G=()=>{const L=s.map(Y=>({" ":Y.expenseItemCode," ":Y.expenseItemName,:Y.orgUnitName||"",:Y.registrarPosition,:Y.priority," ":Y.effectiveFrom," ":Y.effectiveTo||"",:Y.status==="active"?"":"",:Y.createdByName," ":mt(new Date(Y.createdAt),"dd.MM.yyyy HH:mm",{locale:St})}));console.log("Exporting CSV:",L),we.success(" ")},W=()=>{we.success("  ")},Z=async()=>{try{b(!0),R([{expenseItemId:"1",expenseItemName:"  (EXW)",orgUnitId:"1.1",orgUnitName:" ",registrarName:" ..",registrarPosition:"   ",priority:1,effectiveFrom:"2025-01-01",effectiveTo:"2025-12-31"}]),we.success("   ")}catch(L){console.error("Error looking up responsibles:",L),we.error("    ")}finally{b(!1)}},$=()=>{S({expenseItemId:"",orgUnitId:"all-units",registrarPosition:"",priority:1,effectiveFrom:new Date,effectiveTo:null})},M=L=>{j(L),S({expenseItemId:L.expenseItemId,orgUnitId:L.orgUnitId||"all-units",registrarPosition:L.registrarPosition,priority:L.priority,effectiveFrom:new Date(L.effectiveFrom),effectiveTo:L.effectiveTo?new Date(L.effectiveTo):null})},I=L=>{const Y=t.find(ee=>ee.id===L);return Y?Y.code:""},O=L=>{const Y=t.find(ee=>ee.id===L);return Y?Y.name:""},H=L=>{const Y=t.find(ee=>ee.id===L);return Y?`${Y.code} ${Y.name}`:""},V=L=>{const Y=ee=>{for(const ce of ee){if(ce.id===L)return ce.name;if(ce.children){const K=Y(ce.children);if(K)return K}}return""};return Y(Gh)},q=(L,Y)=>L.filter(ee=>ee.isActive).map(ee=>n.jsx(Ei,{className:"cursor-pointer",onSelect:()=>Y(ee),children:n.jsxs("span",{children:[ee.code," ",ee.name]})},ee.id)),F=(L,Y)=>L.map(ee=>n.jsxs("div",{children:[n.jsx(Ei,{className:"cursor-pointer",onSelect:()=>Y(ee),children:n.jsxs("span",{style:{paddingLeft:`${ee.level*16}px`},children:[ee.children?n.jsx(Wj,{className:"w-4 h-4 inline mr-1"}):n.jsx("span",{className:"w-5 inline-block"}),ee.name]})}),ee.children&&F(ee.children,Y)]},ee.id));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[e&&n.jsx(X,{variant:"ghost",onClick:e,className:"pl-0",children:" "}),n.jsxs("div",{children:[n.jsx("h2",{children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",onClick:W,children:[n.jsx(Ao,{className:"w-4 h-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",onClick:G,children:[n.jsx(Zn,{className:"w-4 h-4 mr-2"}),""]}),n.jsxs(Ut,{open:d,onOpenChange:f,children:[n.jsx(La,{asChild:!0,children:n.jsxs(X,{onClick:()=>{$(),j(null)},children:[n.jsx(cn,{className:"w-4 h-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-2xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:g?" ":"  "}),n.jsx(Wt,{children:g?"       .":"          ."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[C.expenseItemId?H(C.expenseItemId):" ",n.jsx(Xa,{className:"w-4 h-4"})]})}),n.jsx(gn,{className:"w-96 p-0",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:" ..."}),n.jsx(_i,{children:"  "}),n.jsx(Si,{className:"max-h-64",children:n.jsx(Ts,{children:q(t,L=>{S(Y=>({...Y,expenseItemId:L.id}))})})})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[C.orgUnitId&&C.orgUnitId!=="all-units"?V(C.orgUnitId):" ",n.jsx(Xa,{className:"w-4 h-4"})]})}),n.jsx(gn,{className:"w-80 p-0",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:" ..."}),n.jsx(_i,{children:"  "}),n.jsx(Si,{className:"max-h-64",children:n.jsxs(Ts,{children:[n.jsx(Ei,{onSelect:()=>S(L=>({...L,orgUnitId:"all-units"})),children:" "}),F(Gh,L=>{S(Y=>({...Y,orgUnitId:L.id}))})]})})]})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(tt,{value:C.registrarPosition,onValueChange:L=>S(Y=>({...Y,registrarPosition:L})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:Lj.map(L=>n.jsx(ye,{value:L,children:L},L))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(tt,{value:C.priority.toString(),onValueChange:L=>S(Y=>({...Y,priority:parseInt(L)})),children:[n.jsx(nt,{children:n.jsx(rt,{})}),n.jsxs(at,{children:[n.jsx(ye,{value:"1",children:"1 ()"}),n.jsx(ye,{value:"2",children:"2 ()"}),n.jsx(ye,{value:"3",children:"3 ()"}),n.jsx(ye,{value:"4",children:"4 ()"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(mo,{className:"w-4 h-4 mr-2"}),mt(C.effectiveFrom,"dd.MM.yyyy",{locale:St})]})}),n.jsx(gn,{className:"w-auto p-0",children:n.jsx(xo,{mode:"single",selected:C.effectiveFrom,onSelect:L=>L&&S(Y=>({...Y,effectiveFrom:L})),locale:St})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(mo,{className:"w-4 h-4 mr-2"}),C.effectiveTo?mt(C.effectiveTo,"dd.MM.yyyy",{locale:St}):""]})}),n.jsx(gn,{className:"w-auto p-0",children:n.jsx(xo,{mode:"single",selected:C.effectiveTo||void 0,onSelect:L=>S(Y=>({...Y,effectiveTo:L||null})),locale:St})})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{f(!1),j(null),$()},children:""}),n.jsx(X,{onClick:g?k:D,disabled:!C.expenseItemId||!C.registrarPosition||w,children:w?"...":g?"":""})]})]})]})]})]})]}),n.jsxs(Dc,{defaultValue:"assignments",className:"space-y-4",children:[n.jsxs(Mc,{children:[n.jsx(jn,{value:"assignments",children:""}),n.jsx(jn,{value:"lookup",children:"  "})]}),n.jsxs(wn,{value:"assignments",className:"space-y-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(ke,{placeholder:"  ...",value:v.expenseItem,onChange:L=>N(Y=>({...Y,expenseItem:L.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(ke,{placeholder:"  ...",value:v.orgUnit,onChange:L=>N(Y=>({...Y,orgUnit:L.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(tt,{value:v.status,onValueChange:L=>N(Y=>({...Y,status:L})),children:[n.jsx(nt,{children:n.jsx(rt,{})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:""}),n.jsx(ye,{value:"active",children:""}),n.jsx(ye,{value:"archived",children:""})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(tt,{value:v.position,onValueChange:L=>N(Y=>({...Y,position:L})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all-positions",children:" "}),Lj.map(L=>n.jsx(ye,{value:L,children:L},L))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(mo,{className:"w-4 h-4 mr-2"}),mt(v.effectiveDate,"dd.MM.yyyy",{locale:St})]})}),n.jsx(gn,{className:"w-auto p-0",children:n.jsx(xo,{mode:"single",selected:v.effectiveDate,onSelect:L=>L&&N(Y=>({...Y,effectiveDate:L})),locale:St})})]})]})]})})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ae,{children:[" (",s.length,")"]}),l.length>0&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:[": ",l.length]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(PE,{className:"w-4 h-4 mr-2"}),""]})]})]})}),n.jsxs(pe,{children:[n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx(Er,{checked:l.length===s.length,onCheckedChange:L=>{u(L?s.map(Y=>Y.id):[])}})}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{className:"w-20",children:""}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{className:"w-20",children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{className:"w-12"})]})}),n.jsx(Br,{children:s.map(L=>n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsx(Er,{checked:l.includes(L.id),onCheckedChange:Y=>{u(Y?ee=>[...ee,L.id]:ee=>ee.filter(ce=>ce!==L.id))}})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wj,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:L.expenseItemCode})]}),n.jsx("div",{className:"text-sm text-muted-foreground ml-6",children:L.expenseItemName})]})}),n.jsx(Se,{children:L.orgUnitName||n.jsx("span",{className:"text-muted-foreground italic",children:" "})}),n.jsx(Se,{children:L.registrarPosition}),n.jsx(Se,{children:n.jsx(je,{variant:"outline",children:L.priority})}),n.jsx(Se,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{children:mt(new Date(L.effectiveFrom),"dd.MM.yyyy",{locale:St})}),n.jsx("div",{className:"text-muted-foreground",children:L.effectiveTo?` ${mt(new Date(L.effectiveTo),"dd.MM.yyyy",{locale:St})}`:""})]})}),n.jsx(Se,{children:n.jsx(je,{variant:L.status==="active"?"default":"secondary",children:L.status==="active"?"":""})}),n.jsx(Se,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{children:L.createdByName}),n.jsx("div",{className:"text-muted-foreground",children:mt(new Date(L.createdAt),"dd.MM.yy HH:mm",{locale:St})})]})}),n.jsx(Se,{children:n.jsxs(tw,{children:[n.jsx(rw,{asChild:!0,children:n.jsx(X,{variant:"ghost",size:"sm",children:n.jsx(UO,{className:"w-4 h-4"})})}),n.jsxs(nw,{align:"end",children:[n.jsxs(yo,{onClick:()=>M(L),children:[n.jsx(ln,{className:"w-4 h-4 mr-2"}),""]}),n.jsxs(yo,{onClick:()=>B(L),children:[n.jsx(AB,{className:"w-4 h-4 mr-2"}),""]}),n.jsxs(yo,{children:[n.jsx(Hj,{className:"w-4 h-4 mr-2"}),""]}),n.jsx(ha,{}),n.jsxs(eme,{children:[n.jsx(tme,{asChild:!0,children:n.jsxs(yo,{onSelect:Y=>Y.preventDefault(),children:[n.jsx(PE,{className:"w-4 h-4 mr-2"}),""]})}),n.jsxs(ame,{children:[n.jsxs(sme,{children:[n.jsx(ome,{children:" ?"}),n.jsx(lme,{children:"       ."})]}),n.jsxs(ime,{children:[n.jsx(ume,{children:""}),n.jsx(cme,{onClick:()=>z(L.id),children:""})]})]})]})]})]})})]},L.id))})]}),s.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  "})]})]})]}),n.jsx(wn,{value:"lookup",className:"space-y-4",children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"   "})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[A.expenseItemId?H(A.expenseItemId):" ",n.jsx(Xa,{className:"w-4 h-4"})]})}),n.jsx(gn,{className:"w-96 p-0",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:" ..."}),n.jsx(_i,{children:"  "}),n.jsx(Si,{className:"max-h-64",children:n.jsx(Ts,{children:q(t,L=>{_(Y=>({...Y,expenseItemId:L.id}))})})})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[A.orgUnitId&&A.orgUnitId!=="all-units"?V(A.orgUnitId):" ",n.jsx(Xa,{className:"w-4 h-4"})]})}),n.jsx(gn,{className:"w-80 p-0",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:" ..."}),n.jsx(_i,{children:"  "}),n.jsx(Si,{className:"max-h-64",children:n.jsxs(Ts,{children:[n.jsx(Ei,{onSelect:()=>_(L=>({...L,orgUnitId:"all-units"})),children:" "}),F(Gh,L=>{_(Y=>({...Y,orgUnitId:L.id}))})]})})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(mo,{className:"w-4 h-4 mr-2"}),mt(A.asOfDate,"dd.MM.yyyy",{locale:St})]})}),n.jsx(gn,{className:"w-auto p-0",children:n.jsx(xo,{mode:"single",selected:A.asOfDate,onSelect:L=>L&&_(Y=>({...Y,asOfDate:L})),locale:St})})]})]})]}),n.jsxs(X,{onClick:Z,disabled:w,children:[n.jsx(xr,{className:"w-4 h-4 mr-2"}),w?"...":" "]}),T.length>0&&n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:" "})]})}),n.jsx(Br,{children:T.map((L,Y)=>n.jsxs(gt,{children:[n.jsx(Se,{children:L.expenseItemName}),n.jsx(Se,{children:L.orgUnitName||n.jsx("span",{className:"text-muted-foreground italic",children:" "})}),n.jsx(Se,{children:L.registrarName}),n.jsx(Se,{children:L.registrarPosition}),n.jsx(Se,{children:n.jsx(je,{variant:"outline",children:L.priority})}),n.jsx(Se,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{children:mt(new Date(L.effectiveFrom),"dd.MM.yyyy",{locale:St})}),n.jsx("div",{className:"text-muted-foreground",children:L.effectiveTo?` ${mt(new Date(L.effectiveTo),"dd.MM.yyyy",{locale:St})}`:""})]})})]},Y))})]})]})]})})]}),g&&n.jsx(Ut,{open:!!g,onOpenChange:L=>!L&&j(null),children:n.jsxs($t,{className:"max-w-2xl",children:[n.jsx(Bt,{children:n.jsx(zt,{children:"  "})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[C.expenseItemId?H(C.expenseItemId):" ",n.jsx(Xa,{className:"w-4 h-4"})]})}),n.jsx(gn,{className:"w-96 p-0",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:" ..."}),n.jsx(_i,{children:"  "}),n.jsx(Si,{className:"max-h-64",children:n.jsx(Ts,{children:q(t,L=>{S(Y=>({...Y,expenseItemId:L.id}))})})})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[C.orgUnitId?V(C.orgUnitId):" ",n.jsx(Xa,{className:"w-4 h-4"})]})}),n.jsx(gn,{className:"w-80 p-0",children:n.jsxs(wi,{children:[n.jsx(Ni,{placeholder:" ..."}),n.jsx(_i,{children:"  "}),n.jsx(Si,{className:"max-h-64",children:n.jsxs(Ts,{children:[n.jsx(Ei,{onSelect:()=>S(L=>({...L,orgUnitId:""})),children:" "}),F(Gh,L=>{S(Y=>({...Y,orgUnitId:L.id}))})]})})]})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(tt,{value:C.registrarPosition,onValueChange:L=>S(Y=>({...Y,registrarPosition:L})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:Lj.map(L=>n.jsx(ye,{value:L,children:L},L))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(tt,{value:C.priority.toString(),onValueChange:L=>S(Y=>({...Y,priority:parseInt(L)})),children:[n.jsx(nt,{children:n.jsx(rt,{})}),n.jsxs(at,{children:[n.jsx(ye,{value:"1",children:"1 ()"}),n.jsx(ye,{value:"2",children:"2 ()"}),n.jsx(ye,{value:"3",children:"3 ()"}),n.jsx(ye,{value:"4",children:"4 ()"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(mo,{className:"w-4 h-4 mr-2"}),mt(C.effectiveFrom,"dd.MM.yyyy",{locale:St})]})}),n.jsx(gn,{className:"w-auto p-0",children:n.jsx(xo,{mode:"single",selected:C.effectiveFrom,onSelect:L=>L&&S(Y=>({...Y,effectiveFrom:L})),locale:St})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsxs(mn,{children:[n.jsx(pn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(mo,{className:"w-4 h-4 mr-2"}),C.effectiveTo?mt(C.effectiveTo,"dd.MM.yyyy",{locale:St}):""]})}),n.jsx(gn,{className:"w-auto p-0",children:n.jsx(xo,{mode:"single",selected:C.effectiveTo||void 0,onSelect:L=>S(Y=>({...Y,effectiveTo:L||null})),locale:St})})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>j(null),children:""}),n.jsx(X,{onClick:k,disabled:!C.expenseItemId||!C.registrarPosition||w,children:w?"...":""})]})]})]})})]})}function gme({onViewRequest:e,paymentRequests:t}){const[r,a]=x.useState([]),[s,i]=x.useState([]),[l,u]=x.useState(!0),[d,f]=x.useState(""),[m,h]=x.useState(!1),[g,j]=x.useState("all"),[w,b]=x.useState(""),[v,N]=x.useState(""),[C,S]=x.useState([]);x.useEffect(()=>{A()},[]),x.useEffect(()=>{_()},[r,d,m,g,w,v]);const A=async()=>{try{if(u(!0),t&&t.length>0)a(t);else{const z=await Al.getRequestsWithChiefAssignment("distributor");a(z)}const B=await kl.getCounterparties();S(B)}catch(B){console.error("Failed to load data:",B),we.error("  ")}finally{u(!1)}},_=()=>{let B=[...r];d&&(B=B.filter(z=>z.requestNumber?.toLowerCase().includes(d.toLowerCase())||z.description.toLowerCase().includes(d.toLowerCase())||T(z.counterpartyId).toLowerCase().includes(d.toLowerCase()))),m&&(B=B.filter(z=>z.isAssignedToChief)),g&&g!=="all"&&(B=B.filter(z=>z.counterpartyId===g)),w&&(B=B.filter(z=>z.createdAt>=w)),v&&(B=B.filter(z=>z.createdAt<=v)),i(B)},T=B=>C.find(G=>G.id===B)?.name||"",R=(B,z)=>new Intl.NumberFormat("ru-KZ",{style:"currency",currency:z==="KZT"?"KZT":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(B),D=B=>{const z=new Date(B),G=new Date,W=Math.ceil((z.getTime()-G.getTime())/(1e3*60*60*24));return W<0?n.jsx(Ot,{className:"h-4 w-4 text-red-500"}):W<=3?n.jsx(Jt,{className:"h-4 w-4 text-orange-500"}):null},k=B=>B.expenseSplits?.length||0;return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"  "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]}),n.jsxs(je,{variant:"outline",className:"text-sm",children:[s.length,"  ",r.length]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ui,{className:"h-5 w-5"}),""]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:""}),n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ke,{placeholder:", , ...",value:d,onChange:B=>f(B.target.value),className:"pl-10"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:""}),n.jsxs(tt,{value:g,onValueChange:j,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),C.map(B=>n.jsx(ye,{value:B.id,children:B.name},B.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:" "}),n.jsx(ke,{type:"date",value:w,onChange:B=>b(B.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:" "}),n.jsx(ke,{type:"date",value:v,onChange:B=>N(B.target.value)})]})]}),n.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:"onlyAssigned",checked:m,onCheckedChange:h}),n.jsx("label",{htmlFor:"onlyAssigned",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"  "})]}),m&&n.jsxs(je,{variant:"secondary",className:"text-xs",children:[n.jsx(Gj,{className:"h-3 w-3 mr-1"})," "]})]})]})]}),n.jsx(me,{children:n.jsxs(pe,{className:"p-0",children:[n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{className:"w-[120px]",children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{className:"text-right",children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{className:"text-center",children:""}),n.jsx(Ce,{className:"text-center",children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{className:"w-[100px]",children:""})]})}),n.jsx(Br,{children:s.map(B=>n.jsxs(gt,{className:"hover:bg-muted/50",children:[n.jsx(Se,{className:"font-medium",children:B.requestNumber}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:T(B.counterpartyId)}),n.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:B.description})]})}),n.jsx(Se,{className:"text-right",children:n.jsx("div",{className:"font-medium",children:R(B.amount,B.currency)})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[D(B.dueDate),n.jsx("span",{className:"text-sm",children:new Date(B.dueDate).toLocaleDateString("ru-RU")})]})}),n.jsx(Se,{className:"text-center",children:n.jsx(je,{variant:"outline",children:k(B)})}),n.jsx(Se,{className:"text-center",children:B.isAssignedToChief?n.jsxs(je,{variant:"secondary",className:"text-xs",children:[n.jsx(Gj,{className:"h-3 w-3 mr-1"}),""]}):n.jsx("span",{className:"text-muted-foreground text-sm",children:""})}),n.jsx(Se,{children:B.priority&&n.jsx(je,{variant:"outline",className:"text-xs",children:B.priority})}),n.jsx(Se,{children:n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>e(B.id),className:"h-8 w-8 p-0",children:n.jsx(Oi,{className:"h-4 w-4"})})})]},B.id))})]}),s.length===0&&n.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[n.jsx("p",{children:"  "}),m&&n.jsx("p",{className:"text-sm mt-2",children:'   "  "'})]})]})})]})}const vme=({onRequestUpdate:e})=>{const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(new Map),[u,d]=x.useState(!1),[f,m]=x.useState(!1),[h,g]=x.useState(null),[j,w]=x.useState("");x.useEffect(()=>{b()},[]);const b=async()=>{try{d(!0);const[S,A]=await Promise.all([Sx.getDistributorRequests(),Uu.getExportContracts()]);r(S.requests),s(A.contracts);const _=new Map;for(const T of S.requests)try{const R=await Sx.getEnrichedRequest(T.id);_.set(T.id,R)}catch(R){console.error("Error loading enriched data for request:",T.id,R)}l(_)}catch(S){console.error("Error loading data:",S),we.error("  ")}finally{d(!1)}},v=async S=>{if(!j){we.error("  ");return}try{m(!0),await Sx.linkExportContract(S.id,{exportContractId:j});const A=a.find(_=>_.id===j);A&&_o.notifyExportContractLinked(S.id,` ${S.id.slice(0,8)}`,A.contractNumber),we.success("   "),await b(),e&&e()}catch(A){console.error("Error linking contract:",A),we.error("  ")}finally{m(!1),g(null),w("")}},N=S=>{switch(S.status){case"PENDING":return n.jsx(je,{variant:"outline",children:""});case"LINKED":return n.jsx(je,{variant:"default",children:""});default:return n.jsx(je,{variant:"secondary",children:S.status})}},C=S=>{const A=i.get(S.id);return A?A.subRegistrarReport?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[n.jsx(pt,{className:"h-4 w-4"}),n.jsx("span",{children:"   -"})]}):n.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-600",children:[n.jsx(Jt,{className:"h-4 w-4"}),n.jsx("span",{children:"   -"})]}):null};return u?n.jsxs("div",{className:"flex items-center justify-center p-8",children:[n.jsx(Mr,{className:"h-8 w-8 animate-spin"}),n.jsx("span",{className:"ml-2",children:" ..."})]}):t.length===0?n.jsx(me,{children:n.jsxs(pe,{className:"p-8 text-center",children:[n.jsx(yt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"      "})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:t.map(S=>{const A=i.get(S.id),_=S.status==="LINKED";return n.jsx(me,{className:`border-l-4 ${_?"border-l-green-500":"border-l-blue-500"}`,children:n.jsxs(pe,{className:"pt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-medium",children:[" ",S.id.slice(0,8)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:":"}),n.jsx("span",{className:"text-sm",children:S.amount})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:":"}),N(S)]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[": ",new Date(S.createdAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:" "}),C(S),A?.subRegistrarReport&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsxs("div",{children:[" : ",A.subRegistrarReport.documentStatus]}),n.jsxs("div",{children:[": ",A.subRegistrarReport.status==="published"?"":""]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:" "}),_?n.jsxs("div",{className:"text-sm text-green-600",children:[n.jsx(pt,{className:"h-4 w-4 inline mr-1"}),""]}):n.jsxs(tt,{value:j,onValueChange:w,disabled:!A?.subRegistrarReport,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:a.map(T=>n.jsxs(ye,{value:T.id,children:[T.contractNumber," - ",T.contractDate]},T.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{size:"sm",onClick:()=>v(S),disabled:f||_||!A?.subRegistrarReport||!j,className:"flex items-center gap-1",children:[f?n.jsx(Mr,{className:"h-3 w-3 animate-spin"}):n.jsx(QB,{className:"h-3 w-3"})," "]}),n.jsxs(X,{size:"sm",variant:"outline",onClick:()=>g(S),className:"flex items-center gap-1",children:[n.jsx(Oi,{className:"h-3 w-3"}),""]})]}),A?.exportLinks&&A.exportLinks.length>0&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsxs("div",{children:[" : ",A.exportLinks.length]}),n.jsxs("div",{children:[" : ",new Date(A.exportLinks[0].linkedAt).toLocaleDateString()]})]})]})]}),A?.subRegistrarReport&&n.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-md",children:[n.jsx("h5",{className:"text-sm font-medium mb-2",children:"  -"}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[n.jsxs("div",{children:[" : ",A.subRegistrarReport.documentStatus]}),n.jsxs("div",{children:[" : ",A.subRegistrarReport.status==="published"?"":""]}),A.subRegistrarReport.publishedAt&&n.jsxs("div",{children:[" : ",new Date(A.subRegistrarReport.publishedAt).toLocaleDateString()]}),A.subRegistrarReport.reportData&&n.jsxs("div",{children:[" : ",JSON.stringify(A.subRegistrarReport.reportData)]})]})]})]})},S.id)})})})]}),h&&n.jsxs(me,{className:"fixed inset-4 z-50 bg-background border-2",children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:" "}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>g(null),children:""})]})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{className:"text-sm font-medium",children:"ID "}),n.jsx("p",{className:"text-sm",children:h.id})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-sm font-medium",children:""}),n.jsx("p",{className:"text-sm",children:h.amount})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-sm font-medium",children:""}),n.jsx("div",{className:"mt-1",children:N(h)})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-sm font-medium",children:" "}),n.jsx("p",{className:"text-sm",children:new Date(h.createdAt).toLocaleString()})]})]})})]})]})},xme=({onContractSelect:e,selectedContractId:t,showCreateForm:r=!1})=>{const[a,s]=x.useState([]),[i,l]=x.useState(!1),[u,d]=x.useState(!1),[f,m]=x.useState(!1),[h,g]=x.useState(""),[j,w]=x.useState(r),[b,v]=x.useState(null),[N,C]=x.useState({contractNumber:"",contractDate:"",counterpartyId:"",amount:0,currencyCode:"KZT"});x.useEffect(()=>{S()},[]);const S=async()=>{try{l(!0);const k=await Uu.getExportContracts();s(k.contracts)}catch(k){console.error("Error loading contracts:",k),we.error("  ")}finally{l(!1)}},A=async()=>{if(!N.contractNumber||!N.contractDate){we.error("  ");return}try{d(!0);const k=await Uu.createExportContract(N);s([...a,k]),C({contractNumber:"",contractDate:"",counterpartyId:"",amount:0,currencyCode:"KZT"}),w(!1),we.success(" ")}catch(k){console.error("Error creating contract:",k),we.error("  ")}finally{d(!1)}},_=async(k,B)=>{try{m(!0);const z=await Uu.updateExportContract(k,B);s(a.map(G=>G.id===k?z:G)),v(null),we.success(" ")}catch(z){console.error("Error updating contract:",z),we.error("  ")}finally{m(!1)}},T=async k=>{if(confirm(" ,     ?"))try{await Uu.deleteExportContract(k),s(a.filter(B=>B.id!==k)),we.success(" ")}catch(B){console.error("Error deleting contract:",B),we.error("  ")}},R=a.filter(k=>k.contractNumber.toLowerCase().includes(h.toLowerCase())||k.contractDate.includes(h)),D=(k,B)=>{C(z=>({...z,[k]:B}))};return i?n.jsxs("div",{className:"flex items-center justify-center p-8",children:[n.jsx(Mr,{className:"h-8 w-8 animate-spin"}),n.jsx("span",{className:"ml-2",children:" ..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:" "}),n.jsxs(X,{onClick:()=>w(!j),className:"flex items-center gap-2",children:[n.jsx(cn,{className:"h-4 w-4"})," "]})]})}),n.jsxs(pe,{children:[n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ke,{placeholder:"     ...",value:h,onChange:k=>g(k.target.value),className:"pl-10"})]})}),j&&n.jsxs(me,{className:"mb-6 border-dashed",children:[n.jsx(Te,{children:n.jsx(Ae,{className:"text-lg",children:"  "})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"contractNumber",children:"  *"}),n.jsx(ke,{id:"contractNumber",value:N.contractNumber,onChange:k=>D("contractNumber",k.target.value),placeholder:"  "})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"contractDate",children:"  *"}),n.jsx(ke,{id:"contractDate",type:"date",value:N.contractDate,onChange:k=>D("contractDate",k.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"amount",children:""}),n.jsx(ke,{id:"amount",type:"number",step:"0.01",value:N.amount,onChange:k=>D("amount",parseFloat(k.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"currencyCode",children:""}),n.jsxs(tt,{value:N.currencyCode,onValueChange:k=>D("currencyCode",k),children:[n.jsx(nt,{children:n.jsx(rt,{})}),n.jsxs(at,{children:[n.jsx(ye,{value:"KZT",children:"KZT"}),n.jsx(ye,{value:"USD",children:"USD"}),n.jsx(ye,{value:"EUR",children:"EUR"}),n.jsx(ye,{value:"RUB",children:"RUB"})]})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{onClick:A,disabled:u,className:"flex items-center gap-2",children:[u?n.jsx(Mr,{className:"h-4 w-4 animate-spin"}):n.jsx(cn,{className:"h-4 w-4"}),""]}),n.jsx(X,{variant:"outline",onClick:()=>w(!1),children:""})]})]})]}),n.jsx("div",{className:"space-y-3",children:R.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h?"  ":" "}):R.map(k=>n.jsx(me,{className:`cursor-pointer transition-colors ${t===k.id?"ring-2 ring-blue-500":""}`,onClick:()=>e?.(k),children:n.jsx(pe,{className:"pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:k.contractNumber}),n.jsx(je,{variant:k.isActive?"default":"secondary",children:k.isActive?"":""})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vr,{className:"h-3 w-3"}),new Date(k.contractDate).toLocaleDateString()]}),k.amount&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Xn,{className:"h-3 w-3"}),k.amount," ",k.currencyCode]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:B=>{B.stopPropagation(),v(k)},children:n.jsx(ln,{className:"h-3 w-3"})}),n.jsx(X,{size:"sm",variant:"outline",onClick:B=>{B.stopPropagation(),T(k.id)},children:n.jsx(Cr,{className:"h-3 w-3"})})]})]})})},k.id))})]})]}),b&&n.jsxs(me,{className:"fixed inset-4 z-50 bg-background border-2",children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:" "}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>v(null),children:""})]})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(ke,{value:b.contractNumber,onChange:k=>v({...b,contractNumber:k.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(ke,{type:"date",value:b.contractDate,onChange:k=>v({...b,contractDate:k.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(ke,{type:"number",step:"0.01",value:b.amount||"",onChange:k=>v({...b,amount:parseFloat(k.target.value)||void 0})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(tt,{value:b.currencyCode||"KZT",onValueChange:k=>v({...b,currencyCode:k}),children:[n.jsx(nt,{children:n.jsx(rt,{})}),n.jsxs(at,{children:[n.jsx(ye,{value:"KZT",children:"KZT"}),n.jsx(ye,{value:"USD",children:"USD"}),n.jsx(ye,{value:"EUR",children:"EUR"}),n.jsx(ye,{value:"RUB",children:"RUB"})]})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{onClick:()=>_(b.id,{contractNumber:b.contractNumber,contractDate:b.contractDate,amount:b.amount,currencyCode:b.currencyCode}),disabled:f,children:[f?n.jsx(Mr,{className:"h-4 w-4 animate-spin mr-2"}):null,""]}),n.jsx(X,{variant:"outline",onClick:()=>v(null),children:""})]})]})})]})]})};function yme({request:e,onApprove:t,onApproveOnBehalf:r,onReturn:a,onDecline:s,onCancel:i}){const[l,u]=x.useState("items"),[d,f]=x.useState([]),[m,h]=x.useState("p2"),[g,j]=x.useState(""),[w,b]=x.useState(""),[v,N]=x.useState(""),[C,S]=x.useState(!1),[A,_]=x.useState([]),[T,R]=x.useState([]),[D,k]=x.useState([]),[B,z]=x.useState([]),[G,W]=x.useState([]),[Z,$]=x.useState(!1),[M,I]=x.useState(!1);x.useEffect(()=>{O()},[e]),x.useEffect(()=>{H()},[d]);const O=async()=>{try{S(!0);const[re,le,ge,Fe]=await Promise.all([kl.getContracts(),kl.getExpenseItems(),kl.getCounterparties(),kl.getPriorities()]);_(re),R(le),k(ge),z(Fe),e.paymentAllocations&&f(e.paymentAllocations)}catch(re){console.error("Failed to load data:",re),we.error("  ")}finally{S(!1)}},H=()=>{const re=[],le=d.reduce((ge,Fe)=>ge+Fe.amount,0);le!==e.amount&&re.push(`  (${K(le,e.currency)})     (${K(e.amount,e.currency)})`),d.forEach((ge,Fe)=>{if(ge.contractId==="none"||!ge.contractId){re.push(` ${Fe+1}:  `);return}const Xe=A.find(wt=>wt.id===ge.contractId);if(!Xe){re.push(` ${Fe+1}:   `);return}Xe.status!=="active"&&re.push(` ${Fe+1}:  "${Xe.code}" `);const lt=Xe.limitTotal-Xe.usedTotal;ge.amount>lt&&re.push(` ${Fe+1}:    "${Xe.code}" (: ${K(lt,e.currency)})`),new Date(ge.plannedDate)<new Date&&re.push(` ${Fe+1}:       `)}),W(re)},V=()=>{const re={id:`alloc_${Date.now()}`,contractId:"none",amount:0,currency:e.currency,plannedDate:new Date().toISOString().split("T")[0],comment:""};f([...d,re])},q=(re,le,ge)=>{const Fe=[...d];Fe[re]={...Fe[re],[le]:ge},f(Fe)},F=re=>{f(d.filter((le,ge)=>ge!==re))},L=()=>{if(d.length===0){we.warning("    ");return}const re=d.filter(lt=>lt.contractId&&lt.contractId!=="none");if(re.length===0){we.warning("    ");return}const le=Math.floor(e.amount/re.length),ge=e.amount-le*re.length,Fe=[...d];let Xe=!1;re.forEach((lt,wt)=>{const te=d.findIndex(se=>se.id===lt.id);te!==-1&&(Fe[te].amount=le+(wt===0&&!Xe?ge:0),wt===0&&(Xe=!0))}),f(Fe),we.success("  ")},Y=re=>D.find(ge=>ge.id===re)?.name||"",ee=re=>T.find(ge=>ge.id===re)?.name||"",ce=(re,le)=>A.filter(ge=>ge.counterpartyId===re&&ge.expenseItemId===le&&ge.status==="active"),K=(re,le)=>new Intl.NumberFormat("ru-KZ",{style:"currency",currency:le==="KZT"?"KZT":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(re),fe=async()=>{if(G.length>0){we.error("   ");return}if(d.length===0){we.error(" ");return}try{await t(d,m,g)}catch(re){console.error("Failed to approve:",re)}},oe=async()=>{if(G.length>0){we.error("   ");return}if(d.length===0){we.error(" ");return}try{await r(d,m,g)}catch(re){console.error("Failed to approve on behalf:",re)}},Ee=async()=>{if(!w.trim()){we.error("  ");return}try{await a(w),$(!1)}catch(re){console.error("Failed to return:",re)}},De=async()=>{if(!v.trim()){we.error("  ");return}try{await s(v),I(!1)}catch(re){console.error("Failed to decline:",re)}};return C?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:i,children:[n.jsx(Ia,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-semibold",children:["  ",e.requestNumber]}),n.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[n.jsx(Wo,{status:e.status}),e.isAssignedToChief&&n.jsxs(je,{variant:"secondary",className:"text-xs",children:[n.jsx(Gj,{className:"h-3 w-3 mr-1"}),"   "]})]})]})]})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsx("p",{className:"font-medium",children:Y(e.counterpartyId)})]}),n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsx("p",{className:"font-medium",children:K(e.amount,e.currency)})]}),n.jsxs("div",{children:[n.jsx(ae,{children:" "}),n.jsxs("p",{className:"font-medium flex items-center gap-2",children:[n.jsx(vr,{className:"h-4 w-4"}),new Date(e.dueDate).toLocaleDateString("ru-RU")]})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx(ae,{children:""}),n.jsx("p",{children:e.description})]})]})})]}),n.jsxs(Dc,{value:l,onValueChange:u,children:[n.jsxs(Mc,{className:"grid w-full grid-cols-2",children:[n.jsxs(jn,{value:"items",children:[" (",e.expenseSplits?.length||0,")"]}),n.jsxs(jn,{value:"allocations",children:[" (",d.length,")"]})]}),n.jsx(wn,{value:"items",children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsx(pe,{children:n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{children:" "}),n.jsx(Ce,{className:"text-right",children:"  "}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:e.expenseSplits?.map(re=>n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsx("div",{children:n.jsx("div",{className:"font-medium",children:ee(re.expenseItemId)})})}),n.jsx(Se,{className:"text-right font-medium",children:K(re.amount,e.currency)}),n.jsx(Se,{children:re.comment&&n.jsx("span",{className:"text-sm text-muted-foreground",children:re.comment})})]},re.id))})]})})]})}),n.jsx(wn,{value:"allocations",children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"  "}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:L,children:[n.jsx(qj,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:V,children:[n.jsx(cn,{className:"h-4 w-4 mr-2"}),""]})]})]})}),n.jsxs(pe,{children:[G.length>0&&n.jsxs(op,{className:"mb-4",children:[n.jsx(Ot,{className:"h-4 w-4"}),n.jsx(lp,{children:n.jsx("ul",{className:"list-disc list-inside space-y-1",children:G.map((re,le)=>n.jsx("li",{className:"text-sm",children:re},le))})})]}),n.jsxs("div",{className:"space-y-4",children:[d.map((re,le)=>n.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(je,{variant:"outline",children:[" ",le+1]}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>F(le),className:"text-red-600 hover:text-red-700",children:n.jsx(Cr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(tt,{value:re.contractId,onValueChange:ge=>q(le,"contractId",ge),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"none",disabled:!0,children:" "}),e.expenseSplits?.map(ge=>ce(e.counterpartyId,ge.expenseItemId).map(Xe=>n.jsx(ye,{value:Xe.id,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:Xe.code}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[": ",K(Xe.limitTotal-Xe.usedTotal,e.currency)]})]})},Xe.id)))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(ke,{type:"number",value:re.amount,onChange:ge=>q(le,"amount",Number(ge.target.value)),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(ke,{type:"date",value:re.plannedDate,onChange:ge=>q(le,"plannedDate",ge.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(ke,{value:re.currency,disabled:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(Pi,{value:re.comment||"",onChange:ge=>q(le,"comment",ge.target.value),placeholder:" ...",rows:2})]})]},re.id)),d.length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx("p",{children:"  "}),n.jsxs(X,{variant:"outline",onClick:V,className:"mt-2",children:[n.jsx(cn,{className:"h-4 w-4 mr-2"}),"  "]})]})]}),d.length>0&&n.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"  :"}),n.jsx("span",{className:"font-medium",children:K(d.reduce((re,le)=>re+le.amount,0),e.currency)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:" :"}),n.jsx("span",{className:"font-medium",children:K(e.amount,e.currency)})]}),n.jsxs("div",{className:"flex justify-between items-center border-t pt-2 mt-2",children:[n.jsx("span",{children:":"}),n.jsx("span",{className:`font-medium ${d.reduce((re,le)=>re+le.amount,0)===e.amount?"text-green-600":"text-red-600"}`,children:K(d.reduce((re,le)=>re+le.amount,0)-e.amount,e.currency)})]})]})]})]})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"  "})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(tt,{value:m,onValueChange:h,children:[n.jsx(nt,{children:n.jsx(rt,{})}),n.jsx(at,{children:B.map(re=>n.jsx(ye,{value:re.id,children:re.label},re.id))})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(Pi,{value:g,onChange:re=>j(re.target.value),placeholder:" ...",rows:3})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsxs(X,{onClick:fe,disabled:G.length>0||d.length===0,className:"flex-1",children:[n.jsx(pt,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"secondary",onClick:oe,disabled:G.length>0||d.length===0,className:"flex-1",children:[n.jsx(pt,{className:"h-4 w-4 mr-2"}),"  "]}),n.jsxs(Ut,{open:Z,onOpenChange:$,children:[n.jsx(La,{asChild:!0,children:n.jsxs(X,{variant:"outline",children:[n.jsx(c6,{className:"h-4 w-4 mr-2"}),""]})}),n.jsxs($t,{children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"     "})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsx(Pi,{value:w,onChange:re=>b(re.target.value),placeholder:" ...",rows:3})}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>$(!1),children:""}),n.jsx(X,{onClick:Ee,children:""})]})]})]}),n.jsxs(Ut,{open:M,onOpenChange:I,children:[n.jsx(La,{asChild:!0,children:n.jsxs(X,{variant:"destructive",children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),""]})}),n.jsxs($t,{children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"   "})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsx(Pi,{value:v,onChange:re=>N(re.target.value),placeholder:" ...",rows:3})}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>I(!1),children:""}),n.jsx(X,{variant:"destructive",onClick:De,children:""})]})]})]})]})]})]})]})}const bme=({currentRole:e,paymentRequests:t,onViewRequest:r,onNavigate:a})=>{const[s,i]=x.useState([]),[l,u]=x.useState(new Map);x.useEffect(()=>{const b=_o.subscribe(i);return d(),b},[t]);const d=()=>{const b=new Map;t.forEach(v=>{const N=_x.getWorkflowProgress(v.id,v.status,v.distributionStatus||"pending");b.set(v.id,N)}),u(b)},f=()=>{switch(e){case"registrar":return t.filter(b=>["approved","approved-on-behalf","to-pay","in-register","approved-for-payment"].includes(b.status));case"sub_registrar":return t.filter(b=>b.status==="distributed");case"distributor":return t.filter(b=>["distributed","report_published","export_linked"].includes(b.status));default:return t}},m=()=>{const b=f(),v=b.length;switch(e){case"registrar":return{total:v,pending:b.filter(N=>["approved","approved-on-behalf","to-pay","in-register","approved-for-payment"].includes(N.status)).length,distributed:b.filter(N=>N.status==="distributed").length,completed:b.filter(N=>["report_published","export_linked"].includes(N.status)).length};case"sub_registrar":return{total:v,pending:b.filter(N=>N.status==="distributed").length,inProgress:b.filter(N=>N.status==="distributed").length,completed:b.filter(N=>N.status==="report_published").length};case"distributor":return{total:v,pending:b.filter(N=>N.status==="distributed").length,enriched:b.filter(N=>N.status==="report_published").length,linked:b.filter(N=>N.status==="export_linked").length};default:return{total:v,pending:0,completed:0}}},h=b=>{switch(b.status){case"completed":return n.jsx(pt,{className:"h-4 w-4 text-green-500"});case"in-progress":return n.jsx(Jt,{className:"h-4 w-4 text-blue-500"});case"error":return n.jsx(Ls,{className:"h-4 w-4 text-red-500"});default:return n.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-gray-300"})}},g=b=>{switch(b.status){case"completed":return"text-green-600";case"in-progress":return"text-blue-600";case"error":return"text-red-600";default:return"text-gray-500"}},j=m(),w=f();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold",children:[e==="REGISTRAR"&&"  ",e==="SUB_REGISTRAR"&&"  -",e==="DISTRIBUTOR"&&"  "]}),n.jsxs("p",{className:"text-muted-foreground mt-2",children:[e==="REGISTRAR"&&"  ",e==="SUB_REGISTRAR"&&"  ",e==="DISTRIBUTOR"&&"    "]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{onClick:()=>a("requests"),variant:"outline",className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-4 w-4"})," "]}),e==="REGISTRAR"&&n.jsxs(X,{onClick:()=>a("registrar-distribution"),className:"flex items-center gap-2",children:[n.jsx(zj,{className:"h-4 w-4"})," "]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),n.jsx("p",{className:"text-2xl font-bold",children:j.total})]}),n.jsx(yt,{className:"h-8 w-8 text-muted-foreground"})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e==="REGISTRAR"&&" ",e==="SUB_REGISTRAR"&&"",e==="DISTRIBUTOR"&&" "]}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.pending})]}),n.jsx(Jt,{className:"h-8 w-8 text-blue-500"})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e==="REGISTRAR"&&"",e==="SUB_REGISTRAR"&&" ",e==="DISTRIBUTOR"&&""]}),n.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[e==="REGISTRAR"&&j.distributed,e==="SUB_REGISTRAR"&&j.inProgress,e==="DISTRIBUTOR"&&j.enriched]})]}),n.jsx(Ll,{className:"h-8 w-8 text-orange-500"})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e==="REGISTRAR"&&"",e==="SUB_REGISTRAR"&&"",e==="DISTRIBUTOR"&&""]}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e==="REGISTRAR"&&j.completed,e==="SUB_REGISTRAR"&&j.completed,e==="DISTRIBUTOR"&&j.linked]})]}),n.jsx(pt,{className:"h-8 w-8 text-green-500"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:w.slice(0,5).map(b=>{const v=l.get(b.id);return v?n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-muted/50",onClick:()=>r(b.id),children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:b.requestNumber||" "}),n.jsx(je,{variant:"outline",children:b.status})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.description||" "}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(nN,{value:_x.getProgressPercentage(v),className:"flex-1 h-2"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[_x.getProgressPercentage(v),"%"]})]})]}),n.jsx(zj,{className:"h-4 w-4 text-muted-foreground"})]},b.id):null})})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(D1,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:w.slice(0,1).map(b=>{const v=l.get(b.id);return v?n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:b.requestNumber||" "}),n.jsx("div",{className:"space-y-2",children:v.steps.slice(0,5).map((N,C)=>n.jsxs("div",{className:"flex items-center gap-3",children:[h(N),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${g(N)}`,children:N.name}),N.description&&n.jsx("p",{className:"text-xs text-muted-foreground",children:N.description})]}),N.role===e&&N.status==="in-progress"&&n.jsx(je,{variant:"outline",className:"text-xs",children:" "})]},N.id))})]},b.id):null})})})]})]}),s.length>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ls,{className:"h-5 w-5"}),""]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-2",children:s.slice(0,5).map(b=>n.jsx(op,{children:n.jsxs(lp,{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:b.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.message})]}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>_o.markAsRead(b.id),children:""})]})},b.id))})})]})]})};var wg="Switch",[jme,ype]=On(wg),[wme,Nme]=jme(wg),K5=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:s,defaultChecked:i,required:l,disabled:u,value:d="on",onCheckedChange:f,form:m,...h}=e,[g,j]=x.useState(null),w=Nt(t,S=>j(S)),b=x.useRef(!1),v=g?m||!!g.closest("form"):!0,[N,C]=os({prop:s,defaultProp:i??!1,onChange:f,caller:wg});return n.jsxs(wme,{scope:r,checked:N,disabled:u,children:[n.jsx(it.button,{type:"button",role:"switch","aria-checked":N,"aria-required":l,"data-state":Z5(N),"data-disabled":u?"":void 0,disabled:u,value:d,...h,ref:w,onClick:Be(e.onClick,S=>{C(A=>!A),v&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})}),v&&n.jsx(Q5,{control:g,bubbles:!b.current,name:a,value:d,checked:N,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});K5.displayName=wg;var Y5="SwitchThumb",X5=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,s=Nme(Y5,r);return n.jsx(it.span,{"data-state":Z5(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});X5.displayName=Y5;var Sme="SwitchBubbleInput",Q5=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...s},i)=>{const l=x.useRef(null),u=Nt(l,i),d=aN(r),f=q1(t);return x.useEffect(()=>{const m=l.current;if(!m)return;const h=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==r&&j){const w=new Event("click",{bubbles:a});j.call(m,r),m.dispatchEvent(w)}},[d,r,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:u,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Q5.displayName=Sme;function Z5(e){return e?"checked":"unchecked"}var _me=K5,Cme=X5;function Rn({className:e,...t}){return n.jsx(_me,{"data-slot":"switch",className:We("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(Cme,{"data-slot":"switch-thumb",className:We("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Eme({onBack:e}={}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(!0),[u,d]=x.useState(""),[f,m]=x.useState(""),[h,g]=x.useState(""),[j,w]=x.useState(!0),[b,v]=x.useState(new Date().toISOString().split("T")[0]),[N,C]=x.useState([]),[S,A]=x.useState([]),[_,T]=x.useState([]),[R,D]=x.useState(!1),[k,B]=x.useState(!1),[z,G]=x.useState(null),[W,Z]=x.useState({expenseItemId:"",chiefDistributorUserId:"",effectiveFrom:new Date().toISOString().split("T")[0],effectiveTo:"",isActive:!0});x.useEffect(()=>{$()},[]),x.useEffect(()=>{M()},[t,u,f,h,j,b]);const $=async()=>{try{l(!0);const[K,fe,oe]=await Promise.all([Al.getBindings(),kl.getExpenseItems(),Vu.getUsers()]);r(K),C(fe),A(oe);const Ee=oe.filter(De=>De.roles.includes("distributor"));T(Ee)}catch(K){console.error("Failed to load data:",K),we.error("  ")}finally{l(!1)}},M=()=>{let K=[...t];if(u&&(K=K.filter(fe=>I(fe.expenseItemId).toLowerCase().includes(u.toLowerCase())||O(fe.chiefDistributorUserId).toLowerCase().includes(u.toLowerCase()))),f&&f!=="all"&&(K=K.filter(fe=>fe.expenseItemId===f)),h&&h!=="all"&&(K=K.filter(fe=>fe.chiefDistributorUserId===h)),j&&(K=K.filter(fe=>fe.isActive)),b){const fe=new Date(b);K=K.filter(oe=>{const Ee=new Date(oe.effectiveFrom),De=oe.effectiveTo?new Date(oe.effectiveTo):new Date("2099-12-31");return fe>=Ee&&fe<=De})}s(K)},I=K=>N.find(oe=>oe.id===K)?.name||"",O=K=>S.find(oe=>oe.id===K)?.name||"",H=()=>{Z({expenseItemId:"",chiefDistributorUserId:"",effectiveFrom:new Date().toISOString().split("T")[0],effectiveTo:"",isActive:!0})},V=async()=>{if(!W.expenseItemId||!W.chiefDistributorUserId){we.error("  ");return}try{const K=await Al.createBinding(W);r([K,...t]),D(!1),H(),we.success("  ")}catch(K){console.error("Failed to create binding:",K),we.error("  ")}},q=K=>{G(K),Z({expenseItemId:K.expenseItemId,chiefDistributorUserId:K.chiefDistributorUserId,effectiveFrom:K.effectiveFrom,effectiveTo:K.effectiveTo||"",isActive:K.isActive}),B(!0)},F=async()=>{if(!z||!W.expenseItemId||!W.chiefDistributorUserId){we.error("  ");return}try{const K=await Al.updateBinding(z.id,W);r(t.map(fe=>fe.id===z.id?K:fe)),B(!1),G(null),H(),we.success("  ")}catch(K){console.error("Failed to update binding:",K),we.error("  ")}},L=async K=>{try{const fe=await Al.updateBinding(K.id,{...K,isActive:!K.isActive});r(t.map(oe=>oe.id===K.id?fe:oe)),we.success(` ${fe.isActive?"":""}`)}catch(fe){console.error("Failed to toggle binding:",fe),we.error("  ")}},Y=async K=>{if(confirm(" ,     ?"))try{await Al.deleteBinding(K.id),r(t.filter(fe=>fe.id!==K.id)),we.success(" ")}catch(fe){console.error("Failed to delete binding:",fe),we.error("  ")}},ee=(K,fe)=>K.filter(oe=>oe.parentId===fe).map(oe=>({...oe,children:ee(K,oe.id)})),ce=(K,fe=0)=>K.flatMap(oe=>[n.jsx(ye,{value:oe.id,children:"  ".repeat(fe)+oe.name},oe.id),...oe.children?ce(oe.children,fe+1):[]]);return i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[e&&n.jsx(X,{variant:"ghost",onClick:e,className:"pl-0",children:" "}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]})]}),n.jsxs(Ut,{open:R,onOpenChange:D,children:[n.jsx(La,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(cn,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"     "})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(tt,{value:W.expenseItemId,onValueChange:K=>Z({...W,expenseItemId:K}),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:ce(ee(N))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(tt,{value:W.chiefDistributorUserId,onValueChange:K=>Z({...W,chiefDistributorUserId:K}),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:_.map(K=>n.jsx(ye,{value:K.id,children:K.name},K.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(ke,{type:"date",value:W.effectiveFrom,onChange:K=>Z({...W,effectiveFrom:K.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(ke,{type:"date",value:W.effectiveTo,onChange:K=>Z({...W,effectiveTo:K.target.value})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Rn,{id:"isActive",checked:W.isActive,onCheckedChange:K=>Z({...W,isActive:K})}),n.jsx(ae,{htmlFor:"isActive",children:""})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{D(!1),H()},children:""}),n.jsx(X,{onClick:V,children:""})]})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ui,{className:"h-5 w-5"}),""]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ke,{placeholder:"  ...",value:u,onChange:K=>d(K.target.value),className:"pl-10"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsxs(tt,{value:f,onValueChange:m,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),ce(ee(N))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(tt,{value:h,onValueChange:g,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),_.map(K=>n.jsx(ye,{value:K.id,children:K.name},K.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  "}),n.jsx(ke,{type:"date",value:b,onChange:K=>v(K.target.value)})]})]}),n.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[n.jsx(Rn,{id:"activeOnly",checked:j,onCheckedChange:w}),n.jsx(ae,{htmlFor:"activeOnly",children:" "})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:" "}),n.jsx("p",{className:"text-2xl font-semibold",children:t.filter(K=>K.isActive).length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Po,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:" "}),n.jsx("p",{className:"text-2xl font-semibold",children:new Set(t.filter(K=>K.isActive).map(K=>K.chiefDistributorUserId)).size})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(is,{className:"h-5 w-5 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:" "}),n.jsx("p",{className:"text-2xl font-semibold",children:new Set(t.filter(K=>K.isActive).map(K=>K.expenseItemId)).size})]})]})})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{children:[" (",a.length,"  ",t.length,")"]})}),n.jsxs(pe,{className:"p-0",children:[n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{className:"text-center",children:""}),n.jsx(Ce,{className:"w-[150px]",children:""})]})}),n.jsx(Br,{children:a.map(K=>n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsx("div",{className:"font-medium",children:I(K.expenseItemId)})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Po,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:O(K.chiefDistributorUserId)})]})}),n.jsx(Se,{children:n.jsx("div",{className:"text-sm",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(mo,{className:"h-3 w-3"}),new Date(K.effectiveFrom).toLocaleDateString("ru-RU"),K.effectiveTo&&n.jsxs(n.Fragment,{children:[" - ",new Date(K.effectiveTo).toLocaleDateString("ru-RU")]})]})})}),n.jsx(Se,{className:"text-center",children:n.jsx(je,{variant:K.isActive?"default":"secondary",children:K.isActive?"":""})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>q(K),className:"h-8 w-8 p-0",children:n.jsx(ln,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>L(K),className:"h-8 w-8 p-0",children:K.isActive?n.jsx(Ot,{className:"h-4 w-4 text-orange-600"}):n.jsx(pt,{className:"h-4 w-4 text-green-600"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Y(K),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:n.jsx(Cr,{className:"h-4 w-4"})})]})})]},K.id))})]}),a.length===0&&n.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[n.jsx("p",{children:"  "}),n.jsx("p",{className:"text-sm mt-2",children:"      "})]})]})]}),n.jsx(Ut,{open:k,onOpenChange:B,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"   "})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(tt,{value:W.expenseItemId,onValueChange:K=>Z({...W,expenseItemId:K}),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:ce(ee(N))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(tt,{value:W.chiefDistributorUserId,onValueChange:K=>Z({...W,chiefDistributorUserId:K}),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:_.map(K=>n.jsx(ye,{value:K.id,children:K.name},K.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(ke,{type:"date",value:W.effectiveFrom,onChange:K=>Z({...W,effectiveFrom:K.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(ke,{type:"date",value:W.effectiveTo,onChange:K=>Z({...W,effectiveTo:K.target.value})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Rn,{id:"isActiveEdit",checked:W.isActive,onCheckedChange:K=>Z({...W,isActive:K})}),n.jsx(ae,{htmlFor:"isActiveEdit",children:""})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{B(!1),G(null),H()},children:""}),n.jsx(X,{onClick:F,children:""})]})]})})]})}function Tme({onViewRequest:e}){const{items:t}=lr("counterparties"),{items:r}=lr("expense-articles"),[a,s]=x.useState([]),[i,l]=x.useState([]),[u,d]=x.useState(!0),[f,m]=x.useState(""),[h,g]=x.useState("all"),[j,w]=x.useState("date"),[b,v]=x.useState("desc");x.useEffect(()=>{N()},[]),x.useEffect(()=>{C()},[a,f,h,j,b]);const N=async()=>{try{d(!0);const B=(await ot.getAll({role:"distributor"})).filter(z=>z.paymentAllocations&&z.paymentAllocations.some(G=>G.contractId==="outside-deals"));s(B)}catch(k){console.error("Failed to load unallocated requests:",k),we.error("   ")}finally{d(!1)}},C=()=>{let k=[...a];if(f.trim()){const B=f.toLowerCase();k=k.filter(z=>z.requestNumber?.toLowerCase().includes(B)||z.docNumber?.toLowerCase().includes(B)||S(z.counterpartyId).toLowerCase().includes(B)||z.description?.toLowerCase().includes(B))}h!=="all"&&(k=k.filter(B=>B.status===h)),k.sort((B,z)=>{let G=0;switch(j){case"date":G=new Date(B.dueDate).getTime()-new Date(z.dueDate).getTime();break;case"amount":G=B.amount-z.amount;break;case"counterparty":G=S(B.counterpartyId).localeCompare(S(z.counterpartyId));break}return b==="asc"?G:-G}),l(k)},S=k=>t.find(B=>B.id===k)?.name||"",A=k=>{const B=r.find(z=>z.id===k);return B?`${B.code} - ${B.name}`:""},_=()=>i.reduce((k,B)=>k+B.amount,0),T=()=>{const k={approved:0,"in-register":0,"approved-for-payment":0,"paid-full":0,"paid-partial":0};return i.forEach(B=>{k.hasOwnProperty(B.status)&&k[B.status]++}),k},R=k=>{k.docFileUrl?window.open(k.docFileUrl,"_blank"):we.info(` : ${k.fileName}`)};if(u)return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const D=T();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"  "}),n.jsx("p",{className:"text-muted-foreground",children:',    " "  " "'})]}),n.jsx(X,{variant:"outline",onClick:N,children:""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-2xl font-semibold",children:i.length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xn,{className:"h-4 w-4 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsxs("p",{className:"text-2xl font-semibold",children:[_().toLocaleString()," "]})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gl,{className:"h-4 w-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-2xl font-semibold",children:D.approved})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-4 w-4 text-purple-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-2xl font-semibold",children:D["paid-full"]+D["paid-partial"]})]})]})})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ui,{className:"h-5 w-5"}),"  "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:""}),n.jsxs("div",{className:"relative",children:[n.jsx(xr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(ke,{placeholder:" , ...",value:f,onChange:k=>m(k.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:""}),n.jsxs(tt,{value:h,onValueChange:g,children:[n.jsx(nt,{children:n.jsx(rt,{})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),n.jsx(ye,{value:"approved",children:""}),n.jsx(ye,{value:"in-register",children:" "}),n.jsx(ye,{value:"approved-for-payment",children:" "}),n.jsx(ye,{value:"paid-full",children:" "}),n.jsx(ye,{value:"paid-partial",children:" "})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:""}),n.jsxs(tt,{value:j,onValueChange:k=>w(k),children:[n.jsx(nt,{children:n.jsx(rt,{})}),n.jsxs(at,{children:[n.jsx(ye,{value:"date",children:" "}),n.jsx(ye,{value:"amount",children:" "}),n.jsx(ye,{value:"counterparty",children:" "})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:""}),n.jsxs(tt,{value:b,onValueChange:k=>v(k),children:[n.jsx(nt,{children:n.jsx(rt,{})}),n.jsxs(at,{children:[n.jsx(ye,{value:"desc",children:" "}),n.jsx(ye,{value:"asc",children:" "})]})]})]})]})})]}),i.length===0?n.jsx(me,{children:n.jsxs(pe,{className:"p-12 text-center",children:[n.jsx(Ot,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  "}),n.jsx("p",{className:"text-muted-foreground",children:f||h!=="all"?"     ":"    "})]})}):n.jsx("div",{className:"space-y-4",children:i.map(k=>n.jsx(me,{className:"hover:shadow-md transition-shadow",children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(je,{variant:"outline",className:"font-mono",children:k.requestNumber}),n.jsx(Wo,{status:k.status}),n.jsxs(je,{variant:"secondary",className:"bg-orange-100 text-orange-700 border-orange-200",children:[n.jsx(Ot,{className:"h-3 w-3 mr-1"})," "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[e&&n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>e(k.id),children:[n.jsx(Oi,{className:"h-4 w-4 mr-1"}),""]}),k.fileName&&n.jsx(n.Fragment,{children:n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>R(k),children:[n.jsx($B,{className:"h-4 w-4 mr-1"}),""]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(is,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:""}),n.jsx("p",{className:"text-sm",children:S(k.counterpartyId)})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:""}),n.jsxs("p",{className:"text-lg font-semibold",children:[k.amount.toLocaleString()," ",k.currency]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:mt(new Date(k.dueDate),"d MMMM yyyy",{locale:St})})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:""}),n.jsx("p",{className:"text-sm",children:k.docNumber})]})]})]}),k.expenseSplits&&k.expenseSplits.length>0&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Gl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"font-semibold text-sm",children:" "})]}),n.jsx("div",{className:"space-y-2",children:k.expenseSplits.map((B,z)=>n.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[n.jsx("span",{className:"text-sm",children:A(B.expenseItemId)}),n.jsxs(je,{variant:"outline",children:[B.amount.toLocaleString()," ",k.currency]})]},z))})]}),k.paymentAllocations&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Ot,{className:"h-4 w-4 text-orange-500"}),n.jsx("p",{className:"font-semibold text-sm",children:" "})]}),k.paymentAllocations.filter(B=>B.contractId==="outside-deals").map((B,z)=>n.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-orange-800",children:"  "}),n.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"      "}),B.comment&&n.jsxs("p",{className:"text-sm text-orange-700 mt-2 italic",children:[": ",B.comment]})]}),n.jsxs(je,{variant:"outline",className:"bg-white",children:[B.amount.toLocaleString()," ",k.currency]})]})},z))]})]})})},k.id))})]})}function Ame({onBack:e,onUpdateRequest:t}){const{items:r}=lr("counterparties"),{items:a}=lr("priorities"),[s,i]=x.useState([]),[l,u]=x.useState("create"),[d,f]=x.useState({}),[m,h]=x.useState([]),[g,j]=x.useState(!0),[w,b]=x.useState(null);x.useEffect(()=>{(async()=>{try{j(!0),b(null);const q=await ot.getAll({role:"treasurer"});h(q)}catch(q){console.error("Error loading requests:",q),b("  "),h([])}finally{j(!1)}})()},[]);const v=m.filter(V=>["approved","approved-on-behalf"].includes(V.status)),N=m.filter(V=>["in-register","approved-for-payment","paid-full","paid-partial"].includes(V.status)),C=V=>{i(q=>q.includes(V)?q.filter(F=>F!==V):[...q,V])},S=s.reduce((V,q)=>{const F=v.find(L=>L.id===q);return V+(F?.amount||0)},0),A=N.reduce((V,q)=>V+q.amount,0),_=V=>V?a.find(q=>q.id===V):null,T=V=>r.find(q=>q.id===V)?.name||"",R=V=>{switch(V){case"in-register":return"bg-purple-100 text-purple-800";case"approved-for-payment":return"bg-green-100 text-green-800";case"paid-full":return"bg-emerald-100 text-emerald-800";case"paid-partial":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},D=V=>{switch(V){case"in-register":return" ";case"approved-for-payment":return"  ";case"paid-full":return" ";case"paid-partial":return" ";default:return""}},k=async()=>{if(s.length!==0)try{await Promise.all(s.map(V=>ot.updateStatus(V,"in-register",{comment:"    "}))),t&&s.forEach(V=>{}),i([]),u("existing"),we.success(`   ${s.length}    ${S.toLocaleString()} `)}catch(V){console.error("Error creating register:",V),we.error("  ")}},B=()=>{alert("    Excel")},z=()=>{alert("    PDF")},G=()=>{const V=[...new Set(N.map(q=>q.payingCompany).filter(Boolean))];alert(` -    : ${V.join(", ")}`)},W=(V,q,F)=>{f(L=>({...L,[V]:{...L[V],[q]:F}}))},Z=V=>{const q=d[V]||{actualAmount:0,status:"paid-full",comment:"",executionDate:new Date().toISOString().split("T")[0]};if(q.actualAmount===0){const F=N.find(L=>L.id===V);q.actualAmount=F?.amount||0}return q},$=(V,q)=>q===V?"paid-full":q>0&&q<V?"paid-partial":"declined",M=V=>{const q=N.find(ce=>ce.id===V);if(!q||!t)return;const F=Z(V),L=F.actualAmount===0?"declined":$(q.amount,F.actualAmount),Y={...q,status:L,paymentExecution:{actualAmount:F.actualAmount,executionDate:F.executionDate,executionComment:F.comment,exchangeRate:1}};t(Y),f(ce=>{const K={...ce};return delete K[V],K});const ee=L==="paid-full"?" ":L==="paid-partial"?" ":"";we.success(` ${q.docNumber}   ${ee}`)},I=()=>{if(!t)return;const V=N.filter(q=>["in-register","approved-for-payment"].includes(q.status)&&d[q.id]);V.forEach(q=>{const F=Z(q.id),L=F.actualAmount===0?"declined":$(q.amount,F.actualAmount),Y={...q,status:L,paymentExecution:{actualAmount:F.actualAmount,executionDate:F.executionDate,executionComment:F.comment,exchangeRate:1}};t(Y)}),f({}),we.success(`  ${V.length} `)},O=N.reduce((V,q)=>{const F=q.payingCompany||" ";return V[F]||(V[F]=[]),V[F].push(q),V},{}),H=N.filter(V=>["in-register","approved-for-payment"].includes(V.status)).length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:e,children:[n.jsx(Ia,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:l==="create"?"default":"outline",onClick:()=>u("create"),children:" "}),n.jsxs(X,{variant:l==="existing"?"default":"outline",onClick:()=>u("existing"),children:["  (",N.length,")"]}),H>0&&n.jsxs(X,{variant:l==="process"?"default":"outline",onClick:()=>u("process"),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),"  (",H,")"]})]})]}),l==="create"&&n.jsxs(n.Fragment,{children:[n.jsx(me,{children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-8 w-8 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-2xl font-semibold",children:s.length})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xn,{className:"h-8 w-8 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsxs("p",{className:"text-2xl font-semibold",children:[S.toLocaleString()," "]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vr,{className:"h-8 w-8 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-lg font-semibold",children:new Date().toLocaleDateString("ru-RU")})]})]})]})})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{children:["      (",v.length,")"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-3",children:[v.map(V=>{const q=s.includes(V.id),F=_(V.priority);return n.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${q?"border-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>C(V.id),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:V.docNumber}),n.jsx(je,{variant:"outline",children:V.payingCompany}),n.jsx(je,{variant:"outline",children:V.dueDate}),F&&n.jsx(je,{style:{backgroundColor:`${F.color==="red"?"#fef2f2":F.color==="orange"?"#fff7ed":F.color==="yellow"?"#fefce8":F.color==="green"?"#f0fdf4":"#f9fafb"}`,color:`${F.color==="red"?"#b91c1c":F.color==="orange"?"#c2410c":F.color==="yellow"?"#a16207":F.color==="green"?"#166534":"#374151"}`},children:F.label})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[T(V.counterpartyId)," - ",V.description]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{children:[": ",n.jsxs("strong",{children:[V.amount.toLocaleString()," ",V.currency]})]}),n.jsxs("span",{children:[": ",V.dueDate]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:`w-4 h-4 rounded border-2 ${q?"bg-primary border-primary":"border-muted-foreground"}`,children:q&&n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-xs",children:""})})})]})},V.id)}),v.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"      "})})]})})]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx(X,{variant:"outline",onClick:e,children:""}),n.jsxs(X,{onClick:k,disabled:s.length===0,children:[n.jsx(cp,{className:"h-4 w-4 mr-2"}),"  (",s.length,")"]})]})]}),l==="existing"&&n.jsxs(n.Fragment,{children:[n.jsx(me,{children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-8 w-8 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-2xl font-semibold",children:N.length})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xn,{className:"h-8 w-8 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsxs("p",{className:"text-2xl font-semibold",children:[A.toLocaleString()," "]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(is,{className:"h-8 w-8 text-purple-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-2xl font-semibold",children:Object.keys(O).length})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vr,{className:"h-8 w-8 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-lg font-semibold",children:new Date().toLocaleDateString("ru-RU")})]})]})]})})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(OE,{className:"h-5 w-5"}),"  "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs(X,{onClick:B,variant:"outline",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"})," Excel"]}),n.jsxs(X,{onClick:z,variant:"outline",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"})," PDF"]}),n.jsxs(X,{onClick:G,variant:"outline",children:[n.jsx(OE,{className:"h-4 w-4 mr-2"}),"-"]})]})})]}),n.jsx("div",{className:"space-y-4",children:Object.entries(O).map(([V,q])=>n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(is,{className:"h-5 w-5"}),V," (",q.length," )"]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:q.map(F=>{const L=_(F.priority);return n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:F.docNumber}),n.jsx(je,{className:R(F.status),children:D(F.status)}),n.jsx(je,{variant:"outline",children:F.dueDate}),L&&n.jsx(je,{style:{backgroundColor:`${L.color==="red"?"#fef2f2":L.color==="orange"?"#fff7ed":L.color==="yellow"?"#fefce8":L.color==="green"?"#f0fdf4":"#f9fafb"}`,color:`${L.color==="red"?"#b91c1c":L.color==="orange"?"#c2410c":L.color==="yellow"?"#a16207":L.color==="green"?"#166534":"#374151"}`},children:L.label})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[T(F.counterpartyId)," - ",F.description]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{children:[": ",n.jsxs("strong",{children:[F.amount.toLocaleString()," ",F.currency]})]}),n.jsxs("span",{children:[": ",F.dueDate]}),F.paymentExecution?.actualAmount&&n.jsxs("span",{children:[": ",n.jsxs("strong",{children:[F.paymentExecution.actualAmount.toLocaleString()," "]})]})]})]})})},F.id)})})})]},V))}),N.length===0&&n.jsx(me,{children:n.jsx(pe,{className:"p-8 text-center text-muted-foreground",children:n.jsx("p",{children:" .   ,   ."})})})]}),l==="process"&&n.jsx(n.Fragment,{children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Xn,{className:"h-5 w-5"})," "]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsx("p",{className:"text-sm text-blue-800 mb-2",children:n.jsx("strong",{children:":"})}),n.jsxs("ul",{className:"text-sm text-blue-700 list-disc list-inside space-y-1",children:[n.jsx("li",{children:"      "}),n.jsx("li",{children:'    -   " "'}),n.jsx("li",{children:'    -   " "'}),n.jsx("li",{children:'   0 -   ""'}),n.jsx("li",{children:"   "})]})]}),n.jsx("div",{className:"space-y-4",children:N.filter(V=>["in-register","approved-for-payment"].includes(V.status)).map(V=>{const q=Z(V.id),F=_(V.priority),L=q.actualAmount===0?"declined":$(V.amount,q.actualAmount);return n.jsx(me,{className:"border-l-4 border-l-orange-400",children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-medium",children:V.docNumber}),n.jsx(je,{variant:"outline",children:V.payingCompany}),n.jsx(je,{variant:"outline",children:V.dueDate}),F&&n.jsx(je,{style:{backgroundColor:`${F.color==="red"?"#fef2f2":F.color==="orange"?"#fff7ed":F.color==="yellow"?"#fefce8":F.color==="green"?"#f0fdf4":"#f9fafb"}`,color:`${F.color==="red"?"#b91c1c":F.color==="orange"?"#c2410c":F.color==="yellow"?"#a16207":F.color==="green"?"#166534":"#374151"}`},children:F.label})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[T(V.counterpartyId)," - ",V.description]}),n.jsx("div",{className:"text-sm",children:n.jsxs("span",{children:[" : ",n.jsxs("strong",{children:[V.amount.toLocaleString()," ",V.currency]})]})})]}),n.jsx("div",{className:"text-right",children:n.jsx(je,{className:L==="paid-full"?"bg-green-100 text-green-800":L==="paid-partial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:L==="paid-full"?" ":L==="paid-partial"?" ":""})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"   *"}),n.jsx(ke,{type:"number",value:q.actualAmount,onChange:Y=>W(V.id,"actualAmount",Number(Y.target.value)),placeholder:"0.00",min:"0",step:"0.01"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsx(ke,{type:"date",value:q.executionDate,onChange:Y=>W(V.id,"executionDate",Y.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(ae,{children:""}),n.jsx(Pi,{value:q.comment,onChange:Y=>W(V.id,"comment",Y.target.value),placeholder:"  ",rows:2})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(X,{onClick:()=>M(V.id),disabled:!q.actualAmount&&L!=="declined",variant:L==="declined"?"destructive":"default",children:[L==="paid-full"&&n.jsx(pt,{className:"h-4 w-4 mr-2"}),L==="paid-partial"&&n.jsx(Jt,{className:"h-4 w-4 mr-2"}),L==="declined"&&n.jsx(Gn,{className:"h-4 w-4 mr-2"}),L==="paid-full"?"   ":L==="paid-partial"?"   ":" "]})})]})})},V.id)})}),n.jsxs("div",{className:"flex justify-between items-center mt-6 pt-6 border-t",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[" : ",H," "]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>u("existing"),children:""}),n.jsxs(X,{onClick:I,disabled:Object.keys(d).length===0,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Vd,{className:"h-4 w-4 mr-2"}),"   (",Object.keys(d).length,")"]})]})]}),H===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(pt,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),n.jsx("p",{children:"     "})]})]})]})})]})}function Pme({request:e,onUpdateStatus:t,onCancel:r}){const[a,s]=x.useState(null),[i,l]=x.useState(""),[u,d]=x.useState(e.amount),[f,m]=x.useState(mt(new Date,"yyyy-MM-dd")),[h,g]=x.useState(1),[j,w]=x.useState(null),{items:b}=lr("counterparties"),{items:v}=lr("expense-articles"),{items:N}=lr("priorities"),{items:C}=lr("contracts");b.find($=>$.id===e.counterpartyId);const S=e.expenseSplits||[],A=e.paymentAllocations||[],_=$=>{const M=v.find(I=>I.id===$);return M?`${M.code} - ${M.name}`:""},T=$=>N.find(M=>M.id===$),R=$=>b.find(M=>M.id===$)?.name||"",D=$=>$==="outside-deals"?{code:" ",id:"outside-deals"}:C.find(M=>M.id===$),k=()=>{t(a,{actualAmount:a==="paid-partial"||a==="paid-full"?u:void 0,executionDate:a==="paid-partial"||a==="paid-full"?f:void 0,exchangeRate:a==="paid-partial"||a==="paid-full"?h:void 0,executionComment:i||void 0})},B=()=>{alert(" : "+e.fileName)},z=()=>{alert(" : "+e.fileName)},G=$=>{$.target.files&&$.target.files[0]&&w($.target.files[0])},W=$=>{switch($){case"approved":return"bg-blue-100 text-blue-800";case"in-register":return"bg-purple-100 text-purple-800";case"approved-for-payment":return"bg-green-100 text-green-800";case"paid-full":return"bg-emerald-100 text-emerald-800";case"paid-partial":return"bg-yellow-100 text-yellow-800";case"declined":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Z=$=>{switch($){case"approved":return" ";case"in-register":return"  ";case"approved-for-payment":return"  ";case"paid-full":return" ";case"paid-partial":return" ";case"declined":return"";case"cancelled":return"";default:return""}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:r,children:[n.jsx(Ia,{className:"h-4 w-4 mr-2"})," "]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:e.requestNumber?`: ${e.requestNumber}`:`: ${e.docNumber}`})]}),n.jsx(je,{className:W(e.status),children:Z(e.status)})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"  "]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsx("p",{className:"font-medium",children:e.payingCompany||" "})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:""}),n.jsx("p",{className:"font-medium",children:R(e.counterpartyId)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" -"}),n.jsx("p",{className:"font-medium",children:e.docType||" "})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsx("p",{className:"font-medium",children:mt(new Date(e.dueDate),"d MMM yyyy",{locale:St})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsx("p",{className:"font-medium",children:e.docNumber})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsx("p",{className:"font-medium",children:e.docDate})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:""}),n.jsxs("p",{className:"text-lg font-semibold text-primary",children:[e.amount.toLocaleString()," ",e.currency]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsx("p",{className:"font-medium",children:e.vatRate||" "})]}),n.jsxs("div",{className:"sm:col-span-2 lg:col-span-4 space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"-"}),n.jsx("div",{className:"flex items-center gap-2",children:e.fileName&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-muted-foreground flex-1",children:e.fileName}),n.jsxs(X,{variant:"outline",size:"sm",onClick:B,children:[n.jsx(Oi,{className:"h-4 w-4 mr-1"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:z,children:[n.jsx(Zn,{className:"h-4 w-4 mr-1"}),""]})]})})]})]}),(e.expenseCategory||e.productService||e.volume||e.priceRate||e.period||e.description)&&n.jsxs(n.Fragment,{children:[n.jsx(ha,{className:"my-6"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ae,{className:"text-sm font-medium",children:" "}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[e.expenseCategory&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:" :"})," ",e.expenseCategory]}),e.productService&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"/:"})," ",e.productService]}),e.volume&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:":"})," ",e.volume]}),e.priceRate&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:":"})," ",e.priceRate]}),e.period&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:":"})," ",e.period]})]})]})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:S.map(($,M)=>n.jsxs("div",{className:"flex justify-between items-start p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:_($.expenseItemId)}),$.comment&&n.jsxs("div",{className:"mt-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" :"}),n.jsx("p",{className:"text-sm text-muted-foreground italic",children:$.comment})]})]}),n.jsxs(je,{variant:"secondary",children:[$.amount.toLocaleString()," ",e.currency]})]},M))})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Gl,{className:"h-5 w-5"}),"   "]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:A.length>0?A.map(($,M)=>{const I=D($.contractId),O=$.priority?T($.priority):null;return n.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50/30",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:""}),n.jsx("p",{className:"font-medium",children:I?.code||($.contractId==="outside-deals"?" ":"")}),$.contractId==="outside-deals"&&n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx(Ot,{className:"h-3 w-3 text-orange-500"}),n.jsx("span",{className:"text-xs text-orange-600",children:"   "})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsxs("p",{className:"font-semibold text-lg",children:[$.amount.toLocaleString()," ",e.currency]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:""}),n.jsx("div",{className:"flex items-center gap-2",children:O?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${O.color==="red"?"bg-red-500":O.color==="orange"?"bg-orange-500":O.color==="yellow"?"bg-yellow-500":O.color==="green"?"bg-green-500":"bg-gray-500"}`}),n.jsx("span",{className:"text-sm font-medium",children:O.label})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:" "})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsx("div",{className:"flex items-center gap-2",children:$.requiresPaymentOrder?n.jsxs(n.Fragment,{children:[n.jsx(RB,{className:"h-4 w-4 text-orange-500"}),n.jsx("span",{className:"text-sm font-medium text-orange-600",children:""})]}):n.jsxs(n.Fragment,{children:[n.jsx(pt,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]})})]})]}),$.comment&&n.jsxs("div",{className:"mt-4 pt-3 border-t bg-white rounded p-3",children:[n.jsxs(ae,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(Po,{className:"h-3 w-3"})," :"]}),n.jsx("p",{className:"text-sm mt-1 italic",children:$.comment})]})]},$.id)}):n.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[n.jsx(Gl,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"       "})]})})})]}),e.history&&e.history.length>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"  "})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:e.history.map($=>n.jsx("div",{className:"flex gap-3 p-3 bg-muted/30 rounded",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-sm font-medium",children:$.action}),n.jsx(je,{variant:"outline",className:"text-xs",children:$.role==="EXECUTOR"?"":$.role==="registrar"?"":$.role==="distributor"?"":""})]}),$.comment&&n.jsx("p",{className:"text-sm text-muted-foreground",children:$.comment}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:mt(new Date($.date),"d MMMM yyyy, HH:mm",{locale:St})})]})},$.id))})})]}),!a&&n.jsxs("div",{className:"flex flex-wrap gap-4 justify-end",children:[e.status==="approved"&&n.jsxs(X,{onClick:()=>s("in-register"),className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(pt,{className:"h-4 w-4 mr-2"}),"    "]}),(e.status==="in-register"||e.status==="approved-for-payment")&&n.jsxs(n.Fragment,{children:[n.jsxs(X,{onClick:()=>s("paid-full"),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(pt,{className:"h-4 w-4 mr-2"})," "]}),n.jsxs(X,{variant:"outline",onClick:()=>s("paid-partial"),children:[n.jsx(Jt,{className:"h-4 w-4 mr-2"})," "]})]}),n.jsxs(X,{variant:"destructive",onClick:()=>s("declined"),children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",onClick:()=>s("cancelled"),children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),""]})]}),a&&n.jsxs(me,{className:"border-2 border-primary",children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[a==="in-register"&&n.jsx(pt,{className:"h-4 w-4 text-purple-500"}),(a==="paid-full"||a==="paid-partial")&&n.jsx(pt,{className:"h-4 w-4 text-green-500"}),(a==="declined"||a==="cancelled")&&n.jsx(Gn,{className:"h-4 w-4 text-red-500"})," "]})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("p",{children:[a==="in-register"&&"      .",a==="paid-full"&&"     .",a==="paid-partial"&&"     .",a==="declined"&&"  .",a==="cancelled"&&"  ."]}),(a==="paid-full"||a==="paid-partial")&&n.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded",children:[n.jsx("h4",{className:"font-medium",children:"  "}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"   *"}),n.jsx(ke,{type:"number",value:u,onChange:$=>d(Number($.target.value)),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsx(ke,{type:"date",value:f,onChange:$=>m($.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"   "}),n.jsx(ke,{type:"number",step:"0.01",value:h,onChange:$=>g(Number($.target.value)),placeholder:"1.00"})]})]}),A.some($=>$.requiresPaymentOrder)&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(Ao,{className:"h-4 w-4"}),"  *"]}),n.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded",children:[n.jsx("p",{className:"text-sm text-orange-700 mb-2",children:" ,        "}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ke,{type:"file",accept:".pdf,.doc,.docx",onChange:G,className:"flex-1"}),j&&n.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[n.jsx(pt,{className:"h-4 w-4"}),j.name]})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(Pi,{value:i,onChange:$=>l($.target.value),placeholder:"  ",rows:3})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(X,{variant:"outline",onClick:()=>s(null),children:""}),n.jsxs(X,{onClick:k,disabled:(a==="paid-full"||a==="paid-partial")&&(!u||!f),variant:a==="declined"||a==="cancelled"?"destructive":"default",children:[n.jsx(cp,{className:"h-4 w-4 mr-2"}),""]})]})]})]})]})}class vn{static async getDepartments(){return Oe.get("/api/v1/positions/departments")}static async createDepartment(t){return Oe.post("/api/v1/positions/departments",t)}static async updateDepartment(t,r){return Oe.put(`/api/v1/positions/departments/${t}`,r)}static async deleteDepartment(t){return Oe.delete(`/api/v1/positions/departments/${t}`)}static async getPositions(){return Oe.get("/api/v1/positions")}static async getPosition(t){return Oe.get(`/api/v1/positions/${t}`)}static async createPosition(t){return Oe.post("/api/v1/positions",t)}static async updatePosition(t,r){return Oe.put(`/api/v1/positions/${t}`,r)}static async deletePosition(t){return Oe.delete(`/api/v1/positions/${t}`)}static async assignUserToPosition(t,r){return Oe.post(`/api/v1/positions/${t}/assign-user`,r)}static async getPositionUsers(t){return Oe.get(`/api/v1/positions/${t}/users`)}static async removeUserFromPosition(t){return Oe.delete(`/api/v1/positions/assignments/${t}`)}}class fr{static async getSystemStatistics(){return Oe.get("/api/v1/admin/statistics")}static async getActivityLog(t=50){return Oe.get(`/api/v1/admin/activity-log?limit=${t}`)}static async searchUsers(t){const r=new URLSearchParams;t.query&&r.append("query",t.query),t.role&&r.append("role",t.role),t.is_active!==void 0&&r.append("is_active",t.is_active.toString()),t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString());const a=r.toString(),s=a?`/api/v1/admin/users/search?${a}`:"/api/v1/admin/users/search";return Oe.get(s)}static async getUsersByRole(t){return Oe.get(`/api/v1/admin/users/by-role/${t}`)}static async bulkCreateUsers(t){return Oe.post("/api/v1/admin/users/bulk-create",{users:t})}static async bulkUpdateUsers(t){return Oe.put("/api/v1/admin/users/bulk-update",{users:t})}static async bulkDeleteUsers(t){return Oe.delete("/api/v1/admin/users/bulk-delete",{user_ids:t})}static async getRoleStatistics(){return Oe.get("/api/v1/admin/roles/statistics")}static async getRoleUsage(t){return Oe.get(`/api/v1/admin/roles/${t}/usage`)}static async getDepartments(){return vn.getDepartments()}static async createDepartment(t){return vn.createDepartment(t)}static async updateDepartment(t,r){return vn.updateDepartment(t,r)}static async deleteDepartment(t){return vn.deleteDepartment(t)}static async getPositions(){return vn.getPositions()}static async getPosition(t){return vn.getPosition(t)}static async createPosition(t){return vn.createPosition(t)}static async updatePosition(t,r){return vn.updatePosition(t,r)}static async deletePosition(t){return vn.deletePosition(t)}static async assignUserToPosition(t,r){return vn.assignUserToPosition(t,r)}static async getPositionUsers(t){return vn.getPositionUsers(t)}static async removeUserFromPosition(t){return vn.removeUserFromPosition(t)}}const _e={VIEW_DASHBOARD:"view_dashboard",VIEW_ADMIN_DASHBOARD:"view_admin_dashboard",VIEW_WORKFLOW_DASHBOARD:"view_workflow_dashboard",VIEW_REQUESTS:"view_requests",CREATE_REQUESTS:"create_requests",EDIT_REQUESTS:"edit_requests",DELETE_REQUESTS:"delete_requests",APPROVE_REQUESTS:"approve_requests",CLASSIFY_REQUESTS:"classify_requests",DISTRIBUTE_REQUESTS:"distribute_requests",RETURN_REQUESTS:"return_requests",VIEW_USERS:"view_users",CREATE_USERS:"create_users",EDIT_USERS:"edit_users",DELETE_USERS:"delete_users",MANAGE_USER_ROLES:"manage_user_roles",VIEW_ROLES:"view_roles",CREATE_ROLES:"create_roles",EDIT_ROLES:"edit_roles",DELETE_ROLES:"delete_roles",MANAGE_ROLE_PERMISSIONS:"manage_role_permissions",VIEW_DICTIONARIES:"view_dictionaries",MANAGE_DICTIONARIES:"manage_dictionaries",MANAGE_EXPENSE_ARTICLES:"manage_expense_articles",MANAGE_COUNTERPARTIES:"manage_counterparties",VIEW_EXPENSE_ARTICLE_ASSIGNMENTS:"view_expense_article_assignments",MANAGE_EXPENSE_ARTICLE_ASSIGNMENTS:"manage_expense_article_assignments",VIEW_REGISTERS:"view_registers",CREATE_REGISTERS:"create_registers",MANAGE_REGISTERS:"manage_registers",VIEW_SYSTEM_STATISTICS:"view_system_statistics",MANAGE_SYSTEM_SETTINGS:"manage_system_settings",VIEW_AUDIT_LOGS:"view_audit_logs",VIEW_SUB_REGISTRAR_ASSIGNMENTS:"view_sub_registrar_assignments",MANAGE_SUB_REGISTRAR_ASSIGNMENTS:"manage_sub_registrar_assignments",VIEW_DISTRIBUTOR_WORKFLOW:"view_distributor_workflow",MANAGE_DISTRIBUTOR_ROUTING:"manage_distributor_routing"},Rme={ADMIN:[_e.VIEW_DASHBOARD,_e.VIEW_ADMIN_DASHBOARD,_e.VIEW_WORKFLOW_DASHBOARD,_e.VIEW_REQUESTS,_e.CREATE_REQUESTS,_e.EDIT_REQUESTS,_e.DELETE_REQUESTS,_e.APPROVE_REQUESTS,_e.CLASSIFY_REQUESTS,_e.DISTRIBUTE_REQUESTS,_e.RETURN_REQUESTS,_e.VIEW_USERS,_e.CREATE_USERS,_e.EDIT_USERS,_e.DELETE_USERS,_e.MANAGE_USER_ROLES,_e.VIEW_ROLES,_e.CREATE_ROLES,_e.EDIT_ROLES,_e.DELETE_ROLES,_e.MANAGE_ROLE_PERMISSIONS,_e.VIEW_DICTIONARIES,_e.MANAGE_DICTIONARIES,_e.MANAGE_EXPENSE_ARTICLES,_e.MANAGE_COUNTERPARTIES,_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS,_e.MANAGE_EXPENSE_ARTICLE_ASSIGNMENTS,_e.VIEW_REGISTERS,_e.CREATE_REGISTERS,_e.MANAGE_REGISTERS,_e.VIEW_SYSTEM_STATISTICS,_e.MANAGE_SYSTEM_SETTINGS,_e.VIEW_AUDIT_LOGS,_e.VIEW_SUB_REGISTRAR_ASSIGNMENTS,_e.MANAGE_SUB_REGISTRAR_ASSIGNMENTS,_e.VIEW_DISTRIBUTOR_WORKFLOW,_e.MANAGE_DISTRIBUTOR_ROUTING],EXECUTOR:[_e.VIEW_DASHBOARD,_e.VIEW_REQUESTS,_e.CREATE_REQUESTS,_e.EDIT_REQUESTS,_e.DELETE_REQUESTS,_e.VIEW_DICTIONARIES,_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS],REGISTRAR:[_e.VIEW_DASHBOARD,_e.VIEW_WORKFLOW_DASHBOARD,_e.VIEW_REQUESTS,_e.CLASSIFY_REQUESTS,_e.DISTRIBUTE_REQUESTS,_e.RETURN_REQUESTS,_e.VIEW_DICTIONARIES,_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS,_e.VIEW_SUB_REGISTRAR_ASSIGNMENTS,_e.MANAGE_SUB_REGISTRAR_ASSIGNMENTS],SUB_REGISTRAR:[_e.VIEW_DASHBOARD,_e.VIEW_WORKFLOW_DASHBOARD,_e.VIEW_REQUESTS,_e.VIEW_DICTIONARIES,_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS],DISTRIBUTOR:[_e.VIEW_DASHBOARD,_e.VIEW_WORKFLOW_DASHBOARD,_e.VIEW_REQUESTS,_e.APPROVE_REQUESTS,_e.DISTRIBUTE_REQUESTS,_e.VIEW_DICTIONARIES,_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS,_e.VIEW_DISTRIBUTOR_WORKFLOW,_e.MANAGE_DISTRIBUTOR_ROUTING],TREASURER:[_e.VIEW_DASHBOARD,_e.VIEW_REQUESTS,_e.APPROVE_REQUESTS,_e.VIEW_REGISTERS,_e.CREATE_REGISTERS,_e.MANAGE_REGISTERS,_e.VIEW_DICTIONARIES,_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS]},OS=(e,t)=>(Rme[e]||[]).includes(t),DS=(e,t)=>t.some(r=>OS(e,r)),kme=(e,t)=>t.every(r=>OS(e,r)),Ime={dashboard:[_e.VIEW_DASHBOARD],admin:[_e.VIEW_ADMIN_DASHBOARD],requests:[_e.VIEW_REQUESTS],"user-management":[_e.VIEW_USERS],"role-management":[_e.VIEW_ROLES],dictionaries:[_e.VIEW_DICTIONARIES],"expense-article-assignment":[_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS],registers:[_e.VIEW_REGISTERS],"system-statistics":[_e.VIEW_SYSTEM_STATISTICS],"sub-registrar-assignments":[_e.VIEW_SUB_REGISTRAR_ASSIGNMENTS],"distributor-workflow":[_e.VIEW_DISTRIBUTOR_WORKFLOW],"distributor-routing":[_e.MANAGE_DISTRIBUTOR_ROUTING]},R1=(e,t)=>{const r=Ime[t]||[];return r.length===0?!0:DS(e,r)},Ome={SHOW_ADMIN_MENU:[_e.VIEW_ADMIN_DASHBOARD],SHOW_USER_MANAGEMENT:[_e.VIEW_USERS],SHOW_ROLE_MANAGEMENT:[_e.VIEW_ROLES],SHOW_DICTIONARIES:[_e.VIEW_DICTIONARIES],SHOW_EXPENSE_ARTICLE_ASSIGNMENTS:[_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS],SHOW_REGISTERS:[_e.VIEW_REGISTERS],SHOW_SYSTEM_STATISTICS:[_e.VIEW_SYSTEM_STATISTICS],SHOW_CREATE_REQUEST_BUTTON:[_e.CREATE_REQUESTS],SHOW_EDIT_REQUEST_BUTTON:[_e.EDIT_REQUESTS],SHOW_DELETE_REQUEST_BUTTON:[_e.DELETE_REQUESTS],SHOW_APPROVE_REQUEST_BUTTON:[_e.APPROVE_REQUESTS],SHOW_CLASSIFY_REQUEST_BUTTON:[_e.CLASSIFY_REQUESTS],SHOW_DISTRIBUTE_REQUEST_BUTTON:[_e.DISTRIBUTE_REQUESTS],SHOW_RETURN_REQUEST_BUTTON:[_e.RETURN_REQUESTS],SHOW_CREATE_USER_BUTTON:[_e.CREATE_USERS],SHOW_EDIT_USER_BUTTON:[_e.EDIT_USERS],SHOW_DELETE_USER_BUTTON:[_e.DELETE_USERS],SHOW_MANAGE_USER_ROLES_BUTTON:[_e.MANAGE_USER_ROLES],SHOW_CREATE_ROLE_BUTTON:[_e.CREATE_ROLES],SHOW_EDIT_ROLE_BUTTON:[_e.EDIT_ROLES],SHOW_DELETE_ROLE_BUTTON:[_e.DELETE_ROLES],SHOW_MANAGE_ROLE_PERMISSIONS_BUTTON:[_e.MANAGE_ROLE_PERMISSIONS],SHOW_MANAGE_DICTIONARIES_BUTTON:[_e.MANAGE_DICTIONARIES],SHOW_MANAGE_EXPENSE_ARTICLES_BUTTON:[_e.MANAGE_EXPENSE_ARTICLES],SHOW_MANAGE_COUNTERPARTIES_BUTTON:[_e.MANAGE_COUNTERPARTIES],SHOW_MANAGE_EXPENSE_ARTICLE_ASSIGNMENTS_BUTTON:[_e.MANAGE_EXPENSE_ARTICLE_ASSIGNMENTS],SHOW_CREATE_REGISTER_BUTTON:[_e.CREATE_REGISTERS],SHOW_MANAGE_REGISTERS_BUTTON:[_e.MANAGE_REGISTERS]},Dme=(e,t)=>{const r=Ome[t];return DS(e,r)},J5=e=>({hasPermission:t=>OS(e,t),hasAnyPermission:t=>DS(e,t),hasAllPermissions:t=>kme(e,t),canAccessRoute:t=>R1(e,t),canShowUIElement:t=>Dme(e,t)}),Mu=({userRole:e,permission:t,uiElement:r,children:a,fallback:s=null,requireAll:i=!1,permissions:l=[]})=>{const{hasPermission:u,hasAnyPermission:d,hasAllPermissions:f,canShowUIElement:m}=J5(e);let h=!1;return r?h=m(r):t?h=u(t):l.length>0?h=i?f(l):d(l):h=!0,h?n.jsx(n.Fragment,{children:a}):n.jsx(n.Fragment,{children:s})};function Mme({onNavigate:e}){const{state:t}=zi(),[r,a]=x.useState({systemStats:null,dictionaryStats:null,loading:!0,error:null});return x.useEffect(()=>{(async()=>{try{a(d=>({...d,loading:!0,error:null}));const i=await fr.getSystemStatistics(),u=await Ps.getInstance().getStatistics("expense-articles");a({systemStats:i,dictionaryStats:u,loading:!1,error:null})}catch(i){console.error("Error loading statistics:",i),a(l=>({...l,loading:!1,error:"  "}))}})()},[]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:" ,   "}),r.error&&n.jsx("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-md",children:n.jsx("p",{className:"text-sm text-red-600",children:r.error})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.loading?"-":r.systemStats?.active_users||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.loading?" ...":` : ${r.systemStats?.total_users||0}`})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Jh,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.loading?"-":r.dictionaryStats?.totalItems||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.loading?" ...":` : ${r.dictionaryStats?.activeItems||0}`})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Ll,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx(je,{variant:"secondary",className:r.loading?"bg-gray-100 text-gray-800":r.systemStats?.system_health==="healthy"?"bg-green-100 text-green-800":r.systemStats?.system_health==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:r.loading?"...":r.systemStats?.system_health==="healthy"?"":r.systemStats?.system_health==="warning"?"":""})}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r.loading?" ...":" "})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(Mu,{userRole:t.currentRole,permission:_e.VIEW_DICTIONARIES,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Jh,{className:"h-5 w-5"}),""]}),n.jsx(sr,{children:"   ,    "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:r.loading?"-":r.dictionaryStats?.totalItems||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800",children:r.loading?"-":r.dictionaryStats?.activeItems||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-gray-100 text-gray-800",children:r.loading?"-":r.dictionaryStats?.inactiveItems||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800",children:r.loading?"-":r.dictionaryStats?.recentlyUpdated||0})]}),n.jsx(X,{onClick:()=>e("dictionaries"),className:"w-full",children:" "})]})]})}),n.jsx(Mu,{userRole:t.currentRole,permission:_e.VIEW_USERS,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(T6,{className:"h-5 w-5"})," "]}),n.jsx(sr,{children:",     "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800",children:r.loading?"-":r.systemStats?.active_users||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:r.loading?"-":r.systemStats?.total_users||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-gray-100 text-gray-800",children:r.loading?"-":(r.systemStats?.total_users||0)-(r.systemStats?.active_users||0)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800",children:r.loading?"-":r.systemStats?.total_roles||0})]}),n.jsx(X,{onClick:()=>e("user-management"),className:"w-full",children:" "})]})]})}),n.jsx(Mu,{userRole:t.currentRole,permission:_e.VIEW_ROLES,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(v6,{className:"h-5 w-5"})," "]}),n.jsx(sr,{children:"   ,   "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:r.loading?"-":r.systemStats?.total_roles||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800",children:r.loading?"-":r.systemStats?.total_roles||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"  "}),n.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800",children:r.loading?"-":r.systemStats?.active_users||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"  "}),n.jsx(je,{variant:"outline",className:"bg-purple-100 text-purple-800",children:r.loading?"-":r.systemStats?.total_requests||0})]}),n.jsx(X,{onClick:()=>e("role-management"),className:"w-full",children:" "})]})]})}),n.jsx(Mu,{userRole:t.currentRole,permission:_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"}),"  "]}),n.jsx(sr,{children:"         "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800",children:r.loading?"-":"0"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"  "}),n.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800",children:r.loading?"-":"0"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-purple-100 text-purple-800",children:r.loading?"-":"0%"})]}),n.jsx(X,{onClick:()=>e("expense-article-assignment"),className:"w-full",children:" "})]})]})}),n.jsx(Mu,{userRole:t.currentRole,permission:_e.VIEW_USERS,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(em,{className:"h-5 w-5"}),"  "]}),n.jsx(sr,{children:"     "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"3"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"3"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"6"})]}),n.jsx(X,{onClick:()=>e("position-management"),className:"w-full",children:" "})]})]})}),n.jsxs(me,{className:"opacity-50",children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Hd,{className:"h-5 w-5"})," ",n.jsx(dx,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(sr,{children:"    "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsx(X,{disabled:!0,className:"w-full",children:""})]})]}),n.jsxs(me,{className:"opacity-50",children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(LO,{className:"h-5 w-5"})," ",n.jsx(dx,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(sr,{children:"    "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsx(X,{disabled:!0,className:"w-full",children:""})]})]}),n.jsxs(me,{className:"opacity-50",children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(So,{className:"h-5 w-5"})," ",n.jsx(dx,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(sr,{children:" ,   "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsx(X,{disabled:!0,className:"w-full",children:""})]})]})]})]})}class $l{static instance;static getInstance(){return $l.instance||($l.instance=new $l),$l.instance}async getAssignments(t){const r=new URLSearchParams;t?.user_id&&r.append("user_id",t.user_id),t?.role_id&&r.append("role_id",t.role_id),t?.expense_article_id&&r.append("expense_article_id",t.expense_article_id),t?.is_active!==void 0&&r.append("is_active",t.is_active.toString()),t?.page&&r.append("page",t.page.toString()),t?.limit&&r.append("limit",t.limit.toString());const a=Je.baseUrl||"http://localhost:8000";return(await Oe.get(`${a}/api/v1/expense-article-roles?${r.toString()}`)).data}async getAssignment(t){const r=Je.baseUrl||"http://localhost:8000";return(await Oe.get(`${r}/api/v1/expense-article-roles/${t}`)).data}async createAssignment(t){const r=Je.baseUrl||"http://localhost:8000";return(await Oe.post(`${r}/api/v1/expense-article-roles`,t)).data}async updateAssignment(t,r){const a=Je.baseUrl||"http://localhost:8000";return(await Oe.put(`${a}/api/v1/expense-article-roles/${t}`,r)).data}async deleteAssignment(t){const r=Je.baseUrl||"http://localhost:8000";await Oe.delete(`${r}/api/v1/expense-article-roles/${t}`)}async bulkCreateAssignments(t){const r=Je.baseUrl||"http://localhost:8000";return(await Oe.post(`${r}/api/v1/expense-article-roles/bulk`,{assignments:t})).data}async bulkUpdateAssignments(t){const r=Je.baseUrl||"http://localhost:8000";return(await Oe.put(`${r}/api/v1/expense-article-roles/bulk`,{assignments:t})).data}async bulkDeleteAssignments(t){const r=Je.baseUrl||"http://localhost:8000";await Oe.delete(`${r}/api/v1/expense-article-roles/bulk`,{data:{ids:t}})}async getAssignmentsByUser(t){const r=Je.baseUrl||"http://localhost:8000";return(await Oe.get(`${r}/api/v1/expense-article-roles/user/${t}`)).data}async getAssignmentsByExpenseArticle(t){const r=Je.baseUrl||"http://localhost:8000";return console.log("API_CONFIG.baseUrl:",Je.baseUrl),console.log("Using baseUrl:",r),(await Oe.get(`${r}/api/v1/expense-article-roles/expense-article/${t}`)).data}async getStatistics(){const t=Je.baseUrl||"http://localhost:8000";return(await Oe.get(`${t}/api/v1/expense-article-roles/statistics`)).data}async getUserAssignmentsForArticle(t,r){const a=Je.baseUrl||"http://localhost:8000";return(await Oe.get(`${a}/api/v1/expense-article-roles/user/${r}/article/${t}`)).data}async checkUserAccess(t,r){try{return(await this.getUserAssignmentsForArticle(t,r)).some(s=>s.is_active)}catch(a){return console.error("Error checking user access:",a),!1}}}const ma=$l.getInstance();class As{static async getRoles(){return Oe.get(Je.endpoints.getRoles)}static async getRole(t){return Oe.get(`${Je.endpoints.getRole.replace(":id",t)}`)}static async createRole(t){return Oe.post(Je.endpoints.createRole,t)}static async updateRole(t,r){return Oe.put(`${Je.endpoints.updateRole.replace(":id",t)}`,r)}static async deleteRole(t){return Oe.delete(`${Je.endpoints.deleteRole.replace(":id",t)}`)}static async getRoleStatistics(){return Oe.get("/api/v1/admin/roles/statistics")}static async getRoleUsage(t){return Oe.get(`/api/v1/admin/roles/${t}/usage`)}static async getPermissions(){return Promise.resolve([])}static async getRolePermissions(t){return Promise.resolve([])}static async updateRolePermissions(t,r){return Promise.resolve()}}const Tl=[{id:"expense-articles",label:" ",icon:yt,description:"     "},{id:"counterparties",label:"",icon:Pa,description:"    "},{id:"vat-rates",label:" ",icon:qj,description:"  "},{id:"currencies",label:"",icon:qj,description:"  ( )"}];function $me({onBack:e}){const[t,r]=x.useState("expense-articles"),[a,s]=x.useState(""),[i,l]=x.useState(!1),[u,d]=x.useState(!1),[f,m]=x.useState(!1),[h,g]=x.useState(null),[j,w]=x.useState(""),[b,v]=x.useState(!1),[N,C]=x.useState(!1),[S,A]=x.useState(!1),[_,T]=x.useState(null),[R,D]=x.useState({totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0}),[k,B]=x.useState(!1),[z,G]=x.useState(null),[W,Z]=x.useState([]),[$,M]=x.useState([]),[I,O]=x.useState([]),[H,V]=x.useState(!1),[q,F]=x.useState({}),[L,Y]=x.useState({}),{items:ee,statistics:ce,state:K,searchItems:fe,filterItems:oe,createItem:Ee,updateItem:De,deleteItem:re,bulkDelete:le,exportItems:ge,importItems:Fe,selectItem:Xe,selectAllItems:lt,clearSelection:wt,refresh:te}=lr(t);x.useEffect(()=>{(async()=>{A(!0),T(null);try{await te()}catch(Ue){T("  "),console.error("Error loading data:",Ue)}finally{A(!1)}})()},[t,te]),x.useEffect(()=>{ce&&D({totalItems:ce.totalItems||0,activeItems:ce.activeItems||0,inactiveItems:ce.inactiveItems||0,recentlyUpdated:ce.recentlyUpdated||0})},[ce]),x.useEffect(()=>{(async()=>{try{const[Ue,hr]=await Promise.all([fr.searchUsers({limit:100}),As.getRoles()]);M(Ue),O(hr)}catch(Ue){console.error("Error loading assignment data:",Ue)}})()},[]);const se=x.useCallback(async de=>{A(!0),T(null),r(de),s(""),wt(),l(!1),d(!1),m(!1);try{await te()}catch(Ue){T("   "),console.error("Error loading dictionary data:",Ue)}finally{A(!1)}},[wt,te]),Le=x.useCallback(de=>{s(de),de.trim()&&fe(de)},[fe]),st=x.useCallback(()=>{g(null),l(!0),T(null)},[]),Lt=x.useCallback(async de=>{A(!0),T(null);try{await Ee(de),l(!1),await te()}catch(Ue){T("  "),console.error("Error creating item:",Ue)}finally{A(!1)}},[Ee,te]),Zr=x.useCallback(de=>{g(de),Y(de),d(!0),T(null)},[]),ve=x.useCallback(async de=>{if(window.confirm(" ,     ?")){A(!0),T(null);try{await re(de),await te()}catch(Ue){T("  "),console.error("Error deleting item:",Ue)}finally{A(!1)}}},[re,te]),Qe=x.useCallback(async de=>{if(h){A(!0),T(null);try{await De(h.id,de),d(!1),g(null),Y({}),await te()}catch(Ue){T("  "),console.error("Error updating item:",Ue)}finally{A(!1)}}},[h,De,te]),nr=x.useCallback(async de=>{if(K.selectedItems.length!==0){A(!0),T(null);try{switch(de){case"delete":window.confirm(` ,    ${K.selectedItems.length} ?`)&&(await le(K.selectedItems),await te());break;case"export":const Ue=await ge({format:"json"}),hr=URL.createObjectURL(Ue),ms=document.createElement("a");ms.href=hr,ms.download=`${t}-export.json`,ms.click(),URL.revokeObjectURL(hr);break;default:break}}catch(Ue){T(`   : ${de}`),console.error("Bulk action failed:",Ue)}finally{A(!1)}}},[K.selectedItems,le,ge,t,te]),$n=x.useCallback(async de=>{if(t==="expense-articles"){G(de),V(!0);try{const Ue=await ma.getAssignmentsByExpenseArticle(de.id);Z([Ue]),B(!0)}catch(Ue){console.error("Error loading assignments:",Ue),T("  ")}finally{V(!1)}}},[t]),Ks=x.useCallback(async(de,Ue)=>{if(z)try{await ma.createAssignment({user_id:de,role_id:Ue,expense_article_id:z.id,valid_from:new Date().toISOString().split("T")[0]});const hr=await ma.getAssignmentsByExpenseArticle(z.id);Z([hr])}catch(hr){console.error("Error assigning user:",hr),T("  ")}},[z]),Sn=x.useCallback(async de=>{try{if(await ma.bulkDeleteAssignments([de]),z){const Ue=await ma.getAssignmentsByExpenseArticle(z.id);Z([Ue])}}catch(Ue){console.error("Error removing assignment:",Ue),T("  ")}},[z]);x.useCallback(async de=>{A(!0),T(null);try{await Fe(de),await te()}catch(Ue){T("  "),console.error("Import failed:",Ue)}finally{A(!1)}},[Fe,te]);const Ba=x.useCallback(async()=>{A(!0),T(null);try{await te()}catch(de){T("  "),console.error("Refresh failed:",de)}finally{A(!1)}},[te]),ta=de=>de?n.jsxs(je,{className:"bg-green-100 text-green-800",children:[n.jsx(pt,{className:"w-3 h-3 mr-1"}),""]}):n.jsxs(je,{className:"bg-red-100 text-red-800",children:[n.jsx(Gn,{className:"w-3 h-3 mr-1"}),""]}),Yo=()=>{if(S)return n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"text-muted-foreground",children:" ..."})]})});if(K.error)return n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Gn,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 mb-2",children:"  "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:K.error})]})});if(!ee||ee.length===0)return n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"   "}),n.jsxs(X,{onClick:st,className:"mt-4",disabled:S,children:[n.jsx(cn,{className:"w-4 h-4 mr-2"}),"  "]})]})});switch(t){case"expense-articles":return n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.length===ee.length&&ee.length>0,onChange:lt,disabled:S})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:ee.map(de=>n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.includes(de.id),onChange:()=>Xe(de.id),disabled:S})}),n.jsx(Se,{className:"font-mono",children:de.code}),n.jsx(Se,{children:de.name}),n.jsx(Se,{className:"max-w-xs truncate",children:de.description||"-"}),n.jsx(Se,{children:ta(de.is_active)}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>$n(de),disabled:S,title:" ",children:n.jsx($u,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Zr(de),disabled:S,children:n.jsx(ln,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ve(de.id),disabled:S,children:n.jsx(Cr,{className:"w-4 h-4"})})]})})]},de.id))})]});case"counterparties":return n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.length===ee.length&&ee.length>0,onChange:lt,disabled:S})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:"/"}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:ee.map(de=>n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.includes(de.id),onChange:()=>Xe(de.id),disabled:S})}),n.jsx(Se,{children:de.name}),n.jsx(Se,{className:"font-mono",children:de.binIin||"-"}),n.jsx(Se,{children:de.category||"-"}),n.jsx(Se,{children:ta(de.is_active)}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Zr(de),disabled:S,children:n.jsx(ln,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ve(de.id),disabled:S,children:n.jsx(Cr,{className:"w-4 h-4"})})]})})]},de.id))})]});case"vat-rates":return n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.length===ee.length&&ee.length>0,onChange:lt,disabled:S})}),n.jsx(Ce,{children:" (%)"}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:ee.map(de=>n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.includes(de.id),onChange:()=>Xe(de.id),disabled:S})}),n.jsxs(Se,{className:"font-mono",children:[de.rate,"%"]}),n.jsx(Se,{children:de.name}),n.jsx(Se,{children:ta(de.is_active)}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Zr(de),disabled:S,children:n.jsx(ln,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ve(de.id),disabled:S,children:n.jsx(Cr,{className:"w-4 h-4"})})]})})]},de.id))})]});case"currencies":return n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.length===ee.length&&ee.length>0,onChange:lt,disabled:S})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:ee.map(de=>n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsx("input",{type:"checkbox",checked:K.selectedItems.includes(de.code),onChange:()=>Xe(de.code),disabled:S})}),n.jsx(Se,{className:"font-mono",children:de.code}),n.jsx(Se,{children:de.scale}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",disabled:!0,title:"    ",children:n.jsx(ln,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",disabled:!0,title:"    ",children:n.jsx(Cr,{className:"w-4 h-4"})})]})})]},de.code))})]});default:return n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Ot,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"  "})]})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]}),n.jsx(X,{onClick:e,variant:"outline",children:""})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{onClick:st,disabled:S,children:[n.jsx(cn,{className:"w-4 h-4 mr-2"}),""]}),K.selectedItems.length>0&&n.jsxs(X,{variant:"destructive",onClick:()=>nr("delete"),disabled:S,children:[n.jsx(Cr,{className:"w-4 h-4 mr-2"})," (",K.selectedItems.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",onClick:Ba,disabled:S,children:[S?n.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(xn,{className:"w-4 h-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",onClick:()=>m(!0),disabled:S||K.selectedItems.length===0,children:[n.jsx(UO,{className:"w-4 h-4 mr-2"})," "]}),n.jsxs(X,{variant:"outline",onClick:()=>v(!0),disabled:S,children:[n.jsx(kE,{className:"w-4 h-4 mr-2"}),"/"]}),n.jsxs(X,{variant:"outline",onClick:()=>C(!0),disabled:S,children:[n.jsx(Hj,{className:"w-4 h-4 mr-2"}),""]})]})]}),_&&n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-red-600",children:_}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>T(null),className:"text-red-600 hover:text-red-800",children:""})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:S?"-":R.totalItems}),S&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"..."})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(pt,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:S?"-":R.activeItems}),S&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"..."})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Gn,{className:"h-4 w-4 text-red-600"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:S?"-":R.inactiveItems}),S&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"..."})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"  "}),n.jsx(Hd,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:S?"-":R.recentlyUpdated}),S&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"..."})]})]})]}),n.jsx(me,{className:"border-0 shadow-sm bg-gradient-to-r from-slate-50 to-gray-50",children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[n.jsx("div",{className:"flex-1 w-full lg:max-w-md",children:n.jsxs("div",{className:"relative group",children:[n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4 group-focus-within:text-primary transition-colors"}),n.jsx(ke,{id:"search",placeholder:"  ,   ...",value:a,onChange:de=>Le(de.target.value),className:"pl-10 pr-4 h-11 bg-white border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200",disabled:S}),a&&n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Le(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0 hover:bg-gray-100",children:n.jsx(Gn,{className:"h-3 w-3"})})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{oe({})},className:"h-9 px-4 bg-white hover:bg-gray-50 border-gray-200",children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{onClick:()=>{oe({})},className:"h-9 px-6 bg-primary hover:bg-primary/90 text-white shadow-sm",children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),""]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[t==="expense-articles"&&n.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[n.jsx(ae,{htmlFor:"status-filter",className:"text-sm font-medium text-gray-700",children:""}),n.jsxs(tt,{onValueChange:de=>{oe({is_active:de==="active"})},children:[n.jsx(nt,{className:"h-9 bg-white border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20",children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"})," "]})}),n.jsx(ye,{value:"active",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),""]})}),n.jsx(ye,{value:"inactive",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),""]})})]})]})]}),t==="counterparties"&&n.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[n.jsx(ae,{htmlFor:"category-filter",className:"text-sm font-medium text-gray-700",children:""}),n.jsxs(tt,{onValueChange:de=>{oe({category:de==="all"?void 0:de})},children:[n.jsx(nt,{className:"h-9 bg-white border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20",children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"w-4 h-4 text-gray-400"})," "]})}),n.jsx(ye,{value:" ",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"w-4 h-4 text-green-500"})," "]})}),n.jsx(ye,{value:"",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"w-4 h-4 text-blue-500"}),""]})}),n.jsx(ye,{value:" ",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"w-4 h-4 text-orange-500"})," "]})}),n.jsx(ye,{value:"",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"w-4 h-4 text-purple-500"}),""]})}),n.jsx(ye,{value:"/",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"w-4 h-4 text-gray-500"}),"/"]})})]})]})]}),t==="vat-rates"&&n.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[n.jsx(ae,{htmlFor:"rate-filter",className:"text-sm font-medium text-gray-700",children:" "}),n.jsxs(tt,{onValueChange:de=>{oe({})},children:[n.jsx(nt,{className:"h-9 bg-white border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20",children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),n.jsx(ye,{value:"0-10",children:"0% - 10%"}),n.jsx(ye,{value:"10-20",children:"10% - 20%"}),n.jsx(ye,{value:"20+",children:"20%  "})]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 pt-2 border-t border-gray-200",children:[n.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:(a||t==="expense-articles"||t==="counterparties")&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-sm text-gray-500",children:" :"}),a&&n.jsxs(je,{variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:[n.jsx(xr,{className:"w-3 h-3 mr-1"}),'"',a,'"',n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Le(""),className:"ml-2 h-4 w-4 p-0 hover:bg-blue-300",children:n.jsx(Gn,{className:"h-3 w-3"})})]})]})}),n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{oe({is_active:!0})},className:"h-8 px-3 text-xs hover:bg-green-50 hover:text-green-700",children:[n.jsx(pt,{className:"w-3 h-3 mr-1"})," "]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{oe({is_active:!1})},className:"h-8 px-3 text-xs hover:bg-red-50 hover:text-red-700",children:[n.jsx(Gn,{className:"w-3 h-3 mr-1"})," "]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{oe({})},className:"h-8 px-3 text-xs hover:bg-gray-50",children:[n.jsx(xn,{className:"w-3 h-3 mr-1"})," "]})]})]})]})})}),n.jsxs(Dc,{value:t,onValueChange:se,children:[n.jsx(Mc,{className:"flex w-full",children:Tl.map(de=>{const Ue=de.icon;return n.jsxs(jn,{value:de.id,className:"flex items-center gap-2 flex-1",disabled:S,children:[n.jsx(Ue,{className:"w-4 h-4"}),de.label]},de.id)})}),Tl.map(de=>n.jsx(wn,{value:de.id,className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(de.icon,{className:"w-5 h-5"}),de.label]}),n.jsx(sr,{children:de.description})]}),n.jsx(pe,{children:Yo()})]})},de.id))]}),n.jsx(Ut,{open:f,onOpenChange:m,children:n.jsxs($t,{children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsxs(Wt,{children:["   ",K.selectedItems.length,"  "]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs(tt,{value:j,onValueChange:w,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"delete",children:""}),n.jsx(ye,{value:"export",children:""}),n.jsx(ye,{value:"activate",children:""}),n.jsx(ye,{value:"deactivate",children:""})]})]})}),n.jsxs(Ml,{children:[n.jsx(X,{variant:"outline",onClick:()=>m(!1),children:""}),n.jsxs(X,{onClick:()=>{nr(j),m(!1)},disabled:!j||S,children:[S?n.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}):null,""]})]})]})}),n.jsx(Ut,{open:b,onOpenChange:v,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"/ "}),n.jsxs(Wt,{children:['   "',Tl.find(de=>de.id===t)?.label,'"']})]}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(kE,{className:"h-12 w-12 mx-auto mb-4"}),n.jsx("p",{children:" /  "})]})})]})}),n.jsx(Ut,{open:N,onOpenChange:C,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsxs(Wt,{children:['       "',Tl.find(de=>de.id===t)?.label,'"']})]}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Hj,{className:"h-12 w-12 mx-auto mb-4"}),n.jsx("p",{children:"   "})]})})]})}),n.jsx(Ut,{open:k,onOpenChange:B,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"    "}),n.jsxs(Wt,{children:['   "',z?.name,'"']})]}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:H?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Mr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),W.length===0||W[0]?.assignments?.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(DE,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"  "})]}):n.jsx("div",{className:"space-y-2",children:W[0]?.assignments?.map((de,Ue)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:de.user_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:de.user_email})]}),n.jsx(je,{variant:"outline",children:de.role_name})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(de.valid_from).toLocaleDateString("ru-RU"),de.valid_to&&` - ${new Date(de.valid_to).toLocaleDateString("ru-RU")}`]}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Sn(`${de.user_id}-${de.role_id}`),children:n.jsx(DE,{className:"h-4 w-4"})})]})]},`${de.user_id}-${de.role_id}-${Ue}`))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsxs(tt,{onValueChange:de=>{if($.find(hr=>hr.id===de)&&z){const hr=I[0];hr&&Ks(de,hr.id)}},children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:$.map(de=>n.jsxs(ye,{value:de.id,children:[de.full_name," (",de.email,")"]},de.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsxs(tt,{onValueChange:de=>{},children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:I.map(de=>n.jsxs(ye,{value:de.id,children:[de.name," (",de.code,")"]},de.id))})]})]})]})]})]})}),n.jsx(Ml,{children:n.jsx(X,{variant:"outline",onClick:()=>B(!1),children:""})})]})}),n.jsx(Ut,{open:i,onOpenChange:l,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsxs(Wt,{children:['     "',Tl.find(de=>de.id===t)?.label,'"']})]}),n.jsxs("div",{className:"space-y-4",children:[t==="expense-articles"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-code",children:""}),n.jsx(ke,{id:"create-code",placeholder:"   ",onChange:de=>F(Ue=>({...Ue,code:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:""}),n.jsx(ke,{id:"create-name",placeholder:" ",onChange:de=>F(Ue=>({...Ue,name:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-description",children:""}),n.jsx(ke,{id:"create-description",placeholder:" ",onChange:de=>F(Ue=>({...Ue,description:de.target.value}))})]})]}),t==="counterparties"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:""}),n.jsx(ke,{id:"create-name",placeholder:"  ",onChange:de=>F(Ue=>({...Ue,name:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-tax-id",children:"/"}),n.jsx(ke,{id:"create-tax-id",placeholder:" /",onChange:de=>F(Ue=>({...Ue,tax_id:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-category",children:""}),n.jsx(ke,{id:"create-category",placeholder:" ",onChange:de=>F(Ue=>({...Ue,category:de.target.value}))})]})]}),t==="vat-rates"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-rate",children:" (%)"}),n.jsx(ke,{id:"create-rate",type:"number",step:"0.001",placeholder:"  ",onChange:de=>F(Ue=>({...Ue,rate:parseFloat(de.target.value)}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:""}),n.jsx(ke,{id:"create-name",placeholder:"  ",onChange:de=>F(Ue=>({...Ue,name:de.target.value}))})]})]})]}),n.jsxs(Ml,{children:[n.jsx(X,{variant:"outline",onClick:()=>l(!1),children:""}),n.jsxs(X,{onClick:()=>Lt(q),disabled:S,children:[S?n.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}):null,""]})]})]})}),n.jsx(Ut,{open:u,onOpenChange:d,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsxs(Wt,{children:['    "',Tl.find(de=>de.id===t)?.label,'"']})]}),n.jsxs("div",{className:"space-y-4",children:[t==="expense-articles"&&h&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-code",children:""}),n.jsx(ke,{id:"edit-code",defaultValue:h.code,onChange:de=>Y(Ue=>({...Ue,code:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:""}),n.jsx(ke,{id:"edit-name",defaultValue:h.name,onChange:de=>Y(Ue=>({...Ue,name:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-description",children:""}),n.jsx(ke,{id:"edit-description",defaultValue:h.description||"",onChange:de=>Y(Ue=>({...Ue,description:de.target.value}))})]})]}),t==="counterparties"&&h&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:""}),n.jsx(ke,{id:"edit-name",defaultValue:h.name,onChange:de=>Y(Ue=>({...Ue,name:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-tax-id",children:"/"}),n.jsx(ke,{id:"edit-tax-id",defaultValue:h.tax_id||"",onChange:de=>Y(Ue=>({...Ue,tax_id:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-category",children:""}),n.jsx(ke,{id:"edit-category",defaultValue:h.category||"",onChange:de=>Y(Ue=>({...Ue,category:de.target.value}))})]})]}),t==="vat-rates"&&h&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-rate",children:" (%)"}),n.jsx(ke,{id:"edit-rate",type:"number",step:"0.001",defaultValue:h.rate,onChange:de=>Y(Ue=>({...Ue,rate:parseFloat(de.target.value)}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:""}),n.jsx(ke,{id:"edit-name",defaultValue:h.name,onChange:de=>Y(Ue=>({...Ue,name:de.target.value}))})]})]})]}),n.jsxs(Ml,{children:[n.jsx(X,{variant:"outline",onClick:()=>d(!1),children:""}),n.jsxs(X,{onClick:()=>Qe(L),disabled:S,children:[S?n.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}):null,""]})]})]})})]})}function Lme({onBack:e}){const[t,r]=x.useState({notifications:{emailEnabled:!0,smsEnabled:!1,webhookEnabled:!0,overdueReminders:!0,approvalReminders:!0},security:{sessionTimeout:480,requirePasswordChange:!0,passwordChangeInterval:90,maxLoginAttempts:5,ipWhitelistEnabled:!1},backup:{autoBackup:!0,backupInterval:"daily",retentionDays:30,cloudBackup:!0},integration:{apiEnabled:!0,webhookUrl:"https://api.grainpay.kz/webhook",apiKey:"gp_*********************",bankIntegration:!0}}),a=(u,d,f)=>{r(m=>({...m,[u]:{...m[u],[d]:f}})),we.success(" ")},s=()=>{we.success(" ")},i=()=>{we.success("  ")},l=()=>{we.success(" ")};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(X,{variant:"ghost",onClick:e,className:"pl-0",children:" "}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:" ,   "})]})]}),n.jsx(X,{onClick:s,children:" "})]}),n.jsxs(Dc,{defaultValue:"notifications",className:"space-y-4",children:[n.jsxs(Mc,{className:"grid w-full grid-cols-4",children:[n.jsxs(jn,{value:"notifications",className:"flex items-center gap-2",children:[n.jsx($O,{className:"h-4 w-4"}),""]}),n.jsxs(jn,{value:"security",className:"flex items-center gap-2",children:[n.jsx(So,{className:"h-4 w-4"}),""]}),n.jsxs(jn,{value:"backup",className:"flex items-center gap-2",children:[n.jsx(em,{className:"h-4 w-4"})," "]}),n.jsxs(jn,{value:"integration",className:"flex items-center gap-2",children:[n.jsx(m6,{className:"h-4 w-4"}),""]})]}),n.jsx(wn,{value:"notifications",className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:" "}),n.jsx(sr,{children:"    "})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Email "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),n.jsx(Rn,{checked:t.notifications.emailEnabled,onCheckedChange:u=>a("notifications","emailEnabled",u)})]}),n.jsx(ha,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"SMS "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:" SMS   "})]}),n.jsx(Rn,{checked:t.notifications.smsEnabled,onCheckedChange:u=>a("notifications","smsEnabled",u)})]}),n.jsx(ha,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Webhook "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"   webhook"})]}),n.jsx(Rn,{checked:t.notifications.webhookEnabled,onCheckedChange:u=>a("notifications","webhookEnabled",u)})]}),n.jsx(ha,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"   "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"   ,  SLA"})]}),n.jsx(Rn,{checked:t.notifications.overdueReminders,onCheckedChange:u=>a("notifications","overdueReminders",u)})]}),n.jsx(ha,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"  "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"      "})]}),n.jsx(Rn,{checked:t.notifications.approvalReminders,onCheckedChange:u=>a("notifications","approvalReminders",u)})]})]})]})}),n.jsx(wn,{value:"security",className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:" "}),n.jsx(sr,{children:"    "})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"sessionTimeout",children:"  ()"}),n.jsx(ke,{id:"sessionTimeout",type:"number",value:t.security.sessionTimeout,onChange:u=>a("security","sessionTimeout",parseInt(u.target.value))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"maxLoginAttempts",children:"  "}),n.jsx(ke,{id:"maxLoginAttempts",type:"number",value:t.security.maxLoginAttempts,onChange:u=>a("security","maxLoginAttempts",parseInt(u.target.value))})]})]}),n.jsx(ha,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"  "}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["    ",t.security.passwordChangeInterval," "]})]}),n.jsx(Rn,{checked:t.security.requirePasswordChange,onCheckedChange:u=>a("security","requirePasswordChange",u)})]}),n.jsx(ha,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"  IP-"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"    IP-"})]}),n.jsx(Rn,{checked:t.security.ipWhitelistEnabled,onCheckedChange:u=>a("security","ipWhitelistEnabled",u)})]})]})]})}),n.jsx(wn,{value:"backup",className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:" "}),n.jsx(sr,{children:"    "})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"  "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),n.jsx(Rn,{checked:t.backup.autoBackup,onCheckedChange:u=>a("backup","autoBackup",u)})]}),n.jsx(ha,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  "}),n.jsxs("select",{className:"w-full p-2 border rounded-md",value:t.backup.backupInterval,onChange:u=>a("backup","backupInterval",u.target.value),children:[n.jsx("option",{value:"hourly",children:" "}),n.jsx("option",{value:"daily",children:""}),n.jsx("option",{value:"weekly",children:""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  ()"}),n.jsx(ke,{type:"number",value:t.backup.retentionDays,onChange:u=>a("backup","retentionDays",parseInt(u.target.value))})]})]}),n.jsx(ha,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"  "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rn,{checked:t.backup.cloudBackup,onCheckedChange:u=>a("backup","cloudBackup",u)}),n.jsxs(X,{variant:"outline",size:"sm",onClick:i,children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"})," "]})]})]}),n.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(pt,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"font-medium",children:"  "})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:":   03:00 (: 145.6 )"})]})]})]})}),n.jsx(wn,{value:"integration",className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:" "}),n.jsx(sr,{children:" API    "})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"API "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"    API"})]}),n.jsx(Rn,{checked:t.integration.apiEnabled,onCheckedChange:u=>a("integration","apiEnabled",u)})]}),n.jsx(ha,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"webhookUrl",children:"Webhook URL"}),n.jsx(ke,{id:"webhookUrl",value:t.integration.webhookUrl,onChange:u=>a("integration","webhookUrl",u.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"apiKey",children:"API "}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ke,{id:"apiKey",type:"password",value:t.integration.apiKey,onChange:u=>a("integration","apiKey",u.target.value)}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(GB,{className:"h-4 w-4 mr-2"})," "]})]})]}),n.jsx(ha,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"  "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"     "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rn,{checked:t.integration.bankIntegration,onCheckedChange:u=>a("integration","bankIntegration",u)}),n.jsx(X,{variant:"outline",size:"sm",onClick:l,children:" "})]})]}),n.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(pt,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"font-medium",children:" "})]}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"API :"}),n.jsx(je,{className:"bg-green-100 text-green-800",children:""})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:" :"}),n.jsx(je,{className:"bg-green-100 text-green-800",children:""})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:" :"}),n.jsx("span",{className:"text-muted-foreground",children:"10  "})]})]})]})]})]})})]})]})}function Fme({onBack:e}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(!1),[u,d]=x.useState({query:"",role:"",is_active:void 0,page:1,limit:20}),[f,m]=x.useState("all"),[h,g]=x.useState("all"),[j,w]=x.useState([]),[b,v]=x.useState(!1),[N,C]=x.useState(!1),[S,A]=x.useState(null),[_,T]=x.useState({full_name:"",email:"",phone:"",password:"",roles:[]}),[R,D]=x.useState([]),[k,B]=x.useState({id:"",full_name:"",email:"",phone:"",is_active:!0}),[z,G]=x.useState(!1),[W,Z]=x.useState(null),[$,M]=x.useState([]),[I,O]=x.useState([]),[H,V]=x.useState(!1),[q,F]=x.useState(!1),[L,Y]=x.useState(null),[ee,ce]=x.useState({position_id:"none",department_id:"none"});x.useEffect(()=>{K(),fe(),oe(),Ee()},[]),x.useEffect(()=>{K()},[u,f,h]);const K=async()=>{l(!0);try{const ve={...u,position_id:f==="all"?void 0:f,department_id:h==="all"?void 0:h},Qe=await fr.searchUsers(ve);r(Qe)}catch(ve){console.error("Error loading users:",ve)}finally{l(!1)}},fe=async()=>{try{const ve=await As.getRoles();s(ve)}catch(ve){console.error("Error loading roles:",ve)}},oe=async()=>{try{const ve=await vn.getPositions();M(ve)}catch(ve){console.error("Error loading positions:",ve)}},Ee=async()=>{try{const ve=await vn.getDepartments();O(ve)}catch(ve){console.error("Error loading departments:",ve)}},De=ve=>{d(Qe=>({...Qe,query:ve,page:1}))},re=ve=>{d(Qe=>({...Qe,role:ve==="all"?"":ve,page:1}))},le=ve=>{d(Qe=>({...Qe,is_active:ve==="all"?void 0:ve==="active",page:1}))},ge=(ve,Qe)=>{w(Qe?nr=>[...nr,ve]:nr=>nr.filter($n=>$n!==ve))},Fe=ve=>{w(ve?t.map(Qe=>Qe.id):[])},Xe=(ve,Qe)=>{D(Qe?nr=>[...nr,ve]:nr=>nr.filter($n=>$n!==ve))},lt=async()=>{try{const ve=R.map(nr=>({role_id:nr,valid_from:new Date().toISOString().split("T")[0],is_primary:!1})),Qe={..._,roles:ve};await fr.bulkCreateUsers([Qe]),v(!1),T({full_name:"",email:"",phone:"",password:"",roles:[]}),D([]),K()}catch(ve){console.error("Error creating user:",ve)}},wt=ve=>{A(ve),B({id:ve.id,full_name:ve.full_name,email:ve.email,phone:ve.phone||"",is_active:ve.is_active}),C(!0)},te=async()=>{try{await fr.bulkUpdateUsers([k]),C(!1),A(null),K()}catch(ve){console.error("Error updating user:",ve)}},se=async()=>{if(j.length!==0)try{await fr.bulkDeleteUsers(j),w([]),K()}catch(ve){console.error("Error deleting users:",ve)}},Le=(ve,Qe)=>{console.log("Add role",Qe,"to user",ve)},st=ve=>{Z(ve),G(!0)},Lt=ve=>{Y(ve),ce({position_id:ve.position?.id||"none",department_id:ve.department?.id||"none"}),V(!0)},Zr=async()=>{if(L)try{if(ee.position_id!=="none"){const ve={user_id:L.id,position_id:ee.position_id,valid_from:new Date().toISOString().split("T")[0],valid_to:void 0};await vn.assignUserToPosition(ee.position_id,ve)}V(!1),Y(null),K()}catch(ve){console.error("Error assigning position:",ve)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:",     "})]}),n.jsx(X,{onClick:e,variant:"outline",children:""})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(xr,{className:"h-5 w-5"}),"  "]})}),n.jsx(pe,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"search",children:""}),n.jsx(ke,{id:"search",placeholder:"  email...",value:u.query||"",onChange:ve=>De(ve.target.value)})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"role-filter",children:""}),n.jsxs(tt,{value:u.role||"all",onValueChange:re,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),a.map(ve=>n.jsx(ye,{value:ve.code,children:ve.name},ve.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status-filter",children:""}),n.jsxs(tt,{value:u.is_active===void 0?"all":u.is_active?"active":"inactive",onValueChange:le,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:""}),n.jsx(ye,{value:"active",children:""}),n.jsx(ye,{value:"inactive",children:""})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-filter",children:""}),n.jsxs(tt,{value:f,onValueChange:m,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),$.map(ve=>n.jsxs(ye,{value:ve.id,children:[ve.title," ",ve.department?`(${ve.department.name})`:""]},ve.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"department-filter",children:""}),n.jsxs(tt,{value:h,onValueChange:g,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),I.map(ve=>n.jsx(ye,{value:ve.id,children:ve.name},ve.id))]})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs(X,{onClick:K,className:"w-full",children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),""]})})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ut,{open:b,onOpenChange:v,children:[n.jsx(La,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(cn,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"     "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:" "}),n.jsx(ke,{id:"create-name",value:_.full_name,onChange:ve=>T(Qe=>({...Qe,full_name:ve.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-email",children:"Email"}),n.jsx(ke,{id:"create-email",type:"email",value:_.email,onChange:ve=>T(Qe=>({...Qe,email:ve.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-phone",children:""}),n.jsx(ke,{id:"create-phone",value:_.phone,onChange:ve=>T(Qe=>({...Qe,phone:ve.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-password",children:""}),n.jsx(ke,{id:"create-password",type:"password",value:_.password,onChange:ve=>T(Qe=>({...Qe,password:ve.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-3",children:a.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"  "}):a.map(ve=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:`role-${ve.id}`,checked:R.includes(ve.id),onCheckedChange:Qe=>Xe(ve.id,Qe)}),n.jsxs(ae,{htmlFor:`role-${ve.id}`,className:"text-sm font-normal cursor-pointer",children:[ve.name," (",ve.code,")"]})]},ve.id))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{v(!1),D([])},children:""}),n.jsx(X,{onClick:lt,children:""})]})]})]})]}),j.length>0&&n.jsxs(X,{variant:"destructive",onClick:se,children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"})," (",j.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Ao,{className:"h-4 w-4 mr-2"}),""]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"})," (",t.length,")"]})}),n.jsx(pe,{children:n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx(Er,{checked:j.length===t.length&&t.length>0,onCheckedChange:Fe})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:"Email"}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:i?n.jsx(gt,{children:n.jsx(Se,{colSpan:9,className:"text-center py-8",children:"..."})}):t.length===0?n.jsx(gt,{children:n.jsx(Se,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"  "})}):t.map(ve=>n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsx(Er,{checked:j.includes(ve.id),onCheckedChange:Qe=>ge(ve.id,Qe)})}),n.jsx(Se,{className:"font-medium",children:ve.full_name}),n.jsx(Se,{children:ve.email}),n.jsx(Se,{children:ve.phone||"-"}),n.jsx(Se,{children:ve.position?n.jsx(je,{variant:"outline",children:ve.position.title}):n.jsx("span",{className:"text-muted-foreground",children:" "})}),n.jsx(Se,{children:ve.department?n.jsx(je,{variant:"outline",children:ve.department.name}):n.jsx("span",{className:"text-muted-foreground",children:" "})}),n.jsx(Se,{children:n.jsx("div",{className:"flex flex-wrap gap-1",children:ve.roles&&ve.roles.length>0?ve.roles.map(Qe=>n.jsx(je,{variant:"secondary",children:Qe.name},Qe.id)):n.jsx(je,{variant:"outline",className:"text-muted-foreground",children:"  "})})}),n.jsx(Se,{children:n.jsx(je,{variant:ve.is_active?"default":"secondary",children:ve.is_active?"":""})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>wt(ve),children:n.jsx(ln,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Le(ve.id,""),children:n.jsx(Kr,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>st(ve),title:"  ",children:n.jsx(yt,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Lt(ve),title:" ",children:n.jsx(Pa,{className:"h-4 w-4"})})]})})]},ve.id))})]})})]}),n.jsx(Ut,{open:N,onOpenChange:C,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"  "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:" "}),n.jsx(ke,{id:"edit-name",value:k.full_name,onChange:ve=>B(Qe=>({...Qe,full_name:ve.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-email",children:"Email"}),n.jsx(ke,{id:"edit-email",type:"email",value:k.email,onChange:ve=>B(Qe=>({...Qe,email:ve.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-phone",children:""}),n.jsx(ke,{id:"edit-phone",value:k.phone,onChange:ve=>B(Qe=>({...Qe,phone:ve.target.value}))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:"edit-active",checked:k.is_active,onCheckedChange:ve=>B(Qe=>({...Qe,is_active:ve}))}),n.jsx(ae,{htmlFor:"edit-active",children:""})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>C(!1),children:""}),n.jsx(X,{onClick:te,children:""})]})]})]})}),n.jsx(Ut,{open:z,onOpenChange:G,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"  "}),n.jsxs(Wt,{children:["  ",W?.full_name,"     "]})]}),n.jsx("div",{className:"space-y-4",children:W&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(yt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"     "}),n.jsx("p",{className:"text-sm",children:"    "}),n.jsx("div",{className:"mt-4",children:n.jsx(X,{variant:"outline",onClick:()=>G(!1),children:""})})]})})]})}),n.jsx(Ut,{open:H,onOpenChange:V,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsxs(Wt,{children:['      "',L?.full_name,'"']})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-select",children:""}),n.jsxs(tt,{value:ee.position_id,onValueChange:ve=>ce(Qe=>({...Qe,position_id:ve})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"none",children:" "}),$.map(ve=>n.jsxs(ye,{value:ve.id,children:[ve.title," ",ve.department?`(${ve.department.name})`:""]},ve.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"department-select",children:""}),n.jsxs(tt,{value:ee.department_id,onValueChange:ve=>ce(Qe=>({...Qe,department_id:ve})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"none",children:" "}),I.map(ve=>n.jsxs(ye,{value:ve.id,children:[ve.name," (",ve.code,")"]},ve.id))]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>V(!1),children:""}),n.jsx(X,{onClick:Zr,children:""})]})]})]})})]})}function Ume({onBack:e}){const[t,r]=x.useState([]),[a,s]=x.useState(null),[i,l]=x.useState({}),[u,d]=x.useState(!1),[f,m]=x.useState(""),[h,g]=x.useState([]),[j,w]=x.useState(!1),[b,v]=x.useState(!1),[N,C]=x.useState(null),[S,A]=x.useState({code:"",name:""}),[_,T]=x.useState({code:"",name:"",is_active:!0});x.useEffect(()=>{R(),D()},[]);const R=async()=>{d(!0);try{const I=await As.getRoles();r(I);const O={};for(const H of I)try{const V=await As.getRoleUsage(H.id);O[H.id]=V}catch(V){console.error(`Error loading usage for role ${H.id}:`,V)}l(O)}catch(I){console.error("Error loading roles:",I)}finally{d(!1)}},D=async()=>{try{const I=await As.getRoleStatistics();s(I)}catch(I){console.error("Error loading statistics:",I)}},k=t.filter(I=>I.name.toLowerCase().includes(f.toLowerCase())||I.code.toLowerCase().includes(f.toLowerCase())),B=(I,O)=>{g(O?H=>[...H,I]:H=>H.filter(V=>V!==I))},z=I=>{g(I?k.map(O=>O.id):[])},G=async()=>{try{await As.createRole(S),w(!1),A({code:"",name:""}),R()}catch(I){console.error("Error creating role:",I)}},W=I=>{C(I),T({code:I.code,name:I.name,is_active:I.is_active??!0}),v(!0)},Z=async()=>{if(N)try{await As.updateRole(N.id,_),v(!1),C(null),R()}catch(I){console.error("Error updating role:",I)}},$=async()=>{if(h.length!==0)try{for(const I of h)await As.deleteRole(I);g([]),R()}catch(I){console.error("Error deleting roles:",I)}},M=I=>{console.log("Manage permissions for role",I)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:",     "})]}),n.jsx(X,{onClick:e,variant:"outline",children:""})]}),a&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(So,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(pe,{children:n.jsx("div",{className:"text-2xl font-bold",children:a.total_roles})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(LO,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(pe,{children:n.jsx("div",{className:"text-2xl font-bold",children:a.active_roles})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(pe,{children:n.jsx("div",{className:"text-sm font-medium",children:a.most_used_role||" "})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(pe,{children:n.jsx("div",{className:"text-sm font-medium",children:a.least_used_role||" "})})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(xr,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(ke,{placeholder:"     ...",value:f,onChange:I=>m(I.target.value)})}),n.jsxs(X,{onClick:R,children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),""]})]})})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ut,{open:j,onOpenChange:w,children:[n.jsx(La,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(cn,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"     "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-code",children:" "}),n.jsx(ke,{id:"create-code",placeholder:"admin, user, etc.",value:S.code,onChange:I=>A(O=>({...O,code:I.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:" "}),n.jsx(ke,{id:"create-name",placeholder:", , etc.",value:S.name,onChange:I=>A(O=>({...O,name:I.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>w(!1),children:""}),n.jsx(X,{onClick:G,children:""})]})]})]})]}),h.length>0&&n.jsxs(X,{variant:"destructive",onClick:$,children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"})," (",h.length,")"]})]})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(So,{className:"h-5 w-5"})," (",k.length,")"]})}),n.jsx(pe,{children:n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx(Er,{checked:h.length===k.length&&k.length>0,onCheckedChange:z})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:u?n.jsx(gt,{children:n.jsx(Se,{colSpan:7,className:"text-center py-8",children:"..."})}):k.length===0?n.jsx(gt,{children:n.jsx(Se,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"  "})}):k.map(I=>{const O=i[I.id];return n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsx(Er,{checked:h.includes(I.id),onCheckedChange:H=>B(I.id,H)})}),n.jsx(Se,{className:"font-mono text-sm",children:I.code}),n.jsx(Se,{className:"font-medium",children:I.name}),n.jsx(Se,{children:n.jsx(je,{variant:I.is_active?"default":"secondary",children:I.is_active?"":""})}),n.jsx(Se,{children:O?O.user_count:"-"}),n.jsx(Se,{children:O?.last_assigned?new Date(O.last_assigned).toLocaleDateString("ru-RU"):"-"}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>W(I),children:n.jsx(ln,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>M(I.id),children:n.jsx(So,{className:"h-4 w-4"})})]})})]},I.id)})})]})})]}),n.jsx(Ut,{open:b,onOpenChange:v,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"  "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-code",children:" "}),n.jsx(ke,{id:"edit-code",value:_.code,onChange:I=>T(O=>({...O,code:I.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:" "}),n.jsx(ke,{id:"edit-name",value:_.name,onChange:I=>T(O=>({...O,name:I.target.value}))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:"edit-active",checked:_.is_active,onCheckedChange:I=>T(O=>({...O,is_active:I}))}),n.jsx(ae,{htmlFor:"edit-active",children:""})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>v(!1),children:""}),n.jsx(X,{onClick:Z,children:""})]})]})]})})]})}function Bme({onBack:e}){const[t,r]=x.useState(null),[a,s]=x.useState([]),[i,l]=x.useState(!1),[u,d]=x.useState(null);x.useEffect(()=>{f()},[]);const f=async()=>{l(!0);try{const[b,v]=await Promise.all([fr.getSystemStatistics(),fr.getActivityLog(20)]);r(b),s(v),d(new Date)}catch(b){console.error("Error loading system data:",b)}finally{l(!1)}},m=b=>{switch(b){case"healthy":return n.jsx(pt,{className:"h-5 w-5 text-green-500"});case"warning":return n.jsx(Jt,{className:"h-5 w-5 text-yellow-500"});case"error":return n.jsx(Ls,{className:"h-5 w-5 text-red-500"});default:return n.jsx(Ll,{className:"h-5 w-5 text-gray-500"})}},h=b=>{switch(b){case"healthy":return n.jsx(je,{className:"bg-green-100 text-green-800",children:""});case"warning":return n.jsx(je,{className:"bg-yellow-100 text-yellow-800",children:""});case"error":return n.jsx(je,{className:"bg-red-100 text-red-800",children:""});default:return n.jsx(je,{variant:"secondary",children:""})}},g=b=>new Date(b).toLocaleString("ru-RU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=b=>{switch(b){case"user_created":return n.jsx(Kr,{className:"h-4 w-4 text-blue-500"});case"role_assigned":return n.jsx(So,{className:"h-4 w-4 text-purple-500"});case"request_created":return n.jsx(yt,{className:"h-4 w-4 text-green-500"});default:return n.jsx(Ll,{className:"h-4 w-4 text-gray-500"})}},w=b=>{switch(b){case"user_created":return" ";case"role_assigned":return" ";case"request_created":return" ";default:return b}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"    "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:[": ",u.toLocaleTimeString("ru-RU")]}),n.jsxs(X,{onClick:f,disabled:i,variant:"outline",children:[n.jsx(xn,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),""]}),n.jsx(X,{onClick:e,variant:"outline",children:""})]})]}),t&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.total_users}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",t.active_users]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"  "}),n.jsx(So,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.total_roles}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.total_requests}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),m(t.system_health)]}),n.jsxs(pe,{children:[n.jsx("div",{className:"flex items-center space-x-2",children:h(t.system_health)}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" "})]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ll,{className:"h-5 w-5"})," "]}),n.jsx(sr,{children:"    "})]}),n.jsx(pe,{children:i?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(xn,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]}):a.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"   "}):n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:a.map(b=>n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[j(b.action),n.jsx("span",{className:"font-medium",children:w(b.action)})]})}),n.jsx(Se,{className:"font-medium",children:b.user_name}),n.jsx(Se,{children:n.jsx(je,{variant:"outline",children:b.resource})}),n.jsx(Se,{className:"text-sm text-muted-foreground",children:g(b.timestamp)}),n.jsx(Se,{children:b.details&&Object.keys(b.details).length>0?n.jsx("div",{className:"text-sm",children:Object.entries(b.details).map(([v,N])=>n.jsxs("div",{className:"text-muted-foreground",children:[v,": ",String(N)]},v))}):n.jsx("span",{className:"text-muted-foreground",children:"-"})})]},b.id))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:" "}),n.jsx(sr,{children:"    "})]}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:t?.active_users||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:t?.total_roles||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"   "}),n.jsx(je,{variant:"outline",children:t&&t.active_users>0?(t.total_roles/t.active_users).toFixed(1):"0"})]})]})})]}),n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:""}),n.jsx(sr,{children:"  "})]}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"  API"}),n.jsx(je,{className:"bg-green-100 text-green-800",children:"~50ms"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{className:"bg-green-100 text-green-800",children:"99.9%"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"  "}),n.jsx(je,{className:"bg-yellow-100 text-yellow-800",children:""})]})]})})]})]})]})}function zme({onBack:e}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState([]),[u,d]=x.useState([]),[f,m]=x.useState(!1),[h,g]=x.useState({page:1,limit:20}),[j,w]=x.useState([]),[b,v]=x.useState(!1),[N,C]=x.useState(!1),[S,A]=x.useState(null),[_,T]=x.useState({user_id:"",role_id:"",expense_article_id:"",valid_from:new Date().toISOString().split("T")[0]}),[R,D]=x.useState({valid_from:"",valid_to:"",is_active:!0}),[k,B]=x.useState("assignments"),[z,G]=x.useState(!1),[W,Z]=x.useState({user_ids:[],role_id:"",expense_article_ids:[],valid_from:new Date().toISOString().split("T")[0]}),[$,M]=x.useState([]),[I,O]=x.useState([]);x.useEffect(()=>{H(),V(),q(),F()},[]),x.useEffect(()=>{k==="assignments"?H():k==="by-user"?L():k==="by-article"&&Y()},[h,k]);const H=async()=>{m(!0);try{const te=await ma.getAssignments(h);r(te)}catch(te){console.error("Error loading assignments:",te)}finally{m(!1)}},V=async()=>{try{const te=await fr.searchUsers({limit:1e3});s(te)}catch(te){console.error("Error loading users:",te)}},q=async()=>{try{const te=await As.getRoles();l(te)}catch(te){console.error("Error loading roles:",te)}},F=async()=>{try{const se=await Ps.getInstance().getItems("expense-articles",{limit:1e3});d(se)}catch(te){console.error("Error loading expense articles:",te)}},L=async()=>{m(!0);try{const te=await ma.getAssignmentsByUser(h.user_id||"");M(te)}catch(te){console.error("Error loading user assignments:",te)}finally{m(!1)}},Y=async()=>{m(!0);try{const te=await ma.getAssignmentsByExpenseArticle(h.expense_article_id||"");O(te)}catch(te){console.error("Error loading article assignments:",te)}finally{m(!1)}},ee=te=>{g(se=>({...se,user_id:te==="all"?void 0:te,page:1}))},ce=te=>{g(se=>({...se,role_id:te==="all"?void 0:te,page:1}))},K=te=>{g(se=>({...se,expense_article_id:te==="all"?void 0:te,page:1}))},fe=te=>{g(se=>({...se,is_active:te==="all"?void 0:te==="active",page:1}))},oe=(te,se)=>{w(se?Le=>[...Le,te]:Le=>Le.filter(st=>st!==te))},Ee=te=>{w(te?t.map(se=>se.id):[])},De=async()=>{try{await ma.createAssignment(_),v(!1),T({user_id:"",role_id:"",expense_article_id:"",valid_from:new Date().toISOString().split("T")[0]}),H()}catch(te){console.error("Error creating assignment:",te)}},re=te=>{A(te),D({valid_from:te.valid_from.split("T")[0],valid_to:te.valid_to?te.valid_to.split("T")[0]:"",is_active:te.is_active}),C(!0)},le=async()=>{if(S)try{await ma.updateAssignment(S.id,R),C(!1),A(null),H()}catch(te){console.error("Error updating assignment:",te)}},ge=async()=>{if(j.length!==0)try{await ma.bulkDeleteAssignments(j),w([]),H()}catch(te){console.error("Error deleting assignments:",te)}},Fe=async()=>{try{const te=W.user_ids.flatMap(se=>W.expense_article_ids.map(Le=>ma.assignUserToExpenseArticle(se,Le,W.role_id)));await Promise.all(te),G(!1),Z({user_ids:[],role_id:"",expense_article_ids:[],valid_from:new Date().toISOString().split("T")[0]}),H()}catch(te){console.error("Error creating bulk assignments:",te)}},Xe=(te,se)=>{Z(se?Le=>({...Le,user_ids:[...Le.user_ids,te]}):Le=>({...Le,user_ids:Le.user_ids.filter(st=>st!==te)}))},lt=(te,se)=>{Z(se?Le=>({...Le,expense_article_ids:[...Le.expense_article_ids,te]}):Le=>({...Le,expense_article_ids:Le.expense_article_ids.filter(st=>st!==te)}))},wt=(te,se)=>te?se&&new Date(se)<new Date?n.jsx(je,{variant:"secondary",children:""}):n.jsx(je,{variant:"default",className:"bg-green-100 text-green-800",children:""}):n.jsx(je,{variant:"destructive",children:""});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:"  "}),n.jsx("p",{className:"text-muted-foreground",children:"       "})]}),n.jsx(X,{onClick:e,variant:"outline",children:""})]}),n.jsxs(Dc,{value:k,onValueChange:te=>B(te),children:[n.jsxs(Mc,{children:[n.jsx(jn,{value:"assignments",children:" "}),n.jsx(jn,{value:"by-user",children:" "}),n.jsx(jn,{value:"by-article",children:" "})]}),n.jsxs(wn,{value:"assignments",className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(xr,{className:"h-5 w-5"}),"  "]})}),n.jsx(pe,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"user-filter",children:""}),n.jsxs(tt,{value:h.user_id||"all",onValueChange:ee,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),a.map(te=>n.jsx(ye,{value:te.id,children:te.full_name},te.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"role-filter",children:""}),n.jsxs(tt,{value:h.role_id||"all",onValueChange:ce,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),i.map(te=>n.jsx(ye,{value:te.id,children:te.name},te.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"article-filter",children:" "}),n.jsxs(tt,{value:h.expense_article_id||"all",onValueChange:K,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),u.map(te=>n.jsx(ye,{value:te.id,children:te.name},te.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status-filter",children:""}),n.jsxs(tt,{value:h.is_active===void 0?"all":h.is_active?"active":"inactive",onValueChange:fe,children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:""}),n.jsx(ye,{value:"active",children:""}),n.jsx(ye,{value:"inactive",children:""})]})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs(X,{onClick:H,className:"w-full",children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),""]})})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ut,{open:b,onOpenChange:v,children:[n.jsx(La,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(cn,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"       "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-user",children:""}),n.jsxs(tt,{value:_.user_id,onValueChange:te=>T(se=>({...se,user_id:te})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:a.map(te=>n.jsxs(ye,{value:te.id,children:[te.full_name," (",te.email,")"]},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-role",children:""}),n.jsxs(tt,{value:_.role_id,onValueChange:te=>T(se=>({...se,role_id:te})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:i.map(te=>n.jsxs(ye,{value:te.id,children:[te.name," (",te.code,")"]},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-article",children:" "}),n.jsxs(tt,{value:_.expense_article_id,onValueChange:te=>T(se=>({...se,expense_article_id:te})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:u.map(te=>n.jsxs(ye,{value:te.id,children:[te.name," (",te.code,")"]},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-valid-from",children:" "}),n.jsx(ke,{id:"create-valid-from",type:"date",value:_.valid_from,onChange:te=>T(se=>({...se,valid_from:te.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-valid-to",children:"  ()"}),n.jsx(ke,{id:"create-valid-to",type:"date",value:_.valid_to||"",onChange:te=>T(se=>({...se,valid_to:te.target.value||void 0}))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>v(!1),children:""}),n.jsx(X,{onClick:De,children:""})]})]})]})]}),n.jsxs(Ut,{open:z,onOpenChange:G,children:[n.jsx(La,{asChild:!0,children:n.jsxs(X,{variant:"outline",children:[n.jsx(Kr,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"     "}),n.jsx(Wt,{children:" ,       "})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsxs(tt,{value:W.role_id,onValueChange:te=>Z(se=>({...se,role_id:te})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:i.map(te=>n.jsxs(ye,{value:te.id,children:[te.name," (",te.code,")"]},te.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md p-2 space-y-2",children:a.map(te=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:`user-${te.id}`,checked:W.user_ids.includes(te.id),onCheckedChange:se=>Xe(te.id,se)}),n.jsxs(ae,{htmlFor:`user-${te.id}`,className:"text-sm",children:[te.full_name," (",te.email,")"]})]},te.id))})]}),n.jsxs("div",{children:[n.jsx(ae,{children:" "}),n.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md p-2 space-y-2",children:u.map(te=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:`article-${te.id}`,checked:W.expense_article_ids.includes(te.id),onCheckedChange:se=>lt(te.id,se)}),n.jsxs(ae,{htmlFor:`article-${te.id}`,className:"text-sm",children:[te.name," (",te.code,")"]})]},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"bulk-valid-from",children:" "}),n.jsx(ke,{id:"bulk-valid-from",type:"date",value:W.valid_from,onChange:te=>Z(se=>({...se,valid_from:te.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>G(!1),children:""}),n.jsxs(X,{onClick:Fe,disabled:W.user_ids.length===0||W.expense_article_ids.length===0||!W.role_id,children:["  (",W.user_ids.length*W.expense_article_ids.length,")"]})]})]})]})]}),j.length>0&&n.jsxs(X,{variant:"destructive",onClick:ge,children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"})," (",j.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:H,children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Ao,{className:"h-4 w-4 mr-2"}),""]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"})," (",t.length,")"]})}),n.jsx(pe,{children:n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx(Er,{checked:j.length===t.length&&t.length>0,onCheckedChange:Ee})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:f?n.jsx(gt,{children:n.jsx(Se,{colSpan:8,className:"text-center py-8",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(xn,{className:"h-4 w-4 mr-2 animate-spin"}),"..."]})})}):t.length===0?n.jsx(gt,{children:n.jsx(Se,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"  "})}):t.map(te=>n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsx(Er,{checked:j.includes(te.id),onCheckedChange:se=>oe(te.id,se)})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:te.user_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:te.user_email})]})}),n.jsx(Se,{children:n.jsxs(je,{variant:"outline",children:[te.role_name," (",te.role_code,")"]})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:te.expense_article_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:te.expense_article_code})]})}),n.jsx(Se,{children:new Date(te.valid_from).toLocaleDateString("ru-RU")}),n.jsx(Se,{children:te.valid_to?new Date(te.valid_to).toLocaleDateString("ru-RU"):"-"}),n.jsx(Se,{children:wt(te.is_active,te.valid_to)}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>re(te),children:n.jsx(ln,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ge(),children:n.jsx(Cr,{className:"h-4 w-4"})})]})})]},te.id))})]})})]})]}),n.jsx(wn,{value:"by-user",className:"space-y-6",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"}),"  "]}),n.jsx(sr,{children:"  ,   "})]}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"user-select",children:" "}),n.jsxs(tt,{value:h.user_id||"all",onValueChange:ee,children:[n.jsx(nt,{className:"w-64",children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),a.map(te=>n.jsxs(ye,{value:te.id,children:[te.full_name," (",te.email,")"]},te.id))]})]})]}),n.jsxs(X,{onClick:L,disabled:f,children:[n.jsx(xn,{className:`h-4 w-4 mr-2 ${f?"animate-spin":""}`}),""]})]}),f?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(xn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]}):$.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Kr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"  "})]}):n.jsx("div",{className:"space-y-4",children:$.map(te=>n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"}),te.user_name]}),n.jsxs(sr,{children:[te.user_email,"  ",te.assignments.length," "]})]}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-2",children:te.assignments.map(se=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(je,{variant:"outline",children:se.role_name}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:se.expense_article_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:se.expense_article_code})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(se.valid_from).toLocaleDateString("ru-RU"),se.valid_to&&` - ${new Date(se.valid_to).toLocaleDateString("ru-RU")}`]}),wt(se.is_active,se.valid_to),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>re(se),children:n.jsx(ln,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ge(),children:n.jsx(Cr,{className:"h-4 w-4"})})]})]})]},se.id))})})]},te.user_id))})]})})]})}),n.jsx(wn,{value:"by-article",className:"space-y-6",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"   "]}),n.jsx(sr,{children:"  ,    "})]}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"article-select",children:"  "}),n.jsxs(tt,{value:h.expense_article_id||"all",onValueChange:K,children:[n.jsx(nt,{className:"w-64",children:n.jsx(rt,{placeholder:" "})}),n.jsxs(at,{children:[n.jsx(ye,{value:"all",children:" "}),u.map(te=>n.jsxs(ye,{value:te.id,children:[te.name," (",te.code,")"]},te.id))]})]})]}),n.jsxs(X,{onClick:Y,disabled:f,children:[n.jsx(xn,{className:`h-4 w-4 mr-2 ${f?"animate-spin":""}`}),""]})]}),f?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(xn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]}):I.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(yt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"  "})]}):n.jsx("div",{className:"space-y-4",children:I.map(te=>n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),te.expense_article_name]}),n.jsxs(sr,{children:[te.expense_article_code,"  ",te.assignments.length," "]})]}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-2",children:te.assignments.map(se=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:se.user_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:se.user_email})]}),n.jsx(je,{variant:"outline",children:se.role_name})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(se.valid_from).toLocaleDateString("ru-RU"),se.valid_to&&` - ${new Date(se.valid_to).toLocaleDateString("ru-RU")}`]}),wt(se.is_active,se.valid_to),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>re(se),children:n.jsx(ln,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ge(),children:n.jsx(Cr,{className:"h-4 w-4"})})]})]})]},se.id))})})]},te.expense_article_id))})]})})]})})]}),n.jsx(Ut,{open:N,onOpenChange:C,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"  "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-valid-from",children:" "}),n.jsx(ke,{id:"edit-valid-from",type:"date",value:R.valid_from||"",onChange:te=>D(se=>({...se,valid_from:te.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-valid-to",children:"  ()"}),n.jsx(ke,{id:"edit-valid-to",type:"date",value:R.valid_to||"",onChange:te=>D(se=>({...se,valid_to:te.target.value||void 0}))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Er,{id:"edit-is-active",checked:R.is_active,onCheckedChange:te=>D(se=>({...se,is_active:te}))}),n.jsx(ae,{htmlFor:"edit-is-active",children:""})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>C(!1),children:""}),n.jsx(X,{onClick:le,children:""})]})]})]})})]})}function qme({onBack:e}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState([]),[u,d]=x.useState(!1),[f,m]=x.useState(""),[h,g]=x.useState([]),[j,w]=x.useState([]),[b,v]=x.useState(!1),[N,C]=x.useState(!1),[S,A]=x.useState(!1),[_,T]=x.useState(!1),[R,D]=x.useState(!1),[k,B]=x.useState(null),[z,G]=x.useState(null),[W,Z]=x.useState(null),[$,M]=x.useState("positions"),[I,O]=x.useState({name:"",code:"",department_id:""}),[H,V]=x.useState({name:"",code:""});x.useEffect(()=>{q(),F(),L()},[]);const q=async()=>{d(!0);try{const se=await fr.getPositions(),Le=await Promise.all(se.map(async st=>{try{const Lt=await fr.getPositionUsers(st.id);return{...st,name:st.title,code:st.title,userCount:Lt.length}}catch(Lt){return console.warn(`Error loading users for position ${st.id}:`,Lt),{...st,name:st.title,code:st.title,userCount:0}}}));r(Le)}catch(se){console.error("Error loading positions:",se)}finally{d(!1)}},F=async()=>{try{const se=await fr.getDepartments(),Le=await Promise.all(se.map(async st=>{try{const Zr=(await fr.getPositions()).filter(Qe=>Qe.department_id===st.id);let ve=0;for(const Qe of Zr)try{const nr=await fr.getPositionUsers(Qe.id);ve+=nr.length}catch(nr){console.warn(`Error loading users for position ${Qe.id}:`,nr)}return{...st,positions:Zr.map(Qe=>({...Qe,name:Qe.title,code:Qe.title})),userCount:ve}}catch(Lt){return console.warn(`Error loading positions for department ${st.id}:`,Lt),{...st,positions:[],userCount:0}}}));s(Le)}catch(se){console.error("Error loading departments:",se)}},L=async()=>{try{const se=await fr.searchUsers({limit:1e3});l(se)}catch(se){console.error("Error loading users:",se)}},Y=se=>{m(se)},ee=(se,Le)=>{g(Le?st=>[...st,se]:st=>st.filter(Lt=>Lt!==se))},ce=se=>{g(se?t.map(Le=>Le.id):[])},K=(se,Le)=>{w(Le?st=>[...st,se]:st=>st.filter(Lt=>Lt!==se))},fe=se=>{w(se?a.map(Le=>Le.id):[])},oe=async()=>{try{await fr.createPosition({department_id:I.department_id,title:I.name,description:I.code,is_active:!0}),v(!1),O({name:"",code:"",department_id:""}),q()}catch(se){console.error("Error creating position:",se)}},Ee=async()=>{try{await fr.createDepartment({name:H.name,code:H.code}),C(!1),V({name:"",code:""}),F()}catch(se){console.error("Error creating department:",se)}},De=se=>{B(se),O({name:se.name,code:se.code,department_id:se.department_id}),A(!0)},re=se=>{G(se),V({name:se.name,code:se.code}),T(!0)},le=async()=>{if(k)try{await fr.updatePosition(k.id,{department_id:I.department_id,title:I.name,description:I.code,is_active:!0}),A(!1),B(null),q()}catch(se){console.error("Error updating position:",se)}},ge=async()=>{if(z)try{await fr.updateDepartment(z.id,{name:H.name,code:H.code}),T(!1),G(null),F()}catch(se){console.error("Error updating department:",se)}},Fe=async()=>{if(h.length!==0)try{await Promise.all(h.map(se=>fr.deletePosition(se))),g([]),q()}catch(se){console.error("Error deleting positions:",se)}},Xe=async()=>{if(j.length!==0)try{await Promise.all(j.map(se=>fr.deleteDepartment(se))),w([]),F()}catch(se){console.error("Error deleting departments:",se)}},lt=se=>{Z(se),D(!0)},wt=t.filter(se=>se.name.toLowerCase().includes(f.toLowerCase())||se.code.toLowerCase().includes(f.toLowerCase())||se.department?.name.toLowerCase().includes(f.toLowerCase())),te=a.filter(se=>se.name.toLowerCase().includes(f.toLowerCase())||se.code.toLowerCase().includes(f.toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:"   "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]}),n.jsx(X,{onClick:e,variant:"outline",children:""})]}),n.jsxs(Dc,{value:$,onValueChange:se=>M(se),children:[n.jsxs(Mc,{children:[n.jsx(jn,{value:"positions",children:""}),n.jsx(jn,{value:"departments",children:""}),n.jsx(jn,{value:"assignments",children:""})]}),n.jsxs(wn,{value:"positions",className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(xr,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ke,{placeholder:"  ,   ...",value:f,onChange:se=>Y(se.target.value),className:"flex-1"}),n.jsxs(X,{onClick:q,disabled:u,children:[n.jsx(xn,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),""]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ut,{open:b,onOpenChange:v,children:[n.jsx(La,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(cn,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"     "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-name",children:" "}),n.jsx(ke,{id:"position-name",value:I.name,onChange:se=>O(Le=>({...Le,name:se.target.value})),placeholder:"  "})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-code",children:" "}),n.jsx(ke,{id:"position-code",value:I.code,onChange:se=>O(Le=>({...Le,code:se.target.value})),placeholder:"  "})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-department",children:""}),n.jsxs(tt,{value:I.department_id,onValueChange:se=>O(Le=>({...Le,department_id:se})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:a.map(se=>n.jsxs(ye,{value:se.id,children:[se.name," (",se.code,")"]},se.id))})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>v(!1),children:""}),n.jsx(X,{onClick:oe,children:""})]})]})]})]}),h.length>0&&n.jsxs(X,{variant:"destructive",onClick:Fe,children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"})," (",h.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Ao,{className:"h-4 w-4 mr-2"}),""]})]})]}),n.jsx(me,{children:n.jsx(pe,{className:"p-0",children:n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx(Er,{checked:h.length===wt.length&&wt.length>0,onCheckedChange:ce})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:u?n.jsx(gt,{children:n.jsxs(Se,{colSpan:6,className:"text-center py-8",children:[n.jsx(xn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):wt.length===0?n.jsx(gt,{children:n.jsxs(Se,{colSpan:6,className:"text-center py-8",children:[n.jsx(Pa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"text-muted-foreground",children:"  "})]})}):wt.map(se=>n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsx(Er,{checked:h.includes(se.id),onCheckedChange:Le=>ee(se.id,Le)})}),n.jsx(Se,{className:"font-medium",children:se.name}),n.jsx(Se,{className:"font-mono",children:se.code}),n.jsx(Se,{children:n.jsxs(je,{variant:"outline",children:[se.department?.name," (",se.department?.code,")"]})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4"}),se.userCount||0]})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>lt(se),title:" ",children:n.jsx($u,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>De(se),children:n.jsx(ln,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Fe(),children:n.jsx(Cr,{className:"h-4 w-4"})})]})})]},se.id))})]})})})]}),n.jsxs(wn,{value:"departments",className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(xr,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ke,{placeholder:"    ...",value:f,onChange:se=>Y(se.target.value),className:"flex-1"}),n.jsxs(X,{onClick:F,disabled:u,children:[n.jsx(xn,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),""]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ut,{open:N,onOpenChange:C,children:[n.jsx(La,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(cn,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"     "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"department-name",children:" "}),n.jsx(ke,{id:"department-name",value:H.name,onChange:se=>V(Le=>({...Le,name:se.target.value})),placeholder:"  "})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"department-code",children:" "}),n.jsx(ke,{id:"department-code",value:H.code,onChange:se=>V(Le=>({...Le,code:se.target.value})),placeholder:"  "})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>C(!1),children:""}),n.jsx(X,{onClick:Ee,children:""})]})]})]})]}),j.length>0&&n.jsxs(X,{variant:"destructive",onClick:Xe,children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"})," (",j.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Ao,{className:"h-4 w-4 mr-2"}),""]})]})]}),n.jsx(me,{children:n.jsx(pe,{className:"p-0",children:n.jsxs(Fr,{children:[n.jsx(Ur,{children:n.jsxs(gt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx(Er,{checked:j.length===te.length&&te.length>0,onCheckedChange:fe})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Br,{children:u?n.jsx(gt,{children:n.jsxs(Se,{colSpan:6,className:"text-center py-8",children:[n.jsx(xn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):te.length===0?n.jsx(gt,{children:n.jsxs(Se,{colSpan:6,className:"text-center py-8",children:[n.jsx(Pa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"text-muted-foreground",children:"  "})]})}):te.map(se=>n.jsxs(gt,{children:[n.jsx(Se,{children:n.jsx(Er,{checked:j.includes(se.id),onCheckedChange:Le=>K(se.id,Le)})}),n.jsx(Se,{className:"font-medium",children:se.name}),n.jsx(Se,{className:"font-mono",children:se.code}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"h-4 w-4"}),se.positions?.length||0]})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4"}),se.userCount||0]})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>re(se),children:n.jsx(ln,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Xe(),children:n.jsx(Cr,{className:"h-4 w-4"})})]})})]},se.id))})]})})})]}),n.jsx(wn,{value:"assignments",className:"space-y-6",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx($u,{className:"h-5 w-5"})," "]}),n.jsx(sr,{children:"    "})]}),n.jsx(pe,{children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx($u,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"      "})]})})]})})]}),n.jsx(Ut,{open:S,onOpenChange:A,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"  "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-position-name",children:" "}),n.jsx(ke,{id:"edit-position-name",value:I.name,onChange:se=>O(Le=>({...Le,name:se.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-position-code",children:" "}),n.jsx(ke,{id:"edit-position-code",value:I.code,onChange:se=>O(Le=>({...Le,code:se.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-position-department",children:""}),n.jsxs(tt,{value:I.department_id,onValueChange:se=>O(Le=>({...Le,department_id:se})),children:[n.jsx(nt,{children:n.jsx(rt,{placeholder:" "})}),n.jsx(at,{children:a.map(se=>n.jsxs(ye,{value:se.id,children:[se.name," (",se.code,")"]},se.id))})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>A(!1),children:""}),n.jsx(X,{onClick:le,children:""})]})]})]})}),n.jsx(Ut,{open:_,onOpenChange:T,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:" "}),n.jsx(Wt,{children:"  "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-department-name",children:" "}),n.jsx(ke,{id:"edit-department-name",value:H.name,onChange:se=>V(Le=>({...Le,name:se.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-department-code",children:" "}),n.jsx(ke,{id:"edit-department-code",value:H.code,onChange:se=>V(Le=>({...Le,code:se.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>T(!1),children:""}),n.jsx(X,{onClick:ge,children:""})]})]})]})}),n.jsx(Ut,{open:R,onOpenChange:D,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"   "}),n.jsxs(Wt,{children:['   "',W?.name,'"']})]}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx($u,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"       "})]})}),n.jsx(Ml,{children:n.jsx(X,{variant:"outline",onClick:()=>D(!1),children:""})})]})})]})}const Or=({userRole:e,currentPage:t,children:r,fallback:a=n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:" "}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"        "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"       "})]})})=>{const{canAccessRoute:s}=J5(e);return s(t)?n.jsx(n.Fragment,{children:r}):n.jsx(n.Fragment,{children:a})},Wme=({onBack:e})=>n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"API Integration Test"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Test component for API integration"}),n.jsx(X,{onClick:e,children:""})]}),Vme=({onBack:e})=>n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Dictionary API Test"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Test component for dictionary API"}),n.jsx(X,{onClick:e,children:""})]}),Hme=({onBack:e})=>n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Integration Test"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Test component for integration testing"}),n.jsx(X,{onClick:e,children:""})]});function Gme(){const{state:e,dispatch:t}=zi();D7();const{handleCreateRequest:r,handleViewRequest:a,handleRequestUpdate:s}=M7(),{isAuthenticated:i,isLoading:l}=yc();return l?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):i?(()=>{try{if(e.showCreateForm){const d=e.selectedRequestId?e.paymentRequests.find(f=>f.id===e.selectedRequestId):void 0;return n.jsx(m5,{onSubmit:f=>{t(be.addPaymentRequest(f)),t(be.resetFormState()),t(be.setCurrentPage("requests")),we.success(` ${f.requestNumber}      `)},onCancel:()=>{t(be.resetFormState())},onSaveDraft:ot.update,initialData:d,isEditing:!!d,selectedRequestId:e.selectedRequestId||void 0})}if(e.viewMode==="view"&&e.selectedRequestId)return n.jsx(ghe,{requestId:e.selectedRequestId,onCancel:()=>{t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),e.currentPage==="requests"&&t(be.setCurrentPage("dashboard"))},onRequestUpdate:s});if(e.currentPage==="requests"&&e.viewMode==="classify"&&e.selectedRequestId){const d=e.paymentRequests.find(f=>f.id===e.selectedRequestId);if(d)return n.jsx(uO,{request:d,onSubmit:ot.classify,onReturn:ot.return,onCancel:()=>{t(be.setViewMode("list")),t(be.setSelectedRequestId(null))}})}if(e.currentPage==="requests"&&e.viewMode==="classify-items"&&e.selectedRequestId){const d=e.paymentRequests.find(f=>f.id===e.selectedRequestId);if(d)return n.jsx(uO,{request:d,onSubmit:ot.classify,onReturn:ot.return,onCancel:()=>{t(be.setViewMode("list")),t(be.setSelectedRequestId(null))}})}if(e.currentPage==="requests"&&e.viewMode==="approve"&&e.selectedRequestId){const d=e.paymentRequests.find(f=>f.id===e.selectedRequestId);if(d)return n.jsx(yme,{request:d,onApprove:ot.approve,onApproveOnBehalf:ot.approve,onReturn:ot.return,onDecline:ot.reject,onCancel:()=>{t(be.setViewMode("list")),t(be.setSelectedRequestId(null))}})}if(e.currentPage==="registers"&&e.viewMode==="register")return n.jsx(Ame,{onBack:()=>t(be.setViewMode("list")),onUpdateRequest:s});if(e.currentPage==="requests"&&e.viewMode==="treasurer-approve"&&e.selectedRequestId){const d=e.paymentRequests.find(f=>f.id===e.selectedRequestId);if(d)return n.jsx(Pme,{request:d,onUpdateStatus:ot.update,onCancel:()=>{t(be.setViewMode("list")),t(be.setSelectedRequestId(null))}})}switch(e.currentPage){case"dashboard":return R1(e.currentRole,"admin")?n.jsx(Or,{userRole:e.currentRole,currentPage:"admin",children:n.jsx(Mme,{onNavigate:d=>t(be.setCurrentPage(d))})}):e.currentRole==="SUB_REGISTRAR"?n.jsx(Or,{userRole:e.currentRole,currentPage:"sub-registrar-assignments",children:n.jsx(fO,{currentUserId:"6c626090-ab4a-44c2-a16d-01b73423557b"})}):R1(e.currentRole,"distributor-workflow")?n.jsx(Or,{userRole:e.currentRole,currentPage:"distributor-workflow",children:n.jsx(bme,{currentRole:e.currentRole,paymentRequests:e.paymentRequests,onNavigate:d=>t(be.setCurrentPage(d))})}):n.jsx(Or,{userRole:e.currentRole,currentPage:"dashboard",children:n.jsx(rO,{currentRole:e.currentRole,onFilterChange:d=>{t(be.setDashboardFilter(d)),!(e.currentRole==="REGISTRAR"||e.currentRole==="DISTRIBUTOR")&&d&&e.currentRole!=="EXECUTOR"&&t(be.setCurrentPage("requests"))},currentFilter:e.dashboardFilter,onViewRequest:a,onCreateRequest:r,paymentRequests:e.paymentRequests})});case"requests":return n.jsx(Or,{userRole:e.currentRole,currentPage:"requests",children:e.currentRole==="EXECUTOR"?n.jsx(xhe,{onCreateRequest:r,onViewRequest:a,onEditRequest:d=>{t(be.setSelectedRequestId(d)),t(be.setShowCreateForm(!0))}}):e.currentRole==="DISTRIBUTOR"?n.jsx(gme,{paymentRequests:e.paymentRequests}):e.currentRole==="SUB_REGISTRAR"?n.jsx(fO,{currentUserId:"6c626090-ab4a-44c2-a16d-01b73423557b"}):n.jsx(Lue,{currentRole:e.currentRole,onCreateRequest:r,onViewRequest:a,dashboardFilter:e.dashboardFilter,onClearFilter:()=>t(be.setDashboardFilter(null)),paymentRequests:e.paymentRequests})});case"registers":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]}),n.jsx(X,{onClick:()=>t(be.setViewMode("register")),children:"  "})]}),n.jsxs("div",{className:"p-8 text-center text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx("p",{children:"    "}),n.jsx("p",{className:"text-sm mt-2",children:"      "})]})]});case"dictionaries":return n.jsx(Or,{userRole:e.currentRole,currentPage:"dictionaries",children:n.jsx($me,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"admin":return n.jsx(Or,{userRole:e.currentRole,currentPage:"admin",children:n.jsx(Lme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"user-management":return n.jsx(Or,{userRole:e.currentRole,currentPage:"user-management",children:n.jsx(Fme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"role-management":return n.jsx(Or,{userRole:e.currentRole,currentPage:"role-management",children:n.jsx(Ume,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"system-statistics":return n.jsx(Or,{userRole:e.currentRole,currentPage:"system-statistics",children:n.jsx(Bme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"expense-article-assignment":return n.jsx(Or,{userRole:e.currentRole,currentPage:"expense-article-assignment",children:n.jsx(zme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"position-management":return n.jsx(Or,{userRole:e.currentRole,currentPage:"position-management",children:n.jsx(qme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"unallocated":return n.jsx(Or,{userRole:e.currentRole,currentPage:"unallocated",children:n.jsx(Tme,{onViewRequest:a})});case"registrar-assignments":return n.jsx(Or,{userRole:e.currentRole,currentPage:"registrar-assignments",children:n.jsx(pme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"distributor-routing":return n.jsx(Or,{userRole:e.currentRole,currentPage:"distributor-routing",children:n.jsx(Eme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"test-api":return n.jsx(Wme,{onBack:()=>t(be.setCurrentPage("dashboard"))});case"test-dictionary-api":return n.jsx(Vme,{onBack:()=>t(be.setCurrentPage("dashboard"))});case"integration-test":return n.jsx(Hme,{onBack:()=>t(be.setCurrentPage("dashboard"))});case"sub-registrar-assignments":return n.jsx(Or,{userRole:e.currentRole,currentPage:"sub-registrar-assignments",children:n.jsx(_he,{onReportUpdate:()=>{we.success(" ")}})});case"distributor-workflow":return n.jsx(Or,{userRole:e.currentRole,currentPage:"distributor-workflow",children:n.jsx(vme,{onRequestUpdate:()=>{we.success(" ")}})});case"export-contracts":return n.jsx(Or,{userRole:e.currentRole,currentPage:"export-contracts",children:n.jsx(xme,{onContractSelect:d=>{we.success(` : ${d.contractNumber}`)}})});default:return n.jsx(rO,{currentRole:e.currentRole,paymentRequests:e.paymentRequests,onViewRequest:a})}}catch(d){return console.error("Error rendering page:",d),n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("p",{className:"text-red-600",children:"    "}),n.jsx(X,{onClick:()=>window.location.reload(),className:"mt-4",children:" "})]})}})():n.jsx(BO,{})}const Kme={currentDictionary:"expense-articles",dictionaries:{"expense-articles":{items:[],statistics:null,state:{currentDictionary:"expense-articles",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},counterparties:{items:[],statistics:null,state:{currentDictionary:"counterparties",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},"vat-rates":{items:[],statistics:null,state:{currentDictionary:"vat-rates",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},currencies:{items:[],statistics:null,state:{currentDictionary:"currencies",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}}},globalState:{isLoading:!1,error:null,lastUpdated:null}};function Yme(e,t){switch(t.type){case"SET_CURRENT_DICTIONARY":return{...e,currentDictionary:t.payload};case"SET_ITEMS":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:t.payload.items}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"SET_STATISTICS":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],statistics:t.payload.statistics}}};case"SET_STATE":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],state:{...e.dictionaries[t.payload.type].state,...t.payload.state}}}};case"ADD_ITEM":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:[...e.dictionaries[t.payload.type].items,t.payload.item]}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"UPDATE_ITEM":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:e.dictionaries[t.payload.type].items.map(r=>r.id===t.payload.id?{...r,...t.payload.item}:r)}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"DELETE_ITEM":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:e.dictionaries[t.payload.type].items.filter(r=>r.id!==t.payload.id)}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"SET_LOADING":return{...e,globalState:{...e.globalState,isLoading:t.payload}};case"SET_ERROR":return{...e,globalState:{...e.globalState,error:t.payload}};case"CLEAR_ERROR":return{...e,globalState:{...e.globalState,error:null}};case"RESET_DICTIONARY":return{...e,dictionaries:{...e.dictionaries,[t.payload]:{items:[],statistics:null,state:{currentDictionary:t.payload,selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}}}};default:return e}}const Xme=x.createContext(void 0);function Qme({children:e}){const[t,r]=x.useReducer(Yme,Kme),N={state:t,dispatch:r,getDictionaryState:C=>t.dictionaries[C].state,getDictionaryItems:C=>t.dictionaries[C].items,getDictionaryStatistics:C=>t.dictionaries[C].statistics,setCurrentDictionary:C=>{r({type:"SET_CURRENT_DICTIONARY",payload:C})},setItems:(C,S)=>{r({type:"SET_ITEMS",payload:{type:C,items:S}})},setStatistics:(C,S)=>{r({type:"SET_STATISTICS",payload:{type:C,statistics:S}})},updateDictionaryState:(C,S)=>{r({type:"SET_STATE",payload:{type:C,state:S}})},addItem:(C,S)=>{r({type:"ADD_ITEM",payload:{type:C,item:S}})},updateItem:(C,S,A)=>{r({type:"UPDATE_ITEM",payload:{type:C,id:S,item:A}})},deleteItem:(C,S)=>{r({type:"DELETE_ITEM",payload:{type:C,id:S}})},setLoading:C=>{r({type:"SET_LOADING",payload:C})},setError:C=>{r({type:"SET_ERROR",payload:C})},clearError:()=>{r({type:"CLEAR_ERROR"})},resetDictionary:C=>{r({type:"RESET_DICTIONARY",payload:C})}};return n.jsx(Xme.Provider,{value:N,children:e})}function Zme(){const{state:e,dispatch:t}=zi(),r=x.useCallback(async s=>{if(console.log("Toggle API mode requested:",s),P7(s),we.info(`  ${s?"mock":"API"} `),e.currentUser)try{const i=await ot.getAll({role:e.currentRole});t(be.setPaymentRequests(i))}catch(i){console.error("Failed to reload after API mode toggle:",i),we.error("    ")}},[e.currentUser,e.currentRole,t]),a=x.useCallback(()=>R7(),[]);return{handleToggleApiMode:r,getApiStatusInfo:a}}const Jme=()=>{const{user:e,isAuthenticated:t}=yc(),{dispatch:r}=zi();x.useEffect(()=>{if(t&&e&&e.is_active)if(e.roles&&e.roles.length>0){const a=e.roles.find(l=>l.is_primary)||e.roles[0],i={ADMIN:"ADMIN",REGISTRAR:"REGISTRAR",SUB_REGISTRAR:"SUB_REGISTRAR",DISTRIBUTOR:"DISTRIBUTOR",TREASURER:"TREASURER",EXECUTOR:"EXECUTOR"}[a.code]||"EXECUTOR";r(be.setCurrentRole(i)),r(be.setCurrentUser(e)),ot.getAll({role:i}).then(l=>{r(be.setPaymentRequests(l))}).catch(l=>{console.error("useRoleSync: failed to load payment requests:",l)})}else console.warn("User has no roles assigned, defaulting to EXECUTOR"),r(be.setCurrentRole("EXECUTOR")),r(be.setCurrentUser(e)),ot.getAll({role:"EXECUTOR"}).then(a=>{r(be.setPaymentRequests(a))}).catch(a=>{console.error("useRoleSync: failed to load payment requests:",a)});else(!t||e&&!e.is_active)&&(r(be.setCurrentRole("EXECUTOR")),r(be.setCurrentUser(null)))},[e,t,r])};var epe=(e,t,r,a,s,i,l,u)=>{let d=document.documentElement,f=["light","dark"];function m(j){(Array.isArray(e)?e:[e]).forEach(w=>{let b=w==="class",v=b&&i?s.map(N=>i[N]||N):s;b?(d.classList.remove(...v),d.classList.add(i&&i[j]?i[j]:j)):d.setAttribute(w,j)}),h(j)}function h(j){u&&f.includes(j)&&(d.style.colorScheme=j)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)m(a);else try{let j=localStorage.getItem(t)||r,w=l&&j==="system"?g():j;m(w)}catch{}},tpe=x.createContext(void 0),rpe={setTheme:e=>{},themes:[]},npe=()=>{var e;return(e=x.useContext(tpe))!=null?e:rpe};x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:s,defaultTheme:i,value:l,themes:u,nonce:d,scriptProps:f})=>{let m=JSON.stringify([r,t,i,e,u,l,a,s]).slice(1,-1);return x.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${epe.toString()})(${m})`}})});const ape=({...e})=>{const{theme:t="system"}=npe();return n.jsx(h7,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function spe({logout:e}){const{state:t,dispatch:r}=zi(),{loadInitialData:a}=cM();return Zme(),Jme(),x.useEffect(()=>{zO();const s=i=>{if(i.message&&i.message.includes("CSSScopeRule"))return console.warn("CSSScopeRule error caught and handled:",i.message),i.preventDefault(),!1};return window.addEventListener("error",s),()=>{window.removeEventListener("error",s)}},[]),x.useEffect(()=>{a()},[a]),t.isLoading&&!t.currentUser?n.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"..."})]})}):n.jsx(Qme,{children:n.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[n.jsx(UV,{currentRole:t.currentRole,onRoleChange:s=>r(be.setCurrentRole(s)),userName:t.currentUser?.full_name||"",onLogout:e}),n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n.jsx("div",{className:"hidden md:block",children:n.jsx(C7,{currentPage:t.currentPage,onPageChange:s=>r(be.setCurrentPage(s)),currentRole:t.currentRole,currentUser:t.currentUser,isCreatingRequest:t.showCreateForm,paymentRequests:t.paymentRequests,onFilterChange:s=>r(be.setDashboardFilter(s))})}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsx("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:n.jsx(Gme,{})})})]}),n.jsx("div",{className:"md:hidden border-t bg-white p-2",children:n.jsx("div",{className:"flex justify-around",children:oM.filter(s=>s.roles.includes(t.currentRole)).slice(0,4).map(s=>n.jsxs(X,{variant:t.currentPage===s.id?"default":"ghost",size:"sm",className:We("flex-col h-auto py-2 px-3",t.showCreateForm&&"opacity-50 cursor-not-allowed"),onClick:()=>{if(t.showCreateForm){we.warning("       ",{duration:4e3});return}r(be.setCurrentPage(s.id))},disabled:t.showCreateForm,children:[s.icon,n.jsx("span",{className:"text-xs mt-1",children:s.label})]},s.id))})}),n.jsx(ape,{position:"top-right"})]})})}function ipe(){return n.jsx(A7,{children:n.jsx(ope,{})})}function ope(){const{logout:e}=yc();return n.jsx(spe,{logout:e})}const lpe=()=>{const{isAuthenticated:e,isLoading:t}=yc();return t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Mr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"..."})]})}):e?n.jsx(ipe,{}):n.jsx(BO,{})};function cpe(){return n.jsx(o8,{children:n.jsx(lpe,{})})}t8.createRoot(document.getElementById("root")).render(n.jsx(cpe,{}));
