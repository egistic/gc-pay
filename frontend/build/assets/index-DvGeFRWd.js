function HU(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nx={exports:{}},vu={},ax={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function GU(){if(fE)return bt;fE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function v(q,F,L){this.props=q,this.context=F,this.refs=b,this.updater=L||j}v.prototype.isReactComponent={},v.prototype.setState=function(q,F){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,F,"setState")},v.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=v.prototype;function C(q,F,L){this.props=q,this.context=F,this.refs=b,this.updater=L||j}var S=C.prototype=new N;S.constructor=C,w(S,v.prototype),S.isPureReactComponent=!0;var A=Array.isArray,_=Object.prototype.hasOwnProperty,T={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function D(q,F,L){var Y,ee={},ce=null,G=null;if(F!=null)for(Y in F.ref!==void 0&&(G=F.ref),F.key!==void 0&&(ce=""+F.key),F)_.call(F,Y)&&!k.hasOwnProperty(Y)&&(ee[Y]=F[Y]);var fe=arguments.length-2;if(fe===1)ee.children=L;else if(1<fe){for(var oe=Array(fe),Ee=0;Ee<fe;Ee++)oe[Ee]=arguments[Ee+2];ee.children=oe}if(q&&q.defaultProps)for(Y in fe=q.defaultProps,fe)ee[Y]===void 0&&(ee[Y]=fe[Y]);return{$$typeof:e,type:q,key:ce,ref:G,props:ee,_owner:T.current}}function I(q,F){return{$$typeof:e,type:q.type,key:F,ref:q.ref,props:q.props,_owner:q._owner}}function B(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function z(q){var F={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(L){return F[L]})}var H=/\/+/g;function W(q,F){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):F.toString(36)}function Z(q,F,L,Y,ee){var ce=typeof q;(ce==="undefined"||ce==="boolean")&&(q=null);var G=!1;if(q===null)G=!0;else switch(ce){case"string":case"number":G=!0;break;case"object":switch(q.$$typeof){case e:case t:G=!0}}if(G)return G=q,ee=ee(G),q=Y===""?"."+W(G,0):Y,A(ee)?(L="",q!=null&&(L=q.replace(H,"$&/")+"/"),Z(ee,F,L,"",function(Ee){return Ee})):ee!=null&&(B(ee)&&(ee=I(ee,L+(!ee.key||G&&G.key===ee.key?"":(""+ee.key).replace(H,"$&/")+"/")+q)),F.push(ee)),1;if(G=0,Y=Y===""?".":Y+":",A(q))for(var fe=0;fe<q.length;fe++){ce=q[fe];var oe=Y+W(ce,fe);G+=Z(ce,F,L,oe,ee)}else if(oe=g(q),typeof oe=="function")for(q=oe.call(q),fe=0;!(ce=q.next()).done;)ce=ce.value,oe=Y+W(ce,fe++),G+=Z(ce,F,L,oe,ee);else if(ce==="object")throw F=String(q),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return G}function $(q,F,L){if(q==null)return q;var Y=[],ee=0;return Z(q,Y,"","",function(ce){return F.call(L,ce,ee++)}),Y}function M(q){if(q._status===-1){var F=q._result;F=F(),F.then(function(L){(q._status===0||q._status===-1)&&(q._status=1,q._result=L)},function(L){(q._status===0||q._status===-1)&&(q._status=2,q._result=L)}),q._status===-1&&(q._status=0,q._result=F)}if(q._status===1)return q._result.default;throw q._result}var P={current:null},O={transition:null},K={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:T};function V(){throw Error("act(...) is not supported in production builds of React.")}return bt.Children={map:$,forEach:function(q,F,L){$(q,function(){F.apply(this,arguments)},L)},count:function(q){var F=0;return $(q,function(){F++}),F},toArray:function(q){return $(q,function(F){return F})||[]},only:function(q){if(!B(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},bt.Component=v,bt.Fragment=r,bt.Profiler=s,bt.PureComponent=C,bt.StrictMode=a,bt.Suspense=d,bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,bt.act=V,bt.cloneElement=function(q,F,L){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Y=w({},q.props),ee=q.key,ce=q.ref,G=q._owner;if(F!=null){if(F.ref!==void 0&&(ce=F.ref,G=T.current),F.key!==void 0&&(ee=""+F.key),q.type&&q.type.defaultProps)var fe=q.type.defaultProps;for(oe in F)_.call(F,oe)&&!k.hasOwnProperty(oe)&&(Y[oe]=F[oe]===void 0&&fe!==void 0?fe[oe]:F[oe])}var oe=arguments.length-2;if(oe===1)Y.children=L;else if(1<oe){fe=Array(oe);for(var Ee=0;Ee<oe;Ee++)fe[Ee]=arguments[Ee+2];Y.children=fe}return{$$typeof:e,type:q.type,key:ee,ref:ce,props:Y,_owner:G}},bt.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},bt.createElement=D,bt.createFactory=function(q){var F=D.bind(null,q);return F.type=q,F},bt.createRef=function(){return{current:null}},bt.forwardRef=function(q){return{$$typeof:u,render:q}},bt.isValidElement=B,bt.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:M}},bt.memo=function(q,F){return{$$typeof:f,type:q,compare:F===void 0?null:F}},bt.startTransition=function(q){var F=O.transition;O.transition={};try{q()}finally{O.transition=F}},bt.unstable_act=V,bt.useCallback=function(q,F){return P.current.useCallback(q,F)},bt.useContext=function(q){return P.current.useContext(q)},bt.useDebugValue=function(){},bt.useDeferredValue=function(q){return P.current.useDeferredValue(q)},bt.useEffect=function(q,F){return P.current.useEffect(q,F)},bt.useId=function(){return P.current.useId()},bt.useImperativeHandle=function(q,F,L){return P.current.useImperativeHandle(q,F,L)},bt.useInsertionEffect=function(q,F){return P.current.useInsertionEffect(q,F)},bt.useLayoutEffect=function(q,F){return P.current.useLayoutEffect(q,F)},bt.useMemo=function(q,F){return P.current.useMemo(q,F)},bt.useReducer=function(q,F,L){return P.current.useReducer(q,F,L)},bt.useRef=function(q){return P.current.useRef(q)},bt.useState=function(q){return P.current.useState(q)},bt.useSyncExternalStore=function(q,F,L){return P.current.useSyncExternalStore(q,F,L)},bt.useTransition=function(){return P.current.useTransition()},bt.version="18.3.1",bt}var hE;function k1(){return hE||(hE=1,ax.exports=GU()),ax.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function KU(){if(mE)return vu;mE=1;var e=k1(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var m,h={},g=null,j=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(j=d.ref);for(m in d)a.call(d,m)&&!i.hasOwnProperty(m)&&(h[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)h[m]===void 0&&(h[m]=d[m]);return{$$typeof:t,type:u,key:g,ref:j,props:h,_owner:s.current}}return vu.Fragment=r,vu.jsx=l,vu.jsxs=l,vu}var pE;function YU(){return pE||(pE=1,nx.exports=KU()),nx.exports}var n=YU(),jh={},sx={exports:{}},En={},ix={exports:{}},ox={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function XU(){return gE||(gE=1,(function(e){function t(O,K){var V=O.length;O.push(K);e:for(;0<V;){var q=V-1>>>1,F=O[q];if(0<s(F,K))O[q]=K,O[V]=F,V=q;else break e}}function r(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var K=O[0],V=O.pop();if(V!==K){O[0]=V;e:for(var q=0,F=O.length,L=F>>>1;q<L;){var Y=2*(q+1)-1,ee=O[Y],ce=Y+1,G=O[ce];if(0>s(ee,V))ce<F&&0>s(G,ee)?(O[q]=G,O[ce]=V,q=ce):(O[q]=ee,O[Y]=V,q=Y);else if(ce<F&&0>s(G,V))O[q]=G,O[ce]=V,q=ce;else break e}}return K}function s(O,K){var V=O.sortIndex-K.sortIndex;return V!==0?V:O.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,h=null,g=3,j=!1,w=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var K=r(f);K!==null;){if(K.callback===null)a(f);else if(K.startTime<=O)a(f),K.sortIndex=K.expirationTime,t(d,K);else break;K=r(f)}}function A(O){if(b=!1,S(O),!w)if(r(d)!==null)w=!0,M(_);else{var K=r(f);K!==null&&P(A,K.startTime-O)}}function _(O,K){w=!1,b&&(b=!1,N(D),D=-1),j=!0;var V=g;try{for(S(K),h=r(d);h!==null&&(!(h.expirationTime>K)||O&&!z());){var q=h.callback;if(typeof q=="function"){h.callback=null,g=h.priorityLevel;var F=q(h.expirationTime<=K);K=e.unstable_now(),typeof F=="function"?h.callback=F:h===r(d)&&a(d),S(K)}else a(d);h=r(d)}if(h!==null)var L=!0;else{var Y=r(f);Y!==null&&P(A,Y.startTime-K),L=!1}return L}finally{h=null,g=V,j=!1}}var T=!1,k=null,D=-1,I=5,B=-1;function z(){return!(e.unstable_now()-B<I)}function H(){if(k!==null){var O=e.unstable_now();B=O;var K=!0;try{K=k(!0,O)}finally{K?W():(T=!1,k=null)}}else T=!1}var W;if(typeof C=="function")W=function(){C(H)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=H,W=function(){$.postMessage(null)}}else W=function(){v(H,0)};function M(O){k=O,T||(T=!0,W())}function P(O,K){D=v(function(){O(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){w||j||(w=!0,M(_))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(O){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var V=g;g=K;try{return O()}finally{g=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,K){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=g;g=O;try{return K()}finally{g=V}},e.unstable_scheduleCallback=function(O,K,V){var q=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,O){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=V+F,O={id:m++,callback:K,priorityLevel:O,startTime:V,expirationTime:F,sortIndex:-1},V>q?(O.sortIndex=V,t(f,O),r(d)===null&&O===r(f)&&(b?(N(D),D=-1):b=!0,P(A,V-q))):(O.sortIndex=F,t(d,O),w||j||(w=!0,M(_))),O},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(O){var K=g;return function(){var V=g;g=K;try{return O.apply(this,arguments)}finally{g=V}}}})(ox)),ox}var vE;function QU(){return vE||(vE=1,ix.exports=XU()),ix.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function ZU(){if(xE)return En;xE=1;var e=k1(),t=QU();function r(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(s[o]=c,o=0;o<c.length;o++)a.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function g(o){return d.call(h,o)?!0:d.call(m,o)?!1:f.test(o)?h[o]=!0:(m[o]=!0,!1)}function j(o,c,p,y){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,c,p,y){if(c===null||typeof c>"u"||j(o,c,p,y))return!0;if(y)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function b(o,c,p,y,E,R,U){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=E,this.mustUseProperty=p,this.propertyName=o,this.type=c,this.sanitizeURL=R,this.removeEmptyString=U}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){v[o]=new b(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];v[c]=new b(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){v[o]=new b(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){v[o]=new b(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){v[o]=new b(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){v[o]=new b(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){v[o]=new b(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){v[o]=new b(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){v[o]=new b(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(N,C);v[c]=new b(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(N,C);v[c]=new b(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(N,C);v[c]=new b(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){v[o]=new b(o,1,!1,o.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){v[o]=new b(o,1,!1,o.toLowerCase(),null,!0,!0)});function S(o,c,p,y){var E=v.hasOwnProperty(c)?v[c]:null;(E!==null?E.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,p,E,y)&&(p=null),y||E===null?g(c)&&(p===null?o.removeAttribute(c):o.setAttribute(c,""+p)):E.mustUseProperty?o[E.propertyName]=p===null?E.type===3?!1:"":p:(c=E.attributeName,y=E.attributeNamespace,p===null?o.removeAttribute(c):(E=E.type,p=E===3||E===4&&p===!0?"":""+p,y?o.setAttributeNS(y,c,p):o.setAttribute(c,p))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),z=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),O=Symbol.iterator;function K(o){return o===null||typeof o!="object"?null:(o=O&&o[O]||o["@@iterator"],typeof o=="function"?o:null)}var V=Object.assign,q;function F(o){if(q===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);q=c&&c[1]||""}return`
`+q+o}var L=!1;function Y(o,c){if(!o||L)return"";L=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ve){var y=ve}Reflect.construct(o,[],c)}else{try{c.call()}catch(ve){y=ve}o.call(c.prototype)}else{try{throw Error()}catch(ve){y=ve}o()}}catch(ve){if(ve&&y&&typeof ve.stack=="string"){for(var E=ve.stack.split(`
`),R=y.stack.split(`
`),U=E.length-1,J=R.length-1;1<=U&&0<=J&&E[U]!==R[J];)J--;for(;1<=U&&0<=J;U--,J--)if(E[U]!==R[J]){if(U!==1||J!==1)do if(U--,J--,0>J||E[U]!==R[J]){var ne=`
`+E[U].replace(" at new "," at ");return o.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",o.displayName)),ne}while(1<=U&&0<=J);break}}}finally{L=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?F(o):""}function ee(o){switch(o.tag){case 5:return F(o.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return o=Y(o.type,!1),o;case 11:return o=Y(o.type.render,!1),o;case 1:return o=Y(o.type,!0),o;default:return""}}function ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case T:return"Portal";case I:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case Z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case z:return(o.displayName||"Context")+".Consumer";case B:return(o._context.displayName||"Context")+".Provider";case H:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case $:return c=o.displayName||null,c!==null?c:ce(o.type)||"Memo";case M:c=o._payload,o=o._init;try{return ce(o(c))}catch{}}return null}function G(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(c);case 8:return c===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function fe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function oe(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ee(o){var c=oe(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,R=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return E.call(this)},set:function(U){y=""+U,R.call(this,U)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(U){y=""+U},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Oe(o){o._valueTracker||(o._valueTracker=Ee(o))}function re(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),y="";return o&&(y=oe(o)?o.checked?"true":"false":o.value),o=y,o!==p?(c.setValue(o),!0):!1}function le(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ge(o,c){var p=c.checked;return V({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function Le(o,c){var p=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;p=fe(c.value!=null?c.value:p),o._wrapperState={initialChecked:y,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Xe(o,c){c=c.checked,c!=null&&S(o,"checked",c,!1)}function ot(o,c){Xe(o,c);var p=fe(c.value),y=c.type;if(p!=null)y==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?te(o,c.type,p):c.hasOwnProperty("defaultValue")&&te(o,c.type,fe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function wt(o,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,p||c===o.value||(o.value=c),o.defaultValue=c}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function te(o,c,p){(c!=="number"||le(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var se=Array.isArray;function Be(o,c,p,y){if(o=o.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=c.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&y&&(o[p].defaultSelected=!0)}else{for(p=""+fe(p),c=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,y&&(o[E].defaultSelected=!0);return}c!==null||o[E].disabled||(c=o[E])}c!==null&&(c.selected=!0)}}function gt(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return V({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function or(o,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(r(92));if(se(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),p=c}o._wrapperState={initialValue:fe(p)}}function On(o,c){var p=fe(c.value),y=fe(c.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),c.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),y!=null&&(o.defaultValue=""+y)}function ye(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function st(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tr(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?st(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Dn,Gs=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,y,E){MSApp.execUnsafeLocalFunction(function(){return o(c,p,y,E)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(Dn=Dn||document.createElement("div"),Dn.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Dn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function jn(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var Fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jn=["Webkit","ms","Moz","O"];Object.keys(Fa).forEach(function(o){Jn.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Fa[c]=Fa[o]})});function Ko(o,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Fa.hasOwnProperty(o)&&Fa[o]?(""+c).trim():c+"px"}function de(o,c){o=o.style;for(var p in c)if(c.hasOwnProperty(p)){var y=p.indexOf("--")===0,E=Ko(p,c[p],y);p==="float"&&(p="cssFloat"),y?o.setProperty(p,E):o[p]=E}}var Fe=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(o,c){if(c){if(Fe[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function hs(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xi=null;function ea(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Dc=null,Ks=null,ms=null;function Mc(o){if(o=ru(o)){if(typeof Dc!="function")throw Error(r(280));var c=o.stateNode;c&&(c=Df(c),Dc(o.stateNode,o.type,c))}}function vt(o){Ks?ms?ms.push(o):ms=[o]:Ks=o}function lr(){if(Ks){var o=Ks,c=ms;if(ms=Ks=null,Mc(o),c)for(o=0;o<c.length;o++)Mc(c[o])}}function xr(o,c){return o(c)}function Qr(){}var Ys=!1;function fr(o,c,p){if(Ys)return o(c,p);Ys=!0;try{return xr(o,c,p)}finally{Ys=!1,(Ks!==null||ms!==null)&&(Qr(),lr())}}function Ar(o,c){var p=o.stateNode;if(p===null)return null;var y=Df(p);if(y===null)return null;p=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Xs=!1;if(u)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Xs=!1}function Mn(o,c,p,y,E,R,U,J,ne){var ve=Array.prototype.slice.call(arguments,3);try{c.apply(p,ve)}catch(ke){this.onError(ke)}}var Qs=!1,ta=null,$c=!1,wg=null,J5={onError:function(o){Qs=!0,ta=o}};function eF(o,c,p,y,E,R,U,J,ne){Qs=!1,ta=null,Mn.apply(J5,arguments)}function tF(o,c,p,y,E,R,U,J,ne){if(eF.apply(this,arguments),Qs){if(Qs){var ve=ta;Qs=!1,ta=null}else throw Error(r(198));$c||($c=!0,wg=ve)}}function Qi(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function DS(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function MS(o){if(Qi(o)!==o)throw Error(r(188))}function rF(o){var c=o.alternate;if(!c){if(c=Qi(o),c===null)throw Error(r(188));return c!==o?null:o}for(var p=o,y=c;;){var E=p.return;if(E===null)break;var R=E.alternate;if(R===null){if(y=E.return,y!==null){p=y;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===p)return MS(E),o;if(R===y)return MS(E),c;R=R.sibling}throw Error(r(188))}if(p.return!==y.return)p=E,y=R;else{for(var U=!1,J=E.child;J;){if(J===p){U=!0,p=E,y=R;break}if(J===y){U=!0,y=E,p=R;break}J=J.sibling}if(!U){for(J=R.child;J;){if(J===p){U=!0,p=R,y=E;break}if(J===y){U=!0,y=R,p=E;break}J=J.sibling}if(!U)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:c}function $S(o){return o=rF(o),o!==null?LS(o):null}function LS(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=LS(o);if(c!==null)return c;o=o.sibling}return null}var FS=t.unstable_scheduleCallback,US=t.unstable_cancelCallback,nF=t.unstable_shouldYield,aF=t.unstable_requestPaint,cr=t.unstable_now,sF=t.unstable_getCurrentPriorityLevel,Ng=t.unstable_ImmediatePriority,BS=t.unstable_UserBlockingPriority,pf=t.unstable_NormalPriority,iF=t.unstable_LowPriority,zS=t.unstable_IdlePriority,gf=null,Ua=null;function oF(o){if(Ua&&typeof Ua.onCommitFiberRoot=="function")try{Ua.onCommitFiberRoot(gf,o,void 0,(o.current.flags&128)===128)}catch{}}var xa=Math.clz32?Math.clz32:uF,lF=Math.log,cF=Math.LN2;function uF(o){return o>>>=0,o===0?32:31-(lF(o)/cF|0)|0}var vf=64,xf=4194304;function Lc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function yf(o,c){var p=o.pendingLanes;if(p===0)return 0;var y=0,E=o.suspendedLanes,R=o.pingedLanes,U=p&268435455;if(U!==0){var J=U&~E;J!==0?y=Lc(J):(R&=U,R!==0&&(y=Lc(R)))}else U=p&~E,U!==0?y=Lc(U):R!==0&&(y=Lc(R));if(y===0)return 0;if(c!==0&&c!==y&&(c&E)===0&&(E=y&-y,R=c&-c,E>=R||E===16&&(R&4194240)!==0))return c;if((y&4)!==0&&(y|=p&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=y;0<c;)p=31-xa(c),E=1<<p,y|=o[p],c&=~E;return y}function dF(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fF(o,c){for(var p=o.suspendedLanes,y=o.pingedLanes,E=o.expirationTimes,R=o.pendingLanes;0<R;){var U=31-xa(R),J=1<<U,ne=E[U];ne===-1?((J&p)===0||(J&y)!==0)&&(E[U]=dF(J,c)):ne<=c&&(o.expiredLanes|=J),R&=~J}}function Sg(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function qS(){var o=vf;return vf<<=1,(vf&4194240)===0&&(vf=64),o}function _g(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Fc(o,c,p){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-xa(c),o[c]=p}function hF(o,c){var p=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<p;){var E=31-xa(p),R=1<<E;c[E]=0,y[E]=-1,o[E]=-1,p&=~R}}function Cg(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var y=31-xa(p),E=1<<y;E&c|o[y]&c&&(o[y]|=c),p&=~E}}var Dt=0;function WS(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var VS,Eg,HS,GS,KS,Tg=!1,bf=[],Zs=null,Js=null,ei=null,Uc=new Map,Bc=new Map,ti=[],mF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YS(o,c){switch(o){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Uc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(c.pointerId)}}function zc(o,c,p,y,E,R){return o===null||o.nativeEvent!==R?(o={blockedOn:c,domEventName:p,eventSystemFlags:y,nativeEvent:R,targetContainers:[E]},c!==null&&(c=ru(c),c!==null&&Eg(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),o)}function pF(o,c,p,y,E){switch(c){case"focusin":return Zs=zc(Zs,o,c,p,y,E),!0;case"dragenter":return Js=zc(Js,o,c,p,y,E),!0;case"mouseover":return ei=zc(ei,o,c,p,y,E),!0;case"pointerover":var R=E.pointerId;return Uc.set(R,zc(Uc.get(R)||null,o,c,p,y,E)),!0;case"gotpointercapture":return R=E.pointerId,Bc.set(R,zc(Bc.get(R)||null,o,c,p,y,E)),!0}return!1}function XS(o){var c=Zi(o.target);if(c!==null){var p=Qi(c);if(p!==null){if(c=p.tag,c===13){if(c=DS(p),c!==null){o.blockedOn=c,KS(o.priority,function(){HS(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function jf(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=Rg(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var y=new p.constructor(p.type,p);Xi=y,p.target.dispatchEvent(y),Xi=null}else return c=ru(p),c!==null&&Eg(c),o.blockedOn=p,!1;c.shift()}return!0}function QS(o,c,p){jf(o)&&p.delete(c)}function gF(){Tg=!1,Zs!==null&&jf(Zs)&&(Zs=null),Js!==null&&jf(Js)&&(Js=null),ei!==null&&jf(ei)&&(ei=null),Uc.forEach(QS),Bc.forEach(QS)}function qc(o,c){o.blockedOn===c&&(o.blockedOn=null,Tg||(Tg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gF)))}function Wc(o){function c(E){return qc(E,o)}if(0<bf.length){qc(bf[0],o);for(var p=1;p<bf.length;p++){var y=bf[p];y.blockedOn===o&&(y.blockedOn=null)}}for(Zs!==null&&qc(Zs,o),Js!==null&&qc(Js,o),ei!==null&&qc(ei,o),Uc.forEach(c),Bc.forEach(c),p=0;p<ti.length;p++)y=ti[p],y.blockedOn===o&&(y.blockedOn=null);for(;0<ti.length&&(p=ti[0],p.blockedOn===null);)XS(p),p.blockedOn===null&&ti.shift()}var Yo=A.ReactCurrentBatchConfig,wf=!0;function vF(o,c,p,y){var E=Dt,R=Yo.transition;Yo.transition=null;try{Dt=1,Ag(o,c,p,y)}finally{Dt=E,Yo.transition=R}}function xF(o,c,p,y){var E=Dt,R=Yo.transition;Yo.transition=null;try{Dt=4,Ag(o,c,p,y)}finally{Dt=E,Yo.transition=R}}function Ag(o,c,p,y){if(wf){var E=Rg(o,c,p,y);if(E===null)Gg(o,c,y,Nf,p),YS(o,y);else if(pF(E,o,c,p,y))y.stopPropagation();else if(YS(o,y),c&4&&-1<mF.indexOf(o)){for(;E!==null;){var R=ru(E);if(R!==null&&VS(R),R=Rg(o,c,p,y),R===null&&Gg(o,c,y,Nf,p),R===E)break;E=R}E!==null&&y.stopPropagation()}else Gg(o,c,y,null,p)}}var Nf=null;function Rg(o,c,p,y){if(Nf=null,o=ea(y),o=Zi(o),o!==null)if(c=Qi(o),c===null)o=null;else if(p=c.tag,p===13){if(o=DS(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return Nf=o,null}function ZS(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sF()){case Ng:return 1;case BS:return 4;case pf:case iF:return 16;case zS:return 536870912;default:return 16}default:return 16}}var ri=null,kg=null,Sf=null;function JS(){if(Sf)return Sf;var o,c=kg,p=c.length,y,E="value"in ri?ri.value:ri.textContent,R=E.length;for(o=0;o<p&&c[o]===E[o];o++);var U=p-o;for(y=1;y<=U&&c[p-y]===E[R-y];y++);return Sf=E.slice(o,1<y?1-y:void 0)}function _f(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Cf(){return!0}function e_(){return!1}function $n(o){function c(p,y,E,R,U){this._reactName=p,this._targetInst=E,this.type=y,this.nativeEvent=R,this.target=U,this.currentTarget=null;for(var J in o)o.hasOwnProperty(J)&&(p=o[J],this[J]=p?p(R):R[J]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Cf:e_,this.isPropagationStopped=e_,this}return V(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Cf)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Cf)},persist:function(){},isPersistent:Cf}),c}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ig=$n(Xo),Vc=V({},Xo,{view:0,detail:0}),yF=$n(Vc),Pg,Og,Hc,Ef=V({},Vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mg,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Hc&&(Hc&&o.type==="mousemove"?(Pg=o.screenX-Hc.screenX,Og=o.screenY-Hc.screenY):Og=Pg=0,Hc=o),Pg)},movementY:function(o){return"movementY"in o?o.movementY:Og}}),t_=$n(Ef),bF=V({},Ef,{dataTransfer:0}),jF=$n(bF),wF=V({},Vc,{relatedTarget:0}),Dg=$n(wF),NF=V({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),SF=$n(NF),_F=V({},Xo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),CF=$n(_F),EF=V({},Xo,{data:0}),r_=$n(EF),TF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kF(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=RF[o])?!!c[o]:!1}function Mg(){return kF}var IF=V({},Vc,{key:function(o){if(o.key){var c=TF[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=_f(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?AF[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mg,charCode:function(o){return o.type==="keypress"?_f(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?_f(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),PF=$n(IF),OF=V({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n_=$n(OF),DF=V({},Vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mg}),MF=$n(DF),$F=V({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),LF=$n($F),FF=V({},Ef,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),UF=$n(FF),BF=[9,13,27,32],$g=u&&"CompositionEvent"in window,Gc=null;u&&"documentMode"in document&&(Gc=document.documentMode);var zF=u&&"TextEvent"in window&&!Gc,a_=u&&(!$g||Gc&&8<Gc&&11>=Gc),s_=" ",i_=!1;function o_(o,c){switch(o){case"keyup":return BF.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Qo=!1;function qF(o,c){switch(o){case"compositionend":return l_(c);case"keypress":return c.which!==32?null:(i_=!0,s_);case"textInput":return o=c.data,o===s_&&i_?null:o;default:return null}}function WF(o,c){if(Qo)return o==="compositionend"||!$g&&o_(o,c)?(o=JS(),Sf=kg=ri=null,Qo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return a_&&c.locale!=="ko"?null:c.data;default:return null}}var VF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c_(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!VF[o.type]:c==="textarea"}function u_(o,c,p,y){vt(y),c=If(c,"onChange"),0<c.length&&(p=new Ig("onChange","change",null,p,y),o.push({event:p,listeners:c}))}var Kc=null,Yc=null;function HF(o){T_(o,0)}function Tf(o){var c=rl(o);if(re(c))return o}function GF(o,c){if(o==="change")return c}var d_=!1;if(u){var Lg;if(u){var Fg="oninput"in document;if(!Fg){var f_=document.createElement("div");f_.setAttribute("oninput","return;"),Fg=typeof f_.oninput=="function"}Lg=Fg}else Lg=!1;d_=Lg&&(!document.documentMode||9<document.documentMode)}function h_(){Kc&&(Kc.detachEvent("onpropertychange",m_),Yc=Kc=null)}function m_(o){if(o.propertyName==="value"&&Tf(Yc)){var c=[];u_(c,Yc,o,ea(o)),fr(HF,c)}}function KF(o,c,p){o==="focusin"?(h_(),Kc=c,Yc=p,Kc.attachEvent("onpropertychange",m_)):o==="focusout"&&h_()}function YF(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Tf(Yc)}function XF(o,c){if(o==="click")return Tf(c)}function QF(o,c){if(o==="input"||o==="change")return Tf(c)}function ZF(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ya=typeof Object.is=="function"?Object.is:ZF;function Xc(o,c){if(ya(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),y=Object.keys(c);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var E=p[y];if(!d.call(c,E)||!ya(o[E],c[E]))return!1}return!0}function p_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function g_(o,c){var p=p_(o);o=0;for(var y;p;){if(p.nodeType===3){if(y=o+p.textContent.length,o<=c&&y>=c)return{node:p,offset:c-o};o=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=p_(p)}}function v_(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?v_(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function x_(){for(var o=window,c=le();c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=le(o.document)}return c}function Ug(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function JF(o){var c=x_(),p=o.focusedElem,y=o.selectionRange;if(c!==p&&p&&p.ownerDocument&&v_(p.ownerDocument.documentElement,p)){if(y!==null&&Ug(p)){if(c=y.start,o=y.end,o===void 0&&(o=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(o,p.value.length);else if(o=(c=p.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var E=p.textContent.length,R=Math.min(y.start,E);y=y.end===void 0?R:Math.min(y.end,E),!o.extend&&R>y&&(E=y,y=R,R=E),E=g_(p,R);var U=g_(p,y);E&&U&&(o.rangeCount!==1||o.anchorNode!==E.node||o.anchorOffset!==E.offset||o.focusNode!==U.node||o.focusOffset!==U.offset)&&(c=c.createRange(),c.setStart(E.node,E.offset),o.removeAllRanges(),R>y?(o.addRange(c),o.extend(U.node,U.offset)):(c.setEnd(U.node,U.offset),o.addRange(c)))}}for(c=[],o=p;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)o=c[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var eU=u&&"documentMode"in document&&11>=document.documentMode,Zo=null,Bg=null,Qc=null,zg=!1;function y_(o,c,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;zg||Zo==null||Zo!==le(y)||(y=Zo,"selectionStart"in y&&Ug(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Qc&&Xc(Qc,y)||(Qc=y,y=If(Bg,"onSelect"),0<y.length&&(c=new Ig("onSelect","select",null,c,p),o.push({event:c,listeners:y}),c.target=Zo)))}function Af(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var Jo={animationend:Af("Animation","AnimationEnd"),animationiteration:Af("Animation","AnimationIteration"),animationstart:Af("Animation","AnimationStart"),transitionend:Af("Transition","TransitionEnd")},qg={},b_={};u&&(b_=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function Rf(o){if(qg[o])return qg[o];if(!Jo[o])return o;var c=Jo[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in b_)return qg[o]=c[p];return o}var j_=Rf("animationend"),w_=Rf("animationiteration"),N_=Rf("animationstart"),S_=Rf("transitionend"),__=new Map,C_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(o,c){__.set(o,c),i(c,[o])}for(var Wg=0;Wg<C_.length;Wg++){var Vg=C_[Wg],tU=Vg.toLowerCase(),rU=Vg[0].toUpperCase()+Vg.slice(1);ni(tU,"on"+rU)}ni(j_,"onAnimationEnd"),ni(w_,"onAnimationIteration"),ni(N_,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(S_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function E_(o,c,p){var y=o.type||"unknown-event";o.currentTarget=p,tF(y,c,void 0,o),o.currentTarget=null}function T_(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var y=o[p],E=y.event;y=y.listeners;e:{var R=void 0;if(c)for(var U=y.length-1;0<=U;U--){var J=y[U],ne=J.instance,ve=J.currentTarget;if(J=J.listener,ne!==R&&E.isPropagationStopped())break e;E_(E,J,ve),R=ne}else for(U=0;U<y.length;U++){if(J=y[U],ne=J.instance,ve=J.currentTarget,J=J.listener,ne!==R&&E.isPropagationStopped())break e;E_(E,J,ve),R=ne}}}if($c)throw o=wg,$c=!1,wg=null,o}function Kt(o,c){var p=c[Jg];p===void 0&&(p=c[Jg]=new Set);var y=o+"__bubble";p.has(y)||(A_(c,o,2,!1),p.add(y))}function Hg(o,c,p){var y=0;c&&(y|=4),A_(p,o,y,c)}var kf="_reactListening"+Math.random().toString(36).slice(2);function Jc(o){if(!o[kf]){o[kf]=!0,a.forEach(function(p){p!=="selectionchange"&&(nU.has(p)||Hg(p,!1,o),Hg(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[kf]||(c[kf]=!0,Hg("selectionchange",!1,c))}}function A_(o,c,p,y){switch(ZS(c)){case 1:var E=vF;break;case 4:E=xF;break;default:E=Ag}p=E.bind(null,c,p,o),E=void 0,!Xs||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),y?E!==void 0?o.addEventListener(c,p,{capture:!0,passive:E}):o.addEventListener(c,p,!0):E!==void 0?o.addEventListener(c,p,{passive:E}):o.addEventListener(c,p,!1)}function Gg(o,c,p,y,E){var R=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var U=y.tag;if(U===3||U===4){var J=y.stateNode.containerInfo;if(J===E||J.nodeType===8&&J.parentNode===E)break;if(U===4)for(U=y.return;U!==null;){var ne=U.tag;if((ne===3||ne===4)&&(ne=U.stateNode.containerInfo,ne===E||ne.nodeType===8&&ne.parentNode===E))return;U=U.return}for(;J!==null;){if(U=Zi(J),U===null)return;if(ne=U.tag,ne===5||ne===6){y=R=U;continue e}J=J.parentNode}}y=y.return}fr(function(){var ve=R,ke=ea(p),Pe=[];e:{var Re=__.get(o);if(Re!==void 0){var qe=Ig,Ge=o;switch(o){case"keypress":if(_f(p)===0)break e;case"keydown":case"keyup":qe=PF;break;case"focusin":Ge="focus",qe=Dg;break;case"focusout":Ge="blur",qe=Dg;break;case"beforeblur":case"afterblur":qe=Dg;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=t_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=jF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=MF;break;case j_:case w_:case N_:qe=SF;break;case S_:qe=LF;break;case"scroll":qe=yF;break;case"wheel":qe=UF;break;case"copy":case"cut":case"paste":qe=CF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=n_}var Qe=(c&4)!==0,ur=!Qe&&o==="scroll",ue=Qe?Re!==null?Re+"Capture":null:Re;Qe=[];for(var ie=ve,he;ie!==null;){he=ie;var De=he.stateNode;if(he.tag===5&&De!==null&&(he=De,ue!==null&&(De=Ar(ie,ue),De!=null&&Qe.push(eu(ie,De,he)))),ur)break;ie=ie.return}0<Qe.length&&(Re=new qe(Re,Ge,null,p,ke),Pe.push({event:Re,listeners:Qe}))}}if((c&7)===0){e:{if(Re=o==="mouseover"||o==="pointerover",qe=o==="mouseout"||o==="pointerout",Re&&p!==Xi&&(Ge=p.relatedTarget||p.fromElement)&&(Zi(Ge)||Ge[ps]))break e;if((qe||Re)&&(Re=ke.window===ke?ke:(Re=ke.ownerDocument)?Re.defaultView||Re.parentWindow:window,qe?(Ge=p.relatedTarget||p.toElement,qe=ve,Ge=Ge?Zi(Ge):null,Ge!==null&&(ur=Qi(Ge),Ge!==ur||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(qe=null,Ge=ve),qe!==Ge)){if(Qe=t_,De="onMouseLeave",ue="onMouseEnter",ie="mouse",(o==="pointerout"||o==="pointerover")&&(Qe=n_,De="onPointerLeave",ue="onPointerEnter",ie="pointer"),ur=qe==null?Re:rl(qe),he=Ge==null?Re:rl(Ge),Re=new Qe(De,ie+"leave",qe,p,ke),Re.target=ur,Re.relatedTarget=he,De=null,Zi(ke)===ve&&(Qe=new Qe(ue,ie+"enter",Ge,p,ke),Qe.target=he,Qe.relatedTarget=ur,De=Qe),ur=De,qe&&Ge)t:{for(Qe=qe,ue=Ge,ie=0,he=Qe;he;he=el(he))ie++;for(he=0,De=ue;De;De=el(De))he++;for(;0<ie-he;)Qe=el(Qe),ie--;for(;0<he-ie;)ue=el(ue),he--;for(;ie--;){if(Qe===ue||ue!==null&&Qe===ue.alternate)break t;Qe=el(Qe),ue=el(ue)}Qe=null}else Qe=null;qe!==null&&R_(Pe,Re,qe,Qe,!1),Ge!==null&&ur!==null&&R_(Pe,ur,Ge,Qe,!0)}}e:{if(Re=ve?rl(ve):window,qe=Re.nodeName&&Re.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Re.type==="file")var Je=GF;else if(c_(Re))if(d_)Je=QF;else{Je=YF;var lt=KF}else(qe=Re.nodeName)&&qe.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(Je=XF);if(Je&&(Je=Je(o,ve))){u_(Pe,Je,p,ke);break e}lt&&lt(o,Re,ve),o==="focusout"&&(lt=Re._wrapperState)&&lt.controlled&&Re.type==="number"&&te(Re,"number",Re.value)}switch(lt=ve?rl(ve):window,o){case"focusin":(c_(lt)||lt.contentEditable==="true")&&(Zo=lt,Bg=ve,Qc=null);break;case"focusout":Qc=Bg=Zo=null;break;case"mousedown":zg=!0;break;case"contextmenu":case"mouseup":case"dragend":zg=!1,y_(Pe,p,ke);break;case"selectionchange":if(eU)break;case"keydown":case"keyup":y_(Pe,p,ke)}var ct;if($g)e:{switch(o){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Qo?o_(o,p)&&(ft="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(ft="onCompositionStart");ft&&(a_&&p.locale!=="ko"&&(Qo||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Qo&&(ct=JS()):(ri=ke,kg="value"in ri?ri.value:ri.textContent,Qo=!0)),lt=If(ve,ft),0<lt.length&&(ft=new r_(ft,o,null,p,ke),Pe.push({event:ft,listeners:lt}),ct?ft.data=ct:(ct=l_(p),ct!==null&&(ft.data=ct)))),(ct=zF?qF(o,p):WF(o,p))&&(ve=If(ve,"onBeforeInput"),0<ve.length&&(ke=new r_("onBeforeInput","beforeinput",null,p,ke),Pe.push({event:ke,listeners:ve}),ke.data=ct))}T_(Pe,c)})}function eu(o,c,p){return{instance:o,listener:c,currentTarget:p}}function If(o,c){for(var p=c+"Capture",y=[];o!==null;){var E=o,R=E.stateNode;E.tag===5&&R!==null&&(E=R,R=Ar(o,p),R!=null&&y.unshift(eu(o,R,E)),R=Ar(o,c),R!=null&&y.push(eu(o,R,E))),o=o.return}return y}function el(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function R_(o,c,p,y,E){for(var R=c._reactName,U=[];p!==null&&p!==y;){var J=p,ne=J.alternate,ve=J.stateNode;if(ne!==null&&ne===y)break;J.tag===5&&ve!==null&&(J=ve,E?(ne=Ar(p,R),ne!=null&&U.unshift(eu(p,ne,J))):E||(ne=Ar(p,R),ne!=null&&U.push(eu(p,ne,J)))),p=p.return}U.length!==0&&o.push({event:c,listeners:U})}var aU=/\r\n?/g,sU=/\u0000|\uFFFD/g;function k_(o){return(typeof o=="string"?o:""+o).replace(aU,`
`).replace(sU,"")}function Pf(o,c,p){if(c=k_(c),k_(o)!==c&&p)throw Error(r(425))}function Of(){}var Kg=null,Yg=null;function Xg(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Qg=typeof setTimeout=="function"?setTimeout:void 0,iU=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,oU=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(o){return I_.resolve(null).then(o).catch(lU)}:Qg;function lU(o){setTimeout(function(){throw o})}function Zg(o,c){var p=c,y=0;do{var E=p.nextSibling;if(o.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"){if(y===0){o.removeChild(E),Wc(c);return}y--}else p!=="$"&&p!=="$?"&&p!=="$!"||y++;p=E}while(p);Wc(c)}function ai(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function P_(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Ba="__reactFiber$"+tl,tu="__reactProps$"+tl,ps="__reactContainer$"+tl,Jg="__reactEvents$"+tl,cU="__reactListeners$"+tl,uU="__reactHandles$"+tl;function Zi(o){var c=o[Ba];if(c)return c;for(var p=o.parentNode;p;){if(c=p[ps]||p[Ba]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=P_(o);o!==null;){if(p=o[Ba])return p;o=P_(o)}return c}o=p,p=o.parentNode}return null}function ru(o){return o=o[Ba]||o[ps],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function rl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Df(o){return o[tu]||null}var ev=[],nl=-1;function si(o){return{current:o}}function Yt(o){0>nl||(o.current=ev[nl],ev[nl]=null,nl--)}function Vt(o,c){nl++,ev[nl]=o.current,o.current=c}var ii={},Zr=si(ii),wn=si(!1),Ji=ii;function al(o,c){var p=o.type.contextTypes;if(!p)return ii;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var E={},R;for(R in p)E[R]=c[R];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=E),E}function Nn(o){return o=o.childContextTypes,o!=null}function Mf(){Yt(wn),Yt(Zr)}function O_(o,c,p){if(Zr.current!==ii)throw Error(r(168));Vt(Zr,c),Vt(wn,p)}function D_(o,c,p){var y=o.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return p;y=y.getChildContext();for(var E in y)if(!(E in c))throw Error(r(108,G(o)||"Unknown",E));return V({},p,y)}function $f(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ii,Ji=Zr.current,Vt(Zr,o),Vt(wn,wn.current),!0}function M_(o,c,p){var y=o.stateNode;if(!y)throw Error(r(169));p?(o=D_(o,c,Ji),y.__reactInternalMemoizedMergedChildContext=o,Yt(wn),Yt(Zr),Vt(Zr,o)):Yt(wn),Vt(wn,p)}var gs=null,Lf=!1,tv=!1;function $_(o){gs===null?gs=[o]:gs.push(o)}function dU(o){Lf=!0,$_(o)}function oi(){if(!tv&&gs!==null){tv=!0;var o=0,c=Dt;try{var p=gs;for(Dt=1;o<p.length;o++){var y=p[o];do y=y(!0);while(y!==null)}gs=null,Lf=!1}catch(E){throw gs!==null&&(gs=gs.slice(o+1)),FS(Ng,oi),E}finally{Dt=c,tv=!1}}return null}var sl=[],il=0,Ff=null,Uf=0,ra=[],na=0,eo=null,vs=1,xs="";function to(o,c){sl[il++]=Uf,sl[il++]=Ff,Ff=o,Uf=c}function L_(o,c,p){ra[na++]=vs,ra[na++]=xs,ra[na++]=eo,eo=o;var y=vs;o=xs;var E=32-xa(y)-1;y&=~(1<<E),p+=1;var R=32-xa(c)+E;if(30<R){var U=E-E%5;R=(y&(1<<U)-1).toString(32),y>>=U,E-=U,vs=1<<32-xa(c)+E|p<<E|y,xs=R+o}else vs=1<<R|p<<E|y,xs=o}function rv(o){o.return!==null&&(to(o,1),L_(o,1,0))}function nv(o){for(;o===Ff;)Ff=sl[--il],sl[il]=null,Uf=sl[--il],sl[il]=null;for(;o===eo;)eo=ra[--na],ra[na]=null,xs=ra[--na],ra[na]=null,vs=ra[--na],ra[na]=null}var Ln=null,Fn=null,Qt=!1,ba=null;function F_(o,c){var p=oa(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=o,c=o.deletions,c===null?(o.deletions=[p],o.flags|=16):c.push(p)}function U_(o,c){switch(o.tag){case 5:var p=o.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Ln=o,Fn=ai(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Ln=o,Fn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=eo!==null?{id:vs,overflow:xs}:null,o.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=oa(18,null,null,0),p.stateNode=c,p.return=o,o.child=p,Ln=o,Fn=null,!0):!1;default:return!1}}function av(o){return(o.mode&1)!==0&&(o.flags&128)===0}function sv(o){if(Qt){var c=Fn;if(c){var p=c;if(!U_(o,c)){if(av(o))throw Error(r(418));c=ai(p.nextSibling);var y=Ln;c&&U_(o,c)?F_(y,p):(o.flags=o.flags&-4097|2,Qt=!1,Ln=o)}}else{if(av(o))throw Error(r(418));o.flags=o.flags&-4097|2,Qt=!1,Ln=o}}}function B_(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ln=o}function Bf(o){if(o!==Ln)return!1;if(!Qt)return B_(o),Qt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Xg(o.type,o.memoizedProps)),c&&(c=Fn)){if(av(o))throw z_(),Error(r(418));for(;c;)F_(o,c),c=ai(c.nextSibling)}if(B_(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(c===0){Fn=ai(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}o=o.nextSibling}Fn=null}}else Fn=Ln?ai(o.stateNode.nextSibling):null;return!0}function z_(){for(var o=Fn;o;)o=ai(o.nextSibling)}function ol(){Fn=Ln=null,Qt=!1}function iv(o){ba===null?ba=[o]:ba.push(o)}var fU=A.ReactCurrentBatchConfig;function nu(o,c,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var y=p.stateNode}if(!y)throw Error(r(147,o));var E=y,R=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===R?c.ref:(c=function(U){var J=E.refs;U===null?delete J[R]:J[R]=U},c._stringRef=R,c)}if(typeof o!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,o))}return o}function zf(o,c){throw o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function q_(o){var c=o._init;return c(o._payload)}function W_(o){function c(ue,ie){if(o){var he=ue.deletions;he===null?(ue.deletions=[ie],ue.flags|=16):he.push(ie)}}function p(ue,ie){if(!o)return null;for(;ie!==null;)c(ue,ie),ie=ie.sibling;return null}function y(ue,ie){for(ue=new Map;ie!==null;)ie.key!==null?ue.set(ie.key,ie):ue.set(ie.index,ie),ie=ie.sibling;return ue}function E(ue,ie){return ue=pi(ue,ie),ue.index=0,ue.sibling=null,ue}function R(ue,ie,he){return ue.index=he,o?(he=ue.alternate,he!==null?(he=he.index,he<ie?(ue.flags|=2,ie):he):(ue.flags|=2,ie)):(ue.flags|=1048576,ie)}function U(ue){return o&&ue.alternate===null&&(ue.flags|=2),ue}function J(ue,ie,he,De){return ie===null||ie.tag!==6?(ie=Qv(he,ue.mode,De),ie.return=ue,ie):(ie=E(ie,he),ie.return=ue,ie)}function ne(ue,ie,he,De){var Je=he.type;return Je===k?ke(ue,ie,he.props.children,De,he.key):ie!==null&&(ie.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===M&&q_(Je)===ie.type)?(De=E(ie,he.props),De.ref=nu(ue,ie,he),De.return=ue,De):(De=fh(he.type,he.key,he.props,null,ue.mode,De),De.ref=nu(ue,ie,he),De.return=ue,De)}function ve(ue,ie,he,De){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==he.containerInfo||ie.stateNode.implementation!==he.implementation?(ie=Zv(he,ue.mode,De),ie.return=ue,ie):(ie=E(ie,he.children||[]),ie.return=ue,ie)}function ke(ue,ie,he,De,Je){return ie===null||ie.tag!==7?(ie=co(he,ue.mode,De,Je),ie.return=ue,ie):(ie=E(ie,he),ie.return=ue,ie)}function Pe(ue,ie,he){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Qv(""+ie,ue.mode,he),ie.return=ue,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return he=fh(ie.type,ie.key,ie.props,null,ue.mode,he),he.ref=nu(ue,null,ie),he.return=ue,he;case T:return ie=Zv(ie,ue.mode,he),ie.return=ue,ie;case M:var De=ie._init;return Pe(ue,De(ie._payload),he)}if(se(ie)||K(ie))return ie=co(ie,ue.mode,he,null),ie.return=ue,ie;zf(ue,ie)}return null}function Re(ue,ie,he,De){var Je=ie!==null?ie.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return Je!==null?null:J(ue,ie,""+he,De);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return he.key===Je?ne(ue,ie,he,De):null;case T:return he.key===Je?ve(ue,ie,he,De):null;case M:return Je=he._init,Re(ue,ie,Je(he._payload),De)}if(se(he)||K(he))return Je!==null?null:ke(ue,ie,he,De,null);zf(ue,he)}return null}function qe(ue,ie,he,De,Je){if(typeof De=="string"&&De!==""||typeof De=="number")return ue=ue.get(he)||null,J(ie,ue,""+De,Je);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case _:return ue=ue.get(De.key===null?he:De.key)||null,ne(ie,ue,De,Je);case T:return ue=ue.get(De.key===null?he:De.key)||null,ve(ie,ue,De,Je);case M:var lt=De._init;return qe(ue,ie,he,lt(De._payload),Je)}if(se(De)||K(De))return ue=ue.get(he)||null,ke(ie,ue,De,Je,null);zf(ie,De)}return null}function Ge(ue,ie,he,De){for(var Je=null,lt=null,ct=ie,ft=ie=0,Ir=null;ct!==null&&ft<he.length;ft++){ct.index>ft?(Ir=ct,ct=null):Ir=ct.sibling;var Tt=Re(ue,ct,he[ft],De);if(Tt===null){ct===null&&(ct=Ir);break}o&&ct&&Tt.alternate===null&&c(ue,ct),ie=R(Tt,ie,ft),lt===null?Je=Tt:lt.sibling=Tt,lt=Tt,ct=Ir}if(ft===he.length)return p(ue,ct),Qt&&to(ue,ft),Je;if(ct===null){for(;ft<he.length;ft++)ct=Pe(ue,he[ft],De),ct!==null&&(ie=R(ct,ie,ft),lt===null?Je=ct:lt.sibling=ct,lt=ct);return Qt&&to(ue,ft),Je}for(ct=y(ue,ct);ft<he.length;ft++)Ir=qe(ct,ue,ft,he[ft],De),Ir!==null&&(o&&Ir.alternate!==null&&ct.delete(Ir.key===null?ft:Ir.key),ie=R(Ir,ie,ft),lt===null?Je=Ir:lt.sibling=Ir,lt=Ir);return o&&ct.forEach(function(gi){return c(ue,gi)}),Qt&&to(ue,ft),Je}function Qe(ue,ie,he,De){var Je=K(he);if(typeof Je!="function")throw Error(r(150));if(he=Je.call(he),he==null)throw Error(r(151));for(var lt=Je=null,ct=ie,ft=ie=0,Ir=null,Tt=he.next();ct!==null&&!Tt.done;ft++,Tt=he.next()){ct.index>ft?(Ir=ct,ct=null):Ir=ct.sibling;var gi=Re(ue,ct,Tt.value,De);if(gi===null){ct===null&&(ct=Ir);break}o&&ct&&gi.alternate===null&&c(ue,ct),ie=R(gi,ie,ft),lt===null?Je=gi:lt.sibling=gi,lt=gi,ct=Ir}if(Tt.done)return p(ue,ct),Qt&&to(ue,ft),Je;if(ct===null){for(;!Tt.done;ft++,Tt=he.next())Tt=Pe(ue,Tt.value,De),Tt!==null&&(ie=R(Tt,ie,ft),lt===null?Je=Tt:lt.sibling=Tt,lt=Tt);return Qt&&to(ue,ft),Je}for(ct=y(ue,ct);!Tt.done;ft++,Tt=he.next())Tt=qe(ct,ue,ft,Tt.value,De),Tt!==null&&(o&&Tt.alternate!==null&&ct.delete(Tt.key===null?ft:Tt.key),ie=R(Tt,ie,ft),lt===null?Je=Tt:lt.sibling=Tt,lt=Tt);return o&&ct.forEach(function(VU){return c(ue,VU)}),Qt&&to(ue,ft),Je}function ur(ue,ie,he,De){if(typeof he=="object"&&he!==null&&he.type===k&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case _:e:{for(var Je=he.key,lt=ie;lt!==null;){if(lt.key===Je){if(Je=he.type,Je===k){if(lt.tag===7){p(ue,lt.sibling),ie=E(lt,he.props.children),ie.return=ue,ue=ie;break e}}else if(lt.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===M&&q_(Je)===lt.type){p(ue,lt.sibling),ie=E(lt,he.props),ie.ref=nu(ue,lt,he),ie.return=ue,ue=ie;break e}p(ue,lt);break}else c(ue,lt);lt=lt.sibling}he.type===k?(ie=co(he.props.children,ue.mode,De,he.key),ie.return=ue,ue=ie):(De=fh(he.type,he.key,he.props,null,ue.mode,De),De.ref=nu(ue,ie,he),De.return=ue,ue=De)}return U(ue);case T:e:{for(lt=he.key;ie!==null;){if(ie.key===lt)if(ie.tag===4&&ie.stateNode.containerInfo===he.containerInfo&&ie.stateNode.implementation===he.implementation){p(ue,ie.sibling),ie=E(ie,he.children||[]),ie.return=ue,ue=ie;break e}else{p(ue,ie);break}else c(ue,ie);ie=ie.sibling}ie=Zv(he,ue.mode,De),ie.return=ue,ue=ie}return U(ue);case M:return lt=he._init,ur(ue,ie,lt(he._payload),De)}if(se(he))return Ge(ue,ie,he,De);if(K(he))return Qe(ue,ie,he,De);zf(ue,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ie!==null&&ie.tag===6?(p(ue,ie.sibling),ie=E(ie,he),ie.return=ue,ue=ie):(p(ue,ie),ie=Qv(he,ue.mode,De),ie.return=ue,ue=ie),U(ue)):p(ue,ie)}return ur}var ll=W_(!0),V_=W_(!1),qf=si(null),Wf=null,cl=null,ov=null;function lv(){ov=cl=Wf=null}function cv(o){var c=qf.current;Yt(qf),o._currentValue=c}function uv(o,c,p){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===p)break;o=o.return}}function ul(o,c){Wf=o,ov=cl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(Sn=!0),o.firstContext=null)}function aa(o){var c=o._currentValue;if(ov!==o)if(o={context:o,memoizedValue:c,next:null},cl===null){if(Wf===null)throw Error(r(308));cl=o,Wf.dependencies={lanes:0,firstContext:o}}else cl=cl.next=o;return c}var ro=null;function dv(o){ro===null?ro=[o]:ro.push(o)}function H_(o,c,p,y){var E=c.interleaved;return E===null?(p.next=p,dv(c)):(p.next=E.next,E.next=p),c.interleaved=p,ys(o,y)}function ys(o,c){o.lanes|=c;var p=o.alternate;for(p!==null&&(p.lanes|=c),p=o,o=o.return;o!==null;)o.childLanes|=c,p=o.alternate,p!==null&&(p.childLanes|=c),p=o,o=o.return;return p.tag===3?p.stateNode:null}var li=!1;function fv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G_(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function bs(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function ci(o,c,p){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(_t&2)!==0){var E=y.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),y.pending=c,ys(o,p)}return E=y.interleaved,E===null?(c.next=c,dv(y)):(c.next=E.next,E.next=c),y.interleaved=c,ys(o,p)}function Vf(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,Cg(o,p)}}function K_(o,c){var p=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var E=null,R=null;if(p=p.firstBaseUpdate,p!==null){do{var U={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};R===null?E=R=U:R=R.next=U,p=p.next}while(p!==null);R===null?E=R=c:R=R.next=c}else E=R=c;p={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:y.shared,effects:y.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}function Hf(o,c,p,y){var E=o.updateQueue;li=!1;var R=E.firstBaseUpdate,U=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var ne=J,ve=ne.next;ne.next=null,U===null?R=ve:U.next=ve,U=ne;var ke=o.alternate;ke!==null&&(ke=ke.updateQueue,J=ke.lastBaseUpdate,J!==U&&(J===null?ke.firstBaseUpdate=ve:J.next=ve,ke.lastBaseUpdate=ne))}if(R!==null){var Pe=E.baseState;U=0,ke=ve=ne=null,J=R;do{var Re=J.lane,qe=J.eventTime;if((y&Re)===Re){ke!==null&&(ke=ke.next={eventTime:qe,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Ge=o,Qe=J;switch(Re=c,qe=p,Qe.tag){case 1:if(Ge=Qe.payload,typeof Ge=="function"){Pe=Ge.call(qe,Pe,Re);break e}Pe=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Qe.payload,Re=typeof Ge=="function"?Ge.call(qe,Pe,Re):Ge,Re==null)break e;Pe=V({},Pe,Re);break e;case 2:li=!0}}J.callback!==null&&J.lane!==0&&(o.flags|=64,Re=E.effects,Re===null?E.effects=[J]:Re.push(J))}else qe={eventTime:qe,lane:Re,tag:J.tag,payload:J.payload,callback:J.callback,next:null},ke===null?(ve=ke=qe,ne=Pe):ke=ke.next=qe,U|=Re;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;Re=J,J=Re.next,Re.next=null,E.lastBaseUpdate=Re,E.shared.pending=null}}while(!0);if(ke===null&&(ne=Pe),E.baseState=ne,E.firstBaseUpdate=ve,E.lastBaseUpdate=ke,c=E.shared.interleaved,c!==null){E=c;do U|=E.lane,E=E.next;while(E!==c)}else R===null&&(E.shared.lanes=0);so|=U,o.lanes=U,o.memoizedState=Pe}}function Y_(o,c,p){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var y=o[c],E=y.callback;if(E!==null){if(y.callback=null,y=p,typeof E!="function")throw Error(r(191,E));E.call(y)}}}var au={},za=si(au),su=si(au),iu=si(au);function no(o){if(o===au)throw Error(r(174));return o}function hv(o,c){switch(Vt(iu,c),Vt(su,o),Vt(za,au),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Tr(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=Tr(c,o)}Yt(za),Vt(za,c)}function dl(){Yt(za),Yt(su),Yt(iu)}function X_(o){no(iu.current);var c=no(za.current),p=Tr(c,o.type);c!==p&&(Vt(su,o),Vt(za,p))}function mv(o){su.current===o&&(Yt(za),Yt(su))}var er=si(0);function Gf(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var pv=[];function gv(){for(var o=0;o<pv.length;o++)pv[o]._workInProgressVersionPrimary=null;pv.length=0}var Kf=A.ReactCurrentDispatcher,vv=A.ReactCurrentBatchConfig,ao=0,tr=null,yr=null,Rr=null,Yf=!1,ou=!1,lu=0,hU=0;function Jr(){throw Error(r(321))}function xv(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!ya(o[p],c[p]))return!1;return!0}function yv(o,c,p,y,E,R){if(ao=R,tr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Kf.current=o===null||o.memoizedState===null?vU:xU,o=p(y,E),ou){R=0;do{if(ou=!1,lu=0,25<=R)throw Error(r(301));R+=1,Rr=yr=null,c.updateQueue=null,Kf.current=yU,o=p(y,E)}while(ou)}if(Kf.current=Zf,c=yr!==null&&yr.next!==null,ao=0,Rr=yr=tr=null,Yf=!1,c)throw Error(r(300));return o}function bv(){var o=lu!==0;return lu=0,o}function qa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?tr.memoizedState=Rr=o:Rr=Rr.next=o,Rr}function sa(){if(yr===null){var o=tr.alternate;o=o!==null?o.memoizedState:null}else o=yr.next;var c=Rr===null?tr.memoizedState:Rr.next;if(c!==null)Rr=c,yr=o;else{if(o===null)throw Error(r(310));yr=o,o={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Rr===null?tr.memoizedState=Rr=o:Rr=Rr.next=o}return Rr}function cu(o,c){return typeof c=="function"?c(o):c}function jv(o){var c=sa(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var y=yr,E=y.baseQueue,R=p.pending;if(R!==null){if(E!==null){var U=E.next;E.next=R.next,R.next=U}y.baseQueue=E=R,p.pending=null}if(E!==null){R=E.next,y=y.baseState;var J=U=null,ne=null,ve=R;do{var ke=ve.lane;if((ao&ke)===ke)ne!==null&&(ne=ne.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),y=ve.hasEagerState?ve.eagerState:o(y,ve.action);else{var Pe={lane:ke,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};ne===null?(J=ne=Pe,U=y):ne=ne.next=Pe,tr.lanes|=ke,so|=ke}ve=ve.next}while(ve!==null&&ve!==R);ne===null?U=y:ne.next=J,ya(y,c.memoizedState)||(Sn=!0),c.memoizedState=y,c.baseState=U,c.baseQueue=ne,p.lastRenderedState=y}if(o=p.interleaved,o!==null){E=o;do R=E.lane,tr.lanes|=R,so|=R,E=E.next;while(E!==o)}else E===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function wv(o){var c=sa(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var y=p.dispatch,E=p.pending,R=c.memoizedState;if(E!==null){p.pending=null;var U=E=E.next;do R=o(R,U.action),U=U.next;while(U!==E);ya(R,c.memoizedState)||(Sn=!0),c.memoizedState=R,c.baseQueue===null&&(c.baseState=R),p.lastRenderedState=R}return[R,y]}function Q_(){}function Z_(o,c){var p=tr,y=sa(),E=c(),R=!ya(y.memoizedState,E);if(R&&(y.memoizedState=E,Sn=!0),y=y.queue,Nv(tC.bind(null,p,y,o),[o]),y.getSnapshot!==c||R||Rr!==null&&Rr.memoizedState.tag&1){if(p.flags|=2048,uu(9,eC.bind(null,p,y,E,c),void 0,null),kr===null)throw Error(r(349));(ao&30)!==0||J_(p,c,E)}return E}function J_(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=tr.updateQueue,c===null?(c={lastEffect:null,stores:null},tr.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function eC(o,c,p,y){c.value=p,c.getSnapshot=y,rC(c)&&nC(o)}function tC(o,c,p){return p(function(){rC(c)&&nC(o)})}function rC(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!ya(o,p)}catch{return!0}}function nC(o){var c=ys(o,1);c!==null&&Sa(c,o,1,-1)}function aC(o){var c=qa();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:o},c.queue=o,o=o.dispatch=gU.bind(null,tr,o),[c.memoizedState,o]}function uu(o,c,p,y){return o={tag:o,create:c,destroy:p,deps:y,next:null},c=tr.updateQueue,c===null?(c={lastEffect:null,stores:null},tr.updateQueue=c,c.lastEffect=o.next=o):(p=c.lastEffect,p===null?c.lastEffect=o.next=o:(y=p.next,p.next=o,o.next=y,c.lastEffect=o)),o}function sC(){return sa().memoizedState}function Xf(o,c,p,y){var E=qa();tr.flags|=o,E.memoizedState=uu(1|c,p,void 0,y===void 0?null:y)}function Qf(o,c,p,y){var E=sa();y=y===void 0?null:y;var R=void 0;if(yr!==null){var U=yr.memoizedState;if(R=U.destroy,y!==null&&xv(y,U.deps)){E.memoizedState=uu(c,p,R,y);return}}tr.flags|=o,E.memoizedState=uu(1|c,p,R,y)}function iC(o,c){return Xf(8390656,8,o,c)}function Nv(o,c){return Qf(2048,8,o,c)}function oC(o,c){return Qf(4,2,o,c)}function lC(o,c){return Qf(4,4,o,c)}function cC(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function uC(o,c,p){return p=p!=null?p.concat([o]):null,Qf(4,4,cC.bind(null,c,o),p)}function Sv(){}function dC(o,c){var p=sa();c=c===void 0?null:c;var y=p.memoizedState;return y!==null&&c!==null&&xv(c,y[1])?y[0]:(p.memoizedState=[o,c],o)}function fC(o,c){var p=sa();c=c===void 0?null:c;var y=p.memoizedState;return y!==null&&c!==null&&xv(c,y[1])?y[0]:(o=o(),p.memoizedState=[o,c],o)}function hC(o,c,p){return(ao&21)===0?(o.baseState&&(o.baseState=!1,Sn=!0),o.memoizedState=p):(ya(p,c)||(p=qS(),tr.lanes|=p,so|=p,o.baseState=!0),c)}function mU(o,c){var p=Dt;Dt=p!==0&&4>p?p:4,o(!0);var y=vv.transition;vv.transition={};try{o(!1),c()}finally{Dt=p,vv.transition=y}}function mC(){return sa().memoizedState}function pU(o,c,p){var y=hi(o);if(p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},pC(o))gC(c,p);else if(p=H_(o,c,p,y),p!==null){var E=un();Sa(p,o,y,E),vC(p,c,y)}}function gU(o,c,p){var y=hi(o),E={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(pC(o))gC(c,E);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=c.lastRenderedReducer,R!==null))try{var U=c.lastRenderedState,J=R(U,p);if(E.hasEagerState=!0,E.eagerState=J,ya(J,U)){var ne=c.interleaved;ne===null?(E.next=E,dv(c)):(E.next=ne.next,ne.next=E),c.interleaved=E;return}}catch{}finally{}p=H_(o,c,E,y),p!==null&&(E=un(),Sa(p,o,y,E),vC(p,c,y))}}function pC(o){var c=o.alternate;return o===tr||c!==null&&c===tr}function gC(o,c){ou=Yf=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function vC(o,c,p){if((p&4194240)!==0){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,Cg(o,p)}}var Zf={readContext:aa,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useInsertionEffect:Jr,useLayoutEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useMutableSource:Jr,useSyncExternalStore:Jr,useId:Jr,unstable_isNewReconciler:!1},vU={readContext:aa,useCallback:function(o,c){return qa().memoizedState=[o,c===void 0?null:c],o},useContext:aa,useEffect:iC,useImperativeHandle:function(o,c,p){return p=p!=null?p.concat([o]):null,Xf(4194308,4,cC.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Xf(4194308,4,o,c)},useInsertionEffect:function(o,c){return Xf(4,2,o,c)},useMemo:function(o,c){var p=qa();return c=c===void 0?null:c,o=o(),p.memoizedState=[o,c],o},useReducer:function(o,c,p){var y=qa();return c=p!==void 0?p(c):c,y.memoizedState=y.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},y.queue=o,o=o.dispatch=pU.bind(null,tr,o),[y.memoizedState,o]},useRef:function(o){var c=qa();return o={current:o},c.memoizedState=o},useState:aC,useDebugValue:Sv,useDeferredValue:function(o){return qa().memoizedState=o},useTransition:function(){var o=aC(!1),c=o[0];return o=mU.bind(null,o[1]),qa().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,p){var y=tr,E=qa();if(Qt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),kr===null)throw Error(r(349));(ao&30)!==0||J_(y,c,p)}E.memoizedState=p;var R={value:p,getSnapshot:c};return E.queue=R,iC(tC.bind(null,y,R,o),[o]),y.flags|=2048,uu(9,eC.bind(null,y,R,p,c),void 0,null),p},useId:function(){var o=qa(),c=kr.identifierPrefix;if(Qt){var p=xs,y=vs;p=(y&~(1<<32-xa(y)-1)).toString(32)+p,c=":"+c+"R"+p,p=lu++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=hU++,c=":"+c+"r"+p.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},xU={readContext:aa,useCallback:dC,useContext:aa,useEffect:Nv,useImperativeHandle:uC,useInsertionEffect:oC,useLayoutEffect:lC,useMemo:fC,useReducer:jv,useRef:sC,useState:function(){return jv(cu)},useDebugValue:Sv,useDeferredValue:function(o){var c=sa();return hC(c,yr.memoizedState,o)},useTransition:function(){var o=jv(cu)[0],c=sa().memoizedState;return[o,c]},useMutableSource:Q_,useSyncExternalStore:Z_,useId:mC,unstable_isNewReconciler:!1},yU={readContext:aa,useCallback:dC,useContext:aa,useEffect:Nv,useImperativeHandle:uC,useInsertionEffect:oC,useLayoutEffect:lC,useMemo:fC,useReducer:wv,useRef:sC,useState:function(){return wv(cu)},useDebugValue:Sv,useDeferredValue:function(o){var c=sa();return yr===null?c.memoizedState=o:hC(c,yr.memoizedState,o)},useTransition:function(){var o=wv(cu)[0],c=sa().memoizedState;return[o,c]},useMutableSource:Q_,useSyncExternalStore:Z_,useId:mC,unstable_isNewReconciler:!1};function ja(o,c){if(o&&o.defaultProps){c=V({},c),o=o.defaultProps;for(var p in o)c[p]===void 0&&(c[p]=o[p]);return c}return c}function _v(o,c,p,y){c=o.memoizedState,p=p(y,c),p=p==null?c:V({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var Jf={isMounted:function(o){return(o=o._reactInternals)?Qi(o)===o:!1},enqueueSetState:function(o,c,p){o=o._reactInternals;var y=un(),E=hi(o),R=bs(y,E);R.payload=c,p!=null&&(R.callback=p),c=ci(o,R,E),c!==null&&(Sa(c,o,E,y),Vf(c,o,E))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var y=un(),E=hi(o),R=bs(y,E);R.tag=1,R.payload=c,p!=null&&(R.callback=p),c=ci(o,R,E),c!==null&&(Sa(c,o,E,y),Vf(c,o,E))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=un(),y=hi(o),E=bs(p,y);E.tag=2,c!=null&&(E.callback=c),c=ci(o,E,y),c!==null&&(Sa(c,o,y,p),Vf(c,o,y))}};function xC(o,c,p,y,E,R,U){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,R,U):c.prototype&&c.prototype.isPureReactComponent?!Xc(p,y)||!Xc(E,R):!0}function yC(o,c,p){var y=!1,E=ii,R=c.contextType;return typeof R=="object"&&R!==null?R=aa(R):(E=Nn(c)?Ji:Zr.current,y=c.contextTypes,R=(y=y!=null)?al(o,E):ii),c=new c(p,R),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Jf,o.stateNode=c,c._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=E,o.__reactInternalMemoizedMaskedChildContext=R),c}function bC(o,c,p,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,y),c.state!==o&&Jf.enqueueReplaceState(c,c.state,null)}function Cv(o,c,p,y){var E=o.stateNode;E.props=p,E.state=o.memoizedState,E.refs={},fv(o);var R=c.contextType;typeof R=="object"&&R!==null?E.context=aa(R):(R=Nn(c)?Ji:Zr.current,E.context=al(o,R)),E.state=o.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(_v(o,c,R,p),E.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(c=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),c!==E.state&&Jf.enqueueReplaceState(E,E.state,null),Hf(o,p,E,y),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308)}function fl(o,c){try{var p="",y=c;do p+=ee(y),y=y.return;while(y);var E=p}catch(R){E=`
Error generating stack: `+R.message+`
`+R.stack}return{value:o,source:c,stack:E,digest:null}}function Ev(o,c,p){return{value:o,source:null,stack:p??null,digest:c??null}}function Tv(o,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var bU=typeof WeakMap=="function"?WeakMap:Map;function jC(o,c,p){p=bs(-1,p),p.tag=3,p.payload={element:null};var y=c.value;return p.callback=function(){ih||(ih=!0,qv=y),Tv(o,c)},p}function wC(o,c,p){p=bs(-1,p),p.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var E=c.value;p.payload=function(){return y(E)},p.callback=function(){Tv(o,c)}}var R=o.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(p.callback=function(){Tv(o,c),typeof y!="function"&&(di===null?di=new Set([this]):di.add(this));var U=c.stack;this.componentDidCatch(c.value,{componentStack:U!==null?U:""})}),p}function NC(o,c,p){var y=o.pingCache;if(y===null){y=o.pingCache=new bU;var E=new Set;y.set(c,E)}else E=y.get(c),E===void 0&&(E=new Set,y.set(c,E));E.has(p)||(E.add(p),o=OU.bind(null,o,c,p),c.then(o,o))}function SC(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function _C(o,c,p,y,E){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=bs(-1,1),c.tag=2,ci(p,c,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=E,o)}var jU=A.ReactCurrentOwner,Sn=!1;function cn(o,c,p,y){c.child=o===null?V_(c,null,p,y):ll(c,o.child,p,y)}function CC(o,c,p,y,E){p=p.render;var R=c.ref;return ul(c,E),y=yv(o,c,p,y,R,E),p=bv(),o!==null&&!Sn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~E,js(o,c,E)):(Qt&&p&&rv(c),c.flags|=1,cn(o,c,y,E),c.child)}function EC(o,c,p,y,E){if(o===null){var R=p.type;return typeof R=="function"&&!Xv(R)&&R.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=R,TC(o,c,R,y,E)):(o=fh(p.type,null,y,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(R=o.child,(o.lanes&E)===0){var U=R.memoizedProps;if(p=p.compare,p=p!==null?p:Xc,p(U,y)&&o.ref===c.ref)return js(o,c,E)}return c.flags|=1,o=pi(R,y),o.ref=c.ref,o.return=c,c.child=o}function TC(o,c,p,y,E){if(o!==null){var R=o.memoizedProps;if(Xc(R,y)&&o.ref===c.ref)if(Sn=!1,c.pendingProps=y=R,(o.lanes&E)!==0)(o.flags&131072)!==0&&(Sn=!0);else return c.lanes=o.lanes,js(o,c,E)}return Av(o,c,p,y,E)}function AC(o,c,p){var y=c.pendingProps,E=y.children,R=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(ml,Un),Un|=p;else{if((p&1073741824)===0)return o=R!==null?R.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,Vt(ml,Un),Un|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=R!==null?R.baseLanes:p,Vt(ml,Un),Un|=y}else R!==null?(y=R.baseLanes|p,c.memoizedState=null):y=p,Vt(ml,Un),Un|=y;return cn(o,c,E,p),c.child}function RC(o,c){var p=c.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function Av(o,c,p,y,E){var R=Nn(p)?Ji:Zr.current;return R=al(c,R),ul(c,E),p=yv(o,c,p,y,R,E),y=bv(),o!==null&&!Sn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~E,js(o,c,E)):(Qt&&y&&rv(c),c.flags|=1,cn(o,c,p,E),c.child)}function kC(o,c,p,y,E){if(Nn(p)){var R=!0;$f(c)}else R=!1;if(ul(c,E),c.stateNode===null)th(o,c),yC(c,p,y),Cv(c,p,y,E),y=!0;else if(o===null){var U=c.stateNode,J=c.memoizedProps;U.props=J;var ne=U.context,ve=p.contextType;typeof ve=="object"&&ve!==null?ve=aa(ve):(ve=Nn(p)?Ji:Zr.current,ve=al(c,ve));var ke=p.getDerivedStateFromProps,Pe=typeof ke=="function"||typeof U.getSnapshotBeforeUpdate=="function";Pe||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==y||ne!==ve)&&bC(c,U,y,ve),li=!1;var Re=c.memoizedState;U.state=Re,Hf(c,y,U,E),ne=c.memoizedState,J!==y||Re!==ne||wn.current||li?(typeof ke=="function"&&(_v(c,p,ke,y),ne=c.memoizedState),(J=li||xC(c,p,J,y,Re,ne,ve))?(Pe||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(c.flags|=4194308)):(typeof U.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=ne),U.props=y,U.state=ne,U.context=ve,y=J):(typeof U.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{U=c.stateNode,G_(o,c),J=c.memoizedProps,ve=c.type===c.elementType?J:ja(c.type,J),U.props=ve,Pe=c.pendingProps,Re=U.context,ne=p.contextType,typeof ne=="object"&&ne!==null?ne=aa(ne):(ne=Nn(p)?Ji:Zr.current,ne=al(c,ne));var qe=p.getDerivedStateFromProps;(ke=typeof qe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==Pe||Re!==ne)&&bC(c,U,y,ne),li=!1,Re=c.memoizedState,U.state=Re,Hf(c,y,U,E);var Ge=c.memoizedState;J!==Pe||Re!==Ge||wn.current||li?(typeof qe=="function"&&(_v(c,p,qe,y),Ge=c.memoizedState),(ve=li||xC(c,p,ve,y,Re,Ge,ne)||!1)?(ke||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(y,Ge,ne),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(y,Ge,ne)),typeof U.componentDidUpdate=="function"&&(c.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof U.componentDidUpdate!="function"||J===o.memoizedProps&&Re===o.memoizedState||(c.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&Re===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Ge),U.props=y,U.state=Ge,U.context=ne,y=ve):(typeof U.componentDidUpdate!="function"||J===o.memoizedProps&&Re===o.memoizedState||(c.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&Re===o.memoizedState||(c.flags|=1024),y=!1)}return Rv(o,c,p,y,R,E)}function Rv(o,c,p,y,E,R){RC(o,c);var U=(c.flags&128)!==0;if(!y&&!U)return E&&M_(c,p,!1),js(o,c,R);y=c.stateNode,jU.current=c;var J=U&&typeof p.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,o!==null&&U?(c.child=ll(c,o.child,null,R),c.child=ll(c,null,J,R)):cn(o,c,J,R),c.memoizedState=y.state,E&&M_(c,p,!0),c.child}function IC(o){var c=o.stateNode;c.pendingContext?O_(o,c.pendingContext,c.pendingContext!==c.context):c.context&&O_(o,c.context,!1),hv(o,c.containerInfo)}function PC(o,c,p,y,E){return ol(),iv(E),c.flags|=256,cn(o,c,p,y),c.child}var kv={dehydrated:null,treeContext:null,retryLane:0};function Iv(o){return{baseLanes:o,cachePool:null,transitions:null}}function OC(o,c,p){var y=c.pendingProps,E=er.current,R=!1,U=(c.flags&128)!==0,J;if((J=U)||(J=o!==null&&o.memoizedState===null?!1:(E&2)!==0),J?(R=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(E|=1),Vt(er,E&1),o===null)return sv(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(U=y.children,o=y.fallback,R?(y=c.mode,R=c.child,U={mode:"hidden",children:U},(y&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=U):R=hh(U,y,0,null),o=co(o,y,p,null),R.return=c,o.return=c,R.sibling=o,c.child=R,c.child.memoizedState=Iv(p),c.memoizedState=kv,o):Pv(c,U));if(E=o.memoizedState,E!==null&&(J=E.dehydrated,J!==null))return wU(o,c,U,y,J,E,p);if(R){R=y.fallback,U=c.mode,E=o.child,J=E.sibling;var ne={mode:"hidden",children:y.children};return(U&1)===0&&c.child!==E?(y=c.child,y.childLanes=0,y.pendingProps=ne,c.deletions=null):(y=pi(E,ne),y.subtreeFlags=E.subtreeFlags&14680064),J!==null?R=pi(J,R):(R=co(R,U,p,null),R.flags|=2),R.return=c,y.return=c,y.sibling=R,c.child=y,y=R,R=c.child,U=o.child.memoizedState,U=U===null?Iv(p):{baseLanes:U.baseLanes|p,cachePool:null,transitions:U.transitions},R.memoizedState=U,R.childLanes=o.childLanes&~p,c.memoizedState=kv,y}return R=o.child,o=R.sibling,y=pi(R,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=p),y.return=c,y.sibling=null,o!==null&&(p=c.deletions,p===null?(c.deletions=[o],c.flags|=16):p.push(o)),c.child=y,c.memoizedState=null,y}function Pv(o,c){return c=hh({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function eh(o,c,p,y){return y!==null&&iv(y),ll(c,o.child,null,p),o=Pv(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function wU(o,c,p,y,E,R,U){if(p)return c.flags&256?(c.flags&=-257,y=Ev(Error(r(422))),eh(o,c,U,y)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(R=y.fallback,E=c.mode,y=hh({mode:"visible",children:y.children},E,0,null),R=co(R,E,U,null),R.flags|=2,y.return=c,R.return=c,y.sibling=R,c.child=y,(c.mode&1)!==0&&ll(c,o.child,null,U),c.child.memoizedState=Iv(U),c.memoizedState=kv,R);if((c.mode&1)===0)return eh(o,c,U,null);if(E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var J=y.dgst;return y=J,R=Error(r(419)),y=Ev(R,y,void 0),eh(o,c,U,y)}if(J=(U&o.childLanes)!==0,Sn||J){if(y=kr,y!==null){switch(U&-U){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(y.suspendedLanes|U))!==0?0:E,E!==0&&E!==R.retryLane&&(R.retryLane=E,ys(o,E),Sa(y,o,E,-1))}return Yv(),y=Ev(Error(r(421))),eh(o,c,U,y)}return E.data==="$?"?(c.flags|=128,c.child=o.child,c=DU.bind(null,o),E._reactRetry=c,null):(o=R.treeContext,Fn=ai(E.nextSibling),Ln=c,Qt=!0,ba=null,o!==null&&(ra[na++]=vs,ra[na++]=xs,ra[na++]=eo,vs=o.id,xs=o.overflow,eo=c),c=Pv(c,y.children),c.flags|=4096,c)}function DC(o,c,p){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),uv(o.return,c,p)}function Ov(o,c,p,y,E){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:E}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=y,R.tail=p,R.tailMode=E)}function MC(o,c,p){var y=c.pendingProps,E=y.revealOrder,R=y.tail;if(cn(o,c,y.children,p),y=er.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&DC(o,p,c);else if(o.tag===19)DC(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(Vt(er,y),(c.mode&1)===0)c.memoizedState=null;else switch(E){case"forwards":for(p=c.child,E=null;p!==null;)o=p.alternate,o!==null&&Gf(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),Ov(c,!1,E,p,R);break;case"backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&Gf(o)===null){c.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}Ov(c,!0,p,null,R);break;case"together":Ov(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function th(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function js(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),so|=c.lanes,(p&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,p=pi(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=pi(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function NU(o,c,p){switch(c.tag){case 3:IC(c),ol();break;case 5:X_(c);break;case 1:Nn(c.type)&&$f(c);break;case 4:hv(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,E=c.memoizedProps.value;Vt(qf,y._currentValue),y._currentValue=E;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(Vt(er,er.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?OC(o,c,p):(Vt(er,er.current&1),o=js(o,c,p),o!==null?o.sibling:null);Vt(er,er.current&1);break;case 19:if(y=(p&c.childLanes)!==0,(o.flags&128)!==0){if(y)return MC(o,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Vt(er,er.current),y)break;return null;case 22:case 23:return c.lanes=0,AC(o,c,p)}return js(o,c,p)}var $C,Dv,LC,FC;$C=function(o,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Dv=function(){},LC=function(o,c,p,y){var E=o.memoizedProps;if(E!==y){o=c.stateNode,no(za.current);var R=null;switch(p){case"input":E=ge(o,E),y=ge(o,y),R=[];break;case"select":E=V({},E,{value:void 0}),y=V({},y,{value:void 0}),R=[];break;case"textarea":E=gt(o,E),y=gt(o,y),R=[];break;default:typeof E.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Of)}dr(p,y);var U;p=null;for(ve in E)if(!y.hasOwnProperty(ve)&&E.hasOwnProperty(ve)&&E[ve]!=null)if(ve==="style"){var J=E[ve];for(U in J)J.hasOwnProperty(U)&&(p||(p={}),p[U]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(s.hasOwnProperty(ve)?R||(R=[]):(R=R||[]).push(ve,null));for(ve in y){var ne=y[ve];if(J=E?.[ve],y.hasOwnProperty(ve)&&ne!==J&&(ne!=null||J!=null))if(ve==="style")if(J){for(U in J)!J.hasOwnProperty(U)||ne&&ne.hasOwnProperty(U)||(p||(p={}),p[U]="");for(U in ne)ne.hasOwnProperty(U)&&J[U]!==ne[U]&&(p||(p={}),p[U]=ne[U])}else p||(R||(R=[]),R.push(ve,p)),p=ne;else ve==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,J=J?J.__html:void 0,ne!=null&&J!==ne&&(R=R||[]).push(ve,ne)):ve==="children"?typeof ne!="string"&&typeof ne!="number"||(R=R||[]).push(ve,""+ne):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(s.hasOwnProperty(ve)?(ne!=null&&ve==="onScroll"&&Kt("scroll",o),R||J===ne||(R=[])):(R=R||[]).push(ve,ne))}p&&(R=R||[]).push("style",p);var ve=R;(c.updateQueue=ve)&&(c.flags|=4)}},FC=function(o,c,p,y){p!==y&&(c.flags|=4)};function du(o,c){if(!Qt)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function en(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,y=0;if(c)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags&14680064,y|=E.flags&14680064,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=y,o.childLanes=p,c}function SU(o,c,p){var y=c.pendingProps;switch(nv(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(c),null;case 1:return Nn(c.type)&&Mf(),en(c),null;case 3:return y=c.stateNode,dl(),Yt(wn),Yt(Zr),gv(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Bf(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ba!==null&&(Hv(ba),ba=null))),Dv(o,c),en(c),null;case 5:mv(c);var E=no(iu.current);if(p=c.type,o!==null&&c.stateNode!=null)LC(o,c,p,y,E),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(r(166));return en(c),null}if(o=no(za.current),Bf(c)){y=c.stateNode,p=c.type;var R=c.memoizedProps;switch(y[Ba]=c,y[tu]=R,o=(c.mode&1)!==0,p){case"dialog":Kt("cancel",y),Kt("close",y);break;case"iframe":case"object":case"embed":Kt("load",y);break;case"video":case"audio":for(E=0;E<Zc.length;E++)Kt(Zc[E],y);break;case"source":Kt("error",y);break;case"img":case"image":case"link":Kt("error",y),Kt("load",y);break;case"details":Kt("toggle",y);break;case"input":Le(y,R),Kt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!R.multiple},Kt("invalid",y);break;case"textarea":or(y,R),Kt("invalid",y)}dr(p,R),E=null;for(var U in R)if(R.hasOwnProperty(U)){var J=R[U];U==="children"?typeof J=="string"?y.textContent!==J&&(R.suppressHydrationWarning!==!0&&Pf(y.textContent,J,o),E=["children",J]):typeof J=="number"&&y.textContent!==""+J&&(R.suppressHydrationWarning!==!0&&Pf(y.textContent,J,o),E=["children",""+J]):s.hasOwnProperty(U)&&J!=null&&U==="onScroll"&&Kt("scroll",y)}switch(p){case"input":Oe(y),wt(y,R,!0);break;case"textarea":Oe(y),ye(y);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(y.onclick=Of)}y=E,c.updateQueue=y,y!==null&&(c.flags|=4)}else{U=E.nodeType===9?E:E.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=st(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=U.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=U.createElement(p,{is:y.is}):(o=U.createElement(p),p==="select"&&(U=o,y.multiple?U.multiple=!0:y.size&&(U.size=y.size))):o=U.createElementNS(o,p),o[Ba]=c,o[tu]=y,$C(o,c,!1,!1),c.stateNode=o;e:{switch(U=hs(p,y),p){case"dialog":Kt("cancel",o),Kt("close",o),E=y;break;case"iframe":case"object":case"embed":Kt("load",o),E=y;break;case"video":case"audio":for(E=0;E<Zc.length;E++)Kt(Zc[E],o);E=y;break;case"source":Kt("error",o),E=y;break;case"img":case"image":case"link":Kt("error",o),Kt("load",o),E=y;break;case"details":Kt("toggle",o),E=y;break;case"input":Le(o,y),E=ge(o,y),Kt("invalid",o);break;case"option":E=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},E=V({},y,{value:void 0}),Kt("invalid",o);break;case"textarea":or(o,y),E=gt(o,y),Kt("invalid",o);break;default:E=y}dr(p,E),J=E;for(R in J)if(J.hasOwnProperty(R)){var ne=J[R];R==="style"?de(o,ne):R==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Gs(o,ne)):R==="children"?typeof ne=="string"?(p!=="textarea"||ne!=="")&&jn(o,ne):typeof ne=="number"&&jn(o,""+ne):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(s.hasOwnProperty(R)?ne!=null&&R==="onScroll"&&Kt("scroll",o):ne!=null&&S(o,R,ne,U))}switch(p){case"input":Oe(o),wt(o,y,!1);break;case"textarea":Oe(o),ye(o);break;case"option":y.value!=null&&o.setAttribute("value",""+fe(y.value));break;case"select":o.multiple=!!y.multiple,R=y.value,R!=null?Be(o,!!y.multiple,R,!1):y.defaultValue!=null&&Be(o,!!y.multiple,y.defaultValue,!0);break;default:typeof E.onClick=="function"&&(o.onclick=Of)}switch(p){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return en(c),null;case 6:if(o&&c.stateNode!=null)FC(o,c,o.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(p=no(iu.current),no(za.current),Bf(c)){if(y=c.stateNode,p=c.memoizedProps,y[Ba]=c,(R=y.nodeValue!==p)&&(o=Ln,o!==null))switch(o.tag){case 3:Pf(y.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Pf(y.nodeValue,p,(o.mode&1)!==0)}R&&(c.flags|=4)}else y=(p.nodeType===9?p:p.ownerDocument).createTextNode(y),y[Ba]=c,c.stateNode=y}return en(c),null;case 13:if(Yt(er),y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Qt&&Fn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)z_(),ol(),c.flags|=98560,R=!1;else if(R=Bf(c),y!==null&&y.dehydrated!==null){if(o===null){if(!R)throw Error(r(318));if(R=c.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Ba]=c}else ol(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;en(c),R=!1}else ba!==null&&(Hv(ba),ba=null),R=!0;if(!R)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(er.current&1)!==0?br===0&&(br=3):Yv())),c.updateQueue!==null&&(c.flags|=4),en(c),null);case 4:return dl(),Dv(o,c),o===null&&Jc(c.stateNode.containerInfo),en(c),null;case 10:return cv(c.type._context),en(c),null;case 17:return Nn(c.type)&&Mf(),en(c),null;case 19:if(Yt(er),R=c.memoizedState,R===null)return en(c),null;if(y=(c.flags&128)!==0,U=R.rendering,U===null)if(y)du(R,!1);else{if(br!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(U=Gf(o),U!==null){for(c.flags|=128,du(R,!1),y=U.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=p,p=c.child;p!==null;)R=p,o=y,R.flags&=14680066,U=R.alternate,U===null?(R.childLanes=0,R.lanes=o,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=U.childLanes,R.lanes=U.lanes,R.child=U.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=U.memoizedProps,R.memoizedState=U.memoizedState,R.updateQueue=U.updateQueue,R.type=U.type,o=U.dependencies,R.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return Vt(er,er.current&1|2),c.child}o=o.sibling}R.tail!==null&&cr()>pl&&(c.flags|=128,y=!0,du(R,!1),c.lanes=4194304)}else{if(!y)if(o=Gf(U),o!==null){if(c.flags|=128,y=!0,p=o.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),du(R,!0),R.tail===null&&R.tailMode==="hidden"&&!U.alternate&&!Qt)return en(c),null}else 2*cr()-R.renderingStartTime>pl&&p!==1073741824&&(c.flags|=128,y=!0,du(R,!1),c.lanes=4194304);R.isBackwards?(U.sibling=c.child,c.child=U):(p=R.last,p!==null?p.sibling=U:c.child=U,R.last=U)}return R.tail!==null?(c=R.tail,R.rendering=c,R.tail=c.sibling,R.renderingStartTime=cr(),c.sibling=null,p=er.current,Vt(er,y?p&1|2:p&1),c):(en(c),null);case 22:case 23:return Kv(),y=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(Un&1073741824)!==0&&(en(c),c.subtreeFlags&6&&(c.flags|=8192)):en(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function _U(o,c){switch(nv(c),c.tag){case 1:return Nn(c.type)&&Mf(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return dl(),Yt(wn),Yt(Zr),gv(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return mv(c),null;case 13:if(Yt(er),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));ol()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Yt(er),null;case 4:return dl(),null;case 10:return cv(c.type._context),null;case 22:case 23:return Kv(),null;case 24:return null;default:return null}}var rh=!1,tn=!1,CU=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function hl(o,c){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){rr(o,c,y)}else p.current=null}function Mv(o,c,p){try{p()}catch(y){rr(o,c,y)}}var UC=!1;function EU(o,c){if(Kg=wf,o=x_(),Ug(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var E=y.anchorOffset,R=y.focusNode;y=y.focusOffset;try{p.nodeType,R.nodeType}catch{p=null;break e}var U=0,J=-1,ne=-1,ve=0,ke=0,Pe=o,Re=null;t:for(;;){for(var qe;Pe!==p||E!==0&&Pe.nodeType!==3||(J=U+E),Pe!==R||y!==0&&Pe.nodeType!==3||(ne=U+y),Pe.nodeType===3&&(U+=Pe.nodeValue.length),(qe=Pe.firstChild)!==null;)Re=Pe,Pe=qe;for(;;){if(Pe===o)break t;if(Re===p&&++ve===E&&(J=U),Re===R&&++ke===y&&(ne=U),(qe=Pe.nextSibling)!==null)break;Pe=Re,Re=Pe.parentNode}Pe=qe}p=J===-1||ne===-1?null:{start:J,end:ne}}else p=null}p=p||{start:0,end:0}}else p=null;for(Yg={focusedElem:o,selectionRange:p},wf=!1,Ve=c;Ve!==null;)if(c=Ve,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Ve=o;else for(;Ve!==null;){c=Ve;try{var Ge=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Qe=Ge.memoizedProps,ur=Ge.memoizedState,ue=c.stateNode,ie=ue.getSnapshotBeforeUpdate(c.elementType===c.type?Qe:ja(c.type,Qe),ur);ue.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var he=c.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(De){rr(c,c.return,De)}if(o=c.sibling,o!==null){o.return=c.return,Ve=o;break}Ve=c.return}return Ge=UC,UC=!1,Ge}function fu(o,c,p){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var E=y=y.next;do{if((E.tag&o)===o){var R=E.destroy;E.destroy=void 0,R!==void 0&&Mv(c,p,R)}E=E.next}while(E!==y)}}function nh(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&o)===o){var y=p.create;p.destroy=y()}p=p.next}while(p!==c)}}function $v(o){var c=o.ref;if(c!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof c=="function"?c(o):c.current=o}}function BC(o){var c=o.alternate;c!==null&&(o.alternate=null,BC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[Ba],delete c[tu],delete c[Jg],delete c[cU],delete c[uU])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function zC(o){return o.tag===5||o.tag===3||o.tag===4}function qC(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||zC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Lv(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(o,c):p.insertBefore(o,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(o,p)):(c=p,c.appendChild(o)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Of));else if(y!==4&&(o=o.child,o!==null))for(Lv(o,c,p),o=o.sibling;o!==null;)Lv(o,c,p),o=o.sibling}function Fv(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(Fv(o,c,p),o=o.sibling;o!==null;)Fv(o,c,p),o=o.sibling}var Wr=null,wa=!1;function ui(o,c,p){for(p=p.child;p!==null;)WC(o,c,p),p=p.sibling}function WC(o,c,p){if(Ua&&typeof Ua.onCommitFiberUnmount=="function")try{Ua.onCommitFiberUnmount(gf,p)}catch{}switch(p.tag){case 5:tn||hl(p,c);case 6:var y=Wr,E=wa;Wr=null,ui(o,c,p),Wr=y,wa=E,Wr!==null&&(wa?(o=Wr,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):Wr.removeChild(p.stateNode));break;case 18:Wr!==null&&(wa?(o=Wr,p=p.stateNode,o.nodeType===8?Zg(o.parentNode,p):o.nodeType===1&&Zg(o,p),Wc(o)):Zg(Wr,p.stateNode));break;case 4:y=Wr,E=wa,Wr=p.stateNode.containerInfo,wa=!0,ui(o,c,p),Wr=y,wa=E;break;case 0:case 11:case 14:case 15:if(!tn&&(y=p.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){E=y=y.next;do{var R=E,U=R.destroy;R=R.tag,U!==void 0&&((R&2)!==0||(R&4)!==0)&&Mv(p,c,U),E=E.next}while(E!==y)}ui(o,c,p);break;case 1:if(!tn&&(hl(p,c),y=p.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(J){rr(p,c,J)}ui(o,c,p);break;case 21:ui(o,c,p);break;case 22:p.mode&1?(tn=(y=tn)||p.memoizedState!==null,ui(o,c,p),tn=y):ui(o,c,p);break;default:ui(o,c,p)}}function VC(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new CU),c.forEach(function(y){var E=MU.bind(null,o,y);p.has(y)||(p.add(y),y.then(E,E))})}}function Na(o,c){var p=c.deletions;if(p!==null)for(var y=0;y<p.length;y++){var E=p[y];try{var R=o,U=c,J=U;e:for(;J!==null;){switch(J.tag){case 5:Wr=J.stateNode,wa=!1;break e;case 3:Wr=J.stateNode.containerInfo,wa=!0;break e;case 4:Wr=J.stateNode.containerInfo,wa=!0;break e}J=J.return}if(Wr===null)throw Error(r(160));WC(R,U,E),Wr=null,wa=!1;var ne=E.alternate;ne!==null&&(ne.return=null),E.return=null}catch(ve){rr(E,c,ve)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)HC(c,o),c=c.sibling}function HC(o,c){var p=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Na(c,o),Wa(o),y&4){try{fu(3,o,o.return),nh(3,o)}catch(Qe){rr(o,o.return,Qe)}try{fu(5,o,o.return)}catch(Qe){rr(o,o.return,Qe)}}break;case 1:Na(c,o),Wa(o),y&512&&p!==null&&hl(p,p.return);break;case 5:if(Na(c,o),Wa(o),y&512&&p!==null&&hl(p,p.return),o.flags&32){var E=o.stateNode;try{jn(E,"")}catch(Qe){rr(o,o.return,Qe)}}if(y&4&&(E=o.stateNode,E!=null)){var R=o.memoizedProps,U=p!==null?p.memoizedProps:R,J=o.type,ne=o.updateQueue;if(o.updateQueue=null,ne!==null)try{J==="input"&&R.type==="radio"&&R.name!=null&&Xe(E,R),hs(J,U);var ve=hs(J,R);for(U=0;U<ne.length;U+=2){var ke=ne[U],Pe=ne[U+1];ke==="style"?de(E,Pe):ke==="dangerouslySetInnerHTML"?Gs(E,Pe):ke==="children"?jn(E,Pe):S(E,ke,Pe,ve)}switch(J){case"input":ot(E,R);break;case"textarea":On(E,R);break;case"select":var Re=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!R.multiple;var qe=R.value;qe!=null?Be(E,!!R.multiple,qe,!1):Re!==!!R.multiple&&(R.defaultValue!=null?Be(E,!!R.multiple,R.defaultValue,!0):Be(E,!!R.multiple,R.multiple?[]:"",!1))}E[tu]=R}catch(Qe){rr(o,o.return,Qe)}}break;case 6:if(Na(c,o),Wa(o),y&4){if(o.stateNode===null)throw Error(r(162));E=o.stateNode,R=o.memoizedProps;try{E.nodeValue=R}catch(Qe){rr(o,o.return,Qe)}}break;case 3:if(Na(c,o),Wa(o),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Wc(c.containerInfo)}catch(Qe){rr(o,o.return,Qe)}break;case 4:Na(c,o),Wa(o);break;case 13:Na(c,o),Wa(o),E=o.child,E.flags&8192&&(R=E.memoizedState!==null,E.stateNode.isHidden=R,!R||E.alternate!==null&&E.alternate.memoizedState!==null||(zv=cr())),y&4&&VC(o);break;case 22:if(ke=p!==null&&p.memoizedState!==null,o.mode&1?(tn=(ve=tn)||ke,Na(c,o),tn=ve):Na(c,o),Wa(o),y&8192){if(ve=o.memoizedState!==null,(o.stateNode.isHidden=ve)&&!ke&&(o.mode&1)!==0)for(Ve=o,ke=o.child;ke!==null;){for(Pe=Ve=ke;Ve!==null;){switch(Re=Ve,qe=Re.child,Re.tag){case 0:case 11:case 14:case 15:fu(4,Re,Re.return);break;case 1:hl(Re,Re.return);var Ge=Re.stateNode;if(typeof Ge.componentWillUnmount=="function"){y=Re,p=Re.return;try{c=y,Ge.props=c.memoizedProps,Ge.state=c.memoizedState,Ge.componentWillUnmount()}catch(Qe){rr(y,p,Qe)}}break;case 5:hl(Re,Re.return);break;case 22:if(Re.memoizedState!==null){YC(Pe);continue}}qe!==null?(qe.return=Re,Ve=qe):YC(Pe)}ke=ke.sibling}e:for(ke=null,Pe=o;;){if(Pe.tag===5){if(ke===null){ke=Pe;try{E=Pe.stateNode,ve?(R=E.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(J=Pe.stateNode,ne=Pe.memoizedProps.style,U=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,J.style.display=Ko("display",U))}catch(Qe){rr(o,o.return,Qe)}}}else if(Pe.tag===6){if(ke===null)try{Pe.stateNode.nodeValue=ve?"":Pe.memoizedProps}catch(Qe){rr(o,o.return,Qe)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===o)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===o)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===o)break e;ke===Pe&&(ke=null),Pe=Pe.return}ke===Pe&&(ke=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:Na(c,o),Wa(o),y&4&&VC(o);break;case 21:break;default:Na(c,o),Wa(o)}}function Wa(o){var c=o.flags;if(c&2){try{e:{for(var p=o.return;p!==null;){if(zC(p)){var y=p;break e}p=p.return}throw Error(r(160))}switch(y.tag){case 5:var E=y.stateNode;y.flags&32&&(jn(E,""),y.flags&=-33);var R=qC(o);Fv(o,R,E);break;case 3:case 4:var U=y.stateNode.containerInfo,J=qC(o);Lv(o,J,U);break;default:throw Error(r(161))}}catch(ne){rr(o,o.return,ne)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function TU(o,c,p){Ve=o,GC(o)}function GC(o,c,p){for(var y=(o.mode&1)!==0;Ve!==null;){var E=Ve,R=E.child;if(E.tag===22&&y){var U=E.memoizedState!==null||rh;if(!U){var J=E.alternate,ne=J!==null&&J.memoizedState!==null||tn;J=rh;var ve=tn;if(rh=U,(tn=ne)&&!ve)for(Ve=E;Ve!==null;)U=Ve,ne=U.child,U.tag===22&&U.memoizedState!==null?XC(E):ne!==null?(ne.return=U,Ve=ne):XC(E);for(;R!==null;)Ve=R,GC(R),R=R.sibling;Ve=E,rh=J,tn=ve}KC(o)}else(E.subtreeFlags&8772)!==0&&R!==null?(R.return=E,Ve=R):KC(o)}}function KC(o){for(;Ve!==null;){var c=Ve;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:tn||nh(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!tn)if(p===null)y.componentDidMount();else{var E=c.elementType===c.type?p.memoizedProps:ja(c.type,p.memoizedProps);y.componentDidUpdate(E,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var R=c.updateQueue;R!==null&&Y_(c,R,y);break;case 3:var U=c.updateQueue;if(U!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}Y_(c,U,p)}break;case 5:var J=c.stateNode;if(p===null&&c.flags&4){p=J;var ne=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&p.focus();break;case"img":ne.src&&(p.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ve=c.alternate;if(ve!==null){var ke=ve.memoizedState;if(ke!==null){var Pe=ke.dehydrated;Pe!==null&&Wc(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}tn||c.flags&512&&$v(c)}catch(Re){rr(c,c.return,Re)}}if(c===o){Ve=null;break}if(p=c.sibling,p!==null){p.return=c.return,Ve=p;break}Ve=c.return}}function YC(o){for(;Ve!==null;){var c=Ve;if(c===o){Ve=null;break}var p=c.sibling;if(p!==null){p.return=c.return,Ve=p;break}Ve=c.return}}function XC(o){for(;Ve!==null;){var c=Ve;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{nh(4,c)}catch(ne){rr(c,p,ne)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var E=c.return;try{y.componentDidMount()}catch(ne){rr(c,E,ne)}}var R=c.return;try{$v(c)}catch(ne){rr(c,R,ne)}break;case 5:var U=c.return;try{$v(c)}catch(ne){rr(c,U,ne)}}}catch(ne){rr(c,c.return,ne)}if(c===o){Ve=null;break}var J=c.sibling;if(J!==null){J.return=c.return,Ve=J;break}Ve=c.return}}var AU=Math.ceil,ah=A.ReactCurrentDispatcher,Uv=A.ReactCurrentOwner,ia=A.ReactCurrentBatchConfig,_t=0,kr=null,hr=null,Vr=0,Un=0,ml=si(0),br=0,hu=null,so=0,sh=0,Bv=0,mu=null,_n=null,zv=0,pl=1/0,ws=null,ih=!1,qv=null,di=null,oh=!1,fi=null,lh=0,pu=0,Wv=null,ch=-1,uh=0;function un(){return(_t&6)!==0?cr():ch!==-1?ch:ch=cr()}function hi(o){return(o.mode&1)===0?1:(_t&2)!==0&&Vr!==0?Vr&-Vr:fU.transition!==null?(uh===0&&(uh=qS()),uh):(o=Dt,o!==0||(o=window.event,o=o===void 0?16:ZS(o.type)),o)}function Sa(o,c,p,y){if(50<pu)throw pu=0,Wv=null,Error(r(185));Fc(o,p,y),((_t&2)===0||o!==kr)&&(o===kr&&((_t&2)===0&&(sh|=p),br===4&&mi(o,Vr)),Cn(o,y),p===1&&_t===0&&(c.mode&1)===0&&(pl=cr()+500,Lf&&oi()))}function Cn(o,c){var p=o.callbackNode;fF(o,c);var y=yf(o,o===kr?Vr:0);if(y===0)p!==null&&US(p),o.callbackNode=null,o.callbackPriority=0;else if(c=y&-y,o.callbackPriority!==c){if(p!=null&&US(p),c===1)o.tag===0?dU(ZC.bind(null,o)):$_(ZC.bind(null,o)),oU(function(){(_t&6)===0&&oi()}),p=null;else{switch(WS(y)){case 1:p=Ng;break;case 4:p=BS;break;case 16:p=pf;break;case 536870912:p=zS;break;default:p=pf}p=iE(p,QC.bind(null,o))}o.callbackPriority=c,o.callbackNode=p}}function QC(o,c){if(ch=-1,uh=0,(_t&6)!==0)throw Error(r(327));var p=o.callbackNode;if(gl()&&o.callbackNode!==p)return null;var y=yf(o,o===kr?Vr:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||c)c=dh(o,y);else{c=y;var E=_t;_t|=2;var R=eE();(kr!==o||Vr!==c)&&(ws=null,pl=cr()+500,oo(o,c));do try{IU();break}catch(J){JC(o,J)}while(!0);lv(),ah.current=R,_t=E,hr!==null?c=0:(kr=null,Vr=0,c=br)}if(c!==0){if(c===2&&(E=Sg(o),E!==0&&(y=E,c=Vv(o,E))),c===1)throw p=hu,oo(o,0),mi(o,y),Cn(o,cr()),p;if(c===6)mi(o,y);else{if(E=o.current.alternate,(y&30)===0&&!RU(E)&&(c=dh(o,y),c===2&&(R=Sg(o),R!==0&&(y=R,c=Vv(o,R))),c===1))throw p=hu,oo(o,0),mi(o,y),Cn(o,cr()),p;switch(o.finishedWork=E,o.finishedLanes=y,c){case 0:case 1:throw Error(r(345));case 2:lo(o,_n,ws);break;case 3:if(mi(o,y),(y&130023424)===y&&(c=zv+500-cr(),10<c)){if(yf(o,0)!==0)break;if(E=o.suspendedLanes,(E&y)!==y){un(),o.pingedLanes|=o.suspendedLanes&E;break}o.timeoutHandle=Qg(lo.bind(null,o,_n,ws),c);break}lo(o,_n,ws);break;case 4:if(mi(o,y),(y&4194240)===y)break;for(c=o.eventTimes,E=-1;0<y;){var U=31-xa(y);R=1<<U,U=c[U],U>E&&(E=U),y&=~R}if(y=E,y=cr()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*AU(y/1960))-y,10<y){o.timeoutHandle=Qg(lo.bind(null,o,_n,ws),y);break}lo(o,_n,ws);break;case 5:lo(o,_n,ws);break;default:throw Error(r(329))}}}return Cn(o,cr()),o.callbackNode===p?QC.bind(null,o):null}function Vv(o,c){var p=mu;return o.current.memoizedState.isDehydrated&&(oo(o,c).flags|=256),o=dh(o,c),o!==2&&(c=_n,_n=p,c!==null&&Hv(c)),o}function Hv(o){_n===null?_n=o:_n.push.apply(_n,o)}function RU(o){for(var c=o;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var y=0;y<p.length;y++){var E=p[y],R=E.getSnapshot;E=E.value;try{if(!ya(R(),E))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function mi(o,c){for(c&=~Bv,c&=~sh,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var p=31-xa(c),y=1<<p;o[p]=-1,c&=~y}}function ZC(o){if((_t&6)!==0)throw Error(r(327));gl();var c=yf(o,0);if((c&1)===0)return Cn(o,cr()),null;var p=dh(o,c);if(o.tag!==0&&p===2){var y=Sg(o);y!==0&&(c=y,p=Vv(o,y))}if(p===1)throw p=hu,oo(o,0),mi(o,c),Cn(o,cr()),p;if(p===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,lo(o,_n,ws),Cn(o,cr()),null}function Gv(o,c){var p=_t;_t|=1;try{return o(c)}finally{_t=p,_t===0&&(pl=cr()+500,Lf&&oi())}}function io(o){fi!==null&&fi.tag===0&&(_t&6)===0&&gl();var c=_t;_t|=1;var p=ia.transition,y=Dt;try{if(ia.transition=null,Dt=1,o)return o()}finally{Dt=y,ia.transition=p,_t=c,(_t&6)===0&&oi()}}function Kv(){Un=ml.current,Yt(ml)}function oo(o,c){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,iU(p)),hr!==null)for(p=hr.return;p!==null;){var y=p;switch(nv(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Mf();break;case 3:dl(),Yt(wn),Yt(Zr),gv();break;case 5:mv(y);break;case 4:dl();break;case 13:Yt(er);break;case 19:Yt(er);break;case 10:cv(y.type._context);break;case 22:case 23:Kv()}p=p.return}if(kr=o,hr=o=pi(o.current,null),Vr=Un=c,br=0,hu=null,Bv=sh=so=0,_n=mu=null,ro!==null){for(c=0;c<ro.length;c++)if(p=ro[c],y=p.interleaved,y!==null){p.interleaved=null;var E=y.next,R=p.pending;if(R!==null){var U=R.next;R.next=E,y.next=U}p.pending=y}ro=null}return o}function JC(o,c){do{var p=hr;try{if(lv(),Kf.current=Zf,Yf){for(var y=tr.memoizedState;y!==null;){var E=y.queue;E!==null&&(E.pending=null),y=y.next}Yf=!1}if(ao=0,Rr=yr=tr=null,ou=!1,lu=0,Uv.current=null,p===null||p.return===null){br=1,hu=c,hr=null;break}e:{var R=o,U=p.return,J=p,ne=c;if(c=Vr,J.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ve=ne,ke=J,Pe=ke.tag;if((ke.mode&1)===0&&(Pe===0||Pe===11||Pe===15)){var Re=ke.alternate;Re?(ke.updateQueue=Re.updateQueue,ke.memoizedState=Re.memoizedState,ke.lanes=Re.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var qe=SC(U);if(qe!==null){qe.flags&=-257,_C(qe,U,J,R,c),qe.mode&1&&NC(R,ve,c),c=qe,ne=ve;var Ge=c.updateQueue;if(Ge===null){var Qe=new Set;Qe.add(ne),c.updateQueue=Qe}else Ge.add(ne);break e}else{if((c&1)===0){NC(R,ve,c),Yv();break e}ne=Error(r(426))}}else if(Qt&&J.mode&1){var ur=SC(U);if(ur!==null){(ur.flags&65536)===0&&(ur.flags|=256),_C(ur,U,J,R,c),iv(fl(ne,J));break e}}R=ne=fl(ne,J),br!==4&&(br=2),mu===null?mu=[R]:mu.push(R),R=U;do{switch(R.tag){case 3:R.flags|=65536,c&=-c,R.lanes|=c;var ue=jC(R,ne,c);K_(R,ue);break e;case 1:J=ne;var ie=R.type,he=R.stateNode;if((R.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(di===null||!di.has(he)))){R.flags|=65536,c&=-c,R.lanes|=c;var De=wC(R,J,c);K_(R,De);break e}}R=R.return}while(R!==null)}rE(p)}catch(Je){c=Je,hr===p&&p!==null&&(hr=p=p.return);continue}break}while(!0)}function eE(){var o=ah.current;return ah.current=Zf,o===null?Zf:o}function Yv(){(br===0||br===3||br===2)&&(br=4),kr===null||(so&268435455)===0&&(sh&268435455)===0||mi(kr,Vr)}function dh(o,c){var p=_t;_t|=2;var y=eE();(kr!==o||Vr!==c)&&(ws=null,oo(o,c));do try{kU();break}catch(E){JC(o,E)}while(!0);if(lv(),_t=p,ah.current=y,hr!==null)throw Error(r(261));return kr=null,Vr=0,br}function kU(){for(;hr!==null;)tE(hr)}function IU(){for(;hr!==null&&!nF();)tE(hr)}function tE(o){var c=sE(o.alternate,o,Un);o.memoizedProps=o.pendingProps,c===null?rE(o):hr=c,Uv.current=null}function rE(o){var c=o;do{var p=c.alternate;if(o=c.return,(c.flags&32768)===0){if(p=SU(p,c,Un),p!==null){hr=p;return}}else{if(p=_U(p,c),p!==null){p.flags&=32767,hr=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{br=6,hr=null;return}}if(c=c.sibling,c!==null){hr=c;return}hr=c=o}while(c!==null);br===0&&(br=5)}function lo(o,c,p){var y=Dt,E=ia.transition;try{ia.transition=null,Dt=1,PU(o,c,p,y)}finally{ia.transition=E,Dt=y}return null}function PU(o,c,p,y){do gl();while(fi!==null);if((_t&6)!==0)throw Error(r(327));p=o.finishedWork;var E=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var R=p.lanes|p.childLanes;if(hF(o,R),o===kr&&(hr=kr=null,Vr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||oh||(oh=!0,iE(pf,function(){return gl(),null})),R=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||R){R=ia.transition,ia.transition=null;var U=Dt;Dt=1;var J=_t;_t|=4,Uv.current=null,EU(o,p),HC(p,o),JF(Yg),wf=!!Kg,Yg=Kg=null,o.current=p,TU(p),aF(),_t=J,Dt=U,ia.transition=R}else o.current=p;if(oh&&(oh=!1,fi=o,lh=E),R=o.pendingLanes,R===0&&(di=null),oF(p.stateNode),Cn(o,cr()),c!==null)for(y=o.onRecoverableError,p=0;p<c.length;p++)E=c[p],y(E.value,{componentStack:E.stack,digest:E.digest});if(ih)throw ih=!1,o=qv,qv=null,o;return(lh&1)!==0&&o.tag!==0&&gl(),R=o.pendingLanes,(R&1)!==0?o===Wv?pu++:(pu=0,Wv=o):pu=0,oi(),null}function gl(){if(fi!==null){var o=WS(lh),c=ia.transition,p=Dt;try{if(ia.transition=null,Dt=16>o?16:o,fi===null)var y=!1;else{if(o=fi,fi=null,lh=0,(_t&6)!==0)throw Error(r(331));var E=_t;for(_t|=4,Ve=o.current;Ve!==null;){var R=Ve,U=R.child;if((Ve.flags&16)!==0){var J=R.deletions;if(J!==null){for(var ne=0;ne<J.length;ne++){var ve=J[ne];for(Ve=ve;Ve!==null;){var ke=Ve;switch(ke.tag){case 0:case 11:case 15:fu(8,ke,R)}var Pe=ke.child;if(Pe!==null)Pe.return=ke,Ve=Pe;else for(;Ve!==null;){ke=Ve;var Re=ke.sibling,qe=ke.return;if(BC(ke),ke===ve){Ve=null;break}if(Re!==null){Re.return=qe,Ve=Re;break}Ve=qe}}}var Ge=R.alternate;if(Ge!==null){var Qe=Ge.child;if(Qe!==null){Ge.child=null;do{var ur=Qe.sibling;Qe.sibling=null,Qe=ur}while(Qe!==null)}}Ve=R}}if((R.subtreeFlags&2064)!==0&&U!==null)U.return=R,Ve=U;else e:for(;Ve!==null;){if(R=Ve,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:fu(9,R,R.return)}var ue=R.sibling;if(ue!==null){ue.return=R.return,Ve=ue;break e}Ve=R.return}}var ie=o.current;for(Ve=ie;Ve!==null;){U=Ve;var he=U.child;if((U.subtreeFlags&2064)!==0&&he!==null)he.return=U,Ve=he;else e:for(U=ie;Ve!==null;){if(J=Ve,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:nh(9,J)}}catch(Je){rr(J,J.return,Je)}if(J===U){Ve=null;break e}var De=J.sibling;if(De!==null){De.return=J.return,Ve=De;break e}Ve=J.return}}if(_t=E,oi(),Ua&&typeof Ua.onPostCommitFiberRoot=="function")try{Ua.onPostCommitFiberRoot(gf,o)}catch{}y=!0}return y}finally{Dt=p,ia.transition=c}}return!1}function nE(o,c,p){c=fl(p,c),c=jC(o,c,1),o=ci(o,c,1),c=un(),o!==null&&(Fc(o,1,c),Cn(o,c))}function rr(o,c,p){if(o.tag===3)nE(o,o,p);else for(;c!==null;){if(c.tag===3){nE(c,o,p);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(di===null||!di.has(y))){o=fl(p,o),o=wC(c,o,1),c=ci(c,o,1),o=un(),c!==null&&(Fc(c,1,o),Cn(c,o));break}}c=c.return}}function OU(o,c,p){var y=o.pingCache;y!==null&&y.delete(c),c=un(),o.pingedLanes|=o.suspendedLanes&p,kr===o&&(Vr&p)===p&&(br===4||br===3&&(Vr&130023424)===Vr&&500>cr()-zv?oo(o,0):Bv|=p),Cn(o,c)}function aE(o,c){c===0&&((o.mode&1)===0?c=1:(c=xf,xf<<=1,(xf&130023424)===0&&(xf=4194304)));var p=un();o=ys(o,c),o!==null&&(Fc(o,c,p),Cn(o,p))}function DU(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),aE(o,p)}function MU(o,c){var p=0;switch(o.tag){case 13:var y=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(c),aE(o,p)}var sE;sE=function(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps||wn.current)Sn=!0;else{if((o.lanes&p)===0&&(c.flags&128)===0)return Sn=!1,NU(o,c,p);Sn=(o.flags&131072)!==0}else Sn=!1,Qt&&(c.flags&1048576)!==0&&L_(c,Uf,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;th(o,c),o=c.pendingProps;var E=al(c,Zr.current);ul(c,p),E=yv(null,c,y,o,E,p);var R=bv();return c.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Nn(y)?(R=!0,$f(c)):R=!1,c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,fv(c),E.updater=Jf,c.stateNode=E,E._reactInternals=c,Cv(c,y,o,p),c=Rv(null,c,y,!0,R,p)):(c.tag=0,Qt&&R&&rv(c),cn(null,c,E,p),c=c.child),c;case 16:y=c.elementType;e:{switch(th(o,c),o=c.pendingProps,E=y._init,y=E(y._payload),c.type=y,E=c.tag=LU(y),o=ja(y,o),E){case 0:c=Av(null,c,y,o,p);break e;case 1:c=kC(null,c,y,o,p);break e;case 11:c=CC(null,c,y,o,p);break e;case 14:c=EC(null,c,y,ja(y.type,o),p);break e}throw Error(r(306,y,""))}return c;case 0:return y=c.type,E=c.pendingProps,E=c.elementType===y?E:ja(y,E),Av(o,c,y,E,p);case 1:return y=c.type,E=c.pendingProps,E=c.elementType===y?E:ja(y,E),kC(o,c,y,E,p);case 3:e:{if(IC(c),o===null)throw Error(r(387));y=c.pendingProps,R=c.memoizedState,E=R.element,G_(o,c),Hf(c,y,null,p);var U=c.memoizedState;if(y=U.element,R.isDehydrated)if(R={element:y,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},c.updateQueue.baseState=R,c.memoizedState=R,c.flags&256){E=fl(Error(r(423)),c),c=PC(o,c,y,p,E);break e}else if(y!==E){E=fl(Error(r(424)),c),c=PC(o,c,y,p,E);break e}else for(Fn=ai(c.stateNode.containerInfo.firstChild),Ln=c,Qt=!0,ba=null,p=V_(c,null,y,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(ol(),y===E){c=js(o,c,p);break e}cn(o,c,y,p)}c=c.child}return c;case 5:return X_(c),o===null&&sv(c),y=c.type,E=c.pendingProps,R=o!==null?o.memoizedProps:null,U=E.children,Xg(y,E)?U=null:R!==null&&Xg(y,R)&&(c.flags|=32),RC(o,c),cn(o,c,U,p),c.child;case 6:return o===null&&sv(c),null;case 13:return OC(o,c,p);case 4:return hv(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=ll(c,null,y,p):cn(o,c,y,p),c.child;case 11:return y=c.type,E=c.pendingProps,E=c.elementType===y?E:ja(y,E),CC(o,c,y,E,p);case 7:return cn(o,c,c.pendingProps,p),c.child;case 8:return cn(o,c,c.pendingProps.children,p),c.child;case 12:return cn(o,c,c.pendingProps.children,p),c.child;case 10:e:{if(y=c.type._context,E=c.pendingProps,R=c.memoizedProps,U=E.value,Vt(qf,y._currentValue),y._currentValue=U,R!==null)if(ya(R.value,U)){if(R.children===E.children&&!wn.current){c=js(o,c,p);break e}}else for(R=c.child,R!==null&&(R.return=c);R!==null;){var J=R.dependencies;if(J!==null){U=R.child;for(var ne=J.firstContext;ne!==null;){if(ne.context===y){if(R.tag===1){ne=bs(-1,p&-p),ne.tag=2;var ve=R.updateQueue;if(ve!==null){ve=ve.shared;var ke=ve.pending;ke===null?ne.next=ne:(ne.next=ke.next,ke.next=ne),ve.pending=ne}}R.lanes|=p,ne=R.alternate,ne!==null&&(ne.lanes|=p),uv(R.return,p,c),J.lanes|=p;break}ne=ne.next}}else if(R.tag===10)U=R.type===c.type?null:R.child;else if(R.tag===18){if(U=R.return,U===null)throw Error(r(341));U.lanes|=p,J=U.alternate,J!==null&&(J.lanes|=p),uv(U,p,c),U=R.sibling}else U=R.child;if(U!==null)U.return=R;else for(U=R;U!==null;){if(U===c){U=null;break}if(R=U.sibling,R!==null){R.return=U.return,U=R;break}U=U.return}R=U}cn(o,c,E.children,p),c=c.child}return c;case 9:return E=c.type,y=c.pendingProps.children,ul(c,p),E=aa(E),y=y(E),c.flags|=1,cn(o,c,y,p),c.child;case 14:return y=c.type,E=ja(y,c.pendingProps),E=ja(y.type,E),EC(o,c,y,E,p);case 15:return TC(o,c,c.type,c.pendingProps,p);case 17:return y=c.type,E=c.pendingProps,E=c.elementType===y?E:ja(y,E),th(o,c),c.tag=1,Nn(y)?(o=!0,$f(c)):o=!1,ul(c,p),yC(c,y,E),Cv(c,y,E,p),Rv(null,c,y,!0,o,p);case 19:return MC(o,c,p);case 22:return AC(o,c,p)}throw Error(r(156,c.tag))};function iE(o,c){return FS(o,c)}function $U(o,c,p,y){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oa(o,c,p,y){return new $U(o,c,p,y)}function Xv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function LU(o){if(typeof o=="function")return Xv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===H)return 11;if(o===$)return 14}return 2}function pi(o,c){var p=o.alternate;return p===null?(p=oa(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function fh(o,c,p,y,E,R){var U=2;if(y=o,typeof o=="function")Xv(o)&&(U=1);else if(typeof o=="string")U=5;else e:switch(o){case k:return co(p.children,E,R,c);case D:U=8,E|=8;break;case I:return o=oa(12,p,c,E|2),o.elementType=I,o.lanes=R,o;case W:return o=oa(13,p,c,E),o.elementType=W,o.lanes=R,o;case Z:return o=oa(19,p,c,E),o.elementType=Z,o.lanes=R,o;case P:return hh(p,E,R,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case B:U=10;break e;case z:U=9;break e;case H:U=11;break e;case $:U=14;break e;case M:U=16,y=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return c=oa(U,p,c,E),c.elementType=o,c.type=y,c.lanes=R,c}function co(o,c,p,y){return o=oa(7,o,y,c),o.lanes=p,o}function hh(o,c,p,y){return o=oa(22,o,y,c),o.elementType=P,o.lanes=p,o.stateNode={isHidden:!1},o}function Qv(o,c,p){return o=oa(6,o,null,c),o.lanes=p,o}function Zv(o,c,p){return c=oa(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function FU(o,c,p,y,E){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_g(0),this.expirationTimes=_g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_g(0),this.identifierPrefix=y,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Jv(o,c,p,y,E,R,U,J,ne){return o=new FU(o,c,p,J,ne),c===1?(c=1,R===!0&&(c|=8)):c=0,R=oa(3,null,null,c),o.current=R,R.stateNode=o,R.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},fv(R),o}function UU(o,c,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:y==null?null:""+y,children:o,containerInfo:c,implementation:p}}function oE(o){if(!o)return ii;o=o._reactInternals;e:{if(Qi(o)!==o||o.tag!==1)throw Error(r(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Nn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(o.tag===1){var p=o.type;if(Nn(p))return D_(o,p,c)}return c}function lE(o,c,p,y,E,R,U,J,ne){return o=Jv(p,y,!0,o,E,R,U,J,ne),o.context=oE(null),p=o.current,y=un(),E=hi(p),R=bs(y,E),R.callback=c??null,ci(p,R,E),o.current.lanes=E,Fc(o,E,y),Cn(o,y),o}function mh(o,c,p,y){var E=c.current,R=un(),U=hi(E);return p=oE(p),c.context===null?c.context=p:c.pendingContext=p,c=bs(R,U),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ci(E,c,U),o!==null&&(Sa(o,E,U,R),Vf(o,E,U)),U}function ph(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function cE(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function ex(o,c){cE(o,c),(o=o.alternate)&&cE(o,c)}function BU(){return null}var uE=typeof reportError=="function"?reportError:function(o){console.error(o)};function tx(o){this._internalRoot=o}gh.prototype.render=tx.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));mh(o,c,null,null)},gh.prototype.unmount=tx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;io(function(){mh(null,o,null,null)}),c[ps]=null}};function gh(o){this._internalRoot=o}gh.prototype.unstable_scheduleHydration=function(o){if(o){var c=GS();o={blockedOn:null,target:o,priority:c};for(var p=0;p<ti.length&&c!==0&&c<ti[p].priority;p++);ti.splice(p,0,o),p===0&&XS(o)}};function rx(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function vh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function dE(){}function zU(o,c,p,y,E){if(E){if(typeof y=="function"){var R=y;y=function(){var ve=ph(U);R.call(ve)}}var U=lE(c,y,o,0,null,!1,!1,"",dE);return o._reactRootContainer=U,o[ps]=U.current,Jc(o.nodeType===8?o.parentNode:o),io(),U}for(;E=o.lastChild;)o.removeChild(E);if(typeof y=="function"){var J=y;y=function(){var ve=ph(ne);J.call(ve)}}var ne=Jv(o,0,!1,null,null,!1,!1,"",dE);return o._reactRootContainer=ne,o[ps]=ne.current,Jc(o.nodeType===8?o.parentNode:o),io(function(){mh(c,ne,p,y)}),ne}function xh(o,c,p,y,E){var R=p._reactRootContainer;if(R){var U=R;if(typeof E=="function"){var J=E;E=function(){var ne=ph(U);J.call(ne)}}mh(c,U,o,E)}else U=zU(p,c,o,E,y);return ph(U)}VS=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var p=Lc(c.pendingLanes);p!==0&&(Cg(c,p|1),Cn(c,cr()),(_t&6)===0&&(pl=cr()+500,oi()))}break;case 13:io(function(){var y=ys(o,1);if(y!==null){var E=un();Sa(y,o,1,E)}}),ex(o,1)}},Eg=function(o){if(o.tag===13){var c=ys(o,134217728);if(c!==null){var p=un();Sa(c,o,134217728,p)}ex(o,134217728)}},HS=function(o){if(o.tag===13){var c=hi(o),p=ys(o,c);if(p!==null){var y=un();Sa(p,o,c,y)}ex(o,c)}},GS=function(){return Dt},KS=function(o,c){var p=Dt;try{return Dt=o,c()}finally{Dt=p}},Dc=function(o,c,p){switch(c){case"input":if(ot(o,p),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var y=p[c];if(y!==o&&y.form===o.form){var E=Df(y);if(!E)throw Error(r(90));re(y),ot(y,E)}}}break;case"textarea":On(o,p);break;case"select":c=p.value,c!=null&&Be(o,!!p.multiple,c,!1)}},xr=Gv,Qr=io;var qU={usingClientEntryPoint:!1,Events:[ru,rl,Df,vt,lr,Gv]},gu={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WU={bundleType:gu.bundleType,version:gu.version,rendererPackageName:gu.rendererPackageName,rendererConfig:gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=$S(o),o===null?null:o.stateNode},findFiberByHostInstance:gu.findFiberByHostInstance||BU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{gf=yh.inject(WU),Ua=yh}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qU,En.createPortal=function(o,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rx(c))throw Error(r(200));return UU(o,c,null,p)},En.createRoot=function(o,c){if(!rx(o))throw Error(r(299));var p=!1,y="",E=uE;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),c=Jv(o,1,!1,null,null,p,!1,y,E),o[ps]=c.current,Jc(o.nodeType===8?o.parentNode:o),new tx(c)},En.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=$S(c),o=o===null?null:o.stateNode,o},En.flushSync=function(o){return io(o)},En.hydrate=function(o,c,p){if(!vh(c))throw Error(r(200));return xh(null,o,c,!0,p)},En.hydrateRoot=function(o,c,p){if(!rx(o))throw Error(r(405));var y=p!=null&&p.hydratedSources||null,E=!1,R="",U=uE;if(p!=null&&(p.unstable_strictMode===!0&&(E=!0),p.identifierPrefix!==void 0&&(R=p.identifierPrefix),p.onRecoverableError!==void 0&&(U=p.onRecoverableError)),c=lE(c,null,o,1,p??null,E,!1,R,U),o[ps]=c.current,Jc(o),y)for(o=0;o<y.length;o++)p=y[o],E=p._getVersion,E=E(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,E]:c.mutableSourceEagerHydrationData.push(p,E);return new gh(c)},En.render=function(o,c,p){if(!vh(c))throw Error(r(200));return xh(null,o,c,!1,p)},En.unmountComponentAtNode=function(o){if(!vh(o))throw Error(r(40));return o._reactRootContainer?(io(function(){xh(null,null,o,!1,function(){o._reactRootContainer=null,o[ps]=null})}),!0):!1},En.unstable_batchedUpdates=Gv,En.unstable_renderSubtreeIntoContainer=function(o,c,p,y){if(!vh(p))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return xh(o,c,p,!1,y)},En.version="18.3.1-next-f1338f8080-20240426",En}var yE;function mO(){if(yE)return sx.exports;yE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sx.exports=ZU(),sx.exports}var bE;function JU(){if(bE)return jh;bE=1;var e=mO();return jh.createRoot=e.createRoot,jh.hydrateRoot=e.hydrateRoot,jh}var e8=JU(),x=k1();const Q=zt(x),pO=HU({__proto__:null,default:Q},[x]),t8=()=>"http://localhost:8000",r8={apiBaseUrl:"https://gcback.openlayers.kz",environment:"production",debug:!1},n8=()=>({...r8,apiBaseUrl:t8()}),a8=n8(),Ze={baseUrl:a8.apiBaseUrl,endpoints:{getPaymentRequests:"/api/v1/requests/list",createPaymentRequest:"/api/v1/requests/create",updatePaymentRequest:"/api/v1/requests/:id",deletePaymentRequest:"/api/v1/requests/delete",getPaymentRequest:"/api/v1/requests/:id",getRequestStatistics:"/api/v1/requests/statistics",getDashboardMetrics:"/api/v1/requests/dashboard-metrics",submitRequest:"/api/v1/requests/:id/submit",classifyRequest:"/api/v1/requests/:id/classify",approveRequest:"/api/v1/requests/:id/approve",rejectRequest:"/api/v1/requests/:id/reject",addToRegistry:"/api/v1/requests/:id/add-to-registry",sendToDistributor:"/api/v1/requests/:id/send-to-distributor",distributorAction:"/api/v1/requests/:id/distributor-action",getRequestEvents:"/api/v1/requests/:id/events",getCounterparties:"/api/v1/dictionaries/counterparties",getCurrencies:"/api/v1/dictionaries/currencies",getVatRates:"/api/v1/dictionaries/vat-rates",getExpenseArticles:"/api/v1/dictionaries/expense-articles",getPayingCompanies:"/api/v1/dictionaries/paying-companies",getDocumentTypes:"/api/v1/dictionaries/document-types",getCounterpartyCategories:"/api/v1/dictionaries/counterparty-categories",getUsers:"/api/v1/users/list",getCurrentUser:"/api/v1/auth/me",getUser:"/api/v1/users/:id",createUser:"/api/v1/users",updateUser:"/api/v1/users/:id",deleteUser:"/api/v1/users/:id",getRoles:"/api/v1/roles",getRole:"/api/v1/roles/:id",createRole:"/api/v1/roles",updateRole:"/api/v1/roles/:id",deleteRole:"/api/v1/roles/:id",uploadFile:"/api/v1/files/upload",downloadFile:"/api/v1/files/download",deleteFile:"/api/v1/files/delete",getUnallocatedRequests:"/api/v1/distribution/unallocated-requests",getDistributionLines:"/api/v1/distribution/lines",createDistributionLine:"/api/v1/distribution/lines/create",updateDistributionLine:"/api/v1/distribution/lines/update",deleteDistributionLine:"/api/v1/distribution/lines/delete",getLineContracts:"/api/v1/distribution/line-contracts",createLineContract:"/api/v1/distribution/line-contracts/create",updateLineContract:"/api/v1/distribution/line-contracts/update",deleteLineContract:"/api/v1/distribution/line-contracts/delete",getRegistryEntries:"/api/v1/registry/entries",createRegistryEntry:"/api/v1/registry/entries/create",updateRegistryEntry:"/api/v1/registry/entries/update",deleteRegistryEntry:"/api/v1/registry/entries/delete"}};class s8{baseUrl;constructor(t){this.baseUrl=t}getAuthHeaders(){const t=localStorage.getItem("test_token");return t?{Authorization:`Bearer ${t}`}:{}}async get(t,r={}){const a=await fetch(`${this.baseUrl}${t}`,{...r,method:"GET",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...r.headers}});if(!a.ok)throw a.status===401?(localStorage.removeItem("test_token"),window.location.href="/login",new Error("Unauthorized - please login again")):new Error(`HTTP error! status: ${a.status}`);return a.json()}async post(t,r,a={}){const s=await fetch(`${this.baseUrl}${t}`,{...a,method:"POST",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...a.headers},body:JSON.stringify(r)});if(!s.ok)throw s.status===401?(localStorage.removeItem("test_token"),window.location.href="/login",new Error("Unauthorized - please login again")):new Error(`HTTP error! status: ${s.status}`);return s.json()}async put(t,r,a={}){const s=await fetch(`${this.baseUrl}${t}`,{...a,method:"PUT",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...a.headers},body:JSON.stringify(r)});if(!s.ok)throw s.status===401?(localStorage.removeItem("test_token"),window.location.href="/login",new Error("Unauthorized - please login again")):new Error(`HTTP error! status: ${s.status}`);return s.json()}async delete(t,r,a={}){const s=await fetch(`${this.baseUrl}${t}`,{...a,method:"DELETE",headers:{"Content-Type":"application/json",...this.getAuthHeaders(),...a.headers},body:r?JSON.stringify(r):void 0});if(!s.ok)throw s.status===401?(localStorage.removeItem("test_token"),window.location.href="/login",new Error("Unauthorized - please login again")):new Error(`HTTP error! status: ${s.status}`);if(s.status!==204)return s.json()}}const Me=new s8(Ze.baseUrl);class Wu{static async getCurrentUser(){try{return await Me.get(Ze.endpoints.getCurrentUser)}catch(t){throw console.error("Failed to load current user:",t),new Error("Unable to load current user. Please log in again.")}}static async getUsers(){return Me.get("/api/v1/users")}static async getUser(t){const r=Ze.endpoints.getUser.replace(":id",t);return Me.get(r)}static async createUser(t){return Me.post(Ze.endpoints.createUser,t)}static async updateUser(t,r){const a=Ze.endpoints.updateUser.replace(":id",t);return Me.put(a,r)}static async deleteUser(t){const r=Ze.endpoints.deleteUser.replace(":id",t);return Me.delete(r)}static async getUsersByRole(t){try{return Me.get(`/api/v1/admin/users/by-role/${t}`)}catch(r){return console.error("Error getting users by role:",r),[]}}static async searchUsers(t){const r=new URLSearchParams;t.query&&r.append("query",t.query),t.role&&r.append("role",t.role),t.is_active!==void 0&&r.append("is_active",t.is_active.toString()),t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString());const a=r.toString(),s=a?`/api/v1/admin/users/search?${a}`:"/api/v1/admin/users/search";return Me.get(s)}static async getUsersByRoleCode(t){return Me.get(`/api/v1/admin/users/by-role/${t}`)}static async getUserWithRoles(t){return Me.get(`/api/v1/users/${t}`)}static async updateUserRoles(t,r){return Me.put(`/api/v1/users/${t}/roles`,{roles:r})}static async bulkCreateUsers(t){return Me.post("/api/v1/admin/users/bulk-create",{users:t})}static async bulkUpdateUsers(t){return Me.put("/api/v1/admin/users/bulk-update",{users:t})}static async bulkDeleteUsers(t){return Me.delete("/api/v1/admin/users/bulk-delete",{user_ids:t})}}const gO=x.createContext(void 0),vc=()=>{const e=x.useContext(gO);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},i8=({children:e})=>{const[t,r]=x.useState(null),[a,s]=x.useState(null),[i,l]=x.useState(!0),[u,d]=x.useState(null);x.useEffect(()=>{(async()=>{const N=localStorage.getItem("test_token");if(N){s(N);try{const C=await Wu.getCurrentUser();r(C)}catch(C){console.error("Failed to load current user:",C),localStorage.removeItem("test_token"),s(null)}}l(!1)})()},[]);const f=async(v,N)=>{l(!0),d(null);try{const C=new FormData;C.append("username",v),C.append("password",N);const S=await fetch("http://localhost:8000/api/v1/auth/login",{method:"POST",body:C});if(!S.ok){const T=await S.json();throw new Error(T.detail||"Login failed")}const A=await S.json();s(A.access_token),localStorage.setItem("test_token",A.access_token);const _=await Wu.getCurrentUser();r(_)}catch(C){const S=C instanceof Error?C.message:"Login failed";throw d(S),C}finally{l(!1)}},m=()=>{s(null),r(null),localStorage.removeItem("test_token"),d(null)},h=async()=>{if(a)try{const v=await Wu.getCurrentUser();r(v)}catch(v){console.error("Failed to refresh user data:",v),m()}},g=v=>!t||!t.roles?!1:t.roles.some(N=>N.code===v),b={user:t,token:a,login:f,logout:m,isAuthenticated:!!t&&!!a,isLoading:i,error:u,refreshUser:h,hasRole:g,hasAnyRole:v=>!t||!t.roles?!1:t.roles.some(N=>v.includes(N.code)),isAdmin:()=>g("ADMIN")};return n.jsx(gO.Provider,{value:b,children:e})};function jE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ms(...e){return t=>{let r=!1;const a=e.map(s=>{const i=jE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():jE(e[s],null)}}}}function Nt(...e){return x.useCallback(Ms(...e),e)}function Ii(e){const t=o8(e),r=x.forwardRef((a,s)=>{const{children:i,...l}=a,u=x.Children.toArray(i),d=u.find(l8);if(d){const f=d.props.children,m=u.map(h=>h===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:h);return n.jsx(t,{...l,ref:s,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return n.jsx(t,{...l,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var vO=Ii("Slot");function o8(e){const t=x.forwardRef((r,a)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const l=u8(s),u=c8(i,s.props);return s.type!==x.Fragment&&(u.ref=a?Ms(a,l):l),x.cloneElement(s,u)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xO=Symbol("radix.slottable");function yO(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=xO,t}function l8(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xO}function c8(e,t){const r={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function u8(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bO(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=bO(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Ct(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=bO(e))&&(a&&(a+=" "),a+=t);return a}const wE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,NE=Ct,I1=(e,t)=>r=>{var a;if(t?.variants==null)return NE(e,r?.class,r?.className);const{variants:s,defaultVariants:i}=t,l=Object.keys(s).map(f=>{const m=r?.[f],h=i?.[f];if(m===null)return null;const g=wE(m)||wE(h);return s[f][g]}),u=r&&Object.entries(r).reduce((f,m)=>{let[h,g]=m;return g===void 0||(f[h]=g),f},{}),d=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((f,m)=>{let{class:h,className:g,...j}=m;return Object.entries(j).every(w=>{let[b,v]=w;return Array.isArray(v)?v.includes({...i,...u}[b]):{...i,...u}[b]===v})?[...f,h,g]:f},[]);return NE(e,l,d,r?.class,r?.className)},P1="-",d8=e=>{const t=h8(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:l=>{const u=l.split(P1);return u[0]===""&&u.length!==1&&u.shift(),jO(u,t)||f8(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&a[l]?[...d,...a[l]]:d}}},jO=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),s=a?jO(e.slice(1),a):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(P1);return t.validators.find(({validator:l})=>l(i))?.classGroupId},SE=/^\[(.+)\]$/,f8=e=>{if(SE.test(e)){const t=SE.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},h8=e=>{const{theme:t,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const s in r)Lj(r[s],a,s,t);return a},Lj=(e,t,r,a)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:_E(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(m8(s)){Lj(s(a),t,r,a);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,l])=>{Lj(l,_E(t,i),r,a)})})},_E=(e,t)=>{let r=e;return t.split(P1).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},m8=e=>e.isThemeGetter,p8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const s=(i,l)=>{r.set(i,l),t++,t>e&&(t=0,a=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=a.get(i))!==void 0)return s(i,l),l},set(i,l){r.has(i)?r.set(i,l):s(i,l)}}},Fj="!",Uj=":",g8=Uj.length,v8=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const i=[];let l=0,u=0,d=0,f;for(let w=0;w<s.length;w++){let b=s[w];if(l===0&&u===0){if(b===Uj){i.push(s.slice(d,w)),d=w+g8;continue}if(b==="/"){f=w;continue}}b==="["?l++:b==="]"?l--:b==="("?u++:b===")"&&u--}const m=i.length===0?s:s.substring(d),h=x8(m),g=h!==m,j=f&&f>d?f-d:void 0;return{modifiers:i,hasImportantModifier:g,baseClassName:h,maybePostfixModifierPosition:j}};if(t){const s=t+Uj,i=a;a=l=>l.startsWith(s)?i(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const s=a;a=i=>r({className:i,parseClassName:s})}return a},x8=e=>e.endsWith(Fj)?e.substring(0,e.length-1):e.startsWith(Fj)?e.substring(1):e,y8=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const s=[];let i=[];return a.forEach(l=>{l[0]==="["||t[l]?(s.push(...i.sort(),l),i=[]):i.push(l)}),s.push(...i.sort()),s}},b8=e=>({cache:p8(e.cacheSize),parseClassName:v8(e),sortModifiers:y8(e),...d8(e)}),j8=/\s+/,w8=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:i}=t,l=[],u=e.trim().split(j8);let d="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{isExternal:h,modifiers:g,hasImportantModifier:j,baseClassName:w,maybePostfixModifierPosition:b}=r(m);if(h){d=m+(d.length>0?" "+d:d);continue}let v=!!b,N=a(v?w.substring(0,b):w);if(!N){if(!v){d=m+(d.length>0?" "+d:d);continue}if(N=a(w),!N){d=m+(d.length>0?" "+d:d);continue}v=!1}const C=i(g).join(":"),S=j?C+Fj:C,A=S+N;if(l.includes(A))continue;l.push(A);const _=s(N,v);for(let T=0;T<_.length;++T){const k=_[T];l.push(S+k)}d=m+(d.length>0?" "+d:d)}return d};function N8(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=wO(t))&&(a&&(a+=" "),a+=r);return a}const wO=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=wO(e[a]))&&(r&&(r+=" "),r+=t);return r};function S8(e,...t){let r,a,s,i=l;function l(d){const f=t.reduce((m,h)=>h(m),e());return r=b8(f),a=r.cache.get,s=r.cache.set,i=u,u(d)}function u(d){const f=a(d);if(f)return f;const m=w8(d,r);return s(d,m),m}return function(){return i(N8.apply(null,arguments))}}const jr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},NO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,SO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_8=/^\d+\/\d+$/,C8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,A8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vl=e=>_8.test(e),xt=e=>!!e&&!Number.isNaN(Number(e)),vi=e=>!!e&&Number.isInteger(Number(e)),lx=e=>e.endsWith("%")&&xt(e.slice(0,-1)),Ns=e=>C8.test(e),k8=()=>!0,I8=e=>E8.test(e)&&!T8.test(e),_O=()=>!1,P8=e=>A8.test(e),O8=e=>R8.test(e),D8=e=>!Ke(e)&&!Ye(e),M8=e=>xc(e,TO,_O),Ke=e=>NO.test(e),uo=e=>xc(e,AO,I8),cx=e=>xc(e,B8,xt),CE=e=>xc(e,CO,_O),$8=e=>xc(e,EO,O8),wh=e=>xc(e,RO,P8),Ye=e=>SO.test(e),xu=e=>yc(e,AO),L8=e=>yc(e,z8),EE=e=>yc(e,CO),F8=e=>yc(e,TO),U8=e=>yc(e,EO),Nh=e=>yc(e,RO,!0),xc=(e,t,r)=>{const a=NO.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},yc=(e,t,r=!1)=>{const a=SO.exec(e);return a?a[1]?t(a[1]):r:!1},CO=e=>e==="position"||e==="percentage",EO=e=>e==="image"||e==="url",TO=e=>e==="length"||e==="size"||e==="bg-size",AO=e=>e==="length",B8=e=>e==="number",z8=e=>e==="family-name",RO=e=>e==="shadow",q8=()=>{const e=jr("color"),t=jr("font"),r=jr("text"),a=jr("font-weight"),s=jr("tracking"),i=jr("leading"),l=jr("breakpoint"),u=jr("container"),d=jr("spacing"),f=jr("radius"),m=jr("shadow"),h=jr("inset-shadow"),g=jr("text-shadow"),j=jr("drop-shadow"),w=jr("blur"),b=jr("perspective"),v=jr("aspect"),N=jr("ease"),C=jr("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...A(),Ye,Ke],T=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],D=()=>[Ye,Ke,d],I=()=>[vl,"full","auto",...D()],B=()=>[vi,"none","subgrid",Ye,Ke],z=()=>["auto",{span:["full",vi,Ye,Ke]},vi,Ye,Ke],H=()=>[vi,"auto",Ye,Ke],W=()=>["auto","min","max","fr",Ye,Ke],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...D()],P=()=>[vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],O=()=>[e,Ye,Ke],K=()=>[...A(),EE,CE,{position:[Ye,Ke]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",F8,M8,{size:[Ye,Ke]}],F=()=>[lx,xu,uo],L=()=>["","none","full",f,Ye,Ke],Y=()=>["",xt,xu,uo],ee=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[xt,lx,EE,CE],fe=()=>["","none",w,Ye,Ke],oe=()=>["none",xt,Ye,Ke],Ee=()=>["none",xt,Ye,Ke],Oe=()=>[xt,Ye,Ke],re=()=>[vl,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ns],breakpoint:[Ns],color:[k8],container:[Ns],"drop-shadow":[Ns],ease:["in","out","in-out"],font:[D8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ns],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ns],shadow:[Ns],spacing:["px",xt],text:[Ns],"text-shadow":[Ns],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vl,Ke,Ye,v]}],container:["container"],columns:[{columns:[xt,Ke,Ye,u]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[vi,"auto",Ye,Ke]}],basis:[{basis:[vl,"full","auto",u,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xt,vl,"auto","initial","none",Ke]}],grow:[{grow:["",xt,Ye,Ke]}],shrink:[{shrink:["",xt,Ye,Ke]}],order:[{order:[vi,"first","last","none",Ye,Ke]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[u,"screen",...P()]}],"min-w":[{"min-w":[u,"screen","none",...P()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",r,xu,uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Ye,cx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lx,Ke]}],"font-family":[{font:[L8,Ke,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ye,Ke]}],"line-clamp":[{"line-clamp":[xt,"none",Ye,cx]}],leading:[{leading:[i,...D()]}],"list-image":[{"list-image":["none",Ye,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ye,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[xt,"from-font","auto",Ye,uo]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[xt,"auto",Ye,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vi,Ye,Ke],radial:["",Ye,Ke],conic:[vi,Ye,Ke]},U8,$8]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xt,Ye,Ke]}],"outline-w":[{outline:["",xt,xu,uo]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",m,Nh,wh]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",h,Nh,wh]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[xt,uo]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",g,Nh,wh]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[xt,Ye,Ke]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xt]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[Ye,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[xt]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ye,Ke]}],filter:[{filter:["","none",Ye,Ke]}],blur:[{blur:fe()}],brightness:[{brightness:[xt,Ye,Ke]}],contrast:[{contrast:[xt,Ye,Ke]}],"drop-shadow":[{"drop-shadow":["","none",j,Nh,wh]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",xt,Ye,Ke]}],"hue-rotate":[{"hue-rotate":[xt,Ye,Ke]}],invert:[{invert:["",xt,Ye,Ke]}],saturate:[{saturate:[xt,Ye,Ke]}],sepia:[{sepia:["",xt,Ye,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ye,Ke]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[xt,Ye,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[xt,Ye,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xt,Ye,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xt,Ye,Ke]}],"backdrop-invert":[{"backdrop-invert":["",xt,Ye,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[xt,Ye,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[xt,Ye,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",xt,Ye,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ye,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xt,"initial",Ye,Ke]}],ease:[{ease:["linear","initial",N,Ye,Ke]}],delay:[{delay:[xt,Ye,Ke]}],animate:[{animate:["none",C,Ye,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ye,Ke]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[Ye,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye,Ke]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[xt,xu,uo,cx]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},W8=S8(q8);function We(...e){return W8(Ct(e))}const Qu=I1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),X=x.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},i)=>{const l=a?vO:"button";return n.jsx(l,{"data-slot":"button",className:We(Qu({variant:t,size:r,className:e})),ref:i,...s})});X.displayName="Button";function Ie({className:e,type:t,...r}){return n.jsx("input",{type:t,"data-slot":"input",className:We("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var qd=mO();const kO=zt(qd);var V8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],at=V8.reduce((e,t)=>{const r=Ii(`Primitive.${t}`),a=x.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...u,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function IO(e,t){e&&qd.flushSync(()=>e.dispatchEvent(t))}var H8="Label",PO=x.forwardRef((e,t)=>n.jsx(at.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));PO.displayName=H8;var G8=PO;function ae({className:e,...t}){return n.jsx(G8,{"data-slot":"label",className:We("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function me({className:e,...t}){return n.jsx("div",{"data-slot":"card",className:We("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function Te({className:e,...t}){return n.jsx("div",{"data-slot":"card-header",className:We("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Ae({className:e,...t}){return n.jsx("h4",{"data-slot":"card-title",className:We("leading-none",e),...t})}function nr({className:e,...t}){return n.jsx("p",{"data-slot":"card-description",className:We("text-muted-foreground",e),...t})}function pe({className:e,...t}){return n.jsx("div",{"data-slot":"card-content",className:We("px-6 [&:last-child]:pb-6",e),...t})}const K8=I1("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ip({className:e,variant:t,...r}){return n.jsx("div",{"data-slot":"alert",role:"alert",className:We(K8({variant:t}),e),...r})}function op({className:e,...t}){return n.jsx("div",{"data-slot":"alert-description",className:We("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),TE=e=>{const t=X8(e);return t.charAt(0).toUpperCase()+t.slice(1)},OO=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:l,...u},d)=>x.createElement("svg",{ref:d,...Q8,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:OO("lucide",s),...u},[...l.map(([f,m])=>x.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=x.forwardRef(({className:a,...s},i)=>x.createElement(Z8,{ref:i,iconNode:t,className:OO(`lucide-${Y8(TE(e))}`,`lucide-${e}`,a),...s}));return r.displayName=TE(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ml=ze("activity",J8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],tB=ze("align-left",eB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],AE=ze("archive",rB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ka=ze("arrow-left",nB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Bj=ze("arrow-right",aB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],DO=ze("banknote",sB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],MO=ze("bell",iB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Zh=ze("book-open",oB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Ta=ze("building-2",lB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],ss=ze("building",cB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],zj=ze("calculator",uB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],ho=ze("calendar-days",dB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pr=ze("calendar",fB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$O=ze("chart-column",hB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zu=ze("check",mB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ka=ze("chevron-down",pB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vB=ze("chevron-left",gB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qj=ze("chevron-right",xB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bB=ze("chevron-up",yB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],LO=ze("chevrons-up-down",jB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$s=ze("circle-alert",wB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mt=ze("circle-check-big",NB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vn=ze("circle-x",SB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RE=ze("circle",_B);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Zt=ze("clock",CB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],TB=ze("copy",EB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],RB=ze("credit-card",AB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Jh=ze("database",kB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Kn=ze("dollar-sign",IB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Xn=ze("download",PB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],FO=ze("ellipsis",OB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],MB=ze("external-link",DB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pi=ze("eye",$B);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],FB=ze("file-pen-line",LB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],kE=ze("file-spreadsheet",UB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yt=ze("file-text",BB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9.5 10.5 5 5",key:"ra9qjz"}],["path",{d:"m14.5 10.5-5 5",key:"l2rkpq"}]],Wj=ze("folder-x",zB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Fi=ze("funnel",qB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Vj=ze("history",WB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],HB=ze("key",VB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],KB=ze("layout-dashboard",GB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],XB=ze("link",YB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Dr=ze("loader-circle",QB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ux=ze("lock",ZB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],e6=ze("log-in",JB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],IE=ze("map-pin",t6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],PE=ze("package",r6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],a6=ze("percent",n6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],on=ze("plus",s6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pn=ze("refresh-cw",i6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],l6=ze("rotate-ccw",o6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Wd=ze("save",c6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],gr=ze("search",u6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],lp=ze("send",d6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],h6=ze("server",f6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vd=ze("settings",m6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],g6=ze("shield-check",p6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],No=ze("shield",v6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sn=ze("square-pen",x6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Hj=ze("star",y6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Vl=ze("target",b6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Sr=ze("trash-2",j6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],O1=ze("trending-up",w6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ot=ze("triangle-alert",N6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],To=ze("upload",S6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Du=ze("user-check",_6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],E6=ze("user-plus",C6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],OE=ze("user-x",T6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ao=ze("user",A6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Gr=ze("users",R6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],I6=ze("wallet",k6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cp=ze("x",P6),UO=()=>{const{login:e,isLoading:t,error:r}=vc(),[a,s]=x.useState(""),[i,l]=x.useState(""),[u,d]=x.useState(""),f=async m=>{m.preventDefault(),d("");try{await e(a,i)}catch(h){const g=h instanceof Error?h.message:"Login failed";d(g)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"max-w-md w-full space-y-8",children:n.jsxs(me,{children:[n.jsxs(Te,{className:"space-y-1",children:[n.jsx(Ae,{className:"text-2xl font-bold text-center",children:"  "}),n.jsx(nr,{className:"text-center",children:"     "})]}),n.jsx(pe,{children:n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"email",children:"Email"}),n.jsx(Ie,{id:"email",type:"email",placeholder:"  email",value:a,onChange:m=>s(m.target.value),required:!0,disabled:t})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"password",children:""}),n.jsx(Ie,{id:"password",type:"password",placeholder:"  ",value:i,onChange:m=>l(m.target.value),required:!0,disabled:t})]}),(r||u)&&n.jsx(ip,{variant:"destructive",children:n.jsx(op,{children:r||u})}),n.jsx(X,{type:"submit",className:"w-full",disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(Dr,{className:"mr-2 h-4 w-4 animate-spin"}),"..."]}):n.jsxs(n.Fragment,{children:[n.jsx(e6,{className:"mr-2 h-4 w-4"}),""]})})]})})]})})})},BO=()=>{if(!(typeof window>"u"))try{if(!("CSSScopeRule"in window)){class e{start;end;constructor(r,a){this.start=r,this.end=a}static create(r,a){return new e(r,a)}}Object.defineProperty(window,"CSSScopeRule",{value:e,writable:!1,configurable:!1})}if(!("CSS"in window)||!window.CSS.supports){const e={supports:(t,r)=>{if(r)try{const a=document.createElement("div");return a.style.setProperty(t,r),a.style.getPropertyValue(t)===r}catch{return!1}return!1}};"CSS"in window||Object.defineProperty(window,"CSS",{value:e,writable:!1,configurable:!1})}}catch(e){console.warn("CSS polyfills initialization failed:",e)}};typeof window<"u"&&BO();const O6=I1("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function je({className:e,variant:t,asChild:r=!1,...a}){const s=r?vO:"span";return n.jsx(s,{"data-slot":"badge",className:We(O6({variant:t}),e),...a})}function Ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function D6(e,t){const r=x.createContext(t),a=i=>{const{children:l,...u}=i,d=x.useMemo(()=>u,Object.values(u));return n.jsx(r.Provider,{value:d,children:l})};a.displayName=e+"Provider";function s(i){const l=x.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function kn(e,t=[]){let r=[];function a(i,l){const u=x.createContext(l),d=r.length;r=[...r,l];const f=h=>{const{scope:g,children:j,...w}=h,b=g?.[e]?.[d]||u,v=x.useMemo(()=>w,Object.values(w));return n.jsx(b.Provider,{value:v,children:j})};f.displayName=i+"Provider";function m(h,g){const j=g?.[e]?.[d]||u,w=x.useContext(j);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[f,m]}const s=()=>{const i=r.map(l=>x.createContext(l));return function(u){const d=u?.[e]||i;return x.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[a,M6(s,...t)]}function M6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=a.reduce((u,{useScope:d,scopeName:f})=>{const h=d(i)[`__scope${f}`];return{...u,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var ln=globalThis?.document?x.useLayoutEffect:()=>{},$6=pO[" useInsertionEffect ".trim().toString()]||ln;function is({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[s,i,l]=L6({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:s;{const m=x.useRef(e!==void 0);x.useEffect(()=>{const h=m.current;h!==u&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,a])}const f=x.useCallback(m=>{if(u){const h=F6(m)?m(e):m;h!==e&&l.current?.(h)}else i(m)},[u,e,i,l]);return[d,f]}function L6({defaultProp:e,onChange:t}){const[r,a]=x.useState(e),s=x.useRef(r),i=x.useRef(t);return $6(()=>{i.current=t},[t]),x.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,a,i]}function F6(e){return typeof e=="function"}function D1(e){const t=e+"CollectionProvider",[r,a]=kn(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:v,children:N}=b,C=Q.useRef(null),S=Q.useRef(new Map).current;return n.jsx(s,{scope:v,itemMap:S,collectionRef:C,children:N})};l.displayName=t;const u=e+"CollectionSlot",d=Ii(u),f=Q.forwardRef((b,v)=>{const{scope:N,children:C}=b,S=i(u,N),A=Nt(v,S.collectionRef);return n.jsx(d,{ref:A,children:C})});f.displayName=u;const m=e+"CollectionItemSlot",h="data-radix-collection-item",g=Ii(m),j=Q.forwardRef((b,v)=>{const{scope:N,children:C,...S}=b,A=Q.useRef(null),_=Nt(v,A),T=i(m,N);return Q.useEffect(()=>(T.itemMap.set(A,{ref:A,...S}),()=>void T.itemMap.delete(A))),n.jsx(g,{[h]:"",ref:_,children:C})});j.displayName=m;function w(b){const v=i(e+"CollectionConsumer",b);return Q.useCallback(()=>{const C=v.collectionRef.current;if(!C)return[];const S=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((T,k)=>S.indexOf(T.ref.current)-S.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:l,Slot:f,ItemSlot:j},w,a]}var U6=x.createContext(void 0);function up(e){const t=x.useContext(U6);return e||t||"ltr"}function os(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}function B6(e,t=globalThis?.document){const r=os(e);x.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var z6="DismissableLayer",Gj="dismissableLayer.update",q6="dismissableLayer.pointerDownOutside",W6="dismissableLayer.focusOutside",DE,zO=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bc=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...d}=e,f=x.useContext(zO),[m,h]=x.useState(null),g=m?.ownerDocument??globalThis?.document,[,j]=x.useState({}),w=Nt(t,k=>h(k)),b=Array.from(f.layers),[v]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(v),C=m?b.indexOf(m):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,A=C>=N,_=G6(k=>{const D=k.target,I=[...f.branches].some(B=>B.contains(D));!A||I||(s?.(k),l?.(k),k.defaultPrevented||u?.())},g),T=K6(k=>{const D=k.target;[...f.branches].some(B=>B.contains(D))||(i?.(k),l?.(k),k.defaultPrevented||u?.())},g);return B6(k=>{C===f.layers.size-1&&(a?.(k),!k.defaultPrevented&&u&&(k.preventDefault(),u()))},g),x.useEffect(()=>{if(m)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(DE=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),ME(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=DE)}},[m,g,r,f]),x.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),ME())},[m,f]),x.useEffect(()=>{const k=()=>j({});return document.addEventListener(Gj,k),()=>document.removeEventListener(Gj,k)},[]),n.jsx(at.div,{...d,ref:w,style:{pointerEvents:S?A?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,_.onPointerDownCapture)})});bc.displayName=z6;var V6="DismissableLayerBranch",H6=x.forwardRef((e,t)=>{const r=x.useContext(zO),a=x.useRef(null),s=Nt(t,a);return x.useEffect(()=>{const i=a.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(at.div,{...e,ref:s})});H6.displayName=V6;function G6(e,t=globalThis?.document){const r=os(e),a=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=u=>{if(u.target&&!a.current){let d=function(){qO(q6,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);a.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function K6(e,t=globalThis?.document){const r=os(e),a=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!a.current&&qO(W6,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ME(){const e=new CustomEvent(Gj);document.dispatchEvent(e)}function qO(e,t,r,{discrete:a}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?IO(s,i):s.dispatchEvent(i)}var dx=0;function dp(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$E()),document.body.insertAdjacentElement("beforeend",e[1]??$E()),dx++,()=>{dx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dx--}},[])}function $E(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fx="focusScope.autoFocusOnMount",hx="focusScope.autoFocusOnUnmount",LE={bubbles:!1,cancelable:!0},Y6="FocusScope",Hd=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=e,[u,d]=x.useState(null),f=os(s),m=os(i),h=x.useRef(null),g=Nt(t,b=>d(b)),j=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(a){let b=function(S){if(j.paused||!u)return;const A=S.target;u.contains(A)?h.current=A:yi(h.current,{select:!0})},v=function(S){if(j.paused||!u)return;const A=S.relatedTarget;A!==null&&(u.contains(A)||yi(h.current,{select:!0}))},N=function(S){if(document.activeElement===document.body)for(const _ of S)_.removedNodes.length>0&&yi(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",v);const C=new MutationObserver(N);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",v),C.disconnect()}}},[a,u,j.paused]),x.useEffect(()=>{if(u){UE.add(j);const b=document.activeElement;if(!u.contains(b)){const N=new CustomEvent(fx,LE);u.addEventListener(fx,f),u.dispatchEvent(N),N.defaultPrevented||(X6(tz(WO(u)),{select:!0}),document.activeElement===b&&yi(u))}return()=>{u.removeEventListener(fx,f),setTimeout(()=>{const N=new CustomEvent(hx,LE);u.addEventListener(hx,m),u.dispatchEvent(N),N.defaultPrevented||yi(b??document.body,{select:!0}),u.removeEventListener(hx,m),UE.remove(j)},0)}}},[u,f,m,j]);const w=x.useCallback(b=>{if(!r&&!a||j.paused)return;const v=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(v&&N){const C=b.currentTarget,[S,A]=Q6(C);S&&A?!b.shiftKey&&N===A?(b.preventDefault(),r&&yi(S,{select:!0})):b.shiftKey&&N===S&&(b.preventDefault(),r&&yi(A,{select:!0})):N===C&&b.preventDefault()}},[r,a,j.paused]);return n.jsx(at.div,{tabIndex:-1,...l,ref:g,onKeyDown:w})});Hd.displayName=Y6;function X6(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(yi(a,{select:t}),document.activeElement!==r)return}function Q6(e){const t=WO(e),r=FE(t,e),a=FE(t.reverse(),e);return[r,a]}function WO(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function FE(e,t){for(const r of e)if(!Z6(r,{upTo:t}))return r}function Z6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function J6(e){return e instanceof HTMLInputElement&&"select"in e}function yi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&J6(e)&&t&&e.select()}}var UE=ez();function ez(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=BE(e,t),e.unshift(t)},remove(t){e=BE(e,t),e[0]?.resume()}}}function BE(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function tz(e){return e.filter(t=>t.tagName!=="A")}var rz=pO[" useId ".trim().toString()]||(()=>{}),nz=0;function Br(e){const[t,r]=x.useState(rz());return ln(()=>{r(a=>a??String(nz++))},[e]),e||(t?`radix-${t}`:"")}const az=["top","right","bottom","left"],Oi=Math.min,Hn=Math.max,em=Math.round,Sh=Math.floor,rs=e=>({x:e,y:e}),sz={left:"right",right:"left",bottom:"top",top:"bottom"},iz={start:"end",end:"start"};function Kj(e,t,r){return Hn(e,Oi(t,r))}function Ls(e,t){return typeof e=="function"?e(t):e}function Fs(e){return e.split("-")[0]}function jc(e){return e.split("-")[1]}function M1(e){return e==="x"?"y":"x"}function $1(e){return e==="y"?"height":"width"}const oz=new Set(["top","bottom"]);function Za(e){return oz.has(Fs(e))?"y":"x"}function L1(e){return M1(Za(e))}function lz(e,t,r){r===void 0&&(r=!1);const a=jc(e),s=L1(e),i=$1(s);let l=s==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=tm(l)),[l,tm(l)]}function cz(e){const t=tm(e);return[Yj(e),t,Yj(t)]}function Yj(e){return e.replace(/start|end/g,t=>iz[t])}const zE=["left","right"],qE=["right","left"],uz=["top","bottom"],dz=["bottom","top"];function fz(e,t,r){switch(e){case"top":case"bottom":return r?t?qE:zE:t?zE:qE;case"left":case"right":return t?uz:dz;default:return[]}}function hz(e,t,r,a){const s=jc(e);let i=fz(Fs(e),r==="start",a);return s&&(i=i.map(l=>l+"-"+s),t&&(i=i.concat(i.map(Yj)))),i}function tm(e){return e.replace(/left|right|bottom|top/g,t=>sz[t])}function mz(e){return{top:0,right:0,bottom:0,left:0,...e}}function VO(e){return typeof e!="number"?mz(e):{top:e,right:e,bottom:e,left:e}}function rm(e){const{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function WE(e,t,r){let{reference:a,floating:s}=e;const i=Za(t),l=L1(t),u=$1(l),d=Fs(t),f=i==="y",m=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,g=a[u]/2-s[u]/2;let j;switch(d){case"top":j={x:m,y:a.y-s.height};break;case"bottom":j={x:m,y:a.y+a.height};break;case"right":j={x:a.x+a.width,y:h};break;case"left":j={x:a.x-s.width,y:h};break;default:j={x:a.x,y:a.y}}switch(jc(t)){case"start":j[l]-=g*(r&&f?-1:1);break;case"end":j[l]+=g*(r&&f?-1:1);break}return j}const pz=async(e,t,r)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:l}=r,u=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:h}=WE(f,a,d),g=a,j={},w=0;for(let b=0;b<u.length;b++){const{name:v,fn:N}=u[b],{x:C,y:S,data:A,reset:_}=await N({x:m,y:h,initialPlacement:a,placement:g,strategy:s,middlewareData:j,rects:f,platform:l,elements:{reference:e,floating:t}});m=C??m,h=S??h,j={...j,[v]:{...j[v],...A}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(f=_.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:m,y:h}=WE(f,g,d)),b=-1)}return{x:m,y:h,placement:g,strategy:s,middlewareData:j}};async function Ju(e,t){var r;t===void 0&&(t={});const{x:a,y:s,platform:i,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:g=!1,padding:j=0}=Ls(t,e),w=VO(j),v=u[g?h==="floating"?"reference":"floating":h],N=rm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:f,rootBoundary:m,strategy:d})),C=h==="floating"?{x:a,y:s,width:l.floating.width,height:l.floating.height}:l.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),A=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},_=rm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:S,strategy:d}):C);return{top:(N.top-_.top+w.top)/A.y,bottom:(_.bottom-N.bottom+w.bottom)/A.y,left:(N.left-_.left+w.left)/A.x,right:(_.right-N.right+w.right)/A.x}}const gz=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:s,rects:i,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:m=0}=Ls(e,t)||{};if(f==null)return{};const h=VO(m),g={x:r,y:a},j=L1(s),w=$1(j),b=await l.getDimensions(f),v=j==="y",N=v?"top":"left",C=v?"bottom":"right",S=v?"clientHeight":"clientWidth",A=i.reference[w]+i.reference[j]-g[j]-i.floating[w],_=g[j]-i.reference[j],T=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let k=T?T[S]:0;(!k||!await(l.isElement==null?void 0:l.isElement(T)))&&(k=u.floating[S]||i.floating[w]);const D=A/2-_/2,I=k/2-b[w]/2-1,B=Oi(h[N],I),z=Oi(h[C],I),H=B,W=k-b[w]-z,Z=k/2-b[w]/2+D,$=Kj(H,Z,W),M=!d.arrow&&jc(s)!=null&&Z!==$&&i.reference[w]/2-(Z<H?B:z)-b[w]/2<0,P=M?Z<H?Z-H:Z-W:0;return{[j]:g[j]+P,data:{[j]:$,centerOffset:Z-$-P,...M&&{alignmentOffset:P}},reset:M}}}),vz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:s,middlewareData:i,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...v}=Ls(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=Fs(s),C=Za(u),S=Fs(u)===u,A=await(d.isRTL==null?void 0:d.isRTL(f.floating)),_=g||(S||!b?[tm(u)]:cz(u)),T=w!=="none";!g&&T&&_.push(...hz(u,b,w,A));const k=[u,..._],D=await Ju(t,v),I=[];let B=((a=i.flip)==null?void 0:a.overflows)||[];if(m&&I.push(D[N]),h){const Z=lz(s,l,A);I.push(D[Z[0]],D[Z[1]])}if(B=[...B,{placement:s,overflows:I}],!I.every(Z=>Z<=0)){var z,H;const Z=(((z=i.flip)==null?void 0:z.index)||0)+1,$=k[Z];if($&&(!(h==="alignment"?C!==Za($):!1)||B.every(O=>Za(O.placement)===C?O.overflows[0]>0:!0)))return{data:{index:Z,overflows:B},reset:{placement:$}};let M=(H=B.filter(P=>P.overflows[0]<=0).sort((P,O)=>P.overflows[1]-O.overflows[1])[0])==null?void 0:H.placement;if(!M)switch(j){case"bestFit":{var W;const P=(W=B.filter(O=>{if(T){const K=Za(O.placement);return K===C||K==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(K=>K>0).reduce((K,V)=>K+V,0)]).sort((O,K)=>O[1]-K[1])[0])==null?void 0:W[0];P&&(M=P);break}case"initialPlacement":M=u;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function VE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function HE(e){return az.some(t=>e[t]>=0)}const xz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...s}=Ls(e,t);switch(a){case"referenceHidden":{const i=await Ju(t,{...s,elementContext:"reference"}),l=VE(i,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:HE(l)}}}case"escaped":{const i=await Ju(t,{...s,altBoundary:!0}),l=VE(i,r.floating);return{data:{escapedOffsets:l,escaped:HE(l)}}}default:return{}}}}},HO=new Set(["left","top"]);async function yz(e,t){const{placement:r,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),l=Fs(r),u=jc(r),d=Za(r)==="y",f=HO.has(l)?-1:1,m=i&&d?-1:1,h=Ls(t,e);let{mainAxis:g,crossAxis:j,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return u&&typeof w=="number"&&(j=u==="end"?w*-1:w),d?{x:j*m,y:g*f}:{x:g*f,y:j*m}}const bz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:s,y:i,placement:l,middlewareData:u}=t,d=await yz(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(a=u.arrow)!=null&&a.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:l}}}}},jz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:s}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:v=>{let{x:N,y:C}=v;return{x:N,y:C}}},...d}=Ls(e,t),f={x:r,y:a},m=await Ju(t,d),h=Za(Fs(s)),g=M1(h);let j=f[g],w=f[h];if(i){const v=g==="y"?"top":"left",N=g==="y"?"bottom":"right",C=j+m[v],S=j-m[N];j=Kj(C,j,S)}if(l){const v=h==="y"?"top":"left",N=h==="y"?"bottom":"right",C=w+m[v],S=w-m[N];w=Kj(C,w,S)}const b=u.fn({...t,[g]:j,[h]:w});return{...b,data:{x:b.x-r,y:b.y-a,enabled:{[g]:i,[h]:l}}}}}},wz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:s,rects:i,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Ls(e,t),m={x:r,y:a},h=Za(s),g=M1(h);let j=m[g],w=m[h];const b=Ls(u,t),v=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const S=g==="y"?"height":"width",A=i.reference[g]-i.floating[S]+v.mainAxis,_=i.reference[g]+i.reference[S]-v.mainAxis;j<A?j=A:j>_&&(j=_)}if(f){var N,C;const S=g==="y"?"width":"height",A=HO.has(Fs(s)),_=i.reference[h]-i.floating[S]+(A&&((N=l.offset)==null?void 0:N[h])||0)+(A?0:v.crossAxis),T=i.reference[h]+i.reference[S]+(A?0:((C=l.offset)==null?void 0:C[h])||0)-(A?v.crossAxis:0);w<_?w=_:w>T&&(w=T)}return{[g]:j,[h]:w}}}},Nz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:s,rects:i,platform:l,elements:u}=t,{apply:d=()=>{},...f}=Ls(e,t),m=await Ju(t,f),h=Fs(s),g=jc(s),j=Za(s)==="y",{width:w,height:b}=i.floating;let v,N;h==="top"||h==="bottom"?(v=h,N=g===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(N=h,v=g==="end"?"top":"bottom");const C=b-m.top-m.bottom,S=w-m.left-m.right,A=Oi(b-m[v],C),_=Oi(w-m[N],S),T=!t.middlewareData.shift;let k=A,D=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=S),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(k=C),T&&!g){const B=Hn(m.left,0),z=Hn(m.right,0),H=Hn(m.top,0),W=Hn(m.bottom,0);j?D=w-2*(B!==0||z!==0?B+z:Hn(m.left,m.right)):k=b-2*(H!==0||W!==0?H+W:Hn(m.top,m.bottom))}await d({...t,availableWidth:D,availableHeight:k});const I=await l.getDimensions(u.floating);return w!==I.width||b!==I.height?{reset:{rects:!0}}:{}}}};function fp(){return typeof window<"u"}function wc(e){return GO(e)?(e.nodeName||"").toLowerCase():"#document"}function Yn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ds(e){var t;return(t=(GO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function GO(e){return fp()?e instanceof Node||e instanceof Yn(e).Node:!1}function Pa(e){return fp()?e instanceof Element||e instanceof Yn(e).Element:!1}function ls(e){return fp()?e instanceof HTMLElement||e instanceof Yn(e).HTMLElement:!1}function GE(e){return!fp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yn(e).ShadowRoot}const Sz=new Set(["inline","contents"]);function Gd(e){const{overflow:t,overflowX:r,overflowY:a,display:s}=Oa(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!Sz.has(s)}const _z=new Set(["table","td","th"]);function Cz(e){return _z.has(wc(e))}const Ez=[":popover-open",":modal"];function hp(e){return Ez.some(t=>{try{return e.matches(t)}catch{return!1}})}const Tz=["transform","translate","scale","rotate","perspective"],Az=["transform","translate","scale","rotate","perspective","filter"],Rz=["paint","layout","strict","content"];function F1(e){const t=U1(),r=Pa(e)?Oa(e):e;return Tz.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Az.some(a=>(r.willChange||"").includes(a))||Rz.some(a=>(r.contain||"").includes(a))}function kz(e){let t=Di(e);for(;ls(t)&&!Hl(t);){if(F1(t))return t;if(hp(t))return null;t=Di(t)}return null}function U1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Iz=new Set(["html","body","#document"]);function Hl(e){return Iz.has(wc(e))}function Oa(e){return Yn(e).getComputedStyle(e)}function mp(e){return Pa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Di(e){if(wc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||GE(e)&&e.host||ds(e);return GE(t)?t.host:t}function KO(e){const t=Di(e);return Hl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ls(t)&&Gd(t)?t:KO(t)}function ed(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=KO(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),l=Yn(s);if(i){const u=Xj(l);return t.concat(l,l.visualViewport||[],Gd(s)?s:[],u&&r?ed(u):[])}return t.concat(s,ed(s,[],r))}function Xj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function YO(e){const t=Oa(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=ls(e),i=s?e.offsetWidth:r,l=s?e.offsetHeight:a,u=em(r)!==i||em(a)!==l;return u&&(r=i,a=l),{width:r,height:a,$:u}}function B1(e){return Pa(e)?e:e.contextElement}function $l(e){const t=B1(e);if(!ls(t))return rs(1);const r=t.getBoundingClientRect(),{width:a,height:s,$:i}=YO(t);let l=(i?em(r.width):r.width)/a,u=(i?em(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const Pz=rs(0);function XO(e){const t=Yn(e);return!U1()||!t.visualViewport?Pz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Oz(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Yn(e)?!1:t}function Ro(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=B1(e);let l=rs(1);t&&(a?Pa(a)&&(l=$l(a)):l=$l(e));const u=Oz(i,r,a)?XO(i):rs(0);let d=(s.left+u.x)/l.x,f=(s.top+u.y)/l.y,m=s.width/l.x,h=s.height/l.y;if(i){const g=Yn(i),j=a&&Pa(a)?Yn(a):a;let w=g,b=Xj(w);for(;b&&a&&j!==w;){const v=$l(b),N=b.getBoundingClientRect(),C=Oa(b),S=N.left+(b.clientLeft+parseFloat(C.paddingLeft))*v.x,A=N.top+(b.clientTop+parseFloat(C.paddingTop))*v.y;d*=v.x,f*=v.y,m*=v.x,h*=v.y,d+=S,f+=A,w=Yn(b),b=Xj(w)}}return rm({width:m,height:h,x:d,y:f})}function pp(e,t){const r=mp(e).scrollLeft;return t?t.left+r:Ro(ds(e)).left+r}function QO(e,t){const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-pp(e,r),s=r.top+t.scrollTop;return{x:a,y:s}}function Dz(e){let{elements:t,rect:r,offsetParent:a,strategy:s}=e;const i=s==="fixed",l=ds(a),u=t?hp(t.floating):!1;if(a===l||u&&i)return r;let d={scrollLeft:0,scrollTop:0},f=rs(1);const m=rs(0),h=ls(a);if((h||!h&&!i)&&((wc(a)!=="body"||Gd(l))&&(d=mp(a)),ls(a))){const j=Ro(a);f=$l(a),m.x=j.x+a.clientLeft,m.y=j.y+a.clientTop}const g=l&&!h&&!i?QO(l,d):rs(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+m.x+g.x,y:r.y*f.y-d.scrollTop*f.y+m.y+g.y}}function Mz(e){return Array.from(e.getClientRects())}function $z(e){const t=ds(e),r=mp(e),a=e.ownerDocument.body,s=Hn(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=Hn(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let l=-r.scrollLeft+pp(e);const u=-r.scrollTop;return Oa(a).direction==="rtl"&&(l+=Hn(t.clientWidth,a.clientWidth)-s),{width:s,height:i,x:l,y:u}}const KE=25;function Lz(e,t){const r=Yn(e),a=ds(e),s=r.visualViewport;let i=a.clientWidth,l=a.clientHeight,u=0,d=0;if(s){i=s.width,l=s.height;const m=U1();(!m||m&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}const f=pp(a);if(f<=0){const m=a.ownerDocument,h=m.body,g=getComputedStyle(h),j=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,w=Math.abs(a.clientWidth-h.clientWidth-j);w<=KE&&(i-=w)}else f<=KE&&(i+=f);return{width:i,height:l,x:u,y:d}}const Fz=new Set(["absolute","fixed"]);function Uz(e,t){const r=Ro(e,!0,t==="fixed"),a=r.top+e.clientTop,s=r.left+e.clientLeft,i=ls(e)?$l(e):rs(1),l=e.clientWidth*i.x,u=e.clientHeight*i.y,d=s*i.x,f=a*i.y;return{width:l,height:u,x:d,y:f}}function YE(e,t,r){let a;if(t==="viewport")a=Lz(e,r);else if(t==="document")a=$z(ds(e));else if(Pa(t))a=Uz(t,r);else{const s=XO(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return rm(a)}function ZO(e,t){const r=Di(e);return r===t||!Pa(r)||Hl(r)?!1:Oa(r).position==="fixed"||ZO(r,t)}function Bz(e,t){const r=t.get(e);if(r)return r;let a=ed(e,[],!1).filter(u=>Pa(u)&&wc(u)!=="body"),s=null;const i=Oa(e).position==="fixed";let l=i?Di(e):e;for(;Pa(l)&&!Hl(l);){const u=Oa(l),d=F1(l);!d&&u.position==="fixed"&&(s=null),(i?!d&&!s:!d&&u.position==="static"&&!!s&&Fz.has(s.position)||Gd(l)&&!d&&ZO(e,l))?a=a.filter(m=>m!==l):s=u,l=Di(l)}return t.set(e,a),a}function zz(e){let{element:t,boundary:r,rootBoundary:a,strategy:s}=e;const l=[...r==="clippingAncestors"?hp(t)?[]:Bz(t,this._c):[].concat(r),a],u=l[0],d=l.reduce((f,m)=>{const h=YE(t,m,s);return f.top=Hn(h.top,f.top),f.right=Oi(h.right,f.right),f.bottom=Oi(h.bottom,f.bottom),f.left=Hn(h.left,f.left),f},YE(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function qz(e){const{width:t,height:r}=YO(e);return{width:t,height:r}}function Wz(e,t,r){const a=ls(t),s=ds(t),i=r==="fixed",l=Ro(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const d=rs(0);function f(){d.x=pp(s)}if(a||!a&&!i)if((wc(t)!=="body"||Gd(s))&&(u=mp(t)),a){const j=Ro(t,!0,i,t);d.x=j.x+t.clientLeft,d.y=j.y+t.clientTop}else s&&f();i&&!a&&s&&f();const m=s&&!a&&!i?QO(s,u):rs(0),h=l.left+u.scrollLeft-d.x-m.x,g=l.top+u.scrollTop-d.y-m.y;return{x:h,y:g,width:l.width,height:l.height}}function mx(e){return Oa(e).position==="static"}function XE(e,t){if(!ls(e)||Oa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ds(e)===r&&(r=r.ownerDocument.body),r}function JO(e,t){const r=Yn(e);if(hp(e))return r;if(!ls(e)){let s=Di(e);for(;s&&!Hl(s);){if(Pa(s)&&!mx(s))return s;s=Di(s)}return r}let a=XE(e,t);for(;a&&Cz(a)&&mx(a);)a=XE(a,t);return a&&Hl(a)&&mx(a)&&!F1(a)?r:a||kz(e)||r}const Vz=async function(e){const t=this.getOffsetParent||JO,r=this.getDimensions,a=await r(e.floating);return{reference:Wz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Hz(e){return Oa(e).direction==="rtl"}const Gz={convertOffsetParentRelativeRectToViewportRelativeRect:Dz,getDocumentElement:ds,getClippingRect:zz,getOffsetParent:JO,getElementRects:Vz,getClientRects:Mz,getDimensions:qz,getScale:$l,isElement:Pa,isRTL:Hz};function eD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Kz(e,t){let r=null,a;const s=ds(e);function i(){var u;clearTimeout(a),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:m,top:h,width:g,height:j}=f;if(u||t(),!g||!j)return;const w=Sh(h),b=Sh(s.clientWidth-(m+g)),v=Sh(s.clientHeight-(h+j)),N=Sh(m),S={rootMargin:-w+"px "+-b+"px "+-v+"px "+-N+"px",threshold:Hn(0,Oi(1,d))||1};let A=!0;function _(T){const k=T[0].intersectionRatio;if(k!==d){if(!A)return l();k?l(!1,k):a=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!eD(f,e.getBoundingClientRect())&&l(),A=!1}try{r=new IntersectionObserver(_,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,S)}r.observe(e)}return l(!0),i}function Yz(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,f=B1(e),m=s||i?[...f?ed(f):[],...ed(t)]:[];m.forEach(N=>{s&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const h=f&&u?Kz(f,r):null;let g=-1,j=null;l&&(j=new ResizeObserver(N=>{let[C]=N;C&&C.target===f&&j&&(j.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=j)==null||S.observe(t)})),r()}),f&&!d&&j.observe(f),j.observe(t));let w,b=d?Ro(e):null;d&&v();function v(){const N=Ro(e);b&&!eD(b,N)&&r(),b=N,w=requestAnimationFrame(v)}return r(),()=>{var N;m.forEach(C=>{s&&C.removeEventListener("scroll",r),i&&C.removeEventListener("resize",r)}),h?.(),(N=j)==null||N.disconnect(),j=null,d&&cancelAnimationFrame(w)}}const Xz=bz,Qz=jz,Zz=vz,Jz=Nz,eq=xz,QE=gz,tq=wz,rq=(e,t,r)=>{const a=new Map,s={platform:Gz,...r},i={...s.platform,_c:a};return pz(e,t,{...s,platform:i})};var nq=typeof document<"u",aq=function(){},Gh=nq?x.useLayoutEffect:aq;function nm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!nm(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=r;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!nm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function tD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ZE(e,t){const r=tD(e);return Math.round(t*r)/r}function px(e){const t=x.useRef(e);return Gh(()=>{t.current=e}),t}function sq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[m,h]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,j]=x.useState(a);nm(g,a)||j(a);const[w,b]=x.useState(null),[v,N]=x.useState(null),C=x.useCallback(O=>{O!==T.current&&(T.current=O,b(O))},[]),S=x.useCallback(O=>{O!==k.current&&(k.current=O,N(O))},[]),A=i||w,_=l||v,T=x.useRef(null),k=x.useRef(null),D=x.useRef(m),I=d!=null,B=px(d),z=px(s),H=px(f),W=x.useCallback(()=>{if(!T.current||!k.current)return;const O={placement:t,strategy:r,middleware:g};z.current&&(O.platform=z.current),rq(T.current,k.current,O).then(K=>{const V={...K,isPositioned:H.current!==!1};Z.current&&!nm(D.current,V)&&(D.current=V,qd.flushSync(()=>{h(V)}))})},[g,t,r,z,H]);Gh(()=>{f===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[f]);const Z=x.useRef(!1);Gh(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Gh(()=>{if(A&&(T.current=A),_&&(k.current=_),A&&_){if(B.current)return B.current(A,_,W);W()}},[A,_,W,B,I]);const $=x.useMemo(()=>({reference:T,floating:k,setReference:C,setFloating:S}),[C,S]),M=x.useMemo(()=>({reference:A,floating:_}),[A,_]),P=x.useMemo(()=>{const O={position:r,left:0,top:0};if(!M.floating)return O;const K=ZE(M.floating,m.x),V=ZE(M.floating,m.y);return u?{...O,transform:"translate("+K+"px, "+V+"px)",...tD(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:K,top:V}},[r,u,M.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:W,refs:$,elements:M,floatingStyles:P}),[m,W,$,M,P])}const iq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:s}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?QE({element:a.current,padding:s}).fn(r):{}:a?QE({element:a,padding:s}).fn(r):{}}}},oq=(e,t)=>({...Xz(e),options:[e,t]}),lq=(e,t)=>({...Qz(e),options:[e,t]}),cq=(e,t)=>({...tq(e),options:[e,t]}),uq=(e,t)=>({...Zz(e),options:[e,t]}),dq=(e,t)=>({...Jz(e),options:[e,t]}),fq=(e,t)=>({...eq(e),options:[e,t]}),hq=(e,t)=>({...iq(e),options:[e,t]});var mq="Arrow",rD=x.forwardRef((e,t)=>{const{children:r,width:a=10,height:s=5,...i}=e;return n.jsx(at.svg,{...i,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});rD.displayName=mq;var pq=rD;function z1(e){const[t,r]=x.useState(void 0);return ln(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,u;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var q1="Popper",[nD,Ui]=kn(q1),[gq,aD]=nD(q1),sD=e=>{const{__scopePopper:t,children:r}=e,[a,s]=x.useState(null);return n.jsx(gq,{scope:t,anchor:a,onAnchorChange:s,children:r})};sD.displayName=q1;var iD="PopperAnchor",oD=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...s}=e,i=aD(iD,r),l=x.useRef(null),u=Nt(t,l),d=x.useRef(null);return x.useEffect(()=>{const f=d.current;d.current=a?.current||l.current,f!==d.current&&i.onAnchorChange(d.current)}),a?null:n.jsx(at.div,{...s,ref:u})});oD.displayName=iD;var W1="PopperContent",[vq,xq]=nD(W1),lD=x.forwardRef((e,t)=>{const{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:j="optimized",onPlaced:w,...b}=e,v=aD(W1,r),[N,C]=x.useState(null),S=Nt(t,G=>C(G)),[A,_]=x.useState(null),T=z1(A),k=T?.width??0,D=T?.height??0,I=a+(i!=="center"?"-"+i:""),B=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},z=Array.isArray(f)?f:[f],H=z.length>0,W={padding:B,boundary:z.filter(bq),altBoundary:H},{refs:Z,floatingStyles:$,placement:M,isPositioned:P,middlewareData:O}=sq({strategy:"fixed",placement:I,whileElementsMounted:(...G)=>Yz(...G,{animationFrame:j==="always"}),elements:{reference:v.anchor},middleware:[oq({mainAxis:s+D,alignmentAxis:l}),d&&lq({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?cq():void 0,...W}),d&&uq({...W}),dq({...W,apply:({elements:G,rects:fe,availableWidth:oe,availableHeight:Ee})=>{const{width:Oe,height:re}=fe.reference,le=G.floating.style;le.setProperty("--radix-popper-available-width",`${oe}px`),le.setProperty("--radix-popper-available-height",`${Ee}px`),le.setProperty("--radix-popper-anchor-width",`${Oe}px`),le.setProperty("--radix-popper-anchor-height",`${re}px`)}}),A&&hq({element:A,padding:u}),jq({arrowWidth:k,arrowHeight:D}),g&&fq({strategy:"referenceHidden",...W})]}),[K,V]=dD(M),q=os(w);ln(()=>{P&&q?.()},[P,q]);const F=O.arrow?.x,L=O.arrow?.y,Y=O.arrow?.centerOffset!==0,[ee,ce]=x.useState();return ln(()=>{N&&ce(window.getComputedStyle(N).zIndex)},[N]),n.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:P?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(vq,{scope:r,placedSide:K,onArrowChange:_,arrowX:F,arrowY:L,shouldHideArrow:Y,children:n.jsx(at.div,{"data-side":K,"data-align":V,...b,ref:S,style:{...b.style,animation:P?void 0:"none"}})})})});lD.displayName=W1;var cD="PopperArrow",yq={top:"bottom",right:"left",bottom:"top",left:"right"},uD=x.forwardRef(function(t,r){const{__scopePopper:a,...s}=t,i=xq(cD,a),l=yq[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(pq,{...s,ref:r,style:{...s.style,display:"block"}})})});uD.displayName=cD;function bq(e){return e!==null}var jq=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:a,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,m]=dD(r),h={start:"0%",center:"50%",end:"100%"}[m],g=(s.arrow?.x??0)+u/2,j=(s.arrow?.y??0)+d/2;let w="",b="";return f==="bottom"?(w=l?h:`${g}px`,b=`${-d}px`):f==="top"?(w=l?h:`${g}px`,b=`${a.floating.height+d}px`):f==="right"?(w=`${-d}px`,b=l?h:`${j}px`):f==="left"&&(w=`${a.floating.width+d}px`,b=l?h:`${j}px`),{data:{x:w,y:b}}}});function dD(e){const[t,r="center"]=e.split("-");return[t,r]}var gp=sD,Kd=oD,vp=lD,xp=uD,wq="Portal",Nc=x.forwardRef((e,t)=>{const{container:r,...a}=e,[s,i]=x.useState(!1);ln(()=>i(!0),[]);const l=r||s&&globalThis?.document?.body;return l?kO.createPortal(n.jsx(at.div,{...a,ref:t}),l):null});Nc.displayName=wq;function Nq(e,t){return x.useReducer((r,a)=>t[r][a]??r,e)}var In=e=>{const{present:t,children:r}=e,a=Sq(t),s=typeof r=="function"?r({present:a.isPresent}):x.Children.only(r),i=Nt(a.ref,_q(s));return typeof r=="function"||a.isPresent?x.cloneElement(s,{ref:i}):null};In.displayName="Presence";function Sq(e){const[t,r]=x.useState(),a=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),l=e?"mounted":"unmounted",[u,d]=Nq(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=_h(a.current);i.current=u==="mounted"?f:"none"},[u]),ln(()=>{const f=a.current,m=s.current;if(m!==e){const g=i.current,j=_h(f);e?d("MOUNT"):j==="none"||f?.display==="none"?d("UNMOUNT"):d(m&&g!==j?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),ln(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,h=j=>{const b=_h(a.current).includes(CSS.escape(j.animationName));if(j.target===t&&b&&(d("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},g=j=>{j.target===t&&(i.current=_h(a.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(f=>{a.current=f?getComputedStyle(f):null,r(f)},[])}}function _h(e){return e?.animationName||"none"}function _q(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gx="rovingFocusGroup.onEntryFocus",Cq={bubbles:!1,cancelable:!0},Yd="RovingFocusGroup",[Qj,fD,Eq]=D1(Yd),[Tq,yp]=kn(Yd,[Eq]),[Aq,Rq]=Tq(Yd),hD=x.forwardRef((e,t)=>n.jsx(Qj.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Qj.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(kq,{...e,ref:t})})}));hD.displayName=Yd;var kq=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...h}=e,g=x.useRef(null),j=Nt(t,g),w=up(i),[b,v]=is({prop:l,defaultProp:u??null,onChange:d,caller:Yd}),[N,C]=x.useState(!1),S=os(f),A=fD(r),_=x.useRef(!1),[T,k]=x.useState(0);return x.useEffect(()=>{const D=g.current;if(D)return D.addEventListener(gx,S),()=>D.removeEventListener(gx,S)},[S]),n.jsx(Aq,{scope:r,orientation:a,dir:w,loop:s,currentTabStopId:b,onItemFocus:x.useCallback(D=>v(D),[v]),onItemShiftTab:x.useCallback(()=>C(!0),[]),onFocusableItemAdd:x.useCallback(()=>k(D=>D+1),[]),onFocusableItemRemove:x.useCallback(()=>k(D=>D-1),[]),children:n.jsx(at.div,{tabIndex:N||T===0?-1:0,"data-orientation":a,...h,ref:j,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{_.current=!0}),onFocus:Ue(e.onFocus,D=>{const I=!_.current;if(D.target===D.currentTarget&&I&&!N){const B=new CustomEvent(gx,Cq);if(D.currentTarget.dispatchEvent(B),!B.defaultPrevented){const z=A().filter(M=>M.focusable),H=z.find(M=>M.active),W=z.find(M=>M.id===b),$=[H,W,...z].filter(Boolean).map(M=>M.ref.current);gD($,m)}}_.current=!1}),onBlur:Ue(e.onBlur,()=>C(!1))})})}),mD="RovingFocusGroupItem",pD=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:i,children:l,...u}=e,d=Br(),f=i||d,m=Rq(mD,r),h=m.currentTabStopId===f,g=fD(r),{onFocusableItemAdd:j,onFocusableItemRemove:w,currentTabStopId:b}=m;return x.useEffect(()=>{if(a)return j(),()=>w()},[a,j,w]),n.jsx(Qj.ItemSlot,{scope:r,id:f,focusable:a,active:s,children:n.jsx(at.span,{tabIndex:h?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:Ue(e.onMouseDown,v=>{a?m.onItemFocus(f):v.preventDefault()}),onFocus:Ue(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Ue(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){m.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const N=Oq(v,m.orientation,m.dir);if(N!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let S=g().filter(A=>A.focusable).map(A=>A.ref.current);if(N==="last")S.reverse();else if(N==="prev"||N==="next"){N==="prev"&&S.reverse();const A=S.indexOf(v.currentTarget);S=m.loop?Dq(S,A+1):S.slice(A+1)}setTimeout(()=>gD(S))}}),children:typeof l=="function"?l({isCurrentTabStop:h,hasTabStop:b!=null}):l})})});pD.displayName=mD;var Iq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Pq(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Oq(e,t,r){const a=Pq(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Iq[a]}function gD(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function Dq(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var vD=hD,xD=pD,Mq=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xl=new WeakMap,Ch=new WeakMap,Eh={},vx=0,yD=function(e){return e&&(e.host||yD(e.parentNode))},$q=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=yD(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Lq=function(e,t,r,a){var s=$q(t,Array.isArray(e)?e:[e]);Eh[r]||(Eh[r]=new WeakMap);var i=Eh[r],l=[],u=new Set,d=new Set(s),f=function(h){!h||u.has(h)||(u.add(h),f(h.parentNode))};s.forEach(f);var m=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(g){if(u.has(g))m(g);else try{var j=g.getAttribute(a),w=j!==null&&j!=="false",b=(xl.get(g)||0)+1,v=(i.get(g)||0)+1;xl.set(g,b),i.set(g,v),l.push(g),b===1&&w&&Ch.set(g,!0),v===1&&g.setAttribute(r,"true"),w||g.setAttribute(a,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return m(t),u.clear(),vx++,function(){l.forEach(function(h){var g=xl.get(h)-1,j=i.get(h)-1;xl.set(h,g),i.set(h,j),g||(Ch.has(h)||h.removeAttribute(a),Ch.delete(h)),j||h.removeAttribute(r)}),vx--,vx||(xl=new WeakMap,xl=new WeakMap,Ch=new WeakMap,Eh={})}},bp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=Mq(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),Lq(a,s,r,"aria-hidden")):function(){return null}},Ya=function(){return Ya=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ya.apply(this,arguments)};function bD(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function Fq(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var Kh="right-scroll-bar-position",Yh="width-before-scroll-bar",Uq="with-scroll-bars-hidden",Bq="--removed-body-scroll-bar-size";function xx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zq(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=t,r.facade}var qq=typeof window<"u"?x.useLayoutEffect:x.useEffect,JE=new WeakMap;function Wq(e,t){var r=zq(null,function(a){return e.forEach(function(s){return xx(s,a)})});return qq(function(){var a=JE.get(r);if(a){var s=new Set(a),i=new Set(e),l=r.current;s.forEach(function(u){i.has(u)||xx(u,null)}),i.forEach(function(u){s.has(u)||xx(u,l)})}JE.set(r,e)},[e]),r}function Vq(e){return e}function Hq(e,t){t===void 0&&(t=Vq);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=t(i,a);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(a=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(u){return i(u)},filter:function(){return r}}},assignMedium:function(i){a=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(i),l=r}var d=function(){var m=l;l=[],m.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(m){l.push(m),f()},filter:function(m){return l=l.filter(m),r}}}};return s}function Gq(e){e===void 0&&(e={});var t=Hq(null);return t.options=Ya({async:!0,ssr:!1},e),t}var jD=function(e){var t=e.sideCar,r=bD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return x.createElement(a,Ya({},r))};jD.isSideCarExport=!0;function Kq(e,t){return e.useMedium(t),jD}var wD=Gq(),yx=function(){},jp=x.forwardRef(function(e,t){var r=x.useRef(null),a=x.useState({onScrollCapture:yx,onWheelCapture:yx,onTouchMoveCapture:yx}),s=a[0],i=a[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,h=e.shards,g=e.sideCar,j=e.noRelative,w=e.noIsolation,b=e.inert,v=e.allowPinchZoom,N=e.as,C=N===void 0?"div":N,S=e.gapMode,A=bD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=g,T=Wq([r,t]),k=Ya(Ya({},A),s);return x.createElement(x.Fragment,null,m&&x.createElement(_,{sideCar:wD,removeScrollBar:f,shards:h,noRelative:j,noIsolation:w,inert:b,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:S}),l?x.cloneElement(x.Children.only(u),Ya(Ya({},k),{ref:T})):x.createElement(C,Ya({},k,{className:d,ref:T}),u))});jp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jp.classNames={fullWidth:Yh,zeroRight:Kh};var Yq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Xq(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Yq();return t&&e.setAttribute("nonce",t),e}function Qq(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Zq(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Jq=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Xq())&&(Qq(t,r),Zq(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},eW=function(){var e=Jq();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ND=function(){var e=eW(),t=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return t},tW={left:0,top:0,right:0,gap:0},bx=function(e){return parseInt(e||"",10)||0},rW=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[bx(r),bx(a),bx(s)]},nW=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return tW;var t=rW(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},aW=ND(),Ll="data-scroll-locked",sW=function(e,t,r,a){var s=e.left,i=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Uq,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(u,"px ").concat(a,`;
  }
  body[`).concat(Ll,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kh,` {
    right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Yh,` {
    margin-right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Kh," .").concat(Kh,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Yh," .").concat(Yh,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Ll,`] {
    `).concat(Bq,": ").concat(u,`px;
  }
`)},e2=function(){var e=parseInt(document.body.getAttribute(Ll)||"0",10);return isFinite(e)?e:0},iW=function(){x.useEffect(function(){return document.body.setAttribute(Ll,(e2()+1).toString()),function(){var e=e2()-1;e<=0?document.body.removeAttribute(Ll):document.body.setAttribute(Ll,e.toString())}},[])},oW=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;iW();var i=x.useMemo(function(){return nW(s)},[s]);return x.createElement(aW,{styles:sW(i,!t,s,r?"":"!important")})},Zj=!1;if(typeof window<"u")try{var Th=Object.defineProperty({},"passive",{get:function(){return Zj=!0,!0}});window.addEventListener("test",Th,Th),window.removeEventListener("test",Th,Th)}catch{Zj=!1}var yl=Zj?{passive:!1}:!1,lW=function(e){return e.tagName==="TEXTAREA"},SD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!lW(e)&&r[t]==="visible")},cW=function(e){return SD(e,"overflowY")},uW=function(e){return SD(e,"overflowX")},t2=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=_D(e,a);if(s){var i=CD(e,a),l=i[1],u=i[2];if(l>u)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},dW=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},fW=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},_D=function(e,t){return e==="v"?cW(t):uW(t)},CD=function(e,t){return e==="v"?dW(t):fW(t)},hW=function(e,t){return e==="h"&&t==="rtl"?-1:1},mW=function(e,t,r,a,s){var i=hW(e,window.getComputedStyle(t).direction),l=i*a,u=r.target,d=t.contains(u),f=!1,m=l>0,h=0,g=0;do{if(!u)break;var j=CD(e,u),w=j[0],b=j[1],v=j[2],N=b-v-i*w;(w||N)&&_D(e,u)&&(h+=N,g+=w);var C=u.parentNode;u=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(m&&Math.abs(h)<1||!m&&Math.abs(g)<1)&&(f=!0),f},Ah=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},r2=function(e){return[e.deltaX,e.deltaY]},n2=function(e){return e&&"current"in e?e.current:e},pW=function(e,t){return e[0]===t[0]&&e[1]===t[1]},gW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vW=0,bl=[];function xW(e){var t=x.useRef([]),r=x.useRef([0,0]),a=x.useRef(),s=x.useState(vW++)[0],i=x.useState(ND)[0],l=x.useRef(e);x.useEffect(function(){l.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var b=Fq([e.lockRef.current],(e.shards||[]).map(n2),!0).filter(Boolean);return b.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=x.useCallback(function(b,v){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var N=Ah(b),C=r.current,S="deltaX"in b?b.deltaX:C[0]-N[0],A="deltaY"in b?b.deltaY:C[1]-N[1],_,T=b.target,k=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in b&&k==="h"&&T.type==="range")return!1;var D=t2(k,T);if(!D)return!0;if(D?_=k:(_=k==="v"?"h":"v",D=t2(k,T)),!D)return!1;if(!a.current&&"changedTouches"in b&&(S||A)&&(a.current=_),!_)return!0;var I=a.current||_;return mW(I,v,b,I==="h"?S:A)},[]),d=x.useCallback(function(b){var v=b;if(!(!bl.length||bl[bl.length-1]!==i)){var N="deltaY"in v?r2(v):Ah(v),C=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&pW(_.delta,N)})[0];if(C&&C.should){v.cancelable&&v.preventDefault();return}if(!C){var S=(l.current.shards||[]).map(n2).filter(Boolean).filter(function(_){return _.contains(v.target)}),A=S.length>0?u(v,S[0]):!l.current.noIsolation;A&&v.cancelable&&v.preventDefault()}}},[]),f=x.useCallback(function(b,v,N,C){var S={name:b,delta:v,target:N,should:C,shadowParent:yW(N)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(A){return A!==S})},1)},[]),m=x.useCallback(function(b){r.current=Ah(b),a.current=void 0},[]),h=x.useCallback(function(b){f(b.type,r2(b),b.target,u(b,e.lockRef.current))},[]),g=x.useCallback(function(b){f(b.type,Ah(b),b.target,u(b,e.lockRef.current))},[]);x.useEffect(function(){return bl.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",d,yl),document.addEventListener("touchmove",d,yl),document.addEventListener("touchstart",m,yl),function(){bl=bl.filter(function(b){return b!==i}),document.removeEventListener("wheel",d,yl),document.removeEventListener("touchmove",d,yl),document.removeEventListener("touchstart",m,yl)}},[]);var j=e.removeScrollBar,w=e.inert;return x.createElement(x.Fragment,null,w?x.createElement(i,{styles:gW(s)}):null,j?x.createElement(oW,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function yW(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const bW=Kq(wD,xW);var Xd=x.forwardRef(function(e,t){return x.createElement(jp,Ya({},e,{ref:t,sideCar:bW}))});Xd.classNames=jp.classNames;var Jj=["Enter"," "],jW=["ArrowDown","PageUp","Home"],ED=["ArrowUp","PageDown","End"],wW=[...jW,...ED],NW={ltr:[...Jj,"ArrowRight"],rtl:[...Jj,"ArrowLeft"]},SW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qd="Menu",[td,_W,CW]=D1(Qd),[Bo,TD]=kn(Qd,[CW,Ui,yp]),wp=Ui(),AD=yp(),[EW,zo]=Bo(Qd),[TW,Zd]=Bo(Qd),RD=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:s,onOpenChange:i,modal:l=!0}=e,u=wp(t),[d,f]=x.useState(null),m=x.useRef(!1),h=os(i),g=up(s);return x.useEffect(()=>{const j=()=>{m.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>m.current=!1;return document.addEventListener("keydown",j,{capture:!0}),()=>{document.removeEventListener("keydown",j,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),n.jsx(gp,{...u,children:n.jsx(EW,{scope:t,open:r,onOpenChange:h,content:d,onContentChange:f,children:n.jsx(TW,{scope:t,onClose:x.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:m,dir:g,modal:l,children:a})})})};RD.displayName=Qd;var AW="MenuAnchor",V1=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,s=wp(r);return n.jsx(Kd,{...s,...a,ref:t})});V1.displayName=AW;var H1="MenuPortal",[RW,kD]=Bo(H1,{forceMount:void 0}),ID=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:s}=e,i=zo(H1,t);return n.jsx(RW,{scope:t,forceMount:r,children:n.jsx(In,{present:r||i.open,children:n.jsx(Nc,{asChild:!0,container:s,children:a})})})};ID.displayName=H1;var ma="MenuContent",[kW,G1]=Bo(ma),PD=x.forwardRef((e,t)=>{const r=kD(ma,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=zo(ma,e.__scopeMenu),l=Zd(ma,e.__scopeMenu);return n.jsx(td.Provider,{scope:e.__scopeMenu,children:n.jsx(In,{present:a||i.open,children:n.jsx(td.Slot,{scope:e.__scopeMenu,children:l.modal?n.jsx(IW,{...s,ref:t}):n.jsx(PW,{...s,ref:t})})})})}),IW=x.forwardRef((e,t)=>{const r=zo(ma,e.__scopeMenu),a=x.useRef(null),s=Nt(t,a);return x.useEffect(()=>{const i=a.current;if(i)return bp(i)},[]),n.jsx(K1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ue(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),PW=x.forwardRef((e,t)=>{const r=zo(ma,e.__scopeMenu);return n.jsx(K1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),OW=Ii("MenuContent.ScrollLock"),K1=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:g,onDismiss:j,disableOutsideScroll:w,...b}=e,v=zo(ma,r),N=Zd(ma,r),C=wp(r),S=AD(r),A=_W(r),[_,T]=x.useState(null),k=x.useRef(null),D=Nt(t,k,v.onContentChange),I=x.useRef(0),B=x.useRef(""),z=x.useRef(0),H=x.useRef(null),W=x.useRef("right"),Z=x.useRef(0),$=w?Xd:x.Fragment,M=w?{as:OW,allowPinchZoom:!0}:void 0,P=K=>{const V=B.current+K,q=A().filter(G=>!G.disabled),F=document.activeElement,L=q.find(G=>G.ref.current===F)?.textValue,Y=q.map(G=>G.textValue),ee=HW(Y,V,L),ce=q.find(G=>G.textValue===ee)?.ref.current;(function G(fe){B.current=fe,window.clearTimeout(I.current),fe!==""&&(I.current=window.setTimeout(()=>G(""),1e3))})(V),ce&&setTimeout(()=>ce.focus())};x.useEffect(()=>()=>window.clearTimeout(I.current),[]),dp();const O=x.useCallback(K=>W.current===H.current?.side&&KW(K,H.current?.area),[]);return n.jsx(kW,{scope:r,searchRef:B,onItemEnter:x.useCallback(K=>{O(K)&&K.preventDefault()},[O]),onItemLeave:x.useCallback(K=>{O(K)||(k.current?.focus(),T(null))},[O]),onTriggerLeave:x.useCallback(K=>{O(K)&&K.preventDefault()},[O]),pointerGraceTimerRef:z,onPointerGraceIntentChange:x.useCallback(K=>{H.current=K},[]),children:n.jsx($,{...M,children:n.jsx(Hd,{asChild:!0,trapped:s,onMountAutoFocus:Ue(i,K=>{K.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:n.jsx(bc,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:g,onDismiss:j,children:n.jsx(vD,{asChild:!0,...S,dir:N.dir,orientation:"vertical",loop:a,currentTabStopId:_,onCurrentTabStopIdChange:T,onEntryFocus:Ue(d,K=>{N.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(vp,{role:"menu","aria-orientation":"vertical","data-state":YD(v.open),"data-radix-menu-content":"",dir:N.dir,...C,...b,ref:D,style:{outline:"none",...b.style},onKeyDown:Ue(b.onKeyDown,K=>{const q=K.target.closest("[data-radix-menu-content]")===K.currentTarget,F=K.ctrlKey||K.altKey||K.metaKey,L=K.key.length===1;q&&(K.key==="Tab"&&K.preventDefault(),!F&&L&&P(K.key));const Y=k.current;if(K.target!==Y||!wW.includes(K.key))return;K.preventDefault();const ce=A().filter(G=>!G.disabled).map(G=>G.ref.current);ED.includes(K.key)&&ce.reverse(),WW(ce)}),onBlur:Ue(e.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(I.current),B.current="")}),onPointerMove:Ue(e.onPointerMove,rd(K=>{const V=K.target,q=Z.current!==K.clientX;if(K.currentTarget.contains(V)&&q){const F=K.clientX>Z.current?"right":"left";W.current=F,Z.current=K.clientX}}))})})})})})})});PD.displayName=ma;var DW="MenuGroup",Y1=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(at.div,{role:"group",...a,ref:t})});Y1.displayName=DW;var MW="MenuLabel",OD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(at.div,{...a,ref:t})});OD.displayName=MW;var am="MenuItem",a2="menu.itemSelect",Np=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...s}=e,i=x.useRef(null),l=Zd(am,e.__scopeMenu),u=G1(am,e.__scopeMenu),d=Nt(t,i),f=x.useRef(!1),m=()=>{const h=i.current;if(!r&&h){const g=new CustomEvent(a2,{bubbles:!0,cancelable:!0});h.addEventListener(a2,j=>a?.(j),{once:!0}),IO(h,g),g.defaultPrevented?f.current=!1:l.onClose()}};return n.jsx(DD,{...s,ref:d,disabled:r,onClick:Ue(e.onClick,m),onPointerDown:h=>{e.onPointerDown?.(h),f.current=!0},onPointerUp:Ue(e.onPointerUp,h=>{f.current||h.currentTarget?.click()}),onKeyDown:Ue(e.onKeyDown,h=>{const g=u.searchRef.current!=="";r||g&&h.key===" "||Jj.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Np.displayName=am;var DD=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:s,...i}=e,l=G1(am,r),u=AD(r),d=x.useRef(null),f=Nt(t,d),[m,h]=x.useState(!1),[g,j]=x.useState("");return x.useEffect(()=>{const w=d.current;w&&j((w.textContent??"").trim())},[i.children]),n.jsx(td.ItemSlot,{scope:r,disabled:a,textValue:s??g,children:n.jsx(xD,{asChild:!0,...u,focusable:!a,children:n.jsx(at.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:f,onPointerMove:Ue(e.onPointerMove,rd(w=>{a?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ue(e.onPointerLeave,rd(w=>l.onItemLeave(w))),onFocus:Ue(e.onFocus,()=>h(!0)),onBlur:Ue(e.onBlur,()=>h(!1))})})})}),$W="MenuCheckboxItem",MD=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...s}=e;return n.jsx(BD,{scope:e.__scopeMenu,checked:r,children:n.jsx(Np,{role:"menuitemcheckbox","aria-checked":sm(r)?"mixed":r,...s,ref:t,"data-state":Q1(r),onSelect:Ue(s.onSelect,()=>a?.(sm(r)?!0:!r),{checkForDefaultPrevented:!1})})})});MD.displayName=$W;var $D="MenuRadioGroup",[LW,FW]=Bo($D,{value:void 0,onValueChange:()=>{}}),LD=x.forwardRef((e,t)=>{const{value:r,onValueChange:a,...s}=e,i=os(a);return n.jsx(LW,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(Y1,{...s,ref:t})})});LD.displayName=$D;var FD="MenuRadioItem",UD=x.forwardRef((e,t)=>{const{value:r,...a}=e,s=FW(FD,e.__scopeMenu),i=r===s.value;return n.jsx(BD,{scope:e.__scopeMenu,checked:i,children:n.jsx(Np,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":Q1(i),onSelect:Ue(a.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});UD.displayName=FD;var X1="MenuItemIndicator",[BD,UW]=Bo(X1,{checked:!1}),zD=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...s}=e,i=UW(X1,r);return n.jsx(In,{present:a||sm(i.checked)||i.checked===!0,children:n.jsx(at.span,{...s,ref:t,"data-state":Q1(i.checked)})})});zD.displayName=X1;var BW="MenuSeparator",qD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(at.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});qD.displayName=BW;var zW="MenuArrow",WD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,s=wp(r);return n.jsx(xp,{...s,...a,ref:t})});WD.displayName=zW;var qW="MenuSub",[cpe,VD]=Bo(qW),Mu="MenuSubTrigger",HD=x.forwardRef((e,t)=>{const r=zo(Mu,e.__scopeMenu),a=Zd(Mu,e.__scopeMenu),s=VD(Mu,e.__scopeMenu),i=G1(Mu,e.__scopeMenu),l=x.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=i,f={__scopeMenu:e.__scopeMenu},m=x.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return x.useEffect(()=>m,[m]),x.useEffect(()=>{const h=u.current;return()=>{window.clearTimeout(h),d(null)}},[u,d]),n.jsx(V1,{asChild:!0,...f,children:n.jsx(DD,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":YD(r.open),...e,ref:Ms(t,s.onTriggerChange),onClick:h=>{e.onClick?.(h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ue(e.onPointerMove,rd(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:Ue(e.onPointerLeave,rd(h=>{m();const g=r.content?.getBoundingClientRect();if(g){const j=r.content?.dataset.side,w=j==="right",b=w?-5:5,v=g[w?"left":"right"],N=g[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:v,y:g.top},{x:N,y:g.top},{x:N,y:g.bottom},{x:v,y:g.bottom}],side:j}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ue(e.onKeyDown,h=>{const g=i.searchRef.current!=="";e.disabled||g&&h.key===" "||NW[a.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});HD.displayName=Mu;var GD="MenuSubContent",KD=x.forwardRef((e,t)=>{const r=kD(ma,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=zo(ma,e.__scopeMenu),l=Zd(ma,e.__scopeMenu),u=VD(GD,e.__scopeMenu),d=x.useRef(null),f=Nt(t,d);return n.jsx(td.Provider,{scope:e.__scopeMenu,children:n.jsx(In,{present:a||i.open,children:n.jsx(td.Slot,{scope:e.__scopeMenu,children:n.jsx(K1,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{l.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Ue(e.onFocusOutside,m=>{m.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ue(e.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:Ue(e.onKeyDown,m=>{const h=m.currentTarget.contains(m.target),g=SW[l.dir].includes(m.key);h&&g&&(i.onOpenChange(!1),u.trigger?.focus(),m.preventDefault())})})})})})});KD.displayName=GD;function YD(e){return e?"open":"closed"}function sm(e){return e==="indeterminate"}function Q1(e){return sm(e)?"indeterminate":e?"checked":"unchecked"}function WW(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function VW(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function HW(e,t,r){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let l=VW(e,Math.max(i,0));s.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function GW(e,t){const{x:r,y:a}=e;let s=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const u=t[i],d=t[l],f=u.x,m=u.y,h=d.x,g=d.y;m>a!=g>a&&r<(h-f)*(a-m)/(g-m)+f&&(s=!s)}return s}function KW(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return GW(r,t)}function rd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var YW=RD,XW=V1,QW=ID,ZW=PD,JW=Y1,eV=OD,tV=Np,rV=MD,nV=LD,aV=UD,sV=zD,iV=qD,oV=WD,lV=HD,cV=KD,Sp="DropdownMenu",[uV,upe]=kn(Sp,[TD]),bn=TD(),[dV,XD]=uV(Sp),QD=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=e,d=bn(t),f=x.useRef(null),[m,h]=is({prop:s,defaultProp:i??!1,onChange:l,caller:Sp});return n.jsx(dV,{scope:t,triggerId:Br(),triggerRef:f,contentId:Br(),open:m,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(g=>!g),[h]),modal:u,children:n.jsx(YW,{...d,open:m,onOpenChange:h,dir:a,modal:u,children:r})})};QD.displayName=Sp;var ZD="DropdownMenuTrigger",JD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...s}=e,i=XD(ZD,r),l=bn(r);return n.jsx(XW,{asChild:!0,...l,children:n.jsx(at.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:Ms(t,i.triggerRef),onPointerDown:Ue(e.onPointerDown,u=>{!a&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:Ue(e.onKeyDown,u=>{a||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});JD.displayName=ZD;var fV="DropdownMenuPortal",eM=e=>{const{__scopeDropdownMenu:t,...r}=e,a=bn(t);return n.jsx(QW,{...a,...r})};eM.displayName=fV;var tM="DropdownMenuContent",rM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=XD(tM,r),i=bn(r),l=x.useRef(!1);return n.jsx(ZW,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:t,onCloseAutoFocus:Ue(e.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Ue(e.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;(!s.modal||m)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rM.displayName=tM;var hV="DropdownMenuGroup",mV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=bn(r);return n.jsx(JW,{...s,...a,ref:t})});mV.displayName=hV;var pV="DropdownMenuLabel",gV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=bn(r);return n.jsx(eV,{...s,...a,ref:t})});gV.displayName=pV;var vV="DropdownMenuItem",nM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=bn(r);return n.jsx(tV,{...s,...a,ref:t})});nM.displayName=vV;var xV="DropdownMenuCheckboxItem",yV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=bn(r);return n.jsx(rV,{...s,...a,ref:t})});yV.displayName=xV;var bV="DropdownMenuRadioGroup",jV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=bn(r);return n.jsx(nV,{...s,...a,ref:t})});jV.displayName=bV;var wV="DropdownMenuRadioItem",NV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=bn(r);return n.jsx(aV,{...s,...a,ref:t})});NV.displayName=wV;var SV="DropdownMenuItemIndicator",_V=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=bn(r);return n.jsx(sV,{...s,...a,ref:t})});_V.displayName=SV;var CV="DropdownMenuSeparator",EV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=bn(r);return n.jsx(iV,{...s,...a,ref:t})});EV.displayName=CV;var TV="DropdownMenuArrow",AV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=bn(r);return n.jsx(oV,{...s,...a,ref:t})});AV.displayName=TV;var RV="DropdownMenuSubTrigger",kV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=bn(r);return n.jsx(lV,{...s,...a,ref:t})});kV.displayName=RV;var IV="DropdownMenuSubContent",PV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=bn(r);return n.jsx(cV,{...s,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PV.displayName=IV;var OV=QD,DV=JD,MV=eM,$V=rM,LV=nM;function ew({...e}){return n.jsx(OV,{"data-slot":"dropdown-menu",...e})}function tw({...e}){return n.jsx(DV,{"data-slot":"dropdown-menu-trigger",...e})}function rw({className:e,sideOffset:t=4,...r}){return n.jsx(MV,{children:n.jsx($V,{"data-slot":"dropdown-menu-content",sideOffset:t,className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function xo({className:e,inset:t,variant:r="default",...a}){return n.jsx(LV,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:We("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}const jx={executor:"",registrar:"",sub_registrar:"-",distributor:"",treasurer:"",admin:""},s2={executor:"bg-blue-100 text-blue-800",registrar:"bg-green-100 text-green-800",sub_registrar:"bg-emerald-100 text-emerald-800",distributor:"bg-purple-100 text-purple-800",treasurer:"bg-orange-100 text-orange-800",admin:"bg-red-100 text-red-800"};function FV({currentRole:e,onRoleChange:t,userName:r,onLogout:a}){const[s]=x.useState(3);return n.jsx("header",{className:"border-b bg-white px-4 py-3 md:px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"text-xl font-medium",children:""}),n.jsx(je,{className:`${s2[e]} border-0`,children:jx[e]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(ew,{children:[n.jsx(tw,{asChild:!0,children:n.jsxs(X,{variant:"outline",size:"sm",className:"gap-2",children:[" ",n.jsx(Ka,{className:"h-4 w-4"})]})}),n.jsx(rw,{align:"end",children:Object.keys(jx).map(i=>n.jsx(xo,{onClick:()=>t(i),className:e===i?"bg-accent":"",children:n.jsx(je,{className:`${s2[i]} border-0 mr-2`,variant:"secondary",children:jx[i]})},i))})]}),n.jsxs(X,{variant:"ghost",size:"sm",className:"relative",children:[n.jsx(MO,{className:"h-4 w-4"}),s>0&&n.jsx(je,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-red-500 text-white",children:s})]}),n.jsxs(ew,{children:[n.jsx(tw,{asChild:!0,children:n.jsxs(X,{variant:"ghost",size:"sm",className:"gap-2",children:[n.jsx(Ao,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden md:inline",children:r}),n.jsx(Ka,{className:"h-4 w-4"})]})}),n.jsxs(rw,{align:"end",children:[n.jsxs(xo,{children:[n.jsx(Vd,{className:"h-4 w-4 mr-2"}),""]}),n.jsx(xo,{onClick:a,children:""})]})]})]})]})})}function UV(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const BV=e=>{switch(e){case"success":return WV;case"info":return HV;case"warning":return VV;case"error":return GV;default:return null}},zV=Array(12).fill(0),qV=({visible:e,className:t})=>Q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Q.createElement("div",{className:"sonner-spinner"},zV.map((r,a)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),WV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),VV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),GV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),KV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),YV=()=>{const[e,t]=Q.useState(document.hidden);return Q.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let nw=1;class XV{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:a,...s}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:nw++,l=this.toasts.find(d=>d.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:a}),{...d,...t,id:i,dismissible:u,title:a}):d):this.addToast({title:a,...s,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(a=>a({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let a;r.loading!==void 0&&(a=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=a!==void 0,l;const u=s.then(async f=>{if(l=["resolve",f],Q.isValidElement(f))i=!1,this.create({id:a,type:"default",message:f});else if(ZV(f)&&!f.ok){i=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,w=typeof h=="object"&&!Q.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:g,...w})}else if(f instanceof Error){i=!1;const h=typeof r.error=="function"?await r.error(f):r.error,g=typeof r.description=="function"?await r.description(f):r.description,w=typeof h=="object"&&!Q.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:g,...w})}else if(r.success!==void 0){i=!1;const h=typeof r.success=="function"?await r.success(f):r.success,g=typeof r.description=="function"?await r.description(f):r.description,w=typeof h=="object"&&!Q.isValidElement(h)?h:{message:h};this.create({id:a,type:"success",description:g,...w})}}).catch(async f=>{if(l=["reject",f],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(f):r.error,h=typeof r.description=="function"?await r.description(f):r.description,j=typeof m=="object"&&!Q.isValidElement(m)?m:{message:m};this.create({id:a,type:"error",description:h,...j})}}).finally(()=>{i&&(this.dismiss(a),a=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,m)=>u.then(()=>l[0]==="reject"?m(l[1]):f(l[1])).catch(m));return typeof a!="string"&&typeof a!="number"?{unwrap:d}:Object.assign(a,{unwrap:d})},this.custom=(t,r)=>{const a=r?.id||nw++;return this.create({jsx:t(a),id:a,...r}),a},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const An=new XV,QV=(e,t)=>{const r=t?.id||nw++;return An.addToast({title:e,...t,id:r}),r},ZV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",JV=QV,e7=()=>An.toasts,t7=()=>An.getActiveToasts(),we=Object.assign(JV,{success:An.success,info:An.info,warning:An.warning,error:An.error,custom:An.custom,message:An.message,promise:An.promise,dismiss:An.dismiss,loading:An.loading},{getHistory:e7,getToasts:t7});UV("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Rh(e){return e.label!==void 0}const r7=3,n7="24px",a7="16px",i2=4e3,s7=356,i7=14,o7=45,l7=200;function Va(...e){return e.filter(Boolean).join(" ")}function c7(e){const[t,r]=e.split("-"),a=[];return t&&a.push(t),r&&a.push(r),a}const u7=e=>{var t,r,a,s,i,l,u,d,f;const{invert:m,toast:h,unstyled:g,interacting:j,setHeights:w,visibleToasts:b,heights:v,index:N,toasts:C,expanded:S,removeToast:A,defaultRichColors:_,closeButton:T,style:k,cancelButtonStyle:D,actionButtonStyle:I,className:B="",descriptionClassName:z="",duration:H,position:W,gap:Z,expandByDefault:$,classNames:M,icons:P,closeButtonAriaLabel:O="Close toast"}=e,[K,V]=Q.useState(null),[q,F]=Q.useState(null),[L,Y]=Q.useState(!1),[ee,ce]=Q.useState(!1),[G,fe]=Q.useState(!1),[oe,Ee]=Q.useState(!1),[Oe,re]=Q.useState(!1),[le,ge]=Q.useState(0),[Le,Xe]=Q.useState(0),ot=Q.useRef(h.duration||H||i2),wt=Q.useRef(null),te=Q.useRef(null),se=N===0,Be=N+1<=b,gt=h.type,or=h.dismissible!==!1,On=h.className||"",ye=h.descriptionClassName||"",st=Q.useMemo(()=>v.findIndex(vt=>vt.toastId===h.id)||0,[v,h.id]),Tr=Q.useMemo(()=>{var vt;return(vt=h.closeButton)!=null?vt:T},[h.closeButton,T]),Dn=Q.useMemo(()=>h.duration||H||i2,[h.duration,H]),Gs=Q.useRef(0),jn=Q.useRef(0),Fa=Q.useRef(0),Jn=Q.useRef(null),[Ko,de]=W.split("-"),Fe=Q.useMemo(()=>v.reduce((vt,lr,xr)=>xr>=st?vt:vt+lr.height,0),[v,st]),dr=YV(),hs=h.invert||m,Xi=gt==="loading";jn.current=Q.useMemo(()=>st*Z+Fe,[st,Fe]),Q.useEffect(()=>{ot.current=Dn},[Dn]),Q.useEffect(()=>{Y(!0)},[]),Q.useEffect(()=>{const vt=te.current;if(vt){const lr=vt.getBoundingClientRect().height;return Xe(lr),w(xr=>[{toastId:h.id,height:lr,position:h.position},...xr]),()=>w(xr=>xr.filter(Qr=>Qr.toastId!==h.id))}},[w,h.id]),Q.useLayoutEffect(()=>{if(!L)return;const vt=te.current,lr=vt.style.height;vt.style.height="auto";const xr=vt.getBoundingClientRect().height;vt.style.height=lr,Xe(xr),w(Qr=>Qr.find(fr=>fr.toastId===h.id)?Qr.map(fr=>fr.toastId===h.id?{...fr,height:xr}:fr):[{toastId:h.id,height:xr,position:h.position},...Qr])},[L,h.title,h.description,w,h.id,h.jsx,h.action,h.cancel]);const ea=Q.useCallback(()=>{ce(!0),ge(jn.current),w(vt=>vt.filter(lr=>lr.toastId!==h.id)),setTimeout(()=>{A(h)},l7)},[h,A,w,jn]);Q.useEffect(()=>{if(h.promise&&gt==="loading"||h.duration===1/0||h.type==="loading")return;let vt;return S||j||dr?(()=>{if(Fa.current<Gs.current){const Qr=new Date().getTime()-Gs.current;ot.current=ot.current-Qr}Fa.current=new Date().getTime()})():(()=>{ot.current!==1/0&&(Gs.current=new Date().getTime(),vt=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),ea()},ot.current))})(),()=>clearTimeout(vt)},[S,j,h,gt,dr,ea]),Q.useEffect(()=>{h.delete&&(ea(),h.onDismiss==null||h.onDismiss.call(h,h))},[ea,h.delete]);function Dc(){var vt;if(P?.loading){var lr;return Q.createElement("div",{className:Va(M?.loader,h==null||(lr=h.classNames)==null?void 0:lr.loader,"sonner-loader"),"data-visible":gt==="loading"},P.loading)}return Q.createElement(qV,{className:Va(M?.loader,h==null||(vt=h.classNames)==null?void 0:vt.loader),visible:gt==="loading"})}const Ks=h.icon||P?.[gt]||BV(gt);var ms,Mc;return Q.createElement("li",{tabIndex:0,ref:te,className:Va(B,On,M?.toast,h==null||(t=h.classNames)==null?void 0:t.toast,M?.default,M?.[gt],h==null||(r=h.classNames)==null?void 0:r[gt]),"data-sonner-toast":"","data-rich-colors":(ms=h.richColors)!=null?ms:_,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":L,"data-promise":!!h.promise,"data-swiped":Oe,"data-removed":ee,"data-visible":Be,"data-y-position":Ko,"data-x-position":de,"data-index":N,"data-front":se,"data-swiping":G,"data-dismissible":or,"data-type":gt,"data-invert":hs,"data-swipe-out":oe,"data-swipe-direction":q,"data-expanded":!!(S||$&&L),"data-testid":h.testId,style:{"--index":N,"--toasts-before":N,"--z-index":C.length-N,"--offset":`${ee?le:jn.current}px`,"--initial-height":$?"auto":`${Le}px`,...k,...h.style},onDragEnd:()=>{fe(!1),V(null),Jn.current=null},onPointerDown:vt=>{vt.button!==2&&(Xi||!or||(wt.current=new Date,ge(jn.current),vt.target.setPointerCapture(vt.pointerId),vt.target.tagName!=="BUTTON"&&(fe(!0),Jn.current={x:vt.clientX,y:vt.clientY})))},onPointerUp:()=>{var vt,lr,xr;if(oe||!or)return;Jn.current=null;const Qr=Number(((vt=te.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ys=Number(((lr=te.current)==null?void 0:lr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),fr=new Date().getTime()-((xr=wt.current)==null?void 0:xr.getTime()),Ar=K==="x"?Qr:Ys,Xs=Math.abs(Ar)/fr;if(Math.abs(Ar)>=o7||Xs>.11){ge(jn.current),h.onDismiss==null||h.onDismiss.call(h,h),F(K==="x"?Qr>0?"right":"left":Ys>0?"down":"up"),ea(),Ee(!0);return}else{var qr,Mn;(qr=te.current)==null||qr.style.setProperty("--swipe-amount-x","0px"),(Mn=te.current)==null||Mn.style.setProperty("--swipe-amount-y","0px")}re(!1),fe(!1),V(null)},onPointerMove:vt=>{var lr,xr,Qr;if(!Jn.current||!or||((lr=window.getSelection())==null?void 0:lr.toString().length)>0)return;const fr=vt.clientY-Jn.current.y,Ar=vt.clientX-Jn.current.x;var Xs;const qr=(Xs=e.swipeDirections)!=null?Xs:c7(W);!K&&(Math.abs(Ar)>1||Math.abs(fr)>1)&&V(Math.abs(Ar)>Math.abs(fr)?"x":"y");let Mn={x:0,y:0};const Qs=ta=>1/(1.5+Math.abs(ta)/20);if(K==="y"){if(qr.includes("top")||qr.includes("bottom"))if(qr.includes("top")&&fr<0||qr.includes("bottom")&&fr>0)Mn.y=fr;else{const ta=fr*Qs(fr);Mn.y=Math.abs(ta)<Math.abs(fr)?ta:fr}}else if(K==="x"&&(qr.includes("left")||qr.includes("right")))if(qr.includes("left")&&Ar<0||qr.includes("right")&&Ar>0)Mn.x=Ar;else{const ta=Ar*Qs(Ar);Mn.x=Math.abs(ta)<Math.abs(Ar)?ta:Ar}(Math.abs(Mn.x)>0||Math.abs(Mn.y)>0)&&re(!0),(xr=te.current)==null||xr.style.setProperty("--swipe-amount-x",`${Mn.x}px`),(Qr=te.current)==null||Qr.style.setProperty("--swipe-amount-y",`${Mn.y}px`)}},Tr&&!h.jsx&&gt!=="loading"?Q.createElement("button",{"aria-label":O,"data-disabled":Xi,"data-close-button":!0,onClick:Xi||!or?()=>{}:()=>{ea(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Va(M?.closeButton,h==null||(a=h.classNames)==null?void 0:a.closeButton)},(Mc=P?.close)!=null?Mc:KV):null,(gt||h.icon||h.promise)&&h.icon!==null&&(P?.[gt]!==null||h.icon)?Q.createElement("div",{"data-icon":"",className:Va(M?.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Dc():null,h.type!=="loading"?Ks:null):null,Q.createElement("div",{"data-content":"",className:Va(M?.content,h==null||(i=h.classNames)==null?void 0:i.content)},Q.createElement("div",{"data-title":"",className:Va(M?.title,h==null||(l=h.classNames)==null?void 0:l.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?Q.createElement("div",{"data-description":"",className:Va(z,ye,M?.description,h==null||(u=h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),Q.isValidElement(h.cancel)?h.cancel:h.cancel&&Rh(h.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||D,onClick:vt=>{Rh(h.cancel)&&or&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,vt),ea())},className:Va(M?.cancelButton,h==null||(d=h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,Q.isValidElement(h.action)?h.action:h.action&&Rh(h.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||I,onClick:vt=>{Rh(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,vt),!vt.defaultPrevented&&ea())},className:Va(M?.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function o2(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function d7(e,t){const r={};return[e,t].forEach((a,s)=>{const i=s===1,l=i?"--mobile-offset":"--offset",u=i?a7:n7;function d(f){["top","right","bottom","left"].forEach(m=>{r[`${l}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof a=="number"||typeof a=="string"?d(a):typeof a=="object"?["top","right","bottom","left"].forEach(f=>{a[f]===void 0?r[`${l}-${f}`]=u:r[`${l}-${f}`]=typeof a[f]=="number"?`${a[f]}px`:a[f]}):d(u)}),r}const f7=Q.forwardRef(function(t,r){const{id:a,invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:d,className:f,offset:m,mobileOffset:h,theme:g="light",richColors:j,duration:w,style:b,visibleToasts:v=r7,toastOptions:N,dir:C=o2(),gap:S=i7,icons:A,containerAriaLabel:_="Notifications"}=t,[T,k]=Q.useState([]),D=Q.useMemo(()=>a?T.filter(L=>L.toasterId===a):T.filter(L=>!L.toasterId),[T,a]),I=Q.useMemo(()=>Array.from(new Set([i].concat(D.filter(L=>L.position).map(L=>L.position)))),[D,i]),[B,z]=Q.useState([]),[H,W]=Q.useState(!1),[Z,$]=Q.useState(!1),[M,P]=Q.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=Q.useRef(null),K=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=Q.useRef(null),q=Q.useRef(!1),F=Q.useCallback(L=>{k(Y=>{var ee;return(ee=Y.find(ce=>ce.id===L.id))!=null&&ee.delete||An.dismiss(L.id),Y.filter(({id:ce})=>ce!==L.id)})},[]);return Q.useEffect(()=>An.subscribe(L=>{if(L.dismiss){requestAnimationFrame(()=>{k(Y=>Y.map(ee=>ee.id===L.id?{...ee,delete:!0}:ee))});return}setTimeout(()=>{kO.flushSync(()=>{k(Y=>{const ee=Y.findIndex(ce=>ce.id===L.id);return ee!==-1?[...Y.slice(0,ee),{...Y[ee],...L},...Y.slice(ee+1)]:[L,...Y]})})})}),[T]),Q.useEffect(()=>{if(g!=="system"){P(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),typeof window>"u")return;const L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:Y})=>{P(Y?"dark":"light")})}catch{L.addListener(({matches:ee})=>{try{P(ee?"dark":"light")}catch(ce){console.error(ce)}})}},[g]),Q.useEffect(()=>{T.length<=1&&W(!1)},[T]),Q.useEffect(()=>{const L=Y=>{var ee;if(l.every(fe=>Y[fe]||Y.code===fe)){var G;W(!0),(G=O.current)==null||G.focus()}Y.code==="Escape"&&(document.activeElement===O.current||(ee=O.current)!=null&&ee.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[l]),Q.useEffect(()=>{if(O.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,q.current=!1)}},[O.current]),Q.createElement("section",{ref:r,"aria-label":`${_} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((L,Y)=>{var ee;const[ce,G]=L.split("-");return D.length?Q.createElement("ol",{key:L,dir:C==="auto"?o2():C,tabIndex:-1,ref:O,className:f,"data-sonner-toaster":!0,"data-sonner-theme":M,"data-y-position":ce,"data-x-position":G,style:{"--front-toast-height":`${((ee=B[0])==null?void 0:ee.height)||0}px`,"--width":`${s7}px`,"--gap":`${S}px`,...b,...d7(m,h)},onBlur:fe=>{q.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(q.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||q.current||(q.current=!0,V.current=fe.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{Z||W(!1)},onDragEnd:()=>W(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},D.filter(fe=>!fe.position&&Y===0||fe.position===L).map((fe,oe)=>{var Ee,Oe;return Q.createElement(u7,{key:fe.id,icons:A,index:oe,toast:fe,defaultRichColors:j,duration:(Ee=N?.duration)!=null?Ee:w,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:s,visibleToasts:v,closeButton:(Oe=N?.closeButton)!=null?Oe:d,interacting:Z,position:L,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:F,toasts:D.filter(re=>re.position==fe.position),heights:B.filter(re=>re.position==fe.position),setHeights:z,expandByDefault:u,gap:S,expanded:H,swipeDirections:t.swipeDirections})})):null}))}),Ei={DRAFT:"draft",SUBMITTED:"submitted",REGISTERED:"classified",APPROVED:"approved",APPROVED_ON_BEHALF:"approved-on-behalf",TO_PAY:"to-pay",IN_REGISTRY:"in-register",APPROVED_FOR_PAYMENT:"approved-for-payment",PAID_FULL:"paid-full",PAID_PARTIAL:"paid-partial",REJECTED:"rejected",DECLINED:"declined",RETURNED:"returned",CANCELLED:"cancelled"},aM=e=>Ei[e]||e.toLowerCase(),wx=e=>({draft:"",submitted:" ",classified:"",approved:"","approved-on-behalf":"  ","to-pay":" ","in-register":" ","approved-for-payment":"  ","paid-full":" ","paid-partial":" ",rejected:"",declined:"",returned:"",cancelled:""})[e]||"",Ha=e=>{let t=e.vat_rate;if(!t&&e.lines&&e.lines.length>0){const r=e.lines[0];r.vat_rate_id&&(t=r.vat_rate_id)}return{id:e.id,requestNumber:e.number,createdAt:e.created_at||"",updatedAt:e.updated_at,dueDate:e.due_date,counterpartyId:e.counterparty_id,counterpartyCategory:e.counterparty_category,payingCompany:e.paying_company,amount:e.amount_total,currency:e.currency_code,vatRate:t,docNumber:e.doc_number,docDate:e.doc_date,docType:e.doc_type,docFileUrl:e.files?.[0]?.url,fileName:e.files?.[0]?.name,files:e.files||[],description:e.title,expenseCategory:e.expense_article_text,productService:e.product_service,volume:e.volume,priceRate:e.price_rate,period:e.period,status:aM(e.status),history:[],createdBy:e.created_by_user_id,expenseSplits:[],paymentAllocations:[],paymentExecution:void 0,attachments:e.files||[]}},h7=e=>({id:e.id,requestNumber:e.number,createdAt:e.created_at||"",updatedAt:e.updated_at,dueDate:e.due_date,counterpartyId:e.counterparty_id,counterpartyCategory:e.counterparty_category,payingCompany:e.paying_company,amount:e.amount_total,currency:e.currency_code,vatRate:e.vat_rate,docNumber:e.doc_number,docDate:e.doc_date,docType:e.doc_type,docFileUrl:e.files?.[0]?.url,fileName:e.files?.[0]?.name,files:e.files||[],description:e.title,expenseCategory:e.expense_article_text,productService:e.product_service,volume:e.volume,priceRate:e.price_rate,period:e.period,status:aM(e.status),history:[],createdBy:e.created_by_user_id,expenseSplits:[],paymentAllocations:[],paymentExecution:void 0,attachments:e.files||[]}),aw=e=>({totalRequests:e.total_requests,draftCount:e.draft,submittedCount:e.submitted,classifiedCount:e.classified,approvedCount:e.approved,inRegistryCount:e.in_registry,paidFullCount:e.paid_full,paidPartialCount:e.paid_partial,rejectedCount:e.rejected,totalAmount:e.total_amount,totalVat:e.total_vat}),m7=e=>({id:e.id,requestId:e.request_id,eventType:e.event_type,createdAt:e.created_at,createdByUserId:e.created_by_user_id,comment:e.comment,data:e.data}),p7=e=>e.map(h7);class it{static async getAll(t){const r=new URLSearchParams;t?.status&&r.append("status",t.status),t?.role&&r.append("role",t.role),t?.dateFrom&&r.append("dateFrom",t.dateFrom),t?.dateTo&&r.append("dateTo",t.dateTo),t?.responsibleRegistrarId&&r.append("responsible_registrar_id",t.responsibleRegistrarId);const a=`${Ze.endpoints.getPaymentRequests}?${r}`,s=await Me.get(a);try{return p7(s)}catch(i){return console.error("Error normalizing data:",i),console.error("Backend response:",s),[]}}static async getById(t){const r=Ze.endpoints.getPaymentRequest.replace(":id",t),a=await Me.get(r);return Ha(a)}static async create(t){if(t.status==="draft"&&(!t.counterpartyId||!t.dueDate))throw new Error("Cannot create draft without required fields (counterpartyId and dueDate)");const r=await this.mapFrontendToBackend(t),a=await Me.post(Ze.endpoints.createPaymentRequest,r);return Ha(a)}static async update(t,r){const a=await this.mapFrontendToBackend(r),s=Ze.endpoints.updatePaymentRequest.replace(":id",t),i=await Me.put(s,a);return Ha(i)}static async submit(t,r){const a=Ze.endpoints.submitRequest.replace(":id",t),s=await Me.post(a,{comment:r});return Ha(s)}static async classify(t,r,a){const s=Ze.endpoints.classifyRequest.replace(":id",t),i=r.map(u=>({article_id:u.expenseItemId,amount:u.amount,comment:u.comment||null})),l=await Me.post(s,{comment:a||null,expense_splits:i});return Ha(l)}static async approve(t,r,a,s){const i=Ze.endpoints.approveRequest.replace(":id",t),l=await Me.post(i,{comment:s});return Ha(l)}static async updateStatus(t,r,a){const s=Ze.endpoints.updatePaymentRequest.replace(":id",t);return Me.patch(s,{status:r,executionData:a})}static async addToRegistry(t,r){const a=Ze.endpoints.addToRegistry.replace(":id",t),s=await Me.post(a,{comment:r});return Ha(s)}static async returnRequest(t,r){const a=Ze.endpoints.rejectRequest.replace(":id",t),s=await Me.post(a,{comment:r});return Ha(s)}static async sendToDistributor(t,r,a){const s=Ze.endpoints.sendToDistributor.replace(":id",t),i=r.map(u=>({article_id:u.expenseItemId,amount:u.amount,comment:u.comment||null})),l=await Me.post(s,{comment:a||null,expense_splits:i});return Ha(l)}static async distributorAction(t,r,a,s,i){const l=Ze.endpoints.distributorAction.replace(":id",t),u=await Me.post(l,{action:r,comment:a,allocations:s||[],priority:i});return Ha(u)}static getStatusActionLabel(t){switch(t){case"in-register":return"    ";case"approved-for-payment":return"  ";case"paid-full":return" ";case"paid-partial":return" ";case"declined":return"";case"cancelled":return"";default:return" "}}static async getExecutorPositionId(){try{return(await Me.get("/api/v1/positions")).find(a=>a.title==="")?.id||"27a48e7e-0e8b-4124-95b1-a37e6ae2bbb6"}catch(t){return console.warn("Failed to fetch positions, using fallback ID. This is expected if positions endpoint requires authentication:",t),"27a48e7e-0e8b-4124-95b1-a37e6ae2bbb6"}}static async getDefaultVatRateId(){try{return(await Me.get("/api/v1/dictionaries/vat-rates")).find(a=>a.rate===0)?.id||"55689349-dfc3-42ce-8f86-e473e2e00477"}catch(t){return console.warn("Failed to fetch VAT rates, using fallback ID:",t),"55689349-dfc3-42ce-8f86-e473e2e00477"}}static async mapFrontendToBackend(t){const r=Number(t.amount)||0;if(t.status!=="draft"&&r<=0)throw new Error("Amount must be greater than 0");const a=[t.expenseCategory&&` : ${t.expenseCategory}`,t.productService&&`/: ${t.productService}`,t.volume&&`: ${t.volume}`,t.priceRate&&`/: ${t.priceRate}`,t.period&&`: ${t.period}`].filter(Boolean).join(", "),[s,i]=await Promise.all([this.getExecutorPositionId(),this.getDefaultVatRateId()]),l=[];if((t.amount!==void 0&&t.amount!==null&&r>0||t.status==="draft")&&l.push({executor_position_id:s,quantity:1,amount_net:r||0,vat_rate_id:i,currency_code:t.currency||"KZT",note:a||" "}),t.status!=="draft"){if(!t.counterpartyId)throw new Error("Counterparty ID is required");if(!t.currency)throw new Error("Currency is required");if(!t.dueDate)throw new Error("Due date is required")}const u={title:a||" ",currency_code:t.currency||"KZT",files:t.files||[],lines:l,counterparty_id:t.counterpartyId,due_date:t.dueDate,amount_total:r,vat_total:0};return t.requestNumber&&(u.number=t.requestNumber),t.expenseCategory&&(u.expense_article_text=t.expenseCategory),t.docNumber&&(u.doc_number=t.docNumber),t.docDate&&(u.doc_date=t.docDate),t.docType&&(u.doc_type=t.docType),t.payingCompany&&(u.paying_company=t.payingCompany),t.counterpartyCategory&&(u.counterparty_category=t.counterpartyCategory),t.vatRate&&(u.vat_rate=t.vatRate),t.productService&&(u.product_service=t.productService),t.volume&&(u.volume=t.volume),t.priceRate&&(u.price_rate=t.priceRate),t.period&&(u.period=t.period),u}static async getStatistics(t,r){const a=new URLSearchParams;t&&a.append("role",t),r&&a.append("user_id",r);const s=`${Ze.endpoints.getRequestStatistics}?${a}`,i=await Me.get(s);return aw(i)}static async getDashboardMetrics(t,r){const a=new URLSearchParams;a.append("role",t),r&&a.append("user_id",r);const s=`${Ze.endpoints.getDashboardMetrics}?${a}`,i=await Me.get(s);return aw(i)}static async getRequestEvents(t){const r=Ze.endpoints.getRequestEvents.replace(":id",t);return Me.get(r)}}class kl{static async getCounterparties(){return Me.get(Ze.endpoints.getCounterparties)}static async getContracts(){return Me.get(Ze.endpoints.getCounterparties)}static async getExpenseItems(){return Me.get(Ze.endpoints.getExpenseArticles)}static async getPriorities(){return Me.get(Ze.endpoints.getPriorities)}static async getNormatives(){return Me.get(Ze.endpoints.getCounterparties)}static async getCurrencies(){return Me.get(Ze.endpoints.getCurrencies)}static async getVatRates(){return Me.get(Ze.endpoints.getVatRates)}}class g7{static async getAll(){return Me.get(Ze.endpoints.getPaymentRegistry)}static async create(t){return Me.post(Ze.endpoints.createRegistryEntry,t)}static async exportExcel(t){const r=Ze.endpoints.exportRegisterExcel.replace(":id",t);return Me.download(r)}static async exportPDF(t){const r=Ze.endpoints.exportRegisterPdf.replace(":id",t);return Me.download(r)}static async downloadDocuments(t){const r=Ze.endpoints.downloadDocuments.replace(":id",t);return Me.download(r)}static async getStatistics(){return Me.get(Ze.endpoints.getRegistryStatistics)}static async getEntries(){return Me.get(Ze.endpoints.getPaymentRegistry)}static async createEntry(t){return Me.post(Ze.endpoints.createRegistryEntry,t)}static async updateEntry(t,r){const a=Ze.endpoints.updateRegistryEntry.replace(":id",t);return Me.put(a,r)}static async deleteEntry(t){const r=Ze.endpoints.deleteRegistryEntry.replace(":id",t);return Me.delete(r)}}class Tl{static async getBindings(t){const r=new URLSearchParams;t?.expenseItemId&&r.append("expenseItemId",t.expenseItemId),t?.active!==void 0&&r.append("active",t.active.toString()),t?.date&&r.append("date",t.date);const a=`${Ze.endpoints.getDistributorBindings}?${r}`;return Me.get(a)}static async createBinding(t){return Me.post(Ze.endpoints.createDistributorBinding,t)}static async updateBinding(t,r){const a=Ze.endpoints.updateDistributorBinding.replace(":id",t);return Me.put(a,r)}static async deleteBinding(t){const r=Ze.endpoints.deleteDistributorBinding.replace(":id",t);return Me.delete(r)}static async getContractsByExpenseItem(t,r,a=!0){const s=new URLSearchParams({counterpartyId:t,expenseItemId:r,active:a.toString()}),i=`${Ze.endpoints.getCounterparties}?${s}`;return Me.get(i)}static async getRequestsWithChiefAssignment(t,r=!1){const a=await it.getAll({role:t,status:"classified"}),s=await this.getBindings({active:!0,date:new Date().toISOString().split("T")[0]});return a.map(i=>{const l=s.find(u=>i.expenseSplits.some(d=>d.expenseItemId===u.expenseItemId));return{...i,isAssignedToChief:!!l,chiefDistributorName:l?" ..":void 0,assignmentReason:l?"   ":void 0}})}}class Xh{static async getContractStatus(t){return await Me.get(`/api/v1/distribution/contract-status/${t}`)}static async getSubRegistrars(){return await Me.get("/api/v1/distribution/sub-registrars")}static async classifyRequest(t){const r={request_id:t.requestId,responsible_registrar_id:t.responsibleRegistrarId,expense_splits:t.expenseSplits.map(s=>({expense_item_id:s.expenseItemId,amount:s.amount,comment:s.comment,contract_id:s.contractId,priority:s.priority})),comment:t.comment},a=await fetch(`${API_BASE_URL}/distribution/classify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){const s=await a.json();throw new Error(`Failed to classify request: ${s.detail||a.statusText}`)}return a.json()}static async returnRequest(t){const r={request_id:t.requestId,comment:t.comment},a=await fetch(`${API_BASE_URL}/distribution/return`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){const s=await a.json();throw new Error(`Failed to return request: ${s.detail||a.statusText}`)}return a.json()}static async getExpenseSplits(t){const r=await fetch(`${API_BASE_URL}/distribution/expense-splits/${t}`);if(!r.ok)throw new Error(`Failed to get expense splits: ${r.statusText}`);return r.json()}static async getPendingRequests(t=0,r=100){const a=await fetch(`${API_BASE_URL}/distribution/pending-requests?skip=${t}&limit=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Failed to get pending requests: ${a.statusText}`);return a.json()}static async sendRequestsParallel(t){const r={request_id:t.requestId,sub_registrar_id:t.subRegistrarId,distributor_id:t.distributorId,expense_splits:t.expenseSplits.map(a=>({expense_item_id:a.expenseItemId,amount:a.amount,comment:a.comment,contract_id:a.contractId,priority:a.priority})),comment:t.comment};return t.originalRequestId&&(r.original_request_id=t.originalRequestId),await Me.post("/api/v1/distribution/send-requests",r)}static async splitRequestByArticles(t){const r=await fetch(`${API_BASE_URL}/distribution/split-request`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t.requestId,sub_registrar_id:t.subRegistrarId,distributor_id:t.distributorId,expense_splits:t.expenseSplits.map(a=>({expense_item_id:a.expenseItemId,amount:a.amount,comment:a.comment,contract_id:a.contractId,priority:a.priority})),comment:t.comment})});if(!r.ok)throw new Error(`Failed to split request: ${r.statusText}`);return r.json()}}const yu="http://localhost:8000/api/v1";class $u{static async getAssignments(t=0,r=100){const a=await fetch(`${yu}/sub-registrar/assignments?skip=${t}&limit=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Failed to get assignments: ${a.statusText}`);return a.json()}static async getReport(t){const r=await fetch(`${yu}/sub-registrar/reports/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get report: ${r.statusText}`);return r.json()}static async saveDraftReport(t){const r=await fetch(`${yu}/sub-registrar/save-draft`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t.requestId,document_status:t.documentStatus,report_data:t.reportData})});if(!r.ok)throw new Error(`Failed to save draft report: ${r.statusText}`);return r.json()}static async publishReport(t){const r=await fetch(`${yu}/sub-registrar/publish-report`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t})});if(!r.ok)throw new Error(`Failed to publish report: ${r.statusText}`);return r.json()}static async saveClosingDocs(t,r){const a=await fetch(`${yu}/sub-registrar/closing-docs/${t}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw new Error(`Failed to save closing document: ${a.statusText}`)}}const kh="http://localhost:8000/api/v1";class Nx{static async getDistributorRequests(t=0,r=100){const a=await fetch(`${kh}/distributor/requests?skip=${t}&limit=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Failed to get distributor requests: ${a.statusText}`);return a.json()}static async getDistributorRequest(t){const r=await fetch(`${kh}/distributor/requests/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get distributor request: ${r.statusText}`);return r.json()}static async linkExportContract(t,r){const a=await fetch(`${kh}/distributor/requests/${t}/export-contract`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({export_contract_id:r.exportContractId})});if(!a.ok)throw new Error(`Failed to link export contract: ${a.statusText}`);return a.json()}static async getEnrichedRequest(t){const r=await fetch(`${kh}/distributor/requests/${t}/enriched`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get enriched request: ${r.statusText}`);return r.json()}}const bu="http://localhost:8000/api/v1";class Lu{static async getExportContracts(t=0,r=100,a=!0){const s=await fetch(`${bu}/export-contracts/?skip=${t}&limit=${r}&is_active=${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to get export contracts: ${s.statusText}`);return s.json()}static async getExportContract(t){const r=await fetch(`${bu}/export-contracts/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to get export contract: ${r.statusText}`);return r.json()}static async createExportContract(t){const r=await fetch(`${bu}/export-contracts/`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({contract_number:t.contractNumber,contract_date:t.contractDate,counterparty_id:t.counterpartyId,amount:t.amount,currency_code:t.currencyCode})});if(!r.ok)throw new Error(`Failed to create export contract: ${r.statusText}`);return r.json()}static async updateExportContract(t,r){const a=await fetch(`${bu}/export-contracts/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({contract_number:r.contractNumber,contract_date:r.contractDate,counterparty_id:r.counterpartyId,amount:r.amount,currency_code:r.currencyCode,is_active:r.isActive})});if(!a.ok)throw new Error(`Failed to update export contract: ${a.statusText}`);return a.json()}static async deleteExportContract(t){const r=await fetch(`${bu}/export-contracts/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to delete export contract: ${r.statusText}`)}}class So{static notifications=[];static listeners=[];static addNotification(t){const r={...t,id:Math.random().toString(36).substr(2,9),timestamp:new Date};this.notifications.unshift(r),this.notifications.length>50&&(this.notifications=this.notifications.slice(0,50)),this.showToastNotification(r),this.notifyListeners()}static getNotifications(){return[...this.notifications]}static getNotificationsForRole(t){return this.notifications.filter(r=>r.role===t)}static markAsRead(t){this.notifications.find(a=>a.id===t)&&(this.notifications=this.notifications.filter(a=>a.id!==t),this.notifyListeners())}static clearAll(){this.notifications=[],this.notifyListeners()}static subscribe(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}static notifyListeners(){this.listeners.forEach(t=>t([...this.notifications]))}static showToastNotification(t){const r={duration:t.type==="error"?5e3:3e3,action:t.actionRequired?{label:"",onClick:()=>{console.log("Navigate to request:",t.requestId)}}:void 0};switch(t.type){case"success":we.success(t.title,{description:t.message,...r});break;case"error":we.error(t.title,{description:t.message,...r});break;case"warning":we.warning(t.title,{description:t.message,...r});break;default:we.info(t.title,{description:t.message,...r});break}}static notifyRequestDistributed(t,r){this.addNotification({type:"success",title:" ",message:` ${r}    -  `,role:"registrar",requestId:t})}static notifySubRegistrarAssigned(t,r){this.addNotification({type:"info",title:" ",message:`   ${r}  `,role:"sub_registrar",requestId:t,actionRequired:!0})}static notifyDistributorRequestCreated(t,r){this.addNotification({type:"info",title:" ",message:`  ${r}  `,role:"distributor",requestId:t,actionRequired:!0})}static notifyReportPublished(t,r){this.addNotification({type:"success",title:" ",message:`   ${r}      `,role:"sub_registrar",requestId:t}),this.addNotification({type:"info",title:" ",message:` ${r}    -`,role:"distributor",requestId:t,actionRequired:!0})}static notifyExportContractLinked(t,r,a){this.addNotification({type:"success",title:" ",message:` ${r}     ${a}`,role:"distributor",requestId:t})}static notifyWorkflowError(t,r){this.addNotification({type:"error",title:"  ",message:t,role:r})}static notifyWorkflowProgress(t,r){this.addNotification({type:"info",title:"",message:t,role:r})}}class Sx{static getWorkflowProgress(t,r,a){const s=this.getWorkflowSteps(),i=this.getCurrentStepIndex(r,a);return{requestId:t,currentStep:s[i]?.id||"unknown",totalSteps:s.length,completedSteps:i,steps:s.map((l,u)=>({...l,status:this.getStepStatus(u,i,r,a),timestamp:u<i?new Date:void 0})),isComplete:i>=s.length-1,canProceed:this.canProceedToNextStep(r,a),nextRole:this.getNextRole(r,a)}}static getWorkflowSteps(){return[{id:"request-creation",name:" ",role:"EXECUTOR",description:"    "},{id:"request-submission",name:" ",role:"EXECUTOR",description:"   "},{id:"request-classification",name:" ",role:"registrar",description:"     "},{id:"request-approval",name:" ",role:"distributor",description:"  "},{id:"request-distribution",name:" ",role:"registrar",description:"    -  "},{id:"document-collection",name:" ",role:"sub_registrar",description:"-   "},{id:"report-publication",name:" ",role:"sub_registrar",description:"-   "},{id:"export-contract-linking",name:" ",role:"distributor",description:"     "},{id:"payment-processing",name:" ",role:"treasurer",description:"  "},{id:"payment-completion",name:" ",role:"treasurer",description:" "}]}static getCurrentStepIndex(t,r){let s={draft:0,submitted:1,classified:2,allocated:2,returned:1,approved:3,"approved-on-behalf":3,"to-pay":3,"in-register":3,"approved-for-payment":3,distributed:4,report_published:6,export_linked:7,"paid-full":9,"paid-partial":8,declined:1,rejected:1,cancelled:0}[t]||0;return r==="distributed"&&t==="distributed"?s=4:r==="report_published"&&t==="report_published"?s=6:r==="export_linked"&&t==="export_linked"&&(s=7),s}static getStepStatus(t,r,a,s){return t<r?"completed":t===r?"in-progress":"pending"}static canProceedToNextStep(t,r){return["submitted","classified","allocated","approved","approved-on-behalf","to-pay","in-register","approved-for-payment","distributed","report_published"].includes(t)}static getNextRole(t,r){return{draft:"EXECUTOR",submitted:"registrar",classified:"distributor",allocated:"distributor",returned:"EXECUTOR",approved:"registrar","approved-on-behalf":"registrar","to-pay":"registrar","in-register":"registrar","approved-for-payment":"registrar",distributed:"sub_registrar",report_published:"distributor",export_linked:"treasurer","paid-full":void 0,"paid-partial":"treasurer",declined:"EXECUTOR",rejected:"EXECUTOR",cancelled:void 0}[t]}static getProgressPercentage(t){return t.totalSteps===0?0:Math.round(t.completedSteps/t.totalSteps*100)}static getEstimatedTimeRemaining(t){t.totalSteps-t.completedSteps;const r={"request-creation":.5,"request-submission":.1,"request-classification":2,"request-approval":4,"request-distribution":.5,"document-collection":24,"report-publication":1,"export-contract-linking":2,"payment-processing":4,"payment-completion":1};let a=0;for(let s=t.completedSteps;s<t.totalSteps;s++){const i=t.steps[s];i&&(a+=r[i.id]||1)}return a<1?" ":a<24?` ${Math.round(a)} `:` ${Math.round(a/24)} `}static getWorkflowBottlenecks(t){const r=[],a=["document-collection","request-approval"],s=t.steps[t.completedSteps];s&&a.includes(s.id)&&r.push(`  "${s.name}"    `);const i=["document-collection","export-contract-linking"];return t.steps.slice(t.completedSteps).filter(u=>i.includes(u.id)).length>0&&r.push("     "),r}}class v7{cache=new Map;defaultTTL=300*1e3;maxSize=1e3;get(t){const r=this.cache.get(t);return r?Date.now()>r.expiresAt?(this.cache.delete(t),null):r.value:null}set(t,r,a,s=[]){this.cache.size>=this.maxSize&&this.evictOldest();const i=Date.now()+(a||this.defaultTTL);this.cache.set(t,{value:r,expiresAt:i,tags:s})}invalidate(t){this.cache.delete(t)}invalidatePattern(t){const r=new RegExp(t);for(const a of this.cache.keys())r.test(a)&&this.cache.delete(a)}invalidateByTags(t){for(const[r,a]of this.cache.entries())t.some(s=>a.tags.includes(s))&&this.cache.delete(r)}clear(){this.cache.clear()}getStats(){const t=Array.from(this.cache.entries()).map(([r,a])=>({key:r,expiresAt:a.expiresAt,tags:a.tags}));return{size:this.cache.size,maxSize:this.maxSize,hitRate:0,entries:t}}evictOldest(){const t=Array.from(this.cache.entries());t.sort((a,s)=>a[1].expiresAt-s[1].expiresAt);const r=Math.ceil(t.length*.1);for(let a=0;a<r;a++)this.cache.delete(t[a][0])}}class Bn{static dictionaryItems(t){return`dictionary:${t}:items`}static dictionaryItem(t,r){return`dictionary:${t}:item:${r}`}static dictionarySearch(t,r){return`dictionary:${t}:search:${r}`}static dictionaryFilter(t,r){const a=Object.keys(r).sort().map(s=>`${s}:${r[s]}`).join("|");return`dictionary:${t}:filter:${a}`}static dictionaryStatistics(t){return`dictionary:${t}:statistics`}}const ju={DICTIONARY:"dictionary",EXPENSE_ITEMS:"expense-articles",COUNTERPARTIES:"counterparties",CURRENCIES:"currencies",VAT_RATES:"vat-rates",SEARCH:"search",FILTER:"filter",STATISTICS:"statistics"};class _p{createError(t,r,a){return{field:t,message:r,code:a}}validateRequired(t,r){return t==null||t===""?[this.createError(r,`${r} is required`,"REQUIRED")]:[]}validateString(t,r,a,s){const i=[];return typeof t!="string"?(i.push(this.createError(r,`${r} must be a string`,"INVALID_TYPE")),i):(a&&t.length<a&&i.push(this.createError(r,`${r} must be at least ${a} characters`,"MIN_LENGTH")),s&&t.length>s&&i.push(this.createError(r,`${r} must be no more than ${s} characters`,"MAX_LENGTH")),i)}validateEmail(t,r){const a=[];return typeof t!="string"?(a.push(this.createError(r,`${r} must be a string`,"INVALID_TYPE")),a):(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||a.push(this.createError(r,`${r} must be a valid email address`,"INVALID_EMAIL")),a)}validateNumber(t,r,a,s){const i=[];return typeof t!="number"||isNaN(t)?(i.push(this.createError(r,`${r} must be a number`,"INVALID_TYPE")),i):(a!==void 0&&t<a&&i.push(this.createError(r,`${r} must be at least ${a}`,"MIN_VALUE")),s!==void 0&&t>s&&i.push(this.createError(r,`${r} must be no more than ${s}`,"MAX_VALUE")),i)}validateEnum(t,r,a){return a.includes(t)?[]:[this.createError(r,`${r} must be one of: ${a.join(", ")}`,"INVALID_ENUM")]}}class x7 extends _p{validate(t){const r=[];r.push(...this.validateRequired(t.name,"name")),r.push(...this.validateRequired(t.code,"code")),r.push(...this.validateRequired(t.ownerRole,"ownerRole")),r.push(...this.validateString(t.name,"name",1,255)),r.push(...this.validateString(t.code,"code",3,10)),t.code&&!/^\d{3}$/.test(t.code)&&r.push(this.createError("code","Code must be 3 digits","INVALID_FORMAT"));const a=["EXECUTOR","REGISTRAR","DISTRIBUTOR","TREASURER","ADMIN"];return r.push(...this.validateEnum(t.ownerRole,"ownerRole",a)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"name":return this.validateString(r,"name",1,255);case"code":return typeof r=="string"&&!/^\d{3}$/.test(r)?[this.createError("code","Code must be 3 digits","INVALID_FORMAT")]:this.validateString(r,"code",3,10);case"ownerRole":const a=["EXECUTOR","REGISTRAR","DISTRIBUTOR","TREASURER","ADMIN"];return this.validateEnum(r,"ownerRole",a);default:return[]}}}class y7 extends _p{validate(t){const r=[];r.push(...this.validateRequired(t.name,"name")),r.push(...this.validateRequired(t.abbreviation,"abbreviation")),r.push(...this.validateRequired(t.binIin,"binIin")),r.push(...this.validateRequired(t.email,"email")),r.push(...this.validateRequired(t.category,"category")),r.push(...this.validateString(t.name,"name",1,255)),r.push(...this.validateString(t.abbreviation,"abbreviation",1,50)),r.push(...this.validateString(t.binIin,"binIin",12,12)),r.push(...this.validateEmail(t.email,"email")),t.binIin&&!/^\d{12}$/.test(t.binIin)&&r.push(this.createError("binIin","BIN/IIN must be 12 digits","INVALID_FORMAT"));const a=[" ",""," ","","/"];return r.push(...this.validateEnum(t.category,"category",a)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"name":return this.validateString(r,"name",1,255);case"email":return this.validateEmail(r,"email");case"binIin":return typeof r=="string"&&!/^\d{12}$/.test(r)?[this.createError("binIin","BIN/IIN must be 12 digits","INVALID_FORMAT")]:this.validateString(r,"binIin",12,12);case"category":const a=[" ",""," ","","/"];return this.validateEnum(r,"category",a);default:return[]}}}class b7 extends _p{validate(t){const r=[];return r.push(...this.validateRequired(t.rate,"rate")),r.push(...this.validateRequired(t.name,"name")),t.rate!==void 0&&(typeof t.rate!="number"||t.rate<0||t.rate>100)&&r.push({field:"rate",message:"Rate must be a number between 0 and 100",code:"INVALID_RATE"}),r.push(...this.validateString(t.name,"name",1,255)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"rate":return typeof r!="number"||r<0||r>100?[{field:"rate",message:"Rate must be a number between 0 and 100",code:"INVALID_RATE"}]:[];case"name":return this.validateString(r,"name",1,255);default:return[]}}}class j7 extends _p{validate(t){const r=[];return r.push(...this.validateRequired(t.code,"code")),r.push(...this.validateString(t.code,"code",1,10)),{isValid:r.length===0,errors:r}}validateField(t,r){switch(t){case"code":return this.validateString(r,"code",1,10);default:return[]}}}class w7{validators=new Map;constructor(){this.registerValidator("expense-articles",new x7),this.registerValidator("counterparties",new y7),this.registerValidator("vat-rates",new b7),this.registerValidator("currencies",new j7)}registerValidator(t,r){this.validators.set(t,r)}validate(t,r){const a=this.validators.get(t);return a?a.validate(r):{isValid:!1,errors:[{field:"type",message:`No validator found for type: ${t}`,code:"NO_VALIDATOR"}]}}validateField(t,r,a){const s=this.validators.get(t);return s?s.validateField(r,a):[{field:"type",message:`No validator found for type: ${t}`,code:"NO_VALIDATOR"}]}}class jl extends Error{constructor(t,r,a){super(`API Error ${t}: ${r}`),this.status=t,this.statusText=r,this.response=a,this.name="ApiError"}}class N7{baseUrl;authToken=null;timeout=3e4;constructor(t="/api"){this.baseUrl=t}setAuthToken(t){this.authToken=t}getHeaders(){const t={"Content-Type":"application/json"};return this.authToken&&(t.Authorization=`Bearer ${this.authToken}`),t}async request(t,r,a,s){const i=`${this.baseUrl}${r}`,l={method:t,headers:this.getHeaders(),...s};a&&t!=="GET"&&(l.body=JSON.stringify(a));const u=new AbortController,d=setTimeout(()=>u.abort(),this.timeout);try{const f=await fetch(i,{...l,signal:u.signal});if(clearTimeout(d),!f.ok){const m=await f.json().catch(()=>({}));throw new jl(f.status,f.statusText,m)}return f.status===204?{}:await f.json()}catch(f){throw clearTimeout(d),f instanceof jl?f:f.name==="AbortError"?new jl(408,"Request timeout"):new jl(0,f.message||"Network error")}}async get(t){return this.request("GET",t)}async post(t,r){return this.request("POST",t,r)}async put(t,r){return this.request("PUT",t,r)}async delete(t){return this.request("DELETE",t)}async upload(t,r){const a=new FormData;a.append("file",r);const s=`${this.baseUrl}${t}`,i={};this.authToken&&(i.Authorization=`Bearer ${this.authToken}`);const l=await fetch(s,{method:"POST",headers:i,body:a});if(!l.ok){const u=await l.json().catch(()=>({}));throw new jl(l.status,l.statusText,u)}return await l.json()}async download(t,r){const a=`${this.baseUrl}${t}`,s={};this.authToken&&(s.Authorization=`Bearer ${this.authToken}`);const i=await fetch(a,{method:"GET",headers:s,...r});if(!i.ok)throw new jl(i.status,i.statusText);return await i.blob()}}class S7{constructor(t){this.apiClient=t}getExpenseItems=()=>this.apiClient.get("/dictionaries/expense-articles");getExpenseItem=t=>this.apiClient.get(`/dictionaries/expense-articles/${t}`);createExpenseItem=t=>this.apiClient.post("/dictionaries/expense-articles",t);updateExpenseItem=(t,r)=>this.apiClient.put(`/dictionaries/expense-articles/${t}`,r);deleteExpenseItem=t=>this.apiClient.delete(`/dictionaries/expense-articles/${t}`);getCounterparties=async()=>(await this.apiClient.get("/dictionaries/counterparties")).map(r=>({id:r.id,name:r.name,abbreviation:r.name.substring(0,10)+"...",binIin:r.tax_id||"",phone:r.phone||"",email:r.email||"",address:r.address||"",region:r.region||"",category:r.category,isActive:r.is_active,code:r.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}));getCounterparty=async t=>{const r=await this.apiClient.get(`/dictionaries/counterparties/${t}`);return{id:r.id,name:r.name,abbreviation:r.name.substring(0,10)+"...",binIin:r.tax_id||"",phone:r.phone||"",email:r.email||"",address:r.address||"",region:r.region||"",category:r.category,isActive:r.is_active,code:r.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}};createCounterparty=t=>this.apiClient.post("/dictionaries/counterparties",t);updateCounterparty=(t,r)=>this.apiClient.put(`/dictionaries/counterparties/${t}`,r);deleteCounterparty=t=>this.apiClient.delete(`/dictionaries/counterparties/${t}`);getContracts=()=>Promise.resolve([]);getContract=t=>Promise.reject(new Error("Contracts dictionary is not supported"));createContract=t=>Promise.reject(new Error("Contracts dictionary is not supported"));updateContract=(t,r)=>Promise.reject(new Error("Contracts dictionary is not supported"));deleteContract=t=>Promise.reject(new Error("Contracts dictionary is not supported"));getNormatives=()=>Promise.resolve([]);getNormative=t=>Promise.reject(new Error("Normatives dictionary is not supported"));createNormative=t=>Promise.reject(new Error("Normatives dictionary is not supported"));updateNormative=(t,r)=>Promise.reject(new Error("Normatives dictionary is not supported"));deleteNormative=t=>Promise.reject(new Error("Normatives dictionary is not supported"));getPriorities=()=>Promise.resolve([]);getPriority=t=>Promise.reject(new Error("Priorities dictionary is not supported"));createPriority=t=>Promise.reject(new Error("Priorities dictionary is not supported"));updatePriority=(t,r)=>Promise.reject(new Error("Priorities dictionary is not supported"));deletePriority=t=>Promise.reject(new Error("Priorities dictionary is not supported"));getUsers=()=>Promise.resolve([]);getUser=t=>Promise.reject(new Error("Users dictionary is not supported"));createUser=t=>Promise.reject(new Error("Users dictionary is not supported"));updateUser=(t,r)=>Promise.reject(new Error("Users dictionary is not supported"));deleteUser=t=>Promise.reject(new Error("Users dictionary is not supported"));getCurrencies=async()=>(await this.apiClient.get("/dictionaries/currencies")).map(r=>({id:r.code,code:r.code,name:this.getCurrencyName(r.code),scale:r.scale,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}));getCurrency=async t=>{const r=await this.apiClient.get(`/dictionaries/currencies/${t}`);return{id:r.code,code:r.code,name:this.getCurrencyName(r.code),scale:r.scale,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",version:1}};getCurrencyName=t=>({KZT:" ",USD:" ",EUR:"",RUB:" ",CNY:" "})[t]||t;getVatRates=()=>this.apiClient.get("/dictionaries/vat-rates");getVatRate=t=>this.apiClient.get(`/dictionaries/vat-rates/${t}`);createVatRate=t=>this.apiClient.post("/dictionaries/vat-rates",t);updateVatRate=(t,r)=>this.apiClient.put(`/dictionaries/vat-rates/${t}`,r);deleteVatRate=t=>this.apiClient.delete(`/dictionaries/vat-rates/${t}`);bulkCreate=(t,r)=>this.apiClient.post(`/dictionaries/${t}/bulk`,{items:r});bulkUpdate=async(t,r)=>{let a=0,s=0;const i=[],l=[];for(const{id:u,data:d}of r)try{let f;t==="counterparties"?f=await this.updateCounterparty(u,d):t==="expense-articles"?f=await this.updateExpenseItem(u,d):t==="vat-rates"&&(f=await this.updateVatRate(u,d)),l.push(f),a++}catch(f){s++,i.push({id:u,error:f instanceof Error?f.message:"Unknown error"})}return{success_count:a,error_count:s,errors:i,updated_items:l}};bulkDelete=async(t,r)=>{let a=0,s=0;const i=[];for(const l of r)try{t==="counterparties"?await this.deleteCounterparty(l):t==="expense-articles"?await this.deleteExpenseItem(l):t==="vat-rates"&&await this.deleteVatRate(l),a++}catch(u){s++,i.push({id:l,error:u instanceof Error?u.message:"Unknown error"})}return{success_count:a,error_count:s,errors:i}};search=async(t,r)=>["counterparties","expense-articles","vat-rates","currencies"].includes(t)?t==="counterparties"?this.apiClient.get(`/dictionaries/counterparties?search=${encodeURIComponent(r)}`):t==="expense-articles"?this.apiClient.get(`/dictionaries/expense-articles?search=${encodeURIComponent(r)}`):t==="vat-rates"?this.apiClient.get(`/dictionaries/vat-rates?search=${encodeURIComponent(r)}`):t==="currencies"?this.apiClient.get("/dictionaries/currencies"):Promise.resolve([]):Promise.resolve([]);filter=async(t,r)=>{if(!["counterparties","expense-articles","vat-rates","currencies"].includes(t))return Promise.resolve([]);const s=new URLSearchParams;r.is_active!==void 0&&s.append("active_only",r.is_active.toString()),r.category&&s.append("category",r.category),r.search&&s.append("search",r.search);const i=s.toString(),l=i?`/dictionaries/${t}?${i}`:`/dictionaries/${t}`;return this.apiClient.get(l)};getStatistics=async t=>{if(!["counterparties","expense-articles","vat-rates","currencies"].includes(t))return{totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0};try{const a=await this.apiClient.get(`/dictionaries/${t}/statistics`);return{totalItems:a.totalItems,activeItems:a.activeItems,inactiveItems:a.inactiveItems,recentlyUpdated:a.recentlyUpdated}}catch(a){console.warn(`Failed to get statistics for ${t}, falling back to mock data:`,a);const s=await this.apiClient.get(`/dictionaries/${t}`);return{totalItems:s.length,activeItems:s.filter(i=>i.is_active).length,inactiveItems:s.filter(i=>!i.is_active).length,recentlyUpdated:0}}};export=(t,r)=>this.apiClient.download(`/dictionaries/export/${t}?format=${r.format||"csv"}&active_only=${r.active_only||!0}`);import=(t,r)=>this.apiClient.upload(`/dictionaries/import?dictionary_type=${t}`,r);getTemplate=t=>this.apiClient.download(`/dictionaries/template/${t}`)}class As{static instance;handlers=new Map;cache;validator;api;isOnline=!0;constructor(){this.cache=new v7,this.validator=new w7;const t=new N7("http://localhost:8000/api/v1");this.api=new S7(t),this.initializeHandlers(),this.setupOnlineStatusListener()}static getInstance(){return As.instance||(As.instance=new As),As.instance}initializeHandlers(){["expense-articles","counterparties","currencies","vat-rates"].forEach(r=>{const a=this.createHandler(r);this.handlers.set(r,a)})}createHandler(t){return{getItems:()=>this.getItems(t),getItemById:r=>this.getItemById(t,r),createItem:r=>this.createItem(t,r),updateItem:(r,a)=>this.updateItem(t,r,a),deleteItem:r=>this.deleteItem(t,r),validateItem:r=>this.validateItem(t,r),searchItems:r=>this.searchItems(t,r),getItemsByFilter:r=>this.getItemsByFilter(t,r),getStatistics:()=>this.getStatistics(t),bulkCreate:r=>this.bulkCreate(t,r),bulkUpdate:r=>this.bulkUpdate(t,r),bulkDelete:r=>this.bulkDelete(t,r),exportItems:r=>this.exportItems(t,r),importItems:r=>this.importItems(t,r)}}setupOnlineStatusListener(){typeof window<"u"&&(window.addEventListener("online",()=>{this.isOnline=!0,this.syncOfflineChanges()}),window.addEventListener("offline",()=>{this.isOnline=!1}))}getHandler(t){const r=this.handlers.get(t);return r||this.createMockHandler(t)}createMockHandler(t){return{getItems:()=>Promise.resolve([]),getItemById:()=>Promise.resolve(null),createItem:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),updateItem:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),deleteItem:()=>Promise.resolve(!1),validateItem:()=>({isValid:!1,errors:[{field:"type",message:`Dictionary type '${t}' is not supported`}]}),searchItems:()=>Promise.resolve([]),getItemsByFilter:()=>Promise.resolve([]),getStatistics:()=>Promise.resolve({totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0}),bulkCreate:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),bulkUpdate:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),bulkDelete:()=>Promise.resolve({success_count:0,error_count:0,errors:[]}),exportItems:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`)),importItems:()=>Promise.reject(new Error(`Dictionary type '${t}' is not supported`))}}async getItems(t){const r=Bn.dictionaryItems(t),a=this.cache.get(r);if(a)return a;try{let s;return this.isOnline?s=await this.getApiMethod(t,"getItems")():s=this.getOfflineData(t),this.cache.set(r,s,void 0,[ju.DICTIONARY,t]),s}catch(s){return console.error(`Error fetching ${t} items:`,s),this.getOfflineData(t)}}async getItemById(t,r){const a=Bn.dictionaryItem(t,r),s=this.cache.get(a);if(s)return s;try{let i;return this.isOnline?i=await this.getApiMethod(t,"getItem")(r):i=this.getOfflineData(t).find(u=>u.id===r)||null,i&&this.cache.set(a,i,void 0,[ju.DICTIONARY,t]),i}catch(i){return console.error(`Error fetching ${t} item ${r}:`,i),null}}async createItem(t,r){const a=this.validator.validate(t,r);if(!a.isValid)throw new Error(`Validation failed: ${a.errors.map(s=>s.message).join(", ")}`);try{let s;return this.isOnline?s=await this.getApiMethod(t,"createItem")(r):s=this.createOfflineItem(t,r),this.cache.invalidate(Bn.dictionaryItems(t)),this.cache.invalidateByTags([t]),s}catch(s){throw console.error(`Error creating ${t} item:`,s),s}}async updateItem(t,r,a){const s=this.validator.validate(t,a);if(!s.isValid)throw new Error(`Validation failed: ${s.errors.map(i=>i.message).join(", ")}`);try{let i;return this.isOnline?i=await this.getApiMethod(t,"updateItem")(r,a):i=this.updateOfflineItem(t,r,a),this.cache.invalidate(Bn.dictionaryItems(t)),this.cache.invalidate(Bn.dictionaryItem(t,r)),this.cache.invalidateByTags([t]),i}catch(i){throw console.error(`Error updating ${t} item ${r}:`,i),i}}async deleteItem(t,r){try{return this.isOnline?await this.getApiMethod(t,"deleteItem")(r):this.deleteOfflineItem(t,r),this.cache.invalidate(Bn.dictionaryItems(t)),this.cache.invalidate(Bn.dictionaryItem(t,r)),this.cache.invalidateByTags([t]),!0}catch(a){return console.error(`Error deleting ${t} item ${r}:`,a),!1}}validateItem(t,r){return this.validator.validate(t,r)}async searchItems(t,r){const a=Bn.dictionarySearch(t,r),s=this.cache.get(a);if(s)return s;try{let i;return this.isOnline?i=await this.api.search(t,r):i=this.getOfflineData(t).filter(u=>u.name.toLowerCase().includes(r.toLowerCase())||u.code.toLowerCase().includes(r.toLowerCase())),this.cache.set(a,i,6e4,[ju.SEARCH,t]),i}catch(i){return console.error(`Error searching ${t} items:`,i),[]}}async getItemsByFilter(t,r){const a=Bn.dictionaryFilter(t,r),s=this.cache.get(a);if(s)return s;try{let i;if(this.isOnline)i=await this.api.filter(t,r);else{const l=this.getOfflineData(t);i=this.applyFilters(l,r)}return this.cache.set(a,i,6e4,[ju.FILTER,t]),i}catch(i){return console.error(`Error filtering ${t} items:`,i),[]}}async getStatistics(t){const r=Bn.dictionaryStatistics(t),a=this.cache.get(r);if(a)return a;try{let s;if(this.isOnline)s=await this.api.getStatistics(t);else{const i=this.getOfflineData(t);s=this.calculateStatistics(i)}return this.cache.set(r,s,3e5,[ju.STATISTICS,t]),s}catch(s){return console.error(`Error getting ${t} statistics:`,s),{totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0}}}async bulkCreate(t,r){for(const a of r){const s=this.validator.validate(t,a);if(!s.isValid)throw new Error(`Validation failed for item: ${s.errors.map(i=>i.message).join(", ")}`)}try{let a;return this.isOnline?a=await this.api.bulkCreate(t,r):a=r.map(s=>this.createOfflineItem(t,s)),this.cache.invalidate(Bn.dictionaryItems(t)),this.cache.invalidateByTags([t]),a}catch(a){throw console.error(`Error bulk creating ${t} items:`,a),a}}async bulkUpdate(t,r){try{let a;return this.isOnline?a=await this.api.bulkUpdate(t,r):a=r.map(({id:s,data:i})=>this.updateOfflineItem(t,s,i)),this.cache.invalidate(Bn.dictionaryItems(t)),this.cache.invalidateByTags([t]),a}catch(a){throw console.error(`Error bulk updating ${t} items:`,a),a}}async bulkDelete(t,r){try{return this.isOnline?await this.api.bulkDelete(t,r):r.forEach(a=>this.deleteOfflineItem(t,a)),this.cache.invalidate(Bn.dictionaryItems(t)),this.cache.invalidateByTags([t]),!0}catch(a){return console.error(`Error bulk deleting ${t} items:`,a),!1}}async exportItems(t,r){try{if(this.isOnline)return await this.api.export(t,r);{const a=this.getOfflineData(t),s=JSON.stringify(a,null,2);return new Blob([s],{type:"application/json"})}}catch(a){throw console.error(`Error exporting ${t} items:`,a),a}}async importItems(t,r){try{return this.isOnline?await this.api.import(t,r):{success:[],errors:[]}}catch(a){throw console.error(`Error importing ${t} items:`,a),a}}getApiMethod(t,r){const s={"expense-articles":{getItems:()=>this.api.getExpenseItems(),getItem:i=>this.api.getExpenseItem(i),createItem:i=>this.api.createExpenseItem(i),updateItem:(i,l)=>this.api.updateExpenseItem(i,l),deleteItem:i=>this.api.deleteExpenseItem(i)},counterparties:{getItems:()=>this.api.getCounterparties(),getItem:i=>this.api.getCounterparty(i),createItem:i=>this.api.createCounterparty(i),updateItem:(i,l)=>this.api.updateCounterparty(i,l),deleteItem:i=>this.api.deleteCounterparty(i)},currencies:{getItems:()=>this.api.getCurrencies(),getItem:i=>this.api.getCurrency(i),createItem:i=>Promise.reject(new Error("Currencies are read-only")),updateItem:(i,l)=>Promise.reject(new Error("Currencies are read-only")),deleteItem:i=>Promise.reject(new Error("Currencies are read-only"))},"vat-rates":{getItems:()=>this.api.getVatRates(),getItem:i=>this.api.getVatRate(i),createItem:i=>this.api.createVatRate(i),updateItem:(i,l)=>this.api.updateVatRate(i,l),deleteItem:i=>this.api.deleteVatRate(i)}}[t];if(!s||!s[r])throw new Error(`No API method found for ${t}.${r}`);return s[r]}getOfflineData(t){try{const r=localStorage.getItem(`dictionary_${t}`);return r?JSON.parse(r):[]}catch(r){return console.error(`Error loading offline data for ${t}:`,r),[]}}saveOfflineData(t,r){try{localStorage.setItem(`dictionary_${t}`,JSON.stringify(r))}catch(a){console.error(`Error saving offline data for ${t}:`,a)}}createOfflineItem(t,r){const a={...r,id:`offline-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:1},s=this.getOfflineData(t);return s.push(a),this.saveOfflineData(t,s),a}updateOfflineItem(t,r,a){const s=this.getOfflineData(t),i=s.findIndex(u=>u.id===r);if(i===-1)throw new Error(`Item not found: ${r}`);const l={...s[i],...a,updatedAt:new Date().toISOString(),version:(s[i].version||0)+1};return s[i]=l,this.saveOfflineData(t,s),l}deleteOfflineItem(t,r){const s=this.getOfflineData(t).filter(i=>i.id!==r);this.saveOfflineData(t,s)}applyFilters(t,r){return t.filter(a=>{for(const[s,i]of Object.entries(r)){if(i==null||i==="")continue;const l=a[s];if(s==="isActive"){if(l!==i)return!1}else if(s==="category"){if(l!==i)return!1}else if(s==="ownerRole"){if(l!==i)return!1}else if(s==="dateRange"){const u=new Date(l),d=new Date(i.start),f=new Date(i.end);if(u<d||u>f)return!1}else if(typeof i=="string"&&(!l||!l.toString().toLowerCase().includes(i.toLowerCase())))return!1}return!0})}calculateStatistics(t){const r=new Date,a=new Date(r.getTime()-10080*60*1e3);return{totalItems:t.length,activeItems:t.filter(s=>s.isActive).length,inactiveItems:t.filter(s=>!s.isActive).length,recentlyUpdated:t.filter(s=>new Date(s.updatedAt)>a).length}}async syncOfflineChanges(){console.log("Syncing offline changes...")}clearCache(){this.cache.clear()}getCacheStats(){return this.cache.getStats()}async ensureInitialized(){}}class _x{static cache=new Map;static CACHE_DURATION=300*1e3;static MAX_CACHE_SIZE=50;static async getRoleStatistics(t,r){const a=`role_stats_${t}_${r||"all"}`,s=this.getFromCache(a);if(s)return s;try{const i=await it.getStatistics(t,r),l=aw(i);return this.setCache(a,l),l}catch(i){throw console.error("Error fetching role statistics:",i),new Error(`Failed to fetch statistics for role: ${t}`)}}static async getDashboardMetrics(t,r){const a=`dashboard_metrics_${t}_${r||"all"}`,s=this.getFromCache(a);if(s)return s;try{const i=await it.getDashboardMetrics(t,r);return this.setCache(a,i),i}catch(i){throw console.error("Error fetching dashboard metrics:",i),new Error(`Failed to fetch dashboard metrics for role: ${t}`)}}static async getRegistryStatistics(){const t="registry_statistics",r=this.getFromCache(t);if(r)return r;try{const a=await g7.getStatistics();return this.setCache(t,a),a}catch(a){throw console.error("Error fetching registry statistics:",a),new Error("Failed to fetch registry statistics")}}static async getRealTimeStatistics(t,r){try{const a=await it.getStatistics(t,r),s=`role_stats_${t}_${r||"all"}`;return this.setCache(s,a),a}catch(a){throw console.error("Error fetching real-time statistics:",a),new Error(`Failed to fetch real-time statistics for role: ${t}`)}}static async getAllRoleStatistics(){const t=["EXECUTOR","REGISTRAR","DISTRIBUTOR","TREASURER"],r={};try{const a=t.map(async i=>{try{const l=await this.getRoleStatistics(i);return{role:i,stats:l}}catch(l){return console.error(`Error fetching statistics for role ${i}:`,l),{role:i,stats:null}}});return(await Promise.all(a)).forEach(({role:i,stats:l})=>{r[i]=l}),r}catch(a){throw console.error("Error fetching all role statistics:",a),new Error("Failed to fetch statistics for all roles")}}static async getStatisticsWithFallback(t,r){try{return await this.getRealTimeStatistics(t,r)}catch(a){console.warn("Failed to fetch fresh statistics, trying cache:",a);const s=`role_stats_${t}_${r||"all"}`,i=this.getFromCache(s);if(i)return console.log("Using cached statistics as fallback"),i;throw a}}static clearCache(t,r){if(t){const a=`role_stats_${t}_${r||"all"}`;this.cache.delete(a),console.log(`Cleared cache for role: ${t}`)}else this.cache.clear(),console.log("Cleared all statistics cache")}static getCacheInfo(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}static getFromCache(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>r.expiresIn?(this.cache.delete(t),null):r.data:null}static setCache(t,r){this.cache.size>=this.MAX_CACHE_SIZE&&this.cleanupCache(),this.cache.set(t,{data:r,timestamp:Date.now(),expiresIn:this.CACHE_DURATION})}static cleanupCache(){const t=Date.now(),r=[];for(const[a,s]of this.cache.entries())t-s.timestamp>s.expiresIn&&r.push(a);r.forEach(a=>this.cache.delete(a)),this.cache.size>=this.MAX_CACHE_SIZE&&Array.from(this.cache.entries()).sort((i,l)=>i[1].timestamp-l[1].timestamp).slice(0,this.cache.size-this.MAX_CACHE_SIZE+1).forEach(([i])=>this.cache.delete(i))}}function sM(e,t,r){const[a,s]=x.useState(null),[i,l]=x.useState(!0),[u,d]=x.useState(null),[f,m]=x.useState(null),{enableCache:h=!0,refreshInterval:g=3e4,autoRefresh:j=!1}=r||{},w=x.useCallback(async(N=!1)=>{try{l(!0),d(null);let C;N||!h?C=await _x.getRealTimeStatistics(e,t):C=await _x.getStatisticsWithFallback(e,t),s(C),m(new Date)}catch(C){console.error("Error fetching role statistics:",C),d(C instanceof Error?C.message:"Failed to fetch statistics")}finally{l(!1)}},[e,t,h]);x.useEffect(()=>{w()},[w]),x.useEffect(()=>{if(!j)return;const N=setInterval(()=>{w()},g);return()=>clearInterval(N)},[j,g,w]);const b=x.useCallback(()=>{w(!0)},[w]),v=x.useCallback(()=>{_x.clearCache(e,t)},[e,t]);return{statistics:a,loading:i,error:u,lastUpdated:f,refresh:b,clearCache:v,formatted:a?.formatted||null}}const iM=[{id:"dashboard",label:"Dashboard",icon:n.jsx(KB,{className:"h-4 w-4"}),roles:["EXECUTOR","REGISTRAR","SUB_REGISTRAR","DISTRIBUTOR","TREASURER","ADMIN"]},{id:"requests",label:"",icon:n.jsx(yt,{className:"h-4 w-4"}),roles:["EXECUTOR","REGISTRAR","SUB_REGISTRAR","DISTRIBUTOR","TREASURER"],badge:"5"},{id:"sub-registrar-assignments",label:" ",icon:n.jsx(yt,{className:"h-4 w-4"}),roles:["SUB_REGISTRAR"]},{id:"distributor-workflow",label:"  ",icon:n.jsx(yt,{className:"h-4 w-4"}),roles:["DISTRIBUTOR"]},{id:"export-contracts",label:" ",icon:n.jsx(Jh,{className:"h-4 w-4"}),roles:["DISTRIBUTOR"]},{id:"registers",label:"",icon:n.jsx(Jh,{className:"h-4 w-4"}),roles:["TREASURER"]},{id:"unallocated",label:"  ",icon:n.jsx(Wj,{className:"h-4 w-4"}),roles:["DISTRIBUTOR"]},{id:"dictionaries",label:"",icon:n.jsx(Zh,{className:"h-4 w-4"}),roles:["ADMIN"]},{id:"registrar-assignments",label:" ",icon:n.jsx(Gr,{className:"h-4 w-4"}),roles:["ADMIN"]},{id:"distributor-routing",label:" ",icon:n.jsx(Gr,{className:"h-4 w-4"}),roles:["ADMIN"]},{id:"admin",label:"",icon:n.jsx(Vd,{className:"h-4 w-4"}),roles:["ADMIN"]}];function _7({currentPage:e,onPageChange:t,currentRole:r,currentUser:a,isCreatingRequest:s=!1,paymentRequests:i=[],onFilterChange:l}){const u=r!=="EXECUTOR",{statistics:d,loading:f}=sM(r,a?.id,{enableCache:!0,autoRefresh:u,refreshInterval:3e4}),m=iM.filter(v=>v.roles.includes(r)).map(v=>{let N=v.badge;return v.id==="requests"&&d&&(r==="EXECUTOR"?N=(d.draftCount+d.submittedCount+d.classifiedCount+d.approvedCount+d.inRegistryCount).toString():r==="REGISTRAR"?N=(d.submittedCount+d.classifiedCount).toString():r==="DISTRIBUTOR"?N=d.approvedCount.toString():r==="TREASURER"&&(N=d.inRegistryCount.toString())),v.id==="registers"&&d&&(N=d.inRegistryCount.toString()),{...v,badge:N}}),g=f||!d?{draft:0,underReview:0,returnedForRevision:0,paid:0,declined:0,inWork:0,registered:0,overdue:0}:r==="EXECUTOR"?{draft:d.draftCount||0,underReview:(d.submittedCount||0)+(d.classifiedCount||0)+(d.approvedCount||0)+(d.inRegistryCount||0),returnedForRevision:d.rejectedCount||0,paid:0,declined:d.rejectedCount||0}:r==="REGISTRAR"?{inWork:d.submittedCount||0,registered:d.classifiedCount||0,overdue:d.overdue||0,returnedForRevision:d.rejectedCount||0,declined:d.rejectedCount||0}:r==="DISTRIBUTOR"?{pendingApproval:d.approvedCount||0,approved:d.approvedCount||0,rejected:d.rejectedCount||0}:r==="TREASURER"?{inRegistry:d.inRegistryCount||0,totalAmount:(d.totalRequests||0)*1e3,overdue:d.overdue||0}:{},j=v=>{if(s){we.warning("       ",{duration:4e3});return}t(v)},w=()=>{if(s){we.warning("       ",{duration:4e3});return}l&&l("drafts"),t("requests")},b=v=>{if(s){we.warning("       ",{duration:4e3});return}l&&l(v),t("requests")};return n.jsxs("nav",{className:"w-full md:w-64 border-r bg-white p-4 overflow-y-auto",children:[n.jsx("div",{className:"space-y-2",children:m.map(v=>n.jsxs(X,{variant:e===v.id?"secondary":"ghost",className:We("w-full justify-start gap-3",v.id==="unallocated"?"h-auto py-2 min-h-[2.5rem]":"h-10",e===v.id&&"bg-accent",s&&"opacity-50 cursor-not-allowed"),onClick:()=>j(v.id),disabled:s,children:[v.icon,n.jsx("span",{className:v.id==="unallocated"?"whitespace-normal break-words":"",children:v.label}),v.badge&&n.jsx("span",{className:"ml-auto bg-primary text-primary-foreground rounded-full px-2 py-0.5 text-xs",children:v.badge})]},v.id))}),n.jsxs("div",{className:We("mt-8 p-3 bg-muted rounded-lg",s&&"opacity-50"),children:[n.jsx("h4",{className:"font-medium mb-2",children:" "}),n.jsxs("div",{className:"space-y-2 text-sm",children:[r==="EXECUTOR"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:w,children:[n.jsx(Zt,{className:"h-3 w-3 text-gray-500"}),n.jsxs("span",{children:[g.draft||0," "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zt,{className:"h-3 w-3 text-orange-500"}),n.jsxs("span",{children:[g.underReview||0,"  "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-3 w-3 text-red-500"}),n.jsxs("span",{children:[g.returnedForRevision||0,"   "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mt,{className:"h-3 w-3 text-green-500"}),n.jsxs("span",{children:[g.paid||0," "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-3 w-3 text-red-600"}),n.jsxs("span",{children:[g.declined||0," "]})]})]}),r==="REGISTRAR"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:()=>b("newRequests"),children:[n.jsx(Zt,{className:"h-3 w-3 text-orange-500"}),n.jsxs("span",{children:[g.inWork||0,"  "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mt,{className:"h-3 w-3 text-green-500"}),n.jsxs("span",{children:[g.registered||0," "]})]}),n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:()=>b("overdue"),children:[n.jsx(Ot,{className:"h-3 w-3 text-red-500"}),n.jsxs("span",{children:[g.overdue||0," "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-3 w-3 text-yellow-500"}),n.jsxs("span",{children:[g.returnedForRevision||0,"   "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wj,{className:"h-3 w-3 text-red-600"}),n.jsxs("span",{children:[g.declined||0," "]})]})]}),r==="DISTRIBUTOR"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zt,{className:"h-3 w-3 text-orange-500"}),n.jsx("span",{children:"1  "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-3 w-3 text-yellow-500"}),n.jsx("span",{children:"0   "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mt,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{children:"15   "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mt,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{children:"25 "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wj,{className:"h-3 w-3 text-red-600"}),n.jsx("span",{children:"0 "})]})]}),r==="TREASURER"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zt,{className:"h-3 w-3 text-orange-500"}),n.jsx("span",{children:"2  "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-3 w-3 text-yellow-500"}),n.jsx("span",{children:"1   "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mt,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{children:"5     "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mt,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{children:"25 "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-3 w-3 text-red-500"}),n.jsx("span",{children:"0 "})]})]}),r==="ADMIN"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{children:"4  "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zh,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{children:"12 "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vd,{className:"h-3 w-3 text-gray-500"}),n.jsx("span",{children:"3  "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mt,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{children:" "})]})]})]})]})]})}const C7={currentUser:null,currentRole:"EXECUTOR",currentPage:"dashboard",showCreateForm:!1,selectedRequestId:null,viewMode:"list",dashboardFilter:null,isLoading:!0,paymentRequests:[]};function E7(e,t){switch(t.type){case"SET_CURRENT_USER":return{...e,currentUser:t.payload};case"SET_CURRENT_ROLE":return{...e,currentRole:t.payload};case"SET_CURRENT_PAGE":return{...e,currentPage:t.payload};case"SET_SHOW_CREATE_FORM":return{...e,showCreateForm:t.payload};case"SET_SELECTED_REQUEST_ID":return{...e,selectedRequestId:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"SET_DASHBOARD_FILTER":return{...e,dashboardFilter:t.payload};case"SET_IS_LOADING":return{...e,isLoading:t.payload};case"SET_PAYMENT_REQUESTS":return{...e,paymentRequests:t.payload};case"UPDATE_PAYMENT_REQUEST":return{...e,paymentRequests:e.paymentRequests.map(r=>r.id===t.payload.id?t.payload:r)};case"ADD_PAYMENT_REQUEST":return{...e,paymentRequests:[t.payload,...e.paymentRequests]};case"RESET_FORM_STATE":return{...e,showCreateForm:!1,selectedRequestId:null,viewMode:"list"};case"RESET_ROLE_STATE":return{...e,currentPage:"dashboard",showCreateForm:!1,viewMode:"list",selectedRequestId:null,dashboardFilter:null};default:return e}}const oM=x.createContext(null);function T7({children:e}){const[t,r]=x.useReducer(E7,C7);return n.jsx(oM.Provider,{value:{state:t,dispatch:r},children:e})}function Bi(){const e=x.useContext(oM);if(!e)throw new Error("useAppState must be used within an AppStateProvider");return e}const be={setCurrentUser:e=>({type:"SET_CURRENT_USER",payload:e}),setCurrentRole:e=>({type:"SET_CURRENT_ROLE",payload:e}),setCurrentPage:e=>({type:"SET_CURRENT_PAGE",payload:e}),setShowCreateForm:e=>({type:"SET_SHOW_CREATE_FORM",payload:e}),setSelectedRequestId:e=>({type:"SET_SELECTED_REQUEST_ID",payload:e}),setViewMode:e=>({type:"SET_VIEW_MODE",payload:e}),setDashboardFilter:e=>({type:"SET_DASHBOARD_FILTER",payload:e}),setIsLoading:e=>({type:"SET_IS_LOADING",payload:e}),setPaymentRequests:e=>({type:"SET_PAYMENT_REQUESTS",payload:e}),updatePaymentRequest:e=>({type:"UPDATE_PAYMENT_REQUEST",payload:e}),addPaymentRequest:e=>({type:"ADD_PAYMENT_REQUEST",payload:e}),resetFormState:()=>({type:"RESET_FORM_STATE"}),resetRoleState:()=>({type:"RESET_ROLE_STATE"})};let im=!0;const A7=e=>{im=e,console.log(`API mode switched to: ${e?"MOCK":"API"}`),localStorage.setItem("api_mode",e?"mock":"api")},R7=()=>({useMockData:im,mode:im?"mock":"api"}),k7=()=>{const e=localStorage.getItem("api_mode");e&&(im=e==="mock")};k7();function lM(){const{state:e,dispatch:t}=Bi(),r=x.useCallback(async()=>{try{console.log("Starting to load initial data..."),t(be.setIsLoading(!0)),console.log("Loading current user...");const v=await Wu.getCurrentUser();console.log("User loaded:",v),v&&v.is_active?t(be.setCurrentUser(v)):(console.log("User is inactive, not setting current user"),t(be.setCurrentUser(null))),console.log("Initial data loading completed successfully")}catch(v){console.error("Failed to load initial data:",v),we.error(`  : ${v.message||v}`)}finally{t(be.setIsLoading(!1))}},[t]),a=x.useCallback(async v=>{try{console.log("Loading requests for role change:",v);const N=await it.getAll({role:v});console.log("Requests loaded for role:",v,N.length),t(be.setPaymentRequests(N))}catch(N){console.error("Failed to load requests for role:",v,N),we.error(`     ${I7(v)}: ${N.message||N}`)}},[t]),s=x.useCallback(async v=>{try{t(be.setIsLoading(!0));const N=e.currentUser?.id||"dev-user-123";if(e.selectedRequestId&&v.id){const C=await it.update(e.selectedRequestId,v);t(be.updatePaymentRequest(C)),v.status==="draft"?we.success(`  ${C.requestNumber}  `):we.success(` ${C.requestNumber}      `)}else{const C=await it.create(v);t(be.addPaymentRequest(C)),v.status==="draft"?we.success(`  ${C.requestNumber}  `):we.success(` ${C.requestNumber}      `)}t(be.resetFormState()),t(be.setCurrentPage("requests"))}catch(N){console.error("Failed to submit request:",N),we.error(v.status==="draft"?"  ":"  ")}finally{t(be.setIsLoading(!1))}},[e.currentUser,e.selectedRequestId,t]),i=x.useCallback(async v=>{try{t(be.setIsLoading(!0));const N=e.currentUser?.id||"dev-user-123";if(e.selectedRequestId&&v.id){const C=await it.update(e.selectedRequestId,{...v,status:"draft"});t(be.updatePaymentRequest(C)),we.success(`  ${C.requestNumber}  `)}else{const C=await it.create({...v,status:"draft"});t(be.addPaymentRequest(C)),we.success(`  ${C.requestNumber}  `)}t(be.resetFormState()),t(be.setCurrentPage("requests"))}catch(N){console.error("Failed to save draft:",N),we.error("  ")}finally{t(be.setIsLoading(!1))}},[e.currentUser,e.selectedRequestId,t]),l=x.useCallback(async(v,N)=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const C=await it.classify(e.selectedRequestId,v,N);t(be.updatePaymentRequest(C)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),t(be.setCurrentPage("dashboard")),we.success("    ")}catch(C){console.error("Failed to classify request:",C),we.error("  ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),u=x.useCallback(async(v,N)=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const C=await it.classify(e.selectedRequestId,v,N);t(be.updatePaymentRequest(C));const S=await it.sendToDistributor(e.selectedRequestId,v,N);t(be.updatePaymentRequest(S)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),t(be.setCurrentPage("dashboard")),we.success("         ")}catch(C){console.error("Failed to classify and send request to distributor:",C),we.error("   ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),d=x.useCallback(async v=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const N=await it.returnRequest(e.selectedRequestId,v);t(be.updatePaymentRequest(N)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),t(be.setCurrentPage("dashboard")),we.success(" ")}catch(N){console.error("Failed to return request:",N),we.error("  ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),f=x.useCallback(async(v,N,C)=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const S=await it.approve(e.selectedRequestId,v,N,C);t(be.updatePaymentRequest(S)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success("    ")}catch(S){console.error("Failed to approve request:",S),we.error("  ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),m=x.useCallback(async(v,N,C)=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const S=await it.updateStatus(e.selectedRequestId,"approved-on-behalf",{paymentAllocations:v,priority:N,executionComment:C});t(be.updatePaymentRequest(S)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success("       ")}catch(S){console.error("Failed to approve request on behalf:",S),we.error("    ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),h=x.useCallback(async v=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const N=await it.updateStatus(e.selectedRequestId,"declined",{executionComment:v});t(be.updatePaymentRequest(N)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success(" ")}catch(N){console.error("Failed to decline request:",N),we.error("  ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),g=x.useCallback(async(v,N)=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const C=await it.updateStatus(e.selectedRequestId,v,N);t(be.updatePaymentRequest(C)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success(P7(v))}catch(C){console.error("Failed to update request status:",C),we.error("   ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),j=x.useCallback(async(v,N,C)=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const S=await it.distributorAction(e.selectedRequestId,"approve",C,v,N);t(be.updatePaymentRequest(S)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success("     ")}catch(S){console.error("Failed to approve request as distributor:",S),we.error("   ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),w=x.useCallback(async v=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const N=await it.distributorAction(e.selectedRequestId,"decline",v);t(be.updatePaymentRequest(N)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success("  ")}catch(N){console.error("Failed to decline request as distributor:",N),we.error("   ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]),b=x.useCallback(async v=>{if(e.selectedRequestId)try{t(be.setIsLoading(!0));const N=await it.distributorAction(e.selectedRequestId,"return",v);t(be.updatePaymentRequest(N)),t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),we.success("   ")}catch(N){console.error("Failed to return request as distributor:",N),we.error("   ")}finally{t(be.setIsLoading(!1))}},[e.selectedRequestId,t]);return{loadInitialData:r,loadRequestsForRole:a,submitRequest:s,saveDraft:i,classifyRequest:l,classifyRequestWithItems:u,returnRequest:d,approveRequest:f,approveOnBehalfRequest:m,declineRequest:h,treasurerUpdateStatus:g,distributorApprove:j,distributorDecline:w,distributorReturn:b}}function I7(e){return{executor:"",registrar:"",distributor:"",treasurer:"",admin:""}[e]}function P7(e){switch(e){case"in-register":return"     ";case"approved-for-payment":return"   ";case"paid-full":return"    ";case"paid-partial":return"    ";case"declined":return" ";case"cancelled":return" ";default:return"  "}}function O7(){const{state:e,dispatch:t}=Bi(),{loadRequestsForRole:r}=lM(),a=x.useCallback(async i=>{t(be.setCurrentRole(i)),t(be.resetRoleState()),we.success(`  : ${s(i)}`),await r(i)},[t,r]),s=i=>({executor:"",registrar:"",distributor:"",treasurer:"",admin:""})[i];return{handleRoleChange:a,getRoleLabel:s}}function D7(){const{state:e,dispatch:t}=Bi(),r=x.useCallback(()=>{e.currentRole==="EXECUTOR"&&t(be.setShowCreateForm(!0))},[e.currentRole,t]),a=x.useCallback(i=>{t(be.setSelectedRequestId(i));const l=e.paymentRequests.find(u=>u.id===i);e.currentRole==="EXECUTOR"?(t(be.setCurrentPage("requests")),l&&l.status==="draft"?t(be.setShowCreateForm(!0)):t(be.setViewMode("view"))):e.currentRole==="REGISTRAR"?(t(be.setCurrentPage("requests")),l&&l.status==="submitted"?t(be.setViewMode("classify-items")):t(be.setViewMode("view"))):e.currentRole==="DISTRIBUTOR"?(t(be.setCurrentPage("requests")),l&&l.status==="classified"?t(be.setViewMode("approve")):t(be.setViewMode("view"))):e.currentRole==="TREASURER"&&(l&&["approved","in-register","approved-for-payment"].includes(l.status)?(t(be.setCurrentPage("requests")),t(be.setViewMode("treasurer-approve"))):we.info("    "))},[e.currentRole,e.paymentRequests,t]),s=x.useCallback(i=>{t(be.updatePaymentRequest(i))},[t]);return{handleCreateRequest:r,handleViewRequest:a,handleRequestUpdate:s}}var cM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),M7="VisuallyHidden",uM=x.forwardRef((e,t)=>n.jsx(at.span,{...e,ref:t,style:{...cM,...e.style}}));uM.displayName=M7;var $7=uM,[Cp,dpe]=kn("Tooltip",[Ui]),Ep=Ui(),dM="TooltipProvider",L7=700,sw="tooltip.open",[F7,Z1]=Cp(dM),fM=e=>{const{__scopeTooltip:t,delayDuration:r=L7,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,l=x.useRef(!0),u=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),n.jsx(F7,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,a)},[a]),isPointerInTransitRef:u,onPointerInTransitChange:x.useCallback(f=>{u.current=f},[]),disableHoverableContent:s,children:i})};fM.displayName=dM;var nd="Tooltip",[U7,Jd]=Cp(nd),hM=e=>{const{__scopeTooltip:t,children:r,open:a,defaultOpen:s,onOpenChange:i,disableHoverableContent:l,delayDuration:u}=e,d=Z1(nd,e.__scopeTooltip),f=Ep(t),[m,h]=x.useState(null),g=Br(),j=x.useRef(0),w=l??d.disableHoverableContent,b=u??d.delayDuration,v=x.useRef(!1),[N,C]=is({prop:a,defaultProp:s??!1,onChange:k=>{k?(d.onOpen(),document.dispatchEvent(new CustomEvent(sw))):d.onClose(),i?.(k)},caller:nd}),S=x.useMemo(()=>N?v.current?"delayed-open":"instant-open":"closed",[N]),A=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,v.current=!1,C(!0)},[C]),_=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,C(!1)},[C]),T=x.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>{v.current=!0,C(!0),j.current=0},b)},[b,C]);return x.useEffect(()=>()=>{j.current&&(window.clearTimeout(j.current),j.current=0)},[]),n.jsx(gp,{...f,children:n.jsx(U7,{scope:t,contentId:g,open:N,stateAttribute:S,trigger:m,onTriggerChange:h,onTriggerEnter:x.useCallback(()=>{d.isOpenDelayedRef.current?T():A()},[d.isOpenDelayedRef,T,A]),onTriggerLeave:x.useCallback(()=>{w?_():(window.clearTimeout(j.current),j.current=0)},[_,w]),onOpen:A,onClose:_,disableHoverableContent:w,children:r})})};hM.displayName=nd;var iw="TooltipTrigger",mM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=Jd(iw,r),i=Z1(iw,r),l=Ep(r),u=x.useRef(null),d=Nt(t,u,s.onTriggerChange),f=x.useRef(!1),m=x.useRef(!1),h=x.useCallback(()=>f.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(Kd,{asChild:!0,...l,children:n.jsx(at.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:d,onPointerMove:Ue(e.onPointerMove,g=>{g.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{s.open&&s.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ue(e.onFocus,()=>{f.current||s.onOpen()}),onBlur:Ue(e.onBlur,s.onClose),onClick:Ue(e.onClick,s.onClose)})})});mM.displayName=iw;var J1="TooltipPortal",[B7,z7]=Cp(J1,{forceMount:void 0}),pM=e=>{const{__scopeTooltip:t,forceMount:r,children:a,container:s}=e,i=Jd(J1,t);return n.jsx(B7,{scope:t,forceMount:r,children:n.jsx(In,{present:r||i.open,children:n.jsx(Nc,{asChild:!0,container:s,children:a})})})};pM.displayName=J1;var Gl="TooltipContent",gM=x.forwardRef((e,t)=>{const r=z7(Gl,e.__scopeTooltip),{forceMount:a=r.forceMount,side:s="top",...i}=e,l=Jd(Gl,e.__scopeTooltip);return n.jsx(In,{present:a||l.open,children:l.disableHoverableContent?n.jsx(vM,{side:s,...i,ref:t}):n.jsx(q7,{side:s,...i,ref:t})})}),q7=x.forwardRef((e,t)=>{const r=Jd(Gl,e.__scopeTooltip),a=Z1(Gl,e.__scopeTooltip),s=x.useRef(null),i=Nt(t,s),[l,u]=x.useState(null),{trigger:d,onClose:f}=r,m=s.current,{onPointerInTransitChange:h}=a,g=x.useCallback(()=>{u(null),h(!1)},[h]),j=x.useCallback((w,b)=>{const v=w.currentTarget,N={x:w.clientX,y:w.clientY},C=G7(N,v.getBoundingClientRect()),S=K7(N,C),A=Y7(b.getBoundingClientRect()),_=Q7([...S,...A]);u(_),h(!0)},[h]);return x.useEffect(()=>()=>g(),[g]),x.useEffect(()=>{if(d&&m){const w=v=>j(v,m),b=v=>j(v,d);return d.addEventListener("pointerleave",w),m.addEventListener("pointerleave",b),()=>{d.removeEventListener("pointerleave",w),m.removeEventListener("pointerleave",b)}}},[d,m,j,g]),x.useEffect(()=>{if(l){const w=b=>{const v=b.target,N={x:b.clientX,y:b.clientY},C=d?.contains(v)||m?.contains(v),S=!X7(N,l);C?g():S&&(g(),f())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[d,m,l,f,g]),n.jsx(vM,{...e,ref:i})}),[W7,V7]=Cp(nd,{isInside:!1}),H7=yO("TooltipContent"),vM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...u}=e,d=Jd(Gl,r),f=Ep(r),{onClose:m}=d;return x.useEffect(()=>(document.addEventListener(sw,m),()=>document.removeEventListener(sw,m)),[m]),x.useEffect(()=>{if(d.trigger){const h=g=>{g.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[d.trigger,m]),n.jsx(bc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:h=>h.preventDefault(),onDismiss:m,children:n.jsxs(vp,{"data-state":d.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(H7,{children:a}),n.jsx(W7,{scope:r,isInside:!0,children:n.jsx($7,{id:d.contentId,role:"tooltip",children:s||a})})]})})});gM.displayName=Gl;var xM="TooltipArrow",yM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=Ep(r);return V7(xM,r).isInside?null:n.jsx(xp,{...s,...a,ref:t})});yM.displayName=xM;function G7(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,a,s,i)){case i:return"left";case s:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function K7(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function Y7(e){const{top:t,right:r,bottom:a,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:a},{x:s,y:a}]}function X7(e,t){const{x:r,y:a}=e;let s=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const u=t[i],d=t[l],f=u.x,m=u.y,h=d.x,g=d.y;m>a!=g>a&&r<(h-f)*(a-m)/(g-m)+f&&(s=!s)}return s}function Q7(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),Z7(t)}function Z7(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const s=e[a];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;r.length>=2;){const i=r[r.length-1],l=r[r.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var J7=fM,e9=hM,t9=mM,r9=pM,n9=gM,a9=yM;function Tp({delayDuration:e=0,...t}){return n.jsx(J7,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function ad({...e}){return n.jsx(Tp,{children:n.jsx(e9,{"data-slot":"tooltip",...e})})}function sd({...e}){return n.jsx(t9,{"data-slot":"tooltip-trigger",...e})}function id({className:e,sideOffset:t=0,children:r,...a}){return n.jsx(r9,{children:n.jsxs(n9,{"data-slot":"tooltip-content",sideOffset:t,className:We("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...a,children:[r,n.jsx(a9,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const s9={draft:{label:"",variant:"secondary",className:"bg-gray-100 text-gray-800"},submitted:{label:"",variant:"secondary",className:"bg-blue-100 text-blue-800"},classified:{label:"",variant:"secondary",className:"bg-yellow-100 text-yellow-800"},allocated:{label:"",variant:"secondary",className:"bg-purple-100 text-purple-800"},returned:{label:"",variant:"secondary",className:"bg-orange-100 text-orange-800"},approved:{label:"",variant:"secondary",className:"bg-green-100 text-green-800"},"approved-on-behalf":{label:"   -",variant:"secondary",className:"bg-violet-100 text-violet-800"},"to-pay":{label:" ",variant:"secondary",className:"bg-indigo-100 text-indigo-800"},"in-register":{label:" ",variant:"secondary",className:"bg-cyan-100 text-cyan-800"},"approved-for-payment":{label:"  ",variant:"secondary",className:"bg-teal-100 text-teal-800"},"paid-full":{label:" ",variant:"secondary",className:"bg-emerald-100 text-emerald-800"},"paid-partial":{label:" ",variant:"secondary",className:"bg-lime-100 text-lime-800"},declined:{label:"",variant:"secondary",className:"bg-red-100 text-red-800"},rejected:{label:"",variant:"secondary",className:"bg-red-100 text-red-800"},cancelled:{label:"",variant:"secondary",className:"bg-slate-100 text-slate-800"}};function qo({status:e,className:t,showTooltip:r,responsible:a,statusTime:s}){const i=s9[e];if(!i)return console.warn(`Unknown status: ${e}`),n.jsx(je,{variant:"secondary",className:`bg-gray-100 text-gray-800 border-0 ${t||""}`,children:e});const l=n.jsx(je,{variant:i.variant,className:`${i.className} border-0 ${t||""}`,children:i.label});return r&&a?n.jsx(Tp,{children:n.jsxs(ad,{children:[n.jsx(sd,{asChild:!0,children:n.jsx("span",{children:l})}),n.jsx(id,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium",children:[": ",a]}),n.jsxs("div",{children:[": ",i.label]}),s&&n.jsxs("div",{children:[": ",s]})]})})]})}):l}var eN="Progress",tN=100,[i9,fpe]=kn(eN),[o9,l9]=i9(eN),bM=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:s,getValueLabel:i=c9,...l}=e;(s||s===0)&&!l2(s)&&console.error(u9(`${s}`,"Progress"));const u=l2(s)?s:tN;a!==null&&!c2(a,u)&&console.error(d9(`${a}`,"Progress"));const d=c2(a,u)?a:null,f=om(d)?i(d,u):void 0;return n.jsx(o9,{scope:r,value:d,max:u,children:n.jsx(at.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":om(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":NM(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});bM.displayName=eN;var jM="ProgressIndicator",wM=x.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,s=l9(jM,r);return n.jsx(at.div,{"data-state":NM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});wM.displayName=jM;function c9(e,t){return`${Math.round(e/t*100)}%`}function NM(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function om(e){return typeof e=="number"}function l2(e){return om(e)&&!isNaN(e)&&e>0}function c2(e,t){return om(e)&&!isNaN(e)&&e<=t&&e>=0}function u9(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${tN}\`.`}function d9(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${tN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var f9=bM,h9=wM;function rN({className:e,value:t,...r}){return n.jsx(f9,{"data-slot":"progress",className:We("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:n.jsx(h9,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function u2(e,[t,r]){return Math.min(r,Math.max(t,e))}function nN(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var m9=[" ","Enter","ArrowUp","ArrowDown"],p9=[" ","Enter"],ko="Select",[Ap,Rp,g9]=D1(ko),[Sc,hpe]=kn(ko,[g9,Ui]),kp=Ui(),[v9,zi]=Sc(ko),[x9,y9]=Sc(ko),SM=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:s,onOpenChange:i,value:l,defaultValue:u,onValueChange:d,dir:f,name:m,autoComplete:h,disabled:g,required:j,form:w}=e,b=kp(t),[v,N]=x.useState(null),[C,S]=x.useState(null),[A,_]=x.useState(!1),T=up(f),[k,D]=is({prop:a,defaultProp:s??!1,onChange:i,caller:ko}),[I,B]=is({prop:l,defaultProp:u,onChange:d,caller:ko}),z=x.useRef(null),H=v?w||!!v.closest("form"):!0,[W,Z]=x.useState(new Set),$=Array.from(W).map(M=>M.props.value).join(";");return n.jsx(gp,{...b,children:n.jsxs(v9,{required:j,scope:t,trigger:v,onTriggerChange:N,valueNode:C,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:_,contentId:Br(),value:I,onValueChange:B,open:k,onOpenChange:D,dir:T,triggerPointerDownPosRef:z,disabled:g,children:[n.jsx(Ap.Provider,{scope:t,children:n.jsx(x9,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(M=>{Z(P=>new Set(P).add(M))},[]),onNativeOptionRemove:x.useCallback(M=>{Z(P=>{const O=new Set(P);return O.delete(M),O})},[]),children:r})}),H?n.jsxs(HM,{"aria-hidden":!0,required:j,tabIndex:-1,name:m,autoComplete:h,value:I,onChange:M=>B(M.target.value),disabled:g,form:w,children:[I===void 0?n.jsx("option",{value:""}):null,Array.from(W)]},$):null]})})};SM.displayName=ko;var _M="SelectTrigger",CM=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...s}=e,i=kp(r),l=zi(_M,r),u=l.disabled||a,d=Nt(t,l.onTriggerChange),f=Rp(r),m=x.useRef("touch"),[h,g,j]=KM(b=>{const v=f().filter(S=>!S.disabled),N=v.find(S=>S.value===l.value),C=YM(v,b,N);C!==void 0&&l.onValueChange(C.value)}),w=b=>{u||(l.onOpenChange(!0),j()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return n.jsx(Kd,{asChild:!0,...i,children:n.jsx(at.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":GM(l.value)?"":void 0,...s,ref:d,onClick:Ue(s.onClick,b=>{b.currentTarget.focus(),m.current!=="mouse"&&w(b)}),onPointerDown:Ue(s.onPointerDown,b=>{m.current=b.pointerType;const v=b.target;v.hasPointerCapture(b.pointerId)&&v.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:Ue(s.onKeyDown,b=>{const v=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(v&&b.key===" ")&&m9.includes(b.key)&&(w(),b.preventDefault())})})})});CM.displayName=_M;var EM="SelectValue",TM=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,children:i,placeholder:l="",...u}=e,d=zi(EM,r),{onValueNodeHasChildrenChange:f}=d,m=i!==void 0,h=Nt(t,d.onValueNodeChange);return ln(()=>{f(m)},[f,m]),n.jsx(at.span,{...u,ref:h,style:{pointerEvents:"none"},children:GM(d.value)?n.jsx(n.Fragment,{children:l}):i})});TM.displayName=EM;var b9="SelectIcon",AM=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...s}=e;return n.jsx(at.span,{"aria-hidden":!0,...s,ref:t,children:a||""})});AM.displayName=b9;var j9="SelectPortal",RM=e=>n.jsx(Nc,{asChild:!0,...e});RM.displayName=j9;var Io="SelectContent",kM=x.forwardRef((e,t)=>{const r=zi(Io,e.__scopeSelect),[a,s]=x.useState();if(ln(()=>{s(new DocumentFragment)},[]),!r.open){const i=a;return i?qd.createPortal(n.jsx(IM,{scope:e.__scopeSelect,children:n.jsx(Ap.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(PM,{...e,ref:t})});kM.displayName=Io;var Ca=10,[IM,qi]=Sc(Io),w9="SelectContentImpl",N9=Ii("SelectContent.RemoveScroll"),PM=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:g,collisionPadding:j,sticky:w,hideWhenDetached:b,avoidCollisions:v,...N}=e,C=zi(Io,r),[S,A]=x.useState(null),[_,T]=x.useState(null),k=Nt(t,G=>A(G)),[D,I]=x.useState(null),[B,z]=x.useState(null),H=Rp(r),[W,Z]=x.useState(!1),$=x.useRef(!1);x.useEffect(()=>{if(S)return bp(S)},[S]),dp();const M=x.useCallback(G=>{const[fe,...oe]=H().map(re=>re.ref.current),[Ee]=oe.slice(-1),Oe=document.activeElement;for(const re of G)if(re===Oe||(re?.scrollIntoView({block:"nearest"}),re===fe&&_&&(_.scrollTop=0),re===Ee&&_&&(_.scrollTop=_.scrollHeight),re?.focus(),document.activeElement!==Oe))return},[H,_]),P=x.useCallback(()=>M([D,S]),[M,D,S]);x.useEffect(()=>{W&&P()},[W,P]);const{onOpenChange:O,triggerPointerDownPosRef:K}=C;x.useEffect(()=>{if(S){let G={x:0,y:0};const fe=Ee=>{G={x:Math.abs(Math.round(Ee.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(Ee.pageY)-(K.current?.y??0))}},oe=Ee=>{G.x<=10&&G.y<=10?Ee.preventDefault():S.contains(Ee.target)||O(!1),document.removeEventListener("pointermove",fe),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",oe,{capture:!0})}}},[S,O,K]),x.useEffect(()=>{const G=()=>O(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[O]);const[V,q]=KM(G=>{const fe=H().filter(Oe=>!Oe.disabled),oe=fe.find(Oe=>Oe.ref.current===document.activeElement),Ee=YM(fe,G,oe);Ee&&setTimeout(()=>Ee.ref.current.focus())}),F=x.useCallback((G,fe,oe)=>{const Ee=!$.current&&!oe;(C.value!==void 0&&C.value===fe||Ee)&&(I(G),Ee&&($.current=!0))},[C.value]),L=x.useCallback(()=>S?.focus(),[S]),Y=x.useCallback((G,fe,oe)=>{const Ee=!$.current&&!oe;(C.value!==void 0&&C.value===fe||Ee)&&z(G)},[C.value]),ee=a==="popper"?ow:OM,ce=ee===ow?{side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:g,collisionPadding:j,sticky:w,hideWhenDetached:b,avoidCollisions:v}:{};return n.jsx(IM,{scope:r,content:S,viewport:_,onViewportChange:T,itemRefCallback:F,selectedItem:D,onItemLeave:L,itemTextRefCallback:Y,focusSelectedItem:P,selectedItemText:B,position:a,isPositioned:W,searchRef:V,children:n.jsx(Xd,{as:N9,allowPinchZoom:!0,children:n.jsx(Hd,{asChild:!0,trapped:C.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:Ue(s,G=>{C.trigger?.focus({preventScroll:!0}),G.preventDefault()}),children:n.jsx(bc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:n.jsx(ee,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:G=>G.preventDefault(),...N,...ce,onPlaced:()=>Z(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ue(N.onKeyDown,G=>{const fe=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!fe&&G.key.length===1&&q(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let Ee=H().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(G.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const Oe=G.target,re=Ee.indexOf(Oe);Ee=Ee.slice(re+1)}setTimeout(()=>M(Ee)),G.preventDefault()}})})})})})})});PM.displayName=w9;var S9="SelectItemAlignedPosition",OM=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...s}=e,i=zi(Io,r),l=qi(Io,r),[u,d]=x.useState(null),[f,m]=x.useState(null),h=Nt(t,k=>m(k)),g=Rp(r),j=x.useRef(!1),w=x.useRef(!0),{viewport:b,selectedItem:v,selectedItemText:N,focusSelectedItem:C}=l,S=x.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&f&&b&&v&&N){const k=i.trigger.getBoundingClientRect(),D=f.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),B=N.getBoundingClientRect();if(i.dir!=="rtl"){const Oe=B.left-D.left,re=I.left-Oe,le=k.left-re,ge=k.width+le,Le=Math.max(ge,D.width),Xe=window.innerWidth-Ca,ot=u2(re,[Ca,Math.max(Ca,Xe-Le)]);u.style.minWidth=ge+"px",u.style.left=ot+"px"}else{const Oe=D.right-B.right,re=window.innerWidth-I.right-Oe,le=window.innerWidth-k.right-re,ge=k.width+le,Le=Math.max(ge,D.width),Xe=window.innerWidth-Ca,ot=u2(re,[Ca,Math.max(Ca,Xe-Le)]);u.style.minWidth=ge+"px",u.style.right=ot+"px"}const z=g(),H=window.innerHeight-Ca*2,W=b.scrollHeight,Z=window.getComputedStyle(f),$=parseInt(Z.borderTopWidth,10),M=parseInt(Z.paddingTop,10),P=parseInt(Z.borderBottomWidth,10),O=parseInt(Z.paddingBottom,10),K=$+M+W+O+P,V=Math.min(v.offsetHeight*5,K),q=window.getComputedStyle(b),F=parseInt(q.paddingTop,10),L=parseInt(q.paddingBottom,10),Y=k.top+k.height/2-Ca,ee=H-Y,ce=v.offsetHeight/2,G=v.offsetTop+ce,fe=$+M+G,oe=K-fe;if(fe<=Y){const Oe=z.length>0&&v===z[z.length-1].ref.current;u.style.bottom="0px";const re=f.clientHeight-b.offsetTop-b.offsetHeight,le=Math.max(ee,ce+(Oe?L:0)+re+P),ge=fe+le;u.style.height=ge+"px"}else{const Oe=z.length>0&&v===z[0].ref.current;u.style.top="0px";const le=Math.max(Y,$+b.offsetTop+(Oe?F:0)+ce)+oe;u.style.height=le+"px",b.scrollTop=fe-Y+b.offsetTop}u.style.margin=`${Ca}px 0`,u.style.minHeight=V+"px",u.style.maxHeight=H+"px",a?.(),requestAnimationFrame(()=>j.current=!0)}},[g,i.trigger,i.valueNode,u,f,b,v,N,i.dir,a]);ln(()=>S(),[S]);const[A,_]=x.useState();ln(()=>{f&&_(window.getComputedStyle(f).zIndex)},[f]);const T=x.useCallback(k=>{k&&w.current===!0&&(S(),C?.(),w.current=!1)},[S,C]);return n.jsx(C9,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:j,onScrollButtonChange:T,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:n.jsx(at.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});OM.displayName=S9;var _9="SelectPopperPosition",ow=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:s=Ca,...i}=e,l=kp(r);return n.jsx(vp,{...l,...i,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ow.displayName=_9;var[C9,aN]=Sc(Io,{}),lw="SelectViewport",DM=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...s}=e,i=qi(lw,r),l=aN(lw,r),u=Nt(t,i.onViewportChange),d=x.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(Ap.Slot,{scope:r,children:n.jsx(at.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ue(s.onScroll,f=>{const m=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=l;if(g?.current&&h){const j=Math.abs(d.current-m.scrollTop);if(j>0){const w=window.innerHeight-Ca*2,b=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),N=Math.max(b,v);if(N<w){const C=N+j,S=Math.min(w,C),A=C-S;h.style.height=S+"px",h.style.bottom==="0px"&&(m.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});DM.displayName=lw;var MM="SelectGroup",[E9,T9]=Sc(MM),A9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=Br();return n.jsx(E9,{scope:r,id:s,children:n.jsx(at.div,{role:"group","aria-labelledby":s,...a,ref:t})})});A9.displayName=MM;var $M="SelectLabel",R9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=T9($M,r);return n.jsx(at.div,{id:s.id,...a,ref:t})});R9.displayName=$M;var lm="SelectItem",[k9,LM]=Sc(lm),FM=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:s=!1,textValue:i,...l}=e,u=zi(lm,r),d=qi(lm,r),f=u.value===a,[m,h]=x.useState(i??""),[g,j]=x.useState(!1),w=Nt(t,C=>d.itemRefCallback?.(C,a,s)),b=Br(),v=x.useRef("touch"),N=()=>{s||(u.onValueChange(a),u.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(k9,{scope:r,value:a,disabled:s,textId:b,isSelected:f,onItemTextChange:x.useCallback(C=>{h(S=>S||(C?.textContent??"").trim())},[]),children:n.jsx(Ap.ItemSlot,{scope:r,value:a,disabled:s,textValue:m,children:n.jsx(at.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:w,onFocus:Ue(l.onFocus,()=>j(!0)),onBlur:Ue(l.onBlur,()=>j(!1)),onClick:Ue(l.onClick,()=>{v.current!=="mouse"&&N()}),onPointerUp:Ue(l.onPointerUp,()=>{v.current==="mouse"&&N()}),onPointerDown:Ue(l.onPointerDown,C=>{v.current=C.pointerType}),onPointerMove:Ue(l.onPointerMove,C=>{v.current=C.pointerType,s?d.onItemLeave?.():v.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(l.onPointerLeave,C=>{C.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Ue(l.onKeyDown,C=>{d.searchRef?.current!==""&&C.key===" "||(p9.includes(C.key)&&N(),C.key===" "&&C.preventDefault())})})})})});FM.displayName=lm;var Fu="SelectItemText",UM=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,...i}=e,l=zi(Fu,r),u=qi(Fu,r),d=LM(Fu,r),f=y9(Fu,r),[m,h]=x.useState(null),g=Nt(t,N=>h(N),d.onItemTextChange,N=>u.itemTextRefCallback?.(N,d.value,d.disabled)),j=m?.textContent,w=x.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:j},d.value),[d.disabled,d.value,j]),{onNativeOptionAdd:b,onNativeOptionRemove:v}=f;return ln(()=>(b(w),()=>v(w)),[b,v,w]),n.jsxs(n.Fragment,{children:[n.jsx(at.span,{id:d.textId,...i,ref:g}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?qd.createPortal(i.children,l.valueNode):null]})});UM.displayName=Fu;var BM="SelectItemIndicator",zM=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return LM(BM,r).isSelected?n.jsx(at.span,{"aria-hidden":!0,...a,ref:t}):null});zM.displayName=BM;var cw="SelectScrollUpButton",qM=x.forwardRef((e,t)=>{const r=qi(cw,e.__scopeSelect),a=aN(cw,e.__scopeSelect),[s,i]=x.useState(!1),l=Nt(t,a.onScrollButtonChange);return ln(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;i(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?n.jsx(VM,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});qM.displayName=cw;var uw="SelectScrollDownButton",WM=x.forwardRef((e,t)=>{const r=qi(uw,e.__scopeSelect),a=aN(uw,e.__scopeSelect),[s,i]=x.useState(!1),l=Nt(t,a.onScrollButtonChange);return ln(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;i(m)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?n.jsx(VM,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});WM.displayName=uw;var VM=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...s}=e,i=qi("SelectScrollButton",r),l=x.useRef(null),u=Rp(r),d=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),ln(()=>{u().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),n.jsx(at.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ue(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(a,50))}),onPointerMove:Ue(s.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(a,50))}),onPointerLeave:Ue(s.onPointerLeave,()=>{d()})})}),I9="SelectSeparator",P9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return n.jsx(at.div,{"aria-hidden":!0,...a,ref:t})});P9.displayName=I9;var dw="SelectArrow",O9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=kp(r),i=zi(dw,r),l=qi(dw,r);return i.open&&l.position==="popper"?n.jsx(xp,{...s,...a,ref:t}):null});O9.displayName=dw;var D9="SelectBubbleInput",HM=x.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const s=x.useRef(null),i=Nt(a,s),l=nN(t);return x.useEffect(()=>{const u=s.current;if(!u)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const h=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(h)}},[l,t]),n.jsx(at.select,{...r,style:{...cM,...r.style},ref:i,defaultValue:t})});HM.displayName=D9;function GM(e){return e===""||e===void 0}function KM(e){const t=os(e),r=x.useRef(""),a=x.useRef(0),s=x.useCallback(l=>{const u=r.current+l;t(u),(function d(f){r.current=f,window.clearTimeout(a.current),f!==""&&(a.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,s,i]}function YM(e,t,r){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let l=M9(e,Math.max(i,0));s.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function M9(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var $9=SM,L9=CM,F9=TM,U9=AM,B9=RM,z9=kM,q9=DM,W9=FM,V9=UM,H9=zM,G9=qM,K9=WM;function et({...e}){return n.jsx($9,{"data-slot":"select",...e})}function tt({...e}){return n.jsx(F9,{"data-slot":"select-value",...e})}function rt({className:e,size:t="default",children:r,...a}){return n.jsxs(L9,{"data-slot":"select-trigger","data-size":t,className:We("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[r,n.jsx(U9,{asChild:!0,children:n.jsx(Ka,{className:"size-4 opacity-50"})})]})}function nt({className:e,children:t,position:r="popper",...a}){return n.jsx(B9,{children:n.jsxs(z9,{"data-slot":"select-content",className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[n.jsx(Y9,{}),n.jsx(q9,{className:We("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),n.jsx(X9,{})]})})}function xe({className:e,children:t,...r}){return n.jsxs(W9,{"data-slot":"select-item",className:We("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[n.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:n.jsx(H9,{children:n.jsx(Zu,{className:"size-4"})})}),n.jsx(V9,{children:t})]})}function Y9({className:e,...t}){return n.jsx(G9,{"data-slot":"select-scroll-up-button",className:We("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(bB,{className:"size-4"})})}function X9({className:e,...t}){return n.jsx(K9,{"data-slot":"select-scroll-down-button",className:We("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Ka,{className:"size-4"})})}var Cx,d2;function Pn(){if(d2)return Cx;d2=1;var e=Array.isArray;return Cx=e,Cx}var Ex,f2;function XM(){if(f2)return Ex;f2=1;var e=typeof bh=="object"&&bh&&bh.Object===Object&&bh;return Ex=e,Ex}var Tx,h2;function fs(){if(h2)return Tx;h2=1;var e=XM(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Tx=r,Tx}var Ax,m2;function ef(){if(m2)return Ax;m2=1;var e=fs(),t=e.Symbol;return Ax=t,Ax}var Rx,p2;function Q9(){if(p2)return Rx;p2=1;var e=ef(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,s=e?e.toStringTag:void 0;function i(l){var u=r.call(l,s),d=l[s];try{l[s]=void 0;var f=!0}catch{}var m=a.call(l);return f&&(u?l[s]=d:delete l[s]),m}return Rx=i,Rx}var kx,g2;function Z9(){if(g2)return kx;g2=1;var e=Object.prototype,t=e.toString;function r(a){return t.call(a)}return kx=r,kx}var Ix,v2;function qs(){if(v2)return Ix;v2=1;var e=ef(),t=Q9(),r=Z9(),a="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?s:a:i&&i in Object(u)?t(u):r(u)}return Ix=l,Ix}var Px,x2;function Ws(){if(x2)return Px;x2=1;function e(t){return t!=null&&typeof t=="object"}return Px=e,Px}var Ox,y2;function _c(){if(y2)return Ox;y2=1;var e=qs(),t=Ws(),r="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&e(s)==r}return Ox=a,Ox}var Dx,b2;function sN(){if(b2)return Dx;b2=1;var e=Pn(),t=_c(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,l){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||t(i)?!0:a.test(i)||!r.test(i)||l!=null&&i in Object(l)}return Dx=s,Dx}var Mx,j2;function Wi(){if(j2)return Mx;j2=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Mx=e,Mx}var $x,w2;function iN(){if(w2)return $x;w2=1;var e=qs(),t=Wi(),r="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==a||d==s||d==r||d==i}return $x=l,$x}var Lx,N2;function J9(){if(N2)return Lx;N2=1;var e=fs(),t=e["__core-js_shared__"];return Lx=t,Lx}var Fx,S2;function eH(){if(S2)return Fx;S2=1;var e=J9(),t=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!t&&t in a}return Fx=r,Fx}var Ux,_2;function QM(){if(_2)return Ux;_2=1;var e=Function.prototype,t=e.toString;function r(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return Ux=r,Ux}var Bx,C2;function tH(){if(C2)return Bx;C2=1;var e=iN(),t=eH(),r=Wi(),a=QM(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,m=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!r(g)||t(g))return!1;var j=e(g)?m:i;return j.test(a(g))}return Bx=h,Bx}var zx,E2;function rH(){if(E2)return zx;E2=1;function e(t,r){return t?.[r]}return zx=e,zx}var qx,T2;function Wo(){if(T2)return qx;T2=1;var e=tH(),t=rH();function r(a,s){var i=t(a,s);return e(i)?i:void 0}return qx=r,qx}var Wx,A2;function Ip(){if(A2)return Wx;A2=1;var e=Wo(),t=e(Object,"create");return Wx=t,Wx}var Vx,R2;function nH(){if(R2)return Vx;R2=1;var e=Ip();function t(){this.__data__=e?e(null):{},this.size=0}return Vx=t,Vx}var Hx,k2;function aH(){if(k2)return Hx;k2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Hx=e,Hx}var Gx,I2;function sH(){if(I2)return Gx;I2=1;var e=Ip(),t="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function s(i){var l=this.__data__;if(e){var u=l[i];return u===t?void 0:u}return a.call(l,i)?l[i]:void 0}return Gx=s,Gx}var Kx,P2;function iH(){if(P2)return Kx;P2=1;var e=Ip(),t=Object.prototype,r=t.hasOwnProperty;function a(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return Kx=a,Kx}var Yx,O2;function oH(){if(O2)return Yx;O2=1;var e=Ip(),t="__lodash_hash_undefined__";function r(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&s===void 0?t:s,this}return Yx=r,Yx}var Xx,D2;function lH(){if(D2)return Xx;D2=1;var e=nH(),t=aH(),r=sH(),a=iH(),s=oH();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,Xx=i,Xx}var Qx,M2;function cH(){if(M2)return Qx;M2=1;function e(){this.__data__=[],this.size=0}return Qx=e,Qx}var Zx,$2;function oN(){if($2)return Zx;$2=1;function e(t,r){return t===r||t!==t&&r!==r}return Zx=e,Zx}var Jx,L2;function Pp(){if(L2)return Jx;L2=1;var e=oN();function t(r,a){for(var s=r.length;s--;)if(e(r[s][0],a))return s;return-1}return Jx=t,Jx}var ey,F2;function uH(){if(F2)return ey;F2=1;var e=Pp(),t=Array.prototype,r=t.splice;function a(s){var i=this.__data__,l=e(i,s);if(l<0)return!1;var u=i.length-1;return l==u?i.pop():r.call(i,l,1),--this.size,!0}return ey=a,ey}var ty,U2;function dH(){if(U2)return ty;U2=1;var e=Pp();function t(r){var a=this.__data__,s=e(a,r);return s<0?void 0:a[s][1]}return ty=t,ty}var ry,B2;function fH(){if(B2)return ry;B2=1;var e=Pp();function t(r){return e(this.__data__,r)>-1}return ry=t,ry}var ny,z2;function hH(){if(z2)return ny;z2=1;var e=Pp();function t(r,a){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,a])):s[i][1]=a,this}return ny=t,ny}var ay,q2;function Op(){if(q2)return ay;q2=1;var e=cH(),t=uH(),r=dH(),a=fH(),s=hH();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,ay=i,ay}var sy,W2;function lN(){if(W2)return sy;W2=1;var e=Wo(),t=fs(),r=e(t,"Map");return sy=r,sy}var iy,V2;function mH(){if(V2)return iy;V2=1;var e=lH(),t=Op(),r=lN();function a(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return iy=a,iy}var oy,H2;function pH(){if(H2)return oy;H2=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return oy=e,oy}var ly,G2;function Dp(){if(G2)return ly;G2=1;var e=pH();function t(r,a){var s=r.__data__;return e(a)?s[typeof a=="string"?"string":"hash"]:s.map}return ly=t,ly}var cy,K2;function gH(){if(K2)return cy;K2=1;var e=Dp();function t(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return cy=t,cy}var uy,Y2;function vH(){if(Y2)return uy;Y2=1;var e=Dp();function t(r){return e(this,r).get(r)}return uy=t,uy}var dy,X2;function xH(){if(X2)return dy;X2=1;var e=Dp();function t(r){return e(this,r).has(r)}return dy=t,dy}var fy,Q2;function yH(){if(Q2)return fy;Q2=1;var e=Dp();function t(r,a){var s=e(this,r),i=s.size;return s.set(r,a),this.size+=s.size==i?0:1,this}return fy=t,fy}var hy,Z2;function cN(){if(Z2)return hy;Z2=1;var e=mH(),t=gH(),r=vH(),a=xH(),s=yH();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,hy=i,hy}var my,J2;function ZM(){if(J2)return my;J2=1;var e=cN(),t="Expected a function";function r(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var l=arguments,u=s?s.apply(this,l):l[0],d=i.cache;if(d.has(u))return d.get(u);var f=a.apply(this,l);return i.cache=d.set(u,f)||d,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,my=r,my}var py,eT;function bH(){if(eT)return py;eT=1;var e=ZM(),t=500;function r(a){var s=e(a,function(l){return i.size===t&&i.clear(),l}),i=s.cache;return s}return py=r,py}var gy,tT;function jH(){if(tT)return gy;tT=1;var e=bH(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(l,u,d,f){i.push(d?f.replace(r,"$1"):u||l)}),i});return gy=a,gy}var vy,rT;function uN(){if(rT)return vy;rT=1;function e(t,r){for(var a=-1,s=t==null?0:t.length,i=Array(s);++a<s;)i[a]=r(t[a],a,t);return i}return vy=e,vy}var xy,nT;function wH(){if(nT)return xy;nT=1;var e=ef(),t=uN(),r=Pn(),a=_c(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(a(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return xy=l,xy}var yy,aT;function JM(){if(aT)return yy;aT=1;var e=wH();function t(r){return r==null?"":e(r)}return yy=t,yy}var by,sT;function e4(){if(sT)return by;sT=1;var e=Pn(),t=sN(),r=jH(),a=JM();function s(i,l){return e(i)?i:t(i,l)?[i]:r(a(i))}return by=s,by}var jy,iT;function Mp(){if(iT)return jy;iT=1;var e=_c();function t(r){if(typeof r=="string"||e(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return jy=t,jy}var wy,oT;function dN(){if(oT)return wy;oT=1;var e=e4(),t=Mp();function r(a,s){s=e(s,a);for(var i=0,l=s.length;a!=null&&i<l;)a=a[t(s[i++])];return i&&i==l?a:void 0}return wy=r,wy}var Ny,lT;function t4(){if(lT)return Ny;lT=1;var e=dN();function t(r,a,s){var i=r==null?void 0:e(r,a);return i===void 0?s:i}return Ny=t,Ny}var NH=t4();const pa=zt(NH);var Sy,cT;function SH(){if(cT)return Sy;cT=1;function e(t){return t==null}return Sy=e,Sy}var _H=SH();const kt=zt(_H);var _y,uT;function CH(){if(uT)return _y;uT=1;var e=qs(),t=Pn(),r=Ws(),a="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==a}return _y=s,_y}var EH=CH();const Po=zt(EH);var TH=iN();const jt=zt(TH);var AH=Wi();const Cc=zt(AH);var Cy={exports:{}},It={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function RH(){if(dT)return It;dT=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function b(v){if(typeof v=="object"&&v!==null){var N=v.$$typeof;switch(N){case e:switch(v=v.type,v){case r:case s:case a:case f:case m:return v;default:switch(v=v&&v.$$typeof,v){case u:case l:case d:case g:case h:case i:return v;default:return N}}case t:return N}}}return It.ContextConsumer=l,It.ContextProvider=i,It.Element=e,It.ForwardRef=d,It.Fragment=r,It.Lazy=g,It.Memo=h,It.Portal=t,It.Profiler=s,It.StrictMode=a,It.Suspense=f,It.SuspenseList=m,It.isAsyncMode=function(){return!1},It.isConcurrentMode=function(){return!1},It.isContextConsumer=function(v){return b(v)===l},It.isContextProvider=function(v){return b(v)===i},It.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},It.isForwardRef=function(v){return b(v)===d},It.isFragment=function(v){return b(v)===r},It.isLazy=function(v){return b(v)===g},It.isMemo=function(v){return b(v)===h},It.isPortal=function(v){return b(v)===t},It.isProfiler=function(v){return b(v)===s},It.isStrictMode=function(v){return b(v)===a},It.isSuspense=function(v){return b(v)===f},It.isSuspenseList=function(v){return b(v)===m},It.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===s||v===a||v===f||v===m||v===j||typeof v=="object"&&v!==null&&(v.$$typeof===g||v.$$typeof===h||v.$$typeof===i||v.$$typeof===l||v.$$typeof===d||v.$$typeof===w||v.getModuleId!==void 0)},It.typeOf=b,It}var fT;function kH(){return fT||(fT=1,Cy.exports=RH()),Cy.exports}var IH=kH(),Ey,hT;function r4(){if(hT)return Ey;hT=1;var e=qs(),t=Ws(),r="[object Number]";function a(s){return typeof s=="number"||t(s)&&e(s)==r}return Ey=a,Ey}var Ty,mT;function PH(){if(mT)return Ty;mT=1;var e=r4();function t(r){return e(r)&&r!=+r}return Ty=t,Ty}var OH=PH();const tf=zt(OH);var DH=r4();const MH=zt(DH);var Ra=function(t){return t===0?0:t>0?1:-1},yo=function(t){return Po(t)&&t.indexOf("%")===t.length-1},$e=function(t){return MH(t)&&!tf(t)},$H=function(t){return kt(t)},Cr=function(t){return $e(t)||Po(t)},LH=0,$p=function(t){var r=++LH;return"".concat(t||"").concat(r)},Oo=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(t)&&!Po(t))return a;var i;if(yo(t)){var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return tf(i)&&(i=a),s&&i>r&&(i=r),i},_i=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},FH=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},wl=function(t,r){return $e(t)&&$e(r)?function(a){return t+a*(r-t)}:function(){return r}};function fw(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):pa(a,t))===r})}var UH=function(t,r){return $e(t)&&$e(r)?t-r:Po(t)&&Po(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Fl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function hw(e){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hw(e)}var BH=["viewBox","children"],zH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pT=["points","pathLength"],Ay={svg:BH,polygon:pT,polyline:pT},fN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cm=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Cc(a))return null;var s={};return Object.keys(a).forEach(function(i){fN.includes(i)&&(s[i]=r||function(l){return a[i](a,l)})}),s},qH=function(t,r,a){return function(s){return t(r,a,s),null}},um=function(t,r,a){if(!Cc(t)||hw(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];fN.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=qH(l,r,a))}),s},WH=["children"],VH=["children"];function gT(e,t){if(e==null)return{};var r=HH(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function HH(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var vT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ps=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},xT=null,Ry=null,hN=function e(t){if(t===xT&&Array.isArray(Ry))return Ry;var r=[];return x.Children.forEach(t,function(a){kt(a)||(IH.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),Ry=r,xT=t,r};function Ia(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(s){return Ps(s)}):a=[Ps(t)],hN(e).forEach(function(s){var i=pa(s,"type.displayName")||pa(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function Wn(e,t){var r=Ia(e,t);return r&&r[0]}var yT=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,s=r.height;return!(!$e(a)||a<=0||!$e(s)||s<=0)},GH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],KH=function(t){return t&&t.type&&Po(t.type)&&GH.indexOf(t.type)>=0},YH=function(t,r,a,s){var i,l=(i=Ay?.[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!jt(t)&&(s&&l.includes(r)||zH.includes(r))||a&&fN.includes(r)},Rt=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(x.isValidElement(t)&&(s=t.props),!Cc(s))return null;var i={};return Object.keys(s).forEach(function(l){var u;YH((u=s)===null||u===void 0?void 0:u[l],l,r,a)&&(i[l]=s[l])}),i},mw=function e(t,r){if(t===r)return!0;var a=x.Children.count(t);if(a!==x.Children.count(r))return!1;if(a===0)return!0;if(a===1)return bT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var i=t[s],l=r[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!bT(i,l))return!1}return!0},bT=function(t,r){if(kt(t)&&kt(r))return!0;if(!kt(t)&&!kt(r)){var a=t.props||{},s=a.children,i=gT(a,WH),l=r.props||{},u=l.children,d=gT(l,VH);return s&&u?Fl(i,d)&&mw(s,u):!s&&!u?Fl(i,d):!1}return!1},jT=function(t,r){var a=[],s={};return hN(t).forEach(function(i,l){if(KH(i))a.push(i);else if(i){var u=Ps(i.type),d=r[u]||{},f=d.handler,m=d.once;if(f&&(!m||!s[u])){var h=f(i,u,l);a.push(h),s[u]=!0}}}),a},XH=function(t){var r=t&&t.type;return r&&vT[r]?vT[r]:null},QH=function(t,r){return hN(r).indexOf(t)},ZH=["children","width","height","viewBox","className","style","title","desc"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pw.apply(this,arguments)}function JH(e,t){if(e==null)return{};var r=eG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function eG(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function gw(e){var t=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,l=e.style,u=e.title,d=e.desc,f=JH(e,ZH),m=s||{width:r,height:a,x:0,y:0},h=Ct("recharts-surface",i);return Q.createElement("svg",pw({},Rt(f,!0,"svg"),{className:h,width:r,height:a,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),Q.createElement("title",null,u),Q.createElement("desc",null,d),t)}var tG=["children","className"];function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vw.apply(this,arguments)}function rG(e,t){if(e==null)return{};var r=nG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function nG(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Mr=Q.forwardRef(function(e,t){var r=e.children,a=e.className,s=rG(e,tG),i=Ct("recharts-layer",a);return Q.createElement("g",vw({className:i},Rt(s,!0),{ref:t}),r)}),Os=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},ky,wT;function aG(){if(wT)return ky;wT=1;function e(t,r,a){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),a=a>i?i:a,a<0&&(a+=i),i=r>a?0:a-r>>>0,r>>>=0;for(var l=Array(i);++s<i;)l[s]=t[s+r];return l}return ky=e,ky}var Iy,NT;function sG(){if(NT)return Iy;NT=1;var e=aG();function t(r,a,s){var i=r.length;return s=s===void 0?i:s,!a&&s>=i?r:e(r,a,s)}return Iy=t,Iy}var Py,ST;function n4(){if(ST)return Py;ST=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+r+a,i="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+s+i+"]");function d(f){return u.test(f)}return Py=d,Py}var Oy,_T;function iG(){if(_T)return Oy;_T=1;function e(t){return t.split("")}return Oy=e,Oy}var Dy,CT;function oG(){if(CT)return Dy;CT=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+r+a,i="\\ufe0e\\ufe0f",l="["+e+"]",u="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",m="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",j="\\u200d",w=f+"?",b="["+i+"]?",v="(?:"+j+"(?:"+[m,h,g].join("|")+")"+b+w+")*",N=b+w+v,C="(?:"+[m+u+"?",u,h,g,l].join("|")+")",S=RegExp(d+"(?="+d+")|"+C+N,"g");function A(_){return _.match(S)||[]}return Dy=A,Dy}var My,ET;function lG(){if(ET)return My;ET=1;var e=iG(),t=n4(),r=oG();function a(s){return t(s)?r(s):e(s)}return My=a,My}var $y,TT;function cG(){if(TT)return $y;TT=1;var e=sG(),t=n4(),r=lG(),a=JM();function s(i){return function(l){l=a(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[i]()+f}}return $y=s,$y}var Ly,AT;function uG(){if(AT)return Ly;AT=1;var e=cG(),t=e("toUpperCase");return Ly=t,Ly}var dG=uG();const Lp=zt(dG);function Ht(e){return function(){return e}}const a4=Math.cos,dm=Math.sin,$a=Math.sqrt,fm=Math.PI,Fp=2*fm,xw=Math.PI,yw=2*xw,mo=1e-6,fG=yw-mo;function s4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function hG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return s4;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class mG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?s4:hG(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,l){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=a-t,f=s-r,m=l-t,h=u-r,g=m*m+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>mo)if(!(Math.abs(h*d-f*m)>mo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let j=a-l,w=s-u,b=d*d+f*f,v=j*j+w*w,N=Math.sqrt(b),C=Math.sqrt(g),S=i*Math.tan((xw-Math.acos((b+g-v)/(2*N*C)))/2),A=S/C,_=S/N;Math.abs(A-1)>mo&&this._append`L${t+A*m},${r+A*h}`,this._append`A${i},${i},0,0,${+(h*j>m*w)},${this._x1=t+_*d},${this._y1=r+_*f}`}}arc(t,r,a,s,i,l){if(t=+t,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let u=a*Math.cos(s),d=a*Math.sin(s),f=t+u,m=r+d,h=1^l,g=l?s-i:i-s;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>mo||Math.abs(this._y1-m)>mo)&&this._append`L${f},${m}`,a&&(g<0&&(g=g%yw+yw),g>fG?this._append`A${a},${a},0,1,${h},${t-u},${r-d}A${a},${a},0,1,${h},${this._x1=f},${this._y1=m}`:g>mo&&this._append`A${a},${a},0,${+(g>=xw)},${h},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function mN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new mG(t)}function pN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function i4(e){this._context=e}i4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Up(e){return new i4(e)}function o4(e){return e[0]}function l4(e){return e[1]}function c4(e,t){var r=Ht(!0),a=null,s=Up,i=null,l=mN(u);e=typeof e=="function"?e:e===void 0?o4:Ht(e),t=typeof t=="function"?t:t===void 0?l4:Ht(t);function u(d){var f,m=(d=pN(d)).length,h,g=!1,j;for(a==null&&(i=s(j=l())),f=0;f<=m;++f)!(f<m&&r(h=d[f],f,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(h,f,d),+t(h,f,d));if(j)return i=null,j+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ht(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ht(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Ht(!!d),u):r},u.curve=function(d){return arguments.length?(s=d,a!=null&&(i=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=i=null:i=s(a=d),u):a},u}function Ih(e,t,r){var a=null,s=Ht(!0),i=null,l=Up,u=null,d=mN(f);e=typeof e=="function"?e:e===void 0?o4:Ht(+e),t=typeof t=="function"?t:Ht(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?l4:Ht(+r);function f(h){var g,j,w,b=(h=pN(h)).length,v,N=!1,C,S=new Array(b),A=new Array(b);for(i==null&&(u=l(C=d())),g=0;g<=b;++g){if(!(g<b&&s(v=h[g],g,h))===N)if(N=!N)j=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=g-1;w>=j;--w)u.point(S[w],A[w]);u.lineEnd(),u.areaEnd()}N&&(S[g]=+e(v,g,h),A[g]=+t(v,g,h),u.point(a?+a(v,g,h):S[g],r?+r(v,g,h):A[g]))}if(C)return u=null,C+""||null}function m(){return c4().defined(s).curve(l).context(i)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ht(+h),a=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Ht(+h),f):e},f.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:Ht(+h),f):a},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:Ht(+h),r=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Ht(+h),f):t},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ht(+h),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(a).y(t)},f.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Ht(!!h),f):s},f.curve=function(h){return arguments.length?(l=h,i!=null&&(u=l(i)),f):l},f.context=function(h){return arguments.length?(h==null?i=u=null:u=l(i=h),f):i},f}class u4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function pG(e){return new u4(e,!0)}function gG(e){return new u4(e,!1)}const gN={draw(e,t){const r=$a(t/fm);e.moveTo(r,0),e.arc(0,0,r,0,Fp)}},vG={draw(e,t){const r=$a(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},d4=$a(1/3),xG=d4*2,yG={draw(e,t){const r=$a(t/xG),a=r*d4;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},bG={draw(e,t){const r=$a(t),a=-r/2;e.rect(a,a,r,r)}},jG=.8908130915292852,f4=dm(fm/10)/dm(7*fm/10),wG=dm(Fp/10)*f4,NG=-a4(Fp/10)*f4,SG={draw(e,t){const r=$a(t*jG),a=wG*r,s=NG*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const l=Fp*i/5,u=a4(l),d=dm(l);e.lineTo(d*r,-u*r),e.lineTo(u*a-d*s,d*a+u*s)}e.closePath()}},Fy=$a(3),_G={draw(e,t){const r=-$a(t/(Fy*3));e.moveTo(0,r*2),e.lineTo(-Fy*r,-r),e.lineTo(Fy*r,-r),e.closePath()}},la=-.5,ca=$a(3)/2,bw=1/$a(12),CG=(bw/2+1)*3,EG={draw(e,t){const r=$a(t/CG),a=r/2,s=r*bw,i=a,l=r*bw+r,u=-i,d=l;e.moveTo(a,s),e.lineTo(i,l),e.lineTo(u,d),e.lineTo(la*a-ca*s,ca*a+la*s),e.lineTo(la*i-ca*l,ca*i+la*l),e.lineTo(la*u-ca*d,ca*u+la*d),e.lineTo(la*a+ca*s,la*s-ca*a),e.lineTo(la*i+ca*l,la*l-ca*i),e.lineTo(la*u+ca*d,la*d-ca*u),e.closePath()}};function TG(e,t){let r=null,a=mN(s);e=typeof e=="function"?e:Ht(e||gN),t=typeof t=="function"?t:Ht(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ht(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ht(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function hm(){}function mm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function h4(e){this._context=e}h4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AG(e){return new h4(e)}function m4(e){this._context=e}m4.prototype={areaStart:hm,areaEnd:hm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RG(e){return new m4(e)}function p4(e){this._context=e}p4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:mm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kG(e){return new p4(e)}function g4(e){this._context=e}g4.prototype={areaStart:hm,areaEnd:hm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function IG(e){return new g4(e)}function RT(e){return e<0?-1:1}function kT(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),l=(r-e._y1)/(s||a<0&&-0),u=(i*s+l*a)/(a+s);return(RT(i)+RT(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function IT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Uy(e,t,r){var a=e._x0,s=e._y0,i=e._x1,l=e._y1,u=(i-a)/3;e._context.bezierCurveTo(a+u,s+u*t,i-u,l-u*r,i,l)}function pm(e){this._context=e}pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uy(this,this._t0,IT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Uy(this,IT(this,r=kT(this,e,t)),r);break;default:Uy(this,this._t0,r=kT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function v4(e){this._context=new x4(e)}(v4.prototype=Object.create(pm.prototype)).point=function(e,t){pm.prototype.point.call(this,t,e)};function x4(e){this._context=e}x4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function PG(e){return new pm(e)}function OG(e){return new v4(e)}function y4(e){this._context=e}y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=PT(e),s=PT(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PT(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),l=new Array(r);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(s[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function DG(e){return new y4(e)}function Bp(e,t){this._context=e,this._t=t}Bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function MG(e){return new Bp(e,.5)}function $G(e){return new Bp(e,0)}function LG(e){return new Bp(e,1)}function Kl(e,t){if((l=e.length)>1)for(var r=1,a,s,i=e[t[0]],l,u=i.length;r<l;++r)for(s=i,i=e[t[r]],a=0;a<u;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function jw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function FG(e,t){return e[t]}function UG(e){const t=[];return t.key=e,t}function BG(){var e=Ht([]),t=jw,r=Kl,a=FG;function s(i){var l=Array.from(e.apply(this,arguments),UG),u,d=l.length,f=-1,m;for(const h of i)for(u=0,++f;u<d;++u)(l[u][f]=[0,+a(h,l[u].key,f,i)]).data=h;for(u=0,m=pN(t(l));u<d;++u)l[m[u]].index=u;return r(l,m),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ht(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Ht(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?jw:typeof i=="function"?i:Ht(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Kl,s):r},s}function zG(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,l;s<i;++s){for(l=r=0;r<a;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<a;++r)e[r][s][1]/=l}Kl(e,t)}}function qG(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var l=0,u=0;l<s;++l)u+=e[l][r][1]||0;a[r][1]+=a[r][0]=-u/2}Kl(e,t)}}function WG(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,l;a<i;++a){for(var u=0,d=0,f=0;u<l;++u){for(var m=e[t[u]],h=m[a][1]||0,g=m[a-1][1]||0,j=(h-g)/2,w=0;w<u;++w){var b=e[t[w]],v=b[a][1]||0,N=b[a-1][1]||0;j+=v-N}d+=h,f+=j*h}s[a-1][1]+=s[a-1][0]=r,d&&(r-=f/d)}s[a-1][1]+=s[a-1][0]=r,Kl(e,t)}}function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}var VG=["type","size","sizeType"];function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ww.apply(this,arguments)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function DT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(a){HG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function HG(e,t,r){return t=GG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=KG(e,"string");return od(t)=="symbol"?t:t+""}function KG(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(od(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YG(e,t){if(e==null)return{};var r=XG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function XG(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var b4={symbolCircle:gN,symbolCross:vG,symbolDiamond:yG,symbolSquare:bG,symbolStar:SG,symbolTriangle:_G,symbolWye:EG},QG=Math.PI/180,ZG=function(t){var r="symbol".concat(Lp(t));return b4[r]||gN},JG=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*QG;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},eK=function(t,r){b4["symbol".concat(Lp(t))]=r},vN=function(t){var r=t.type,a=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,l=t.sizeType,u=l===void 0?"area":l,d=YG(t,VG),f=DT(DT({},d),{},{type:a,size:i,sizeType:u}),m=function(){var v=ZG(a),N=TG().type(v).size(JG(i,u,a));return N()},h=f.className,g=f.cx,j=f.cy,w=Rt(f,!0);return g===+g&&j===+j&&i===+i?Q.createElement("path",ww({},w,{className:Ct("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(j,")"),d:m()})):null};vN.registerSymbol=eK;function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Nw.apply(this,arguments)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(a){ld(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nK(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,w4(a.key),a)}}function aK(e,t,r){return t&&nK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sK(e,t,r){return t=gm(t),iK(e,j4()?Reflect.construct(t,r||[],gm(e).constructor):t.apply(e,r))}function iK(e,t){if(t&&(Yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oK(e)}function oK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!e})()}function gm(e){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(e)}function lK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sw(e,t)}function Sw(e,t){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Sw(e,t)}function ld(e,t,r){return t=w4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w4(e){var t=cK(e,"string");return Yl(t)=="symbol"?t:t+""}function cK(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Yl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ua=32,xN=(function(e){function t(){return rK(this,t),sK(this,t,arguments)}return lK(t,e),aK(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=ua/2,l=ua/6,u=ua/3,d=a.inactive?s:a.color;if(a.type==="plainline")return Q.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:ua,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return Q.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(ua,"M").concat(2*u,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return Q.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ua/8,"h").concat(ua,"v").concat(ua*3/4,"h").concat(-ua,"z"),className:"recharts-legend-icon"});if(Q.isValidElement(a.legendIcon)){var f=tK({},a);return delete f.legendIcon,Q.cloneElement(a.legendIcon,f)}return Q.createElement(vN,{fill:d,cx:i,cy:i,size:ua,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,l=s.iconSize,u=s.layout,d=s.formatter,f=s.inactiveColor,m={x:0,y:0,width:ua,height:ua},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(j,w){var b=j.formatter||d,v=Ct(ld(ld({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",j.inactive));if(j.type==="none")return null;var N=jt(j.value)?null:j.value;Os(!jt(j.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=j.inactive?f:j.color;return Q.createElement("li",Nw({className:v,style:h,key:"legend-item-".concat(w)},um(a.props,j,w)),Q.createElement(gw,{width:l,height:l,viewBox:m,style:g},a.renderIcon(j)),Q.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},b?b(N,j,w):N))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,l=a.align;if(!s||!s.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return Q.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(x.PureComponent);ld(xN,"displayName","Legend");ld(xN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var By,$T;function uK(){if($T)return By;$T=1;var e=Op();function t(){this.__data__=new e,this.size=0}return By=t,By}var zy,LT;function dK(){if(LT)return zy;LT=1;function e(t){var r=this.__data__,a=r.delete(t);return this.size=r.size,a}return zy=e,zy}var qy,FT;function fK(){if(FT)return qy;FT=1;function e(t){return this.__data__.get(t)}return qy=e,qy}var Wy,UT;function hK(){if(UT)return Wy;UT=1;function e(t){return this.__data__.has(t)}return Wy=e,Wy}var Vy,BT;function mK(){if(BT)return Vy;BT=1;var e=Op(),t=lN(),r=cN(),a=200;function s(i,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<a-1)return d.push([i,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(i,l),this.size=u.size,this}return Vy=s,Vy}var Hy,zT;function N4(){if(zT)return Hy;zT=1;var e=Op(),t=uK(),r=dK(),a=fK(),s=hK(),i=mK();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=s,l.prototype.set=i,Hy=l,Hy}var Gy,qT;function pK(){if(qT)return Gy;qT=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Gy=t,Gy}var Ky,WT;function gK(){if(WT)return Ky;WT=1;function e(t){return this.__data__.has(t)}return Ky=e,Ky}var Yy,VT;function S4(){if(VT)return Yy;VT=1;var e=cN(),t=pK(),r=gK();function a(s){var i=-1,l=s==null?0:s.length;for(this.__data__=new e;++i<l;)this.add(s[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=r,Yy=a,Yy}var Xy,HT;function _4(){if(HT)return Xy;HT=1;function e(t,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(r(t[a],a,t))return!0;return!1}return Xy=e,Xy}var Qy,GT;function C4(){if(GT)return Qy;GT=1;function e(t,r){return t.has(r)}return Qy=e,Qy}var Zy,KT;function E4(){if(KT)return Zy;KT=1;var e=S4(),t=_4(),r=C4(),a=1,s=2;function i(l,u,d,f,m,h){var g=d&a,j=l.length,w=u.length;if(j!=w&&!(g&&w>j))return!1;var b=h.get(l),v=h.get(u);if(b&&v)return b==u&&v==l;var N=-1,C=!0,S=d&s?new e:void 0;for(h.set(l,u),h.set(u,l);++N<j;){var A=l[N],_=u[N];if(f)var T=g?f(_,A,N,u,l,h):f(A,_,N,l,u,h);if(T!==void 0){if(T)continue;C=!1;break}if(S){if(!t(u,function(k,D){if(!r(S,D)&&(A===k||m(A,k,d,f,h)))return S.push(D)})){C=!1;break}}else if(!(A===_||m(A,_,d,f,h))){C=!1;break}}return h.delete(l),h.delete(u),C}return Zy=i,Zy}var Jy,YT;function vK(){if(YT)return Jy;YT=1;var e=fs(),t=e.Uint8Array;return Jy=t,Jy}var e0,XT;function xK(){if(XT)return e0;XT=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(s,i){a[++r]=[i,s]}),a}return e0=e,e0}var t0,QT;function yN(){if(QT)return t0;QT=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(s){a[++r]=s}),a}return t0=e,t0}var r0,ZT;function yK(){if(ZT)return r0;ZT=1;var e=ef(),t=vK(),r=oN(),a=E4(),s=xK(),i=yN(),l=1,u=2,d="[object Boolean]",f="[object Date]",m="[object Error]",h="[object Map]",g="[object Number]",j="[object RegExp]",w="[object Set]",b="[object String]",v="[object Symbol]",N="[object ArrayBuffer]",C="[object DataView]",S=e?e.prototype:void 0,A=S?S.valueOf:void 0;function _(T,k,D,I,B,z,H){switch(D){case C:if(T.byteLength!=k.byteLength||T.byteOffset!=k.byteOffset)return!1;T=T.buffer,k=k.buffer;case N:return!(T.byteLength!=k.byteLength||!z(new t(T),new t(k)));case d:case f:case g:return r(+T,+k);case m:return T.name==k.name&&T.message==k.message;case j:case b:return T==k+"";case h:var W=s;case w:var Z=I&l;if(W||(W=i),T.size!=k.size&&!Z)return!1;var $=H.get(T);if($)return $==k;I|=u,H.set(T,k);var M=a(W(T),W(k),I,B,z,H);return H.delete(T),M;case v:if(A)return A.call(T)==A.call(k)}return!1}return r0=_,r0}var n0,JT;function T4(){if(JT)return n0;JT=1;function e(t,r){for(var a=-1,s=r.length,i=t.length;++a<s;)t[i+a]=r[a];return t}return n0=e,n0}var a0,eA;function bK(){if(eA)return a0;eA=1;var e=T4(),t=Pn();function r(a,s,i){var l=s(a);return t(a)?l:e(l,i(a))}return a0=r,a0}var s0,tA;function jK(){if(tA)return s0;tA=1;function e(t,r){for(var a=-1,s=t==null?0:t.length,i=0,l=[];++a<s;){var u=t[a];r(u,a,t)&&(l[i++]=u)}return l}return s0=e,s0}var i0,rA;function wK(){if(rA)return i0;rA=1;function e(){return[]}return i0=e,i0}var o0,nA;function NK(){if(nA)return o0;nA=1;var e=jK(),t=wK(),r=Object.prototype,a=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(u){return a.call(l,u)}))}:t;return o0=i,o0}var l0,aA;function SK(){if(aA)return l0;aA=1;function e(t,r){for(var a=-1,s=Array(t);++a<t;)s[a]=r(a);return s}return l0=e,l0}var c0,sA;function _K(){if(sA)return c0;sA=1;var e=qs(),t=Ws(),r="[object Arguments]";function a(s){return t(s)&&e(s)==r}return c0=a,c0}var u0,iA;function bN(){if(iA)return u0;iA=1;var e=_K(),t=Ws(),r=Object.prototype,a=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&a.call(l,"callee")&&!s.call(l,"callee")};return u0=i,u0}var Uu={exports:{}},d0,oA;function CK(){if(oA)return d0;oA=1;function e(){return!1}return d0=e,d0}Uu.exports;var lA;function A4(){return lA||(lA=1,(function(e,t){var r=fs(),a=CK(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||a;e.exports=f})(Uu,Uu.exports)),Uu.exports}var f0,cA;function jN(){if(cA)return f0;cA=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(a,s){var i=typeof a;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<s}return f0=r,f0}var h0,uA;function wN(){if(uA)return h0;uA=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return h0=t,h0}var m0,dA;function EK(){if(dA)return m0;dA=1;var e=qs(),t=wN(),r=Ws(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",m="[object Number]",h="[object Object]",g="[object RegExp]",j="[object Set]",w="[object String]",b="[object WeakMap]",v="[object ArrayBuffer]",N="[object DataView]",C="[object Float32Array]",S="[object Float64Array]",A="[object Int8Array]",_="[object Int16Array]",T="[object Int32Array]",k="[object Uint8Array]",D="[object Uint8ClampedArray]",I="[object Uint16Array]",B="[object Uint32Array]",z={};z[C]=z[S]=z[A]=z[_]=z[T]=z[k]=z[D]=z[I]=z[B]=!0,z[a]=z[s]=z[v]=z[i]=z[N]=z[l]=z[u]=z[d]=z[f]=z[m]=z[h]=z[g]=z[j]=z[w]=z[b]=!1;function H(W){return r(W)&&t(W.length)&&!!z[e(W)]}return m0=H,m0}var p0,fA;function R4(){if(fA)return p0;fA=1;function e(t){return function(r){return t(r)}}return p0=e,p0}var Bu={exports:{}};Bu.exports;var hA;function TK(){return hA||(hA=1,(function(e,t){var r=XM(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i&&r.process,u=(function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(Bu,Bu.exports)),Bu.exports}var g0,mA;function k4(){if(mA)return g0;mA=1;var e=EK(),t=R4(),r=TK(),a=r&&r.isTypedArray,s=a?t(a):e;return g0=s,g0}var v0,pA;function AK(){if(pA)return v0;pA=1;var e=SK(),t=bN(),r=Pn(),a=A4(),s=jN(),i=k4(),l=Object.prototype,u=l.hasOwnProperty;function d(f,m){var h=r(f),g=!h&&t(f),j=!h&&!g&&a(f),w=!h&&!g&&!j&&i(f),b=h||g||j||w,v=b?e(f.length,String):[],N=v.length;for(var C in f)(m||u.call(f,C))&&!(b&&(C=="length"||j&&(C=="offset"||C=="parent")||w&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||s(C,N)))&&v.push(C);return v}return v0=d,v0}var x0,gA;function RK(){if(gA)return x0;gA=1;var e=Object.prototype;function t(r){var a=r&&r.constructor,s=typeof a=="function"&&a.prototype||e;return r===s}return x0=t,x0}var y0,vA;function I4(){if(vA)return y0;vA=1;function e(t,r){return function(a){return t(r(a))}}return y0=e,y0}var b0,xA;function kK(){if(xA)return b0;xA=1;var e=I4(),t=e(Object.keys,Object);return b0=t,b0}var j0,yA;function IK(){if(yA)return j0;yA=1;var e=RK(),t=kK(),r=Object.prototype,a=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var l=[];for(var u in Object(i))a.call(i,u)&&u!="constructor"&&l.push(u);return l}return j0=s,j0}var w0,bA;function rf(){if(bA)return w0;bA=1;var e=iN(),t=wN();function r(a){return a!=null&&t(a.length)&&!e(a)}return w0=r,w0}var N0,jA;function zp(){if(jA)return N0;jA=1;var e=AK(),t=IK(),r=rf();function a(s){return r(s)?e(s):t(s)}return N0=a,N0}var S0,wA;function PK(){if(wA)return S0;wA=1;var e=bK(),t=NK(),r=zp();function a(s){return e(s,r,t)}return S0=a,S0}var _0,NA;function OK(){if(NA)return _0;NA=1;var e=PK(),t=1,r=Object.prototype,a=r.hasOwnProperty;function s(i,l,u,d,f,m){var h=u&t,g=e(i),j=g.length,w=e(l),b=w.length;if(j!=b&&!h)return!1;for(var v=j;v--;){var N=g[v];if(!(h?N in l:a.call(l,N)))return!1}var C=m.get(i),S=m.get(l);if(C&&S)return C==l&&S==i;var A=!0;m.set(i,l),m.set(l,i);for(var _=h;++v<j;){N=g[v];var T=i[N],k=l[N];if(d)var D=h?d(k,T,N,l,i,m):d(T,k,N,i,l,m);if(!(D===void 0?T===k||f(T,k,u,d,m):D)){A=!1;break}_||(_=N=="constructor")}if(A&&!_){var I=i.constructor,B=l.constructor;I!=B&&"constructor"in i&&"constructor"in l&&!(typeof I=="function"&&I instanceof I&&typeof B=="function"&&B instanceof B)&&(A=!1)}return m.delete(i),m.delete(l),A}return _0=s,_0}var C0,SA;function DK(){if(SA)return C0;SA=1;var e=Wo(),t=fs(),r=e(t,"DataView");return C0=r,C0}var E0,_A;function MK(){if(_A)return E0;_A=1;var e=Wo(),t=fs(),r=e(t,"Promise");return E0=r,E0}var T0,CA;function P4(){if(CA)return T0;CA=1;var e=Wo(),t=fs(),r=e(t,"Set");return T0=r,T0}var A0,EA;function $K(){if(EA)return A0;EA=1;var e=Wo(),t=fs(),r=e(t,"WeakMap");return A0=r,A0}var R0,TA;function LK(){if(TA)return R0;TA=1;var e=DK(),t=lN(),r=MK(),a=P4(),s=$K(),i=qs(),l=QM(),u="[object Map]",d="[object Object]",f="[object Promise]",m="[object Set]",h="[object WeakMap]",g="[object DataView]",j=l(e),w=l(t),b=l(r),v=l(a),N=l(s),C=i;return(e&&C(new e(new ArrayBuffer(1)))!=g||t&&C(new t)!=u||r&&C(r.resolve())!=f||a&&C(new a)!=m||s&&C(new s)!=h)&&(C=function(S){var A=i(S),_=A==d?S.constructor:void 0,T=_?l(_):"";if(T)switch(T){case j:return g;case w:return u;case b:return f;case v:return m;case N:return h}return A}),R0=C,R0}var k0,AA;function FK(){if(AA)return k0;AA=1;var e=N4(),t=E4(),r=yK(),a=OK(),s=LK(),i=Pn(),l=A4(),u=k4(),d=1,f="[object Arguments]",m="[object Array]",h="[object Object]",g=Object.prototype,j=g.hasOwnProperty;function w(b,v,N,C,S,A){var _=i(b),T=i(v),k=_?m:s(b),D=T?m:s(v);k=k==f?h:k,D=D==f?h:D;var I=k==h,B=D==h,z=k==D;if(z&&l(b)){if(!l(v))return!1;_=!0,I=!1}if(z&&!I)return A||(A=new e),_||u(b)?t(b,v,N,C,S,A):r(b,v,k,N,C,S,A);if(!(N&d)){var H=I&&j.call(b,"__wrapped__"),W=B&&j.call(v,"__wrapped__");if(H||W){var Z=H?b.value():b,$=W?v.value():v;return A||(A=new e),S(Z,$,N,C,A)}}return z?(A||(A=new e),a(b,v,N,C,S,A)):!1}return k0=w,k0}var I0,RA;function NN(){if(RA)return I0;RA=1;var e=FK(),t=Ws();function r(a,s,i,l,u){return a===s?!0:a==null||s==null||!t(a)&&!t(s)?a!==a&&s!==s:e(a,s,i,l,r,u)}return I0=r,I0}var P0,kA;function UK(){if(kA)return P0;kA=1;var e=N4(),t=NN(),r=1,a=2;function s(i,l,u,d){var f=u.length,m=f,h=!d;if(i==null)return!m;for(i=Object(i);f--;){var g=u[f];if(h&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++f<m;){g=u[f];var j=g[0],w=i[j],b=g[1];if(h&&g[2]){if(w===void 0&&!(j in i))return!1}else{var v=new e;if(d)var N=d(w,b,j,i,l,v);if(!(N===void 0?t(b,w,r|a,d,v):N))return!1}}return!0}return P0=s,P0}var O0,IA;function O4(){if(IA)return O0;IA=1;var e=Wi();function t(r){return r===r&&!e(r)}return O0=t,O0}var D0,PA;function BK(){if(PA)return D0;PA=1;var e=O4(),t=zp();function r(a){for(var s=t(a),i=s.length;i--;){var l=s[i],u=a[l];s[i]=[l,u,e(u)]}return s}return D0=r,D0}var M0,OA;function D4(){if(OA)return M0;OA=1;function e(t,r){return function(a){return a==null?!1:a[t]===r&&(r!==void 0||t in Object(a))}}return M0=e,M0}var $0,DA;function zK(){if(DA)return $0;DA=1;var e=UK(),t=BK(),r=D4();function a(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(l){return l===s||e(l,s,i)}}return $0=a,$0}var L0,MA;function qK(){if(MA)return L0;MA=1;function e(t,r){return t!=null&&r in Object(t)}return L0=e,L0}var F0,$A;function WK(){if($A)return F0;$A=1;var e=e4(),t=bN(),r=Pn(),a=jN(),s=wN(),i=Mp();function l(u,d,f){d=e(d,u);for(var m=-1,h=d.length,g=!1;++m<h;){var j=i(d[m]);if(!(g=u!=null&&f(u,j)))break;u=u[j]}return g||++m!=h?g:(h=u==null?0:u.length,!!h&&s(h)&&a(j,h)&&(r(u)||t(u)))}return F0=l,F0}var U0,LA;function VK(){if(LA)return U0;LA=1;var e=qK(),t=WK();function r(a,s){return a!=null&&t(a,s,e)}return U0=r,U0}var B0,FA;function HK(){if(FA)return B0;FA=1;var e=NN(),t=t4(),r=VK(),a=sN(),s=O4(),i=D4(),l=Mp(),u=1,d=2;function f(m,h){return a(m)&&s(h)?i(l(m),h):function(g){var j=t(g,m);return j===void 0&&j===h?r(g,m):e(h,j,u|d)}}return B0=f,B0}var z0,UA;function Ec(){if(UA)return z0;UA=1;function e(t){return t}return z0=e,z0}var q0,BA;function GK(){if(BA)return q0;BA=1;function e(t){return function(r){return r?.[t]}}return q0=e,q0}var W0,zA;function KK(){if(zA)return W0;zA=1;var e=dN();function t(r){return function(a){return e(a,r)}}return W0=t,W0}var V0,qA;function YK(){if(qA)return V0;qA=1;var e=GK(),t=KK(),r=sN(),a=Mp();function s(i){return r(i)?e(a(i)):t(i)}return V0=s,V0}var H0,WA;function Vi(){if(WA)return H0;WA=1;var e=zK(),t=HK(),r=Ec(),a=Pn(),s=YK();function i(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?a(l)?t(l[0],l[1]):e(l):s(l)}return H0=i,H0}var G0,VA;function M4(){if(VA)return G0;VA=1;function e(t,r,a,s){for(var i=t.length,l=a+(s?1:-1);s?l--:++l<i;)if(r(t[l],l,t))return l;return-1}return G0=e,G0}var K0,HA;function XK(){if(HA)return K0;HA=1;function e(t){return t!==t}return K0=e,K0}var Y0,GA;function QK(){if(GA)return Y0;GA=1;function e(t,r,a){for(var s=a-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return Y0=e,Y0}var X0,KA;function ZK(){if(KA)return X0;KA=1;var e=M4(),t=XK(),r=QK();function a(s,i,l){return i===i?r(s,i,l):e(s,t,l)}return X0=a,X0}var Q0,YA;function JK(){if(YA)return Q0;YA=1;var e=ZK();function t(r,a){var s=r==null?0:r.length;return!!s&&e(r,a,0)>-1}return Q0=t,Q0}var Z0,XA;function eY(){if(XA)return Z0;XA=1;function e(t,r,a){for(var s=-1,i=t==null?0:t.length;++s<i;)if(a(r,t[s]))return!0;return!1}return Z0=e,Z0}var J0,QA;function tY(){if(QA)return J0;QA=1;function e(){}return J0=e,J0}var eb,ZA;function rY(){if(ZA)return eb;ZA=1;var e=P4(),t=tY(),r=yN(),a=1/0,s=e&&1/r(new e([,-0]))[1]==a?function(i){return new e(i)}:t;return eb=s,eb}var tb,JA;function nY(){if(JA)return tb;JA=1;var e=S4(),t=JK(),r=eY(),a=C4(),s=rY(),i=yN(),l=200;function u(d,f,m){var h=-1,g=t,j=d.length,w=!0,b=[],v=b;if(m)w=!1,g=r;else if(j>=l){var N=f?null:s(d);if(N)return i(N);w=!1,g=a,v=new e}else v=f?[]:b;e:for(;++h<j;){var C=d[h],S=f?f(C):C;if(C=m||C!==0?C:0,w&&S===S){for(var A=v.length;A--;)if(v[A]===S)continue e;f&&v.push(S),b.push(C)}else g(v,S,m)||(v!==b&&v.push(S),b.push(C))}return b}return tb=u,tb}var rb,eR;function aY(){if(eR)return rb;eR=1;var e=Vi(),t=nY();function r(a,s){return a&&a.length?t(a,e(s,2)):[]}return rb=r,rb}var sY=aY();const tR=zt(sY);function $4(e,t,r){return t===!0?tR(e,r):jt(t)?tR(e,t):e}function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}var iY=["ref"];function rR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(r),!0).forEach(function(a){qp(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nR(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,F4(a.key),a)}}function lY(e,t,r){return t&&nR(e.prototype,t),r&&nR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cY(e,t,r){return t=vm(t),uY(e,L4()?Reflect.construct(t,r||[],vm(e).constructor):t.apply(e,r))}function uY(e,t){if(t&&(Xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dY(e)}function dY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L4=function(){return!!e})()}function vm(e){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(e)}function fY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_w(e,t)}function _w(e,t){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_w(e,t)}function qp(e,t,r){return t=F4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F4(e){var t=hY(e,"string");return Xl(t)=="symbol"?t:t+""}function hY(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Xl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mY(e,t){if(e==null)return{};var r=pY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function pY(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function gY(e){return e.value}function vY(e,t){if(Q.isValidElement(e))return Q.cloneElement(e,t);if(typeof e=="function")return Q.createElement(e,t);t.ref;var r=mY(t,iY);return Q.createElement(xN,r)}var aR=1,Ul=(function(e){function t(){var r;oY(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=cY(this,t,[].concat(s)),qp(r,"lastBoundingBox",{width:-1,height:-1}),r}return fY(t,e),lY(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>aR||Math.abs(s.height-this.lastBoundingBox.height)>aR)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ss({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,l=s.align,u=s.verticalAlign,d=s.margin,f=s.chartWidth,m=s.chartHeight,h,g;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&i==="vertical"){var j=this.getBBoxSnapshot();h={left:((f||0)-j.width)/2}}else h=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();g={top:((m||0)-w.height)/2}}else g=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Ss(Ss({},h),g)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,l=s.width,u=s.height,d=s.wrapperStyle,f=s.payloadUniqBy,m=s.payload,h=Ss(Ss({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return Q.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(j){a.wrapperNode=j}},vY(i,Ss(Ss({},this.props),{},{payload:$4(m,f,gY)})))}}],[{key:"getWithHeight",value:function(a,s){var i=Ss(Ss({},this.defaultProps),a.props),l=i.layout;return l==="vertical"&&$e(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||s}:null}}])})(x.PureComponent);qp(Ul,"displayName","Legend");qp(Ul,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var nb,sR;function xY(){if(sR)return nb;sR=1;var e=ef(),t=bN(),r=Pn(),a=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(a&&i&&i[a])}return nb=s,nb}var ab,iR;function U4(){if(iR)return ab;iR=1;var e=T4(),t=xY();function r(a,s,i,l,u){var d=-1,f=a.length;for(i||(i=t),u||(u=[]);++d<f;){var m=a[d];s>0&&i(m)?s>1?r(m,s-1,i,l,u):e(u,m):l||(u[u.length]=m)}return u}return ab=r,ab}var sb,oR;function yY(){if(oR)return sb;oR=1;function e(t){return function(r,a,s){for(var i=-1,l=Object(r),u=s(r),d=u.length;d--;){var f=u[t?d:++i];if(a(l[f],f,l)===!1)break}return r}}return sb=e,sb}var ib,lR;function bY(){if(lR)return ib;lR=1;var e=yY(),t=e();return ib=t,ib}var ob,cR;function B4(){if(cR)return ob;cR=1;var e=bY(),t=zp();function r(a,s){return a&&e(a,s,t)}return ob=r,ob}var lb,uR;function jY(){if(uR)return lb;uR=1;var e=rf();function t(r,a){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var l=s.length,u=a?l:-1,d=Object(s);(a?u--:++u<l)&&i(d[u],u,d)!==!1;);return s}}return lb=t,lb}var cb,dR;function SN(){if(dR)return cb;dR=1;var e=B4(),t=jY(),r=t(e);return cb=r,cb}var ub,fR;function z4(){if(fR)return ub;fR=1;var e=SN(),t=rf();function r(a,s){var i=-1,l=t(a)?Array(a.length):[];return e(a,function(u,d,f){l[++i]=s(u,d,f)}),l}return ub=r,ub}var db,hR;function wY(){if(hR)return db;hR=1;function e(t,r){var a=t.length;for(t.sort(r);a--;)t[a]=t[a].value;return t}return db=e,db}var fb,mR;function NY(){if(mR)return fb;mR=1;var e=_c();function t(r,a){if(r!==a){var s=r!==void 0,i=r===null,l=r===r,u=e(r),d=a!==void 0,f=a===null,m=a===a,h=e(a);if(!f&&!h&&!u&&r>a||u&&d&&m&&!f&&!h||i&&d&&m||!s&&m||!l)return 1;if(!i&&!u&&!h&&r<a||h&&s&&l&&!i&&!u||f&&s&&l||!d&&l||!m)return-1}return 0}return fb=t,fb}var hb,pR;function SY(){if(pR)return hb;pR=1;var e=NY();function t(r,a,s){for(var i=-1,l=r.criteria,u=a.criteria,d=l.length,f=s.length;++i<d;){var m=e(l[i],u[i]);if(m){if(i>=f)return m;var h=s[i];return m*(h=="desc"?-1:1)}}return r.index-a.index}return hb=t,hb}var mb,gR;function _Y(){if(gR)return mb;gR=1;var e=uN(),t=dN(),r=Vi(),a=z4(),s=wY(),i=R4(),l=SY(),u=Ec(),d=Pn();function f(m,h,g){h.length?h=e(h,function(b){return d(b)?function(v){return t(v,b.length===1?b[0]:b)}:b}):h=[u];var j=-1;h=e(h,i(r));var w=a(m,function(b,v,N){var C=e(h,function(S){return S(b)});return{criteria:C,index:++j,value:b}});return s(w,function(b,v){return l(b,v,g)})}return mb=f,mb}var pb,vR;function CY(){if(vR)return pb;vR=1;function e(t,r,a){switch(a.length){case 0:return t.call(r);case 1:return t.call(r,a[0]);case 2:return t.call(r,a[0],a[1]);case 3:return t.call(r,a[0],a[1],a[2])}return t.apply(r,a)}return pb=e,pb}var gb,xR;function EY(){if(xR)return gb;xR=1;var e=CY(),t=Math.max;function r(a,s,i){return s=t(s===void 0?a.length-1:s,0),function(){for(var l=arguments,u=-1,d=t(l.length-s,0),f=Array(d);++u<d;)f[u]=l[s+u];u=-1;for(var m=Array(s+1);++u<s;)m[u]=l[u];return m[s]=i(f),e(a,this,m)}}return gb=r,gb}var vb,yR;function TY(){if(yR)return vb;yR=1;function e(t){return function(){return t}}return vb=e,vb}var xb,bR;function q4(){if(bR)return xb;bR=1;var e=Wo(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return xb=t,xb}var yb,jR;function AY(){if(jR)return yb;jR=1;var e=TY(),t=q4(),r=Ec(),a=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return yb=a,yb}var bb,wR;function RY(){if(wR)return bb;wR=1;var e=800,t=16,r=Date.now;function a(s){var i=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return bb=a,bb}var jb,NR;function kY(){if(NR)return jb;NR=1;var e=AY(),t=RY(),r=t(e);return jb=r,jb}var wb,SR;function IY(){if(SR)return wb;SR=1;var e=Ec(),t=EY(),r=kY();function a(s,i){return r(t(s,i,e),s+"")}return wb=a,wb}var Nb,_R;function Wp(){if(_R)return Nb;_R=1;var e=oN(),t=rf(),r=jN(),a=Wi();function s(i,l,u){if(!a(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],i):!1}return Nb=s,Nb}var Sb,CR;function PY(){if(CR)return Sb;CR=1;var e=U4(),t=_Y(),r=IY(),a=Wp(),s=r(function(i,l){if(i==null)return[];var u=l.length;return u>1&&a(i,l[0],l[1])?l=[]:u>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return Sb=s,Sb}var OY=PY();const _N=zt(OY);function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cw.apply(this,arguments)}function DY(e,t){return FY(e)||LY(e,t)||$Y(e,t)||MY()}function MY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Y(e,t){if(e){if(typeof e=="string")return ER(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ER(e,t)}}function ER(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function LY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function FY(e){if(Array.isArray(e))return e}function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(a){UY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UY(e,t,r){return t=BY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=zY(e,"string");return cd(t)=="symbol"?t:t+""}function zY(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(cd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qY(e){return Array.isArray(e)&&Cr(e[0])&&Cr(e[1])?e.join(" ~ "):e}var WY=function(t){var r=t.separator,a=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,m=t.payload,h=t.formatter,g=t.itemSorter,j=t.wrapperClassName,w=t.labelClassName,b=t.label,v=t.labelFormatter,N=t.accessibilityLayer,C=N===void 0?!1:N,S=function(){if(m&&m.length){var H={padding:0,margin:0},W=(g?_N(m,g):m).map(function(Z,$){if(Z.type==="none")return null;var M=_b({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},u),P=Z.formatter||h||qY,O=Z.value,K=Z.name,V=O,q=K;if(P&&V!=null&&q!=null){var F=P(O,K,Z,$,m);if(Array.isArray(F)){var L=DY(F,2);V=L[0],q=L[1]}else V=F}return Q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:M},Cr(q)?Q.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Cr(q)?Q.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,Q.createElement("span",{className:"recharts-tooltip-item-value"},V),Q.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return Q.createElement("ul",{className:"recharts-tooltip-item-list",style:H},W)}return null},A=_b({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=_b({margin:0},f),T=!kt(b),k=T?b:"",D=Ct("recharts-default-tooltip",j),I=Ct("recharts-tooltip-label",w);T&&v&&m!==void 0&&m!==null&&(k=v(b,m));var B=C?{role:"status","aria-live":"assertive"}:{};return Q.createElement("div",Cw({className:D,style:A},B),Q.createElement("p",{className:I,style:_},Q.isValidElement(k)?k:"".concat(k)),S())};function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function Ph(e,t,r){return t=VY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VY(e){var t=HY(e,"string");return ud(t)=="symbol"?t:t+""}function HY(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ud(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wu="recharts-tooltip-wrapper",GY={visibility:"hidden"};function KY(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return Ct(wu,Ph(Ph(Ph(Ph({},"".concat(wu,"-right"),$e(r)&&t&&$e(t.x)&&r>=t.x),"".concat(wu,"-left"),$e(r)&&t&&$e(t.x)&&r<t.x),"".concat(wu,"-bottom"),$e(a)&&t&&$e(t.y)&&a>=t.y),"".concat(wu,"-top"),$e(a)&&t&&$e(t.y)&&a<t.y))}function AR(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(i&&$e(i[a]))return i[a];var m=r[a]-u-s,h=r[a]+s;if(t[a])return l[a]?m:h;if(l[a]){var g=m,j=d[a];return g<j?Math.max(h,d[a]):Math.max(m,d[a])}var w=h+u,b=d[a]+f;return w>b?Math.max(m,d[a]):Math.max(h,d[a])}function YY(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function XY(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,m,h;return l.height>0&&l.width>0&&r?(m=AR({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),h=AR({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=YY({translateX:m,translateY:h,useTranslate3d:u})):f=GY,{cssProperties:f,cssClasses:KY({translateX:m,translateY:h,coordinate:r})}}function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(a){Tw(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function QY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZY(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,V4(a.key),a)}}function JY(e,t,r){return t&&ZY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eX(e,t,r){return t=xm(t),tX(e,W4()?Reflect.construct(t,r||[],xm(e).constructor):t.apply(e,r))}function tX(e,t){if(t&&(Ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rX(e)}function rX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W4=function(){return!!e})()}function xm(e){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(e)}function nX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ew(e,t)}function Ew(e,t){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ew(e,t)}function Tw(e,t,r){return t=V4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V4(e){var t=aX(e,"string");return Ql(t)=="symbol"?t:t+""}function aX(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ql(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IR=1,sX=(function(e){function t(){var r;QY(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=eX(this,t,[].concat(s)),Tw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Tw(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&f!==void 0?f:0}})}}),r}return nX(t,e),JY(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>IR||Math.abs(a.height-this.state.lastBoundingBox.height)>IR)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.children,m=s.coordinate,h=s.hasPayload,g=s.isAnimationActive,j=s.offset,w=s.position,b=s.reverseDirection,v=s.useTranslate3d,N=s.viewBox,C=s.wrapperStyle,S=XY({allowEscapeViewBox:l,coordinate:m,offsetTopLeft:j,position:w,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:N}),A=S.cssClasses,_=S.cssProperties,T=kR(kR({transition:g&&i?"transform ".concat(u,"ms ").concat(d):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},C);return Q.createElement("div",{tabIndex:-1,className:A,style:T,ref:function(D){a.wrapperNode=D}},f)}}])})(x.PureComponent),iX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nf={isSsr:iX()};function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function OR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(a){CN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lX(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,G4(a.key),a)}}function cX(e,t,r){return t&&lX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uX(e,t,r){return t=ym(t),dX(e,H4()?Reflect.construct(t,r||[],ym(e).constructor):t.apply(e,r))}function dX(e,t){if(t&&(Zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fX(e)}function fX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!e})()}function ym(e){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(e)}function hX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aw(e,t)}function Aw(e,t){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Aw(e,t)}function CN(e,t,r){return t=G4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G4(e){var t=mX(e,"string");return Zl(t)=="symbol"?t:t+""}function mX(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Zl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pX(e){return e.dataKey}function gX(e,t){return Q.isValidElement(e)?Q.cloneElement(e,t):typeof e=="function"?Q.createElement(e,t):Q.createElement(WY,t)}var Ga=(function(e){function t(){return oX(this,t),uX(this,t,arguments)}return hX(t,e),cX(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.content,m=s.coordinate,h=s.filterNull,g=s.isAnimationActive,j=s.offset,w=s.payload,b=s.payloadUniqBy,v=s.position,N=s.reverseDirection,C=s.useTranslate3d,S=s.viewBox,A=s.wrapperStyle,_=w??[];h&&_.length&&(_=$4(w.filter(function(k){return k.value!=null&&(k.hide!==!0||a.props.includeHidden)}),b,pX));var T=_.length>0;return Q.createElement(sX,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:g,active:i,coordinate:m,hasPayload:T,offset:j,position:v,reverseDirection:N,useTranslate3d:C,viewBox:S,wrapperStyle:A},gX(f,OR(OR({},this.props),{},{payload:_})))}}])})(x.PureComponent);CN(Ga,"displayName","Tooltip");CN(Ga,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Cb,DR;function vX(){if(DR)return Cb;DR=1;var e=fs(),t=function(){return e.Date.now()};return Cb=t,Cb}var Eb,MR;function xX(){if(MR)return Eb;MR=1;var e=/\s/;function t(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return Eb=t,Eb}var Tb,$R;function yX(){if($R)return Tb;$R=1;var e=xX(),t=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return Tb=r,Tb}var Ab,LR;function K4(){if(LR)return Ab;LR=1;var e=yX(),t=Wi(),r=_c(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return a;if(t(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=t(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=e(f);var h=i.test(f);return h||l.test(f)?u(f.slice(2),h?2:8):s.test(f)?a:+f}return Ab=d,Ab}var Rb,FR;function bX(){if(FR)return Rb;FR=1;var e=Wi(),t=vX(),r=K4(),a="Expected a function",s=Math.max,i=Math.min;function l(u,d,f){var m,h,g,j,w,b,v=0,N=!1,C=!1,S=!0;if(typeof u!="function")throw new TypeError(a);d=r(d)||0,e(f)&&(N=!!f.leading,C="maxWait"in f,g=C?s(r(f.maxWait)||0,d):g,S="trailing"in f?!!f.trailing:S);function A(W){var Z=m,$=h;return m=h=void 0,v=W,j=u.apply($,Z),j}function _(W){return v=W,w=setTimeout(D,d),N?A(W):j}function T(W){var Z=W-b,$=W-v,M=d-Z;return C?i(M,g-$):M}function k(W){var Z=W-b,$=W-v;return b===void 0||Z>=d||Z<0||C&&$>=g}function D(){var W=t();if(k(W))return I(W);w=setTimeout(D,T(W))}function I(W){return w=void 0,S&&m?A(W):(m=h=void 0,j)}function B(){w!==void 0&&clearTimeout(w),v=0,m=b=h=w=void 0}function z(){return w===void 0?j:I(t())}function H(){var W=t(),Z=k(W);if(m=arguments,h=this,b=W,Z){if(w===void 0)return _(b);if(C)return clearTimeout(w),w=setTimeout(D,d),A(b)}return w===void 0&&(w=setTimeout(D,d)),j}return H.cancel=B,H.flush=z,H}return Rb=l,Rb}var kb,UR;function jX(){if(UR)return kb;UR=1;var e=bX(),t=Wi(),r="Expected a function";function a(s,i,l){var u=!0,d=!0;if(typeof s!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(s,i,{leading:u,maxWait:i,trailing:d})}return kb=a,kb}var wX=jX();const Y4=zt(wX);function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function BR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(r),!0).forEach(function(a){NX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function NX(e,t,r){return t=SX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SX(e){var t=_X(e,"string");return dd(t)=="symbol"?t:t+""}function _X(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(dd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CX(e,t){return RX(e)||AX(e,t)||TX(e,t)||EX()}function EX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TX(e,t){if(e){if(typeof e=="string")return zR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zR(e,t)}}function zR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function AX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function RX(e){if(Array.isArray(e))return e}var kX=x.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,l=i===void 0?"100%":i,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,m=f===void 0?0:f,h=e.minHeight,g=e.maxHeight,j=e.children,w=e.debounce,b=w===void 0?0:w,v=e.id,N=e.className,C=e.onResize,S=e.style,A=S===void 0?{}:S,_=x.useRef(null),T=x.useRef();T.current=C,x.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var k=x.useState({containerWidth:s.width,containerHeight:s.height}),D=CX(k,2),I=D[0],B=D[1],z=x.useCallback(function(W,Z){B(function($){var M=Math.round(W),P=Math.round(Z);return $.containerWidth===M&&$.containerHeight===P?$:{containerWidth:M,containerHeight:P}})},[]);x.useEffect(function(){var W=function(K){var V,q=K[0].contentRect,F=q.width,L=q.height;z(F,L),(V=T.current)===null||V===void 0||V.call(T,F,L)};b>0&&(W=Y4(W,b,{trailing:!0,leading:!1}));var Z=new ResizeObserver(W),$=_.current.getBoundingClientRect(),M=$.width,P=$.height;return z(M,P),Z.observe(_.current),function(){Z.disconnect()}},[z,b]);var H=x.useMemo(function(){var W=I.containerWidth,Z=I.containerHeight;if(W<0||Z<0)return null;Os(yo(l)||yo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Os(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=yo(l)?W:l,M=yo(d)?Z:d;r&&r>0&&($?M=$/r:M&&($=M*r),g&&M>g&&(M=g)),Os($>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,M,l,d,m,h,r);var P=!Array.isArray(j)&&Ps(j.type).endsWith("Chart");return Q.Children.map(j,function(O){return Q.isValidElement(O)?x.cloneElement(O,Oh({width:$,height:M},P?{style:Oh({height:"100%",width:"100%",maxHeight:M,maxWidth:$},O.props.style)}:{})):O})},[r,j,d,g,h,m,I,l]);return Q.createElement("div",{id:v?"".concat(v):void 0,className:Ct("recharts-responsive-container",N),style:Oh(Oh({},A),{},{width:l,height:d,minWidth:m,minHeight:h,maxHeight:g}),ref:_},H)}),X4=function(t){return null};X4.displayName="Cell";function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(a){IX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IX(e,t,r){return t=PX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PX(e){var t=OX(e,"string");return fd(t)=="symbol"?t:t+""}function OX(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(fd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nl={widthCache:{},cacheCount:0},DX=2e3,MX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WR="recharts_measurement_span";function $X(e){var t=Rw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Vu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nf.isSsr)return{width:0,height:0};var a=$X(r),s=JSON.stringify({text:t,copyStyle:a});if(Nl.widthCache[s])return Nl.widthCache[s];try{var i=document.getElementById(WR);i||(i=document.createElement("span"),i.setAttribute("id",WR),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=Rw(Rw({},MX),a);Object.assign(i.style,l),i.textContent="".concat(t);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return Nl.widthCache[s]=d,++Nl.cacheCount>DX&&(Nl.cacheCount=0,Nl.widthCache={}),d}catch{return{width:0,height:0}}},LX=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function bm(e,t){return zX(e)||BX(e,t)||UX(e,t)||FX()}function FX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UX(e,t){if(e){if(typeof e=="string")return VR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VR(e,t)}}function VR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function BX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function zX(e){if(Array.isArray(e))return e}function qX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HR(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,VX(a.key),a)}}function WX(e,t,r){return t&&HR(e.prototype,t),r&&HR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VX(e){var t=HX(e,"string");return hd(t)=="symbol"?t:t+""}function HX(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(hd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Q4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YX=Object.keys(Q4),Il="NaN";function XX(e,t){return e*Q4[t]}var Dh=(function(){function e(t,r){qX(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!GX.test(r)&&(this.num=NaN,this.unit=""),YX.includes(r)&&(this.num=XX(t,r),this.unit="px")}return WX(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=KX.exec(r))!==null&&a!==void 0?a:[],i=bm(s,3),l=i[1],u=i[2];return new e(parseFloat(l),u??"")}}])})();function Z4(e){if(e.includes(Il))return Il;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=GR.exec(t))!==null&&r!==void 0?r:[],s=bm(a,4),i=s[1],l=s[2],u=s[3],d=Dh.parse(i??""),f=Dh.parse(u??""),m=l==="*"?d.multiply(f):d.divide(f);if(m.isNaN())return Il;t=t.replace(GR,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,g=(h=KR.exec(t))!==null&&h!==void 0?h:[],j=bm(g,4),w=j[1],b=j[2],v=j[3],N=Dh.parse(w??""),C=Dh.parse(v??""),S=b==="+"?N.add(C):N.subtract(C);if(S.isNaN())return Il;t=t.replace(KR,S.toString())}return t}var YR=/\(([^()]*)\)/;function QX(e){for(var t=e;t.includes("(");){var r=YR.exec(t),a=bm(r,2),s=a[1];t=t.replace(YR,Z4(s))}return t}function ZX(e){var t=e.replace(/\s+/g,"");return t=QX(t),t=Z4(t),t}function JX(e){try{return ZX(e)}catch{return Il}}function Ib(e){var t=JX(e.slice(5,-1));return t===Il?"":t}var eQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tQ=["dx","dy","angle","className","breakAll"];function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kw.apply(this,arguments)}function XR(e,t){if(e==null)return{};var r=rQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function rQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function QR(e,t){return iQ(e)||sQ(e,t)||aQ(e,t)||nQ()}function nQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aQ(e,t){if(e){if(typeof e=="string")return ZR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZR(e,t)}}function ZR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function sQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function iQ(e){if(Array.isArray(e))return e}var J4=/[ \f\n\r\t\v\u2028\u2029]+/,e$=function(t){var r=t.children,a=t.breakAll,s=t.style;try{var i=[];kt(r)||(a?i=r.toString().split(""):i=r.toString().split(J4));var l=i.map(function(d){return{word:d,width:Vu(d,s).width}}),u=a?0:Vu("",s).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},oQ=function(t,r,a,s,i){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,m=$e(l),h=u,g=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(M,P){var O=P.word,K=P.width,V=M[M.length-1];if(V&&(s==null||i||V.width+K+a<Number(s)))V.words.push(O),V.width+=K+a;else{var q={words:[O],width:K};M.push(q)}return M},[])},j=g(r),w=function($){return $.reduce(function(M,P){return M.width>P.width?M:P})};if(!m)return j;for(var b="",v=function($){var M=h.slice(0,$),P=e$({breakAll:f,style:d,children:M+b}).wordsWithComputedWidth,O=g(P),K=O.length>l||w(O).width>Number(s);return[K,O]},N=0,C=h.length-1,S=0,A;N<=C&&S<=h.length-1;){var _=Math.floor((N+C)/2),T=_-1,k=v(T),D=QR(k,2),I=D[0],B=D[1],z=v(_),H=QR(z,1),W=H[0];if(!I&&!W&&(N=_+1),I&&W&&(C=_-1),!I&&W){A=B;break}S++}return A||j},JR=function(t){var r=kt(t)?[]:t.toString().split(J4);return[{words:r}]},lQ=function(t){var r=t.width,a=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,u=t.maxLines;if((r||a)&&!nf.isSsr){var d,f,m=e$({breakAll:l,children:s,style:i});if(m){var h=m.wordsWithComputedWidth,g=m.spaceWidth;d=h,f=g}else return JR(s);return oQ({breakAll:l,children:s,maxLines:u,style:i},d,f,r,a)}return JR(s)},ek="#808080",jm=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,m=t.scaleToFit,h=m===void 0?!1:m,g=t.textAnchor,j=g===void 0?"start":g,w=t.verticalAnchor,b=w===void 0?"end":w,v=t.fill,N=v===void 0?ek:v,C=XR(t,eQ),S=x.useMemo(function(){return lQ({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:h,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,h,C.style,C.width]),A=C.dx,_=C.dy,T=C.angle,k=C.className,D=C.breakAll,I=XR(C,tQ);if(!Cr(a)||!Cr(i))return null;var B=a+($e(A)?A:0),z=i+($e(_)?_:0),H;switch(b){case"start":H=Ib("calc(".concat(f,")"));break;case"middle":H=Ib("calc(".concat((S.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:H=Ib("calc(".concat(S.length-1," * -").concat(u,")"));break}var W=[];if(h){var Z=S[0].width,$=C.width;W.push("scale(".concat(($e($)?$/Z:1)/Z,")"))}return T&&W.push("rotate(".concat(T,", ").concat(B,", ").concat(z,")")),W.length&&(I.transform=W.join(" ")),Q.createElement("text",kw({},Rt(I,!0),{x:B,y:z,className:Ct("recharts-text",k),textAnchor:j,fill:N.includes("url")?ek:N}),S.map(function(M,P){var O=M.words.join(D?"":" ");return Q.createElement("tspan",{x:B,dy:P===0?H:u,key:"".concat(O,"-").concat(P)},O)}))};function Ri(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function EN(e){let t,r,a;e.length!==2?(t=Ri,r=(u,d)=>Ri(e(u),d),a=(u,d)=>e(u)-d):(t=e===Ri||e===cQ?e:uQ,r=e,a=e);function s(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const h=f+m>>>1;r(u[h],d)<0?f=h+1:m=h}while(f<m)}return f}function i(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const h=f+m>>>1;r(u[h],d)<=0?f=h+1:m=h}while(f<m)}return f}function l(u,d,f=0,m=u.length){const h=s(u,d,f,m-1);return h>f&&a(u[h-1],d)>-a(u[h],d)?h-1:h}return{left:s,center:l,right:i}}function uQ(){return 0}function t$(e){return e===null?NaN:+e}function*dQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const fQ=EN(Ri),af=fQ.right;EN(t$).center;class tk extends Map{constructor(t,r=pQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(rk(this,t))}has(t){return super.has(rk(this,t))}set(t,r){return super.set(hQ(this,t),r)}delete(t){return super.delete(mQ(this,t))}}function rk({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function hQ({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function mQ({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function pQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gQ(e=Ri){if(e===Ri)return r$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function r$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const vQ=Math.sqrt(50),xQ=Math.sqrt(10),yQ=Math.sqrt(2);function wm(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),l=i>=vQ?10:i>=xQ?5:i>=yQ?2:1;let u,d,f;return s<0?(f=Math.pow(10,-s)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,s)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?wm(e,t,r*2):[u,d,f]}function Iw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,l]=a?wm(t,e,r):wm(e,t,r);if(!(i>=s))return[];const u=i-s+1,d=new Array(u);if(a)if(l<0)for(let f=0;f<u;++f)d[f]=(i-f)/-l;else for(let f=0;f<u;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(s+f)/-l;else for(let f=0;f<u;++f)d[f]=(s+f)*l;return d}function Pw(e,t,r){return t=+t,e=+e,r=+r,wm(e,t,r)[2]}function Ow(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?Pw(t,e,r):Pw(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function nk(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function ak(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function n$(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?r$:gQ(s);a>r;){if(a-r>600){const d=a-r+1,f=t-r+1,m=Math.log(d),h=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*h*(d-h)/d)*(f-d/2<0?-1:1),j=Math.max(r,Math.floor(t-f*h/d+g)),w=Math.min(a,Math.floor(t+(d-f)*h/d+g));n$(e,t,j,w,s)}const i=e[t];let l=r,u=a;for(Nu(e,r,t),s(e[a],i)>0&&Nu(e,r,a);l<u;){for(Nu(e,l,u),++l,--u;s(e[l],i)<0;)++l;for(;s(e[u],i)>0;)--u}s(e[r],i)===0?Nu(e,r,u):(++u,Nu(e,u,a)),u<=t&&(r=u+1),t<=u&&(a=u-1)}return e}function Nu(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function bQ(e,t,r){if(e=Float64Array.from(dQ(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return ak(e);if(t>=1)return nk(e);var a,s=(a-1)*t,i=Math.floor(s),l=nk(n$(e,i).subarray(0,i+1)),u=ak(e.subarray(i+1));return l+(u-l)*(s-i)}}function jQ(e,t,r=t$){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),l=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return l+(u-l)*(s-i)}}function wQ(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function va(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Dw=Symbol("implicit");function TN(){var e=new tk,t=[],r=[],a=Dw;function s(i){let l=e.get(i);if(l===void 0){if(a!==Dw)return a;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new tk;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return TN(t,r).unknown(a)},va.apply(s,arguments),s}function md(){var e=TN().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,l,u=!1,d=0,f=0,m=.5;delete e.unknown;function h(){var g=t().length,j=s<a,w=j?s:a,b=j?a:s;i=(b-w)/Math.max(1,g-d+f*2),u&&(i=Math.floor(i)),w+=(b-w-i*(g-d))*m,l=i*(1-d),u&&(w=Math.round(w),l=Math.round(l));var v=wQ(g).map(function(N){return w+i*N});return r(j?v.reverse():v)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([a,s]=g,a=+a,s=+s,h()):[a,s]},e.rangeRound=function(g){return[a,s]=g,a=+a,s=+s,u=!0,h()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(u=!!g,h()):u},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),h()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),h()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,h()):f},e.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),h()):m},e.copy=function(){return md(t(),[a,s]).round(u).paddingInner(d).paddingOuter(f).align(m)},va.apply(h(),arguments)}function a$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a$(t())},e}function Hu(){return a$(md.apply(null,arguments).paddingInner(1))}function AN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function s$(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function sf(){}var pd=.7,Nm=1/pd,Bl="\\s*([+-]?\\d+)\\s*",gd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ns="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NQ=/^#([0-9a-f]{3,8})$/,SQ=new RegExp(`^rgb\\(${Bl},${Bl},${Bl}\\)$`),_Q=new RegExp(`^rgb\\(${ns},${ns},${ns}\\)$`),CQ=new RegExp(`^rgba\\(${Bl},${Bl},${Bl},${gd}\\)$`),EQ=new RegExp(`^rgba\\(${ns},${ns},${ns},${gd}\\)$`),TQ=new RegExp(`^hsl\\(${gd},${ns},${ns}\\)$`),AQ=new RegExp(`^hsla\\(${gd},${ns},${ns},${gd}\\)$`),sk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AN(sf,vd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ik,formatHex:ik,formatHex8:RQ,formatHsl:kQ,formatRgb:ok,toString:ok});function ik(){return this.rgb().formatHex()}function RQ(){return this.rgb().formatHex8()}function kQ(){return i$(this).formatHsl()}function ok(){return this.rgb().formatRgb()}function vd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=NQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?lk(t):r===3?new Rn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Mh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Mh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=SQ.exec(e))?new Rn(t[1],t[2],t[3],1):(t=_Q.exec(e))?new Rn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=CQ.exec(e))?Mh(t[1],t[2],t[3],t[4]):(t=EQ.exec(e))?Mh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=TQ.exec(e))?dk(t[1],t[2]/100,t[3]/100,1):(t=AQ.exec(e))?dk(t[1],t[2]/100,t[3]/100,t[4]):sk.hasOwnProperty(e)?lk(sk[e]):e==="transparent"?new Rn(NaN,NaN,NaN,0):null}function lk(e){return new Rn(e>>16&255,e>>8&255,e&255,1)}function Mh(e,t,r,a){return a<=0&&(e=t=r=NaN),new Rn(e,t,r,a)}function IQ(e){return e instanceof sf||(e=vd(e)),e?(e=e.rgb(),new Rn(e.r,e.g,e.b,e.opacity)):new Rn}function Mw(e,t,r,a){return arguments.length===1?IQ(e):new Rn(e,t,r,a??1)}function Rn(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}AN(Rn,Mw,s$(sf,{brighter(e){return e=e==null?Nm:Math.pow(Nm,e),new Rn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pd:Math.pow(pd,e),new Rn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rn(_o(this.r),_o(this.g),_o(this.b),Sm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ck,formatHex:ck,formatHex8:PQ,formatRgb:uk,toString:uk}));function ck(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}`}function PQ(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}${bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function uk(){const e=Sm(this.opacity);return`${e===1?"rgb(":"rgba("}${_o(this.r)}, ${_o(this.g)}, ${_o(this.b)}${e===1?")":`, ${e})`}`}function Sm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _o(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bo(e){return e=_o(e),(e<16?"0":"")+e.toString(16)}function dk(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Aa(e,t,r,a)}function i$(e){if(e instanceof Aa)return new Aa(e.h,e.s,e.l,e.opacity);if(e instanceof sf||(e=vd(e)),!e)return new Aa;if(e instanceof Aa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),l=NaN,u=i-s,d=(i+s)/2;return u?(t===i?l=(r-a)/u+(r<a)*6:r===i?l=(a-t)/u+2:l=(t-r)/u+4,u/=d<.5?i+s:2-i-s,l*=60):u=d>0&&d<1?0:l,new Aa(l,u,d,e.opacity)}function OQ(e,t,r,a){return arguments.length===1?i$(e):new Aa(e,t,r,a??1)}function Aa(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}AN(Aa,OQ,s$(sf,{brighter(e){return e=e==null?Nm:Math.pow(Nm,e),new Aa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pd:Math.pow(pd,e),new Aa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Rn(Pb(e>=240?e-240:e+120,s,a),Pb(e,s,a),Pb(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Aa(fk(this.h),$h(this.s),$h(this.l),Sm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sm(this.opacity);return`${e===1?"hsl(":"hsla("}${fk(this.h)}, ${$h(this.s)*100}%, ${$h(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fk(e){return e=(e||0)%360,e<0?e+360:e}function $h(e){return Math.max(0,Math.min(1,e||0))}function Pb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const RN=e=>()=>e;function DQ(e,t){return function(r){return e+r*t}}function MQ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function $Q(e){return(e=+e)==1?o$:function(t,r){return r-t?MQ(t,r,e):RN(isNaN(t)?r:t)}}function o$(e,t){var r=t-e;return r?DQ(e,r):RN(isNaN(e)?t:e)}const hk=(function e(t){var r=$Q(t);function a(s,i){var l=r((s=Mw(s)).r,(i=Mw(i)).r),u=r(s.g,i.g),d=r(s.b,i.b),f=o$(s.opacity,i.opacity);return function(m){return s.r=l(m),s.g=u(m),s.b=d(m),s.opacity=f(m),s+""}}return a.gamma=e,a})(1);function LQ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function FQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function UQ(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),l;for(l=0;l<a;++l)s[l]=Tc(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(u){for(l=0;l<a;++l)i[l]=s[l](u);return i}}function BQ(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function _m(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zQ(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Tc(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var $w=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ob=new RegExp($w.source,"g");function qQ(e){return function(){return e}}function WQ(e){return function(t){return e(t)+""}}function VQ(e,t){var r=$w.lastIndex=Ob.lastIndex=0,a,s,i,l=-1,u=[],d=[];for(e=e+"",t=t+"";(a=$w.exec(e))&&(s=Ob.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),u[l]?u[l]+=i:u[++l]=i),(a=a[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:_m(a,s)})),r=Ob.lastIndex;return r<t.length&&(i=t.slice(r),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?WQ(d[0].x):qQ(t):(t=d.length,function(f){for(var m=0,h;m<t;++m)u[(h=d[m]).i]=h.x(f);return u.join("")})}function Tc(e,t){var r=typeof t,a;return t==null||r==="boolean"?RN(t):(r==="number"?_m:r==="string"?(a=vd(t))?(t=a,hk):VQ:t instanceof vd?hk:t instanceof Date?BQ:FQ(t)?LQ:Array.isArray(t)?UQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zQ:_m)(e,t)}function kN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function HQ(e,t){t===void 0&&(t=e,e=Tc);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(l){var u=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[u](l-u)}}function GQ(e){return function(){return e}}function Cm(e){return+e}var mk=[0,1];function gn(e){return e}function Lw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:GQ(isNaN(t)?NaN:.5)}function KQ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function YQ(e,t,r){var a=e[0],s=e[1],i=t[0],l=t[1];return s<a?(a=Lw(s,a),i=r(l,i)):(a=Lw(a,s),i=r(i,l)),function(u){return i(a(u))}}function XQ(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=Lw(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(u){var d=af(e,u,1,a)-1;return i[d](s[d](u))}}function of(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vp(){var e=mk,t=mk,r=Tc,a,s,i,l=gn,u,d,f;function m(){var g=Math.min(e.length,t.length);return l!==gn&&(l=KQ(e[0],e[g-1])),u=g>2?XQ:YQ,d=f=null,h}function h(g){return g==null||isNaN(g=+g)?i:(d||(d=u(e.map(a),t,r)))(a(l(g)))}return h.invert=function(g){return l(s((f||(f=u(t,e.map(a),_m)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,Cm),m()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),r=kN,m()},h.clamp=function(g){return arguments.length?(l=g?!0:gn,m()):l!==gn},h.interpolate=function(g){return arguments.length?(r=g,m()):r},h.unknown=function(g){return arguments.length?(i=g,h):i},function(g,j){return a=g,s=j,m()}}function IN(){return Vp()(gn,gn)}function QQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Em(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Jl(e){return e=Em(Math.abs(e)),e?e[1]:NaN}function ZQ(e,t){return function(r,a){for(var s=r.length,i=[],l=0,u=e[0],d=0;s>0&&u>0&&(d+u+1>a&&(u=Math.max(1,a-d)),i.push(r.substring(s-=u,s+u)),!((d+=u+1)>a));)u=e[l=(l+1)%e.length];return i.reverse().join(t)}}function JQ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var eZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xd(e){if(!(t=eZ.exec(e)))throw new Error("invalid format: "+e);var t;return new PN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xd.prototype=PN.prototype;function PN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}PN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tZ(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var l$;function rZ(e,t){var r=Em(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(l$=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Em(e,Math.max(0,t+i-1))[0]}function pk(e,t){var r=Em(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const gk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:QQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pk(e*100,t),r:pk,s:rZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vk(e){return e}var xk=Array.prototype.map,yk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nZ(e){var t=e.grouping===void 0||e.thousands===void 0?vk:ZQ(xk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?vk:JQ(xk.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(h){h=xd(h);var g=h.fill,j=h.align,w=h.sign,b=h.symbol,v=h.zero,N=h.width,C=h.comma,S=h.precision,A=h.trim,_=h.type;_==="n"?(C=!0,_="g"):gk[_]||(S===void 0&&(S=12),A=!0,_="g"),(v||g==="0"&&j==="=")&&(v=!0,g="0",j="=");var T=b==="$"?r:b==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=b==="$"?a:/[%p]/.test(_)?l:"",D=gk[_],I=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function B(z){var H=T,W=k,Z,$,M;if(_==="c")W=D(z)+W,z="";else{z=+z;var P=z<0||1/z<0;if(z=isNaN(z)?d:D(Math.abs(z),S),A&&(z=tZ(z)),P&&+z==0&&w!=="+"&&(P=!1),H=(P?w==="("?w:u:w==="-"||w==="("?"":w)+H,W=(_==="s"?yk[8+l$/3]:"")+W+(P&&w==="("?")":""),I){for(Z=-1,$=z.length;++Z<$;)if(M=z.charCodeAt(Z),48>M||M>57){W=(M===46?s+z.slice(Z+1):z.slice(Z))+W,z=z.slice(0,Z);break}}}C&&!v&&(z=t(z,1/0));var O=H.length+z.length+W.length,K=O<N?new Array(N-O+1).join(g):"";switch(C&&v&&(z=t(K+z,K.length?N-W.length:1/0),K=""),j){case"<":z=H+z+W+K;break;case"=":z=H+K+z+W;break;case"^":z=K.slice(0,O=K.length>>1)+H+z+W+K.slice(O);break;default:z=K+H+z+W;break}return i(z)}return B.toString=function(){return h+""},B}function m(h,g){var j=f((h=xd(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(Jl(g)/3)))*3,b=Math.pow(10,-w),v=yk[8+w/3];return function(N){return j(b*N)+v}}return{format:f,formatPrefix:m}}var Lh,ON,c$;aZ({thousands:",",grouping:[3],currency:["$",""]});function aZ(e){return Lh=nZ(e),ON=Lh.format,c$=Lh.formatPrefix,Lh}function sZ(e){return Math.max(0,-Jl(Math.abs(e)))}function iZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jl(t)/3)))*3-Jl(Math.abs(e)))}function oZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jl(t)-Jl(e))+1}function u$(e,t,r,a){var s=Ow(e,t,r),i;switch(a=xd(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=iZ(s,l))&&(a.precision=i),c$(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=oZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=sZ(s))&&(a.precision=i-(a.type==="%")*2);break}}return ON(a)}function Hi(e){var t=e.domain;return e.ticks=function(r){var a=t();return Iw(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return u$(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,l=a[s],u=a[i],d,f,m=10;for(u<l&&(f=l,l=u,u=f,f=s,s=i,i=f);m-- >0;){if(f=Pw(l,u,r),f===d)return a[s]=l,a[i]=u,t(a);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Tm(){var e=IN();return e.copy=function(){return of(e,Tm())},va.apply(e,arguments),Hi(e)}function d$(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Cm),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return d$(e).unknown(t)},e=arguments.length?Array.from(e,Cm):[0,1],Hi(r)}function f$(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],l;return i<s&&(l=r,r=a,a=l,l=s,s=i,i=l),e[r]=t.floor(s),e[a]=t.ceil(i),e}function bk(e){return Math.log(e)}function jk(e){return Math.exp(e)}function lZ(e){return-Math.log(-e)}function cZ(e){return-Math.exp(-e)}function uZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dZ(e){return e===10?uZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wk(e){return(t,r)=>-e(-t,r)}function DN(e){const t=e(bk,jk),r=t.domain;let a=10,s,i;function l(){return s=fZ(a),i=dZ(a),r()[0]<0?(s=wk(s),i=wk(i),e(lZ,cZ)):e(bk,jk),t}return t.base=function(u){return arguments.length?(a=+u,l()):a},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],m=d[d.length-1];const h=m<f;h&&([f,m]=[m,f]);let g=s(f),j=s(m),w,b;const v=u==null?10:+u;let N=[];if(!(a%1)&&j-g<v){if(g=Math.floor(g),j=Math.ceil(j),f>0){for(;g<=j;++g)for(w=1;w<a;++w)if(b=g<0?w/i(-g):w*i(g),!(b<f)){if(b>m)break;N.push(b)}}else for(;g<=j;++g)for(w=a-1;w>=1;--w)if(b=g>0?w/i(-g):w*i(g),!(b<f)){if(b>m)break;N.push(b)}N.length*2<v&&(N=Iw(f,m,v))}else N=Iw(g,j,Math.min(j-g,v)).map(i);return h?N.reverse():N},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=xd(d)).precision==null&&(d.trim=!0),d=ON(d)),u===1/0)return d;const f=Math.max(1,a*u/t.ticks().length);return m=>{let h=m/i(Math.round(s(m)));return h*a<a-.5&&(h*=a),h<=f?d(m):""}},t.nice=()=>r(f$(r(),{floor:u=>i(Math.floor(s(u))),ceil:u=>i(Math.ceil(s(u)))})),t}function h$(){const e=DN(Vp()).domain([1,10]);return e.copy=()=>of(e,h$()).base(e.base()),va.apply(e,arguments),e}function Nk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Sk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function MN(e){var t=1,r=e(Nk(t),Sk(t));return r.constant=function(a){return arguments.length?e(Nk(t=+a),Sk(t)):t},Hi(r)}function m$(){var e=MN(Vp());return e.copy=function(){return of(e,m$()).constant(e.constant())},va.apply(e,arguments)}function _k(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mZ(e){return e<0?-e*e:e*e}function $N(e){var t=e(gn,gn),r=1;function a(){return r===1?e(gn,gn):r===.5?e(hZ,mZ):e(_k(r),_k(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},Hi(t)}function LN(){var e=$N(Vp());return e.copy=function(){return of(e,LN()).exponent(e.exponent())},va.apply(e,arguments),e}function pZ(){return LN.apply(null,arguments).exponent(.5)}function Ck(e){return Math.sign(e)*e*e}function gZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function p$(){var e=IN(),t=[0,1],r=!1,a;function s(i){var l=gZ(e(i));return isNaN(l)?a:r?Math.round(l):l}return s.invert=function(i){return e.invert(Ck(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Cm)).map(Ck)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return p$(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},va.apply(s,arguments),Hi(s)}function g$(){var e=[],t=[],r=[],a;function s(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=jQ(e,l/u);return i}function i(l){return l==null||isNaN(l=+l)?a:t[af(r,l)]}return i.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ri),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return g$().domain(e).range(t).unknown(a)},va.apply(i,arguments)}function v$(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function l(d){return d!=null&&d<=d?s[af(a,d,0,r)]:i}function u(){var d=-1;for(a=new Array(r);++d<r;)a[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,u()):s.slice()},l.invertExtent=function(d){var f=s.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,a[0]]:f>=r?[a[r-1],t]:[a[f-1],a[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return a.slice()},l.copy=function(){return v$().domain([e,t]).range(s).unknown(i)},va.apply(Hi(l),arguments)}function x$(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[af(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return x$().domain(e).range(t).unknown(r)},va.apply(s,arguments)}const Db=new Date,Mb=new Date;function Er(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),u=s.ceil(i);return i-l<u-i?l:u},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,u)=>{const d=[];if(i=s.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let f;do d.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<l);return d},s.filter=i=>Er(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!i(l););else for(;--u>=0;)for(;t(l,1),!i(l););}),r&&(s.count=(i,l)=>(Db.setTime(+i),Mb.setTime(+l),e(Db),e(Mb),Math.floor(r(Db,Mb))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?l=>a(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const Am=Er(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Am.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Er(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Am);Am.range;const Rs=1e3,ha=Rs*60,ks=ha*60,Us=ks*24,FN=Us*7,Ek=Us*30,$b=Us*365,jo=Er(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCSeconds());jo.range;const UN=Er(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rs)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getMinutes());UN.range;const BN=Er(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getUTCMinutes());BN.range;const zN=Er(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rs-e.getMinutes()*ha)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getHours());zN.range;const qN=Er(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCHours());qN.range;const lf=Er(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ha)/Us,e=>e.getDate()-1);lf.range;const Hp=Er(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Us,e=>e.getUTCDate()-1);Hp.range;const y$=Er(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Us,e=>Math.floor(e/Us));y$.range;function Vo(e){return Er(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ha)/FN)}const Gp=Vo(0),Rm=Vo(1),vZ=Vo(2),xZ=Vo(3),ec=Vo(4),yZ=Vo(5),bZ=Vo(6);Gp.range;Rm.range;vZ.range;xZ.range;ec.range;yZ.range;bZ.range;function Ho(e){return Er(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/FN)}const Kp=Ho(0),km=Ho(1),jZ=Ho(2),wZ=Ho(3),tc=Ho(4),NZ=Ho(5),SZ=Ho(6);Kp.range;km.range;jZ.range;wZ.range;tc.range;NZ.range;SZ.range;const WN=Er(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());WN.range;const VN=Er(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());VN.range;const Bs=Er(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Bs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Er(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Bs.range;const zs=Er(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Er(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zs.range;function b$(e,t,r,a,s,i){const l=[[jo,1,Rs],[jo,5,5*Rs],[jo,15,15*Rs],[jo,30,30*Rs],[i,1,ha],[i,5,5*ha],[i,15,15*ha],[i,30,30*ha],[s,1,ks],[s,3,3*ks],[s,6,6*ks],[s,12,12*ks],[a,1,Us],[a,2,2*Us],[r,1,FN],[t,1,Ek],[t,3,3*Ek],[e,1,$b]];function u(f,m,h){const g=m<f;g&&([f,m]=[m,f]);const j=h&&typeof h.range=="function"?h:d(f,m,h),w=j?j.range(f,+m+1):[];return g?w.reverse():w}function d(f,m,h){const g=Math.abs(m-f)/h,j=EN(([,,v])=>v).right(l,g);if(j===l.length)return e.every(Ow(f/$b,m/$b,h));if(j===0)return Am.every(Math.max(Ow(f,m,h),1));const[w,b]=l[g/l[j-1][2]<l[j][2]/g?j-1:j];return w.every(b)}return[u,d]}const[_Z,CZ]=b$(zs,VN,Kp,y$,qN,BN),[EZ,TZ]=b$(Bs,WN,Gp,lf,zN,UN);function Lb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Su(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function AZ(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=_u(s),m=Cu(s),h=_u(i),g=Cu(i),j=_u(l),w=Cu(l),b=_u(u),v=Cu(u),N=_u(d),C=Cu(d),S={a:P,A:O,b:K,B:V,c:null,d:Pk,e:Pk,f:ZZ,g:lJ,G:uJ,H:YZ,I:XZ,j:QZ,L:j$,m:JZ,M:eJ,p:q,q:F,Q:Mk,s:$k,S:tJ,u:rJ,U:nJ,V:aJ,w:sJ,W:iJ,x:null,X:null,y:oJ,Y:cJ,Z:dJ,"%":Dk},A={a:L,A:Y,b:ee,B:ce,c:null,d:Ok,e:Ok,f:pJ,g:_J,G:EJ,H:fJ,I:hJ,j:mJ,L:N$,m:gJ,M:vJ,p:G,q:fe,Q:Mk,s:$k,S:xJ,u:yJ,U:bJ,V:jJ,w:wJ,W:NJ,x:null,X:null,y:SJ,Y:CJ,Z:TJ,"%":Dk},_={a:B,A:z,b:H,B:W,c:Z,d:kk,e:kk,f:VZ,g:Rk,G:Ak,H:Ik,I:Ik,j:BZ,L:WZ,m:UZ,M:zZ,p:I,q:FZ,Q:GZ,s:KZ,S:qZ,u:OZ,U:DZ,V:MZ,w:PZ,W:$Z,x:$,X:M,y:Rk,Y:Ak,Z:LZ,"%":HZ};S.x=T(r,S),S.X=T(a,S),S.c=T(t,S),A.x=T(r,A),A.X=T(a,A),A.c=T(t,A);function T(oe,Ee){return function(Oe){var re=[],le=-1,ge=0,Le=oe.length,Xe,ot,wt;for(Oe instanceof Date||(Oe=new Date(+Oe));++le<Le;)oe.charCodeAt(le)===37&&(re.push(oe.slice(ge,le)),(ot=Tk[Xe=oe.charAt(++le)])!=null?Xe=oe.charAt(++le):ot=Xe==="e"?" ":"0",(wt=Ee[Xe])&&(Xe=wt(Oe,ot)),re.push(Xe),ge=le+1);return re.push(oe.slice(ge,le)),re.join("")}}function k(oe,Ee){return function(Oe){var re=Su(1900,void 0,1),le=D(re,oe,Oe+="",0),ge,Le;if(le!=Oe.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Ee&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(ge=Fb(Su(re.y,0,1)),Le=ge.getUTCDay(),ge=Le>4||Le===0?km.ceil(ge):km(ge),ge=Hp.offset(ge,(re.V-1)*7),re.y=ge.getUTCFullYear(),re.m=ge.getUTCMonth(),re.d=ge.getUTCDate()+(re.w+6)%7):(ge=Lb(Su(re.y,0,1)),Le=ge.getDay(),ge=Le>4||Le===0?Rm.ceil(ge):Rm(ge),ge=lf.offset(ge,(re.V-1)*7),re.y=ge.getFullYear(),re.m=ge.getMonth(),re.d=ge.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Le="Z"in re?Fb(Su(re.y,0,1)).getUTCDay():Lb(Su(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Le+5)%7:re.w+re.U*7-(Le+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Fb(re)):Lb(re)}}function D(oe,Ee,Oe,re){for(var le=0,ge=Ee.length,Le=Oe.length,Xe,ot;le<ge;){if(re>=Le)return-1;if(Xe=Ee.charCodeAt(le++),Xe===37){if(Xe=Ee.charAt(le++),ot=_[Xe in Tk?Ee.charAt(le++):Xe],!ot||(re=ot(oe,Oe,re))<0)return-1}else if(Xe!=Oe.charCodeAt(re++))return-1}return re}function I(oe,Ee,Oe){var re=f.exec(Ee.slice(Oe));return re?(oe.p=m.get(re[0].toLowerCase()),Oe+re[0].length):-1}function B(oe,Ee,Oe){var re=j.exec(Ee.slice(Oe));return re?(oe.w=w.get(re[0].toLowerCase()),Oe+re[0].length):-1}function z(oe,Ee,Oe){var re=h.exec(Ee.slice(Oe));return re?(oe.w=g.get(re[0].toLowerCase()),Oe+re[0].length):-1}function H(oe,Ee,Oe){var re=N.exec(Ee.slice(Oe));return re?(oe.m=C.get(re[0].toLowerCase()),Oe+re[0].length):-1}function W(oe,Ee,Oe){var re=b.exec(Ee.slice(Oe));return re?(oe.m=v.get(re[0].toLowerCase()),Oe+re[0].length):-1}function Z(oe,Ee,Oe){return D(oe,t,Ee,Oe)}function $(oe,Ee,Oe){return D(oe,r,Ee,Oe)}function M(oe,Ee,Oe){return D(oe,a,Ee,Oe)}function P(oe){return l[oe.getDay()]}function O(oe){return i[oe.getDay()]}function K(oe){return d[oe.getMonth()]}function V(oe){return u[oe.getMonth()]}function q(oe){return s[+(oe.getHours()>=12)]}function F(oe){return 1+~~(oe.getMonth()/3)}function L(oe){return l[oe.getUTCDay()]}function Y(oe){return i[oe.getUTCDay()]}function ee(oe){return d[oe.getUTCMonth()]}function ce(oe){return u[oe.getUTCMonth()]}function G(oe){return s[+(oe.getUTCHours()>=12)]}function fe(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Ee=T(oe+="",S);return Ee.toString=function(){return oe},Ee},parse:function(oe){var Ee=k(oe+="",!1);return Ee.toString=function(){return oe},Ee},utcFormat:function(oe){var Ee=T(oe+="",A);return Ee.toString=function(){return oe},Ee},utcParse:function(oe){var Ee=k(oe+="",!0);return Ee.toString=function(){return oe},Ee}}}var Tk={"-":"",_:" ",0:"0"},zr=/^\s*\d+/,RZ=/^%/,kZ=/[\\^$*+?|[\]().{}]/g;function At(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function IZ(e){return e.replace(kZ,"\\$&")}function _u(e){return new RegExp("^(?:"+e.map(IZ).join("|")+")","i")}function Cu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function PZ(e,t,r){var a=zr.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function OZ(e,t,r){var a=zr.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function DZ(e,t,r){var a=zr.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function MZ(e,t,r){var a=zr.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function $Z(e,t,r){var a=zr.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function Ak(e,t,r){var a=zr.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function Rk(e,t,r){var a=zr.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function LZ(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function FZ(e,t,r){var a=zr.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function UZ(e,t,r){var a=zr.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function kk(e,t,r){var a=zr.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function BZ(e,t,r){var a=zr.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function Ik(e,t,r){var a=zr.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function zZ(e,t,r){var a=zr.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function qZ(e,t,r){var a=zr.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function WZ(e,t,r){var a=zr.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function VZ(e,t,r){var a=zr.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function HZ(e,t,r){var a=RZ.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function GZ(e,t,r){var a=zr.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function KZ(e,t,r){var a=zr.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function Pk(e,t){return At(e.getDate(),t,2)}function YZ(e,t){return At(e.getHours(),t,2)}function XZ(e,t){return At(e.getHours()%12||12,t,2)}function QZ(e,t){return At(1+lf.count(Bs(e),e),t,3)}function j$(e,t){return At(e.getMilliseconds(),t,3)}function ZZ(e,t){return j$(e,t)+"000"}function JZ(e,t){return At(e.getMonth()+1,t,2)}function eJ(e,t){return At(e.getMinutes(),t,2)}function tJ(e,t){return At(e.getSeconds(),t,2)}function rJ(e){var t=e.getDay();return t===0?7:t}function nJ(e,t){return At(Gp.count(Bs(e)-1,e),t,2)}function w$(e){var t=e.getDay();return t>=4||t===0?ec(e):ec.ceil(e)}function aJ(e,t){return e=w$(e),At(ec.count(Bs(e),e)+(Bs(e).getDay()===4),t,2)}function sJ(e){return e.getDay()}function iJ(e,t){return At(Rm.count(Bs(e)-1,e),t,2)}function oJ(e,t){return At(e.getFullYear()%100,t,2)}function lJ(e,t){return e=w$(e),At(e.getFullYear()%100,t,2)}function cJ(e,t){return At(e.getFullYear()%1e4,t,4)}function uJ(e,t){var r=e.getDay();return e=r>=4||r===0?ec(e):ec.ceil(e),At(e.getFullYear()%1e4,t,4)}function dJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function Ok(e,t){return At(e.getUTCDate(),t,2)}function fJ(e,t){return At(e.getUTCHours(),t,2)}function hJ(e,t){return At(e.getUTCHours()%12||12,t,2)}function mJ(e,t){return At(1+Hp.count(zs(e),e),t,3)}function N$(e,t){return At(e.getUTCMilliseconds(),t,3)}function pJ(e,t){return N$(e,t)+"000"}function gJ(e,t){return At(e.getUTCMonth()+1,t,2)}function vJ(e,t){return At(e.getUTCMinutes(),t,2)}function xJ(e,t){return At(e.getUTCSeconds(),t,2)}function yJ(e){var t=e.getUTCDay();return t===0?7:t}function bJ(e,t){return At(Kp.count(zs(e)-1,e),t,2)}function S$(e){var t=e.getUTCDay();return t>=4||t===0?tc(e):tc.ceil(e)}function jJ(e,t){return e=S$(e),At(tc.count(zs(e),e)+(zs(e).getUTCDay()===4),t,2)}function wJ(e){return e.getUTCDay()}function NJ(e,t){return At(km.count(zs(e)-1,e),t,2)}function SJ(e,t){return At(e.getUTCFullYear()%100,t,2)}function _J(e,t){return e=S$(e),At(e.getUTCFullYear()%100,t,2)}function CJ(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function EJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?tc(e):tc.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function TJ(){return"+0000"}function Dk(){return"%"}function Mk(e){return+e}function $k(e){return Math.floor(+e/1e3)}var Sl,_$,C$;AJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function AJ(e){return Sl=AZ(e),_$=Sl.format,Sl.parse,C$=Sl.utcFormat,Sl.utcParse,Sl}function RJ(e){return new Date(e)}function kJ(e){return e instanceof Date?+e:+new Date(+e)}function HN(e,t,r,a,s,i,l,u,d,f){var m=IN(),h=m.invert,g=m.domain,j=f(".%L"),w=f(":%S"),b=f("%I:%M"),v=f("%I %p"),N=f("%a %d"),C=f("%b %d"),S=f("%B"),A=f("%Y");function _(T){return(d(T)<T?j:u(T)<T?w:l(T)<T?b:i(T)<T?v:a(T)<T?s(T)<T?N:C:r(T)<T?S:A)(T)}return m.invert=function(T){return new Date(h(T))},m.domain=function(T){return arguments.length?g(Array.from(T,kJ)):g().map(RJ)},m.ticks=function(T){var k=g();return e(k[0],k[k.length-1],T??10)},m.tickFormat=function(T,k){return k==null?_:f(k)},m.nice=function(T){var k=g();return(!T||typeof T.range!="function")&&(T=t(k[0],k[k.length-1],T??10)),T?g(f$(k,T)):m},m.copy=function(){return of(m,HN(e,t,r,a,s,i,l,u,d,f))},m}function IJ(){return va.apply(HN(EZ,TZ,Bs,WN,Gp,lf,zN,UN,jo,_$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PJ(){return va.apply(HN(_Z,CZ,zs,VN,Kp,Hp,qN,BN,jo,C$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yp(){var e=0,t=1,r,a,s,i,l=gn,u=!1,d;function f(h){return h==null||isNaN(h=+h)?d:l(s===0?.5:(h=(i(h)-r)*s,u?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),f):[e,t]},f.clamp=function(h){return arguments.length?(u=!!h,f):u},f.interpolator=function(h){return arguments.length?(l=h,f):l};function m(h){return function(g){var j,w;return arguments.length?([j,w]=g,l=h(j,w),f):[l(0),l(1)]}}return f.range=m(Tc),f.rangeRound=m(kN),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return i=h,r=h(e),a=h(t),s=r===a?0:1/(a-r),f}}function Gi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function E$(){var e=Hi(Yp()(gn));return e.copy=function(){return Gi(e,E$())},Vs.apply(e,arguments)}function T$(){var e=DN(Yp()).domain([1,10]);return e.copy=function(){return Gi(e,T$()).base(e.base())},Vs.apply(e,arguments)}function A$(){var e=MN(Yp());return e.copy=function(){return Gi(e,A$()).constant(e.constant())},Vs.apply(e,arguments)}function GN(){var e=$N(Yp());return e.copy=function(){return Gi(e,GN()).exponent(e.exponent())},Vs.apply(e,arguments)}function OJ(){return GN.apply(null,arguments).exponent(.5)}function R$(){var e=[],t=gn;function r(a){if(a!=null&&!isNaN(a=+a))return t((af(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ri),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>bQ(e,i/a))},r.copy=function(){return R$(t).domain(e)},Vs.apply(r,arguments)}function Xp(){var e=0,t=.5,r=1,a=1,s,i,l,u,d,f=gn,m,h=!1,g;function j(b){return isNaN(b=+b)?g:(b=.5+((b=+m(b))-i)*(a*b<a*i?u:d),f(h?Math.max(0,Math.min(1,b)):b))}j.domain=function(b){return arguments.length?([e,t,r]=b,s=m(e=+e),i=m(t=+t),l=m(r=+r),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),a=i<s?-1:1,j):[e,t,r]},j.clamp=function(b){return arguments.length?(h=!!b,j):h},j.interpolator=function(b){return arguments.length?(f=b,j):f};function w(b){return function(v){var N,C,S;return arguments.length?([N,C,S]=v,f=HQ(b,[N,C,S]),j):[f(0),f(.5),f(1)]}}return j.range=w(Tc),j.rangeRound=w(kN),j.unknown=function(b){return arguments.length?(g=b,j):g},function(b){return m=b,s=b(e),i=b(t),l=b(r),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),a=i<s?-1:1,j}}function k$(){var e=Hi(Xp()(gn));return e.copy=function(){return Gi(e,k$())},Vs.apply(e,arguments)}function I$(){var e=DN(Xp()).domain([.1,1,10]);return e.copy=function(){return Gi(e,I$()).base(e.base())},Vs.apply(e,arguments)}function P$(){var e=MN(Xp());return e.copy=function(){return Gi(e,P$()).constant(e.constant())},Vs.apply(e,arguments)}function KN(){var e=$N(Xp());return e.copy=function(){return Gi(e,KN()).exponent(e.exponent())},Vs.apply(e,arguments)}function DJ(){return KN.apply(null,arguments).exponent(.5)}const Lk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:md,scaleDiverging:k$,scaleDivergingLog:I$,scaleDivergingPow:KN,scaleDivergingSqrt:DJ,scaleDivergingSymlog:P$,scaleIdentity:d$,scaleImplicit:Dw,scaleLinear:Tm,scaleLog:h$,scaleOrdinal:TN,scalePoint:Hu,scalePow:LN,scaleQuantile:g$,scaleQuantize:v$,scaleRadial:p$,scaleSequential:E$,scaleSequentialLog:T$,scaleSequentialPow:GN,scaleSequentialQuantile:R$,scaleSequentialSqrt:OJ,scaleSequentialSymlog:A$,scaleSqrt:pZ,scaleSymlog:m$,scaleThreshold:x$,scaleTime:IJ,scaleUtc:PJ,tickFormat:u$},Symbol.toStringTag,{value:"Module"}));var Ub,Fk;function O$(){if(Fk)return Ub;Fk=1;var e=_c();function t(r,a,s){for(var i=-1,l=r.length;++i<l;){var u=r[i],d=a(u);if(d!=null&&(f===void 0?d===d&&!e(d):s(d,f)))var f=d,m=u}return m}return Ub=t,Ub}var Bb,Uk;function MJ(){if(Uk)return Bb;Uk=1;function e(t,r){return t>r}return Bb=e,Bb}var zb,Bk;function $J(){if(Bk)return zb;Bk=1;var e=O$(),t=MJ(),r=Ec();function a(s){return s&&s.length?e(s,r,t):void 0}return zb=a,zb}var LJ=$J();const Qp=zt(LJ);var qb,zk;function FJ(){if(zk)return qb;zk=1;function e(t,r){return t<r}return qb=e,qb}var Wb,qk;function UJ(){if(qk)return Wb;qk=1;var e=O$(),t=FJ(),r=Ec();function a(s){return s&&s.length?e(s,r,t):void 0}return Wb=a,Wb}var BJ=UJ();const Zp=zt(BJ);var Vb,Wk;function zJ(){if(Wk)return Vb;Wk=1;var e=uN(),t=Vi(),r=z4(),a=Pn();function s(i,l){var u=a(i)?e:r;return u(i,t(l,3))}return Vb=s,Vb}var Hb,Vk;function qJ(){if(Vk)return Hb;Vk=1;var e=U4(),t=zJ();function r(a,s){return e(t(a,s),1)}return Hb=r,Hb}var WJ=qJ();const VJ=zt(WJ);var Gb,Hk;function HJ(){if(Hk)return Gb;Hk=1;var e=NN();function t(r,a){return e(r,a)}return Gb=t,Gb}var GJ=HJ();const YN=zt(GJ);var Ac=1e9,KJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QN,Jt=!0,ga="[DecimalError] ",Co=ga+"Invalid argument: ",XN=ga+"Exponent out of range: ",Rc=Math.floor,po=Math.pow,YJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gn,Or=1e7,Xt=7,D$=9007199254740991,Im=Rc(D$/Xt),He={};He.absoluteValue=He.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};He.comparedTo=He.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};He.decimalPlaces=He.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};He.dividedBy=He.div=function(e){return Ds(this,new this.constructor(e))};He.dividedToIntegerBy=He.idiv=function(e){var t=this,r=t.constructor;return Wt(Ds(t,new r(e),0,1),r.precision)};He.equals=He.eq=function(e){return!this.cmp(e)};He.exponent=function(){return vr(this)};He.greaterThan=He.gt=function(e){return this.cmp(e)>0};He.greaterThanOrEqualTo=He.gte=function(e){return this.cmp(e)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(e){return this.cmp(e)<0};He.lessThanOrEqualTo=He.lte=function(e){return this.cmp(e)<1};He.logarithm=He.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Gn))throw Error(ga+"NaN");if(r.s<1)throw Error(ga+(r.s?"NaN":"-Infinity"));return r.eq(Gn)?new a(0):(Jt=!1,t=Ds(yd(r,i),yd(e,i),i),Jt=!0,Wt(t,s))};He.minus=He.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?L$(t,e):M$(t,(e.s=-e.s,e))};He.modulo=He.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(ga+"NaN");return r.s?(Jt=!1,t=Ds(r,e,0,1).times(e),Jt=!0,r.minus(t)):Wt(new a(r),s)};He.naturalExponential=He.exp=function(){return $$(this)};He.naturalLogarithm=He.ln=function(){return yd(this)};He.negated=He.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};He.plus=He.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?M$(t,e):L$(t,(e.s=-e.s,e))};He.precision=He.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Co+e);if(t=vr(s)+1,a=s.d.length-1,r=a*Xt+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};He.squareRoot=He.sqrt=function(){var e,t,r,a,s,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(ga+"NaN")}for(e=vr(u),Jt=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=Ja(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Rc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new d(t)):a=new d(s.toString()),r=d.precision,s=l=r+3;;)if(i=a,a=i.plus(Ds(u,i,l+2)).times(.5),Ja(i.d).slice(0,l)===(t=Ja(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(Wt(i,r+1,0),i.times(i).eq(u)){a=i;break}}else if(t!="9999")break;l+=4}return Jt=!0,Wt(a,r)};He.times=He.mul=function(e){var t,r,a,s,i,l,u,d,f,m=this,h=m.constructor,g=m.d,j=(e=new h(e)).d;if(!m.s||!e.s)return new h(0);for(e.s*=m.s,r=m.e+e.e,d=g.length,f=j.length,d<f&&(i=g,g=j,j=i,l=d,d=f,f=l),i=[],l=d+f,a=l;a--;)i.push(0);for(a=f;--a>=0;){for(t=0,s=d+a;s>a;)u=i[s]+j[a]*g[s-a-1]+t,i[s--]=u%Or|0,t=u/Or|0;i[s]=(i[s]+t)%Or|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Jt?Wt(e,h.precision):e};He.toDecimalPlaces=He.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(cs(e,0,Ac),t===void 0?t=a.rounding:cs(t,0,8),Wt(r,e+vr(r)+1,t))};He.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=Do(a,!0):(cs(e,0,Ac),t===void 0?t=s.rounding:cs(t,0,8),a=Wt(new s(a),e+1,t),r=Do(a,!0,e+1)),r};He.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?Do(s):(cs(e,0,Ac),t===void 0?t=i.rounding:cs(t,0,8),a=Wt(new i(s),e+vr(s)+1,t),r=Do(a.abs(),!1,e+vr(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};He.toInteger=He.toint=function(){var e=this,t=e.constructor;return Wt(new t(e),vr(e)+1,t.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(e){var t,r,a,s,i,l,u=this,d=u.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(Gn);if(u=new d(u),!u.s){if(e.s<1)throw Error(ga+"Infinity");return u}if(u.eq(Gn))return u;if(a=d.precision,e.eq(Gn))return Wt(u,a);if(t=e.e,r=e.d.length-1,l=t>=r,i=u.s,l){if((r=m<0?-m:m)<=D$){for(s=new d(Gn),t=Math.ceil(a/Xt+4),Jt=!1;r%2&&(s=s.times(u),Kk(s.d,t)),r=Rc(r/2),r!==0;)u=u.times(u),Kk(u.d,t);return Jt=!0,e.s<0?new d(Gn).div(s):Wt(s,a)}}else if(i<0)throw Error(ga+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Jt=!1,s=e.times(yd(u,a+f)),Jt=!0,s=$$(s),s.s=i,s};He.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=vr(s),a=Do(s,r<=i.toExpNeg||r>=i.toExpPos)):(cs(e,1,Ac),t===void 0?t=i.rounding:cs(t,0,8),s=Wt(new i(s),e,t),r=vr(s),a=Do(s,e<=r||r<=i.toExpNeg,e)),a};He.toSignificantDigits=He.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(cs(e,1,Ac),t===void 0?t=a.rounding:cs(t,0,8)),Wt(new a(r),e,t)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vr(e),r=e.constructor;return Do(e,t<=r.toExpNeg||t>=r.toExpPos)};function M$(e,t){var r,a,s,i,l,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),Jt?Wt(t,h):t;if(d=e.d,f=t.d,l=e.e,s=t.e,d=d.slice(),i=l-s,i){for(i<0?(a=d,i=-i,u=f.length):(a=f,s=l,u=d.length),l=Math.ceil(h/Xt),u=l>u?l+1:u+1,i>u&&(i=u,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,a=f,f=d,d=a),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/Or|0,d[i]%=Or;for(r&&(d.unshift(r),++s),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=s,Jt?Wt(t,h):t}function cs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Co+e)}function Ja(e){var t,r,a,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)a=e[t]+"",r=Xt-a.length,r&&(i+=bi(r)),i+=a;l=e[t],a=l+"",r=Xt-a.length,r&&(i+=bi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Ds=(function(){function e(a,s){var i,l=0,u=a.length;for(a=a.slice();u--;)i=a[u]*s+l,a[u]=i%Or|0,l=i/Or|0;return l&&a.unshift(l),a}function t(a,s,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(a[u]!=s[u]){d=a[u]>s[u]?1:-1;break}return d}function r(a,s,i){for(var l=0;i--;)a[i]-=l,l=a[i]<s[i]?1:0,a[i]=l*Or+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,l){var u,d,f,m,h,g,j,w,b,v,N,C,S,A,_,T,k,D,I=a.constructor,B=a.s==s.s?1:-1,z=a.d,H=s.d;if(!a.s)return new I(a);if(!s.s)throw Error(ga+"Division by zero");for(d=a.e-s.e,k=H.length,_=z.length,j=new I(B),w=j.d=[],f=0;H[f]==(z[f]||0);)++f;if(H[f]>(z[f]||0)&&--d,i==null?C=i=I.precision:l?C=i+(vr(a)-vr(s))+1:C=i,C<0)return new I(0);if(C=C/Xt+2|0,f=0,k==1)for(m=0,H=H[0],C++;(f<_||m)&&C--;f++)S=m*Or+(z[f]||0),w[f]=S/H|0,m=S%H|0;else{for(m=Or/(H[0]+1)|0,m>1&&(H=e(H,m),z=e(z,m),k=H.length,_=z.length),A=k,b=z.slice(0,k),v=b.length;v<k;)b[v++]=0;D=H.slice(),D.unshift(0),T=H[0],H[1]>=Or/2&&++T;do m=0,u=t(H,b,k,v),u<0?(N=b[0],k!=v&&(N=N*Or+(b[1]||0)),m=N/T|0,m>1?(m>=Or&&(m=Or-1),h=e(H,m),g=h.length,v=b.length,u=t(h,b,g,v),u==1&&(m--,r(h,k<g?D:H,g))):(m==0&&(u=m=1),h=H.slice()),g=h.length,g<v&&h.unshift(0),r(b,h,v),u==-1&&(v=b.length,u=t(H,b,k,v),u<1&&(m++,r(b,k<v?D:H,v))),v=b.length):u===0&&(m++,b=[0]),w[f++]=m,u&&b[0]?b[v++]=z[A]||0:(b=[z[A]],v=1);while((A++<_||b[0]!==void 0)&&C--)}return w[0]||w.shift(),j.e=d,Wt(j,l?i+vr(j)+1:i)}})();function $$(e,t){var r,a,s,i,l,u,d=0,f=0,m=e.constructor,h=m.precision;if(vr(e)>16)throw Error(XN+vr(e));if(!e.s)return new m(Gn);for(Jt=!1,u=h,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(a=Math.log(po(2,f))/Math.LN10*2+5|0,u+=a,r=s=i=new m(Gn),m.precision=u;;){if(s=Wt(s.times(e),u),r=r.times(++d),l=i.plus(Ds(s,r,u)),Ja(l.d).slice(0,u)===Ja(i.d).slice(0,u)){for(;f--;)i=Wt(i.times(i),u);return m.precision=h,t==null?(Jt=!0,Wt(i,h)):i}i=l}}function vr(e){for(var t=e.e*Xt,r=e.d[0];r>=10;r/=10)t++;return t}function Kb(e,t,r){if(t>e.LN10.sd())throw Jt=!0,r&&(e.precision=r),Error(ga+"LN10 precision limit exceeded");return Wt(new e(e.LN10),t)}function bi(e){for(var t="";e--;)t+="0";return t}function yd(e,t){var r,a,s,i,l,u,d,f,m,h=1,g=10,j=e,w=j.d,b=j.constructor,v=b.precision;if(j.s<1)throw Error(ga+(j.s?"NaN":"-Infinity"));if(j.eq(Gn))return new b(0);if(t==null?(Jt=!1,f=v):f=t,j.eq(10))return t==null&&(Jt=!0),Kb(b,f);if(f+=g,b.precision=f,r=Ja(w),a=r.charAt(0),i=vr(j),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)j=j.times(e),r=Ja(j.d),a=r.charAt(0),h++;i=vr(j),a>1?(j=new b("0."+r),i++):j=new b(a+"."+r.slice(1))}else return d=Kb(b,f+2,v).times(i+""),j=yd(new b(a+"."+r.slice(1)),f-g).plus(d),b.precision=v,t==null?(Jt=!0,Wt(j,v)):j;for(u=l=j=Ds(j.minus(Gn),j.plus(Gn),f),m=Wt(j.times(j),f),s=3;;){if(l=Wt(l.times(m),f),d=u.plus(Ds(l,new b(s),f)),Ja(d.d).slice(0,f)===Ja(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(Kb(b,f+2,v).times(i+""))),u=Ds(u,new b(h),f),b.precision=v,t==null?(Jt=!0,Wt(u,v)):u;u=d,s+=2}}function Gk(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=Rc(r/Xt),e.d=[],a=(r+1)%Xt,r<0&&(a+=Xt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Xt;a<s;)e.d.push(+t.slice(a,a+=Xt));t=t.slice(a),a=Xt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Jt&&(e.e>Im||e.e<-Im))throw Error(XN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Wt(e,t,r){var a,s,i,l,u,d,f,m,h=e.d;for(l=1,i=h[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=Xt,s=t,f=h[m=0];else{if(m=Math.ceil((a+1)/Xt),i=h.length,m>=i)return e;for(f=i=h[m],l=1;i>=10;i/=10)l++;a%=Xt,s=a-Xt+l}if(r!==void 0&&(i=po(10,l-s-1),u=f/i%10|0,d=t<0||h[m+1]!==void 0||f%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(a>0?s>0?f/po(10,l-s):0:h[m-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return d?(i=vr(e),h.length=1,t=t-i-1,h[0]=po(10,(Xt-t%Xt)%Xt),e.e=Rc(-t/Xt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=m,i=1,m--):(h.length=m+1,i=po(10,Xt-a),h[m]=s>0?(f/po(10,l-s)%po(10,s)|0)*i:0),d)for(;;)if(m==0){(h[0]+=i)==Or&&(h[0]=1,++e.e);break}else{if(h[m]+=i,h[m]!=Or)break;h[m--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(Jt&&(e.e>Im||e.e<-Im))throw Error(XN+vr(e));return e}function L$(e,t){var r,a,s,i,l,u,d,f,m,h,g=e.constructor,j=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Jt?Wt(t,j):t;if(d=e.d,h=t.d,a=t.e,f=e.e,d=d.slice(),l=f-a,l){for(m=l<0,m?(r=d,l=-l,u=h.length):(r=h,a=f,u=d.length),s=Math.max(Math.ceil(j/Xt),u)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=d.length,u=h.length,m=s<u,m&&(u=s),s=0;s<u;s++)if(d[s]!=h[s]){m=d[s]<h[s];break}l=0}for(m&&(r=d,d=h,h=r,t.s=-t.s),u=d.length,s=h.length-u;s>0;--s)d[u++]=0;for(s=h.length;s>l;){if(d[--s]<h[s]){for(i=s;i&&d[--i]===0;)d[i]=Or-1;--d[i],d[s]+=Or}d[s]-=h[s]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(t.d=d,t.e=a,Jt?Wt(t,j):t):new g(0)}function Do(e,t,r){var a,s=vr(e),i=Ja(e.d),l=i.length;return t?(r&&(a=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+bi(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+bi(-s-1)+i,r&&(a=r-l)>0&&(i+=bi(a))):s>=l?(i+=bi(s+1-l),r&&(a=r-s-1)>0&&(i=i+"."+bi(a))):((a=s+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-l)>0&&(s+1===l&&(i+="."),i+=bi(a))),e.s<0?"-"+i:i}function Kk(e,t){if(e.length>t)return e.length=t,!0}function F$(e){var t,r,a;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Co+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return Gk(l,i.toString())}else if(typeof i!="string")throw Error(Co+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,YJ.test(i))Gk(l,i);else throw Error(Co+i)}if(s.prototype=He,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=F$,s.config=s.set=XJ,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function XJ(e){if(!e||typeof e!="object")throw Error(ga+"Object expected");var t,r,a,s=["precision",1,Ac,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(Rc(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Co+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Co+r+": "+a);return this}var QN=F$(KJ);Gn=new QN(1);const Lt=QN;function QJ(e){return tee(e)||eee(e)||JJ(e)||ZJ()}function ZJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JJ(e,t){if(e){if(typeof e=="string")return Fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(e,t)}}function eee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function tee(e){if(Array.isArray(e))return Fw(e)}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var ree=function(t){return t},U$={},B$=function(t){return t===U$},Yk=function(t){return function r(){return arguments.length===0||arguments.length===1&&B$(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},nee=function e(t,r){return t===1?r:Yk(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var l=s.filter(function(u){return u!==U$}).length;return l>=t?r.apply(void 0,s):e(t-l,Yk(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var m=s.map(function(h){return B$(h)?d.shift():h});return r.apply(void 0,QJ(m).concat(d))}))})},Jp=function(t){return nee(t.length,t)},Uw=function(t,r){for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},aee=Jp(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),see=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return ree;var s=r.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},Bw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},z$=function(t){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return r&&i.every(function(u,d){return u===r[d]})||(r=i,a=t.apply(void 0,i)),a}};function iee(e){var t;return e===0?t=1:t=Math.floor(new Lt(e).abs().log(10).toNumber())+1,t}function oee(e,t,r){for(var a=new Lt(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var lee=Jp(function(e,t,r){var a=+e,s=+t;return a+r*(s-a)}),cee=Jp(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),uee=Jp(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const eg={rangeStep:oee,getDigitCount:iee,interpolateNumber:lee,uninterpolateNumber:cee,uninterpolateTruncation:uee};function zw(e){return hee(e)||fee(e)||q$(e)||dee()}function dee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function hee(e){if(Array.isArray(e))return qw(e)}function bd(e,t){return gee(e)||pee(e,t)||q$(e,t)||mee()}function mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q$(e,t){if(e){if(typeof e=="string")return qw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qw(e,t)}}function qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function pee(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),u;!(a=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));a=!0);}catch(d){s=!0,i=d}finally{try{!a&&l.return!=null&&l.return()}finally{if(s)throw i}}return r}}function gee(e){if(Array.isArray(e))return e}function W$(e){var t=bd(e,2),r=t[0],a=t[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function V$(e,t,r){if(e.lte(0))return new Lt(0);var a=eg.getDigitCount(e.toNumber()),s=new Lt(10).pow(a),i=e.div(s),l=a!==1?.05:.1,u=new Lt(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=u.mul(s);return t?d:new Lt(Math.ceil(d))}function vee(e,t,r){var a=1,s=new Lt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new Lt(10).pow(eg.getDigitCount(e)-1),s=new Lt(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Lt(Math.floor(e)))}else e===0?s=new Lt(Math.floor((t-1)/2)):r||(s=new Lt(Math.floor(e)));var l=Math.floor((t-1)/2),u=see(aee(function(d){return s.add(new Lt(d-l).mul(a)).toNumber()}),Uw);return u(0,t)}function H$(e,t,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var i=V$(new Lt(t).sub(e).div(r-1),a,s),l;e<=0&&t>=0?l=new Lt(0):(l=new Lt(e).add(t).div(2),l=l.sub(new Lt(l).mod(i)));var u=Math.ceil(l.sub(e).div(i).toNumber()),d=Math.ceil(new Lt(t).sub(l).div(i).toNumber()),f=u+d+1;return f>r?H$(e,t,r,a,s+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:i,tickMin:l.sub(new Lt(u).mul(i)),tickMax:l.add(new Lt(d).mul(i))})}function xee(e){var t=bd(e,2),r=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),u=W$([r,a]),d=bd(u,2),f=d[0],m=d[1];if(f===-1/0||m===1/0){var h=m===1/0?[f].concat(zw(Uw(0,s-1).map(function(){return 1/0}))):[].concat(zw(Uw(0,s-1).map(function(){return-1/0})),[m]);return r>a?Bw(h):h}if(f===m)return vee(f,s,i);var g=H$(f,m,l,i),j=g.step,w=g.tickMin,b=g.tickMax,v=eg.rangeStep(w,b.add(new Lt(.1).mul(j)),j);return r>a?Bw(v):v}function yee(e,t){var r=bd(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=W$([a,s]),u=bd(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[a,s];if(d===f)return[d];var m=Math.max(t,2),h=V$(new Lt(f).sub(d).div(m-1),i,0),g=[].concat(zw(eg.rangeStep(new Lt(d),new Lt(f).sub(new Lt(.99).mul(h)),h)),[f]);return a>s?Bw(g):g}var bee=z$(xee),jee=z$(yee),wee="Invariant failed";function Mo(e,t){throw new Error(wee)}var Nee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pm.apply(this,arguments)}function See(e,t){return Tee(e)||Eee(e,t)||Cee(e,t)||_ee()}function _ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cee(e,t){if(e){if(typeof e=="string")return Xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(e,t)}}function Xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Eee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Tee(e){if(Array.isArray(e))return e}function Aee(e,t){if(e==null)return{};var r=Ree(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ree(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function kee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iee(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Y$(a.key),a)}}function Pee(e,t,r){return t&&Iee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oee(e,t,r){return t=Om(t),Dee(e,G$()?Reflect.construct(t,r||[],Om(e).constructor):t.apply(e,r))}function Dee(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mee(e)}function Mee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!e})()}function Om(e){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(e)}function $ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ww(e,t)}function Ww(e,t){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ww(e,t)}function K$(e,t,r){return t=Y$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$(e){var t=Lee(e,"string");return rc(t)=="symbol"?t:t+""}function Lee(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(rc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tg=(function(e){function t(){return kee(this,t),Oee(this,t,arguments)}return $ee(t,e),Pee(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,l=a.width,u=a.dataKey,d=a.data,f=a.dataPointFormatter,m=a.xAxis,h=a.yAxis,g=Aee(a,Nee),j=Rt(g,!1);this.props.direction==="x"&&m.type!=="number"&&Mo();var w=d.map(function(b){var v=f(b,u),N=v.x,C=v.y,S=v.value,A=v.errorVal;if(!A)return null;var _=[],T,k;if(Array.isArray(A)){var D=See(A,2);T=D[0],k=D[1]}else T=k=A;if(i==="vertical"){var I=m.scale,B=C+s,z=B+l,H=B-l,W=I(S-T),Z=I(S+k);_.push({x1:Z,y1:z,x2:Z,y2:H}),_.push({x1:W,y1:B,x2:Z,y2:B}),_.push({x1:W,y1:z,x2:W,y2:H})}else if(i==="horizontal"){var $=h.scale,M=N+s,P=M-l,O=M+l,K=$(S-T),V=$(S+k);_.push({x1:P,y1:V,x2:O,y2:V}),_.push({x1:M,y1:K,x2:M,y2:V}),_.push({x1:P,y1:K,x2:O,y2:K})}return Q.createElement(Mr,Pm({className:"recharts-errorBar",key:"bar-".concat(_.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},j),_.map(function(q){return Q.createElement("line",Pm({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return Q.createElement(Mr,{className:"recharts-errorBars"},w)}}])})(Q.Component);K$(tg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});K$(tg,"displayName","ErrorBar");function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(a){Fee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Fee(e,t,r){return t=Uee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uee(e){var t=Bee(e,"string");return jd(t)=="symbol"?t:t+""}function Bee(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(jd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X$=function(t){var r=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=Wn(r,Ul);if(!l)return null;var u=Ul.defaultProps,d=u!==void 0?fo(fo({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:i==="children"?f=(a||[]).reduce(function(m,h){var g=h.item,j=h.props,w=j.sectors||j.data||[];return m.concat(w.map(function(b){return{type:l.props.iconType||g.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(a||[]).map(function(m){var h=m.item,g=h.type.defaultProps,j=g!==void 0?fo(fo({},g),h.props):{},w=j.dataKey,b=j.name,v=j.legendType,N=j.hide;return{inactive:N,dataKey:w,type:d.iconType||v||"square",color:ZN(h),value:b||w,payload:j}}),fo(fo(fo({},d),Ul.getWithHeight(l,s)),{},{payload:f,item:l})};function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function Zk(e){return Vee(e)||Wee(e)||qee(e)||zee()}function zee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qee(e,t){if(e){if(typeof e=="string")return Vw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vw(e,t)}}function Wee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vee(e){if(Array.isArray(e))return Vw(e)}function Vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(r),!0).forEach(function(a){zl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zl(e,t,r){return t=Hee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hee(e){var t=Gee(e,"string");return wd(t)=="symbol"?t:t+""}function Gee(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(wd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function us(e,t,r){return kt(e)||kt(t)?r:Cr(t)?pa(e,t,r):jt(t)?t(e):r}function Gu(e,t,r,a){var s=VJ(e,function(u){return us(u,t)});if(r==="number"){var i=s.filter(function(u){return $e(u)||parseFloat(u)});return i.length?[Zp(i),Qp(i)]:[1/0,-1/0]}var l=a?s.filter(function(u){return!kt(u)}):s;return l.map(function(u){return Cr(u)||u instanceof Date?u:""})}var Kee=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=a?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<u;f++){var m=f>0?s[f-1].coordinate:s[u-1].coordinate,h=s[f].coordinate,g=f>=u-1?s[0].coordinate:s[f+1].coordinate,j=void 0;if(Ra(h-m)!==Ra(g-h)){var w=[];if(Ra(g-h)===Ra(d[1]-d[0])){j=g;var b=h+d[1]-d[0];w[0]=Math.min(b,(b+m)/2),w[1]=Math.max(b,(b+m)/2)}else{j=m;var v=g+d[1]-d[0];w[0]=Math.min(h,(v+h)/2),w[1]=Math.max(h,(v+h)/2)}var N=[Math.min(h,(j+h)/2),Math.max(h,(j+h)/2)];if(t>N[0]&&t<=N[1]||t>=w[0]&&t<=w[1]){l=s[f].index;break}}else{var C=Math.min(m,g),S=Math.max(m,g);if(t>(C+h)/2&&t<=(S+h)/2){l=s[f].index;break}}}else for(var A=0;A<u;A++)if(A===0&&t<=(a[A].coordinate+a[A+1].coordinate)/2||A>0&&A<u-1&&t>(a[A].coordinate+a[A-1].coordinate)/2&&t<=(a[A].coordinate+a[A+1].coordinate)/2||A===u-1&&t>(a[A].coordinate+a[A-1].coordinate)/2){l=a[A].index;break}return l},ZN=function(t){var r,a=t,s=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,l=i.stroke,u=i.fill,d;switch(s){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},Yee=function(t){var r=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},u=Object.keys(i),d=0,f=u.length;d<f;d++)for(var m=i[u[d]].stackGroups,h=Object.keys(m),g=0,j=h.length;g<j;g++){var w=m[h[g]],b=w.items,v=w.cateAxisId,N=b.filter(function(k){return Ps(k.type).indexOf("Bar")>=0});if(N&&N.length){var C=N[0].type.defaultProps,S=C!==void 0?ar(ar({},C),N[0].props):N[0].props,A=S.barSize,_=S[v];l[_]||(l[_]=[]);var T=kt(A)?r:A;l[_].push({item:N[0],stackList:N.slice(1),barSize:kt(T)?void 0:Oo(T,a,0)})}}return l},Xee=function(t){var r=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=Oo(r,s,0,!0),m,h=[];if(l[0].barSize===+l[0].barSize){var g=!1,j=s/d,w=l.reduce(function(A,_){return A+_.barSize||0},0);w+=(d-1)*f,w>=s&&(w-=(d-1)*f,f=0),w>=s&&j>0&&(g=!0,j*=.9,w=d*j);var b=(s-w)/2>>0,v={offset:b-f,size:0};m=l.reduce(function(A,_){var T={item:_.item,position:{offset:v.offset+v.size+f,size:g?j:_.barSize}},k=[].concat(Zk(A),[T]);return v=k[k.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(D){k.push({item:D,position:v})}),k},h)}else{var N=Oo(a,s,0,!0);s-2*N-(d-1)*f<=0&&(f=0);var C=(s-2*N-(d-1)*f)/d;C>1&&(C>>=0);var S=u===+u?Math.min(C,u):C;m=l.reduce(function(A,_,T){var k=[].concat(Zk(A),[{item:_.item,position:{offset:N+(C+f)*T+(C-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(D){k.push({item:D,position:k[k.length-1].position})}),k},h)}return m},Qee=function(t,r,a,s){var i=a.children,l=a.width,u=a.margin,d=l-(u.left||0)-(u.right||0),f=X$({children:i,legendWidth:d});if(f){var m=s||{},h=m.width,g=m.height,j=f.align,w=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&w==="middle")&&j!=="center"&&$e(t[j]))return ar(ar({},t),{},zl({},j,t[j]+(h||0)));if((b==="horizontal"||b==="vertical"&&j==="center")&&w!=="middle"&&$e(t[w]))return ar(ar({},t),{},zl({},w,t[w]+(g||0)))}return t},Zee=function(t,r,a){return kt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},Q$=function(t,r,a,s,i){var l=r.props.children,u=Ia(l,tg).filter(function(f){return Zee(s,i,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,m){var h=us(m,a);if(kt(h))return f;var g=Array.isArray(h)?[Zp(h),Qp(h)]:[h,h],j=d.reduce(function(w,b){var v=us(m,b,0),N=g[0]-Math.abs(Array.isArray(v)?v[0]:v),C=g[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(N,w[0]),Math.max(C,w[1])]},[1/0,-1/0]);return[Math.min(j[0],f[0]),Math.max(j[1],f[1])]},[1/0,-1/0])}return null},Jee=function(t,r,a,s,i){var l=r.map(function(u){return Q$(t,u,a,i,s)}).filter(function(u){return!kt(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},Z$=function(t,r,a,s,i){var l=r.map(function(d){var f=d.props.dataKey;return a==="number"&&f&&Q$(t,d,f,s)||Gu(t,f,a,i)});if(a==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var m=0,h=f.length;m<h;m++)u[f[m]]||(u[f[m]]=!0,d.push(f[m]));return d},[])},J$=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},eL=function(t,r,a,s){if(s)return t.map(function(d){return d.coordinate});var i,l,u=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===a&&(l=!0),d.coordinate});return i||u.push(r),l||u.push(a),u},Is=function(t,r,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,f=(r||a)&&l==="category"&&s.bandwidth?s.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&u?.length>=2?Ra(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(h){var g=i?i.indexOf(h):h;return{coordinate:s(g)+f,value:h,offset:f}});return m.filter(function(h){return!tf(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,g){return{coordinate:s(h)+f,value:h,index:g,offset:f}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(h){return{coordinate:s(h)+f,value:h,offset:f}}):s.domain().map(function(h,g){return{coordinate:s(h)+f,value:i?i[h]:h,index:g,offset:f}})},Yb=new WeakMap,Fh=function(t,r){if(typeof r!="function")return t;Yb.has(t)||Yb.set(t,new WeakMap);var a=Yb.get(t);if(a.has(r))return a.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},ete=function(t,r,a){var s=t.scale,i=t.type,l=t.layout,u=t.axisType;if(s==="auto")return l==="radial"&&u==="radiusAxis"?{scale:md(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:Tm(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Hu(),realScaleType:"point"}:i==="category"?{scale:md(),realScaleType:"band"}:{scale:Tm(),realScaleType:"linear"};if(Po(s)){var d="scale".concat(Lp(s));return{scale:(Lk[d]||Hu)(),realScaleType:Lk[d]?d:"point"}}return jt(s)?{scale:s}:{scale:Hu(),realScaleType:"point"}},eI=1e-4,tte=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-eI,l=Math.max(s[0],s[1])+eI,u=t(r[0]),d=t(r[a-1]);(u<i||u>l||d<i||d>l)&&t.domain([r[0],r[a-1]])}},rte=function(t,r){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===r)return t[a].position;return null},nte=function(t,r){if(!r||r.length!==2||!$e(r[0])||!$e(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!$e(t[0])||t[0]<a)&&(i[0]=a),(!$e(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},ate=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0,u=0;u<r;++u){var d=tf(t[u][a][1])?t[u][a][0]:t[u][a][1];d>=0?(t[u][a][0]=i,t[u][a][1]=i+d,i=t[u][a][1]):(t[u][a][0]=l,t[u][a][1]=l+d,l=t[u][a][1])}},ste=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0;l<r;++l){var u=tf(t[l][a][1])?t[l][a][0]:t[l][a][1];u>=0?(t[l][a][0]=i,t[l][a][1]=i+u,i=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},ite={sign:ate,expand:zG,none:Kl,silhouette:qG,wiggle:WG,positive:ste},ote=function(t,r,a){var s=r.map(function(u){return u.props.dataKey}),i=ite[a],l=BG().keys(s).value(function(u,d){return+us(u,d,0)}).order(jw).offset(i);return l(t)},lte=function(t,r,a,s,i,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(h,g){var j,w=(j=g.type)!==null&&j!==void 0&&j.defaultProps?ar(ar({},g.type.defaultProps),g.props):g.props,b=w.stackId,v=w.hide;if(v)return h;var N=w[a],C=h[N]||{hasStack:!1,stackGroups:{}};if(Cr(b)){var S=C.stackGroups[b]||{numericAxisId:a,cateAxisId:s,items:[]};S.items.push(g),C.hasStack=!0,C.stackGroups[b]=S}else C.stackGroups[$p("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[g]};return ar(ar({},h),{},zl({},N,C))},d),m={};return Object.keys(f).reduce(function(h,g){var j=f[g];if(j.hasStack){var w={};j.stackGroups=Object.keys(j.stackGroups).reduce(function(b,v){var N=j.stackGroups[v];return ar(ar({},b),{},zl({},v,{numericAxisId:a,cateAxisId:s,items:N.items,stackedData:ote(t,N.items,i)}))},w)}return ar(ar({},h),{},zl({},g,j))},m)},cte=function(t,r){var a=r.realScaleType,s=r.type,i=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=a||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var m=bee(f,i,u);return t.domain([Zp(m),Qp(m)]),{niceTicks:m}}if(i&&s==="number"){var h=t.domain(),g=jee(h,i,u);return{niceTicks:g}}return null},tI=function(t){var r=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return a[u]?a[u].coordinate+s:null;var d=us(l,r.dataKey,r.domain[u]);return kt(d)?null:r.scale(d)-i/2+s},ute=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},dte=function(t,r){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Cr(i)){var l=r[i];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},fte=function(t){return t.reduce(function(r,a){return[Zp(a.concat([r[0]]).filter($e)),Qp(a.concat([r[1]]).filter($e))]},[1/0,-1/0])},tL=function(t,r,a){return Object.keys(t).reduce(function(s,i){var l=t[i],u=l.stackedData,d=u.reduce(function(f,m){var h=fte(m.slice(r,a+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},rI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hw=function(t,r,a){if(jt(t))return t(r,a);if(!Array.isArray(t))return r;var s=[];if($e(t[0]))s[0]=a?t[0]:Math.min(t[0],r[0]);else if(rI.test(t[0])){var i=+rI.exec(t[0])[1];s[0]=r[0]-i}else jt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if($e(t[1]))s[1]=a?t[1]:Math.max(t[1],r[1]);else if(nI.test(t[1])){var l=+nI.exec(t[1])[1];s[1]=r[1]+l}else jt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Dm=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=_N(r,function(h){return h.coordinate}),l=1/0,u=1,d=i.length;u<d;u++){var f=i[u],m=i[u-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},aI=function(t,r,a){return!t||!t.length||YN(t,pa(a,"type.defaultProps.domain"))?r:t},rL=function(t,r){var a=t.type.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,l=a.unit,u=a.formatter,d=a.tooltipType,f=a.chartType,m=a.hide;return ar(ar({},Rt(t,!1)),{},{dataKey:s,unit:l,formatter:u,name:i||s,color:ZN(t),value:us(r,s),type:d,payload:r,chartType:f,hide:m})};function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function sI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function iI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(r),!0).forEach(function(a){hte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hte(e,t,r){return t=mte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mte(e){var t=pte(e,"string");return Nd(t)=="symbol"?t:t+""}function pte(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Nd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mm=Math.PI/180,gte=function(t){return t*180/Math.PI},Kr=function(t,r,a,s){return{x:t+Math.cos(-Mm*s)*a,y:r+Math.sin(-Mm*s)*a}},vte=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-l,2))},xte=function(t,r){var a=t.x,s=t.y,i=r.cx,l=r.cy,u=vte({x:a,y:s},{x:i,y:l});if(u<=0)return{radius:u};var d=(a-i)/u,f=Math.acos(d);return s>l&&(f=2*Math.PI-f),{radius:u,angle:gte(f),angleInRadian:f}},yte=function(t){var r=t.startAngle,a=t.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),l=Math.min(s,i);return{startAngle:r-l*360,endAngle:a-l*360}},bte=function(t,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),l=Math.floor(s/360),u=Math.min(i,l);return t+u*360},oI=function(t,r){var a=t.x,s=t.y,i=xte({x:a,y:s},r),l=i.radius,u=i.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var m=yte(r),h=m.startAngle,g=m.endAngle,j=u,w;if(h<=g){for(;j>g;)j-=360;for(;j<h;)j+=360;w=j>=h&&j<=g}else{for(;j>h;)j-=360;for(;j<g;)j+=360;w=j>=g&&j<=h}return w?iI(iI({},r),{},{radius:l,angle:bte(j,r)}):null};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}var jte=["offset"];function wte(e){return Cte(e)||_te(e)||Ste(e)||Nte()}function Nte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ste(e,t){if(e){if(typeof e=="string")return Gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gw(e,t)}}function _te(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cte(e){if(Array.isArray(e))return Gw(e)}function Gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Ete(e,t){if(e==null)return{};var r=Tte(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Tte(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(a){Ate(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ate(e,t,r){return t=Rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rte(e){var t=kte(e,"string");return Sd(t)=="symbol"?t:t+""}function kte(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Sd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_d.apply(this,arguments)}var Ite=function(t){var r=t.value,a=t.formatter,s=kt(t.children)?r:t.children;return jt(a)?a(s):s},Pte=function(t,r){var a=Ra(r-t),s=Math.min(Math.abs(r-t),360);return a*s},Ote=function(t,r,a){var s=t.position,i=t.viewBox,l=t.offset,u=t.className,d=i,f=d.cx,m=d.cy,h=d.innerRadius,g=d.outerRadius,j=d.startAngle,w=d.endAngle,b=d.clockWise,v=(h+g)/2,N=Pte(j,w),C=N>=0?1:-1,S,A;s==="insideStart"?(S=j+C*l,A=b):s==="insideEnd"?(S=w-C*l,A=!b):s==="end"&&(S=w+C*l,A=b),A=N<=0?A:!A;var _=Kr(f,m,v,S),T=Kr(f,m,v,S+(A?1:-1)*359),k="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(A?0:1,`,
    `).concat(T.x,",").concat(T.y),D=kt(t.id)?$p("recharts-radial-line-"):t.id;return Q.createElement("text",_d({},a,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",u)}),Q.createElement("defs",null,Q.createElement("path",{id:D,d:k})),Q.createElement("textPath",{xlinkHref:"#".concat(D)},r))},Dte=function(t){var r=t.viewBox,a=t.offset,s=t.position,i=r,l=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,m=i.startAngle,h=i.endAngle,g=(m+h)/2;if(s==="outside"){var j=Kr(l,u,f+a,g),w=j.x,b=j.y;return{x:w,y:b,textAnchor:w>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var v=(d+f)/2,N=Kr(l,u,v,g),C=N.x,S=N.y;return{x:C,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Mte=function(t){var r=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,l=r,u=l.x,d=l.y,f=l.width,m=l.height,h=m>=0?1:-1,g=h*s,j=h>0?"end":"start",w=h>0?"start":"end",b=f>=0?1:-1,v=b*s,N=b>0?"end":"start",C=b>0?"start":"end";if(i==="top"){var S={x:u+f/2,y:d-h*s,textAnchor:"middle",verticalAnchor:j};return Nr(Nr({},S),a?{height:Math.max(d-a.y,0),width:f}:{})}if(i==="bottom"){var A={x:u+f/2,y:d+m+g,textAnchor:"middle",verticalAnchor:w};return Nr(Nr({},A),a?{height:Math.max(a.y+a.height-(d+m),0),width:f}:{})}if(i==="left"){var _={x:u-v,y:d+m/2,textAnchor:N,verticalAnchor:"middle"};return Nr(Nr({},_),a?{width:Math.max(_.x-a.x,0),height:m}:{})}if(i==="right"){var T={x:u+f+v,y:d+m/2,textAnchor:C,verticalAnchor:"middle"};return Nr(Nr({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:m}:{})}var k=a?{width:f,height:m}:{};return i==="insideLeft"?Nr({x:u+v,y:d+m/2,textAnchor:C,verticalAnchor:"middle"},k):i==="insideRight"?Nr({x:u+f-v,y:d+m/2,textAnchor:N,verticalAnchor:"middle"},k):i==="insideTop"?Nr({x:u+f/2,y:d+g,textAnchor:"middle",verticalAnchor:w},k):i==="insideBottom"?Nr({x:u+f/2,y:d+m-g,textAnchor:"middle",verticalAnchor:j},k):i==="insideTopLeft"?Nr({x:u+v,y:d+g,textAnchor:C,verticalAnchor:w},k):i==="insideTopRight"?Nr({x:u+f-v,y:d+g,textAnchor:N,verticalAnchor:w},k):i==="insideBottomLeft"?Nr({x:u+v,y:d+m-g,textAnchor:C,verticalAnchor:j},k):i==="insideBottomRight"?Nr({x:u+f-v,y:d+m-g,textAnchor:N,verticalAnchor:j},k):Cc(i)&&($e(i.x)||yo(i.x))&&($e(i.y)||yo(i.y))?Nr({x:u+Oo(i.x,f),y:d+Oo(i.y,m),textAnchor:"end",verticalAnchor:"end"},k):Nr({x:u+f/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},k)},$te=function(t){return"cx"in t&&$e(t.cx)};function nn(e){var t=e.offset,r=t===void 0?5:t,a=Ete(e,jte),s=Nr({offset:r},a),i=s.viewBox,l=s.position,u=s.value,d=s.children,f=s.content,m=s.className,h=m===void 0?"":m,g=s.textBreakAll;if(!i||kt(u)&&kt(d)&&!x.isValidElement(f)&&!jt(f))return null;if(x.isValidElement(f))return x.cloneElement(f,s);var j;if(jt(f)){if(j=x.createElement(f,s),x.isValidElement(j))return j}else j=Ite(s);var w=$te(i),b=Rt(s,!0);if(w&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Ote(s,j,b);var v=w?Dte(s):Mte(s);return Q.createElement(jm,_d({className:Ct("recharts-label",h)},b,v,{breakAll:g}),j)}nn.displayName="Label";var nL=function(t){var r=t.cx,a=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,m=t.outerRadius,h=t.x,g=t.y,j=t.top,w=t.left,b=t.width,v=t.height,N=t.clockWise,C=t.labelViewBox;if(C)return C;if($e(b)&&$e(v)){if($e(h)&&$e(g))return{x:h,y:g,width:b,height:v};if($e(j)&&$e(w))return{x:j,y:w,width:b,height:v}}return $e(h)&&$e(g)?{x:h,y:g,width:0,height:0}:$e(r)&&$e(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:l||s||0,innerRadius:f||0,outerRadius:m||d||u||0,clockWise:N}:t.viewBox?t.viewBox:{}},Lte=function(t,r){return t?t===!0?Q.createElement(nn,{key:"label-implicit",viewBox:r}):Cr(t)?Q.createElement(nn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===nn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):Q.createElement(nn,{key:"label-implicit",content:t,viewBox:r}):jt(t)?Q.createElement(nn,{key:"label-implicit",content:t,viewBox:r}):Cc(t)?Q.createElement(nn,_d({viewBox:r},t,{key:"label-implicit"})):null:null},Fte=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=nL(t),l=Ia(s,nn).map(function(d,f){return x.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!a)return l;var u=Lte(t.label,r||i);return[u].concat(wte(l))};nn.parseViewBox=nL;nn.renderCallByParent=Fte;var Xb,cI;function Ute(){if(cI)return Xb;cI=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Xb=e,Xb}var Bte=Ute();const zte=zt(Bte);function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}var qte=["valueAccessor"],Wte=["data","dataKey","clockWise","id","textBreakAll"];function Vte(e){return Yte(e)||Kte(e)||Gte(e)||Hte()}function Hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gte(e,t){if(e){if(typeof e=="string")return Kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(e,t)}}function Kte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yte(e){if(Array.isArray(e))return Kw(e)}function Kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$m.apply(this,arguments)}function uI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(r),!0).forEach(function(a){Xte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xte(e,t,r){return t=Qte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qte(e){var t=Zte(e,"string");return Cd(t)=="symbol"?t:t+""}function Zte(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Cd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fI(e,t){if(e==null)return{};var r=Jte(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Jte(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var ere=function(t){return Array.isArray(t.value)?zte(t.value):t.value};function Eo(e){var t=e.valueAccessor,r=t===void 0?ere:t,a=fI(e,qte),s=a.data,i=a.dataKey,l=a.clockWise,u=a.id,d=a.textBreakAll,f=fI(a,Wte);return!s||!s.length?null:Q.createElement(Mr,{className:"recharts-label-list"},s.map(function(m,h){var g=kt(i)?r(m,h):us(m&&m.payload,i),j=kt(u)?{}:{id:"".concat(u,"-").concat(h)};return Q.createElement(nn,$m({},Rt(m,!0),f,j,{parentViewBox:m.parentViewBox,value:g,textBreakAll:d,viewBox:nn.parseViewBox(kt(l)?m:dI(dI({},m),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}Eo.displayName="LabelList";function tre(e,t){return e?e===!0?Q.createElement(Eo,{key:"labelList-implicit",data:t}):Q.isValidElement(e)||jt(e)?Q.createElement(Eo,{key:"labelList-implicit",data:t,content:e}):Cc(e)?Q.createElement(Eo,$m({data:t},e,{key:"labelList-implicit"})):null:null}function rre(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=Ia(a,Eo).map(function(l,u){return x.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return s;var i=tre(e.label,t);return[i].concat(Vte(s))}Eo.renderCallByParent=rre;function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yw.apply(this,arguments)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(a){nre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nre(e,t,r){return t=are(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function are(e){var t=sre(e,"string");return Ed(t)=="symbol"?t:t+""}function sre(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ed(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ire=function(t,r){var a=Ra(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},Uh=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,m=d*(u?1:-1)+s,h=Math.asin(d/m)/Mm,g=f?i:i+l*h,j=Kr(r,a,m,g),w=Kr(r,a,s,g),b=f?i-l*h:i,v=Kr(r,a,m*Math.cos(h*Mm),b);return{center:j,circleTangency:w,lineTangency:v,theta:h}},aL=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,u=t.endAngle,d=ire(l,u),f=l+d,m=Kr(r,a,i,l),h=Kr(r,a,i,f),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var j=Kr(r,a,s,l),w=Kr(r,a,s,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(j.x,",").concat(j.y," Z")}else g+="L ".concat(r,",").concat(a," Z");return g},ore=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,m=t.endAngle,h=Ra(m-f),g=Uh({cx:r,cy:a,radius:i,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),j=g.circleTangency,w=g.lineTangency,b=g.theta,v=Uh({cx:r,cy:a,radius:i,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),N=v.circleTangency,C=v.lineTangency,S=v.theta,A=d?Math.abs(f-m):Math.abs(f-m)-b-S;if(A<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):aL({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:f,endAngle:m});var _="M ".concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(s>0){var T=Uh({cx:r,cy:a,radius:s,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),k=T.circleTangency,D=T.lineTangency,I=T.theta,B=Uh({cx:r,cy:a,radius:s,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),z=B.circleTangency,H=B.lineTangency,W=B.theta,Z=d?Math.abs(f-m):Math.abs(f-m)-I-W;if(Z<0&&l===0)return"".concat(_,"L").concat(r,",").concat(a,"Z");_+="L".concat(H.x,",").concat(H.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(Z>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else _+="L".concat(r,",").concat(a,"Z");return _},lre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sL=function(t){var r=mI(mI({},lre),t),a=r.cx,s=r.cy,i=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,m=r.startAngle,h=r.endAngle,g=r.className;if(l<i||m===h)return null;var j=Ct("recharts-sector",g),w=l-i,b=Oo(u,w,0,!0),v;return b>0&&Math.abs(m-h)<360?v=ore({cx:a,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(b,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):v=aL({cx:a,cy:s,innerRadius:i,outerRadius:l,startAngle:m,endAngle:h}),Q.createElement("path",Yw({},Rt(r,!0),{className:j,d:v,role:"img"}))};function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xw.apply(this,arguments)}function pI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function gI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(r),!0).forEach(function(a){cre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cre(e,t,r){return t=ure(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ure(e){var t=dre(e,"string");return Td(t)=="symbol"?t:t+""}function dre(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Td(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vI={curveBasisClosed:RG,curveBasisOpen:kG,curveBasis:AG,curveBumpX:pG,curveBumpY:gG,curveLinearClosed:IG,curveLinear:Up,curveMonotoneX:PG,curveMonotoneY:OG,curveNatural:DG,curveStep:MG,curveStepAfter:LG,curveStepBefore:$G},Bh=function(t){return t.x===+t.x&&t.y===+t.y},Eu=function(t){return t.x},Tu=function(t){return t.y},fre=function(t,r){if(jt(t))return t;var a="curve".concat(Lp(t));return(a==="curveMonotone"||a==="curveBump")&&r?vI["".concat(a).concat(r==="vertical"?"Y":"X")]:vI[a]||Up},hre=function(t){var r=t.type,a=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,m=fre(a,u),h=f?i.filter(function(b){return Bh(b)}):i,g;if(Array.isArray(l)){var j=f?l.filter(function(b){return Bh(b)}):l,w=h.map(function(b,v){return gI(gI({},b),{},{base:j[v]})});return u==="vertical"?g=Ih().y(Tu).x1(Eu).x0(function(b){return b.base.x}):g=Ih().x(Eu).y1(Tu).y0(function(b){return b.base.y}),g.defined(Bh).curve(m),g(w)}return u==="vertical"&&$e(l)?g=Ih().y(Tu).x1(Eu).x0(l):$e(l)?g=Ih().x(Eu).y1(Tu).y0(l):g=c4().x(Eu).y(Tu),g.defined(Bh).curve(m),g(h)},xI=function(t){var r=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var l=a&&a.length?hre(t):s;return x.createElement("path",Xw({},Rt(t,!1),cm(t),{className:Ct("recharts-curve",r),d:l,ref:i}))},Qb={exports:{}},Zb,yI;function mre(){if(yI)return Zb;yI=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zb=e,Zb}var Jb,bI;function pre(){if(bI)return Jb;bI=1;var e=mre();function t(){}function r(){}return r.resetWarningCache=t,Jb=function(){function a(l,u,d,f,m,h){if(h!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},Jb}var jI;function gre(){return jI||(jI=1,Qb.exports=pre()()),Qb.exports}var vre=gre();const Pt=zt(vre);var xre=Object.getOwnPropertyNames,yre=Object.getOwnPropertySymbols,bre=Object.prototype.hasOwnProperty;function wI(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function zh(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var i=s.cache,l=i.get(r),u=i.get(a);if(l&&u)return l===a&&u===r;i.set(r,a),i.set(a,r);var d=e(r,a,s);return i.delete(r),i.delete(a),d}}function NI(e){return xre(e).concat(yre(e))}var jre=Object.hasOwn||(function(e,t){return bre.call(e,t)});function Go(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var wre="__v",Nre="__o",Sre="_owner",SI=Object.getOwnPropertyDescriptor,_I=Object.keys;function _re(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function Cre(e,t){return Go(e.getTime(),t.getTime())}function Ere(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Tre(e,t){return e===t}function CI(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),l,u,d=0;(l=i.next())&&!l.done;){for(var f=t.entries(),m=!1,h=0;(u=f.next())&&!u.done;){if(s[h]){h++;continue}var g=l.value,j=u.value;if(r.equals(g[0],j[0],d,h,e,t,r)&&r.equals(g[1],j[1],g[0],j[0],e,t,r)){m=s[h]=!0;break}h++}if(!m)return!1;d++}return!0}var Are=Go;function Rre(e,t,r){var a=_I(e),s=a.length;if(_I(t).length!==s)return!1;for(;s-- >0;)if(!iL(e,t,r,a[s]))return!1;return!0}function Au(e,t,r){var a=NI(e),s=a.length;if(NI(t).length!==s)return!1;for(var i,l,u;s-- >0;)if(i=a[s],!iL(e,t,r,i)||(l=SI(e,i),u=SI(t,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function kre(e,t){return Go(e.valueOf(),t.valueOf())}function Ire(e,t){return e.source===t.source&&e.flags===t.flags}function EI(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),l,u;(l=i.next())&&!l.done;){for(var d=t.values(),f=!1,m=0;(u=d.next())&&!u.done;){if(!s[m]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=s[m]=!0;break}m++}if(!f)return!1}return!0}function Pre(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Ore(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function iL(e,t,r,a){return(a===Sre||a===Nre||a===wre)&&(e.$$typeof||t.$$typeof)?!0:jre(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var Dre="[object Arguments]",Mre="[object Boolean]",$re="[object Date]",Lre="[object Error]",Fre="[object Map]",Ure="[object Number]",Bre="[object Object]",zre="[object RegExp]",qre="[object Set]",Wre="[object String]",Vre="[object URL]",Hre=Array.isArray,TI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,AI=Object.assign,Gre=Object.prototype.toString.call.bind(Object.prototype.toString);function Kre(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,l=e.areNumbersEqual,u=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,m=e.areSetsEqual,h=e.areTypedArraysEqual,g=e.areUrlsEqual;return function(w,b,v){if(w===b)return!0;if(w==null||b==null)return!1;var N=typeof w;if(N!==typeof b)return!1;if(N!=="object")return N==="number"?l(w,b,v):N==="function"?s(w,b,v):!1;var C=w.constructor;if(C!==b.constructor)return!1;if(C===Object)return u(w,b,v);if(Hre(w))return t(w,b,v);if(TI!=null&&TI(w))return h(w,b,v);if(C===Date)return r(w,b,v);if(C===RegExp)return f(w,b,v);if(C===Map)return i(w,b,v);if(C===Set)return m(w,b,v);var S=Gre(w);return S===$re?r(w,b,v):S===zre?f(w,b,v):S===Fre?i(w,b,v):S===qre?m(w,b,v):S===Bre?typeof w.then!="function"&&typeof b.then!="function"&&u(w,b,v):S===Vre?g(w,b,v):S===Lre?a(w,b,v):S===Dre?u(w,b,v):S===Mre||S===Ure||S===Wre?d(w,b,v):!1}}function Yre(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?Au:_re,areDatesEqual:Cre,areErrorsEqual:Ere,areFunctionsEqual:Tre,areMapsEqual:a?wI(CI,Au):CI,areNumbersEqual:Are,areObjectsEqual:a?Au:Rre,arePrimitiveWrappersEqual:kre,areRegExpsEqual:Ire,areSetsEqual:a?wI(EI,Au):EI,areTypedArraysEqual:a?Au:Pre,areUrlsEqual:Ore};if(r&&(s=AI({},s,r(s))),t){var i=zh(s.areArraysEqual),l=zh(s.areMapsEqual),u=zh(s.areObjectsEqual),d=zh(s.areSetsEqual);s=AI({},s,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return s}function Xre(e){return function(t,r,a,s,i,l,u){return e(t,r,u)}}function Qre(e){var t=e.circular,r=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(d,f){var m=a(),h=m.cache,g=h===void 0?t?new WeakMap:void 0:h,j=m.meta;return r(d,f,{cache:g,equals:s,meta:j,strict:i})};if(t)return function(d,f){return r(d,f,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var l={cache:void 0,equals:s,meta:void 0,strict:i};return function(d,f){return r(d,f,l)}}var Zre=Ki();Ki({strict:!0});Ki({circular:!0});Ki({circular:!0,strict:!0});Ki({createInternalComparator:function(){return Go}});Ki({strict:!0,createInternalComparator:function(){return Go}});Ki({circular:!0,createInternalComparator:function(){return Go}});Ki({circular:!0,createInternalComparator:function(){return Go},strict:!0});function Ki(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,l=i===void 0?!1:i,u=Yre(e),d=Kre(u),f=a?a(d):Xre(d);return Qre({circular:r,comparator:d,createState:s,equals:f,strict:l})}function Jre(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function RI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Jre(s)};requestAnimationFrame(a)}function Qw(e){"@babel/helpers - typeof";return Qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qw(e)}function ene(e){return ane(e)||nne(e)||rne(e)||tne()}function tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rne(e,t){if(e){if(typeof e=="string")return kI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kI(e,t)}}function kI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function nne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ane(e){if(Array.isArray(e))return e}function sne(){var e={},t=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,u=ene(l),d=u[0],f=u.slice(1);if(typeof d=="number"){RI(s.bind(null,f),d);return}s(d),RI(s.bind(null,f));return}Qw(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function PI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(a){oL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oL(e,t,r){return t=ine(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ine(e){var t=one(e,"string");return Ad(t)==="symbol"?t:String(t)}function one(e,t){if(Ad(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ad(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lne=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},cne=function(t){return t},une=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ku=function(t,r){return Object.keys(r).reduce(function(a,s){return PI(PI({},a),{},oL({},s,t(s,r[s])))},{})},OI=function(t,r,a){return t.map(function(s){return"".concat(une(s)," ").concat(r,"ms ").concat(a)}).join(",")};function dne(e,t){return mne(e)||hne(e,t)||lL(e,t)||fne()}function fne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function mne(e){if(Array.isArray(e))return e}function pne(e){return xne(e)||vne(e)||lL(e)||gne()}function gne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lL(e,t){if(e){if(typeof e=="string")return Zw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zw(e,t)}}function vne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xne(e){if(Array.isArray(e))return Zw(e)}function Zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Lm=1e-4,cL=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},uL=function(t,r){return t.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},DI=function(t,r){return function(a){var s=cL(t,r);return uL(s,a)}},yne=function(t,r){return function(a){var s=cL(t,r),i=[].concat(pne(s.map(function(l,u){return l*u}).slice(1)),[0]);return uL(i,a)}},MI=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0],i=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,l=1,u=1;break;case"ease":s=.25,i=.1,l=.25,u=1;break;case"ease-in":s=.42,i=0,l=1,u=1;break;case"ease-out":s=.42,i=0,l=.58,u=1;break;case"ease-in-out":s=0,i=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),m=dne(f,4);s=m[0],i=m[1],l=m[2],u=m[3]}}}var h=DI(s,l),g=DI(i,u),j=yne(s,l),w=function(N){return N>1?1:N<0?0:N},b=function(N){for(var C=N>1?1:N,S=C,A=0;A<8;++A){var _=h(S)-C,T=j(S);if(Math.abs(_-C)<Lm||T<Lm)return g(S);S=w(S-_/T)}return g(S)};return b.isStepper=!1,b},bne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,l=t.dt,u=l===void 0?17:l,d=function(m,h,g){var j=-(m-h)*a,w=g*i,b=g+(j-w)*u/1e3,v=g*u/1e3+m;return Math.abs(v-h)<Lm&&Math.abs(b)<Lm?[h,0]:[v,b]};return d.isStepper=!0,d.dt=u,d},jne=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MI(s);case"spring":return bne();default:if(s.split("(")[0]==="cubic-bezier")return MI(s)}return typeof s=="function"?s:null};function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function $I(e){return Sne(e)||Nne(e)||dL(e)||wne()}function wne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sne(e){if(Array.isArray(e))return e1(e)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(a){Jw(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jw(e,t,r){return t=_ne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ne(e){var t=Cne(e,"string");return Rd(t)==="symbol"?t:String(t)}function Cne(e,t){if(Rd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Rd(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ene(e,t){return Rne(e)||Ane(e,t)||dL(e,t)||Tne()}function Tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dL(e,t){if(e){if(typeof e=="string")return e1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e1(e,t)}}function e1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Ane(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Rne(e){if(Array.isArray(e))return e}var Fm=function(t,r,a){return t+(r-t)*a},t1=function(t){var r=t.from,a=t.to;return r!==a},kne=function e(t,r,a){var s=Ku(function(i,l){if(t1(l)){var u=t(l.from,l.to,l.velocity),d=Ene(u,2),f=d[0],m=d[1];return Hr(Hr({},l),{},{from:f,velocity:m})}return l},r);return a<1?Ku(function(i,l){return t1(l)?Hr(Hr({},l),{},{velocity:Fm(l.velocity,s[i].velocity,a),from:Fm(l.from,s[i].from,a)}):l},r):e(t,s,a-1)};const Ine=(function(e,t,r,a,s){var i=lne(e,t),l=i.reduce(function(v,N){return Hr(Hr({},v),{},Jw({},N,[e[N],t[N]]))},{}),u=i.reduce(function(v,N){return Hr(Hr({},v),{},Jw({},N,{from:e[N],velocity:0,to:t[N]}))},{}),d=-1,f,m,h=function(){return null},g=function(){return Ku(function(N,C){return C.from},u)},j=function(){return!Object.values(u).filter(t1).length},w=function(N){f||(f=N);var C=N-f,S=C/r.dt;u=kne(r,u,S),s(Hr(Hr(Hr({},e),t),g())),f=N,j()||(d=requestAnimationFrame(h))},b=function(N){m||(m=N);var C=(N-m)/a,S=Ku(function(_,T){return Fm.apply(void 0,$I(T).concat([r(C)]))},l);if(s(Hr(Hr(Hr({},e),t),S)),C<1)d=requestAnimationFrame(h);else{var A=Ku(function(_,T){return Fm.apply(void 0,$I(T).concat([r(1)]))},l);s(Hr(Hr(Hr({},e),t),A))}};return h=r.isStepper?w:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}var Pne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function One(e,t){if(e==null)return{};var r=Dne(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Dne(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ej(e){return Fne(e)||Lne(e)||$ne(e)||Mne()}function Mne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ne(e,t){if(e){if(typeof e=="string")return r1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r1(e,t)}}function Lne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fne(e){if(Array.isArray(e))return r1(e)}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(a){zu(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zu(e,t,r){return t=fL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Une(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bne(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fL(a.key),a)}}function zne(e,t,r){return t&&Bne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fL(e){var t=qne(e,"string");return nc(t)==="symbol"?t:String(t)}function qne(e,t){if(nc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(nc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n1(e,t)}function n1(e,t){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},n1(e,t)}function Vne(e){var t=Hne();return function(){var a=Um(e),s;if(t){var i=Um(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return a1(this,s)}}function a1(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s1(e)}function s1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Um(e){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(e)}var Mi=(function(e){Wne(r,e);var t=Vne(r);function r(a,s){var i;Une(this,r),i=t.call(this,a,s);var l=i.props,u=l.isActive,d=l.attributeName,f=l.from,m=l.to,h=l.steps,g=l.children,j=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(s1(i)),i.changeStyle=i.changeStyle.bind(s1(i)),!u||j<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:m}),a1(i);if(h&&h.length)i.state={style:h[0].style};else if(f){if(typeof g=="function")return i.state={style:f},a1(i);i.state={style:d?zu({},d,f):f}}else i.state={style:{}};return i}return zne(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,u=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,m=i.to,h=i.from,g=this.state.style;if(u){if(!l){var j={style:d?zu({},d,m):m};this.state&&g&&(d&&g[d]!==m||!d&&g!==m)&&this.setState(j);return}if(!(Zre(s.to,m)&&s.canBegin&&s.isActive)){var w=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=w||f?h:s.to;if(this.state&&g){var v={style:d?zu({},d,b):b};(d&&g[d]!==b||!d&&g!==b)&&this.setState(v)}this.runAnimation(_a(_a({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,u=s.to,d=s.duration,f=s.easing,m=s.begin,h=s.onAnimationEnd,g=s.onAnimationStart,j=Ine(l,u,jne(f),d,this.changeStyle),w=function(){i.stopJSAnimation=j()};this.manager.start([g,m,w,d,h])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,u=s.begin,d=s.onAnimationStart,f=l[0],m=f.style,h=f.duration,g=h===void 0?0:h,j=function(b,v,N){if(N===0)return b;var C=v.duration,S=v.easing,A=S===void 0?"ease":S,_=v.style,T=v.properties,k=v.onAnimationEnd,D=N>0?l[N-1]:v,I=T||Object.keys(_);if(typeof A=="function"||A==="spring")return[].concat(ej(b),[i.runJSAnimation.bind(i,{from:D.style,to:_,duration:C,easing:A}),C]);var B=OI(I,C,A),z=_a(_a(_a({},D.style),_),{},{transition:B});return[].concat(ej(b),[z,C,k]).filter(cne)};return this.manager.start([d].concat(ej(l.reduce(j,[m,Math.max(g,u)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=sne());var i=s.begin,l=s.duration,u=s.attributeName,d=s.to,f=s.easing,m=s.onAnimationStart,h=s.onAnimationEnd,g=s.steps,j=s.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof j=="function"||f==="spring"){this.runJSAnimation(s);return}if(g.length>1){this.runStepAnimation(s);return}var b=u?zu({},u,d):d,v=OI(Object.keys(b),l,f);w.start([m,i,_a(_a({},b),{},{transition:v}),l,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var u=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=One(s,Pne),f=x.Children.count(i),m=this.state.style;if(typeof i=="function")return i(m);if(!u||f===0||l<=0)return i;var h=function(j){var w=j.props,b=w.style,v=b===void 0?{}:b,N=w.className,C=x.cloneElement(j,_a(_a({},d),{},{style:_a(_a({},v),m),className:N}));return C};return f===1?h(x.Children.only(i)):Q.createElement("div",null,x.Children.map(i,function(g){return h(g)}))}}]),r})(x.PureComponent);Mi.displayName="Animate";Mi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Mi.propTypes={from:Pt.oneOfType([Pt.object,Pt.string]),to:Pt.oneOfType([Pt.object,Pt.string]),attributeName:Pt.string,duration:Pt.number,begin:Pt.number,easing:Pt.oneOfType([Pt.string,Pt.func]),steps:Pt.arrayOf(Pt.shape({duration:Pt.number.isRequired,style:Pt.object.isRequired,easing:Pt.oneOfType([Pt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pt.func]),properties:Pt.arrayOf("string"),onAnimationEnd:Pt.func})),children:Pt.oneOfType([Pt.node,Pt.func]),isActive:Pt.bool,canBegin:Pt.bool,onAnimationEnd:Pt.func,shouldReAnimate:Pt.bool,onAnimationStart:Pt.func,onAnimationReStart:Pt.func};function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bm.apply(this,arguments)}function Gne(e,t){return Qne(e)||Xne(e,t)||Yne(e,t)||Kne()}function Kne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yne(e,t){if(e){if(typeof e=="string")return UI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UI(e,t)}}function UI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Xne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Qne(e){if(Array.isArray(e))return e}function BI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function zI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(r),!0).forEach(function(a){Zne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zne(e,t,r){return t=Jne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jne(e){var t=eae(e,"string");return kd(t)=="symbol"?t:t+""}function eae(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(kd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qI=function(t,r,a,s,i){var l=Math.min(Math.abs(a)/2,Math.abs(s)/2),u=s>=0?1:-1,d=a>=0?1:-1,f=s>=0&&a>=0||s<0&&a<0?1:0,m;if(l>0&&i instanceof Array){for(var h=[0,0,0,0],g=0,j=4;g<j;g++)h[g]=i[g]>l?l:i[g];m="M".concat(t,",").concat(r+u*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+d*h[0],",").concat(r)),m+="L ".concat(t+a-d*h[1],",").concat(r),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+a,",").concat(r+u*h[1])),m+="L ".concat(t+a,",").concat(r+s-u*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+a-d*h[2],",").concat(r+s)),m+="L ".concat(t+d*h[3],",").concat(r+s),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+s-u*h[3])),m+="Z"}else if(l>0&&i===+i&&i>0){var w=Math.min(l,i);m="M ".concat(t,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(r,`
            L `).concat(t+a-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+a,",").concat(r+u*w,`
            L `).concat(t+a,",").concat(r+s-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+a-d*w,",").concat(r+s,`
            L `).concat(t+d*w,",").concat(r+s,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(r+s-u*w," Z")}else m="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return m},tae=function(t,r){if(!t||!r)return!1;var a=t.x,s=t.y,i=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(i,i+u),m=Math.max(i,i+u),h=Math.min(l,l+d),g=Math.max(l,l+d);return a>=f&&a<=m&&s>=h&&s<=g}return!1},rae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JN=function(t){var r=zI(zI({},rae),t),a=x.useRef(),s=x.useState(-1),i=Gne(s,2),l=i[0],u=i[1];x.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var A=a.current.getTotalLength();A&&u(A)}catch{}},[]);var d=r.x,f=r.y,m=r.width,h=r.height,g=r.radius,j=r.className,w=r.animationEasing,b=r.animationDuration,v=r.animationBegin,N=r.isAnimationActive,C=r.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||h!==+h||m===0||h===0)return null;var S=Ct("recharts-rectangle",j);return C?Q.createElement(Mi,{canBegin:l>0,from:{width:m,height:h,x:d,y:f},to:{width:m,height:h,x:d,y:f},duration:b,animationEasing:w,isActive:C},function(A){var _=A.width,T=A.height,k=A.x,D=A.y;return Q.createElement(Mi,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,isActive:N,easing:w},Q.createElement("path",Bm({},Rt(r,!0),{className:S,d:qI(k,D,_,T,g),ref:a})))}):Q.createElement("path",Bm({},Rt(r,!0),{className:S,d:qI(d,f,m,h,g)}))};function i1(){return i1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i1.apply(this,arguments)}var hL=function(t){var r=t.cx,a=t.cy,s=t.r,i=t.className,l=Ct("recharts-dot",i);return r===+r&&a===+a&&s===+s?x.createElement("circle",i1({},Rt(t,!1),cm(t),{className:l,cx:r,cy:a,r:s})):null};function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}var nae=["x","y","top","left","width","height","className"];function o1(){return o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o1.apply(this,arguments)}function WI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function aae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(r),!0).forEach(function(a){sae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sae(e,t,r){return t=iae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iae(e){var t=oae(e,"string");return Id(t)=="symbol"?t:t+""}function oae(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Id(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lae(e,t){if(e==null)return{};var r=cae(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function cae(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var uae=function(t,r,a,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(r,"h").concat(a)},dae=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,m=t.width,h=m===void 0?0:m,g=t.height,j=g===void 0?0:g,w=t.className,b=lae(t,nae),v=aae({x:a,y:i,top:u,left:f,width:h,height:j},b);return!$e(a)||!$e(i)||!$e(h)||!$e(j)||!$e(u)||!$e(f)?null:Q.createElement("path",o1({},Rt(v,!0),{className:Ct("recharts-cross",w),d:uae(a,i,h,j,u,f)}))},tj,VI;function fae(){if(VI)return tj;VI=1;var e=I4(),t=e(Object.getPrototypeOf,Object);return tj=t,tj}var rj,HI;function hae(){if(HI)return rj;HI=1;var e=qs(),t=fae(),r=Ws(),a="[object Object]",s=Function.prototype,i=Object.prototype,l=s.toString,u=i.hasOwnProperty,d=l.call(Object);function f(m){if(!r(m)||e(m)!=a)return!1;var h=t(m);if(h===null)return!0;var g=u.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return rj=f,rj}var mae=hae();const pae=zt(mae);var nj,GI;function gae(){if(GI)return nj;GI=1;var e=qs(),t=Ws(),r="[object Boolean]";function a(s){return s===!0||s===!1||t(s)&&e(s)==r}return nj=a,nj}var vae=gae();const xae=zt(vae);function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zm.apply(this,arguments)}function yae(e,t){return Nae(e)||wae(e,t)||jae(e,t)||bae()}function bae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(e,t){if(e){if(typeof e=="string")return KI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KI(e,t)}}function KI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function wae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Nae(e){if(Array.isArray(e))return e}function YI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function XI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(r),!0).forEach(function(a){Sae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Sae(e,t,r){return t=_ae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ae(e){var t=Cae(e,"string");return Pd(t)=="symbol"?t:t+""}function Cae(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Pd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QI=function(t,r,a,s,i){var l=a-s,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+a,",").concat(r),u+="L ".concat(t+a-l/2,",").concat(r+i),u+="L ".concat(t+a-l/2-s,",").concat(r+i),u+="L ".concat(t,",").concat(r," Z"),u},Eae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tae=function(t){var r=XI(XI({},Eae),t),a=x.useRef(),s=x.useState(-1),i=yae(s,2),l=i[0],u=i[1];x.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&u(S)}catch{}},[]);var d=r.x,f=r.y,m=r.upperWidth,h=r.lowerWidth,g=r.height,j=r.className,w=r.animationEasing,b=r.animationDuration,v=r.animationBegin,N=r.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||h!==+h||g!==+g||m===0&&h===0||g===0)return null;var C=Ct("recharts-trapezoid",j);return N?Q.createElement(Mi,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:m,lowerWidth:h,height:g,x:d,y:f},duration:b,animationEasing:w,isActive:N},function(S){var A=S.upperWidth,_=S.lowerWidth,T=S.height,k=S.x,D=S.y;return Q.createElement(Mi,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,easing:w},Q.createElement("path",zm({},Rt(r,!0),{className:C,d:QI(k,D,A,_,T),ref:a})))}):Q.createElement("g",null,Q.createElement("path",zm({},Rt(r,!0),{className:C,d:QI(d,f,m,h,g)})))},Aae=["option","shapeType","propTransformer","activeClassName","isActive"];function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function Rae(e,t){if(e==null)return{};var r=kae(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function kae(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ZI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(r),!0).forEach(function(a){Iae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Iae(e,t,r){return t=Pae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pae(e){var t=Oae(e,"string");return Od(t)=="symbol"?t:t+""}function Oae(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Od(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dae(e,t){return qm(qm({},t),e)}function Mae(e,t){return e==="symbols"}function JI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Q.createElement(JN,r);case"trapezoid":return Q.createElement(Tae,r);case"sector":return Q.createElement(sL,r);case"symbols":if(Mae(t))return Q.createElement(vN,r);break;default:return null}}function $ae(e){return x.isValidElement(e)?e.props:e}function Lae(e){var t=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?Dae:a,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,u=e.isActive,d=Rae(e,Aae),f;if(x.isValidElement(t))f=x.cloneElement(t,qm(qm({},d),$ae(t)));else if(jt(t))f=t(d);else if(pae(t)&&!xae(t)){var m=s(t,d);f=Q.createElement(JI,{shapeType:r,elementProps:m})}else{var h=d;f=Q.createElement(JI,{shapeType:r,elementProps:h})}return u?Q.createElement(Mr,{className:l},f):f}function rg(e,t){return t!=null&&"trapezoids"in e.props}function ng(e,t){return t!=null&&"sectors"in e.props}function Dd(e,t){return t!=null&&"points"in e.props}function Fae(e,t){var r,a,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function Uae(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function Bae(e,t){var r=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return r&&a&&s}function zae(e,t){var r;return rg(e,t)?r=Fae:ng(e,t)?r=Uae:Dd(e,t)&&(r=Bae),r}function qae(e,t){var r;return rg(e,t)?r="trapezoids":ng(e,t)?r="sectors":Dd(e,t)&&(r="points"),r}function Wae(e,t){if(rg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ng(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Dd(e,t)?t.payload:{}}function Vae(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=qae(r,t),i=Wae(r,t),l=a.filter(function(d,f){var m=YN(i,d),h=r.props[s].filter(function(w){var b=zae(r,t);return b(w,t)}),g=r.props[s].indexOf(h[h.length-1]),j=f===g;return m&&j}),u=a.indexOf(l[l.length-1]);return u}var aj,eP;function Hae(){if(eP)return aj;eP=1;var e=Math.ceil,t=Math.max;function r(a,s,i,l){for(var u=-1,d=t(e((s-a)/(i||1)),0),f=Array(d);d--;)f[l?d:++u]=a,a+=i;return f}return aj=r,aj}var sj,tP;function mL(){if(tP)return sj;tP=1;var e=K4(),t=1/0,r=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return sj=a,sj}var ij,rP;function Gae(){if(rP)return ij;rP=1;var e=Hae(),t=Wp(),r=mL();function a(s){return function(i,l,u){return u&&typeof u!="number"&&t(i,l,u)&&(l=u=void 0),i=r(i),l===void 0?(l=i,i=0):l=r(l),u=u===void 0?i<l?1:-1:r(u),e(i,l,u,s)}}return ij=a,ij}var oj,nP;function Kae(){if(nP)return oj;nP=1;var e=Gae(),t=e();return oj=t,oj}var Yae=Kae();const Wm=zt(Yae);function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(a){pL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pL(e,t,r){return t=Xae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xae(e){var t=Qae(e,"string");return Md(t)=="symbol"?t:t+""}function Qae(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Md(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zae=["Webkit","Moz","O","ms"],Jae=function(t,r){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Zae.reduce(function(i,l){return sP(sP({},i),{},pL({},l+a,r))},{});return s[t]=r,s};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Vm.apply(this,arguments)}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(a){qn(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ese(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oP(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,vL(a.key),a)}}function tse(e,t,r){return t&&oP(e.prototype,t),r&&oP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rse(e,t,r){return t=Hm(t),nse(e,gL()?Reflect.construct(t,r||[],Hm(e).constructor):t.apply(e,r))}function nse(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ase(e)}function ase(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gL=function(){return!!e})()}function Hm(e){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(e)}function sse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l1(e,t)}function l1(e,t){return l1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},l1(e,t)}function qn(e,t,r){return t=vL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vL(e){var t=ise(e,"string");return ac(t)=="symbol"?t:t+""}function ise(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ac(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ose=function(t){var r=t.data,a=t.startIndex,s=t.endIndex,i=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Hu().domain(Wm(0,d)).range([i,i+l-u]),m=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(a),endX:f(s),scale:f,scaleValues:m}},lP=function(t){return t.changedTouches&&!!t.changedTouches.length},sc=(function(e){function t(r){var a;return ese(this,t),a=rse(this,t,[r]),qn(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),qn(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),qn(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,l=s.onDragEnd,u=s.startIndex;l?.({endIndex:i,startIndex:u})}),a.detachDragEndListener()}),qn(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),qn(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),qn(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),qn(a,"handleSlideDragStart",function(s){var i=lP(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return sse(t,e),tse(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,m=f.length-1,h=Math.min(s,i),g=Math.max(s,i),j=t.getIndexInRange(l,h),w=t.getIndexInRange(l,g);return{startIndex:j-j%d,endIndex:w===m?m:w-w%d}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,l=s.tickFormatter,u=s.dataKey,d=us(i[a],u,a);return jt(l)?l(d,a):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,l=s.startX,u=s.endX,d=this.props,f=d.x,m=d.width,h=d.travellerWidth,g=d.startIndex,j=d.endIndex,w=d.onChange,b=a.pageX-i;b>0?b=Math.min(b,f+m-h-u,f+m-h-l):b<0&&(b=Math.max(b,f-l,f-u));var v=this.getIndex({startX:l+b,endX:u+b});(v.startIndex!==g||v.endIndex!==j)&&w&&w(v),this.setState({startX:l+b,endX:u+b,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=lP(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,u=s.endX,d=s.startX,f=this.state[l],m=this.props,h=m.x,g=m.width,j=m.travellerWidth,w=m.onChange,b=m.gap,v=m.data,N={startX:this.state.startX,endX:this.state.endX},C=a.pageX-i;C>0?C=Math.min(C,h+g-j-f):C<0&&(C=Math.max(C,h-f)),N[l]=f+C;var S=this.getIndex(N),A=S.startIndex,_=S.endIndex,T=function(){var D=v.length-1;return l==="startX"&&(u>d?A%b===0:_%b===0)||u<d&&_===D||l==="endX"&&(u>d?_%b===0:A%b===0)||u>d&&_===D};this.setState(qn(qn({},l,f+C),"brushMoveStartX",a.pageX),function(){w&&T()&&w(S)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,m=this.state[s],h=u.indexOf(m);if(h!==-1){var g=h+a;if(!(g===-1||g>=u.length)){var j=u[g];s==="startX"&&j>=f||s==="endX"&&j<=d||this.setState(qn({},s,j),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.fill,f=a.stroke;return Q.createElement("rect",{stroke:f,fill:d,x:s,y:i,width:l,height:u})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.data,f=a.children,m=a.padding,h=x.Children.only(f);return h?Q.cloneElement(h,{x:s,y:i,width:l,height:u,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,l,u=this,d=this.props,f=d.y,m=d.travellerWidth,h=d.height,g=d.traveller,j=d.ariaLabel,w=d.data,b=d.startIndex,v=d.endIndex,N=Math.max(a,this.props.x),C=lj(lj({},Rt(this.props,!1)),{},{x:N,y:f,width:m,height:h}),S=j||"Min value: ".concat((i=w[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=w[v])===null||l===void 0?void 0:l.name);return Q.createElement(Mr,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),u.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,s))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,C))}},{key:"renderSlide",value:function(a,s){var i=this.props,l=i.y,u=i.height,d=i.stroke,f=i.travellerWidth,m=Math.min(a,s)+f,h=Math.max(Math.abs(s-a)-f,0);return Q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:l,width:h,height:u})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,l=a.y,u=a.height,d=a.travellerWidth,f=a.stroke,m=this.state,h=m.startX,g=m.endX,j=5,w={pointerEvents:"none",fill:f};return Q.createElement(Mr,{className:"recharts-brush-texts"},Q.createElement(jm,Vm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-j,y:l+u/2},w),this.getTextOfTick(s)),Q.createElement(jm,Vm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+d+j,y:l+u/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,l=a.children,u=a.x,d=a.y,f=a.width,m=a.height,h=a.alwaysShowText,g=this.state,j=g.startX,w=g.endX,b=g.isTextActive,v=g.isSlideMoving,N=g.isTravellerMoving,C=g.isTravellerFocused;if(!s||!s.length||!$e(u)||!$e(d)||!$e(f)||!$e(m)||f<=0||m<=0)return null;var S=Ct("recharts-brush",i),A=Q.Children.count(l)===1,_=Jae("userSelect","none");return Q.createElement(Mr,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(j,w),this.renderTravellerLayer(j,"startX"),this.renderTravellerLayer(w,"endX"),(b||v||N||C||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,l=a.width,u=a.height,d=a.stroke,f=Math.floor(i+u/2)-1;return Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:s,y:i,width:l,height:u,fill:d,stroke:"none"}),Q.createElement("line",{x1:s+1,y1:f,x2:s+l-1,y2:f,fill:"none",stroke:"#fff"}),Q.createElement("line",{x1:s+1,y1:f+2,x2:s+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return Q.isValidElement(a)?i=Q.cloneElement(a,s):jt(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,l=a.width,u=a.x,d=a.travellerWidth,f=a.updateId,m=a.startIndex,h=a.endIndex;if(i!==s.prevData||f!==s.prevUpdateId)return lj({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},i&&i.length?ose({data:i,width:l,x:u,travellerWidth:d,startIndex:m,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||u!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([u,u+l-d]);var g=s.scale.domain().map(function(j){return s.scale(j)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,l=0,u=i-1;u-l>1;){var d=Math.floor((l+u)/2);a[d]>s?u=d:l=d}return s>=a[u]?u:l}}])})(x.PureComponent);qn(sc,"displayName","Brush");qn(sc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cj,cP;function lse(){if(cP)return cj;cP=1;var e=SN();function t(r,a){var s;return e(r,function(i,l,u){return s=a(i,l,u),!s}),!!s}return cj=t,cj}var uj,uP;function cse(){if(uP)return uj;uP=1;var e=_4(),t=Vi(),r=lse(),a=Pn(),s=Wp();function i(l,u,d){var f=a(l)?e:r;return d&&s(l,u,d)&&(u=void 0),f(l,t(u,3))}return uj=i,uj}var use=cse();const dse=zt(use);var as=function(t,r){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===r},dj,dP;function fse(){if(dP)return dj;dP=1;var e=q4();function t(r,a,s){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[a]=s}return dj=t,dj}var fj,fP;function hse(){if(fP)return fj;fP=1;var e=fse(),t=B4(),r=Vi();function a(s,i){var l={};return i=r(i,3),t(s,function(u,d,f){e(l,d,i(u,d,f))}),l}return fj=a,fj}var mse=hse();const pse=zt(mse);var hj,hP;function gse(){if(hP)return hj;hP=1;function e(t,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(!r(t[a],a,t))return!1;return!0}return hj=e,hj}var mj,mP;function vse(){if(mP)return mj;mP=1;var e=SN();function t(r,a){var s=!0;return e(r,function(i,l,u){return s=!!a(i,l,u),s}),s}return mj=t,mj}var pj,pP;function xse(){if(pP)return pj;pP=1;var e=gse(),t=vse(),r=Vi(),a=Pn(),s=Wp();function i(l,u,d){var f=a(l)?e:t;return d&&s(l,u,d)&&(u=void 0),f(l,r(u,3))}return pj=i,pj}var yse=xse();const xL=zt(yse);var bse=["x","y"];function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function c1(){return c1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c1.apply(this,arguments)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ru(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(a){jse(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jse(e,t,r){return t=wse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wse(e){var t=Nse(e,"string");return $d(t)=="symbol"?t:t+""}function Nse(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if($d(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sse(e,t){if(e==null)return{};var r=_se(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _se(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Cse(e,t){var r=e.x,a=e.y,s=Sse(e,bse),i="".concat(r),l=parseInt(i,10),u="".concat(a),d=parseInt(u,10),f="".concat(t.height||s.height),m=parseInt(f,10),h="".concat(t.width||s.width),g=parseInt(h,10);return Ru(Ru(Ru(Ru(Ru({},t),s),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:g,name:t.name,radius:t.radius})}function vP(e){return Q.createElement(Lae,c1({shapeType:"rectangle",propTransformer:Cse,activeClassName:"recharts-active-bar"},e))}var Ese=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=$e(a)||$H(a);return i?t(a,s):(i||Mo(),r)}},Tse=["value","background"],yL;function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function Ase(e,t){if(e==null)return{};var r=Rse(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Rse(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gm.apply(this,arguments)}function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(a){Ti(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yP(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jL(a.key),a)}}function Ise(e,t,r){return t&&yP(e.prototype,t),r&&yP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pse(e,t,r){return t=Km(t),Ose(e,bL()?Reflect.construct(t,r||[],Km(e).constructor):t.apply(e,r))}function Ose(e,t){if(t&&(ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dse(e)}function Dse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bL=function(){return!!e})()}function Km(e){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(e)}function Mse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u1(e,t)}function u1(e,t){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},u1(e,t)}function Ti(e,t,r){return t=jL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=$se(e,"string");return ic(t)=="symbol"?t:t+""}function $se(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ic(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $i=(function(e){function t(){var r;kse(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=Pse(this,t,[].concat(s)),Ti(r,"state",{isAnimationFinished:!1}),Ti(r,"id",$p("recharts-bar-")),Ti(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Ti(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return Mse(t,e),Ise(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,l=i.shape,u=i.dataKey,d=i.activeIndex,f=i.activeBar,m=Rt(this.props,!1);return a&&a.map(function(h,g){var j=g===d,w=j?f:l,b=mr(mr(mr({},m),h),{},{isActive:j,option:w,index:g,dataKey:u,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Q.createElement(Mr,Gm({className:"recharts-bar-rectangle"},um(s.props,h,g),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(g)}),Q.createElement(vP,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,l=s.layout,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,m=s.animationEasing,h=s.animationId,g=this.state.prevData;return Q.createElement(Mi,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t,b=i.map(function(v,N){var C=g&&g[N];if(C){var S=wl(C.x,v.x),A=wl(C.y,v.y),_=wl(C.width,v.width),T=wl(C.height,v.height);return mr(mr({},v),{},{x:S(w),y:A(w),width:_(w),height:T(w)})}if(l==="horizontal"){var k=wl(0,v.height),D=k(w);return mr(mr({},v),{},{y:v.y+v.height-D,height:D})}var I=wl(0,v.width),B=I(w);return mr(mr({},v),{},{width:B})});return Q.createElement(Mr,null,a.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!YN(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,l=s.dataKey,u=s.activeIndex,d=Rt(this.props.background,!1);return i.map(function(f,m){f.value;var h=f.background,g=Ase(f,Tse);if(!h)return null;var j=mr(mr(mr(mr(mr({},g),{},{fill:"#eee"},h),d),um(a.props,f,m)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:m,className:"recharts-bar-background-rectangle"});return Q.createElement(vP,Gm({key:"background-bar-".concat(m),option:a.props.background,isActive:m===u},j))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,u=i.xAxis,d=i.yAxis,f=i.layout,m=i.children,h=Ia(m,tg);if(!h)return null;var g=f==="vertical"?l[0].height/2:l[0].width/2,j=function(v,N){var C=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:C,errorVal:us(v,N)}},w={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Q.createElement(Mr,w,h.map(function(b){return Q.cloneElement(b,{key:"error-bar-".concat(s,"-").concat(b.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:g,dataPointFormatter:j})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,l=a.className,u=a.xAxis,d=a.yAxis,f=a.left,m=a.top,h=a.width,g=a.height,j=a.isAnimationActive,w=a.background,b=a.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,N=Ct("recharts-bar",l),C=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,A=C||S,_=kt(b)?this.id:b;return Q.createElement(Mr,{className:N},C||S?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(_)},Q.createElement("rect",{x:C?f:f-h/2,y:S?m:m-g/2,width:C?h:h*2,height:S?g:g*2}))):null,Q.createElement(Mr,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(_,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,_),(!j||v)&&Eo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(x.PureComponent);yL=$i;Ti($i,"displayName","Bar");Ti($i,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!nf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ti($i,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,m=e.dataStartIndex,h=e.displayedData,g=e.offset,j=rte(a,r);if(!j)return null;var w=t.layout,b=r.type.defaultProps,v=b!==void 0?mr(mr({},b),r.props):r.props,N=v.dataKey,C=v.children,S=v.minPointSize,A=w==="horizontal"?l:i,_=f?A.scale.domain():null,T=ute({numericAxis:A}),k=Ia(C,X4),D=h.map(function(I,B){var z,H,W,Z,$,M;f?z=nte(f[m+B],_):(z=us(I,N),Array.isArray(z)||(z=[T,z]));var P=Ese(S,yL.defaultProps.minPointSize)(z[1],B);if(w==="horizontal"){var O,K=[l.scale(z[0]),l.scale(z[1])],V=K[0],q=K[1];H=tI({axis:i,ticks:u,bandSize:s,offset:j.offset,entry:I,index:B}),W=(O=q??V)!==null&&O!==void 0?O:void 0,Z=j.size;var F=V-q;if($=Number.isNaN(F)?0:F,M={x:H,y:l.y,width:Z,height:l.height},Math.abs(P)>0&&Math.abs($)<Math.abs(P)){var L=Ra($||P)*(Math.abs(P)-Math.abs($));W-=L,$+=L}}else{var Y=[i.scale(z[0]),i.scale(z[1])],ee=Y[0],ce=Y[1];if(H=ee,W=tI({axis:l,ticks:d,bandSize:s,offset:j.offset,entry:I,index:B}),Z=ce-ee,$=j.size,M={x:i.x,y:W,width:i.width,height:$},Math.abs(P)>0&&Math.abs(Z)<Math.abs(P)){var G=Ra(Z||P)*(Math.abs(P)-Math.abs(Z));Z+=G}}return mr(mr(mr({},I),{},{x:H,y:W,width:Z,height:$,value:f?z:z[1],payload:I,background:M},k&&k[B]&&k[B].props),{},{tooltipPayload:[rL(r,I)],tooltipPosition:{x:H+Z/2,y:W+$/2}})});return mr({data:D,layout:w},g)});function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function Lse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bP(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wL(a.key),a)}}function Fse(e,t,r){return t&&bP(e.prototype,t),r&&bP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(a){ag(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ag(e,t,r){return t=wL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wL(e){var t=Use(e,"string");return Ld(t)=="symbol"?t:t+""}function Use(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ld(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bse=function(t,r,a,s,i){var l=t.width,u=t.height,d=t.layout,f=t.children,m=Object.keys(r),h={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:u-a.bottom,bottomMirror:u-a.bottom},g=!!Wn(f,$i);return m.reduce(function(j,w){var b=r[w],v=b.orientation,N=b.domain,C=b.padding,S=C===void 0?{}:C,A=b.mirror,_=b.reversed,T="".concat(v).concat(A?"Mirror":""),k,D,I,B,z;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var H=N[1]-N[0],W=1/0,Z=b.categoricalDomain.sort(UH);if(Z.forEach(function(Y,ee){ee>0&&(W=Math.min((Y||0)-(Z[ee-1]||0),W))}),Number.isFinite(W)){var $=W/H,M=b.layout==="vertical"?a.height:a.width;if(b.padding==="gap"&&(k=$*M/2),b.padding==="no-gap"){var P=Oo(t.barCategoryGap,$*M),O=$*M/2;k=O-P-(O-P)/M*P}}}s==="xAxis"?D=[a.left+(S.left||0)+(k||0),a.left+a.width-(S.right||0)-(k||0)]:s==="yAxis"?D=d==="horizontal"?[a.top+a.height-(S.bottom||0),a.top+(S.top||0)]:[a.top+(S.top||0)+(k||0),a.top+a.height-(S.bottom||0)-(k||0)]:D=b.range,_&&(D=[D[1],D[0]]);var K=ete(b,i,g),V=K.scale,q=K.realScaleType;V.domain(N).range(D),tte(V);var F=cte(V,Ea(Ea({},b),{},{realScaleType:q}));s==="xAxis"?(z=v==="top"&&!A||v==="bottom"&&A,I=a.left,B=h[T]-z*b.height):s==="yAxis"&&(z=v==="left"&&!A||v==="right"&&A,I=h[T]-z*b.width,B=a.top);var L=Ea(Ea(Ea({},b),F),{},{realScaleType:q,x:I,y:B,scale:V,width:s==="xAxis"?a.width:b.width,height:s==="yAxis"?a.height:b.height});return L.bandSize=Dm(L,F),!b.hide&&s==="xAxis"?h[T]+=(z?-1:1)*L.height:b.hide||(h[T]+=(z?-1:1)*L.width),Ea(Ea({},j),{},ag({},w,L))},{})},NL=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return{x:Math.min(a,i),y:Math.min(s,l),width:Math.abs(i-a),height:Math.abs(l-s)}},zse=function(t){var r=t.x1,a=t.y1,s=t.x2,i=t.y2;return NL({x:r,y:a},{x:s,y:i})},SL=(function(){function e(t){Lse(this,e),this.scale=t}return Fse(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();ag(SL,"EPS",1e-4);var eS=function(t){var r=Object.keys(t).reduce(function(a,s){return Ea(Ea({},a),{},ag({},s,SL.create(t[s])))},{});return Ea(Ea({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,u=i.position;return pse(s,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(s){return xL(s,function(i,l){return r[l].isInRange(i)})}})};function qse(e){return(e%180+180)%180}var Wse=function(t){var r=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=qse(s),l=i*Math.PI/180,u=Math.atan(a/r),d=l>u&&l<Math.PI-u?a/Math.sin(l):r/Math.cos(l);return Math.abs(d)},gj,wP;function Vse(){if(wP)return gj;wP=1;var e=Vi(),t=rf(),r=zp();function a(s){return function(i,l,u){var d=Object(i);if(!t(i)){var f=e(l,3);i=r(i),l=function(h){return f(d[h],h,d)}}var m=s(i,l,u);return m>-1?d[f?i[m]:m]:void 0}}return gj=a,gj}var vj,NP;function Hse(){if(NP)return vj;NP=1;var e=mL();function t(r){var a=e(r),s=a%1;return a===a?s?a-s:a:0}return vj=t,vj}var xj,SP;function Gse(){if(SP)return xj;SP=1;var e=M4(),t=Vi(),r=Hse(),a=Math.max;function s(i,l,u){var d=i==null?0:i.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=a(d+f,0)),e(i,t(l,3),f)}return xj=s,xj}var yj,_P;function Kse(){if(_P)return yj;_P=1;var e=Vse(),t=Gse(),r=e(t);return yj=r,yj}var Yse=Kse();const Xse=zt(Yse);var Qse=ZM();const Zse=zt(Qse);var Jse=Zse(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),tS=x.createContext(void 0),rS=x.createContext(void 0),_L=x.createContext(void 0),CL=x.createContext({}),EL=x.createContext(void 0),TL=x.createContext(0),AL=x.createContext(0),CP=function(t){var r=t.state,a=r.xAxisMap,s=r.yAxisMap,i=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,m=Jse(i);return Q.createElement(tS.Provider,{value:a},Q.createElement(rS.Provider,{value:s},Q.createElement(CL.Provider,{value:i},Q.createElement(_L.Provider,{value:m},Q.createElement(EL.Provider,{value:l},Q.createElement(TL.Provider,{value:f},Q.createElement(AL.Provider,{value:d},u)))))))},eie=function(){return x.useContext(EL)},RL=function(t){var r=x.useContext(tS);r==null&&Mo();var a=r[t];return a==null&&Mo(),a},tie=function(){var t=x.useContext(tS);return _i(t)},rie=function(){var t=x.useContext(rS),r=Xse(t,function(a){return xL(a.domain,Number.isFinite)});return r||_i(t)},kL=function(t){var r=x.useContext(rS);r==null&&Mo();var a=r[t];return a==null&&Mo(),a},nie=function(){var t=x.useContext(_L);return t},aie=function(){return x.useContext(CL)},nS=function(){return x.useContext(AL)},aS=function(){return x.useContext(TL)};function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function sie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iie(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,PL(a.key),a)}}function oie(e,t,r){return t&&iie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lie(e,t,r){return t=Ym(t),cie(e,IL()?Reflect.construct(t,r||[],Ym(e).constructor):t.apply(e,r))}function cie(e,t){if(t&&(oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uie(e)}function uie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IL=function(){return!!e})()}function Ym(e){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(e)}function die(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d1(e,t)}function d1(e,t){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},d1(e,t)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function TP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(a){sS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sS(e,t,r){return t=PL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PL(e){var t=fie(e,"string");return oc(t)=="symbol"?t:t+""}function fie(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(oc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hie(e,t){return vie(e)||gie(e,t)||pie(e,t)||mie()}function mie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pie(e,t){if(e){if(typeof e=="string")return AP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AP(e,t)}}function AP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function gie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function vie(e){if(Array.isArray(e))return e}function f1(){return f1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f1.apply(this,arguments)}var xie=function(t,r){var a;return Q.isValidElement(t)?a=Q.cloneElement(t,r):jt(t)?a=t(r):a=Q.createElement("line",f1({},r,{className:"recharts-reference-line-line"})),a},yie=function(t,r,a,s,i,l,u,d,f){var m=i.x,h=i.y,g=i.width,j=i.height;if(a){var w=f.y,b=t.y.apply(w,{position:l});if(as(f,"discard")&&!t.y.isInRange(b))return null;var v=[{x:m+g,y:b},{x:m,y:b}];return d==="left"?v.reverse():v}if(r){var N=f.x,C=t.x.apply(N,{position:l});if(as(f,"discard")&&!t.x.isInRange(C))return null;var S=[{x:C,y:h+j},{x:C,y:h}];return u==="top"?S.reverse():S}if(s){var A=f.segment,_=A.map(function(T){return t.apply(T,{position:l})});return as(f,"discard")&&dse(_,function(T){return!t.isInRange(T)})?null:_}return null};function bie(e){var t=e.x,r=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=eie(),m=RL(s),h=kL(i),g=nie();if(!f||!g)return null;Os(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var j=eS({x:m.scale,y:h.scale}),w=Cr(t),b=Cr(r),v=a&&a.length===2,N=yie(j,w,b,v,g,e.position,m.orientation,h.orientation,e);if(!N)return null;var C=hie(N,2),S=C[0],A=S.x,_=S.y,T=C[1],k=T.x,D=T.y,I=as(e,"hidden")?"url(#".concat(f,")"):void 0,B=TP(TP({clipPath:I},Rt(e,!0)),{},{x1:A,y1:_,x2:k,y2:D});return Q.createElement(Mr,{className:Ct("recharts-reference-line",u)},xie(l,B),nn.renderCallByParent(e,zse({x1:A,y1:_,x2:k,y2:D})))}var sg=(function(e){function t(){return sie(this,t),lie(this,t,arguments)}return die(t,e),oie(t,[{key:"render",value:function(){return Q.createElement(bie,this.props)}}])})(Q.Component);sS(sg,"displayName","ReferenceLine");sS(sg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h1.apply(this,arguments)}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(a){ig(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wie(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,DL(a.key),a)}}function Nie(e,t,r){return t&&wie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sie(e,t,r){return t=Xm(t),_ie(e,OL()?Reflect.construct(t,r||[],Xm(e).constructor):t.apply(e,r))}function _ie(e,t){if(t&&(lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cie(e)}function Cie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OL=function(){return!!e})()}function Xm(e){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(e)}function Eie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m1(e,t)}function m1(e,t){return m1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},m1(e,t)}function ig(e,t,r){return t=DL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DL(e){var t=Tie(e,"string");return lc(t)=="symbol"?t:t+""}function Tie(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(lc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Aie=function(t){var r=t.x,a=t.y,s=t.xAxis,i=t.yAxis,l=eS({x:s.scale,y:i.scale}),u=l.apply({x:r,y:a},{bandAware:!0});return as(t,"discard")&&!l.isInRange(u)?null:u},og=(function(e){function t(){return jie(this,t),Sie(this,t,arguments)}return Eie(t,e),Nie(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,l=a.r,u=a.alwaysShow,d=a.clipPathId,f=Cr(s),m=Cr(i);if(Os(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!m)return null;var h=Aie(this.props);if(!h)return null;var g=h.x,j=h.y,w=this.props,b=w.shape,v=w.className,N=as(this.props,"hidden")?"url(#".concat(d,")"):void 0,C=kP(kP({clipPath:N},Rt(this.props,!0)),{},{cx:g,cy:j});return Q.createElement(Mr,{className:Ct("recharts-reference-dot",v)},t.renderDot(b,C),nn.renderCallByParent(this.props,{x:g-l,y:j-l,width:2*l,height:2*l}))}}])})(Q.Component);ig(og,"displayName","ReferenceDot");ig(og,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ig(og,"renderDot",function(e,t){var r;return Q.isValidElement(e)?r=Q.cloneElement(e,t):jt(e)?r=e(t):r=Q.createElement(hL,h1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},p1.apply(this,arguments)}function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(a){lg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kie(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$L(a.key),a)}}function Iie(e,t,r){return t&&kie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pie(e,t,r){return t=Qm(t),Oie(e,ML()?Reflect.construct(t,r||[],Qm(e).constructor):t.apply(e,r))}function Oie(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Die(e)}function Die(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ML(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!e})()}function Qm(e){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(e)}function Mie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g1(e,t)}function g1(e,t){return g1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},g1(e,t)}function lg(e,t,r){return t=$L(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $L(e){var t=$ie(e,"string");return cc(t)=="symbol"?t:t+""}function $ie(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(cc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lie=function(t,r,a,s,i){var l=i.x1,u=i.x2,d=i.y1,f=i.y2,m=i.xAxis,h=i.yAxis;if(!m||!h)return null;var g=eS({x:m.scale,y:h.scale}),j={x:t?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:a?g.y.apply(d,{position:"start"}):g.y.rangeMin},w={x:r?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:s?g.y.apply(f,{position:"end"}):g.y.rangeMax};return as(i,"discard")&&(!g.isInRange(j)||!g.isInRange(w))?null:NL(j,w)},cg=(function(e){function t(){return Rie(this,t),Pie(this,t,arguments)}return Mie(t,e),Iie(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,l=a.y1,u=a.y2,d=a.className,f=a.alwaysShow,m=a.clipPathId;Os(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Cr(s),g=Cr(i),j=Cr(l),w=Cr(u),b=this.props.shape;if(!h&&!g&&!j&&!w&&!b)return null;var v=Lie(h,g,j,w,this.props);if(!v&&!b)return null;var N=as(this.props,"hidden")?"url(#".concat(m,")"):void 0;return Q.createElement(Mr,{className:Ct("recharts-reference-area",d)},t.renderRect(b,PP(PP({clipPath:N},Rt(this.props,!0)),v)),nn.renderCallByParent(this.props,v))}}])})(Q.Component);lg(cg,"displayName","ReferenceArea");lg(cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lg(cg,"renderRect",function(e,t){var r;return Q.isValidElement(e)?r=Q.cloneElement(e,t):jt(e)?r=e(t):r=Q.createElement(JN,p1({},t,{className:"recharts-reference-area-rect"})),r});function LL(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function Fie(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return Wse(a,r)}function Uie(e,t,r){var a=r==="width",s=e.x,i=e.y,l=e.width,u=e.height;return t===1?{start:a?s:i,end:a?s+l:i+u}:{start:a?s+l:i+u,end:a?s:i}}function Zm(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function Bie(e,t){return LL(e,t+1)}function zie(e,t,r,a,s){for(var i=(a||[]).slice(),l=t.start,u=t.end,d=0,f=1,m=l,h=function(){var w=a?.[d];if(w===void 0)return{v:LL(a,f)};var b=d,v,N=function(){return v===void 0&&(v=r(w,b)),v},C=w.coordinate,S=d===0||Zm(e,C,N,m,u);S||(d=0,m=l,f+=1),S&&(m=C+e*(N()/2+s),d+=f)},g;f<=i.length;)if(g=h(),g)return g.v;return[]}function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(a){qie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qie(e,t,r){return t=Wie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wie(e){var t=Vie(e,"string");return Fd(t)=="symbol"?t:t+""}function Vie(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Fd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hie(e,t,r,a,s){for(var i=(a||[]).slice(),l=i.length,u=t.start,d=t.end,f=function(g){var j=i[g],w,b=function(){return w===void 0&&(w=r(j,g)),w};if(g===l-1){var v=e*(j.coordinate+e*b()/2-d);i[g]=j=rn(rn({},j),{},{tickCoord:v>0?j.coordinate-v*e:j.coordinate})}else i[g]=j=rn(rn({},j),{},{tickCoord:j.coordinate});var N=Zm(e,j.tickCoord,b,u,d);N&&(d=j.tickCoord-e*(b()/2+s),i[g]=rn(rn({},j),{},{isShow:!0}))},m=l-1;m>=0;m--)f(m);return i}function Gie(e,t,r,a,s,i){var l=(a||[]).slice(),u=l.length,d=t.start,f=t.end;if(i){var m=a[u-1],h=r(m,u-1),g=e*(m.coordinate+e*h/2-f);l[u-1]=m=rn(rn({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate});var j=Zm(e,m.tickCoord,function(){return h},d,f);j&&(f=m.tickCoord-e*(h/2+s),l[u-1]=rn(rn({},m),{},{isShow:!0}))}for(var w=i?u-1:u,b=function(C){var S=l[C],A,_=function(){return A===void 0&&(A=r(S,C)),A};if(C===0){var T=e*(S.coordinate-e*_()/2-d);l[C]=S=rn(rn({},S),{},{tickCoord:T<0?S.coordinate-T*e:S.coordinate})}else l[C]=S=rn(rn({},S),{},{tickCoord:S.coordinate});var k=Zm(e,S.tickCoord,_,d,f);k&&(d=S.tickCoord+e*(_()/2+s),l[C]=rn(rn({},S),{},{isShow:!0}))},v=0;v<w;v++)b(v);return l}function iS(e,t,r){var a=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,m=e.unit,h=e.angle;if(!s||!s.length||!a)return[];if($e(d)||nf.isSsr)return Bie(s,typeof d=="number"&&$e(d)?d:0);var g=[],j=u==="top"||u==="bottom"?"width":"height",w=m&&j==="width"?Vu(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(S,A){var _=jt(f)?f(S.value,A):S.value;return j==="width"?Fie(Vu(_,{fontSize:t,letterSpacing:r}),w,h):Vu(_,{fontSize:t,letterSpacing:r})[j]},v=s.length>=2?Ra(s[1].coordinate-s[0].coordinate):1,N=Uie(i,v,j);return d==="equidistantPreserveStart"?zie(v,N,b,s,l):(d==="preserveStart"||d==="preserveStartEnd"?g=Gie(v,N,b,s,l,d==="preserveStartEnd"):g=Hie(v,N,b,s,l),g.filter(function(C){return C.isShow}))}var Kie=["viewBox"],Yie=["viewBox"],Xie=["ticks"];function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pl.apply(this,arguments)}function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(a){oS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bj(e,t){if(e==null)return{};var r=Qie(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Qie(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Zie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MP(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,UL(a.key),a)}}function Jie(e,t,r){return t&&MP(e.prototype,t),r&&MP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eoe(e,t,r){return t=Jm(t),toe(e,FL()?Reflect.construct(t,r||[],Jm(e).constructor):t.apply(e,r))}function toe(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return roe(e)}function roe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FL=function(){return!!e})()}function Jm(e){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jm(e)}function noe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v1(e,t)}function v1(e,t){return v1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},v1(e,t)}function oS(e,t,r){return t=UL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UL(e){var t=aoe(e,"string");return uc(t)=="symbol"?t:t+""}function aoe(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(uc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kc=(function(e){function t(r){var a;return Zie(this,t),a=eoe(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return noe(t,e),Jie(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,l=bj(a,Kie),u=this.props,d=u.viewBox,f=bj(u,Yie);return!Fl(i,d)||!Fl(l,f)||!Fl(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,l=s.y,u=s.width,d=s.height,f=s.orientation,m=s.tickSize,h=s.mirror,g=s.tickMargin,j,w,b,v,N,C,S=h?-1:1,A=a.tickSize||m,_=$e(a.tickCoord)?a.tickCoord:a.coordinate;switch(f){case"top":j=w=a.coordinate,v=l+ +!h*d,b=v-S*A,C=b-S*g,N=_;break;case"left":b=v=a.coordinate,w=i+ +!h*u,j=w-S*A,N=j-S*g,C=_;break;case"right":b=v=a.coordinate,w=i+ +h*u,j=w+S*A,N=j+S*g,C=_;break;default:j=w=a.coordinate,v=l+ +h*d,b=v+S*A,C=b+S*g,N=_;break}return{line:{x1:j,y1:b,x2:w,y2:v},tick:{x:N,y:C}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.orientation,f=a.mirror,m=a.axisLine,h=wr(wr(wr({},Rt(this.props,!1)),Rt(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!f||d==="bottom"&&f);h=wr(wr({},h),{},{x1:s,y1:i+g*u,x2:s+l,y2:i+g*u})}else{var j=+(d==="left"&&!f||d==="right"&&f);h=wr(wr({},h),{},{x1:s+j*l,y1:i,x2:s+j*l,y2:i+u})}return Q.createElement("line",Pl({},h,{className:Ct("recharts-cartesian-axis-line",pa(m,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var l=this,u=this.props,d=u.tickLine,f=u.stroke,m=u.tick,h=u.tickFormatter,g=u.unit,j=iS(wr(wr({},this.props),{},{ticks:a}),s,i),w=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),v=Rt(this.props,!1),N=Rt(m,!1),C=wr(wr({},v),{},{fill:"none"},Rt(d,!1)),S=j.map(function(A,_){var T=l.getTickLineCoord(A),k=T.line,D=T.tick,I=wr(wr(wr(wr({textAnchor:w,verticalAnchor:b},v),{},{stroke:"none",fill:f},N),D),{},{index:_,payload:A,visibleTicksCount:j.length,tickFormatter:h});return Q.createElement(Mr,Pl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},um(l.props,A,_)),d&&Q.createElement("line",Pl({},C,k,{className:Ct("recharts-cartesian-axis-tick-line",pa(d,"className"))})),m&&t.renderTickItem(m,I,"".concat(jt(h)?h(A.value,_):A.value).concat(g||"")))});return Q.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,l=s.width,u=s.height,d=s.ticksGenerator,f=s.className,m=s.hide;if(m)return null;var h=this.props,g=h.ticks,j=bj(h,Xie),w=g;return jt(d)&&(w=g&&g.length>0?d(this.props):d(j)),l<=0||u<=0||!w||!w.length?null:Q.createElement(Mr,{className:Ct("recharts-cartesian-axis",f),ref:function(v){a.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),nn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var l,u=Ct(s.className,"recharts-cartesian-axis-tick-value");return Q.isValidElement(a)?l=Q.cloneElement(a,wr(wr({},s),{},{className:u})):jt(a)?l=a(wr(wr({},s),{},{className:u})):l=Q.createElement(jm,Pl({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})(x.Component);oS(kc,"displayName","CartesianAxis");oS(kc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var soe=["x1","y1","x2","y2","key"],ioe=["offset"];function $o(e){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(e)}function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(a){ooe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ooe(e,t,r){return t=loe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function loe(e){var t=coe(e,"string");return $o(t)=="symbol"?t:t+""}function coe(e,t){if($o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if($o(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wo.apply(this,arguments)}function LP(e,t){if(e==null)return{};var r=uoe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function uoe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var doe=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,l=t.width,u=t.height,d=t.ry;return Q.createElement("rect",{x:s,y:i,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function BL(e,t){var r;if(Q.isValidElement(e))r=Q.cloneElement(e,t);else if(jt(e))r=e(t);else{var a=t.x1,s=t.y1,i=t.x2,l=t.y2,u=t.key,d=LP(t,soe),f=Rt(d,!1);f.offset;var m=LP(f,ioe);r=Q.createElement("line",wo({},m,{x1:a,y1:s,x2:i,y2:l,fill:"none",key:u}))}return r}function foe(e){var t=e.x,r=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=an(an({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return BL(s,f)});return Q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function hoe(e){var t=e.y,r=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=an(an({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return BL(s,f)});return Q.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function moe(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,i=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var m=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,j){return g-j});s!==m[0]&&m.unshift(0);var h=m.map(function(g,j){var w=!m[j+1],b=w?s+l-g:m[j+1]-g;if(b<=0)return null;var v=j%t.length;return Q.createElement("rect",{key:"react-".concat(j),y:g,x:a,height:b,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function poe(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!a||!a.length)return null;var m=f.map(function(g){return Math.round(g+i-i)}).sort(function(g,j){return g-j});i!==m[0]&&m.unshift(0);var h=m.map(function(g,j){var w=!m[j+1],b=w?i+u-g:m[j+1]-g;if(b<=0)return null;var v=j%a.length;return Q.createElement("rect",{key:"react-".concat(j),x:g,y:l,width:b,height:d,stroke:"none",fill:a[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var goe=function(t,r){var a=t.xAxis,s=t.width,i=t.height,l=t.offset;return eL(iS(an(an(an({},kc.defaultProps),a),{},{ticks:Is(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.left,l.left+l.width,r)},voe=function(t,r){var a=t.yAxis,s=t.width,i=t.height,l=t.offset;return eL(iS(an(an(an({},kc.defaultProps),a),{},{ticks:Is(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.top,l.top+l.height,r)},_l={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zL(e){var t,r,a,s,i,l,u=nS(),d=aS(),f=aie(),m=an(an({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:_l.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:_l.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:_l.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:_l.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:_l.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:_l.verticalFill,x:$e(e.x)?e.x:f.left,y:$e(e.y)?e.y:f.top,width:$e(e.width)?e.width:f.width,height:$e(e.height)?e.height:f.height}),h=m.x,g=m.y,j=m.width,w=m.height,b=m.syncWithTicks,v=m.horizontalValues,N=m.verticalValues,C=tie(),S=rie();if(!$e(j)||j<=0||!$e(w)||w<=0||!$e(h)||h!==+h||!$e(g)||g!==+g)return null;var A=m.verticalCoordinatesGenerator||goe,_=m.horizontalCoordinatesGenerator||voe,T=m.horizontalPoints,k=m.verticalPoints;if((!T||!T.length)&&jt(_)){var D=v&&v.length,I=_({yAxis:S?an(an({},S),{},{ticks:D?v:S.ticks}):void 0,width:u,height:d,offset:f},D?!0:b);Os(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($o(I),"]")),Array.isArray(I)&&(T=I)}if((!k||!k.length)&&jt(A)){var B=N&&N.length,z=A({xAxis:C?an(an({},C),{},{ticks:B?N:C.ticks}):void 0,width:u,height:d,offset:f},B?!0:b);Os(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($o(z),"]")),Array.isArray(z)&&(k=z)}return Q.createElement("g",{className:"recharts-cartesian-grid"},Q.createElement(doe,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),Q.createElement(foe,wo({},m,{offset:f,horizontalPoints:T,xAxis:C,yAxis:S})),Q.createElement(hoe,wo({},m,{offset:f,verticalPoints:k,xAxis:C,yAxis:S})),Q.createElement(moe,wo({},m,{horizontalPoints:T})),Q.createElement(poe,wo({},m,{verticalPoints:k})))}zL.displayName="CartesianGrid";function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function xoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yoe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,VL(a.key),a)}}function boe(e,t,r){return t&&yoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function joe(e,t,r){return t=ep(t),woe(e,qL()?Reflect.construct(t,r||[],ep(e).constructor):t.apply(e,r))}function woe(e,t){if(t&&(dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Noe(e)}function Noe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qL=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(e)}function Soe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x1(e,t)}function x1(e,t){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},x1(e,t)}function WL(e,t,r){return t=VL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VL(e){var t=_oe(e,"string");return dc(t)=="symbol"?t:t+""}function _oe(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(dc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},y1.apply(this,arguments)}function Coe(e){var t=e.xAxisId,r=nS(),a=aS(),s=RL(t);return s==null?null:x.createElement(kc,y1({},s,{className:Ct("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return Is(l,!0)}}))}var ug=(function(e){function t(){return xoe(this,t),joe(this,t,arguments)}return Soe(t,e),boe(t,[{key:"render",value:function(){return x.createElement(Coe,this.props)}}])})(x.Component);WL(ug,"displayName","XAxis");WL(ug,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function Eoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Toe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,KL(a.key),a)}}function Aoe(e,t,r){return t&&Toe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Roe(e,t,r){return t=tp(t),koe(e,HL()?Reflect.construct(t,r||[],tp(e).constructor):t.apply(e,r))}function koe(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ioe(e)}function Ioe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!e})()}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(e)}function Poe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b1(e,t)}function b1(e,t){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},b1(e,t)}function GL(e,t,r){return t=KL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KL(e){var t=Ooe(e,"string");return fc(t)=="symbol"?t:t+""}function Ooe(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(fc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},j1.apply(this,arguments)}var Doe=function(t){var r=t.yAxisId,a=nS(),s=aS(),i=kL(r);return i==null?null:x.createElement(kc,j1({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(u){return Is(u,!0)}}))},dg=(function(e){function t(){return Eoe(this,t),Roe(this,t,arguments)}return Poe(t,e),Aoe(t,[{key:"render",value:function(){return x.createElement(Doe,this.props)}}])})(x.Component);GL(dg,"displayName","YAxis");GL(dg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function FP(e){return Foe(e)||Loe(e)||$oe(e)||Moe()}function Moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $oe(e,t){if(e){if(typeof e=="string")return w1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(e,t)}}function Loe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Foe(e){if(Array.isArray(e))return w1(e)}function w1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var N1=function(t,r,a,s,i){var l=Ia(t,sg),u=Ia(t,og),d=[].concat(FP(l),FP(u)),f=Ia(t,cg),m="".concat(s,"Id"),h=s[0],g=r;if(d.length&&(g=d.reduce(function(b,v){if(v.props[m]===a&&as(v.props,"extendDomain")&&$e(v.props[h])){var N=v.props[h];return[Math.min(b[0],N),Math.max(b[1],N)]}return b},g)),f.length){var j="".concat(h,"1"),w="".concat(h,"2");g=f.reduce(function(b,v){if(v.props[m]===a&&as(v.props,"extendDomain")&&$e(v.props[j])&&$e(v.props[w])){var N=v.props[j],C=v.props[w];return[Math.min(b[0],N,C),Math.max(b[1],N,C)]}return b},g)}return i&&i.length&&(g=i.reduce(function(b,v){return $e(v)?[Math.min(b[0],v),Math.max(b[1],v)]:b},g)),g},jj={exports:{}},UP;function Uoe(){return UP||(UP=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function i(d,f,m,h,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var j=new s(m,h||d,g),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],j]:d._events[w].push(j):(d._events[w]=j,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new a:delete d._events[f]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,h;if(this._eventsCount===0)return f;for(h in m=this._events)t.call(m,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=r?r+f:f,h=this._events[m];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,j=h.length,w=new Array(j);g<j;g++)w[g]=h[g].fn;return w},u.prototype.listenerCount=function(f){var m=r?r+f:f,h=this._events[m];return h?h.fn?1:h.length:0},u.prototype.emit=function(f,m,h,g,j,w){var b=r?r+f:f;if(!this._events[b])return!1;var v=this._events[b],N=arguments.length,C,S;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),N){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,m),!0;case 3:return v.fn.call(v.context,m,h),!0;case 4:return v.fn.call(v.context,m,h,g),!0;case 5:return v.fn.call(v.context,m,h,g,j),!0;case 6:return v.fn.call(v.context,m,h,g,j,w),!0}for(S=1,C=new Array(N-1);S<N;S++)C[S-1]=arguments[S];v.fn.apply(v.context,C)}else{var A=v.length,_;for(S=0;S<A;S++)switch(v[S].once&&this.removeListener(f,v[S].fn,void 0,!0),N){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,m);break;case 3:v[S].fn.call(v[S].context,m,h);break;case 4:v[S].fn.call(v[S].context,m,h,g);break;default:if(!C)for(_=1,C=new Array(N-1);_<N;_++)C[_-1]=arguments[_];v[S].fn.apply(v[S].context,C)}}return!0},u.prototype.on=function(f,m,h){return i(this,f,m,h,!1)},u.prototype.once=function(f,m,h){return i(this,f,m,h,!0)},u.prototype.removeListener=function(f,m,h,g){var j=r?r+f:f;if(!this._events[j])return this;if(!m)return l(this,j),this;var w=this._events[j];if(w.fn)w.fn===m&&(!g||w.once)&&(!h||w.context===h)&&l(this,j);else{for(var b=0,v=[],N=w.length;b<N;b++)(w[b].fn!==m||g&&!w[b].once||h&&w[b].context!==h)&&v.push(w[b]);v.length?this._events[j]=v.length===1?v[0]:v:l(this,j)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&l(this,m)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(jj)),jj.exports}var Boe=Uoe();const zoe=zt(Boe);var wj=new zoe,Nj="recharts.syncMouseEvents";function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function qoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Woe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,YL(a.key),a)}}function Voe(e,t,r){return t&&Woe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sj(e,t,r){return t=YL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YL(e){var t=Hoe(e,"string");return Ud(t)=="symbol"?t:t+""}function Hoe(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ud(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Goe=(function(){function e(){qoe(this,e),Sj(this,"activeIndex",0),Sj(this,"coordinateList",[]),Sj(this,"layout","horizontal")}return Voe(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,i=s===void 0?null:s,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,m=r.offset,h=m===void 0?null:m,g=r.mouseHandlerCallback,j=g===void 0?null:g;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=j??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,u=s.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+d+f,g=l+this.offset.top+u/2+m;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])})();function Koe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e?.[0],s=e?.[1];if(a&&s&&$e(a)&&$e(s))return!0}return!1}function Yoe(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function XL(e){var t=e.cx,r=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,l=Kr(t,r,a,s),u=Kr(t,r,a,i);return{points:[l,u],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function Xoe(e,t,r){var a,s,i,l;if(e==="horizontal")a=t.x,i=a,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,m=t.outerRadius,h=t.angle,g=Kr(u,d,f,h),j=Kr(u,d,m,h);a=g.x,s=g.y,i=j.x,l=j.y}else return XL(t);return[{x:a,y:s},{x:i,y:l}]}function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(a){Qoe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Qoe(e,t,r){return t=Zoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zoe(e){var t=Joe(e,"string");return Bd(t)=="symbol"?t:t+""}function Joe(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Bd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ele(e){var t,r,a=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,m=e.tooltipAxisBandSize,h=e.layout,g=e.chartName,j=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!j||!i||!l||g!=="ScatterChart"&&s!=="axis")return null;var w,b=xI;if(g==="ScatterChart")w=l,b=dae;else if(g==="BarChart")w=Yoe(h,l,d,m),b=JN;else if(h==="radial"){var v=XL(l),N=v.cx,C=v.cy,S=v.radius,A=v.startAngle,_=v.endAngle;w={cx:N,cy:C,startAngle:A,endAngle:_,innerRadius:S,outerRadius:S},b=sL}else w={points:Xoe(h,l,d)},b=xI;var T=qh(qh(qh(qh({stroke:"#ccc",pointerEvents:"none"},d),w),Rt(j,!1)),{},{payload:u,payloadIndex:f,className:Ct("recharts-tooltip-cursor",j.className)});return x.isValidElement(j)?x.cloneElement(j,T):x.createElement(b,T)}var tle=["item"],rle=["children","className","width","height","style","compact","title","desc"];function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ol.apply(this,arguments)}function zP(e,t){return sle(e)||ale(e,t)||ZL(e,t)||nle()}function nle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ale(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function sle(e){if(Array.isArray(e))return e}function qP(e,t){if(e==null)return{};var r=ile(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ile(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ole(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lle(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,JL(a.key),a)}}function cle(e,t,r){return t&&lle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ule(e,t,r){return t=rp(t),dle(e,QL()?Reflect.construct(t,r||[],rp(e).constructor):t.apply(e,r))}function dle(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fle(e)}function fle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QL=function(){return!!e})()}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rp(e)}function hle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S1(e,t)}function S1(e,t){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},S1(e,t)}function mc(e){return gle(e)||ple(e)||ZL(e)||mle()}function mle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZL(e,t){if(e){if(typeof e=="string")return _1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _1(e,t)}}function ple(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gle(e){if(Array.isArray(e))return _1(e)}function _1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(a){ut(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ut(e,t,r){return t=JL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JL(e){var t=vle(e,"string");return hc(t)=="symbol"?t:t+""}function vle(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(hc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xle={xAxis:["bottom","top"],yAxis:["left","right"]},yle={width:"100%",height:"100%"},e3={x:0,y:0};function Wh(e){return e}var ble=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},jle=function(t,r,a,s){var i=r.find(function(m){return m&&m.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,u=s.radius;return Ne(Ne(Ne({},s),Kr(s.cx,s.cy,u,l)),{},{angle:l,radius:u})}var d=i.coordinate,f=s.angle;return Ne(Ne(Ne({},s),Kr(s.cx,s.cy,d,f)),{},{angle:f,radius:d})}return e3},fg=function(t,r){var a=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,l=(a??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(mc(u),mc(f)):u},[]);return l.length>0?l:t&&t.length&&$e(s)&&$e(i)?t.slice(s,i+1):[]};function t3(e){return e==="number"?[0,"auto"]:void 0}var C1=function(t,r,a,s){var i=t.graphicalItems,l=t.tooltipAxis,u=fg(r,t);return a<0||!i||!i.length||a>=u.length?null:i.reduce(function(d,f){var m,h=(m=f.props.data)!==null&&m!==void 0?m:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var j=h===void 0?u:h;g=fw(j,l.dataKey,s)}else g=h&&h[a]||u[a];return g?[].concat(mc(d),[rL(f,g)]):d},[])},VP=function(t,r,a,s){var i=s||{x:t.chartX,y:t.chartY},l=ble(i,a),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,m=Kee(l,u,f,d);if(m>=0&&f){var h=f[m]&&f[m].value,g=C1(t,r,m,h),j=jle(a,u,m,i);return{activeTooltipIndex:m,activeLabel:h,activePayload:g,activeCoordinate:j}}return null},wle=function(t,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=t.layout,h=t.children,g=t.stackOffset,j=J$(m,i);return a.reduce(function(w,b){var v,N=b.type.defaultProps!==void 0?Ne(Ne({},b.type.defaultProps),b.props):b.props,C=N.type,S=N.dataKey,A=N.allowDataOverflow,_=N.allowDuplicatedCategory,T=N.scale,k=N.ticks,D=N.includeHidden,I=N[l];if(w[I])return w;var B=fg(t.data,{graphicalItems:s.filter(function(F){var L,Y=l in F.props?F.props[l]:(L=F.type.defaultProps)===null||L===void 0?void 0:L[l];return Y===I}),dataStartIndex:d,dataEndIndex:f}),z=B.length,H,W,Z;Koe(N.domain,A,C)&&(H=Hw(N.domain,null,A),j&&(C==="number"||T!=="auto")&&(Z=Gu(B,S,"category")));var $=t3(C);if(!H||H.length===0){var M,P=(M=N.domain)!==null&&M!==void 0?M:$;if(S){if(H=Gu(B,S,C),C==="category"&&j){var O=FH(H);_&&O?(W=H,H=Wm(0,z)):_||(H=aI(P,H,b).reduce(function(F,L){return F.indexOf(L)>=0?F:[].concat(mc(F),[L])},[]))}else if(C==="category")_?H=H.filter(function(F){return F!==""&&!kt(F)}):H=aI(P,H,b).reduce(function(F,L){return F.indexOf(L)>=0||L===""||kt(L)?F:[].concat(mc(F),[L])},[]);else if(C==="number"){var K=Jee(B,s.filter(function(F){var L,Y,ee=l in F.props?F.props[l]:(L=F.type.defaultProps)===null||L===void 0?void 0:L[l],ce="hide"in F.props?F.props.hide:(Y=F.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return ee===I&&(D||!ce)}),S,i,m);K&&(H=K)}j&&(C==="number"||T!=="auto")&&(Z=Gu(B,S,"category"))}else j?H=Wm(0,z):u&&u[I]&&u[I].hasStack&&C==="number"?H=g==="expand"?[0,1]:tL(u[I].stackGroups,d,f):H=Z$(B,s.filter(function(F){var L=l in F.props?F.props[l]:F.type.defaultProps[l],Y="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return L===I&&(D||!Y)}),C,m,!0);if(C==="number")H=N1(h,H,I,i,k),P&&(H=Hw(P,H,A));else if(C==="category"&&P){var V=P,q=H.every(function(F){return V.indexOf(F)>=0});q&&(H=V)}}return Ne(Ne({},w),{},ut({},I,Ne(Ne({},N),{},{axisType:i,domain:H,categoricalDomain:Z,duplicateDomain:W,originalDomain:(v=N.domain)!==null&&v!==void 0?v:$,isCategorical:j,layout:m})))},{})},Nle=function(t,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=t.layout,h=t.children,g=fg(t.data,{graphicalItems:a,dataStartIndex:d,dataEndIndex:f}),j=g.length,w=J$(m,i),b=-1;return a.reduce(function(v,N){var C=N.type.defaultProps!==void 0?Ne(Ne({},N.type.defaultProps),N.props):N.props,S=C[l],A=t3("number");if(!v[S]){b++;var _;return w?_=Wm(0,j):u&&u[S]&&u[S].hasStack?(_=tL(u[S].stackGroups,d,f),_=N1(h,_,S,i)):(_=Hw(A,Z$(g,a.filter(function(T){var k,D,I=l in T.props?T.props[l]:(k=T.type.defaultProps)===null||k===void 0?void 0:k[l],B="hide"in T.props?T.props.hide:(D=T.type.defaultProps)===null||D===void 0?void 0:D.hide;return I===S&&!B}),"number",m),s.defaultProps.allowDataOverflow),_=N1(h,_,S,i)),Ne(Ne({},v),{},ut({},S,Ne(Ne({axisType:i},s.defaultProps),{},{hide:!0,orientation:pa(xle,"".concat(i,".").concat(b%2),null),domain:_,originalDomain:A,isCategorical:w,layout:m})))}return v},{})},Sle=function(t,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=t.children,h="".concat(s,"Id"),g=Ia(m,i),j={};return g&&g.length?j=wle(t,{axes:g,graphicalItems:l,axisType:s,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(j=Nle(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),j},_le=function(t){var r=_i(t),a=Is(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:_N(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Dm(r,a)}},HP=function(t){var r=t.children,a=t.defaultShowTooltip,s=Wn(r,sc),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},Cle=function(t){return!t||!t.length?!1:t.some(function(r){var a=Ps(r&&r.type);return a&&a.indexOf("Bar")>=0})},GP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ele=function(t,r){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,u=t.yAxisMap,d=u===void 0?{}:u,f=a.width,m=a.height,h=a.children,g=a.margin||{},j=Wn(h,sc),w=Wn(h,Ul),b=Object.keys(d).reduce(function(_,T){var k=d[T],D=k.orientation;return!k.mirror&&!k.hide?Ne(Ne({},_),{},ut({},D,_[D]+k.width)):_},{left:g.left||0,right:g.right||0}),v=Object.keys(l).reduce(function(_,T){var k=l[T],D=k.orientation;return!k.mirror&&!k.hide?Ne(Ne({},_),{},ut({},D,pa(_,"".concat(D))+k.height)):_},{top:g.top||0,bottom:g.bottom||0}),N=Ne(Ne({},v),b),C=N.bottom;j&&(N.bottom+=j.props.height||sc.defaultProps.height),w&&r&&(N=Qee(N,s,a,r));var S=f-N.left-N.right,A=m-N.top-N.bottom;return Ne(Ne({brushBottom:C},N),{},{width:Math.max(S,0),height:Math.max(A,0)})},Tle=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Ale=function(t){var r=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,m=t.formatAxisMap,h=t.defaultProps,g=function(N,C){var S=C.graphicalItems,A=C.stackGroups,_=C.offset,T=C.updateId,k=C.dataStartIndex,D=C.dataEndIndex,I=N.barSize,B=N.layout,z=N.barGap,H=N.barCategoryGap,W=N.maxBarSize,Z=GP(B),$=Z.numericAxisName,M=Z.cateAxisName,P=Cle(S),O=[];return S.forEach(function(K,V){var q=fg(N.data,{graphicalItems:[K],dataStartIndex:k,dataEndIndex:D}),F=K.type.defaultProps!==void 0?Ne(Ne({},K.type.defaultProps),K.props):K.props,L=F.dataKey,Y=F.maxBarSize,ee=F["".concat($,"Id")],ce=F["".concat(M,"Id")],G={},fe=d.reduce(function(Be,gt){var or=C["".concat(gt.axisType,"Map")],On=F["".concat(gt.axisType,"Id")];or&&or[On]||gt.axisType==="zAxis"||Mo();var ye=or[On];return Ne(Ne({},Be),{},ut(ut({},gt.axisType,ye),"".concat(gt.axisType,"Ticks"),Is(ye)))},G),oe=fe[M],Ee=fe["".concat(M,"Ticks")],Oe=A&&A[ee]&&A[ee].hasStack&&dte(K,A[ee].stackGroups),re=Ps(K.type).indexOf("Bar")>=0,le=Dm(oe,Ee),ge=[],Le=P&&Yee({barSize:I,stackGroups:A,totalSize:Tle(fe,M)});if(re){var Xe,ot,wt=kt(Y)?W:Y,te=(Xe=(ot=Dm(oe,Ee,!0))!==null&&ot!==void 0?ot:wt)!==null&&Xe!==void 0?Xe:0;ge=Xee({barGap:z,barCategoryGap:H,bandSize:te!==le?te:le,sizeList:Le[ce],maxBarSize:wt}),te!==le&&(ge=ge.map(function(Be){return Ne(Ne({},Be),{},{position:Ne(Ne({},Be.position),{},{offset:Be.position.offset-te/2})})}))}var se=K&&K.type&&K.type.getComposedData;se&&O.push({props:Ne(Ne({},se(Ne(Ne({},fe),{},{displayedData:q,props:N,dataKey:L,item:K,bandSize:le,barPosition:ge,offset:_,stackedData:Oe,layout:B,dataStartIndex:k,dataEndIndex:D}))),{},ut(ut(ut({key:K.key||"item-".concat(V)},$,fe[$]),M,fe[M]),"animationId",T)),childIndex:QH(K,N.children),item:K})}),O},j=function(N,C){var S=N.props,A=N.dataStartIndex,_=N.dataEndIndex,T=N.updateId;if(!yT({props:S}))return null;var k=S.children,D=S.layout,I=S.stackOffset,B=S.data,z=S.reverseStackOrder,H=GP(D),W=H.numericAxisName,Z=H.cateAxisName,$=Ia(k,a),M=lte(B,$,"".concat(W,"Id"),"".concat(Z,"Id"),I,z),P=d.reduce(function(F,L){var Y="".concat(L.axisType,"Map");return Ne(Ne({},F),{},ut({},Y,Sle(S,Ne(Ne({},L),{},{graphicalItems:$,stackGroups:L.axisType===W&&M,dataStartIndex:A,dataEndIndex:_}))))},{}),O=Ele(Ne(Ne({},P),{},{props:S,graphicalItems:$}),C?.legendBBox);Object.keys(P).forEach(function(F){P[F]=m(S,P[F],O,F.replace("Map",""),r)});var K=P["".concat(Z,"Map")],V=_le(K),q=g(S,Ne(Ne({},P),{},{dataStartIndex:A,dataEndIndex:_,updateId:T,graphicalItems:$,stackGroups:M,offset:O}));return Ne(Ne({formattedGraphicalItems:q,graphicalItems:$,offset:O,stackGroups:M},V),P)},w=(function(v){function N(C){var S,A,_;return ole(this,N),_=ule(this,N,[C]),ut(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ut(_,"accessibilityManager",new Goe),ut(_,"handleLegendBBoxUpdate",function(T){if(T){var k=_.state,D=k.dataStartIndex,I=k.dataEndIndex,B=k.updateId;_.setState(Ne({legendBBox:T},j({props:_.props,dataStartIndex:D,dataEndIndex:I,updateId:B},Ne(Ne({},_.state),{},{legendBBox:T}))))}}),ut(_,"handleReceiveSyncEvent",function(T,k,D){if(_.props.syncId===T){if(D===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(k)}}),ut(_,"handleBrushChange",function(T){var k=T.startIndex,D=T.endIndex;if(k!==_.state.dataStartIndex||D!==_.state.dataEndIndex){var I=_.state.updateId;_.setState(function(){return Ne({dataStartIndex:k,dataEndIndex:D},j({props:_.props,dataStartIndex:k,dataEndIndex:D,updateId:I},_.state))}),_.triggerSyncEvent({dataStartIndex:k,dataEndIndex:D})}}),ut(_,"handleMouseEnter",function(T){var k=_.getMouseInfo(T);if(k){var D=Ne(Ne({},k),{},{isTooltipActive:!0});_.setState(D),_.triggerSyncEvent(D);var I=_.props.onMouseEnter;jt(I)&&I(D,T)}}),ut(_,"triggeredAfterMouseMove",function(T){var k=_.getMouseInfo(T),D=k?Ne(Ne({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(D),_.triggerSyncEvent(D);var I=_.props.onMouseMove;jt(I)&&I(D,T)}),ut(_,"handleItemMouseEnter",function(T){_.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),ut(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),ut(_,"handleMouseMove",function(T){T.persist(),_.throttleTriggeredAfterMouseMove(T)}),ut(_,"handleMouseLeave",function(T){_.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};_.setState(k),_.triggerSyncEvent(k);var D=_.props.onMouseLeave;jt(D)&&D(k,T)}),ut(_,"handleOuterEvent",function(T){var k=XH(T),D=pa(_.props,"".concat(k));if(k&&jt(D)){var I,B;/.*touch.*/i.test(k)?B=_.getMouseInfo(T.changedTouches[0]):B=_.getMouseInfo(T),D((I=B)!==null&&I!==void 0?I:{},T)}}),ut(_,"handleClick",function(T){var k=_.getMouseInfo(T);if(k){var D=Ne(Ne({},k),{},{isTooltipActive:!0});_.setState(D),_.triggerSyncEvent(D);var I=_.props.onClick;jt(I)&&I(D,T)}}),ut(_,"handleMouseDown",function(T){var k=_.props.onMouseDown;if(jt(k)){var D=_.getMouseInfo(T);k(D,T)}}),ut(_,"handleMouseUp",function(T){var k=_.props.onMouseUp;if(jt(k)){var D=_.getMouseInfo(T);k(D,T)}}),ut(_,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),ut(_,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&_.handleMouseDown(T.changedTouches[0])}),ut(_,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&_.handleMouseUp(T.changedTouches[0])}),ut(_,"handleDoubleClick",function(T){var k=_.props.onDoubleClick;if(jt(k)){var D=_.getMouseInfo(T);k(D,T)}}),ut(_,"handleContextMenu",function(T){var k=_.props.onContextMenu;if(jt(k)){var D=_.getMouseInfo(T);k(D,T)}}),ut(_,"triggerSyncEvent",function(T){_.props.syncId!==void 0&&wj.emit(Nj,_.props.syncId,T,_.eventEmitterSymbol)}),ut(_,"applySyncEvent",function(T){var k=_.props,D=k.layout,I=k.syncMethod,B=_.state.updateId,z=T.dataStartIndex,H=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)_.setState(Ne({dataStartIndex:z,dataEndIndex:H},j({props:_.props,dataStartIndex:z,dataEndIndex:H,updateId:B},_.state)));else if(T.activeTooltipIndex!==void 0){var W=T.chartX,Z=T.chartY,$=T.activeTooltipIndex,M=_.state,P=M.offset,O=M.tooltipTicks;if(!P)return;if(typeof I=="function")$=I(O,T);else if(I==="value"){$=-1;for(var K=0;K<O.length;K++)if(O[K].value===T.activeLabel){$=K;break}}var V=Ne(Ne({},P),{},{x:P.left,y:P.top}),q=Math.min(W,V.x+V.width),F=Math.min(Z,V.y+V.height),L=O[$]&&O[$].value,Y=C1(_.state,_.props.data,$),ee=O[$]?{x:D==="horizontal"?O[$].coordinate:q,y:D==="horizontal"?F:O[$].coordinate}:e3;_.setState(Ne(Ne({},T),{},{activeLabel:L,activeCoordinate:ee,activePayload:Y,activeTooltipIndex:$}))}else _.setState(T)}),ut(_,"renderCursor",function(T){var k,D=_.state,I=D.isTooltipActive,B=D.activeCoordinate,z=D.activePayload,H=D.offset,W=D.activeTooltipIndex,Z=D.tooltipAxisBandSize,$=_.getTooltipEventType(),M=(k=T.props.active)!==null&&k!==void 0?k:I,P=_.props.layout,O=T.key||"_recharts-cursor";return Q.createElement(ele,{key:O,activeCoordinate:B,activePayload:z,activeTooltipIndex:W,chartName:r,element:T,isActive:M,layout:P,offset:H,tooltipAxisBandSize:Z,tooltipEventType:$})}),ut(_,"renderPolarAxis",function(T,k,D){var I=pa(T,"type.axisType"),B=pa(_.state,"".concat(I,"Map")),z=T.type.defaultProps,H=z!==void 0?Ne(Ne({},z),T.props):T.props,W=B&&B[H["".concat(I,"Id")]];return x.cloneElement(T,Ne(Ne({},W),{},{className:Ct(I,W.className),key:T.key||"".concat(k,"-").concat(D),ticks:Is(W,!0)}))}),ut(_,"renderPolarGrid",function(T){var k=T.props,D=k.radialLines,I=k.polarAngles,B=k.polarRadius,z=_.state,H=z.radiusAxisMap,W=z.angleAxisMap,Z=_i(H),$=_i(W),M=$.cx,P=$.cy,O=$.innerRadius,K=$.outerRadius;return x.cloneElement(T,{polarAngles:Array.isArray(I)?I:Is($,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(B)?B:Is(Z,!0).map(function(V){return V.coordinate}),cx:M,cy:P,innerRadius:O,outerRadius:K,key:T.key||"polar-grid",radialLines:D})}),ut(_,"renderLegend",function(){var T=_.state.formattedGraphicalItems,k=_.props,D=k.children,I=k.width,B=k.height,z=_.props.margin||{},H=I-(z.left||0)-(z.right||0),W=X$({children:D,formattedGraphicalItems:T,legendWidth:H,legendContent:f});if(!W)return null;var Z=W.item,$=qP(W,tle);return x.cloneElement(Z,Ne(Ne({},$),{},{chartWidth:I,chartHeight:B,margin:z,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),ut(_,"renderTooltip",function(){var T,k=_.props,D=k.children,I=k.accessibilityLayer,B=Wn(D,Ga);if(!B)return null;var z=_.state,H=z.isTooltipActive,W=z.activeCoordinate,Z=z.activePayload,$=z.activeLabel,M=z.offset,P=(T=B.props.active)!==null&&T!==void 0?T:H;return x.cloneElement(B,{viewBox:Ne(Ne({},M),{},{x:M.left,y:M.top}),active:P,label:$,payload:P?Z:[],coordinate:W,accessibilityLayer:I})}),ut(_,"renderBrush",function(T){var k=_.props,D=k.margin,I=k.data,B=_.state,z=B.offset,H=B.dataStartIndex,W=B.dataEndIndex,Z=B.updateId;return x.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Fh(_.handleBrushChange,T.props.onChange),data:I,x:$e(T.props.x)?T.props.x:z.left,y:$e(T.props.y)?T.props.y:z.top+z.height+z.brushBottom-(D.bottom||0),width:$e(T.props.width)?T.props.width:z.width,startIndex:H,endIndex:W,updateId:"brush-".concat(Z)})}),ut(_,"renderReferenceElement",function(T,k,D){if(!T)return null;var I=_,B=I.clipPathId,z=_.state,H=z.xAxisMap,W=z.yAxisMap,Z=z.offset,$=T.type.defaultProps||{},M=T.props,P=M.xAxisId,O=P===void 0?$.xAxisId:P,K=M.yAxisId,V=K===void 0?$.yAxisId:K;return x.cloneElement(T,{key:T.key||"".concat(k,"-").concat(D),xAxis:H[O],yAxis:W[V],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:B})}),ut(_,"renderActivePoints",function(T){var k=T.item,D=T.activePoint,I=T.basePoint,B=T.childIndex,z=T.isRange,H=[],W=k.props.key,Z=k.item.type.defaultProps!==void 0?Ne(Ne({},k.item.type.defaultProps),k.item.props):k.item.props,$=Z.activeDot,M=Z.dataKey,P=Ne(Ne({index:B,dataKey:M,cx:D.x,cy:D.y,r:4,fill:ZN(k.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Rt($,!1)),cm($));return H.push(N.renderActiveDot($,P,"".concat(W,"-activePoint-").concat(B))),I?H.push(N.renderActiveDot($,Ne(Ne({},P),{},{cx:I.x,cy:I.y}),"".concat(W,"-basePoint-").concat(B))):z&&H.push(null),H}),ut(_,"renderGraphicChild",function(T,k,D){var I=_.filterFormatItem(T,k,D);if(!I)return null;var B=_.getTooltipEventType(),z=_.state,H=z.isTooltipActive,W=z.tooltipAxis,Z=z.activeTooltipIndex,$=z.activeLabel,M=_.props.children,P=Wn(M,Ga),O=I.props,K=O.points,V=O.isRange,q=O.baseLine,F=I.item.type.defaultProps!==void 0?Ne(Ne({},I.item.type.defaultProps),I.item.props):I.item.props,L=F.activeDot,Y=F.hide,ee=F.activeBar,ce=F.activeShape,G=!!(!Y&&H&&P&&(L||ee||ce)),fe={};B!=="axis"&&P&&P.props.trigger==="click"?fe={onClick:Fh(_.handleItemMouseEnter,T.props.onClick)}:B!=="axis"&&(fe={onMouseLeave:Fh(_.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Fh(_.handleItemMouseEnter,T.props.onMouseEnter)});var oe=x.cloneElement(T,Ne(Ne({},I.props),fe));function Ee(gt){return typeof W.dataKey=="function"?W.dataKey(gt.payload):null}if(G)if(Z>=0){var Oe,re;if(W.dataKey&&!W.allowDuplicatedCategory){var le=typeof W.dataKey=="function"?Ee:"payload.".concat(W.dataKey.toString());Oe=fw(K,le,$),re=V&&q&&fw(q,le,$)}else Oe=K?.[Z],re=V&&q&&q[Z];if(ce||ee){var ge=T.props.activeIndex!==void 0?T.props.activeIndex:Z;return[x.cloneElement(T,Ne(Ne(Ne({},I.props),fe),{},{activeIndex:ge})),null,null]}if(!kt(Oe))return[oe].concat(mc(_.renderActivePoints({item:I,activePoint:Oe,basePoint:re,childIndex:Z,isRange:V})))}else{var Le,Xe=(Le=_.getItemByXY(_.state.activeCoordinate))!==null&&Le!==void 0?Le:{graphicalItem:oe},ot=Xe.graphicalItem,wt=ot.item,te=wt===void 0?T:wt,se=ot.childIndex,Be=Ne(Ne(Ne({},I.props),fe),{},{activeIndex:se});return[x.cloneElement(te,Be),null,null]}return V?[oe,null,null]:[oe,null]}),ut(_,"renderCustomized",function(T,k,D){return x.cloneElement(T,Ne(Ne({key:"recharts-customized-".concat(D)},_.props),_.state))}),ut(_,"renderMap",{CartesianGrid:{handler:Wh,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Wh},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Wh},YAxis:{handler:Wh},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((S=C.id)!==null&&S!==void 0?S:$p("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=Y4(_.triggeredAfterMouseMove,(A=C.throttleDelay)!==null&&A!==void 0?A:1e3/60),_.state={},_}return hle(N,v),cle(N,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,_=S.data,T=S.height,k=S.layout,D=Wn(A,Ga);if(D){var I=D.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,z=C1(this.state,_,I,B),H=this.state.tooltipTicks[I].coordinate,W=(this.state.offset.top+T)/2,Z=k==="horizontal",$=Z?{x:H,y:W}:{y:H,x:W},M=this.state.formattedGraphicalItems.find(function(O){var K=O.item;return K.type.name==="Scatter"});M&&($=Ne(Ne({},$),M.props.points[I].tooltipPosition),z=M.props.points[I].tooltipPayload);var P={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:B,activePayload:z,activeCoordinate:$};this.setState(P),this.renderCursor(D),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var _,T;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(S){mw([Wn(S.children,Ga)],[Wn(this.props.children,Ga)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Wn(this.props.children,Ga);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return u.indexOf(A)>=0?A:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,_=A.getBoundingClientRect(),T=LX(_),k={chartX:Math.round(S.pageX-T.left),chartY:Math.round(S.pageY-T.top)},D=_.width/A.offsetWidth||1,I=this.inRange(k.chartX,k.chartY,D);if(!I)return null;var B=this.state,z=B.xAxisMap,H=B.yAxisMap,W=this.getTooltipEventType(),Z=VP(this.state,this.props.data,this.props.layout,I);if(W!=="axis"&&z&&H){var $=_i(z).scale,M=_i(H).scale,P=$&&$.invert?$.invert(k.chartX):null,O=M&&M.invert?M.invert(k.chartY):null;return Ne(Ne({},k),{},{xValue:P,yValue:O},Z)}return Z?Ne(Ne({},k),Z):null}},{key:"inRange",value:function(S,A){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,k=S/_,D=A/_;if(T==="horizontal"||T==="vertical"){var I=this.state.offset,B=k>=I.left&&k<=I.left+I.width&&D>=I.top&&D<=I.top+I.height;return B?{x:k,y:D}:null}var z=this.state,H=z.angleAxisMap,W=z.radiusAxisMap;if(H&&W){var Z=_i(H);return oI({x:k,y:D},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),_=Wn(S,Ga),T={};_&&A==="axis"&&(_.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=cm(this.props,this.handleOuterEvent);return Ne(Ne({},k),T)}},{key:"addListener",value:function(){wj.on(Nj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wj.removeListener(Nj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,_){for(var T=this.state.formattedGraphicalItems,k=0,D=T.length;k<D;k++){var I=T[k];if(I.item===S||I.props.key===S.key||A===Ps(I.item.type)&&_===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,_=A.left,T=A.top,k=A.height,D=A.width;return Q.createElement("defs",null,Q.createElement("clipPath",{id:S},Q.createElement("rect",{x:_,y:T,height:k,width:D})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,_){var T=zP(_,2),k=T[0],D=T[1];return Ne(Ne({},A),{},ut({},k,D.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,_){var T=zP(_,2),k=T[0],D=T[1];return Ne(Ne({},A),{},ut({},k,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,_=A.formattedGraphicalItems,T=A.activeItem;if(_&&_.length)for(var k=0,D=_.length;k<D;k++){var I=_[k],B=I.props,z=I.item,H=z.type.defaultProps!==void 0?Ne(Ne({},z.type.defaultProps),z.props):z.props,W=Ps(z.type);if(W==="Bar"){var Z=(B.data||[]).find(function(O){return tae(S,O)});if(Z)return{graphicalItem:I,payload:Z}}else if(W==="RadialBar"){var $=(B.data||[]).find(function(O){return oI(S,O)});if($)return{graphicalItem:I,payload:$}}else if(rg(I,T)||ng(I,T)||Dd(I,T)){var M=Vae({graphicalItem:I,activeTooltipItem:T,itemData:H.data}),P=H.activeIndex===void 0?M:H.activeIndex;return{graphicalItem:Ne(Ne({},I),{},{childIndex:P}),payload:Dd(I,T)?H.data[M]:I.props.data[M]}}}return null}},{key:"render",value:function(){var S=this;if(!yT(this))return null;var A=this.props,_=A.children,T=A.className,k=A.width,D=A.height,I=A.style,B=A.compact,z=A.title,H=A.desc,W=qP(A,rle),Z=Rt(W,!1);if(B)return Q.createElement(CP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement(gw,Ol({},Z,{width:k,height:D,title:z,desc:H}),this.renderClipPath(),jT(_,this.renderMap)));if(this.props.accessibilityLayer){var $,M;Z.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,Z.role=(M=this.props.role)!==null&&M!==void 0?M:"application",Z.onKeyDown=function(O){S.accessibilityManager.keyboardEvent(O)},Z.onFocus=function(){S.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return Q.createElement(CP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement("div",Ol({className:Ct("recharts-wrapper",T),style:Ne({position:"relative",cursor:"default",width:k,height:D},I)},P,{ref:function(K){S.container=K}}),Q.createElement(gw,Ol({},Z,{width:k,height:D,title:z,desc:H,style:yle}),this.renderClipPath(),jT(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(x.Component);ut(w,"displayName",r),ut(w,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ut(w,"getDerivedStateFromProps",function(v,N){var C=v.dataKey,S=v.data,A=v.children,_=v.width,T=v.height,k=v.layout,D=v.stackOffset,I=v.margin,B=N.dataStartIndex,z=N.dataEndIndex;if(N.updateId===void 0){var H=HP(v);return Ne(Ne(Ne({},H),{},{updateId:0},j(Ne(Ne({props:v},H),{},{updateId:0}),N)),{},{prevDataKey:C,prevData:S,prevWidth:_,prevHeight:T,prevLayout:k,prevStackOffset:D,prevMargin:I,prevChildren:A})}if(C!==N.prevDataKey||S!==N.prevData||_!==N.prevWidth||T!==N.prevHeight||k!==N.prevLayout||D!==N.prevStackOffset||!Fl(I,N.prevMargin)){var W=HP(v),Z={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},$=Ne(Ne({},VP(N,S,k)),{},{updateId:N.updateId+1}),M=Ne(Ne(Ne({},W),Z),$);return Ne(Ne(Ne({},M),j(Ne({props:v},M),N)),{},{prevDataKey:C,prevData:S,prevWidth:_,prevHeight:T,prevLayout:k,prevStackOffset:D,prevMargin:I,prevChildren:A})}if(!mw(A,N.prevChildren)){var P,O,K,V,q=Wn(A,sc),F=q&&(P=(O=q.props)===null||O===void 0?void 0:O.startIndex)!==null&&P!==void 0?P:B,L=q&&(K=(V=q.props)===null||V===void 0?void 0:V.endIndex)!==null&&K!==void 0?K:z,Y=F!==B||L!==z,ee=!kt(S),ce=ee&&!Y?N.updateId:N.updateId+1;return Ne(Ne({updateId:ce},j(Ne(Ne({props:v},N),{},{updateId:ce,dataStartIndex:F,dataEndIndex:L}),N)),{},{prevChildren:A,dataStartIndex:F,dataEndIndex:L})}return null}),ut(w,"renderActiveDot",function(v,N,C){var S;return x.isValidElement(v)?S=x.cloneElement(v,N):jt(v)?S=v(N):S=Q.createElement(hL,N),Q.createElement(Mr,{className:"recharts-active-dot",key:C},S)});var b=x.forwardRef(function(N,C){return Q.createElement(w,Ol({},N,{ref:C}))});return b.displayName=w.displayName,b},Rle=Ale({chartName:"BarChart",GraphicalChild:$i,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ug},{axisType:"yAxis",AxisComp:dg}],formatAxisMap:Bse});function Et(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Qn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function sr(e,t){const r=Et(e);return isNaN(t)?Qn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function vn(e,t){const r=Et(e);if(isNaN(t))return Qn(e,NaN);if(!t)return r;const a=r.getDate(),s=Qn(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return a>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}const lS=6048e5,kle=864e5,r3=6e4,n3=36e5;let Ile={};function cf(){return Ile}function Zn(e,t){const r=cf(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Et(e),i=s.getDay(),l=(i<a?7:0)+i-a;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Lo(e){return Zn(e,{weekStartsOn:1})}function a3(e){const t=Et(e),r=t.getFullYear(),a=Qn(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Lo(a),i=Qn(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const l=Lo(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function pc(e){const t=Et(e);return t.setHours(0,0,0,0),t}function np(e){const t=Et(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function es(e,t){const r=pc(e),a=pc(t),s=+r-np(r),i=+a-np(a);return Math.round((s-i)/kle)}function Ple(e){const t=a3(e),r=Qn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Lo(r)}function E1(e,t){const r=t*7;return sr(e,r)}function Ole(e,t){return vn(e,t*12)}function Dle(e){let t;return e.forEach(function(r){const a=Et(r);(t===void 0||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function Mle(e){let t;return e.forEach(r=>{const a=Et(r);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}function Yr(e,t){const r=pc(e),a=pc(t);return+r==+a}function cS(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $le(e){if(!cS(e)&&typeof e!="number")return!1;const t=Et(e);return!isNaN(Number(t))}function zd(e,t){const r=Et(e),a=Et(t),s=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return s*12+i}function Lle(e,t,r){const a=Zn(e,r),s=Zn(t,r),i=+a-np(a),l=+s-np(s);return Math.round((i-l)/lS)}function uS(e){const t=Et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Xr(e){const t=Et(e);return t.setDate(1),t.setHours(0,0,0,0),t}function s3(e){const t=Et(e),r=Qn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function dS(e,t){const r=cf(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Et(e),i=s.getDay(),l=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function i3(e){return dS(e,{weekStartsOn:1})}const Fle={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ule=(e,t,r)=>{let a;const s=Fle[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function ql(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ble={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wle={date:ql({formats:Ble,defaultWidth:"full"}),time:ql({formats:zle,defaultWidth:"full"}),dateTime:ql({formats:qle,defaultWidth:"full"})},Vle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hle=(e,t,r,a)=>Vle[e];function Xa(e){return(t,r)=>{const a=r?.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):l;s=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;s=e.values[u]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Gle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jle=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ece={ordinalNumber:Jle,era:Xa({values:Gle,defaultWidth:"wide"}),quarter:Xa({values:Kle,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xa({values:Yle,defaultWidth:"wide"}),day:Xa({values:Xle,defaultWidth:"wide"}),dayPeriod:Xa({values:Qle,defaultWidth:"wide",formattingValues:Zle,defaultFormattingWidth:"wide"})};function Qa(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const l=i[0],u=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?rce(u,h=>h.test(l)):tce(u,h=>h.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const m=t.slice(l.length);return{value:f,rest:m}}}function tce(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function rce(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function o3(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const u=t.slice(s.length);return{value:l,rest:u}}}const nce=/^(\d+)(th|st|nd|rd)?/i,ace=/\d+/i,sce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ice={any:[/^b/i,/^(a|c)/i]},oce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lce={any:[/1/i,/2/i,/3/i,/4/i]},cce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pce={ordinalNumber:o3({matchPattern:nce,parsePattern:ace,valueCallback:e=>parseInt(e,10)}),era:Qa({matchPatterns:sce,defaultMatchWidth:"wide",parsePatterns:ice,defaultParseWidth:"any"}),quarter:Qa({matchPatterns:oce,defaultMatchWidth:"wide",parsePatterns:lce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qa({matchPatterns:cce,defaultMatchWidth:"wide",parsePatterns:uce,defaultParseWidth:"any"}),day:Qa({matchPatterns:dce,defaultMatchWidth:"wide",parsePatterns:fce,defaultParseWidth:"any"}),dayPeriod:Qa({matchPatterns:hce,defaultMatchWidth:"any",parsePatterns:mce,defaultParseWidth:"any"})},l3={code:"en-US",formatDistance:Ule,formatLong:Wle,formatRelative:Hle,localize:ece,match:pce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gce(e){const t=Et(e);return es(t,s3(t))+1}function c3(e){const t=Et(e),r=+Lo(t)-+Ple(t);return Math.round(r/lS)+1}function u3(e,t){const r=Et(e),a=r.getFullYear(),s=cf(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=Qn(e,0);l.setFullYear(a+1,0,i),l.setHours(0,0,0,0);const u=Zn(l,t),d=Qn(e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const f=Zn(d,t);return r.getTime()>=u.getTime()?a+1:r.getTime()>=f.getTime()?a:a-1}function vce(e,t){const r=cf(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=u3(e,t),i=Qn(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),Zn(i,t)}function d3(e,t){const r=Et(e),a=+Zn(r,t)-+vce(r,t);return Math.round(a/lS)+1}function Mt(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const xi={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Mt(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mt(r+1,2)},d(e,t){return Mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mt(e.getHours()%12||12,t.length)},H(e,t){return Mt(e.getHours(),t.length)},m(e,t){return Mt(e.getMinutes(),t.length)},s(e,t){return Mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return Mt(s,t.length)}},Cl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KP={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return xi.y(e,t)},Y:function(e,t,r,a){const s=u3(e,a),i=s>0?s:1-s;if(t==="YY"){const l=i%100;return Mt(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mt(i,t.length)},R:function(e,t){const r=a3(e);return Mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mt(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Mt(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Mt(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return xi.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Mt(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const s=d3(e,a);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Mt(s,t.length)},I:function(e,t,r){const a=c3(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Mt(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):xi.d(e,t)},D:function(e,t,r){const a=gce(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Mt(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Mt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Mt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),s=a===0?7:a;switch(t){case"i":return String(s);case"ii":return Mt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let s;switch(a===12?s=Cl.noon:a===0?s=Cl.midnight:s=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let s;switch(a>=17?s=Cl.evening:a>=12?s=Cl.afternoon:a>=4?s=Cl.morning:s=Cl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return xi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):xi.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Mt(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Mt(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):xi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):xi.s(e,t)},S:function(e,t){return xi.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return XP(a);case"XXXX":case"XX":return go(a);case"XXXXX":case"XXX":default:return go(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return XP(a);case"xxxx":case"xx":return go(a);case"xxxxx":case"xxx":default:return go(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+YP(a,":");case"OOOO":default:return"GMT"+go(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+YP(a,":");case"zzzz":default:return"GMT"+go(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return Mt(a,t.length)},T:function(e,t,r){const a=e.getTime();return Mt(a,t.length)}};function YP(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?r+String(s):r+String(s)+t+Mt(i,2)}function XP(e,t){return e%60===0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):go(e,t)}function go(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Mt(Math.trunc(a/60),2),i=Mt(a%60,2);return r+s+t+i}const QP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},f3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},xce=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return QP(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",QP(a,t)).replace("{{time}}",f3(s,t))},yce={p:f3,P:xce},bce=/^D+$/,jce=/^Y+$/,wce=["D","DD","YY","YYYY"];function Nce(e){return bce.test(e)}function Sce(e){return jce.test(e)}function _ce(e,t,r){const a=Cce(e,t,r);if(console.warn(a),wce.includes(e))throw new RangeError(a)}function Cce(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ece=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ace=/^'([^]*?)'?$/,Rce=/''/g,kce=/[a-zA-Z]/;function ht(e,t,r){const a=cf(),s=r?.locale??a.locale??l3,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=Et(e);if(!$le(u))throw new RangeError("Invalid time value");let d=t.match(Tce).map(m=>{const h=m[0];if(h==="p"||h==="P"){const g=yce[h];return g(m,s.formatLong)}return m}).join("").match(Ece).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const h=m[0];if(h==="'")return{isToken:!1,value:Ice(m)};if(KP[h])return{isToken:!0,value:m};if(h.match(kce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(d=s.localize.preprocessor(u,d));const f={firstWeekContainsDate:i,weekStartsOn:l,locale:s};return d.map(m=>{if(!m.isToken)return m.value;const h=m.value;(!r?.useAdditionalWeekYearTokens&&Sce(h)||!r?.useAdditionalDayOfYearTokens&&Nce(h))&&_ce(h,t,String(e));const g=KP[h[0]];return g(u,h,s.localize,f)}).join("")}function Ice(e){const t=e.match(Ace);return t?t[1].replace(Rce,"'"):e}function Pce(e){const t=Et(e),r=t.getFullYear(),a=t.getMonth(),s=Qn(e,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Oce(e){return Math.trunc(+Et(e)/1e3)}function Dce(e){const t=Et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Mce(e,t){return Lle(Dce(e),Xr(e),t)+1}function Cs(e,t){const r=Et(e),a=Et(t);return r.getTime()>a.getTime()}function h3(e,t){const r=Et(e),a=Et(t);return+r<+a}function ZP(e,t,r){const a=Zn(e,r),s=Zn(t,r);return+a==+s}function fS(e,t){const r=Et(e),a=Et(t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function $ce(e,t){const r=Et(e),a=Et(t);return r.getFullYear()===a.getFullYear()}function _j(e,t){return sr(e,-t)}function zn(e,t){const a=Bce(e);let s;if(a.date){const d=zce(a.date,2);s=qce(d.restDateString,d.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let l=0,u;if(a.time&&(l=Wce(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(u=Vce(a.timezone),isNaN(u))return new Date(NaN)}else{const d=new Date(i+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(i+l+u)}const Vh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Lce=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Fce=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Uce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Bce(e){const t={},r=e.split(Vh.dateTimeDelimiter);let a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],Vh.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Vh.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const s=Vh.timezone.exec(a);s?(t.time=a.replace(s[1],""),t.timezone=s[1]):t.time=a}return t}function zce(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function qce(e,t){if(t===null)return new Date(NaN);const r=e.match(Lce);if(!r)return new Date(NaN);const a=!!r[4],s=ku(r[1]),i=ku(r[2])-1,l=ku(r[3]),u=ku(r[4]),d=ku(r[5])-1;if(a)return Xce(t,u,d)?Hce(t,u,d):new Date(NaN);{const f=new Date(0);return!Kce(t,i,l)||!Yce(t,s)?new Date(NaN):(f.setUTCFullYear(t,i,Math.max(s,l)),f)}}function ku(e){return e?parseInt(e):1}function Wce(e){const t=e.match(Fce);if(!t)return NaN;const r=Cj(t[1]),a=Cj(t[2]),s=Cj(t[3]);return Qce(r,a,s)?r*n3+a*r3+s*1e3:NaN}function Cj(e){return e&&parseFloat(e.replace(",","."))||0}function Vce(e){if(e==="Z")return 0;const t=e.match(Uce);if(!t)return 0;const r=t[1]==="+"?-1:1,a=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Zce(a,s)?r*(a*n3+s*r3):NaN}function Hce(e,t,r){const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,i=(t-1)*7+r+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const Gce=[31,null,31,30,31,30,31,31,30,31,30,31];function m3(e){return e%400===0||e%4===0&&e%100!==0}function Kce(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Gce[t]||(m3(e)?29:28))}function Yce(e,t){return t>=1&&t<=(m3(e)?366:365)}function Xce(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Qce(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Zce(e,t){return t>=0&&t<=59}function Ej(e,t){const r=Et(e),a=r.getFullYear(),s=r.getDate(),i=Qn(e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);const l=Pce(i);return r.setMonth(t,Math.min(s,l)),r}function JP(e,t){const r=Et(e);return isNaN(+r)?Qn(e,NaN):(r.setFullYear(t),r)}function Iu(e,t){if(e.one!==void 0&&t===1)return e.one;const r=t%10,a=t%100;return r===1&&a!==11?e.singularNominative.replace("{{count}}",String(t)):r>=2&&r<=4&&(a<10||a>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function dn(e){return(t,r)=>r?.addSuffix?r.comparison&&r.comparison>0?e.future?Iu(e.future,t):" "+Iu(e.regular,t):e.past?Iu(e.past,t):Iu(e.regular,t)+" ":Iu(e.regular,t)}const Jce={lessThanXSeconds:dn({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:dn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:(e,t)=>t?.addSuffix?t.comparison&&t.comparison>0?" ":" ":"",lessThanXMinutes:dn({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:dn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:dn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:dn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:dn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:dn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:dn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:dn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:dn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:dn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:dn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:dn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:dn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},eue=(e,t,r)=>Jce[e](t,r),tue={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},rue={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},nue={any:"{{date}}, {{time}}"},aue={date:ql({formats:tue,defaultWidth:"full"}),time:ql({formats:rue,defaultWidth:"full"}),dateTime:ql({formats:nue,defaultWidth:"any"})},hS=["","","","","","",""];function sue(e){const t=hS[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}function eO(e){const t=hS[e];return e===2?"' "+t+" ' p":"' "+t+" ' p"}function iue(e){const t=hS[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}const oue={lastWeek:(e,t,r)=>{const a=e.getDay();return ZP(e,t,r)?eO(a):sue(a)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:(e,t,r)=>{const a=e.getDay();return ZP(e,t,r)?eO(a):iue(a)},other:"P"},lue=(e,t,r,a)=>{const s=oue[e];return typeof s=="function"?s(t,r,a):s},cue={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},uue={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},due={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},fue={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},hue={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},mue={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},pue={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},gue=(e,t)=>{const r=Number(e),a=t?.unit;let s;return a==="date"?s="-":a==="week"||a==="minute"||a==="second"?s="-":s="-",r+s},vue={ordinalNumber:gue,era:Xa({values:cue,defaultWidth:"wide"}),quarter:Xa({values:uue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xa({values:due,defaultWidth:"wide",formattingValues:fue,defaultFormattingWidth:"wide"}),day:Xa({values:hue,defaultWidth:"wide"}),dayPeriod:Xa({values:mue,defaultWidth:"any",formattingValues:pue,defaultFormattingWidth:"wide"})},xue=/^(\d+)(-?(||||||||||))?/i,yue=/\d+/i,bue={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},jue={any:[/^/i,/^/i]},wue={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},Nue={any:[/1/i,/2/i,/3/i,/4/i]},Sue={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},_ue={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Cue={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},Eue={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},Tue={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},Aue={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},Rue={ordinalNumber:o3({matchPattern:xue,parsePattern:yue,valueCallback:e=>parseInt(e,10)}),era:Qa({matchPatterns:bue,defaultMatchWidth:"wide",parsePatterns:jue,defaultParseWidth:"any"}),quarter:Qa({matchPatterns:wue,defaultMatchWidth:"wide",parsePatterns:Nue,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qa({matchPatterns:Sue,defaultMatchWidth:"wide",parsePatterns:_ue,defaultParseWidth:"any"}),day:Qa({matchPatterns:Cue,defaultMatchWidth:"wide",parsePatterns:Eue,defaultParseWidth:"any"}),dayPeriod:Qa({matchPatterns:Tue,defaultMatchWidth:"wide",parsePatterns:Aue,defaultParseWidth:"any"})},St={code:"ru",formatDistance:eue,formatLong:aue,formatRelative:lue,localize:vue,match:Rue,options:{weekStartsOn:1,firstWeekContainsDate:1}};function kue({className:e,paymentRequests:t=[]}){const[r,a]=x.useState("week_days"),s=new Date,i=[{value:"week_days",label:"  "},{value:"month_days",label:"  "},{value:"quarter_decades",label:"  "},{value:"halfyear_months",label:"  "}],l=x.useMemo(()=>t.filter(m=>["approved","to-pay"].includes(m.status)),[t]),u=x.useMemo(()=>{const m=[];switch(r){case"week_days":{const h=Zn(s,{weekStartsOn:1});for(let g=0;g<7;g++){const j=sr(h,g),w=ht(j,"yyyy-MM-dd"),b=l.filter(N=>Yr(zn(N.dueDate),j)),v=b.filter(N=>Cs(s,zn(N.dueDate)));m.push({date:w,label:ht(j,"EEE d",{locale:St}),amount:b.reduce((N,C)=>N+C.amount,0),overdue:v.reduce((N,C)=>N+C.amount,0),count:b.length,overdueCount:v.length})}break}case"month_days":{const h=Xr(s),g=new Date(s.getFullYear(),s.getMonth()+1,0).getDate();for(let j=0;j<g;j++){const w=sr(h,j),b=ht(w,"yyyy-MM-dd"),v=l.filter(C=>Yr(zn(C.dueDate),w)),N=v.filter(C=>Cs(s,zn(C.dueDate)));m.push({date:b,label:ht(w,"d",{locale:St}),amount:v.reduce((C,S)=>C+S.amount,0),overdue:N.reduce((C,S)=>C+S.amount,0),count:v.length,overdueCount:N.length})}break}case"quarter_decades":{const h=Xr(s);for(let g=0;g<9;g++){const j=Math.floor(g/3),w=g%3,b=vn(h,j);let v,N,C;w===0?(v=b,N=sr(b,9),C=`${ht(b,"MMM",{locale:St})} 1-10`):w===1?(v=sr(b,10),N=sr(b,19),C=`${ht(b,"MMM",{locale:St})} 11-20`):(v=sr(b,20),N=sr(vn(b,1),-1),C=`${ht(b,"MMM",{locale:St})} 21-${ht(N,"d")}`);const S=l.filter(_=>{const T=zn(_.dueDate);return T>=v&&T<=N}),A=S.filter(_=>Cs(s,zn(_.dueDate)));m.push({date:ht(v,"yyyy-MM-dd"),label:C,amount:S.reduce((_,T)=>_+T.amount,0),overdue:A.reduce((_,T)=>_+T.amount,0),count:S.length,overdueCount:A.length})}break}case"halfyear_months":{const h=Xr(s);for(let g=0;g<6;g++){const j=vn(h,g),w=vn(j,1),b=l.filter(N=>{const C=zn(N.dueDate);return C>=j&&C<w}),v=b.filter(N=>Cs(s,zn(N.dueDate)));m.push({date:ht(j,"yyyy-MM-dd"),label:ht(j,"MMM yyyy",{locale:St}),amount:b.reduce((N,C)=>N+C.amount,0),overdue:v.reduce((N,C)=>N+C.amount,0),count:b.length,overdueCount:v.length})}break}}return m},[r,l,s]),d=x.useMemo(()=>{const m=l.filter(g=>Yr(zn(g.dueDate),s)),h=l.filter(g=>Cs(s,zn(g.dueDate)));return{todayAmount:m.reduce((g,j)=>g+j.amount,0),todayCount:m.length,overdueAmount:h.reduce((g,j)=>g+j.amount,0),overdueCount:h.length,totalAmount:l.reduce((g,j)=>g+j.amount,0),totalCount:l.length}},[l,s]),f=m=>m>=1e6?`${(m/1e6).toFixed(1)}M`:m>=1e3?`${(m/1e3).toFixed(0)}K`:m.toString();return n.jsxs("div",{className:`space-y-6 ${e}`,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"  "}),n.jsx(pr,{className:"h-4 w-4 text-blue-500"})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.todayAmount.toLocaleString()," "]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.todayCount," "]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Ot,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[d.overdueAmount.toLocaleString()," "]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.overdueCount," "]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"  "}),n.jsx(O1,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.totalAmount.toLocaleString()," "]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.totalCount," "]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Zt,{className:"h-4 w-4 text-orange-500"})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.totalCount>0?Math.round(d.todayCount/d.totalCount*100):0,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(Ae,{children:" "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(et,{value:r,onValueChange:m=>a(m),children:[n.jsx(rt,{className:"w-48",children:n.jsx(tt,{})}),n.jsx(nt,{children:i.map(m=>n.jsx(xe,{value:m.value,children:m.label},m.value))})]})})]})}),n.jsxs(pe,{children:[n.jsx("div",{className:"h-80",children:n.jsx(kX,{width:"100%",height:"100%",children:n.jsxs(Rle,{data:u,margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(zL,{strokeDasharray:"3 3"}),n.jsx(ug,{dataKey:"label",fontSize:12,angle:r==="month_days"?-45:0,textAnchor:r==="month_days"?"end":"middle",height:r==="month_days"?60:40}),n.jsx(dg,{fontSize:12,tickFormatter:f}),n.jsx(Ga,{formatter:(m,h)=>[`${m.toLocaleString()} `,h==="amount"?"":""],labelFormatter:m=>`: ${m}`}),n.jsx(sg,{x:ht(s,r.includes("days")?"d":"MMM",{locale:St}),stroke:"#ef4444",strokeDasharray:"2 2",label:""}),n.jsx($i,{dataKey:"amount",fill:"hsl(var(--chart-1))",name:"amount",radius:[2,2,0,0]}),n.jsx($i,{dataKey:"overdue",fill:"#ef4444",name:"overdue",radius:[2,2,0,0]})]})})}),n.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"hsl(var(--chart-1))"}}),n.jsx("span",{className:"text-sm",children:""})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),n.jsx("span",{className:"text-sm",children:""})]})]})]})]}),d.overdueCount>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-5 w-5 text-red-500"}),"  (",d.overdueCount,")"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-2",children:[l.filter(m=>Cs(s,zn(m.dueDate))).slice(0,5).map(m=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:m.docNumber}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["  ",Math.ceil((s.getTime()-zn(m.dueDate).getTime())/(1e3*60*60*24))," ."]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium text-red-600",children:[m.amount.toLocaleString()," "]}),n.jsx(je,{variant:"destructive",className:"text-xs",children:ht(zn(m.dueDate),"d MMM",{locale:St})})]})]},m.id)),d.overdueCount>5&&n.jsx("div",{className:"text-center py-2",children:n.jsxs(X,{variant:"outline",size:"sm",children:["  ",d.overdueCount-5," "]})})]})})]})]})}function Iue({paymentRequests:e,onFilterChange:t,currentFilter:r,onViewRequest:a}){const[s,i]=x.useState(null),l=e.filter(_=>["approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(_.status)),u=e.filter(_=>_.status==="approved"),d=new Date(Date.now()-300*60*1e3),f=u.filter(_=>new Date(_.createdAt)<d),m=e.filter(_=>_.status==="in-register"),h=e.filter(_=>_.status==="approved-for-payment"),g=u.reduce((_,T)=>{const k=T.currency||"KZT";return _[k]||(_[k]={count:0,amount:0}),_[k].count+=1,_[k].amount+=T.amount,_},{}),j=l.reduce((_,T)=>{const k=T.status;return _[k]||(_[k]=0),_[k]+=1,_},{}),w=(_,T)=>{const k={KZT:"",USD:"$",EUR:"",RUB:"",CNY:""};return`${_.toLocaleString()} ${k[T]||T}`},b=_=>({approved:"","in-register":" ","approved-for-payment":" ","paid-full":"","paid-partial":" ",declined:"",returned:""})[_]||_,v=_=>({approved:"bg-orange-100 text-orange-700","in-register":"bg-blue-100 text-blue-700","approved-for-payment":"bg-purple-100 text-purple-700","paid-full":"bg-green-100 text-green-700","paid-partial":"bg-yellow-100 text-yellow-700",declined:"bg-red-100 text-red-700",returned:"bg-gray-100 text-gray-700"})[_]||"bg-gray-100 text-gray-700",N=_=>{t&&t(r===_?null:_)},C=f.length,S=h.length,A=u.length+m.length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(me,{className:"border-l-4 border-l-orange-500",children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Vl,{className:"h-5 w-5 text-orange-500"})," "]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md ${C>0?"border-red-200 bg-red-50":"border-green-200 bg-green-50"} ${r==="overdue"?"ring-2 ring-primary":""}`,onClick:()=>N("overdue"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:`h-4 w-4 ${C>0?"text-red-500":"text-green-500"}`}),n.jsx("span",{className:"font-medium",children:""})]}),n.jsx(je,{variant:C>0?"destructive":"default",children:C})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:C>0?" 5   ":"  "})]}),n.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md ${S>0?"border-purple-200 bg-purple-50":"border-gray-200 bg-gray-50"}`,onClick:()=>N("approved-for-payment"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(DO,{className:"h-4 w-4 text-purple-500"}),n.jsx("span",{className:"font-medium",children:"  "})]}),n.jsx(je,{variant:S>0?"secondary":"outline",children:S})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]}),n.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md ${A>0?"border-blue-200 bg-blue-50":"border-gray-200 bg-gray-50"} ${r==="newRequests"?"ring-2 ring-primary":""}`,onClick:()=>N("newRequests"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zt,{className:"h-4 w-4 text-blue-500"}),n.jsx("span",{className:"font-medium",children:" "})]}),n.jsx(je,{variant:A>0?"secondary":"outline",children:A})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]})]}),n.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[n.jsxs(X,{size:"sm",onClick:()=>N("newRequests"),disabled:u.length===0,children:[n.jsx(Pi,{className:"h-4 w-4 mr-1"}),"  (",u.length,")"]}),n.jsxs(X,{size:"sm",variant:"outline",onClick:()=>i(s==="register"?null:"register"),children:[n.jsx(yt,{className:"h-4 w-4 mr-1"})," "]})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(I6,{className:"h-5 w-5 text-blue-500"})," "]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>i(s==="currencies"?null:"currencies"),children:[s==="currencies"?"":"",n.jsx(Bj,{className:`h-4 w-4 ml-1 transition-transform ${s==="currencies"?"rotate-90":""}`})]})]})}),n.jsx(pe,{children:s==="currencies"?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:["KZT","USD","EUR","RUB","CNY"].map(_=>{const T=g[_]||{count:0,amount:0};return n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium",children:_}),n.jsx(je,{variant:"outline",children:T.count})]}),n.jsx("div",{className:"text-lg font-semibold mb-1",children:w(T.amount,_)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]},_)})}):n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Object.entries(g).slice(0,3).map(([_,T])=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:_}),n.jsx("div",{className:"font-semibold",children:w(T.amount,_)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[T.count," "]})]},_)),Object.keys(g).length>3&&n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:""}),n.jsxs("div",{className:"font-semibold",children:["+",Object.keys(g).length-3]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:""})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ml,{className:"h-5 w-5 text-green-500"})," workflow"]})}),n.jsxs(pe,{children:[n.jsx("div",{className:"space-y-3",children:Object.entries(j).map(([_,T])=>{const k=l.length>0?T/l.length*100:0;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(je,{className:v(_),variant:"secondary",children:b(_)}),n.jsx("span",{className:"text-sm",children:T})]}),n.jsx("div",{className:"w-24",children:n.jsx(rN,{value:k,className:"h-2"})})]},_)})}),n.jsx("div",{className:"mt-4 pt-4 border-t",children:n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:" "}),n.jsx("span",{className:"font-medium",children:l.length})]})})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5 text-purple-500"})," "]})}),n.jsx(pe,{children:n.jsx(kue,{})})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(O1,{className:"h-5 w-5 text-emerald-500"})," "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round((j["paid-full"]||0)/Math.max(l.length,1)*100),"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(((j["paid-full"]||0)+(j["paid-partial"]||0))/Math.max(l.length,1)*100),"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:f.length>0?"":""}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"SLA "})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m.length+h.length}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"  "})]})]})})]})]})}function ir(e){const{isAdmin:t,user:r}=vc(),[a,s]=x.useState({currentDictionary:e,selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}),[i,l]=x.useState([]),[u,d]=x.useState(null),f=As.getInstance(),m=x.useMemo(()=>f.getHandler(e),[f,e]),h=x.useCallback(async()=>{s(M=>({...M,isLoading:!0,error:null}));try{const M=await m.getItems();l(M),s(P=>({...P,pagination:{...P.pagination,total:M.length,totalPages:Math.ceil(M.length/P.pagination.pageSize)}}))}catch(M){s(P=>({...P,error:M instanceof Error?M.message:"Failed to load items"}))}finally{s(M=>({...M,isLoading:!1}))}},[m]),g=x.useCallback(async()=>{try{const M=await m.getStatistics();d(M)}catch(M){console.error("Failed to load statistics:",M)}},[m]),j=x.useCallback(async M=>{s(P=>({...P,searchQuery:M,isLoading:!0}));try{const P=await m.searchItems(M);l(P)}catch(P){s(O=>({...O,error:P instanceof Error?P.message:"Search failed"}))}finally{s(P=>({...P,isLoading:!1}))}},[m]),w=x.useCallback(async M=>{s(P=>({...P,filters:M,isLoading:!0}));try{const P=await m.getItemsByFilter(M);l(P)}catch(P){s(O=>({...O,error:P instanceof Error?P.message:"Filter failed"}))}finally{s(P=>({...P,isLoading:!1}))}},[m]),b=x.useCallback(async M=>{s(P=>({...P,isLoading:!0,error:null}));try{const P=await m.createItem(M);return l(O=>[...O,P]),s(O=>({...O,editingItem:null})),P}catch(P){const O=P instanceof Error?P.message:"Failed to create item";throw s(K=>({...K,error:O})),P}finally{s(P=>({...P,isLoading:!1}))}},[m]),v=x.useCallback(async(M,P)=>{s(O=>({...O,isLoading:!0,error:null}));try{const O=await m.updateItem(M,P);return l(K=>K.map(V=>V.id===M?O:V)),s(K=>({...K,editingItem:null})),O}catch(O){const K=O instanceof Error?O.message:"Failed to update item";throw s(V=>({...V,error:K})),O}finally{s(O=>({...O,isLoading:!1}))}},[m]),N=x.useCallback(async M=>{s(P=>({...P,isLoading:!0,error:null}));try{const P=await m.deleteItem(M);return P&&(l(O=>O.filter(K=>K.id!==M)),s(O=>({...O,selectedItems:O.selectedItems.filter(K=>K!==M)}))),P}catch(P){const O=P instanceof Error?P.message:"Failed to delete item";return s(K=>({...K,error:O})),!1}finally{s(P=>({...P,isLoading:!1}))}},[m]),C=x.useCallback(async M=>{s(P=>({...P,isLoading:!0,error:null}));try{const P=await m.bulkCreate(M);return l(O=>[...O,...P]),P}catch(P){const O=P instanceof Error?P.message:"Failed to create items";throw s(K=>({...K,error:O})),P}finally{s(P=>({...P,isLoading:!1}))}},[m]),S=x.useCallback(async M=>{s(P=>({...P,isLoading:!0,error:null}));try{const P=await m.bulkUpdate(M);return l(O=>{const K=new Map(P.map(V=>[V.id,V]));return O.map(V=>K.get(V.id)||V)}),s(O=>({...O,selectedItems:[]})),P}catch(P){const O=P instanceof Error?P.message:"Failed to update items";throw s(K=>({...K,error:O})),P}finally{s(P=>({...P,isLoading:!1}))}},[m]),A=x.useCallback(async M=>{s(P=>({...P,isLoading:!0,error:null}));try{const P=await m.bulkDelete(M);return P&&(l(O=>O.filter(K=>!M.includes(K.id))),s(O=>({...O,selectedItems:[]}))),P}catch(P){const O=P instanceof Error?P.message:"Failed to delete items";return s(K=>({...K,error:O})),!1}finally{s(P=>({...P,isLoading:!1}))}},[m]),_=x.useCallback(async M=>{try{return await m.exportItems(M)}catch(P){const O=P instanceof Error?P.message:"Failed to export items";throw s(K=>({...K,error:O})),P}},[m]),T=x.useCallback(async M=>{s(P=>({...P,isLoading:!0,error:null}));try{const P=await m.importItems(M);return P.success.length>0&&l(O=>[...O,...P.success]),P}catch(P){const O=P instanceof Error?P.message:"Failed to import items";throw s(K=>({...K,error:O})),P}finally{s(P=>({...P,isLoading:!1}))}},[m]),k=x.useCallback(M=>m.validateItem(M),[m]),D=x.useCallback(M=>{s(P=>({...P,selectedItems:P.selectedItems.includes(M)?P.selectedItems.filter(O=>O!==M):[...P.selectedItems,M]}))},[]),I=x.useCallback(()=>{s(M=>({...M,selectedItems:i.map(P=>P.id)}))},[i]),B=x.useCallback(()=>{s(M=>({...M,selectedItems:[]}))},[]),z=x.useCallback(M=>{s(P=>({...P,editingItem:M}))},[]),H=x.useCallback(M=>{s(P=>({...P,bulkActionMode:M,selectedItems:M?P.selectedItems:[]}))},[]),W=x.useCallback(M=>{s(P=>({...P,pagination:{...P.pagination,...M}}))},[]),Z=x.useCallback(()=>{s(M=>({...M,error:null}))},[]),$=x.useCallback(async()=>{const M=[h()];t&&M.push(g()),await Promise.all(M)},[h,g,t]);return x.useEffect(()=>{e==="counterparties"&&r?.roles?.some(M=>M.code==="EXECUTOR")||(h(),t&&g())},[h,g,t,e,r]),{items:i,statistics:u,state:a,loadItems:h,loadStatistics:g,searchItems:j,filterItems:w,createItem:b,updateItem:v,deleteItem:N,bulkCreate:C,bulkUpdate:S,bulkDelete:A,exportItems:_,importItems:T,validateItem:k,selectItem:D,selectAllItems:I,clearSelection:B,setEditingItem:z,setBulkActionMode:H,updatePagination:W,clearError:Z,refresh:$}}function Pue(e,t){const r=typeof e=="string"?parseFloat(e):e;if(isNaN(r))return"0,00";const s=r.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!0}).replace(/\s/g," ");return t?`${s} ${t}`:s}function $r(e,t="KZT"){return Pue(e,t)}const p3=(e={})=>{const[t,r]=x.useState([]),[a,s]=x.useState(!1),[i,l]=x.useState(null),[u,d]=x.useState(!0),[f,m]=x.useState(0),{status:h,searchTerm:g,counterpartyFilter:j,page:w=1,limit:b=10}=e,v=x.useCallback(async()=>{try{s(!0),l(null);const C=new URLSearchParams;C.append("role","EXECUTOR"),h&&h!=="all"&&C.append("status",h),g&&C.append("search",g),j&&j!=="all"&&C.append("counterparty_id",j),C.append("page",w.toString()),C.append("limit",b.toString());const S=await it.getAll({role:"EXECUTOR"});let A=S;h&&h!=="all"&&(A=S.filter(_=>_.status===h)),g&&(A=A.filter(_=>_.requestNumber?.toLowerCase().includes(g.toLowerCase())||_.description?.toLowerCase().includes(g.toLowerCase()))),j&&j!=="all"&&(A=A.filter(_=>_.counterpartyId===j)),r(A),d(A.length===b),m(A.length)}catch(C){const S=C instanceof Error?C.message:"Failed to fetch requests";l(S),console.error("Error fetching executor requests:",C)}finally{s(!1)}},[h,g,j,w,b]),N=x.useCallback(async()=>{await v()},[v]);return x.useEffect(()=>{v()},[v]),{data:t,loading:a,error:i,refetch:N,hasMore:u,totalCount:f}},Yu=(e,t="dd.MM.yyyy")=>{if(!e)return" ";try{const r=new Date(e);return isNaN(r.getTime())?" ":ht(r,t,{locale:St})}catch(r){return console.warn("Error formatting date:",r)," "}};function Oue({onViewRequest:e,onCreateRequest:t}){const[r,a]=x.useState(null),[s,i]=x.useState(1),[l,u]=x.useState(""),d=5,{items:f}=ir("counterparties"),{data:m,loading:h,error:g}=p3({status:r&&r!=="total"?r:void 0,page:s,limit:d}),{statistics:j,loading:w,error:b}=sM("EXECUTOR"),v=h||w,N=g||b,C=x.useMemo(()=>{let H=[...m];if(r)switch(r){case"draft":H=H.filter(W=>W.status==="draft");break;case"submitted":H=H.filter(W=>W.status==="submitted");break;case"in-register":H=H.filter(W=>W.status==="in-register");break;case"to-pay":H=H.filter(W=>W.status==="to-pay");break;case"rejected":H=H.filter(W=>W.status==="rejected");break}return H.sort((W,Z)=>{try{const $=new Date(W.createdAt),M=new Date(Z.createdAt);return isNaN($.getTime())||isNaN(M.getTime())?0:M.getTime()-$.getTime()}catch{return 0}})},[m,r]),S=Math.ceil(C.length/d),A=(s-1)*d,_=A+d,T=C.slice(A,_),k=x.useMemo(()=>j?{total:j.totalRequests||0,inProgress:j.submittedCount||0,approvedNotPaid:j.inRegistryCount||0,paid:(j.paidFullCount||0)+(j.paidPartialCount||0),declined:j.rejectedCount||0,draft:j.draftCount||0,totalAmount:j.totalAmount||0}:{total:0,inProgress:0,approvedNotPaid:0,paid:0,declined:0,draft:0,totalAmount:0},[j]),D=x.useCallback(H=>f.find(W=>W.id===H)?.name||"",[f]),I=x.useCallback(H=>{a(r===H?null:H),i(1)},[r]),B=x.useCallback(H=>{u(H.target.value)},[]),z=x.useCallback(H=>{if(H.key==="Enter"){const W=parseInt(l);W>=1&&W<=S&&(i(W),u(""))}},[l,S]);return v?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"   "})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Dr,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"text-muted-foreground",children:"  ..."})]})})]}):N?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"   "})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ot,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  "}),n.jsx("p",{className:"text-muted-foreground mb-4",children:N}),n.jsx(X,{onClick:()=>window.location.reload(),variant:"outline",children:" "})]})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"   "})]}),n.jsxs(X,{onClick:t,children:[n.jsx(on,{className:"h-4 w-4 mr-2"})," "]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:" "}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="draft"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("draft"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(FB,{className:"h-3 w-3 text-gray-500"}),n.jsx("span",{className:"text-xs font-medium",children:""})]}),n.jsx("div",{className:"text-lg font-semibold",children:k.draft})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="submitted"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("submitted"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Zt,{className:"h-3 w-3 text-orange-500"}),n.jsx("span",{className:"text-xs font-medium",children:" "})]}),n.jsx("div",{className:"text-lg font-semibold",children:k.inProgress})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="in-register"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("in-register"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(mt,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{className:"text-xs font-medium",children:""})]}),n.jsx("div",{className:"text-lg font-semibold",children:k.approvedNotPaid})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="to-pay"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("to-pay"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(mt,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{className:"text-xs font-medium",children:""})]}),n.jsx("div",{className:"text-lg font-semibold",children:k.paid})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="rejected"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("rejected"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ot,{className:"h-3 w-3 text-red-500"}),n.jsx("span",{className:"text-xs font-medium",children:""})]}),n.jsx("div",{className:"text-lg font-semibold",children:k.declined})]}),n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${r==="total"?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>I("total"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(yt,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs font-medium",children:""})]}),n.jsx("div",{className:"text-lg font-semibold",children:k.total})]})]})]})}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ae,{children:" "}),n.jsx("div",{className:"text-sm text-muted-foreground",children:C.length>0&&n.jsxs("span",{children:[" ",A+1,"-",Math.min(_,C.length),"  ",C.length]})})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"space-y-3",children:[T.map(H=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>e?.(H.id),children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:H.requestNumber}),n.jsx("p",{className:"text-sm text-muted-foreground",children:D(H.counterpartyId)})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-medium",children:$r(H.amount,H.currency)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:Yu(H.createdAt)})]}),n.jsx(qo,{status:H.status})]})]},H.id)),C.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"   "})]}),S>1&&n.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(1),disabled:s===1,className:"hidden sm:flex",children:""}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(H=>Math.max(H-1,1)),disabled:s===1,children:""}),n.jsxs("span",{className:"text-sm text-muted-foreground hidden sm:block",children:[" ",s,"  ",S]}),n.jsxs("span",{className:"text-sm text-muted-foreground sm:hidden",children:[s,"/",S]}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(H=>Math.min(H+1,S)),disabled:s===S,children:""}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(S),disabled:s===S,className:"hidden sm:flex",children:""})]}),n.jsx("div",{className:"flex items-center gap-1 overflow-x-auto",children:(()=>{const W=[];if(S<=7)for(let Z=1;Z<=S;Z++)W.push(n.jsx(X,{variant:s===Z?"default":"outline",size:"sm",onClick:()=>i(Z),className:"w-8 h-8 p-0",children:Z},Z));else{const Z=Math.floor(3.5);W.push(n.jsx(X,{variant:s===1?"default":"outline",size:"sm",onClick:()=>i(1),className:"w-8 h-8 p-0",children:"1"},1)),s>Z+2&&W.push(n.jsx("span",{className:"px-2 text-muted-foreground",children:"..."},"ellipsis1"));const $=Math.max(2,s-Z),M=Math.min(S-1,s+Z);for(let P=$;P<=M;P++)P!==1&&P!==S&&W.push(n.jsx(X,{variant:s===P?"default":"outline",size:"sm",onClick:()=>i(P),className:"w-8 h-8 p-0",children:P},P));s<S-Z-1&&W.push(n.jsx("span",{className:"px-2 text-muted-foreground",children:"..."},"ellipsis2")),S>1&&W.push(n.jsx(X,{variant:s===S?"default":"outline",size:"sm",onClick:()=>i(S),className:"w-8 h-8 p-0",children:S},S))}return W})()}),S>10&&n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:" :"}),n.jsx(Ie,{type:"number",min:"1",max:S,value:l,onChange:B,onKeyDown:z,placeholder:"",className:"w-16 h-8 text-center"})]})]})]})]})]})}function tO({currentRole:e,onFilterChange:t,currentFilter:r,onViewRequest:a,onCreateRequest:s,paymentRequests:i=[]}){const[l,u]=x.useState([]),[d,f]=x.useState(!1),[m,h]=x.useState(null),{items:g}=ir("counterparties");if(x.useEffect(()=>{(async()=>{f(!0),h(null);try{const T=await it.getAll({role:e});u(T)}catch(T){console.error("Dashboard: Error loading payment requests:",T),h("   "),u([])}finally{f(!1)}})()},[e]),e==="EXECUTOR")return n.jsx(Oue,{onViewRequest:a,onCreateRequest:s});const j=i.length>0?i:l,b=(()=>{const _=j;if(e==="REGISTRAR"){const $=_.filter(F=>["submitted","classified","returned","declined"].includes(F.status)),M=_.filter(F=>F.status==="submitted"),P=_.filter(F=>F.status==="classified"),O=_.filter(F=>F.status==="declined"),K=_.filter(F=>F.status==="returned"),V=new Date;V.setHours(0,0,0,0);const q=M.filter(F=>{try{const L=new Date(F.dueDate);return isNaN(L.getTime())?!1:(L.setHours(0,0,0,0),L<V)}catch{return!1}});return{total:$.length,newRequests:M.length,inProgress:M.length,registered:P.length,overdueCount:q.length,returnedForRevision:K.length,declinedStats:O.length}}if(e==="DISTRIBUTOR"){const $=_.filter(ee=>["classified","approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(ee.status)),M=_.filter(ee=>ee.status==="classified"),P=_.filter(ee=>ee.status==="approved"),O=new Date;O.setHours(0,0,0,0);const K=M.filter(ee=>{try{const ce=new Date(ee.dueDate);return isNaN(ce.getTime())?!1:(ce.setHours(0,0,0,0),ce<O)}catch{return!1}}),V=_.filter(ee=>["classified"].includes(ee.status)).length,q=_.filter(ee=>ee.status==="returned").length,F=_.filter(ee=>["approved","in-register","approved-for-payment"].includes(ee.status)).length,L=_.filter(ee=>["paid-full","paid-partial"].includes(ee.status)).length,Y=_.filter(ee=>ee.status==="declined").length;return{total:$.length,newRequests:M.length,toApprove:M.length,approved:P.length,overdueCount:K.length,totalAmount:[...M,...P].reduce((ee,ce)=>ee+ce.amount,0),inWork:V,returnedForRevision:q,approvedForPayment:F,paid:L,declined:Y}}if(e==="EXECUTOR"){const $=_.filter(ce=>["draft","submitted","classified","approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(ce.status)),M=_.filter(ce=>ce.status==="draft"),P=_.filter(ce=>ce.status==="submitted"),O=_.filter(ce=>ce.status==="classified"),K=_.filter(ce=>ce.status==="approved"),V=_.filter(ce=>ce.status==="in-register"),q=_.filter(ce=>["paid-full","paid-partial"].includes(ce.status)),F=_.filter(ce=>ce.status==="declined"),L=_.filter(ce=>ce.status==="returned"),Y=P.length+O.length+K.length+V.length,ee=K.length+V.length;return{total:$.length,draft:M.length,inProgress:Y,approvedNotPaid:ee,paid:q.length,declined:F.length,returnedForRevision:L.length,totalAmount:$.reduce((ce,G)=>ce+(G.amount||0),0)}}const T=_.filter($=>["approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes($.status)),k=_.filter($=>$.status==="approved"),D=new Date;D.setHours(0,0,0,0);const I=k.filter($=>{try{const M=new Date($.dueDate);return isNaN(M.getTime())?!1:(M.setHours(0,0,0,0),M<D)}catch{return!1}}),B=_.filter($=>["approved"].includes($.status)).length,z=_.filter($=>$.status==="returned").length,H=_.filter($=>["in-register"].includes($.status)).length,W=_.filter($=>["paid-full","paid-partial"].includes($.status)).length,Z=_.filter($=>$.status==="declined").length;return{total:T.length,newRequests:k.length,overdueCount:I.length,inWork:B,returnedForRevision:z,inRegister:H,paid:W,declined:Z}})(),N=(()=>{let T=[...j];if(e==="REGISTRAR"){if(T=T.filter(k=>["submitted","classified","returned","declined"].includes(k.status)),r)switch(r){case"total":break;case"newRequests":T=T.filter(k=>k.status==="submitted");break;case"overdue":T=T.filter(k=>{if(k.status==="submitted")try{const D=new Date(k.dueDate);if(isNaN(D.getTime()))return!1;const I=new Date;return I.setHours(0,0,0,0),D.setHours(0,0,0,0),D<I}catch{return!1}return!1});break}}else if(e==="DISTRIBUTOR"){if(T=T.filter(k=>["classified","approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(k.status)),r){const k=new Date;switch(k.setHours(0,0,0,0),r){case"total":break;case"newRequests":T=T.filter(D=>D.status==="classified");break;case"overdue":T=T.filter(D=>{if(D.status==="classified")try{const I=new Date(D.dueDate);return isNaN(I.getTime())?!1:(I.setHours(0,0,0,0),I<k)}catch{return!1}return!1});break;case"approved":T=T.filter(D=>["approved","in-register","approved-for-payment"].includes(D.status));break;case"returned":T=T.filter(D=>D.status==="returned");break;case"paid":T=T.filter(D=>["paid-full","paid-partial"].includes(D.status));break}}}else if(e==="TREASURER"&&(T=T.filter(k=>["approved","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(k.status)),r))switch(r){case"total":break;case"newRequests":T=T.filter(k=>k.status==="approved");break;case"overdue":T=T.filter(k=>{if(k.status==="approved")try{const D=new Date(k.dueDate);if(isNaN(D.getTime()))return!1;const I=new Date;return I.setHours(0,0,0,0),D.setHours(0,0,0,0),D<I}catch{return!1}return!1});break}return T.sort((k,D)=>{try{const I=new Date(k.createdAt),B=new Date(D.createdAt);return isNaN(I.getTime())||isNaN(B.getTime())?0:B.getTime()-I.getTime()}catch{return 0}}).slice(0,5)})(),C=_=>g.find(T=>T.id===_)?.name||"",S=_=>{try{const T=new Date(_);return isNaN(T.getTime())?" ":ht(T,"d MMM",{locale:St})}catch{return" "}},A=_=>{if(console.log("Dashboard: Filter clicked:",_,"Current filter:",r),t){const T=r===_?null:_;console.log("Dashboard: Setting new filter:",T),t(T)}};return d?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"   "})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Dr,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"text-muted-foreground",children:"  ..."})]})})]}):m?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"   "})]}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ot,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  "}),n.jsx("p",{className:"text-muted-foreground mb-4",children:m}),n.jsx(X,{onClick:()=>window.location.reload(),variant:"outline",children:" "})]})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"   "})]}),e!=="EXECUTOR"&&n.jsxs("div",{className:`grid gap-4 ${e==="DISTRIBUTOR"?"grid-cols-1 md:grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"}`,children:[e==="REGISTRAR"&&n.jsxs(n.Fragment,{children:[n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="total"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("total"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:b.total}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="newRequests"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("newRequests"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Ot,{className:"h-4 w-4 text-orange-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:b.newRequests}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="overdue"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("overdue"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Ot,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.overdueCount||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),e==="DISTRIBUTOR"&&n.jsxs(n.Fragment,{children:[n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="newRequests"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("newRequests"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Ot,{className:"h-4 w-4 text-orange-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:b.inWork||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="overdue"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("overdue"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(pr,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.overdueCount||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="approved"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("approved"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(mt,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.approvedForPayment||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="returned"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("returned"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(ka,{className:"h-4 w-4 text-blue-500"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.returnedForRevision||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),n.jsxs(me,{className:`cursor-pointer transition-all hover:shadow-md ${r==="paid"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>A("paid"),children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Kn,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-700",children:b.paid||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),e==="TREASURER"&&n.jsx("div",{className:"col-span-full",children:n.jsx(Iue,{paymentRequests:i.length>0?i:l,onFilterChange:t,currentFilter:r,onViewRequest:a})})]}),e!=="treasurer"&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-3",children:[N.map(_=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>a?.(_.id),children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:_.requestNumber}),n.jsx("p",{className:"text-sm text-muted-foreground",children:C(_.counterpartyId)})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-medium",children:$r(_.amount,_.currency)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S(_.createdAt)})]}),n.jsx(qo,{status:_.status})]})]},_.id)),N.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"   "})]})})]})]})}function Lr({className:e,...t}){return n.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:n.jsx("table",{"data-slot":"table",className:We("w-full caption-bottom text-sm",e),...t})})}function Fr({className:e,...t}){return n.jsx("thead",{"data-slot":"table-header",className:We("[&_tr]:border-b",e),...t})}function Ur({className:e,...t}){return n.jsx("tbody",{"data-slot":"table-body",className:We("[&_tr:last-child]:border-0",e),...t})}function pt({className:e,...t}){return n.jsx("tr",{"data-slot":"table-row",className:We("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Ce({className:e,...t}){return n.jsx("th",{"data-slot":"table-head",className:We("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Se({className:e,...t}){return n.jsx("td",{"data-slot":"table-cell",className:We("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Due({filteredRequests:e,currentFilter:t,onFilterClick:r}){const a=()=>{const u=new Date(Date.now()-18e6);return e.filter(d=>d.status==="submitted"&&new Date(d.createdAt)<u).length},s=[{id:"in-work",title:" ",value:e.filter(u=>u.status==="submitted").length,icon:n.jsx(Ot,{className:"h-4 w-4 text-orange-500"}),color:"text-orange-500",isClickable:!0,filterType:"in-work",tooltip:",   "},{id:"registered",title:"",value:e.filter(u=>u.status==="classified").length,icon:n.jsx(yt,{className:"h-4 w-4 text-green-500"}),color:"text-green-500",isClickable:!0,filterType:"registered",tooltip:",     "},{id:"overdue",title:"",value:a(),icon:n.jsx(pr,{className:"h-4 w-4 text-red-500"}),color:"text-red-500",isClickable:!0,filterType:"overdue",tooltip:",   5      "},{id:"returned",title:"  ",value:e.filter(u=>u.status==="returned").length,icon:n.jsx(ss,{className:"h-4 w-4 text-blue-500"}),color:"text-blue-500",isClickable:!0,filterType:"returned",tooltip:",    "},{id:"declined",title:"",value:e.filter(u=>u.status==="declined").length,icon:n.jsx(yt,{className:"h-4 w-4 text-red-600"}),color:"text-red-600",isClickable:!0,filterType:"declined",tooltip:" "}],i=u=>{u.isClickable&&u.filterType&&r(u.filterType)},l=u=>{const d="transition-all duration-300 ease-out";if(u.isClickable){const f=t===u.filterType;return`${d} cursor-pointer hover:shadow-lg hover:scale-[1.03] active:scale-[0.98] ${f?"ring-2 ring-primary shadow-lg scale-[1.02] bg-primary/5 border-primary/20":"hover:bg-accent/30 hover:border-primary/30"}`}return`${d} hover:shadow-md hover:scale-[1.01]`};return n.jsx(Tp,{children:n.jsxs("div",{className:"space-y-4",children:[t&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in-50 duration-300",children:[n.jsx(Fi,{className:"h-4 w-4 text-primary"}),n.jsxs("span",{className:"text-sm",children:[" : ",n.jsx("strong",{children:s.find(u=>u.filterType===t)?.title})]}),n.jsxs(je,{variant:"secondary",className:"ml-2",children:[e.length," "]}),n.jsxs(ad,{children:[n.jsx(sd,{asChild:!0,children:n.jsx("div",{children:n.jsx(X,{variant:"ghost",size:"sm",className:"ml-auto h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>r(t),children:n.jsx(cp,{className:"h-3 w-3"})})})}),n.jsx(id,{children:n.jsx("p",{children:" "})})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:s.map(u=>n.jsxs(ad,{children:[n.jsx(sd,{asChild:!0,children:n.jsx("div",{children:n.jsx(me,{className:l(u),onClick:()=>i(u),children:n.jsxs(pe,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:u.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:u.title}),n.jsx("p",{className:"text-2xl font-semibold mt-1",children:u.value.toLocaleString()})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[!u.isClickable&&n.jsx("span",{className:"text-xs text-muted-foreground",children:" "}),t===u.filterType&&n.jsx(je,{variant:"default",size:"sm",className:"animate-pulse",children:""})]})]})})})}),n.jsx(id,{side:"bottom",className:"max-w-xs",children:n.jsx("p",{children:u.tooltip})})]},u.id))})]})})}function Mue({filteredRequests:e,currentFilter:t,onFilterClick:r}){const a=[{id:"in-work",title:" ",value:e.filter(l=>l.status==="classified").length,icon:n.jsx(Ot,{className:"h-4 w-4 text-orange-500"}),color:"text-orange-500",isClickable:!0,filterType:"in-work",tooltip:",   "},{id:"returned-for-revision",title:"  ",value:e.filter(l=>l.status==="returned").length,icon:n.jsx(ka,{className:"h-4 w-4 text-blue-500"}),color:"text-blue-500",isClickable:!0,filterType:"returned-for-revision",tooltip:",   "},{id:"approved-for-payment",title:"  ",value:e.filter(l=>["approved","approved-on-behalf","in-register","approved-for-payment"].includes(l.status)).length,icon:n.jsx(mt,{className:"h-4 w-4 text-green-500"}),color:"text-green-500",isClickable:!0,filterType:"approved-for-payment",tooltip:",   "},{id:"approved-on-behalf",title:"   -",value:e.filter(l=>l.status==="approved-on-behalf").length,icon:n.jsx(mt,{className:"h-4 w-4 text-purple-500"}),color:"text-purple-500",isClickable:!0,filterType:"approved-on-behalf",tooltip:",    "},{id:"paid",title:"",value:e.filter(l=>["paid-full","paid-partial"].includes(l.status)).length,icon:n.jsx(Kn,{className:"h-4 w-4 text-green-600"}),color:"text-green-600",isClickable:!0,filterType:"paid",tooltip:" "},{id:"declined",title:"",value:e.filter(l=>l.status==="declined").length,icon:n.jsx(Vn,{className:"h-4 w-4 text-red-500"}),color:"text-red-500",isClickable:!0,filterType:"declined",tooltip:" "}],s=l=>{l.isClickable&&l.filterType&&r(l.filterType)},i=l=>{const u="transition-all duration-300 ease-out";if(l.isClickable){const d=t===l.filterType;return`${u} cursor-pointer hover:shadow-lg hover:scale-[1.03] active:scale-[0.98] ${d?"ring-2 ring-primary shadow-lg scale-[1.02] bg-primary/5 border-primary/20":"hover:bg-accent/30 hover:border-primary/30"}`}return`${u} hover:shadow-md hover:scale-[1.01]`};return n.jsx(Tp,{children:n.jsxs("div",{className:"space-y-4",children:[t&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in-50 duration-300",children:[n.jsx(Fi,{className:"h-4 w-4 text-primary"}),n.jsxs("span",{className:"text-sm",children:[" : ",n.jsx("strong",{children:a.find(l=>l.filterType===t)?.title})]}),n.jsxs(je,{variant:"secondary",className:"ml-2",children:[e.length," "]}),n.jsxs(ad,{children:[n.jsx(sd,{asChild:!0,children:n.jsx("div",{children:n.jsx(X,{variant:"ghost",size:"sm",className:"ml-auto h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>r(t),children:n.jsx(cp,{className:"h-3 w-3"})})})}),n.jsx(id,{children:n.jsx("p",{children:" "})})]})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:a.map(l=>n.jsxs(ad,{children:[n.jsx(sd,{asChild:!0,children:n.jsx("div",{children:n.jsx(me,{className:i(l),onClick:()=>s(l),children:n.jsxs(pe,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-shrink-0",children:l.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground truncate leading-tight",children:l.title}),n.jsx("p",{className:"text-xl font-semibold mt-0.5",children:l.value.toLocaleString()})]})]}),t===l.filterType&&n.jsx("div",{className:"mt-2 flex justify-end",children:n.jsx(je,{variant:"default",size:"sm",className:"animate-pulse text-xs",children:""})})]})})})}),n.jsx(id,{side:"bottom",className:"max-w-xs",children:n.jsx("p",{children:l.tooltip})})]},l.id))})]})})}function $ue({currentRole:e,onCreateRequest:t,onViewRequest:r,dashboardFilter:a,onClearFilter:s,paymentRequests:i}){const{items:l}=ir("counterparties"),[u,d]=x.useState(""),[f,m]=x.useState("all"),[h,g]=x.useState("all"),[j,w]=x.useState(null),[b,v]=x.useState([]),[N,C]=x.useState(!0),[S,A]=x.useState(null);x.useEffect(()=>{(async()=>{try{if(C(!0),A(null),i&&i.length>0)v(i);else{const M=await it.getAll({role:e,status:a||void 0});v(M)}}catch(M){console.error("Error loading requests:",M),A("  "),v([])}finally{C(!1)}})()},[e,a,i]);const _=$=>{try{const M=new Date($);return isNaN(M.getTime())?" ":ht(M,"d MMM",{locale:St})}catch{return" "}},T=$=>{try{const M=new Date($);return isNaN(M.getTime())?" ":ht(M,"d MMM HH:mm",{locale:St})}catch{return" "}},k=$=>{try{const M=new Date($);return!isNaN(M.getTime())&&M<new Date}catch{return!1}},D=($,M)=>{try{const P=new Date($);if(isNaN(P.getTime()))return!1;const O=new Date(Date.now()-M*60*60*1e3);return P<O}catch{return!1}},I=x.useMemo(()=>{let $=[...b];if(e==="REGISTRAR"){if($=$.filter(M=>["submitted","classified","returned","declined","approved","in-register","paid-full","paid-partial"].includes(M.status)),j)switch(j){case"draft":$=$.filter(M=>M.status==="draft");break;case"inProgress":$=$.filter(M=>["submitted","classified","approved","in-register"].includes(M.status));break;case"approvedNotPaid":$=$.filter(M=>["approved","in-register"].includes(M.status));break;case"paid":$=$.filter(M=>["paid-full","paid-partial"].includes(M.status));break;case"declined":$=$.filter(M=>["declined","rejected"].includes(M.status));break;case"total":break;case"newRequests":$=$.filter(M=>M.status==="submitted");break;case"overdue":$=$.filter(M=>M.status==="submitted"&&D(M.createdAt,5));break}}else if(e==="DISTRIBUTOR"){if($=$.filter(M=>["classified","approved","approved-on-behalf","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(M.status)),j)switch(j){case"total":break;case"in-work":$=$.filter(M=>M.status==="classified");break;case"returned-for-revision":$=$.filter(M=>M.status==="returned");break;case"approved-for-payment":$=$.filter(M=>["approved","approved-on-behalf","in-register","approved-for-payment"].includes(M.status));break;case"approved-on-behalf":$=$.filter(M=>M.status==="approved-on-behalf");break;case"paid":$=$.filter(M=>["paid-full","paid-partial"].includes(M.status));break;case"declined":$=$.filter(M=>M.status==="declined");break;case"newRequests":$=$.filter(M=>M.status==="classified");break;case"overdue":$=$.filter(M=>M.status==="classified"&&D(M.createdAt,5));break}}else if(e==="TREASURER"&&($=$.filter(M=>["approved","approved-on-behalf","in-register","approved-for-payment","paid-full","paid-partial","declined","returned"].includes(M.status)),j))switch(j){case"total":break;case"newRequests":$=$.filter(M=>["approved","approved-on-behalf"].includes(M.status));break;case"overdue":$=$.filter(M=>["approved","approved-on-behalf"].includes(M.status)&&D(M.createdAt,5));break}return u&&($=$.filter(M=>{const P=l.find(O=>O.id===M.counterpartyId);return M.docNumber.toLowerCase().includes(u.toLowerCase())||M.requestNumber?.toLowerCase().includes(u.toLowerCase())||M.description.toLowerCase().includes(u.toLowerCase())||P?.name.toLowerCase().includes(u.toLowerCase())||M.amount.toString().includes(u)})),f!=="all"&&($=$.filter(M=>M.counterpartyId===f)),h!=="all"&&($=$.filter(M=>M.status===h)),$.sort((M,P)=>{try{const O=new Date(M.createdAt),K=new Date(P.createdAt);return isNaN(O.getTime())||isNaN(K.getTime())?0:K.getTime()-O.getTime()}catch{return 0}})},[b,u,f,h,e,j,a,l]),B=$=>l.find(M=>M.id===$)?.name||"",z=()=>[...new Set(b.map(M=>M.counterpartyId))].map(M=>{const P=l.find(O=>O.id===M);return P?{id:M,name:P.name}:{id:M,name:""}}).sort((M,P)=>M.name.localeCompare(P.name)),H=$=>{switch($){case"submitted":return"";case"classified":case"allocated":return"";case"approved":case"approved-on-behalf":case"in-register":case"approved-for-payment":return"";case"paid-full":case"paid-partial":return"";case"declined":case"cancelled":return"";case"returned":return"";case"draft":return" ";default:return"-"}},W=$=>{w(j===$?null:$)},Z=()=>I.filter($=>["approved","approved-on-behalf"].includes($.status)&&D($.createdAt,5)).length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"  "}),n.jsx("p",{className:"text-muted-foreground",children:e==="REGISTRAR"?"  ":e==="DISTRIBUTOR"?"  ":e==="TREASURER"?"  ":""})]}),n.jsx("div",{className:"flex gap-2",children:a&&n.jsx(X,{variant:"outline",onClick:s,children:" "})})]}),(e==="REGISTRAR"||e==="DISTRIBUTOR")&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Fi,{className:"h-4 w-4"}),""]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{placeholder:"  , ...",value:u,onChange:$=>d($.target.value),className:"pl-10"})]}),n.jsxs(et,{value:f,onValueChange:m,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:""})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),z().map($=>n.jsx(xe,{value:$.id,children:$.name},$.id))]})]}),n.jsxs(et,{value:h,onValueChange:g,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:""})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),n.jsx(xe,{value:"draft",children:""}),n.jsx(xe,{value:"submitted",children:""}),n.jsx(xe,{value:"classified",children:""}),n.jsx(xe,{value:"approved",children:""}),n.jsx(xe,{value:"in-register",children:" "}),n.jsx(xe,{value:"paid-full",children:" "}),n.jsx(xe,{value:"paid-partial",children:" "}),n.jsx(xe,{value:"declined",children:""}),n.jsx(xe,{value:"returned",children:""})]})]})]})})})]}),e==="REGISTRAR"?n.jsx(Due,{filteredRequests:I,currentFilter:j,onFilterClick:W}):e==="DISTRIBUTOR"?n.jsx(Mue,{filteredRequests:I,currentFilter:j,onFilterClick:W}):e==="TREASURER"?n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsx(me,{className:`cursor-pointer transition-all hover:shadow-md ${j==="total"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>W("total"),children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-xl font-semibold",children:I.length})]})]})})}),n.jsx(me,{className:`cursor-pointer transition-all hover:shadow-md ${j==="newRequests"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>W("newRequests"),children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-xl font-semibold",children:I.filter($=>["approved","approved-on-behalf"].includes($.status)).length})]})]})})}),n.jsx(me,{className:`cursor-pointer transition-all hover:shadow-md ${j==="overdue"?"ring-2 ring-primary shadow-md":""}`,onClick:()=>W("overdue"),children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-xl font-semibold",children:Z()})]})]})})})]}):n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-xl font-semibold",children:I.filter($=>["submitted","classified"].includes($.status)).length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"h-4 w-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-xl font-semibold",children:new Set(I.map($=>$.counterpartyId)).size})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-xl font-semibold",children:I.filter($=>k($.dueDate)).length})]})]})})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ae,{children:[" (",I.length,")"]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"})," xlsx"]})]}),n.jsx(pe,{children:N?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):S?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-500 mb-2",children:"  "}),n.jsx("p",{className:"text-muted-foreground text-sm",children:S})]})}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:"   "}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:I.map($=>n.jsxs(pt,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r?.($.id),children:[n.jsx(Se,{className:"font-medium",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:$.requestNumber||$.docNumber}),$.requestNumber&&n.jsx("span",{className:"text-xs text-muted-foreground",children:$.docNumber})]})}),n.jsx(Se,{children:B($.counterpartyId)}),n.jsx(Se,{children:n.jsx("div",{className:"flex items-center gap-1",children:n.jsx("span",{children:$r($.amount,$.currency)})})}),n.jsx(Se,{children:n.jsxs("div",{className:`flex items-center gap-2 ${k($.dueDate)?"text-red-600":""}`,children:[_($.dueDate),k($.dueDate)&&n.jsx(je,{variant:"destructive",className:"text-xs",children:""})]})}),n.jsx(Se,{children:n.jsx(qo,{status:$.status,showTooltip:e==="EXECUTOR",responsible:H($.status),statusTime:T($.updatedAt||$.createdAt)})}),n.jsx(Se,{className:"text-muted-foreground",children:H($.status)}),n.jsx(Se,{className:"text-muted-foreground",children:_($.createdAt)})]},$.id))})]}),I.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  "})]})})]})]})}var dt=function(){return dt=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},dt.apply(this,arguments)};function Lue(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function g3(e,t,r){for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function uf(e){return e.mode==="multiple"}function df(e){return e.mode==="range"}function hg(e){return e.mode==="single"}var Fue={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Uue(e,t){return ht(e,"LLLL y",t)}function Bue(e,t){return ht(e,"d",t)}function zue(e,t){return ht(e,"LLLL",t)}function que(e){return"".concat(e)}function Wue(e,t){return ht(e,"cccccc",t)}function Vue(e,t){return ht(e,"yyyy",t)}var Hue=Object.freeze({__proto__:null,formatCaption:Uue,formatDay:Bue,formatMonthCaption:zue,formatWeekNumber:que,formatWeekdayName:Wue,formatYearCaption:Vue}),Gue=function(e,t,r){return ht(e,"do MMMM (EEEE)",r)},Kue=function(){return"Month: "},Yue=function(){return"Go to next month"},Xue=function(){return"Go to previous month"},Que=function(e,t){return ht(e,"cccc",t)},Zue=function(e){return"Week n. ".concat(e)},Jue=function(){return"Year: "},ede=Object.freeze({__proto__:null,labelDay:Gue,labelMonthDropdown:Kue,labelNext:Yue,labelPrevious:Xue,labelWeekNumber:Zue,labelWeekday:Que,labelYearDropdown:Jue});function tde(){var e="buttons",t=Fue,r=l3,a={},s={},i=1,l={},u=new Date;return{captionLayout:e,classNames:t,formatters:Hue,labels:ede,locale:r,modifiersClassNames:a,modifiers:s,numberOfMonths:i,styles:l,today:u,mode:"default"}}function rde(e){var t=e.fromYear,r=e.toYear,a=e.fromMonth,s=e.toMonth,i=e.fromDate,l=e.toDate;return a?i=Xr(a):t&&(i=new Date(t,0,1)),s?l=uS(s):r&&(l=new Date(r,11,31)),{fromDate:i?pc(i):void 0,toDate:l?pc(l):void 0}}var v3=x.createContext(void 0);function nde(e){var t,r=e.initialProps,a=tde(),s=rde(r),i=s.fromDate,l=s.toDate,u=(t=r.captionLayout)!==null&&t!==void 0?t:a.captionLayout;u!=="buttons"&&(!i||!l)&&(u="buttons");var d;(hg(r)||uf(r)||df(r))&&(d=r.onSelect);var f=dt(dt(dt({},a),r),{captionLayout:u,classNames:dt(dt({},a.classNames),r.classNames),components:dt({},r.components),formatters:dt(dt({},a.formatters),r.formatters),fromDate:i,labels:dt(dt({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:dt(dt({},a.modifiers),r.modifiers),modifiersClassNames:dt(dt({},a.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:dt(dt({},a.styles),r.styles),toDate:l});return n.jsx(v3.Provider,{value:f,children:e.children})}function Gt(){var e=x.useContext(v3);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function x3(e){var t=Gt(),r=t.locale,a=t.classNames,s=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:a.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function ade(e){return n.jsx("svg",dt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function y3(e){var t,r,a=e.onChange,s=e.value,i=e.children,l=e.caption,u=e.className,d=e.style,f=Gt(),m=(r=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:ade;return n.jsxs("div",{className:u,style:d,children:[n.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:s,onChange:a,children:i}),n.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[l,n.jsx(m,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function sde(e){var t,r=Gt(),a=r.fromDate,s=r.toDate,i=r.styles,l=r.locale,u=r.formatters.formatMonthCaption,d=r.classNames,f=r.components,m=r.labels.labelMonthDropdown;if(!a)return n.jsx(n.Fragment,{});if(!s)return n.jsx(n.Fragment,{});var h=[];if($ce(a,s))for(var g=Xr(a),j=a.getMonth();j<=s.getMonth();j++)h.push(Ej(g,j));else for(var g=Xr(new Date),j=0;j<=11;j++)h.push(Ej(g,j));var w=function(v){var N=Number(v.target.value),C=Ej(Xr(e.displayMonth),N);e.onChange(C)},b=(t=f?.Dropdown)!==null&&t!==void 0?t:y3;return n.jsx(b,{name:"months","aria-label":m(),className:d.dropdown_month,style:i.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:l}),children:h.map(function(v){return n.jsx("option",{value:v.getMonth(),children:u(v,{locale:l})},v.getMonth())})})}function ide(e){var t,r=e.displayMonth,a=Gt(),s=a.fromDate,i=a.toDate,l=a.locale,u=a.styles,d=a.classNames,f=a.components,m=a.formatters.formatYearCaption,h=a.labels.labelYearDropdown,g=[];if(!s)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var j=s.getFullYear(),w=i.getFullYear(),b=j;b<=w;b++)g.push(JP(s3(new Date),b));var v=function(C){var S=JP(Xr(r),Number(C.target.value));e.onChange(S)},N=(t=f?.Dropdown)!==null&&t!==void 0?t:y3;return n.jsx(N,{name:"years","aria-label":h(),className:d.dropdown_year,style:u.dropdown_year,onChange:v,value:r.getFullYear(),caption:m(r,{locale:l}),children:g.map(function(C){return n.jsx("option",{value:C.getFullYear(),children:m(C,{locale:l})},C.getFullYear())})})}function ode(e,t){var r=x.useState(e),a=r[0],s=r[1],i=t===void 0?a:t;return[i,s]}function lde(e){var t=e.month,r=e.defaultMonth,a=e.today,s=t||r||a||new Date,i=e.toDate,l=e.fromDate,u=e.numberOfMonths,d=u===void 0?1:u;if(i&&zd(i,s)<0){var f=-1*(d-1);s=vn(i,f)}return l&&zd(s,l)<0&&(s=l),Xr(s)}function cde(){var e=Gt(),t=lde(e),r=ode(t,e.month),a=r[0],s=r[1],i=function(l){var u;if(!e.disableNavigation){var d=Xr(l);s(d),(u=e.onMonthChange)===null||u===void 0||u.call(e,d)}};return[a,i]}function ude(e,t){for(var r=t.reverseMonths,a=t.numberOfMonths,s=Xr(e),i=Xr(vn(s,a)),l=zd(i,s),u=[],d=0;d<l;d++){var f=vn(s,d);u.push(f)}return r&&(u=u.reverse()),u}function dde(e,t){if(!t.disableNavigation){var r=t.toDate,a=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,l=a?i:1,u=Xr(e);if(!r)return vn(u,l);var d=zd(r,e);if(!(d<i))return vn(u,l)}}function fde(e,t){if(!t.disableNavigation){var r=t.fromDate,a=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,l=a?i:1,u=Xr(e);if(!r)return vn(u,-l);var d=zd(u,r);if(!(d<=0))return vn(u,-l)}}var b3=x.createContext(void 0);function hde(e){var t=Gt(),r=cde(),a=r[0],s=r[1],i=ude(a,t),l=dde(a,t),u=fde(a,t),d=function(h){return i.some(function(g){return fS(h,g)})},f=function(h,g){d(h)||(g&&h3(h,g)?s(vn(h,1+t.numberOfMonths*-1)):s(h))},m={currentMonth:a,displayMonths:i,goToMonth:s,goToDate:f,previousMonth:u,nextMonth:l,isDateDisplayed:d};return n.jsx(b3.Provider,{value:m,children:e.children})}function ff(){var e=x.useContext(b3);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function rO(e){var t,r=Gt(),a=r.classNames,s=r.styles,i=r.components,l=ff().goToMonth,u=function(m){l(vn(m,e.displayIndex?-e.displayIndex:0))},d=(t=i?.CaptionLabel)!==null&&t!==void 0?t:x3,f=n.jsx(d,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:a.caption_dropdowns,style:s.caption_dropdowns,children:[n.jsx("div",{className:a.vhidden,children:f}),n.jsx(sde,{onChange:u,displayMonth:e.displayMonth}),n.jsx(ide,{onChange:u,displayMonth:e.displayMonth})]})}function mde(e){return n.jsx("svg",dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function pde(e){return n.jsx("svg",dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ap=x.forwardRef(function(e,t){var r=Gt(),a=r.classNames,s=r.styles,i=[a.button_reset,a.button];e.className&&i.push(e.className);var l=i.join(" "),u=dt(dt({},s.button_reset),s.button);return e.style&&Object.assign(u,e.style),n.jsx("button",dt({},e,{ref:t,type:"button",className:l,style:u}))});function gde(e){var t,r,a=Gt(),s=a.dir,i=a.locale,l=a.classNames,u=a.styles,d=a.labels,f=d.labelPrevious,m=d.labelNext,h=a.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var g=f(e.previousMonth,{locale:i}),j=[l.nav_button,l.nav_button_previous].join(" "),w=m(e.nextMonth,{locale:i}),b=[l.nav_button,l.nav_button_next].join(" "),v=(t=h?.IconRight)!==null&&t!==void 0?t:pde,N=(r=h?.IconLeft)!==null&&r!==void 0?r:mde;return n.jsxs("div",{className:l.nav,style:u.nav,children:[!e.hidePrevious&&n.jsx(ap,{name:"previous-month","aria-label":g,className:j,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?n.jsx(v,{className:l.nav_icon,style:u.nav_icon}):n.jsx(N,{className:l.nav_icon,style:u.nav_icon})}),!e.hideNext&&n.jsx(ap,{name:"next-month","aria-label":w,className:b,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?n.jsx(N,{className:l.nav_icon,style:u.nav_icon}):n.jsx(v,{className:l.nav_icon,style:u.nav_icon})})]})}function nO(e){var t=Gt().numberOfMonths,r=ff(),a=r.previousMonth,s=r.nextMonth,i=r.goToMonth,l=r.displayMonths,u=l.findIndex(function(w){return fS(e.displayMonth,w)}),d=u===0,f=u===l.length-1,m=t>1&&(d||!f),h=t>1&&(f||!d),g=function(){a&&i(a)},j=function(){s&&i(s)};return n.jsx(gde,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:h,nextMonth:s,previousMonth:a,onPreviousClick:g,onNextClick:j})}function vde(e){var t,r=Gt(),a=r.classNames,s=r.disableNavigation,i=r.styles,l=r.captionLayout,u=r.components,d=(t=u?.CaptionLabel)!==null&&t!==void 0?t:x3,f;return s?f=n.jsx(d,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?f=n.jsx(rO,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?f=n.jsxs(n.Fragment,{children:[n.jsx(rO,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(nO,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=n.jsxs(n.Fragment,{children:[n.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(nO,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:a.caption,style:i.caption,children:f})}function xde(e){var t=Gt(),r=t.footer,a=t.styles,s=t.classNames.tfoot;return r?n.jsx("tfoot",{className:s,style:a.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function yde(e,t,r){for(var a=r?Lo(new Date):Zn(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var l=sr(a,i);s.push(l)}return s}function bde(){var e=Gt(),t=e.classNames,r=e.styles,a=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,l=e.ISOWeek,u=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,f=yde(s,i,l);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[a&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),f.map(function(m,h){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(m,{locale:s}),children:u(m,{locale:s})},h)})]})}function jde(){var e,t=Gt(),r=t.classNames,a=t.styles,s=t.components,i=(e=s?.HeadRow)!==null&&e!==void 0?e:bde;return n.jsx("thead",{style:a.head,className:r.head,children:n.jsx(i,{})})}function wde(e){var t=Gt(),r=t.locale,a=t.formatters.formatDay;return n.jsx(n.Fragment,{children:a(e.date,{locale:r})})}var mS=x.createContext(void 0);function Nde(e){if(!uf(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(mS.Provider,{value:t,children:e.children})}return n.jsx(Sde,{initialProps:e.initialProps,children:e.children})}function Sde(e){var t=e.initialProps,r=e.children,a=t.selected,s=t.min,i=t.max,l=function(f,m,h){var g,j;(g=t.onDayClick)===null||g===void 0||g.call(t,f,m,h);var w=!!(m.selected&&s&&a?.length===s);if(!w){var b=!!(!m.selected&&i&&a?.length===i);if(!b){var v=a?g3([],a):[];if(m.selected){var N=v.findIndex(function(C){return Yr(f,C)});v.splice(N,1)}else v.push(f);(j=t.onSelect)===null||j===void 0||j.call(t,v,f,m,h)}}},u={disabled:[]};a&&u.disabled.push(function(f){var m=i&&a.length>i-1,h=a.some(function(g){return Yr(g,f)});return!!(m&&!h)});var d={selected:a,onDayClick:l,modifiers:u};return n.jsx(mS.Provider,{value:d,children:r})}function pS(){var e=x.useContext(mS);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function _de(e,t){var r=t||{},a=r.from,s=r.to;return a&&s?Yr(s,e)&&Yr(a,e)?void 0:Yr(s,e)?{from:s,to:void 0}:Yr(a,e)?void 0:Cs(a,e)?{from:e,to:s}:{from:a,to:e}:s?Cs(e,s)?{from:s,to:e}:{from:e,to:s}:a?h3(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var gS=x.createContext(void 0);function Cde(e){if(!df(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(gS.Provider,{value:t,children:e.children})}return n.jsx(Ede,{initialProps:e.initialProps,children:e.children})}function Ede(e){var t=e.initialProps,r=e.children,a=t.selected,s=a||{},i=s.from,l=s.to,u=t.min,d=t.max,f=function(j,w,b){var v,N;(v=t.onDayClick)===null||v===void 0||v.call(t,j,w,b);var C=_de(j,a);(N=t.onSelect)===null||N===void 0||N.call(t,C,j,w,b)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(m.range_start=[i],l?(m.range_end=[l],Yr(i,l)||(m.range_middle=[{after:i,before:l}])):m.range_end=[i]):l&&(m.range_start=[l],m.range_end=[l]),u&&(i&&!l&&m.disabled.push({after:_j(i,u-1),before:sr(i,u-1)}),i&&l&&m.disabled.push({after:i,before:sr(i,u-1)}),!i&&l&&m.disabled.push({after:_j(l,u-1),before:sr(l,u-1)})),d){if(i&&!l&&(m.disabled.push({before:sr(i,-d+1)}),m.disabled.push({after:sr(i,d-1)})),i&&l){var h=es(l,i)+1,g=d-h;m.disabled.push({before:_j(i,g)}),m.disabled.push({after:sr(l,g)})}!i&&l&&(m.disabled.push({before:sr(l,-d+1)}),m.disabled.push({after:sr(l,d-1)}))}return n.jsx(gS.Provider,{value:{selected:a,onDayClick:f,modifiers:m},children:r})}function vS(){var e=x.useContext(gS);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Qh(e){return Array.isArray(e)?g3([],e):e!==void 0?[e]:[]}function Tde(e){var t={};return Object.entries(e).forEach(function(r){var a=r[0],s=r[1];t[a]=Qh(s)}),t}var Da;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Da||(Da={}));var Ade=Da.Selected,_s=Da.Disabled,Rde=Da.Hidden,kde=Da.Today,Tj=Da.RangeEnd,Aj=Da.RangeMiddle,Rj=Da.RangeStart,Ide=Da.Outside;function Pde(e,t,r){var a,s=(a={},a[Ade]=Qh(e.selected),a[_s]=Qh(e.disabled),a[Rde]=Qh(e.hidden),a[kde]=[e.today],a[Tj]=[],a[Aj]=[],a[Rj]=[],a[Ide]=[],a);return e.fromDate&&s[_s].push({before:e.fromDate}),e.toDate&&s[_s].push({after:e.toDate}),uf(e)?s[_s]=s[_s].concat(t.modifiers[_s]):df(e)&&(s[_s]=s[_s].concat(r.modifiers[_s]),s[Rj]=r.modifiers[Rj],s[Aj]=r.modifiers[Aj],s[Tj]=r.modifiers[Tj]),s}var j3=x.createContext(void 0);function Ode(e){var t=Gt(),r=pS(),a=vS(),s=Pde(t,r,a),i=Tde(t.modifiers),l=dt(dt({},s),i);return n.jsx(j3.Provider,{value:l,children:e.children})}function w3(){var e=x.useContext(j3);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Dde(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Mde(e){return!!(e&&typeof e=="object"&&"from"in e)}function $de(e){return!!(e&&typeof e=="object"&&"after"in e)}function Lde(e){return!!(e&&typeof e=="object"&&"before"in e)}function Fde(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Ude(e,t){var r,a=t.from,s=t.to;if(a&&s){var i=es(s,a)<0;i&&(r=[s,a],a=r[0],s=r[1]);var l=es(e,a)>=0&&es(s,e)>=0;return l}return s?Yr(s,e):a?Yr(a,e):!1}function Bde(e){return cS(e)}function zde(e){return Array.isArray(e)&&e.every(cS)}function qde(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Bde(r))return Yr(e,r);if(zde(r))return r.includes(e);if(Mde(r))return Ude(e,r);if(Fde(r))return r.dayOfWeek.includes(e.getDay());if(Dde(r)){var a=es(r.before,e),s=es(r.after,e),i=a>0,l=s<0,u=Cs(r.before,r.after);return u?l&&i:i||l}return $de(r)?es(e,r.after)>0:Lde(r)?es(r.before,e)>0:typeof r=="function"?r(e):!1})}function xS(e,t,r){var a=Object.keys(t).reduce(function(i,l){var u=t[l];return qde(e,u)&&i.push(l),i},[]),s={};return a.forEach(function(i){return s[i]=!0}),r&&!fS(e,r)&&(s.outside=!0),s}function Wde(e,t){for(var r=Xr(e[0]),a=uS(e[e.length-1]),s,i,l=r;l<=a;){var u=xS(l,t),d=!u.disabled&&!u.hidden;if(!d){l=sr(l,1);continue}if(u.selected)return l;u.today&&!i&&(i=l),s||(s=l),l=sr(l,1)}return i||s}var Vde=365;function N3(e,t){var r=t.moveBy,a=t.direction,s=t.context,i=t.modifiers,l=t.retry,u=l===void 0?{count:0,lastFocused:e}:l,d=s.weekStartsOn,f=s.fromDate,m=s.toDate,h=s.locale,g={day:sr,week:E1,month:vn,year:Ole,startOfWeek:function(v){return s.ISOWeek?Lo(v):Zn(v,{locale:h,weekStartsOn:d})},endOfWeek:function(v){return s.ISOWeek?i3(v):dS(v,{locale:h,weekStartsOn:d})}},j=g[r](e,a==="after"?1:-1);a==="before"&&f?j=Dle([f,j]):a==="after"&&m&&(j=Mle([m,j]));var w=!0;if(i){var b=xS(j,i);w=!b.disabled&&!b.hidden}return w?j:u.count>Vde?u.lastFocused:N3(j,{moveBy:r,direction:a,context:s,modifiers:i,retry:dt(dt({},u),{count:u.count+1})})}var S3=x.createContext(void 0);function Hde(e){var t=ff(),r=w3(),a=x.useState(),s=a[0],i=a[1],l=x.useState(),u=l[0],d=l[1],f=Wde(t.displayMonths,r),m=s??(u&&t.isDateDisplayed(u))?u:f,h=function(){d(s),i(void 0)},g=function(v){i(v)},j=Gt(),w=function(v,N){if(s){var C=N3(s,{moveBy:v,direction:N,context:j,modifiers:r});Yr(s,C)||(t.goToDate(C,s),g(C))}},b={focusedDay:s,focusTarget:m,blur:h,focus:g,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return n.jsx(S3.Provider,{value:b,children:e.children})}function yS(){var e=x.useContext(S3);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Gde(e,t){var r=w3(),a=xS(e,r,t);return a}var bS=x.createContext(void 0);function Kde(e){if(!hg(e.initialProps)){var t={selected:void 0};return n.jsx(bS.Provider,{value:t,children:e.children})}return n.jsx(Yde,{initialProps:e.initialProps,children:e.children})}function Yde(e){var t=e.initialProps,r=e.children,a=function(i,l,u){var d,f,m;if((d=t.onDayClick)===null||d===void 0||d.call(t,i,l,u),l.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,i,l,u);return}(m=t.onSelect)===null||m===void 0||m.call(t,i,i,l,u)},s={selected:t.selected,onDayClick:a};return n.jsx(bS.Provider,{value:s,children:r})}function _3(){var e=x.useContext(bS);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Xde(e,t){var r=Gt(),a=_3(),s=pS(),i=vS(),l=yS(),u=l.focusDayAfter,d=l.focusDayBefore,f=l.focusWeekAfter,m=l.focusWeekBefore,h=l.blur,g=l.focus,j=l.focusMonthBefore,w=l.focusMonthAfter,b=l.focusYearBefore,v=l.focusYearAfter,N=l.focusStartOfWeek,C=l.focusEndOfWeek,S=function(P){var O,K,V,q;hg(r)?(O=a.onDayClick)===null||O===void 0||O.call(a,e,t,P):uf(r)?(K=s.onDayClick)===null||K===void 0||K.call(s,e,t,P):df(r)?(V=i.onDayClick)===null||V===void 0||V.call(i,e,t,P):(q=r.onDayClick)===null||q===void 0||q.call(r,e,t,P)},A=function(P){var O;g(e),(O=r.onDayFocus)===null||O===void 0||O.call(r,e,t,P)},_=function(P){var O;h(),(O=r.onDayBlur)===null||O===void 0||O.call(r,e,t,P)},T=function(P){var O;(O=r.onDayMouseEnter)===null||O===void 0||O.call(r,e,t,P)},k=function(P){var O;(O=r.onDayMouseLeave)===null||O===void 0||O.call(r,e,t,P)},D=function(P){var O;(O=r.onDayPointerEnter)===null||O===void 0||O.call(r,e,t,P)},I=function(P){var O;(O=r.onDayPointerLeave)===null||O===void 0||O.call(r,e,t,P)},B=function(P){var O;(O=r.onDayTouchCancel)===null||O===void 0||O.call(r,e,t,P)},z=function(P){var O;(O=r.onDayTouchEnd)===null||O===void 0||O.call(r,e,t,P)},H=function(P){var O;(O=r.onDayTouchMove)===null||O===void 0||O.call(r,e,t,P)},W=function(P){var O;(O=r.onDayTouchStart)===null||O===void 0||O.call(r,e,t,P)},Z=function(P){var O;(O=r.onDayKeyUp)===null||O===void 0||O.call(r,e,t,P)},$=function(P){var O;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?u():d();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?d():u();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),f();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),m();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?b():j();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?v():w();break;case"Home":P.preventDefault(),P.stopPropagation(),N();break;case"End":P.preventDefault(),P.stopPropagation(),C();break}(O=r.onDayKeyDown)===null||O===void 0||O.call(r,e,t,P)},M={onClick:S,onFocus:A,onBlur:_,onKeyDown:$,onKeyUp:Z,onMouseEnter:T,onMouseLeave:k,onPointerEnter:D,onPointerLeave:I,onTouchCancel:B,onTouchEnd:z,onTouchMove:H,onTouchStart:W};return M}function Qde(){var e=Gt(),t=_3(),r=pS(),a=vS(),s=hg(e)?t.selected:uf(e)?r.selected:df(e)?a.selected:void 0;return s}function Zde(e){return Object.values(Da).includes(e)}function Jde(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(a){var s=e.modifiersClassNames[a];if(s)r.push(s);else if(Zde(a)){var i=e.classNames["day_".concat(a)];i&&r.push(i)}}),r}function efe(e,t){var r=dt({},e.styles.day);return Object.keys(t).forEach(function(a){var s;r=dt(dt({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[a])}),r}function tfe(e,t,r){var a,s,i,l=Gt(),u=yS(),d=Gde(e,t),f=Xde(e,d),m=Qde(),h=!!(l.onDayClick||l.mode!=="default");x.useEffect(function(){var T;d.outside||u.focusedDay&&h&&Yr(u.focusedDay,e)&&((T=r.current)===null||T===void 0||T.focus())},[u.focusedDay,e,r,h,d.outside]);var g=Jde(l,d).join(" "),j=efe(l,d),w=!!(d.outside&&!l.showOutsideDays||d.hidden),b=(i=(s=l.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:wde,v=n.jsx(b,{date:e,displayMonth:t,activeModifiers:d}),N={style:j,className:g,children:v,role:"gridcell"},C=u.focusTarget&&Yr(u.focusTarget,e)&&!d.outside,S=u.focusedDay&&Yr(u.focusedDay,e),A=dt(dt(dt({},N),(a={disabled:d.disabled,role:"gridcell"},a["aria-selected"]=d.selected,a.tabIndex=S||C?0:-1,a)),f),_={isButton:h,isHidden:w,activeModifiers:d,selectedDays:m,buttonProps:A,divProps:N};return _}function rfe(e){var t=x.useRef(null),r=tfe(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(ap,dt({name:"day",ref:t},r.buttonProps)):n.jsx("div",dt({},r.divProps))}function nfe(e){var t=e.number,r=e.dates,a=Gt(),s=a.onWeekNumberClick,i=a.styles,l=a.classNames,u=a.locale,d=a.labels.labelWeekNumber,f=a.formatters.formatWeekNumber,m=f(Number(t),{locale:u});if(!s)return n.jsx("span",{className:l.weeknumber,style:i.weeknumber,children:m});var h=d(Number(t),{locale:u}),g=function(j){s(t,r,j)};return n.jsx(ap,{name:"week-number","aria-label":h,className:l.weeknumber,style:i.weeknumber,onClick:g,children:m})}function afe(e){var t,r,a=Gt(),s=a.styles,i=a.classNames,l=a.showWeekNumber,u=a.components,d=(t=u?.Day)!==null&&t!==void 0?t:rfe,f=(r=u?.WeekNumber)!==null&&r!==void 0?r:nfe,m;return l&&(m=n.jsx("td",{className:i.cell,style:s.cell,children:n.jsx(f,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:s.row,children:[m,e.dates.map(function(h){return n.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:n.jsx(d,{displayMonth:e.displayMonth,date:h})},Oce(h))})]})}function aO(e,t,r){for(var a=r?.ISOWeek?i3(t):dS(t,r),s=r?.ISOWeek?Lo(e):Zn(e,r),i=es(a,s),l=[],u=0;u<=i;u++)l.push(sr(s,u));var d=l.reduce(function(f,m){var h=r?.ISOWeek?c3(m):d3(m,r),g=f.find(function(j){return j.weekNumber===h});return g?(g.dates.push(m),f):(f.push({weekNumber:h,dates:[m]}),f)},[]);return d}function sfe(e,t){var r=aO(Xr(e),uS(e),t);if(t?.useFixedWeeks){var a=Mce(e,t);if(a<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],l=E1(i,6-a),u=aO(E1(i,1),l,t);r.push.apply(r,u)}}return r}function ife(e){var t,r,a,s=Gt(),i=s.locale,l=s.classNames,u=s.styles,d=s.hideHead,f=s.fixedWeeks,m=s.components,h=s.weekStartsOn,g=s.firstWeekContainsDate,j=s.ISOWeek,w=sfe(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:j,locale:i,weekStartsOn:h,firstWeekContainsDate:g}),b=(t=m?.Head)!==null&&t!==void 0?t:jde,v=(r=m?.Row)!==null&&r!==void 0?r:afe,N=(a=m?.Footer)!==null&&a!==void 0?a:xde;return n.jsxs("table",{id:e.id,className:l.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&n.jsx(b,{}),n.jsx("tbody",{className:l.tbody,style:u.tbody,children:w.map(function(C){return n.jsx(v,{displayMonth:e.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),n.jsx(N,{displayMonth:e.displayMonth})]})}function ofe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var lfe=ofe()?x.useLayoutEffect:x.useEffect,kj=!1,cfe=0;function sO(){return"react-day-picker-".concat(++cfe)}function ufe(e){var t,r=e??(kj?sO():null),a=x.useState(r),s=a[0],i=a[1];return lfe(function(){s===null&&i(sO())},[]),x.useEffect(function(){kj===!1&&(kj=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function dfe(e){var t,r,a=Gt(),s=a.dir,i=a.classNames,l=a.styles,u=a.components,d=ff().displayMonths,f=ufe(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),m=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],g=l.month,j=e.displayIndex===0,w=e.displayIndex===d.length-1,b=!j&&!w;s==="rtl"&&(t=[j,w],w=t[0],j=t[1]),j&&(h.push(i.caption_start),g=dt(dt({},g),l.caption_start)),w&&(h.push(i.caption_end),g=dt(dt({},g),l.caption_end)),b&&(h.push(i.caption_between),g=dt(dt({},g),l.caption_between));var v=(r=u?.Caption)!==null&&r!==void 0?r:vde;return n.jsxs("div",{className:h.join(" "),style:g,children:[n.jsx(v,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(ife,{id:m,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function ffe(e){var t=Gt(),r=t.classNames,a=t.styles;return n.jsx("div",{className:r.months,style:a.months,children:e.children})}function hfe(e){var t,r,a=e.initialProps,s=Gt(),i=yS(),l=ff(),u=x.useState(!1),d=u[0],f=u[1];x.useEffect(function(){s.initialFocus&&i.focusTarget&&(d||(i.focus(i.focusTarget),f(!0)))},[s.initialFocus,d,i.focus,i.focusTarget,i]);var m=[s.classNames.root,s.className];s.numberOfMonths>1&&m.push(s.classNames.multiple_months),s.showWeekNumber&&m.push(s.classNames.with_weeknumber);var h=dt(dt({},s.styles.root),s.style),g=Object.keys(a).filter(function(w){return w.startsWith("data-")}).reduce(function(w,b){var v;return dt(dt({},w),(v={},v[b]=a[b],v))},{}),j=(r=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:ffe;return n.jsx("div",dt({className:m.join(" "),style:h,dir:s.dir,id:s.id,nonce:a.nonce,title:a.title,lang:a.lang},g,{children:n.jsx(j,{children:l.displayMonths.map(function(w,b){return n.jsx(dfe,{displayIndex:b,displayMonth:w},b)})})}))}function mfe(e){var t=e.children,r=Lue(e,["children"]);return n.jsx(nde,{initialProps:r,children:n.jsx(hde,{children:n.jsx(Kde,{initialProps:r,children:n.jsx(Nde,{initialProps:r,children:n.jsx(Cde,{initialProps:r,children:n.jsx(Ode,{children:n.jsx(Hde,{children:t})})})})})})})}function pfe(e){return n.jsx(mfe,dt({},e,{children:n.jsx(hfe,{initialProps:e})}))}function vo({className:e,classNames:t,showOutsideDays:r=!0,...a}){return n.jsx(pfe,{showOutsideDays:r,className:We("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:We(Qu({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:We("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",a.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:We(Qu({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:s,...i})=>n.jsx(vB,{className:We("size-4",s),...i}),IconRight:({className:s,...i})=>n.jsx(qj,{className:We("size-4",s),...i})},...a})}var mg="Popover",[C3,mpe]=kn(mg,[Ui]),hf=Ui(),[gfe,Yi]=C3(mg),E3=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:l=!1}=e,u=hf(t),d=x.useRef(null),[f,m]=x.useState(!1),[h,g]=is({prop:a,defaultProp:s??!1,onChange:i,caller:mg});return n.jsx(gp,{...u,children:n.jsx(gfe,{scope:t,contentId:Br(),triggerRef:d,open:h,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(j=>!j),[g]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>m(!0),[]),onCustomAnchorRemove:x.useCallback(()=>m(!1),[]),modal:l,children:r})})};E3.displayName=mg;var T3="PopoverAnchor",vfe=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=Yi(T3,r),i=hf(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=s;return x.useEffect(()=>(l(),()=>u()),[l,u]),n.jsx(Kd,{...i,...a,ref:t})});vfe.displayName=T3;var A3="PopoverTrigger",R3=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=Yi(A3,r),i=hf(r),l=Nt(t,s.triggerRef),u=n.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":D3(s.open),...a,ref:l,onClick:Ue(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:n.jsx(Kd,{asChild:!0,...i,children:u})});R3.displayName=A3;var jS="PopoverPortal",[xfe,yfe]=C3(jS,{forceMount:void 0}),k3=e=>{const{__scopePopover:t,forceMount:r,children:a,container:s}=e,i=Yi(jS,t);return n.jsx(xfe,{scope:t,forceMount:r,children:n.jsx(In,{present:r||i.open,children:n.jsx(Nc,{asChild:!0,container:s,children:a})})})};k3.displayName=jS;var gc="PopoverContent",I3=x.forwardRef((e,t)=>{const r=yfe(gc,e.__scopePopover),{forceMount:a=r.forceMount,...s}=e,i=Yi(gc,e.__scopePopover);return n.jsx(In,{present:a||i.open,children:i.modal?n.jsx(jfe,{...s,ref:t}):n.jsx(wfe,{...s,ref:t})})});I3.displayName=gc;var bfe=Ii("PopoverContent.RemoveScroll"),jfe=x.forwardRef((e,t)=>{const r=Yi(gc,e.__scopePopover),a=x.useRef(null),s=Nt(t,a),i=x.useRef(!1);return x.useEffect(()=>{const l=a.current;if(l)return bp(l)},[]),n.jsx(Xd,{as:bfe,allowPinchZoom:!0,children:n.jsx(P3,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,l=>{l.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Ue(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),wfe=x.forwardRef((e,t)=>{const r=Yi(gc,e.__scopePopover),a=x.useRef(!1),s=x.useRef(!1);return n.jsx(P3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||r.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),P3=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...h}=e,g=Yi(gc,r),j=hf(r);return dp(),n.jsx(Hd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(bc,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:n.jsx(vp,{"data-state":D3(g.open),role:"dialog",id:g.contentId,...j,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),O3="PopoverClose",Nfe=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=Yi(O3,r);return n.jsx(at.button,{type:"button",...a,ref:t,onClick:Ue(e.onClick,()=>s.onOpenChange(!1))})});Nfe.displayName=O3;var Sfe="PopoverArrow",_fe=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=hf(r);return n.jsx(xp,{...s,...a,ref:t})});_fe.displayName=Sfe;function D3(e){return e?"open":"closed"}var Cfe=E3,Efe=R3,Tfe=k3,Afe=I3;function fn({...e}){return n.jsx(Cfe,{"data-slot":"popover",...e})}function hn({...e}){return n.jsx(Efe,{"data-slot":"popover-trigger",...e})}function mn({className:e,align:t="center",sideOffset:r=4,...a}){return n.jsx(Tfe,{children:n.jsx(Afe,{"data-slot":"popover-content",align:t,sideOffset:r,className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...a})})}var pg="Dialog",[M3,$3]=kn(pg),[Rfe,La]=M3(pg),L3=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,u=x.useRef(null),d=x.useRef(null),[f,m]=is({prop:a,defaultProp:s??!1,onChange:i,caller:pg});return n.jsx(Rfe,{scope:t,triggerRef:u,contentRef:d,contentId:Br(),titleId:Br(),descriptionId:Br(),open:f,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(h=>!h),[m]),modal:l,children:r})};L3.displayName=pg;var F3="DialogTrigger",U3=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=La(F3,r),i=Nt(t,s.triggerRef);return n.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SS(s.open),...a,ref:i,onClick:Ue(e.onClick,s.onOpenToggle)})});U3.displayName=F3;var wS="DialogPortal",[kfe,B3]=M3(wS,{forceMount:void 0}),z3=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:s}=e,i=La(wS,t);return n.jsx(kfe,{scope:t,forceMount:r,children:x.Children.map(a,l=>n.jsx(In,{present:r||i.open,children:n.jsx(Nc,{asChild:!0,container:s,children:l})}))})};z3.displayName=wS;var sp="DialogOverlay",q3=x.forwardRef((e,t)=>{const r=B3(sp,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=La(sp,e.__scopeDialog);return i.modal?n.jsx(In,{present:a||i.open,children:n.jsx(Pfe,{...s,ref:t})}):null});q3.displayName=sp;var Ife=Ii("DialogOverlay.RemoveScroll"),Pfe=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=La(sp,r);return n.jsx(Xd,{as:Ife,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(at.div,{"data-state":SS(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Fo="DialogContent",W3=x.forwardRef((e,t)=>{const r=B3(Fo,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=La(Fo,e.__scopeDialog);return n.jsx(In,{present:a||i.open,children:i.modal?n.jsx(Ofe,{...s,ref:t}):n.jsx(Dfe,{...s,ref:t})})});W3.displayName=Fo;var Ofe=x.forwardRef((e,t)=>{const r=La(Fo,e.__scopeDialog),a=x.useRef(null),s=Nt(t,r.contentRef,a);return x.useEffect(()=>{const i=a.current;if(i)return bp(i)},[]),n.jsx(V3,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Ue(e.onFocusOutside,i=>i.preventDefault())})}),Dfe=x.forwardRef((e,t)=>{const r=La(Fo,e.__scopeDialog),a=x.useRef(!1),s=x.useRef(!1);return n.jsx(V3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||r.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),V3=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=e,u=La(Fo,r),d=x.useRef(null),f=Nt(t,d);return dp(),n.jsxs(n.Fragment,{children:[n.jsx(Hd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(bc,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":SS(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx($fe,{titleId:u.titleId}),n.jsx(Ffe,{contentRef:d,descriptionId:u.descriptionId})]})]})}),NS="DialogTitle",H3=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=La(NS,r);return n.jsx(at.h2,{id:s.titleId,...a,ref:t})});H3.displayName=NS;var G3="DialogDescription",K3=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=La(G3,r);return n.jsx(at.p,{id:s.descriptionId,...a,ref:t})});K3.displayName=G3;var Y3="DialogClose",X3=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=La(Y3,r);return n.jsx(at.button,{type:"button",...a,ref:t,onClick:Ue(e.onClick,()=>s.onOpenChange(!1))})});X3.displayName=Y3;function SS(e){return e?"open":"closed"}var Q3="DialogTitleWarning",[Mfe,Z3]=D6(Q3,{contentName:Fo,titleName:NS,docsSlug:"dialog"}),$fe=({titleId:e})=>{const t=Z3(Q3),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Lfe="DialogDescriptionWarning",Ffe=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Z3(Lfe).contentName}}.`;return x.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},_S=L3,J3=U3,CS=z3,gg=q3,vg=W3,e5=H3,t5=K3,ES=X3;function Ft({...e}){return n.jsx(_S,{"data-slot":"dialog",...e})}function Ma({...e}){return n.jsx(J3,{"data-slot":"dialog-trigger",...e})}function Ufe({...e}){return n.jsx(CS,{"data-slot":"dialog-portal",...e})}const r5=x.forwardRef(({className:e,...t},r)=>n.jsx(gg,{ref:r,"data-slot":"dialog-overlay",className:We("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));r5.displayName=gg.displayName;const $t=x.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(Ufe,{children:[n.jsx(r5,{}),n.jsxs(vg,{ref:a,"data-slot":"dialog-content",className:We("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n.jsxs(ES,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[n.jsx(cp,{}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$t.displayName=vg.displayName;function Ut({className:e,...t}){return n.jsx("div",{"data-slot":"dialog-header",className:We("flex flex-col gap-2 text-center sm:text-left",e),...t})}function qu({className:e,...t}){return n.jsx("div",{"data-slot":"dialog-footer",className:We("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Bt({className:e,...t}){return n.jsx(e5,{"data-slot":"dialog-title",className:We("text-lg leading-none font-semibold",e),...t})}function qt({className:e,...t}){return n.jsx(t5,{"data-slot":"dialog-description",className:We("text-muted-foreground text-sm",e),...t})}var iO=1,Bfe=.9,zfe=.8,qfe=.17,Ij=.1,Pj=.999,Wfe=.9999,Vfe=.99,Hfe=/[\\\/_+.#"@\[\(\{&]/,Gfe=/[\\\/_+.#"@\[\(\{&]/g,Kfe=/[\s-]/,n5=/[\s-]/g;function T1(e,t,r,a,s,i,l){if(i===t.length)return s===e.length?iO:Vfe;var u=`${s},${i}`;if(l[u]!==void 0)return l[u];for(var d=a.charAt(i),f=r.indexOf(d,s),m=0,h,g,j,w;f>=0;)h=T1(e,t,r,a,f+1,i+1,l),h>m&&(f===s?h*=iO:Hfe.test(e.charAt(f-1))?(h*=zfe,j=e.slice(s,f-1).match(Gfe),j&&s>0&&(h*=Math.pow(Pj,j.length))):Kfe.test(e.charAt(f-1))?(h*=Bfe,w=e.slice(s,f-1).match(n5),w&&s>0&&(h*=Math.pow(Pj,w.length))):(h*=qfe,s>0&&(h*=Math.pow(Pj,f-s))),e.charAt(f)!==t.charAt(i)&&(h*=Wfe)),(h<Ij&&r.charAt(f-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&r.charAt(f-1)!==a.charAt(i))&&(g=T1(e,t,r,a,f+1,i+2,l),g*Ij>h&&(h=g*Ij)),h>m&&(m=h),f=r.indexOf(d,f+1);return l[u]=m,m}function oO(e){return e.toLowerCase().replace(n5," ")}function Yfe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,T1(e,t,oO(e),oO(t),0,0,{})}var Pu='[cmdk-group=""]',Oj='[cmdk-group-items=""]',Xfe='[cmdk-group-heading=""]',a5='[cmdk-item=""]',lO=`${a5}:not([aria-disabled="true"])`,A1="cmdk-item-select",Al="data-value",Qfe=(e,t,r)=>Yfe(e,t,r),s5=x.createContext(void 0),mf=()=>x.useContext(s5),i5=x.createContext(void 0),TS=()=>x.useContext(i5),o5=x.createContext(void 0),l5=x.forwardRef((e,t)=>{let r=Rl(()=>{var F,L;return{search:"",value:(L=(F=e.value)!=null?F:e.defaultValue)!=null?L:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Rl(()=>new Set),s=Rl(()=>new Map),i=Rl(()=>new Map),l=Rl(()=>new Set),u=c5(e),{label:d,children:f,value:m,onValueChange:h,filter:g,shouldFilter:j,loop:w,disablePointerSelection:b=!1,vimBindings:v=!0,...N}=e,C=Br(),S=Br(),A=Br(),_=x.useRef(null),T=lhe();Uo(()=>{if(m!==void 0){let F=m.trim();r.current.value=F,k.emit()}},[m]),Uo(()=>{T(6,W)},[]);let k=x.useMemo(()=>({subscribe:F=>(l.current.add(F),()=>l.current.delete(F)),snapshot:()=>r.current,setState:(F,L,Y)=>{var ee,ce,G,fe;if(!Object.is(r.current[F],L)){if(r.current[F]=L,F==="search")H(),B(),T(1,z);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let oe=document.getElementById(A);oe?oe.focus():(ee=document.getElementById(C))==null||ee.focus()}if(T(7,()=>{var oe;r.current.selectedItemId=(oe=Z())==null?void 0:oe.id,k.emit()}),Y||T(5,W),((ce=u.current)==null?void 0:ce.value)!==void 0){let oe=L??"";(fe=(G=u.current).onValueChange)==null||fe.call(G,oe);return}}k.emit()}},emit:()=>{l.current.forEach(F=>F())}}),[]),D=x.useMemo(()=>({value:(F,L,Y)=>{var ee;L!==((ee=i.current.get(F))==null?void 0:ee.value)&&(i.current.set(F,{value:L,keywords:Y}),r.current.filtered.items.set(F,I(L,Y)),T(2,()=>{B(),k.emit()}))},item:(F,L)=>(a.current.add(F),L&&(s.current.has(L)?s.current.get(L).add(F):s.current.set(L,new Set([F]))),T(3,()=>{H(),B(),r.current.value||z(),k.emit()}),()=>{i.current.delete(F),a.current.delete(F),r.current.filtered.items.delete(F);let Y=Z();T(4,()=>{H(),Y?.getAttribute("id")===F&&z(),k.emit()})}),group:F=>(s.current.has(F)||s.current.set(F,new Set),()=>{i.current.delete(F),s.current.delete(F)}),filter:()=>u.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:C,inputId:A,labelId:S,listInnerRef:_}),[]);function I(F,L){var Y,ee;let ce=(ee=(Y=u.current)==null?void 0:Y.filter)!=null?ee:Qfe;return F?ce(F,r.current.search,L):0}function B(){if(!r.current.search||u.current.shouldFilter===!1)return;let F=r.current.filtered.items,L=[];r.current.filtered.groups.forEach(ee=>{let ce=s.current.get(ee),G=0;ce.forEach(fe=>{let oe=F.get(fe);G=Math.max(oe,G)}),L.push([ee,G])});let Y=_.current;$().sort((ee,ce)=>{var G,fe;let oe=ee.getAttribute("id"),Ee=ce.getAttribute("id");return((G=F.get(Ee))!=null?G:0)-((fe=F.get(oe))!=null?fe:0)}).forEach(ee=>{let ce=ee.closest(Oj);ce?ce.appendChild(ee.parentElement===ce?ee:ee.closest(`${Oj} > *`)):Y.appendChild(ee.parentElement===Y?ee:ee.closest(`${Oj} > *`))}),L.sort((ee,ce)=>ce[1]-ee[1]).forEach(ee=>{var ce;let G=(ce=_.current)==null?void 0:ce.querySelector(`${Pu}[${Al}="${encodeURIComponent(ee[0])}"]`);G?.parentElement.appendChild(G)})}function z(){let F=$().find(Y=>Y.getAttribute("aria-disabled")!=="true"),L=F?.getAttribute(Al);k.setState("value",L||void 0)}function H(){var F,L,Y,ee;if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let ce=0;for(let G of a.current){let fe=(L=(F=i.current.get(G))==null?void 0:F.value)!=null?L:"",oe=(ee=(Y=i.current.get(G))==null?void 0:Y.keywords)!=null?ee:[],Ee=I(fe,oe);r.current.filtered.items.set(G,Ee),Ee>0&&ce++}for(let[G,fe]of s.current)for(let oe of fe)if(r.current.filtered.items.get(oe)>0){r.current.filtered.groups.add(G);break}r.current.filtered.count=ce}function W(){var F,L,Y;let ee=Z();ee&&(((F=ee.parentElement)==null?void 0:F.firstChild)===ee&&((Y=(L=ee.closest(Pu))==null?void 0:L.querySelector(Xfe))==null||Y.scrollIntoView({block:"nearest"})),ee.scrollIntoView({block:"nearest"}))}function Z(){var F;return(F=_.current)==null?void 0:F.querySelector(`${a5}[aria-selected="true"]`)}function $(){var F;return Array.from(((F=_.current)==null?void 0:F.querySelectorAll(lO))||[])}function M(F){let L=$()[F];L&&k.setState("value",L.getAttribute(Al))}function P(F){var L;let Y=Z(),ee=$(),ce=ee.findIndex(fe=>fe===Y),G=ee[ce+F];(L=u.current)!=null&&L.loop&&(G=ce+F<0?ee[ee.length-1]:ce+F===ee.length?ee[0]:ee[ce+F]),G&&k.setState("value",G.getAttribute(Al))}function O(F){let L=Z(),Y=L?.closest(Pu),ee;for(;Y&&!ee;)Y=F>0?ihe(Y,Pu):ohe(Y,Pu),ee=Y?.querySelector(lO);ee?k.setState("value",ee.getAttribute(Al)):P(F)}let K=()=>M($().length-1),V=F=>{F.preventDefault(),F.metaKey?K():F.altKey?O(1):P(1)},q=F=>{F.preventDefault(),F.metaKey?M(0):F.altKey?O(-1):P(-1)};return x.createElement(at.div,{ref:t,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:F=>{var L;(L=N.onKeyDown)==null||L.call(N,F);let Y=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||Y))switch(F.key){case"n":case"j":{v&&F.ctrlKey&&V(F);break}case"ArrowDown":{V(F);break}case"p":case"k":{v&&F.ctrlKey&&q(F);break}case"ArrowUp":{q(F);break}case"Home":{F.preventDefault(),M(0);break}case"End":{F.preventDefault(),K();break}case"Enter":{F.preventDefault();let ee=Z();if(ee){let ce=new Event(A1);ee.dispatchEvent(ce)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:D.inputId,id:D.labelId,style:uhe},d),xg(e,F=>x.createElement(i5.Provider,{value:k},x.createElement(s5.Provider,{value:D},F))))}),Zfe=x.forwardRef((e,t)=>{var r,a;let s=Br(),i=x.useRef(null),l=x.useContext(o5),u=mf(),d=c5(e),f=(a=(r=d.current)==null?void 0:r.forceMount)!=null?a:l?.forceMount;Uo(()=>{if(!f)return u.item(s,l?.id)},[f]);let m=u5(s,i,[e.value,e.children,i],e.keywords),h=TS(),g=Li(T=>T.value&&T.value===m.current),j=Li(T=>f||u.filter()===!1?!0:T.search?T.filtered.items.get(s)>0:!0);x.useEffect(()=>{let T=i.current;if(!(!T||e.disabled))return T.addEventListener(A1,w),()=>T.removeEventListener(A1,w)},[j,e.onSelect,e.disabled]);function w(){var T,k;b(),(k=(T=d.current).onSelect)==null||k.call(T,m.current)}function b(){h.setState("value",m.current,!0)}if(!j)return null;let{disabled:v,value:N,onSelect:C,forceMount:S,keywords:A,..._}=e;return x.createElement(at.div,{ref:Ms(i,t),..._,id:s,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!g,"data-disabled":!!v,"data-selected":!!g,onPointerMove:v||u.getDisablePointerSelection()?void 0:b,onClick:v?void 0:w},e.children)}),Jfe=x.forwardRef((e,t)=>{let{heading:r,children:a,forceMount:s,...i}=e,l=Br(),u=x.useRef(null),d=x.useRef(null),f=Br(),m=mf(),h=Li(j=>s||m.filter()===!1?!0:j.search?j.filtered.groups.has(l):!0);Uo(()=>m.group(l),[]),u5(l,u,[e.value,e.heading,d]);let g=x.useMemo(()=>({id:l,forceMount:s}),[s]);return x.createElement(at.div,{ref:Ms(u,t),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&x.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:f},r),xg(e,j=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?f:void 0},x.createElement(o5.Provider,{value:g},j))))}),ehe=x.forwardRef((e,t)=>{let{alwaysRender:r,...a}=e,s=x.useRef(null),i=Li(l=>!l.search);return!r&&!i?null:x.createElement(at.div,{ref:Ms(s,t),...a,"cmdk-separator":"",role:"separator"})}),the=x.forwardRef((e,t)=>{let{onValueChange:r,...a}=e,s=e.value!=null,i=TS(),l=Li(f=>f.search),u=Li(f=>f.selectedItemId),d=mf();return x.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),x.createElement(at.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:s?e.value:l,onChange:f=>{s||i.setState("search",f.target.value),r?.(f.target.value)}})}),rhe=x.forwardRef((e,t)=>{let{children:r,label:a="Suggestions",...s}=e,i=x.useRef(null),l=x.useRef(null),u=Li(f=>f.selectedItemId),d=mf();return x.useEffect(()=>{if(l.current&&i.current){let f=l.current,m=i.current,h,g=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let j=f.offsetHeight;m.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return g.observe(f),()=>{cancelAnimationFrame(h),g.unobserve(f)}}},[]),x.createElement(at.div,{ref:Ms(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":a,id:d.listId},xg(e,f=>x.createElement("div",{ref:Ms(l,d.listInnerRef),"cmdk-list-sizer":""},f)))}),nhe=x.forwardRef((e,t)=>{let{open:r,onOpenChange:a,overlayClassName:s,contentClassName:i,container:l,...u}=e;return x.createElement(_S,{open:r,onOpenChange:a},x.createElement(CS,{container:l},x.createElement(gg,{"cmdk-overlay":"",className:s}),x.createElement(vg,{"aria-label":e.label,"cmdk-dialog":"",className:i},x.createElement(l5,{ref:t,...u}))))}),ahe=x.forwardRef((e,t)=>Li(r=>r.filtered.count===0)?x.createElement(at.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),she=x.forwardRef((e,t)=>{let{progress:r,children:a,label:s="Loading...",...i}=e;return x.createElement(at.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},xg(e,l=>x.createElement("div",{"aria-hidden":!0},l)))}),Ic=Object.assign(l5,{List:rhe,Item:Zfe,Input:the,Group:Jfe,Separator:ehe,Dialog:nhe,Empty:ahe,Loading:she});function ihe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function ohe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function c5(e){let t=x.useRef(e);return Uo(()=>{t.current=e}),t}var Uo=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Rl(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Li(e){let t=TS(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function u5(e,t,r,a=[]){let s=x.useRef(),i=mf();return Uo(()=>{var l;let u=(()=>{var f;for(let m of r){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(f=m.current.textContent)==null?void 0:f.trim():s.current}})(),d=a.map(f=>f.trim());i.value(e,u,d),(l=t.current)==null||l.setAttribute(Al,u),s.current=u}),s}var lhe=()=>{let[e,t]=x.useState(),r=Rl(()=>new Map);return Uo(()=>{r.current.forEach(a=>a()),r.current=new Map},[e]),(a,s)=>{r.current.set(a,s),t({})}};function che(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function xg({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(che(t),{ref:t.ref},r(t.props.children)):r(t)}var uhe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function ji({className:e,...t}){return n.jsx(Ic,{"data-slot":"command",className:We("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function wi({className:e,...t}){return n.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[n.jsx(gr,{className:"size-4 shrink-0 opacity-50"}),n.jsx(Ic.Input,{"data-slot":"command-input",className:We("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function Ni({className:e,...t}){return n.jsx(Ic.List,{"data-slot":"command-list",className:We("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function Si({...e}){return n.jsx(Ic.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function Es({className:e,...t}){return n.jsx(Ic.Group,{"data-slot":"command-group",className:We("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function Ci({className:e,...t}){return n.jsx(Ic.Item,{"data-slot":"command-item",className:We("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Xu(e){const[t,r]=x.useState([]),[a,s]=x.useState(!1),[i,l]=x.useState(null),u=As.getInstance(),d=x.useMemo(()=>u.getHandler(e),[u,e]),f=x.useCallback(async()=>{s(!0),l(null);try{const m=await d.getItems();r(m)}catch(m){console.error(`Failed to load ${e}:`,m),l(m instanceof Error?m.message:`Failed to load ${e}`)}finally{s(!1)}},[d,e]);return x.useEffect(()=>{f()},[f]),{items:t,loading:a,error:i,refetch:f}}function dhe({value:e,onValueChange:t,onCounterpartyAdd:r,filterByCategory:a,onCategoryChange:s,compact:i=!1}){const[l,u]=x.useState(!1),[d,f]=x.useState(""),{items:m,loading:h,error:g}=Xu("counterparties"),j=m.filter(N=>{const C=N.isActive,S=!a||N.category===a,A=!d||N.name?.toLowerCase().includes(d.toLowerCase())||N.binIin?.includes(d)||N.email&&N.email.toLowerCase().includes(d.toLowerCase())||N.region&&N.region.toLowerCase().includes(d.toLowerCase())||N.abbreviation?.toLowerCase().includes(d.toLowerCase());return C&&S&&A}),w=j.reduce((N,C)=>{const S=C.category;return N[S]||(N[S]=[]),N[S].push(C),N},{}),b=m.find(N=>N.id===e),v=N=>{switch(N){case" ":return"bg-green-100 text-green-800";case"":return"bg-blue-100 text-blue-800";case" ":return"bg-orange-100 text-orange-800";case"":return"bg-purple-100 text-purple-800";case"/":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"space-y-2",children:[!i&&n.jsxs(ae,{children:[" *",a&&n.jsx(je,{className:`ml-2 ${v(a)}`,children:a})]}),n.jsxs("div",{className:"flex gap-2 items-stretch",style:{alignItems:"stretch"},children:[n.jsx("div",{className:"flex-1",children:n.jsxs(et,{value:a||"",onValueChange:N=>{s&&s(N)},children:[n.jsx(rt,{className:"h-12 min-h-12",style:{height:"48px",minHeight:"48px"},children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:" ",children:" "}),n.jsx(xe,{value:"",children:""}),n.jsx(xe,{value:" ",children:" "}),n.jsx(xe,{value:"",children:""}),n.jsx(xe,{value:"/",children:"/"})]})]})}),n.jsx("div",{className:"flex-1",children:n.jsxs(fn,{open:l,onOpenChange:N=>{u(N),N||f("")},children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between h-12 min-h-12",style:{height:"48px",minHeight:"48px"},children:[b?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"h-4 w-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:b.name})]}):n.jsx("span",{className:"text-muted-foreground",children:a?`  (${a})...`:" ..."}),n.jsx(LO,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(mn,{className:"w-full p-0",align:"start",children:n.jsxs(ji,{shouldFilter:!1,children:[n.jsx(wi,{placeholder:a?`  ${a.toLowerCase()}...`:" ...",value:d,onValueChange:f}),n.jsxs(Ni,{className:"max-h-[300px]",children:[n.jsx(Si,{children:h?n.jsxs("div",{className:"flex items-center justify-center py-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),n.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:" ..."})]}):g?n.jsxs("div",{className:"text-center py-4 text-red-500",children:[n.jsx("p",{children:"  "}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:g})]}):j.length===0?a?`  "${a}"  .`:"  .":null}),a?n.jsx(Es,{children:j.map(N=>n.jsxs(Ci,{value:N.id,onSelect:()=>{t(N.id),u(!1)},className:"flex items-start gap-2 p-3",children:[n.jsx(Zu,{className:We("h-4 w-4 mt-0.5 flex-shrink-0",e===N.id?"opacity-100":"opacity-0")}),n.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[n.jsx("span",{className:"truncate",children:N.name}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["/: ",N.binIin]}),N.region&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(IE,{className:"h-3 w-3"}),N.region]})]})]})]},N.id))}):Object.entries(w).map(([N,C])=>n.jsx(Es,{heading:N,children:C.map(S=>n.jsxs(Ci,{value:S.id,onSelect:()=>{t(S.id),u(!1)},className:"flex items-start gap-2 p-3",children:[n.jsx(Zu,{className:We("h-4 w-4 mt-0.5 flex-shrink-0",e===S.id?"opacity-100":"opacity-0")}),n.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"truncate",children:S.name}),n.jsx(je,{className:`${v(S.category)} text-xs px-1 py-0 flex-shrink-0`,children:S.category})]}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["/: ",S.binIin]}),S.region&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(IE,{className:"h-3 w-3"}),S.region]})]})]})]},S.id))},N))]})]})})]})}),n.jsx("div",{className:"flex-1 rounded-md border p-3 bg-muted/30 h-12 min-h-12 flex items-center",style:{height:"48px",minHeight:"48px"},children:b?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4 text-sm text-muted-foreground w-full",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"/:"})," ",b.binIin]}),n.jsxs("div",{children:[n.jsx("strong",{children:":"})," ",b.address||" "]})]}):n.jsx("div",{className:"text-sm text-muted-foreground w-full text-center",children:"    "})})]})]})}function d5({onFileSelect:e,onFileNameChange:t,acceptedTypes:r=[".pdf",".jpg",".jpeg",".png"],maxSize:a=10,currentFileName:s,files:i=[],onRemoveFile:l,onViewFile:u,multiple:d=!1}){const f=m=>{if(!m)return;Array.from(m).forEach(g=>{if(g.size>a*1024*1024){alert(` "${g.name}"  .  : ${a}MB`);return}e(g)})};return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",asChild:!0,size:"sm",children:n.jsxs("label",{className:"cursor-pointer",children:[n.jsx(To,{className:"h-4 w-4 mr-1"}),d?" ":" ",n.jsx("input",{type:"file",className:"hidden",accept:r.join(","),multiple:d,onChange:m=>f(m.target.files)})]})}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.join(", "),", . ",a,"MB"]})]}),i&&i.length>0&&n.jsx("div",{className:"space-y-1",children:i.map(m=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[n.jsx(yt,{className:"h-3 w-3 text-blue-500 flex-shrink-0"}),n.jsx("span",{className:"font-medium truncate",children:m.name}),n.jsxs("span",{className:"text-gray-500 flex-shrink-0",children:["(",m.originalName,")"]})]}),n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[u&&n.jsx(X,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>u(m.url),children:""}),l&&n.jsx(X,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>l(m.id),children:n.jsx(cp,{className:"h-3 w-3"})})]})]},m.id))})]})}function fhe(){const e=Date.now().toString().slice(-6),t=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`REQ-${e}-${t}`}const hhe=e=>{const{formData:t,draftId:r,debounceMs:a=1e3,enabled:s=!0,autoSaveDisabled:i=!1,onDraftCreated:l}=e,[u,d]=x.useState(!1),[f,m]=x.useState(!1),[h,g]=x.useState(null),[j,w]=x.useState(null),b=x.useRef(null),v=x.useRef(0),N=x.useRef(s),C=x.useRef(null);x.useEffect(()=>{N.current=s},[s]);const S=()=>{b.current!==null&&(window.clearTimeout(b.current),b.current=null)},A=x.useCallback(()=>{S(),v.current+=1},[]),_=x.useCallback(()=>d(!1),[]),T=x.useCallback(async D=>{if(N.current&&D===v.current&&!(t.status&&t.status!==Ei.DRAFT))try{if(m(!0),w(null),C.current=D,r){const{status:I,...B}=t;await it.update(r,{...B,payingCompany:B.payingCompany,docType:B.docType,counterpartyCategory:B.counterpartyCategory,currency:B.currency,vatRate:B.vatRate})}else{const I=await it.create({...t,status:Ei.DRAFT,payingCompany:t.payingCompany,docType:t.docType,counterpartyCategory:t.counterpartyCategory,currency:t.currency,vatRate:t.vatRate});if(D!==v.current)return;l?.(I.id)}if(D!==v.current)return;d(!1),g(new Date)}catch(I){if(D!==v.current)return;w(I?.message??"Auto-save error")}finally{D===C.current&&(m(!1),C.current=null)}},[r,t,l]);x.useEffect(()=>{if(!s||i||t.status&&t.status!==Ei.DRAFT)return;d(!0),S();const D=v.current+1;return v.current=D,b.current=window.setTimeout(()=>{T(D)},a),()=>{S(),v.current+=1}},[t.payingCompany,t.docType,t.counterpartyId,t.counterpartyCategory,t.amount,t.currency,t.vatRate,t.dueDate,t.expenseCategory,t.productService,t.volume,t.priceRate,t.period,t.docNumber,t.docDate,t.fileName,t.docFileUrl,t.files?.length,s,i,a]),x.useEffect(()=>{(!s||i)&&A()},[s,i]);const k=x.useCallback(async()=>{if(!s||!u||i||!t.counterpartyId||!t.dueDate||f)return;const D=v.current+1;v.current=D,await T(D)},[s,u,i,t.counterpartyId,t.dueDate,f,T]);return{isDirty:u,isSaving:f,lastSaved:h,error:j,saveDraft:k,markClean:_,cancelAutoSave:A}},f5=e=>{const{docType:t,docNumber:r,docDate:a,payingCompany:s,counterpartyName:i}=e,l=w=>{try{const b=new Date(w);return isNaN(b.getTime())?"unknown-date":b.toISOString().split("T")[0]}catch{return"unknown-date"}},u=w=>w.replace(/[^a-zA-Z0-9--\s-]/g,"").replace(/\s+/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),d=l(a),f=u(t),m=u(r),h=u(s),g=u(i);return[f,m,d,h,g].filter(Boolean).join("_")+".pdf"};function h5({onSubmit:e,onCancel:t,onSaveDraft:r,initialData:a,isEditing:s,selectedRequestId:i}){const{items:l}=Xu("counterparties"),{items:u}=Xu("currencies"),{items:d}=Xu("vat-rates"),[f,m]=x.useState({payingCompany:"",docType:"",counterpartyId:"",counterpartyCategory:"",amount:"",currency:"",vatRate:"",dueDate:void 0,docNumber:"",docDate:"",fileName:"",docFileUrl:"",files:[],expenseCategory:"",productService:"",volume:"",priceRate:"",period:""}),[h,g]=x.useState({}),[j,w]=x.useState(!1),[b,v]=x.useState(!1),[N,C]=x.useState(!1),[S,A]=x.useState(null),[_,T]=x.useState(!1),[k,D]=x.useState(!1),I=Q.useRef(null),B=Q.useRef(!1),z=Q.useRef(!1),H=x.useCallback(le=>{A(le),I.current=le},[]);x.useEffect(()=>{I.current=S},[S]);const W=()=>{m({payingCompany:"",docType:"",counterpartyId:"",counterpartyCategory:"",amount:"",currency:"",vatRate:"",dueDate:void 0,docNumber:"",docDate:"",fileName:"",docFileUrl:"",files:[],expenseCategory:"",productService:"",volume:"",priceRate:"",period:""})},Z=B.current?Ei.SUBMITTED:Ei.DRAFT,{isDirty:$,isSaving:M,lastSaved:P,error:O,markClean:K,cancelAutoSave:V}=hhe({formData:{id:S||void 0,payingCompany:f.payingCompany,docType:f.docType,counterpartyId:f.counterpartyId,counterpartyCategory:f.counterpartyCategory,amount:f.amount?Number(f.amount.replace(",",".")):0,currency:f.currency,vatRate:f.vatRate,dueDate:f.dueDate?.toISOString().split("T")[0]||"",description:[f.expenseCategory&&` : ${f.expenseCategory}`,f.productService&&`/: ${f.productService}`,f.volume&&`: ${f.volume}`,f.priceRate&&`/: ${f.priceRate}`,f.period&&`: ${f.period}`].filter(Boolean).join(", "),expenseCategory:f.expenseCategory,productService:f.productService,volume:f.volume,priceRate:f.priceRate,period:f.period,docNumber:f.docNumber,docDate:f.docDate,fileName:f.fileName,docFileUrl:f.docFileUrl,files:f.files||[],status:Z,createdBy:"3394830b-1b62-4db4-a6e4-fdf76b5033f5",history:[],expenseSplits:[],paymentAllocations:[],paymentExecution:void 0,attachments:[]},draftId:S||void 0,enabled:k&&!b&&!N&&!j&&!_&&!B.current&&!z.current,autoSaveDisabled:_,onDraftCreated:H}),q=(le=!1)=>{const ge=[f.expenseCategory&&` : ${f.expenseCategory}`,f.productService&&`/: ${f.productService}`,f.volume&&`: ${f.volume}`,f.priceRate&&`/: ${f.priceRate}`,f.period&&`: ${f.period}`].filter(Boolean).join(", ");return{...S?{id:S}:{},...S?{}:{requestNumber:fhe()},payingCompany:f.payingCompany||"",docType:f.docType||"",counterpartyId:f.counterpartyId,counterpartyCategory:f.counterpartyCategory,amount:f.amount?Number(f.amount.replace(",",".")):0,currency:f.currency||"",vatRate:f.vatRate||"",dueDate:f.dueDate?.toISOString().split("T")[0]||"",description:ge,expenseCategory:f.expenseCategory,productService:f.productService,volume:f.volume,priceRate:f.priceRate,period:f.period,docNumber:f.docNumber,docDate:f.docDate,fileName:f.fileName,docFileUrl:f.docFileUrl,files:f.files||[],...le?{status:Ei.DRAFT}:{},...S?{updatedAt:new Date().toISOString()}:{createdAt:new Date().toISOString()},history:[{id:Date.now().toString(),date:new Date().toISOString(),action:le?" ":"   ",userId:"3394830b-1b62-4db4-a6e4-fdf76b5033f5",role:"EXECUTOR"}],expenseSplits:[]}};x.useEffect(()=>{a&&s&&(m({payingCompany:a.payingCompany||"",docType:a.docType||"",counterpartyId:a.counterpartyId||"",counterpartyCategory:a.counterpartyCategory||"",amount:a.amount?a.amount.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}):"",currency:a.currency||"",vatRate:a.vatRate||"",dueDate:a.dueDate?new Date(a.dueDate):void 0,docNumber:a.docNumber||"",docDate:a.docDate||"",fileName:a.fileName||"",docFileUrl:a.docFileUrl||"",files:a.files||[],expenseCategory:a.expenseCategory||"",productService:a.productService||"",volume:a.volume||"",priceRate:a.priceRate||"",period:a.period||""}),A(a.id),I.current=a.id,a.status&&a.status!==Ei.DRAFT&&(T(!0),B.current=!0))},[a,s]),x.useEffect(()=>{i&&!s&&(A(i),I.current=i)},[i,s]),x.useEffect(()=>()=>{V()},[V]);const F=le=>{const ge=L(),Le=le.name.split(".").pop(),Xe=((f.files?.length||0)+1).toString().padStart(2,"0"),ot=ge?`${ge}_${Xe}.${Le}`:le.name,wt={id:`file_${Date.now()}`,name:ot,url:`/uploads/${ot}`,originalName:le.name,mimeType:le.type||"application/octet-stream",docType:f.docType||""};m(te=>({...te,files:[...te.files||[],wt],docFileUrl:wt.url,fileName:wt.name})),we.success(" ")},L=()=>{if(!f.docType||!f.docNumber||!f.docDate||!f.payingCompany||!f.counterpartyId)return"";const ge=l.find(Le=>Le.id===f.counterpartyId)?.name||"Unknown";return f5({docType:f.docType,docNumber:f.docNumber,docDate:f.docDate,payingCompany:f.payingCompany,counterpartyName:ge})};x.useEffect(()=>{const le=L();le&&!f.fileName.includes("original_")&&m(ge=>({...ge,fileName:le}))},[f.docType,f.docNumber,f.docDate,f.payingCompany,f.counterpartyId]);const Y=le=>{m(ge=>({...ge,fileName:le}))},ee=le=>{m(ge=>{const Le=(ge.files||[]).filter(Xe=>Xe.id!==le);return{...ge,files:Le,docFileUrl:Le[0]?.url||"",fileName:Le[0]?.name||""}}),we.success(" ")},ce=le=>{window.open(le,"_blank")},G=le=>{const ge=le.replace(/[^\d.,]/g,"");m(Le=>({...Le,amount:ge}))},fe=()=>{const le={};return f.payingCompany||(le.payingCompany="  "),f.docType||(le.docType="  -"),f.counterpartyCategory||(le.counterpartyCategory="  "),f.counterpartyId||(le.counterparty=" "),f.docNumber||(le.docNumber="  "),f.docDate||(le.docDate="  "),(f.files?.length||0)===0&&(le.file="  -"),(!f.amount||isNaN(Number(f.amount.replace(",",".")))||Number(f.amount.replace(",","."))<=0)&&(le.amount="  "),(!f.currency||f.currency.trim()==="")&&(le.currency="   "),(!f.vatRate||f.vatRate.trim()==="")&&(le.vatRate="    "),f.dueDate||(le.dueDate="  "),f.expenseCategory.trim()||(le.expenseCategory="    "),f.productService.trim()||(le.productService="/   "),f.volume.trim()||(le.volume="   "),f.priceRate.trim()||(le.priceRate="/   "),f.period.trim()||(le.period="   "),g(le),Object.keys(le).length===0},oe=()=>{if(!fe()){we.error(",    ");return}z.current=!0,V(),T(!0),w(!0)},Ee=async()=>{V();let le=0;for(;M&&le<10;)await new Promise(Le=>setTimeout(Le,100)),le++;z.current&&I.current==null&&S==null&&await new Promise(Le=>setTimeout(Le,0));let ge=I.current??S;if(ge){const Le=q(!1),{status:Xe,...ot}=Le;return await it.update(ge,ot),await it.submit(ge)}else{const Le=q(!0);return ge=(await it.create(Le)).id,A(ge),I.current=ge,await it.submit(ge)}},Oe=async()=>{v(!0),w(!1),z.current=!0,B.current=!0,T(!0),V();try{const le=await Ee();K(),A(null),I.current=null,W(),D(!1),we.success("    "),e(le)}catch(le){console.error("Failed to submit request:",le),we.error("   "),B.current=!1,T(!1),z.current=!1}finally{z.current=!1,v(!1)}},re=async()=>{if(!N)try{if(C(!0),S){console.log(" Manual save: Updating existing draft...");const le=q(!0),ge=await it.update(S,le);K(),we.success(" "),r&&r(ge)}else{console.log(" Manual save: Creating new draft...");const le=q(!0),ge=await it.create(le);A(ge.id),I.current=ge.id,K(),we.success(" "),r&&r(ge)}}catch(le){console.error("Failed to save draft:",le),we.error("   ")}finally{C(!1)}};return n.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",onClick:t,children:[n.jsx(ka,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold",children:s?" ":"   "}),n.jsx("p",{className:"text-muted-foreground",children:s?"   ":"     "})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[M&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary"}),n.jsx("span",{children:"..."})]}),P&&!M&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(mt,{className:"h-3 w-3 text-green-500"}),n.jsxs("span",{children:[" ",ht(P,"HH:mm",{locale:St})]})]}),$&&!M&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"h-2 w-2 bg-orange-500 rounded-full"}),n.jsx("span",{children:"  "})]})]})]}),O&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-red-600",children:[" : ",O]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"  "]})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"payingCompany",children:"  *"}),n.jsxs(et,{value:f.payingCompany||"",onValueChange:le=>m(ge=>({...ge,payingCompany:le})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"SD",children:"SD"}),n.jsx(xe,{value:"KD",children:"KD"}),n.jsx(xe,{value:"AEK",children:"AEK"}),n.jsx(xe,{value:"ADT",children:"ADT"}),n.jsx(xe,{value:"KAS",children:"KAS"})]})]}),h.payingCompany&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.payingCompany})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"docType",children:" - *"}),n.jsxs(et,{value:f.docType||"",onValueChange:le=>m(ge=>({...ge,docType:le})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"",children:""}),n.jsx(xe,{value:"",children:""}),n.jsx(xe,{value:"",children:""}),n.jsx(xe,{value:"Debit note",children:"Debit note"}),n.jsx(xe,{value:"",children:""}),n.jsx(xe,{value:" ",children:" "}),n.jsx(xe,{value:"",children:""}),n.jsx(xe,{value:"",children:""}),n.jsx(xe,{value:"-",children:"-"}),n.jsx(xe,{value:"  ",children:"  "}),n.jsx(xe,{value:"",children:""})]})]}),h.docType&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.docType})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(dhe,{value:f.counterpartyId,onValueChange:le=>m(ge=>({...ge,counterpartyId:le})),filterByCategory:f.counterpartyCategory,onCategoryChange:le=>{m(ge=>({...ge,counterpartyCategory:le,counterpartyId:""}))}}),h.counterparty&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.counterparty}),h.counterpartyCategory&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.counterpartyCategory})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"docNumber",children:"  *"}),n.jsx(Ie,{id:"docNumber",value:f.docNumber,onChange:le=>m(ge=>({...ge,docNumber:le.target.value})),placeholder:"  "}),h.docNumber&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.docNumber})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"docDate",children:"  *"}),n.jsx(Ie,{id:"docDate",type:"date",value:f.docDate,onChange:le=>m(ge=>({...ge,docDate:le.target.value}))}),h.docDate&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.docDate})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"file",children:"- *"}),n.jsx(d5,{onFileSelect:F,onFileNameChange:Y,currentFileName:f.fileName,files:f.files,onRemoveFile:ee,onViewFile:ce,acceptedTypes:[".pdf",".doc",".docx",".xls",".xlsx",".jpg",".jpeg",".png"],maxSize:10,multiple:!0}),h.file&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.file})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(DO,{className:"h-5 w-5"}),"  "]})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"amount",children:" *"}),n.jsx(Ie,{id:"amount",value:f.amount,onChange:le=>G(le.target.value),placeholder:"0,00"}),h.amount&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.amount})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"currency",children:" *"}),n.jsxs(et,{value:f.currency||"",onValueChange:le=>m(ge=>({...ge,currency:le})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:u.map(le=>n.jsx(xe,{value:le.code,children:le.name||le.code},le.code))})]}),h.currency&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.currency})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"vatRate",children:"  *"}),n.jsxs(et,{value:f.vatRate||"",onValueChange:le=>m(ge=>({...ge,vatRate:le})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"  "})}),n.jsx(nt,{children:d.map(le=>n.jsx(xe,{value:le.name,children:le.name},le.id))})]}),h.vatRate&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.vatRate})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"dueDate",children:"  *"}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:We("w-full justify-start text-left font-normal",!f.dueDate&&"text-muted-foreground"),children:[n.jsx(pr,{className:"mr-2 h-4 w-4"}),f.dueDate?ht(f.dueDate,"dd.MM.yyyy",{locale:St}):" "]})}),n.jsx(mn,{className:"w-auto p-0",children:n.jsx(vo,{mode:"single",selected:f.dueDate,onSelect:le=>m(ge=>({...ge,dueDate:le})),initialFocus:!0})})]}),h.dueDate&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.dueDate})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:" "}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"expenseCategory",className:"text-xs",children:"  *"}),n.jsx(Ie,{id:"expenseCategory",value:f.expenseCategory,onChange:le=>m(ge=>({...ge,expenseCategory:le.target.value})),placeholder:"  ",className:"h-8 text-sm"}),h.expenseCategory&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.expenseCategory})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"productService",className:"text-xs",children:"/ *"}),n.jsx(Ie,{id:"productService",value:f.productService,onChange:le=>m(ge=>({...ge,productService:le.target.value})),placeholder:"   ",className:"h-8 text-sm"}),h.productService&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.productService})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"volume",className:"text-xs",children:" *"}),n.jsx(Ie,{id:"volume",value:f.volume,onChange:le=>m(ge=>({...ge,volume:le.target.value})),placeholder:" ",className:"h-8 text-sm"}),h.volume&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.volume})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"priceRate",className:"text-xs",children:"/ *"}),n.jsx(Ie,{id:"priceRate",value:f.priceRate,onChange:le=>m(ge=>({...ge,priceRate:le.target.value})),placeholder:"   ",className:"h-8 text-sm"}),h.priceRate&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.priceRate})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"period",className:"text-xs",children:" *"}),n.jsx(Ie,{id:"period",value:f.period,onChange:le=>m(ge=>({...ge,period:le.target.value})),placeholder:" ",className:"h-8 text-sm"}),h.period&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.period})]})]})]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(X,{variant:"outline",onClick:re,disabled:b||N,children:[n.jsx(Wd,{className:"h-4 w-4 mr-2"}),N?"...":" "]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",onClick:t,disabled:b,children:""}),n.jsxs(X,{onClick:oe,disabled:b,children:[n.jsx(lp,{className:"h-4 w-4 mr-2"}),b?"...":" "]})]})]}),n.jsx(Ft,{open:j,onOpenChange:w,children:n.jsxs($t,{children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:" ,      ?       ."})]}),n.jsxs(qu,{children:[n.jsx(X,{variant:"outline",onClick:()=>w(!1),children:""}),n.jsx(X,{onClick:Oe,children:" "})]})]})})]})}const Dj=[{status:"draft",label:""},{status:"submitted",label:""},{status:"classified",label:""},{status:"approved",label:""},{status:"in-register",label:" "},{status:"paid-full",label:""}];function mhe({status:e,className:t}){const r=Dj.findIndex(i=>i.status===e),a=r>=0?(r+1)/Dj.length*100:0,s=(i,l)=>e==="declined"||e==="returned"||e==="rejected"?i<=r?n.jsx(Vn,{className:"h-4 w-4 text-red-500"}):n.jsx(RE,{className:"h-4 w-4 text-gray-300"}):i<r?n.jsx(mt,{className:"h-4 w-4 text-green-500"}):i===r?n.jsx(Zt,{className:"h-4 w-4 text-blue-500"}):n.jsx(RE,{className:"h-4 w-4 text-gray-300"});return n.jsxs("div",{className:`space-y-3 ${t||""}`,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:" "}),n.jsxs("span",{className:"text-muted-foreground",children:[Math.round(a),"%"]})]}),n.jsx(rN,{value:a,className:`h-2 ${e==="declined"||e==="returned"||e==="rejected"?"[&>div]:bg-red-500":""}`}),n.jsx("div",{className:"hidden md:flex items-center justify-between",children:Dj.map((i,l)=>n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s(l,i.status),n.jsx("span",{className:`text-xs text-center max-w-16 ${l<=r?"text-foreground":"text-muted-foreground"}`,children:i.label})]},i.status))})]})}function AS({request:e,getCounterpartyName:t,getCounterpartyCategory:r,getVatRate:a,onViewDocument:s,onDownloadDocument:i,showDocumentActions:l=!0,className:u=""}){const d=m=>{if(!m)return" ";const h=new Date(m);return isNaN(h.getTime())?" ":new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}).format(h)},f=m=>{if(m.fileName)return m.fileName;const h=m.requestNumber||"UNKNOWN",g=new Date(m.createdAt).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit"}).replace(/\./g,""),j=m.payingCompany||"KD",w=t(m.counterpartyId).split(" ")[0];return`_${h}_${g}_${j}_${w}`};return n.jsxs(me,{className:u,children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"  "]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ss,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:e.payingCompany||" "})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:d(e.docDate)})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:""}),n.jsx("p",{className:"text-lg font-semibold",children:$r(e.amount,e.currency)})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" -"}),n.jsx("p",{className:"text-sm",children:e.docType||""})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ao,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:r?r(e.counterpartyId):e.counterpartyCategory||" "})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(a6,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:a?a(e.vatRate):e.vatRate||" "})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:e.docNumber})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ss,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:""}),n.jsx("p",{className:"text-sm",children:t(e.counterpartyId)})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:d(e.dueDate)})]})]})]}),e.description&&n.jsx("div",{className:"mt-6 pt-4 border-t",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(tB,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm",children:""}),n.jsx("div",{className:"text-sm mt-2",children:e.description.split(`
`).map((m,h)=>{const g=m.indexOf(":");if(g!==-1){const j=m.substring(0,g+1),w=m.substring(g+1),v=[" :","/:",":","/:",":"].some(N=>j.toLowerCase().includes(N.toLowerCase()));return n.jsxs("span",{className:"inline-block mr-4",children:[n.jsx("span",{className:v?"font-bold":"font-semibold",children:j}),n.jsx("span",{children:w})]},h)}return m.trim()?n.jsx("span",{className:"inline-block mr-4",children:m},h):null})})]})]})}),l&&n.jsx("div",{className:"mt-6 pt-4 border-t",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm",children:"-"}),e.files&&e.files.length>0?n.jsx("div",{className:"space-y-2 mt-2",children:e.files.map((m,h)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-lg bg-gray-50",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:m.originalName||m.name}),m.url&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]}),n.jsxs("div",{className:"flex gap-1",children:[m.url&&n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>window.open(m.url,"_blank"),children:[n.jsx(Pi,{className:"h-4 w-4 mr-1"}),""]}),m.url&&n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{const g=document.createElement("a");g.href=m.url,g.download=m.originalName||m.name,g.click()},children:[n.jsx(Xn,{className:"h-4 w-4 mr-1"}),""]})]})]},m.id||h))}):n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground flex-1",children:f(e)}),s&&n.jsxs(X,{variant:"outline",size:"sm",onClick:s,children:[n.jsx(Pi,{className:"h-4 w-4 mr-1"}),""]}),i&&n.jsxs(X,{variant:"outline",size:"sm",onClick:i,children:[n.jsx(Xn,{className:"h-4 w-4 mr-1"}),""]})]})]})]})})]})]})}function m5({request:e,initialSplits:t}){const[r,a]=x.useState(()=>t&&t.length>0?t.map(g=>({expenseItemId:g.expenseItemId,amount:g.amount,comment:g.comment,contractId:g.contractId,priority:g.priority})):[{expenseItemId:"",amount:e.amount,comment:""}]),s=x.useMemo(()=>r.reduce((g,j)=>g+(j.amount||0),0),[r]),i=x.useMemo(()=>Math.abs(s-e.amount)<.01,[s,e.amount]),l=x.useMemo(()=>{const g=[],j=r.filter(v=>!v.expenseItemId);j.length>0&&g.push(`${j.length}      `);const w=r.filter(v=>"subRegistrarId"in v&&!v.subRegistrarId);w.length>0&&g.push(`  -  ${w.length} `),i||g.push(`  (${s.toLocaleString()})     (${e.amount.toLocaleString()})`);const b=r.filter(v=>!v.amount||v.amount<=0);return b.length>0&&g.push(`${b.length}     `),g},[r,i,s,e.amount]),u=x.useMemo(()=>{const g=[],j=r.filter(b=>!b.expenseItemId);j.length>0&&g.push(`     ${j.length} `);const w=r.filter(b=>"subRegistrarId"in b&&!b.subRegistrarId);return w.length>0&&g.push(`  -  ${w.length} `),i||g.push(`  (${s.toLocaleString()})     (${e.amount.toLocaleString()})`),g},[r,i,s,e.amount]),d=x.useMemo(()=>l.length===0,[l]),f=x.useCallback(()=>{a(g=>[...g,{expenseItemId:"",amount:0,comment:""}])},[]),m=x.useCallback(g=>{a(j=>j.length>1?j.filter((w,b)=>b!==g):j)},[]),h=x.useCallback((g,j,w)=>{a(b=>{const v=[...b];return v[g]={...v[g],[j]:w},v})},[]);return{splits:r,setSplits:a,totalSplit:s,isBalanced:i,addSplit:f,removeSplit:m,updateSplit:h,validationErrors:l,validationWarnings:u,isFormValid:d}}const RS=x.memo(({request:e,expenseItems:t,onSplitsChange:r,initialSplits:a,showValidation:s=!0,className:i=""})=>{const{splits:l,totalSplit:u,isBalanced:d,addSplit:f,removeSplit:m,updateSplit:h}=m5({request:e,initialSplits:a}),[g,j]=x.useState(null),[w,b]=x.useState([]),[v,N]=x.useState(!1);x.useEffect(()=>{r(l)},[l]),x.useEffect(()=>{C()},[]);const C=async()=>{try{N(!0);const A=await Xh.getSubRegistrars();b(A)}catch(A){console.error("Error loading sub-registrars:",A),we.error("  -")}finally{N(!1)}},S=A=>{const _=t.find(T=>T.id===A);return _?_.name:" "};return n.jsx("div",{className:`space-y-4 ${i}`,children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:["   ",n.jsxs(je,{variant:d?"default":"destructive",children:[": ",$r(u,e.currency)]})]})}),n.jsxs(pe,{className:"space-y-4",children:[s&&!d&&n.jsxs(ip,{variant:"destructive",children:[n.jsx(Ot,{className:"h-4 w-4"}),n.jsxs(op,{children:["  (",$r(u,e.currency),")     (",$r(e.amount,e.currency),")"]})]}),l.map((A,_)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h4",{className:"font-medium",children:[" ",_+1]}),l.length>1&&n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>m(_),children:n.jsx(Sr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(fn,{open:g===_,onOpenChange:T=>{j(T?_:null)},children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[S(A.expenseItemId),n.jsx(LO,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(mn,{className:"w-full p-0",align:"start",children:n.jsxs(ji,{children:[n.jsx(wi,{placeholder:"  ..."}),n.jsxs(Ni,{children:[n.jsx(Si,{children:"  ."}),n.jsx(Es,{children:t.map(T=>n.jsxs(Ci,{value:T.id,onSelect:k=>{h(_,"expenseItemId",k),j(null)},children:[n.jsx(Zu,{className:We("mr-2 h-4 w-4",A.expenseItemId===T.id?"opacity-100":"opacity-0")}),n.jsx("span",{children:T.name})]},T.id))})]})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" *"}),n.jsx(Ie,{type:"number",value:A.amount||"",onChange:T=>h(_,"amount",Number(T.target.value)),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"- *"}),n.jsxs(et,{value:A.subRegistrarId||"",onValueChange:T=>h(_,"subRegistrarId",T),disabled:v,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" -"})}),n.jsx(nt,{children:w.map(T=>n.jsxs(xe,{value:T.id,children:[T.full_name," (",T.email,")"]},T.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(Ie,{value:A.comment||"",onChange:T=>h(_,"comment",T.target.value),placeholder:" "})]})]})]},_)),n.jsxs(X,{variant:"outline",onClick:f,className:"w-full",children:[n.jsx(on,{className:"h-4 w-4 mr-2"}),"  "]})]})]})})});RS.displayName="ExpenseSplitForm";function phe({requestId:e,onCancel:t,onRequestUpdate:r}){const{items:a}=ir("counterparties"),{items:s}=ir("expense-articles"),{items:i}=ir("vat-rates"),[l,u]=x.useState(null),[d,f]=x.useState(!0),[m,h]=x.useState(!1);x.useEffect(()=>{e&&(async()=>{try{f(!0);const T=await it.getById(e);u(T)}catch(T){console.error("Failed to load request:",T),we.error("  ")}finally{f(!1)}})()},[e]);const g=_=>{const T=a.find(k=>k.id===_);return T?T.name:" "},j=_=>{const T=a.find(k=>k.id===_);return T?T.category:" "},w=_=>{if(!_)return" ";const T=i.find(k=>k.name===_);return T?T.name:_},b=_=>{if(_.fileName)return _.fileName;const T=a.find(D=>D.id===_.counterpartyId),k=T?.abbreviation||T?.name||"Unknown";return f5({docType:_.docType||"",docNumber:_.docNumber||_.requestNumber||"UNKNOWN",docDate:_.docDate||_.createdAt,payingCompany:_.payingCompany||"KD",counterpartyName:k})},v=_=>{_.url?window.open(_.url,"_blank"):we.info(` : ${_.name}`)},N=()=>{h(!0)},C=async _=>{try{f(!0);const T=await it.update(e,_);u(T),h(!1),r&&r(T);const k=_.status==="draft"?"":"  ";we.success(`  ${k}`)}catch(T){console.error("Failed to update request:",T),we.error("  ")}finally{f(!1)}},S=()=>{h(!1)},A=_=>{const T=s.find(k=>k.id===_);return T?`${T.code} - ${T.name}`:_||""};return m&&l?n.jsx(h5,{onSubmit:C,onCancel:S,onSaveDraft:C,initialData:l,isEditing:!0}):d?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(X,{variant:"ghost",size:"sm",onClick:t,children:[n.jsx(ka,{className:"w-4 h-4"}),""]})}),n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]}):l?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:t,children:[n.jsx(ka,{className:"w-4 h-4"}),""]}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-semibold",children:[" ",l.requestNumber]}),n.jsx("p",{className:"text-muted-foreground",children:l.status==="draft"?"   ":"  "})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[l.status==="draft"&&n.jsxs(X,{onClick:N,className:"flex items-center gap-2",children:[n.jsx(sn,{className:"w-4 h-4"}),""]}),n.jsx(qo,{status:l.status})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsx(pe,{children:n.jsx(mhe,{status:l.status})})]}),n.jsx(AS,{request:l,getCounterpartyName:g,getCounterpartyCategory:j,getVatRate:w,onViewDocument:()=>v({name:b(l),url:l.docFileUrl}),onDownloadDocument:()=>v({name:b(l),url:l.docFileUrl}),showDocumentActions:!0}),l.expenseSplits&&l.expenseSplits.length>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vl,{className:"h-5 w-5"}),"   "]}),n.jsxs(je,{variant:"default",children:[": ",$r(l.expenseSplits.reduce((_,T)=>_+T.amount,0),l.currency)]})]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:l.expenseSplits.map((_,T)=>n.jsxs("div",{className:"flex justify-between items-start p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:A(_.expenseItemId)}),_.comment&&n.jsxs("div",{className:"mt-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:" :"}),n.jsx("p",{className:"text-sm text-muted-foreground italic",children:_.comment})]})]}),n.jsx(je,{variant:"secondary",children:$r(_.amount,l.currency)})]},T))})})]}),l.status==="approved"&&n.jsx(RS,{request:l,expenseItems:s,onSplitsChange:_=>{},showValidation:!0}),l.paymentAllocations&&l.paymentAllocations.length>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:l.paymentAllocations.map((_,T)=>n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),n.jsx("p",{className:"font-medium",children:_.contractId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),n.jsx("p",{className:"font-medium",children:$r(_.amount,l.currency)})]})]}),_.comment&&n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),n.jsx("p",{children:_.comment})]}),_.priority&&n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),n.jsx(je,{variant:_.priority==="high"?"destructive":_.priority==="medium"?"default":"secondary",children:_.priority==="high"?"":_.priority==="medium"?"":""})]})]},T))})})]}),l.paymentExecution&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsxs(pe,{className:"space-y-4",children:[l.paymentExecution.actualAmount&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" "}),n.jsx("p",{className:"font-medium",children:$r(l.paymentExecution.actualAmount,l.currency)})]}),l.paymentExecution.executionDate&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" "}),n.jsx("p",{children:Yu(l.paymentExecution.executionDate)})]}),l.paymentExecution.exchangeRate&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" "}),n.jsx("p",{children:l.paymentExecution.exchangeRate})]}),l.paymentExecution.executionComment&&n.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[n.jsx("label",{className:"text-sm font-medium text-orange-800",children:" "}),n.jsx("p",{className:"mt-1 text-orange-700",children:l.paymentExecution.executionComment})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(X,{variant:"ghost",size:"sm",onClick:t,children:[n.jsx(ka,{className:"w-4 h-4"}),""]})}),n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"  "})})]})}const ghe=e=>{const[t,r]=x.useState({}),[a,s]=x.useState(!1),[i,l]=x.useState(null),{requestIds:u}=e,d=x.useCallback(async()=>{if(u.length===0){r({});return}try{s(!0),l(null);const m={},h=u.map(async g=>{try{const b=(await it.getRequestEvents(g)).map(m7).filter(v=>v.eventType==="REJECTED").sort((v,N)=>new Date(N.createdAt).getTime()-new Date(v.createdAt).getTime())[0];b&&b.comment&&(m[g]=b.comment)}catch(j){console.warn(`Failed to fetch events for request ${g}:`,j)}});await Promise.all(h),r(m)}catch(m){const h=m instanceof Error?m.message:"Failed to fetch rejection reasons";l(h),console.error("Error fetching rejection reasons:",m)}finally{s(!1)}},[u.join(",")]),f=x.useCallback(async()=>{await d()},[d]);return x.useEffect(()=>{d()},[d]),{rejectionReasons:t,loading:a,error:i,refetch:f}},Mj=e=>{if(!e)return!1;try{const t=new Date(e),r=new Date;return r.setHours(0,0,0,0),t.setHours(0,0,0,0),isNaN(t.getTime())?!1:t<r}catch(t){return console.warn("Error checking overdue date:",t),!1}};function vhe({onCreateRequest:e,onViewRequest:t,onEditRequest:r}){const{items:a}=Xu("counterparties"),[s,i]=x.useState(""),[l,u]=x.useState("all"),[d,f]=x.useState("all"),{data:m,loading:h,error:g}=p3({status:d!=="all"?d:void 0,searchTerm:s||void 0,counterpartyFilter:l!=="all"?l:void 0}),j=m.filter(S=>S.status==="rejected").map(S=>S.id),{rejectionReasons:w}=ghe({requestIds:j}),b=x.useMemo(()=>{const S=[...new Set(m.map(A=>A.counterpartyId))];return a.filter(A=>S.includes(A.id))},[m,a]),v=x.useMemo(()=>{let S=[...m];return s&&(S=S.filter(A=>{const _=a.find(T=>T.id===A.counterpartyId);return A.docNumber?.toLowerCase().includes(s.toLowerCase())||A.requestNumber?.toLowerCase().includes(s.toLowerCase())||A.description.toLowerCase().includes(s.toLowerCase())||_?.name?.toLowerCase().includes(s.toLowerCase())||A.amount.toString().includes(s)})),l!=="all"&&(S=S.filter(A=>A.counterpartyId===l)),d!=="all"&&(S=S.filter(A=>A.status===d)),S.sort((A,_)=>{try{const T=new Date(A.createdAt),k=new Date(_.createdAt);return isNaN(T.getTime())||isNaN(k.getTime())?0:k.getTime()-T.getTime()}catch{return 0}})},[m,s,l,d,a]),N=S=>a.find(A=>A.id===S)?.name||"",C=()=>{const S={draft:"",submitted:" ","in-register":"",rejected:"","to-pay":""};return[{value:"all",label:" "},...["draft","submitted","in-register","rejected","to-pay"].map(T=>({value:T,label:S[T]||T}))]};return h?n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})})}):g?n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-500 mb-2",children:"  "}),n.jsx("p",{className:"text-muted-foreground text-sm",children:g}),n.jsx(X,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:" "})]})})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"  "}),n.jsx("p",{className:"text-muted-foreground",children:"  ,     "})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(X,{onClick:e,children:[n.jsx(on,{className:"h-4 w-4 mr-2"})," "]})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Fi,{className:"h-4 w-4"}),""]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{placeholder:"  , ...",value:s,onChange:S=>i(S.target.value),className:"pl-10"})]}),n.jsxs(et,{value:l,onValueChange:u,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:` (${b.length})`})}),n.jsxs(nt,{children:[n.jsxs(xe,{value:"all",children:["  (",b.length,")"]}),b.map(S=>n.jsx(xe,{value:S.id,children:S.name},S.id))]})]}),n.jsxs(et,{value:d,onValueChange:f,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:""})}),n.jsx(nt,{children:C().map(S=>n.jsx(xe,{value:S.value,children:S.label},S.value))})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-xl font-semibold",children:v.length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"h-4 w-4 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-xl font-semibold",children:new Set(v.map(S=>S.counterpartyId)).size})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kn,{className:"h-4 w-4 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-xl font-semibold",children:$r(v.reduce((S,A)=>S+A.amount,0),"KZT")})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-xl font-semibold",children:v.filter(S=>Mj(S.dueDate)).length})]})]})})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ae,{children:[" (",v.length,")"]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"})," xlsx"]})]}),n.jsx(pe,{children:n.jsxs("div",{children:[n.jsxs(Lr,{className:"table-fixed w-full",children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{className:"w-32",children:" "}),n.jsx(Ce,{className:"w-40",children:""}),n.jsx(Ce,{className:"w-24",children:""}),n.jsx(Ce,{className:"w-28",children:" "}),n.jsx(Ce,{className:"w-32",children:""}),n.jsx(Ce,{className:"w-36",children:"   "}),n.jsx(Ce,{className:"w-28",children:""}),n.jsx(Ce,{className:"w-16",children:""})]})}),n.jsx(Ur,{children:v.map(S=>n.jsxs(pt,{className:"hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>t?.(S.id),children:[n.jsx(Se,{className:"font-medium w-32",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"truncate text-ellipsis overflow-hidden",title:S.requestNumber||S.docNumber,style:{maxWidth:"128px"},children:S.requestNumber||S.docNumber}),S.requestNumber&&n.jsx("span",{className:"text-xs text-muted-foreground truncate text-ellipsis overflow-hidden",title:S.docNumber,style:{maxWidth:"128px"},children:S.docNumber}),S.status==="rejected"&&w[S.id]&&n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx(Ot,{className:"h-3 w-3 text-red-500"}),n.jsx("span",{className:"text-xs text-red-600 font-medium truncate text-ellipsis overflow-hidden",title:w[S.id],style:{maxWidth:"128px"},children:w[S.id]})]})]})}),n.jsx(Se,{className:"w-40",children:n.jsx("span",{className:"truncate block text-ellipsis overflow-hidden",title:N(S.counterpartyId),style:{maxWidth:"160px"},children:N(S.counterpartyId)})}),n.jsx(Se,{className:"w-24",children:n.jsx("div",{className:"flex items-center gap-1",children:n.jsx("span",{className:"truncate",children:$r(S.amount,S.currency)})})}),n.jsx(Se,{className:"w-28",children:n.jsxs("div",{className:`flex items-center gap-2 ${Mj(S.dueDate)?"text-red-600":""}`,children:[n.jsx("span",{className:"truncate",children:Yu(S.dueDate)}),Mj(S.dueDate)&&n.jsx(je,{variant:"destructive",className:"text-xs",children:""})]})}),n.jsx(Se,{className:"w-32",children:n.jsx(qo,{status:S.status,showTooltip:!0,responsible:wx(S.status),statusTime:Yu(S.updatedAt||S.createdAt)})}),n.jsx(Se,{className:"text-muted-foreground w-36",children:n.jsx("span",{className:"truncate block text-ellipsis overflow-hidden",title:wx(S.status),style:{maxWidth:"144px"},children:wx(S.status)})}),n.jsx(Se,{className:"text-muted-foreground w-28",children:n.jsx("span",{className:"truncate block",children:Yu(S.createdAt)})}),n.jsx(Se,{className:"w-16",children:n.jsx("div",{className:"flex items-center justify-end gap-1",children:S.status==="rejected"&&r&&n.jsx(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:A=>{A.stopPropagation(),r(S.id)},title:"",children:n.jsx(sn,{className:"h-4 w-4"})})})})]},S.id))})]}),v.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  "})]})})]})]})}function Ai({className:e,...t}){return n.jsx("textarea",{"data-slot":"textarea",className:We("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function cO({request:e,onSubmit:t,onReturn:r,onCancel:a}){const{items:s,state:i}=ir("expense-articles"),{items:l,state:u}=ir("counterparties"),[d,f]=x.useState(""),[m,h]=x.useState(!1),[g,j]=x.useState(!1),[w,b]=x.useState(null),{splits:v,setSplits:N,validationWarnings:C,isFormValid:S}=m5({request:e,initialSplits:[]});x.useEffect(()=>{(async()=>{try{const D=await Xh.getContractStatus(e.counterpartyId);b(D)}catch(D){console.error("Error loading contract status:",D)}})()},[e.counterpartyId]);const A=async()=>{if(!S){we.error("    ");return}if(v.filter(D=>!D.subRegistrarId).length>0){we.error(" -   ");return}j(!0);try{const D=v.map((W,Z)=>({id:`split-${Date.now()}-${Z}`,requestId:e.id,expenseItemId:W.expenseItemId,amount:W.amount,comment:W.comment,contractId:"outside-contract",priority:"medium",subRegistrarId:W.subRegistrarId}));console.log("DEBUG: Sending classification request:",{requestId:e.id,requestStatus:e.status,expenseSplits:D}),await it.classify(e.id,D,"");const I=v.reduce((W,Z)=>{const $=Z.subRegistrarId;return $&&(W[$]||(W[$]=[]),W[$].push(Z)),W},{}),B=Object.keys(I),z=[];for(let W=0;W<B.length;W++){const Z=B[W],$=I[Z],P={requestId:crypto.randomUUID(),subRegistrarId:Z,distributorId:"10756640-8f37-4cd2-84da-f9d1e3c16c70",expenseSplits:$.map(K=>({expenseItemId:K.expenseItemId,amount:K.amount,comment:K.comment,contractId:"outside-contract",priority:"medium"})),comment:` ${W+1}  -`,originalRequestId:e.id},O=await Xh.sendRequestsParallel(P);z.push(O)}So.notifyRequestDistributed(e.id,e.requestNumber||" "),B.forEach(W=>{So.notifySubRegistrarAssigned(e.id,e.requestNumber||" ")}),So.notifyDistributorRequestCreated(e.id,e.requestNumber||" "),we.success(`      ${z.length}   -`);const H=v.map((W,Z)=>({id:`split-${Date.now()}-${Z}`,requestId:e.id,expenseItemId:W.expenseItemId,amount:W.amount,comment:W.comment,contractId:"outside-contract",priority:"medium",subRegistrarId:W.subRegistrarId}));t(H)}catch(D){console.error("Error classifying request:",D),we.error("   ")}finally{j(!1)}},_=async()=>{if(!d.trim()){we.error("  ");return}j(!0);try{await Xh.returnRequest({requestId:e.id,comment:d}),we.success("  "),r(d),h(!1)}catch(k){console.error("Error returning request:",k),we.error("   ")}finally{j(!1)}},T=k=>l.find(D=>D.id===k)?.name||"";return i.isLoading||u.isLoading?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):i.error||u.error?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-destructive mb-2",children:"  "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:i.error||u.error})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:a,children:n.jsx(ka,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("h2",{children:["  ",e.requestNumber]}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]})]})}),n.jsx(AS,{request:e,getCounterpartyName:T,onViewDocument:()=>{e.docFileUrl?window.open(e.docFileUrl,"_blank"):we.info(` : ${e.fileName}`)},onDownloadDocument:()=>{we.info(` : ${e.fileName}`)},showDocumentActions:!0}),w&&n.jsx(me,{className:w.hasContract?"border-green-200 bg-green-50":"border-red-200 bg-red-50",children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${w.hasContract?"bg-green-500":"bg-red-500"}`}),n.jsx("div",{className:"flex-1",children:w.hasContract?n.jsxs("div",{className:"text-green-800",children:[n.jsx("p",{className:"font-medium",children:"   "}),n.jsxs("p",{className:"text-sm",children:[" ",w.contractNumber,"  ",w.contractDate]}),w.validityPeriod&&n.jsxs("p",{className:"text-sm mt-1",children:[" : ",w.validityPeriod]}),w.rates&&n.jsxs("p",{className:"text-sm mt-1",children:[": ",w.rates]}),w.contractInfo&&n.jsxs("p",{className:"text-sm mt-1",children:[": ",w.contractInfo]}),w.contractFileUrl&&n.jsx("button",{className:"text-sm mt-2 text-blue-600 hover:text-blue-800 underline",onClick:()=>window.open(w.contractFileUrl,"_blank"),children:"  "})]}):n.jsx("div",{className:"text-red-800",children:n.jsx("p",{className:"font-medium",children:"   "})})})]})})}),n.jsx(RS,{request:e,expenseItems:s,onSplitsChange:N,showValidation:!0}),!S&&C.length>0&&n.jsx(me,{className:"border-amber-200 bg-amber-50",children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ot,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-amber-800",children:" "}),n.jsx("ul",{className:"space-y-1 text-sm text-amber-700",children:C.map((k,D)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-amber-600 rounded-full mt-2 flex-shrink-0"}),k]},D))})]})]})})}),n.jsxs("div",{className:"flex gap-2 pt-6 border-t",children:[n.jsxs(Ft,{open:m,onOpenChange:h,children:[n.jsx(Ma,{asChild:!0,children:n.jsx(X,{variant:"outline",children:""})}),n.jsxs($t,{children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"      ."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsx(Ai,{placeholder:"    ...",value:d,onChange:k=>f(k.target.value),rows:4})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>h(!1),children:""}),n.jsx(X,{onClick:_,disabled:!d.trim(),children:" "})]})]})]})]}),n.jsxs(X,{onClick:A,disabled:!S||g,className:"flex-1",children:[n.jsx(Wd,{className:"w-4 h-4 mr-2"}),""]})]})]})}const xhe=[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],yhe=[{value:"not_received",label:" "},{value:"fully_received",label:"   "},{value:"partially_received",label:" "}];function bhe({request:e,onBack:t,onSave:r}){const{items:a,state:s}=ir("counterparties"),{state:i}=ir("expense-articles"),[l,u]=x.useState({documentType:"",documentNumber:"",documentDate:"",amountWithoutVat:0,vatAmount:0,currency:e.currency,files:[],originalDocumentsStatus:"not_received",comment:""}),[d,f]=x.useState(!1),[m,h]=x.useState(!1);x.useEffect(()=>{},[e.id]),x.useEffect(()=>{const _=l.documentType!==""&&l.documentNumber!==""&&l.documentDate!==""&&l.amountWithoutVat>0&&l.originalDocumentsStatus!=="";h(_)},[l]);const g=_=>a.find(T=>T.id===_)?.name||"",j=_=>a.find(T=>T.id===_)?.category||" ",w=_=>_||" ",b=(_,T)=>{u(k=>({...k,[_]:T}))},v=_=>{const T=_.map(k=>({id:`file-${Date.now()}-${Math.random()}`,name:k.name,url:URL.createObjectURL(k),originalName:k.name}));u(k=>({...k,files:[...k.files,...T]}))},N=_=>{u(T=>({...T,files:T.files.filter(k=>k.id!==_)}))},C=async()=>{if(!m){we.error("   ");return}f(!0);try{await r(l),we.success("   ")}catch(_){console.error("Error saving closing document data:",_),we.error("   ")}finally{f(!1)}},S=_=>{switch(_){case"classified":return n.jsx(je,{className:"bg-blue-100 text-blue-800",children:""});case"allocated":return n.jsx(je,{className:"bg-green-100 text-green-800",children:""});case"returned":return n.jsx(je,{className:"bg-red-100 text-red-800",children:""});default:return n.jsx(je,{className:"bg-gray-100 text-gray-800",children:_})}},A=_=>{switch(_){case"classified":return n.jsx(mt,{className:"w-4 h-4 text-blue-600"});case"allocated":return n.jsx(mt,{className:"w-4 h-4 text-green-600"});case"returned":return n.jsx($s,{className:"w-4 h-4 text-red-600"});default:return n.jsx(Zt,{className:"w-4 h-4 text-gray-600"})}};return s.isLoading||i.isLoading?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(ka,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-semibold",children:[" ",e.requestNumber]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A(e.status),S(e.status)]})]})]}),n.jsxs(X,{onClick:C,disabled:!m||d,className:"flex items-center gap-2",children:[n.jsx(Wd,{className:"w-4 h-4"}),d?"...":""]})]}),n.jsx(AS,{request:e,getCounterpartyName:g,getCounterpartyCategory:j,getVatRate:w,onViewDocument:()=>{e.docFileUrl?window.open(e.docFileUrl,"_blank"):we.info(` : ${e.fileName}`)},onDownloadDocument:()=>{we.info(` : ${e.fileName}`)},showDocumentActions:!0}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ao,{className:"h-5 w-5"}),"  "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:" "}),n.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[n.jsx(Ao,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:" "})]})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:" "}),n.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[n.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"15.01.2024 14:30"})]})]})]})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"})," "]})}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"document-type",className:"mb-2 block",children:"   *"}),n.jsxs(et,{value:l.documentType,onValueChange:_=>b("documentType",_),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:"  "})}),n.jsx(nt,{children:xhe.map(_=>n.jsx(xe,{value:_.value,children:_.label},_.value))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"document-number",className:"mb-2 block",children:"  *"}),n.jsx(Ie,{id:"document-number",value:l.documentNumber,onChange:_=>b("documentNumber",_.target.value),placeholder:"  "})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"document-date",className:"mb-2 block",children:"  *"}),n.jsx(Ie,{id:"document-date",type:"date",value:l.documentDate,onChange:_=>b("documentDate",_.target.value)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"amount-without-vat",className:"mb-2 block",children:"  ,   *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{id:"amount-without-vat",type:"number",value:l.amountWithoutVat||"",onChange:_=>b("amountWithoutVat",parseFloat(_.target.value)||0),placeholder:"0.00",className:"pl-10"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"vat-amount",className:"mb-2 block",children:" ,   *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{id:"vat-amount",type:"number",value:l.vatAmount||"",onChange:_=>b("vatAmount",parseFloat(_.target.value)||0),placeholder:"0.00",className:"pl-10"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:""}),n.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:n.jsx("span",{className:"font-medium",children:e.currency})})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:"  "}),n.jsx(d5,{onFilesChange:v,onFileRemove:N,files:l.files,maxFiles:10,maxSize:10,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"original-documents-status",className:"mb-2 block",children:"    *"}),n.jsxs(et,{value:l.originalDocumentsStatus,onValueChange:_=>b("originalDocumentsStatus",_),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:yhe.map(_=>n.jsx(xe,{value:_.value,children:_.label},_.value))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"comment",className:"mb-2 block",children:""}),n.jsx(Ai,{id:"comment",value:l.comment||"",onChange:_=>b("comment",_.target.value),placeholder:" ...",rows:3})]}),n.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:""}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"  :"}),n.jsx("span",{className:"ml-2 font-medium",children:$r(l.amountWithoutVat,l.currency)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:" :"}),n.jsx("span",{className:"ml-2 font-medium",children:$r(l.vatAmount,l.currency)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:":"}),n.jsx("span",{className:"ml-2 font-medium",children:$r(l.amountWithoutVat+l.vatAmount,l.currency)})]})]})]})]})]})]})}const jhe=x.memo(({status:e,showIcon:t=!0,showBadge:r=!0,className:a=""})=>{const s=l=>{switch(l){case"classified":return n.jsx(mt,{className:"w-4 h-4 text-blue-600"});case"allocated":return n.jsx(mt,{className:"w-4 h-4 text-green-600"});case"returned":return n.jsx($s,{className:"w-4 h-4 text-red-600"});case"approved":return n.jsx(mt,{className:"w-4 h-4 text-green-600"});case"pending":return n.jsx(Zt,{className:"w-4 h-4 text-yellow-600"});default:return n.jsx(Zt,{className:"w-4 h-4 text-gray-600"})}},i=l=>{switch(l){case"classified":return n.jsx(je,{className:"bg-blue-100 text-blue-800",children:""});case"allocated":return n.jsx(je,{className:"bg-green-100 text-green-800",children:""});case"returned":return n.jsx(je,{className:"bg-red-100 text-red-800",children:""});case"approved":return n.jsx(je,{className:"bg-green-100 text-green-800",children:""});case"pending":return n.jsx(je,{className:"bg-yellow-100 text-yellow-800",children:" "});default:return n.jsx(je,{className:"bg-gray-100 text-gray-800",children:l})}};return n.jsxs("div",{className:`flex items-center gap-2 ${a}`,children:[t&&s(e),r&&i(e)]})});jhe.displayName="RequestStatus";const whe=e=>{switch(e){case"classified":return n.jsx(mt,{className:"w-4 h-4 text-blue-600"});case"allocated":return n.jsx(mt,{className:"w-4 h-4 text-green-600"});case"returned":return n.jsx($s,{className:"w-4 h-4 text-red-600"});case"approved":return n.jsx(mt,{className:"w-4 h-4 text-green-600"});case"pending":return n.jsx(Zt,{className:"w-4 h-4 text-yellow-600"});default:return n.jsx(Zt,{className:"w-4 h-4 text-gray-600"})}},Nhe=e=>{switch(e){case"classified":return n.jsx(je,{className:"bg-blue-100 text-blue-800",children:""});case"allocated":return n.jsx(je,{className:"bg-green-100 text-green-800",children:""});case"returned":return n.jsx(je,{className:"bg-red-100 text-red-800",children:""});case"approved":return n.jsx(je,{className:"bg-green-100 text-green-800",children:""});case"pending":return n.jsx(je,{className:"bg-yellow-100 text-yellow-800",children:" "});default:return n.jsx(je,{className:"bg-gray-100 text-gray-800",children:e})}},uO=(e,t)=>e.find(r=>r.id===t)?.name||"";function dO({currentUserId:e}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(""),[u,d]=x.useState("all"),[f,m]=x.useState(!0),[h,g]=x.useState(null),{items:j}=ir("counterparties");ir("expense-articles");const w=C=>new Date(C).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});x.useEffect(()=>{(async()=>{try{m(!0);const A=(await it.getAll({responsibleRegistrarId:e})).map(_=>({id:_.id,requestNumber:_.number,createdAt:_.created_at,dueDate:_.due_date,counterpartyId:_.counterparty_id,amount:_.amount_total,currency:_.currency_code,description:_.title,status:_.status,responsibleRegistrarId:_.responsible_registrar_id,files:_.files||[],docType:_.doc_type,docNumber:_.doc_number,docDate:_.doc_date,payingCompany:_.paying_company,vatRate:_.vat_rate}));r(A),s(A)}catch(S){console.error("Error loading assigned requests:",S),r([]),s([])}finally{m(!1)}})()},[e]),x.useEffect(()=>{let C=t;i&&(C=C.filter(S=>S.requestNumber?.toLowerCase().includes(i.toLowerCase())||S.description.toLowerCase().includes(i.toLowerCase())||uO(j,S.counterpartyId).toLowerCase().includes(i.toLowerCase()))),u!=="all"&&(C=C.filter(S=>S.status===u)),s(C)},[t,i,u]);const b=C=>{g(C)},v=()=>{g(null)},N=async C=>{try{if(!h)throw new Error("No request selected");await $u.saveClosingDocs(h.id,C),we.success("   ")}catch(S){throw console.error("Error saving closing document:",S),we.error("    "),S}};return f?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):h?n.jsx(bhe,{request:h,onBack:v,onSave:N}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:",     "})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(je,{className:"bg-emerald-100 text-emerald-800",children:"-"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),n.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(mt,{className:"h-4 w-4 text-green-600"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:""}),n.jsx("p",{className:"text-2xl font-bold",children:t.filter(C=>C.status==="classified").length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx($s,{className:"h-4 w-4 text-red-600"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:""}),n.jsx("p",{className:"text-2xl font-bold",children:t.filter(C=>C.status==="returned").length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Fi,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),n.jsx("p",{className:"text-2xl font-bold",children:$r(t.reduce((C,S)=>C+S.amount,0),"KZT")})]})]})})})]}),n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(Ie,{placeholder:"  ,   ...",value:i,onChange:C=>l(C.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("select",{value:u,onChange:C=>d(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[n.jsx("option",{value:"all",children:" "}),n.jsx("option",{value:"classified",children:""}),n.jsx("option",{value:"allocated",children:""}),n.jsx("option",{value:"returned",children:""})]})})]})})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{children:["  (",a.length,")"]})}),n.jsx(pe,{children:a.length===0?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"   "})}):n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:a.map(C=>n.jsxs(pt,{children:[n.jsx(Se,{className:"font-medium",children:C.requestNumber}),n.jsx(Se,{children:uO(j,C.counterpartyId)}),n.jsx(Se,{children:$r(C.amount,C.currency)}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[whe(C.status),Nhe(C.status)]})}),n.jsx(Se,{children:w(C.createdAt)}),n.jsx(Se,{children:w(C.dueDate)}),n.jsx(Se,{children:n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>b(C),children:[n.jsx(Pi,{className:"w-4 h-4 mr-2"}),""]})})]},C.id))})]})})]})]})}const She=({onReportUpdate:e})=>{const[t,r]=x.useState([]),[a,s]=x.useState(new Map),[i,l]=x.useState(new Map),[u,d]=x.useState(!1),[f,m]=x.useState(!1),[h,g]=x.useState(!1),[j,w]=x.useState(null),[b,v]=x.useState(" "),[N,C]=x.useState("");x.useEffect(()=>{S()},[]);const S=async()=>{try{d(!0);const I=await $u.getAssignments();r(I.assignments);const B=new Map,z=new Map;for(const H of I.assignments){try{const W=await $u.getReport(H.requestId);B.set(H.requestId,W)}catch{}try{const W=await it.getById(H.requestId);W&&z.set(H.requestId,W)}catch(W){console.error("Error loading request:",W)}}s(B),l(z)}catch(I){console.error("Error loading assignments:",I),we.error("  ")}finally{d(!1)}},A=async I=>{try{m(!0);const B={requestId:I.requestId,documentStatus:b,reportData:B?JSON.parse(B):void 0};await $u.saveDraftReport(B),we.success("   "),await S(),e&&e()}catch(B){console.error("Error saving draft:",B),we.error("  ")}finally{m(!1)}},_=async I=>{try{g(!0),await $u.publishReport(I.requestId);const B=i.get(I.requestId);B&&So.notifyReportPublished(I.requestId,B.requestNumber||" "),we.success(" "),await S(),e&&e()}catch(B){console.error("Error publishing report:",B),we.error("  ")}finally{g(!1)}},T=I=>{const B=a.get(I.requestId);return B?B.status==="draft"?n.jsx(je,{variant:"secondary",children:""}):B.status==="published"?n.jsx(je,{variant:"default",children:""}):n.jsx(je,{variant:"outline",children:I.status}):n.jsx(je,{variant:"outline",children:""})},k=I=>{switch(I){case" ":return n.jsx($s,{className:"h-4 w-4 text-red-500"});case"   ":return n.jsx(mt,{className:"h-4 w-4 text-green-500"});case" ":return n.jsx(Zt,{className:"h-4 w-4 text-yellow-500"});default:return n.jsx($s,{className:"h-4 w-4 text-gray-500"})}},D=I=>{switch(I){case" ":return"text-red-600";case"   ":return"text-green-600";case" ":return"text-yellow-600";default:return"text-gray-600"}};return u?n.jsxs("div",{className:"flex items-center justify-center p-8",children:[n.jsx(Dr,{className:"h-8 w-8 animate-spin"}),n.jsx("span",{className:"ml-2",children:" ..."})]}):t.length===0?n.jsx(me,{children:n.jsxs(pe,{className:"p-8 text-center",children:[n.jsx(yt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"       "})]})}):n.jsx("div",{className:"space-y-6",children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:t.map(I=>{const B=i.get(I.requestId),z=a.get(I.requestId);return n.jsx(me,{className:"border-l-4 border-l-blue-500",children:n.jsxs(pe,{className:"pt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:B?.requestNumber||` ${I.requestId.slice(0,8)}`}),n.jsx("p",{className:"text-sm text-muted-foreground",children:B?.description||" "}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:":"}),n.jsxs("span",{className:"text-sm",children:[B?.amount," ",B?.currency]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:":"}),T(I)]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:" "}),n.jsxs("div",{className:"flex items-center gap-2",children:[k(b),n.jsx("span",{className:`text-sm ${D(b)}`,children:b})]}),n.jsxs(et,{value:b,onValueChange:H=>v(H),children:[n.jsx(rt,{className:"w-full",children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:" ",children:" "}),n.jsx(xe,{value:"   ",children:"   "}),n.jsx(xe,{value:" ",children:" "})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{size:"sm",variant:"outline",onClick:()=>A(I),disabled:f,className:"flex items-center gap-1",children:[f?n.jsx(Dr,{className:"h-3 w-3 animate-spin"}):n.jsx(Wd,{className:"h-3 w-3"}),"  "]}),n.jsxs(X,{size:"sm",onClick:()=>_(I),disabled:h||!z,className:"flex items-center gap-1",children:[h?n.jsx(Dr,{className:"h-3 w-3 animate-spin"}):n.jsx(lp,{className:"h-3 w-3"})," "]})]}),z&&n.jsx("div",{className:"text-xs text-muted-foreground",children:z.status==="draft"?n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Zt,{className:"h-3 w-3"}),"  ",new Date(z.createdAt).toLocaleDateString()]}):n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(mt,{className:"h-3 w-3"})," ",z.publishedAt&&new Date(z.publishedAt).toLocaleDateString()]})})]})]}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:"  (JSON)"}),n.jsx("textarea",{value:N,onChange:H=>C(H.target.value),placeholder:"     JSON ()",className:"w-full px-3 py-2 border border-input rounded-md text-sm",rows:3})]})]})},I.id)})})})]})})};var yg="Checkbox",[_he,ppe]=kn(yg),[Che,kS]=_he(yg);function Ehe(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:s,disabled:i,form:l,name:u,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:h}=e,[g,j]=is({prop:r,defaultProp:s??!1,onChange:d,caller:yg}),[w,b]=x.useState(null),[v,N]=x.useState(null),C=x.useRef(!1),S=w?!!l||!!w.closest("form"):!0,A={checked:g,disabled:i,setChecked:j,control:w,setControl:b,name:u,form:l,value:m,hasConsumerStoppedPropagationRef:C,required:f,defaultChecked:ki(s)?!1:s,isFormControl:S,bubbleInput:v,setBubbleInput:N};return n.jsx(Che,{scope:t,...A,children:The(h)?h(A):a})}var p5="CheckboxTrigger",g5=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},s)=>{const{control:i,value:l,disabled:u,checked:d,required:f,setControl:m,setChecked:h,hasConsumerStoppedPropagationRef:g,isFormControl:j,bubbleInput:w}=kS(p5,e),b=Nt(s,m),v=x.useRef(d);return x.useEffect(()=>{const N=i?.form;if(N){const C=()=>h(v.current);return N.addEventListener("reset",C),()=>N.removeEventListener("reset",C)}},[i,h]),n.jsx(at.button,{type:"button",role:"checkbox","aria-checked":ki(d)?"mixed":d,"aria-required":f,"data-state":w5(d),"data-disabled":u?"":void 0,disabled:u,value:l,...a,ref:b,onKeyDown:Ue(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Ue(r,N=>{h(C=>ki(C)?!0:!C),w&&j&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});g5.displayName=p5;var v5=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:s,defaultChecked:i,required:l,disabled:u,value:d,onCheckedChange:f,form:m,...h}=e;return n.jsx(Ehe,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:u,required:l,onCheckedChange:f,name:a,form:m,value:d,internal_do_not_use_render:({isFormControl:g})=>n.jsxs(n.Fragment,{children:[n.jsx(g5,{...h,ref:t,__scopeCheckbox:r}),g&&n.jsx(j5,{__scopeCheckbox:r})]})})});v5.displayName=yg;var x5="CheckboxIndicator",y5=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...s}=e,i=kS(x5,r);return n.jsx(In,{present:a||ki(i.checked)||i.checked===!0,children:n.jsx(at.span,{"data-state":w5(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});y5.displayName=x5;var b5="CheckboxBubbleInput",j5=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:l,required:u,disabled:d,name:f,value:m,form:h,bubbleInput:g,setBubbleInput:j}=kS(b5,e),w=Nt(r,j),b=nN(i),v=z1(a);x.useEffect(()=>{const C=g;if(!C)return;const S=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(S,"checked").set,T=!s.current;if(b!==i&&_){const k=new Event("click",{bubbles:T});C.indeterminate=ki(i),_.call(C,ki(i)?!1:i),C.dispatchEvent(k)}},[g,b,i,s]);const N=x.useRef(ki(i)?!1:i);return n.jsx(at.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??N.current,required:u,disabled:d,name:f,value:m,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});j5.displayName=b5;function The(e){return typeof e=="function"}function ki(e){return e==="indeterminate"}function w5(e){return ki(e)?"indeterminate":e?"checked":"unchecked"}function _r({className:e,...t}){return n.jsx(v5,{"data-slot":"checkbox",className:We("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(y5,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:n.jsx(Zu,{className:"size-3.5"})})})}var bg="Tabs",[Ahe,gpe]=kn(bg,[yp]),N5=yp(),[Rhe,IS]=Ahe(bg),S5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,m=up(u),[h,g]=is({prop:a,onChange:s,defaultProp:i??"",caller:bg});return n.jsx(Rhe,{scope:r,baseId:Br(),value:h,onValueChange:g,orientation:l,dir:m,activationMode:d,children:n.jsx(at.div,{dir:m,"data-orientation":l,...f,ref:t})})});S5.displayName=bg;var _5="TabsList",C5=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...s}=e,i=IS(_5,r),l=N5(r);return n.jsx(vD,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:a,children:n.jsx(at.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});C5.displayName=_5;var E5="TabsTrigger",T5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:s=!1,...i}=e,l=IS(E5,r),u=N5(r),d=k5(l.baseId,a),f=I5(l.baseId,a),m=a===l.value;return n.jsx(xD,{asChild:!0,...u,focusable:!s,active:m,children:n.jsx(at.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:t,onMouseDown:Ue(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?l.onValueChange(a):h.preventDefault()}),onKeyDown:Ue(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&l.onValueChange(a)}),onFocus:Ue(e.onFocus,()=>{const h=l.activationMode!=="manual";!m&&!s&&h&&l.onValueChange(a)})})})});T5.displayName=E5;var A5="TabsContent",R5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:s,children:i,...l}=e,u=IS(A5,r),d=k5(u.baseId,a),f=I5(u.baseId,a),m=a===u.value,h=x.useRef(m);return x.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),n.jsx(In,{present:s||m,children:({present:g})=>n.jsx(at.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&i})})});R5.displayName=A5;function k5(e,t){return`${e}-trigger-${t}`}function I5(e,t){return`${e}-content-${t}`}var khe=S5,Ihe=C5,Phe=T5,Ohe=R5;function Pc({className:e,...t}){return n.jsx(khe,{"data-slot":"tabs",className:We("flex flex-col gap-2",e),...t})}function Oc({className:e,...t}){return n.jsx(Ihe,{"data-slot":"tabs-list",className:We("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function xn({className:e,...t}){return n.jsx(Phe,{"data-slot":"tabs-trigger",className:We("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function yn({className:e,...t}){return n.jsx(Ohe,{"data-slot":"tabs-content",className:We("flex-1 outline-none",e),...t})}var P5="AlertDialog",[Dhe,vpe]=kn(P5,[$3]),Hs=$3(),O5=e=>{const{__scopeAlertDialog:t,...r}=e,a=Hs(t);return n.jsx(_S,{...a,...r,modal:!0})};O5.displayName=P5;var Mhe="AlertDialogTrigger",D5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Hs(r);return n.jsx(J3,{...s,...a,ref:t})});D5.displayName=Mhe;var $he="AlertDialogPortal",M5=e=>{const{__scopeAlertDialog:t,...r}=e,a=Hs(t);return n.jsx(CS,{...a,...r})};M5.displayName=$he;var Lhe="AlertDialogOverlay",$5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Hs(r);return n.jsx(gg,{...s,...a,ref:t})});$5.displayName=Lhe;var Wl="AlertDialogContent",[Fhe,Uhe]=Dhe(Wl),Bhe=yO("AlertDialogContent"),L5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...s}=e,i=Hs(r),l=x.useRef(null),u=Nt(t,l),d=x.useRef(null);return n.jsx(Mfe,{contentName:Wl,titleName:F5,docsSlug:"alert-dialog",children:n.jsx(Fhe,{scope:r,cancelRef:d,children:n.jsxs(vg,{role:"alertdialog",...i,...s,ref:u,onOpenAutoFocus:Ue(s.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[n.jsx(Bhe,{children:a}),n.jsx(qhe,{contentRef:l})]})})})});L5.displayName=Wl;var F5="AlertDialogTitle",U5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Hs(r);return n.jsx(e5,{...s,...a,ref:t})});U5.displayName=F5;var B5="AlertDialogDescription",z5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Hs(r);return n.jsx(t5,{...s,...a,ref:t})});z5.displayName=B5;var zhe="AlertDialogAction",q5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Hs(r);return n.jsx(ES,{...s,...a,ref:t})});q5.displayName=zhe;var W5="AlertDialogCancel",V5=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=Uhe(W5,r),i=Hs(r),l=Nt(t,s);return n.jsx(ES,{...i,...a,ref:l})});V5.displayName=W5;var qhe=({contentRef:e})=>{const t=`\`${Wl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Wl}\` by passing a \`${B5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Wl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Whe=O5,Vhe=D5,Hhe=M5,Ghe=$5,Khe=L5,Yhe=q5,Xhe=V5,Qhe=U5,Zhe=z5;function Jhe({...e}){return n.jsx(Whe,{"data-slot":"alert-dialog",...e})}function eme({...e}){return n.jsx(Vhe,{"data-slot":"alert-dialog-trigger",...e})}function tme({...e}){return n.jsx(Hhe,{"data-slot":"alert-dialog-portal",...e})}function rme({className:e,...t}){return n.jsx(Ghe,{"data-slot":"alert-dialog-overlay",className:We("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function nme({className:e,...t}){return n.jsxs(tme,{children:[n.jsx(rme,{}),n.jsx(Khe,{"data-slot":"alert-dialog-content",className:We("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function ame({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-header",className:We("flex flex-col gap-2 text-center sm:text-left",e),...t})}function sme({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-footer",className:We("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ime({className:e,...t}){return n.jsx(Qhe,{"data-slot":"alert-dialog-title",className:We("text-lg font-semibold",e),...t})}function ome({className:e,...t}){return n.jsx(Zhe,{"data-slot":"alert-dialog-description",className:We("text-muted-foreground text-sm",e),...t})}function lme({className:e,...t}){return n.jsx(Yhe,{className:We(Qu(),e),...t})}function cme({className:e,...t}){return n.jsx(Xhe,{className:We(Qu({variant:"outline"}),e),...t})}var ume="Separator",fO="horizontal",dme=["horizontal","vertical"],H5=x.forwardRef((e,t)=>{const{decorative:r,orientation:a=fO,...s}=e,i=fme(a)?a:fO,u=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(at.div,{"data-orientation":i,...u,...s,ref:t})});H5.displayName=ume;function fme(e){return dme.includes(e)}var hme=H5;function da({className:e,orientation:t="horizontal",decorative:r=!0,...a}){return n.jsx(hme,{"data-slot":"separator-root",decorative:r,orientation:t,className:We("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...a})}const Hh=[{id:"1",name:" ",level:0,children:[{id:"1.1",name:" ",parentId:"1",level:1},{id:"1.2",name:" ",parentId:"1",level:1}]},{id:"2",name:" ",level:0},{id:"3",name:" ",level:0}],$j=["   ","  ","-"," "," "],hO=[{id:"1",expenseItemId:"1",expenseItemCode:"001",expenseItemName:"  (EXW)",expenseItemPath:"001   (EXW)",orgUnitId:"1.1",orgUnitName:" ",registrarPosition:"   ",priority:1,effectiveFrom:"2025-01-01",effectiveTo:"2025-12-31",status:"active",createdBy:"admin",createdByName:"",createdAt:"2025-12-01T10:00:00Z"},{id:"2",expenseItemId:"4",expenseItemCode:"004",expenseItemName:" ",expenseItemPath:"004  ",registrarPosition:"-",priority:2,effectiveFrom:"2025-07-01",status:"active",createdBy:"admin",createdByName:"",createdAt:"2025-11-15T14:30:00Z"},{id:"3",expenseItemId:"6",expenseItemCode:"006",expenseItemName:" ",expenseItemPath:"006  ",orgUnitId:"1.2",orgUnitName:" ",registrarPosition:"  ",priority:1,effectiveFrom:"2025-01-01",status:"active",createdBy:"admin",createdByName:"",createdAt:"2025-11-20T09:15:00Z"}];function mme({onBack:e}={}){const{items:t}=ir("expense-articles"),[r,a]=x.useState(hO),[s,i]=x.useState(hO),[l,u]=x.useState([]),[d,f]=x.useState(!1),[m,h]=x.useState(!1),[g,j]=x.useState(null),[w,b]=x.useState(!1),[v,N]=x.useState({expenseItem:"",orgUnit:"",status:"all",position:"all-positions",effectiveDate:new Date}),[C,S]=x.useState({expenseItemId:"",orgUnitId:"all-units",registrarPosition:"",priority:1,effectiveFrom:new Date,effectiveTo:null}),[A,_]=x.useState({expenseItemId:"",orgUnitId:"all-units",asOfDate:new Date}),[T,k]=x.useState([]);x.useEffect(()=>{let L=r.filter(Y=>{if(v.status!=="all"&&Y.status!==v.status||v.expenseItem&&!Y.expenseItemPath.toLowerCase().includes(v.expenseItem.toLowerCase())||v.orgUnit&&Y.orgUnitName&&!Y.orgUnitName.toLowerCase().includes(v.orgUnit.toLowerCase())||v.position&&v.position!=="all-positions"&&Y.registrarPosition!==v.position)return!1;const ee=ht(v.effectiveDate,"yyyy-MM-dd");return!(Y.effectiveFrom>ee||Y.effectiveTo&&Y.effectiveTo<ee)});i(L)},[r,v]);const D=async()=>{try{b(!0);const L={id:Date.now().toString(),expenseItemId:C.expenseItemId,expenseItemCode:P(C.expenseItemId),expenseItemName:O(C.expenseItemId),expenseItemPath:K(C.expenseItemId),orgUnitId:C.orgUnitId&&C.orgUnitId!=="all-units"?C.orgUnitId:void 0,orgUnitName:C.orgUnitId&&C.orgUnitId!=="all-units"?V(C.orgUnitId):void 0,registrarPosition:C.registrarPosition,priority:C.priority,effectiveFrom:ht(C.effectiveFrom,"yyyy-MM-dd"),effectiveTo:C.effectiveTo?ht(C.effectiveTo,"yyyy-MM-dd"):void 0,status:"active",createdBy:"current-user",createdByName:" ",createdAt:new Date().toISOString()};a(Y=>[L,...Y]),f(!1),$(),we.success("  ")}catch(L){console.error("Error creating assignment:",L),we.error("  ")}finally{b(!1)}},I=async()=>{if(g)try{b(!0);const L={...g,expenseItemId:C.expenseItemId,expenseItemCode:P(C.expenseItemId),expenseItemName:O(C.expenseItemId),expenseItemPath:K(C.expenseItemId),orgUnitId:C.orgUnitId&&C.orgUnitId!=="all-units"?C.orgUnitId:void 0,orgUnitName:C.orgUnitId&&C.orgUnitId!=="all-units"?V(C.orgUnitId):void 0,registrarPosition:C.registrarPosition,priority:C.priority,effectiveFrom:ht(C.effectiveFrom,"yyyy-MM-dd"),effectiveTo:C.effectiveTo?ht(C.effectiveTo,"yyyy-MM-dd"):void 0};a(Y=>Y.map(ee=>ee.id===g.id?L:ee)),j(null),$(),we.success("  ")}catch(L){console.error("Error updating assignment:",L),we.error("  ")}finally{b(!1)}},B=L=>{S({expenseItemId:L.expenseItemId,orgUnitId:L.orgUnitId||"all-units",registrarPosition:L.registrarPosition,priority:L.priority,effectiveFrom:new Date,effectiveTo:null}),f(!0)},z=async L=>{try{a(Y=>Y.map(ee=>ee.id===L?{...ee,status:"archived"}:ee)),we.success(" ")}catch(Y){console.error("Error archiving assignment:",Y),we.error("  ")}},H=()=>{const L=s.map(Y=>({" ":Y.expenseItemCode," ":Y.expenseItemName,:Y.orgUnitName||"",:Y.registrarPosition,:Y.priority," ":Y.effectiveFrom," ":Y.effectiveTo||"",:Y.status==="active"?"":"",:Y.createdByName," ":ht(new Date(Y.createdAt),"dd.MM.yyyy HH:mm",{locale:St})}));console.log("Exporting CSV:",L),we.success(" ")},W=()=>{we.success("  ")},Z=async()=>{try{b(!0),k([{expenseItemId:"1",expenseItemName:"  (EXW)",orgUnitId:"1.1",orgUnitName:" ",registrarName:" ..",registrarPosition:"   ",priority:1,effectiveFrom:"2025-01-01",effectiveTo:"2025-12-31"}]),we.success("   ")}catch(L){console.error("Error looking up responsibles:",L),we.error("    ")}finally{b(!1)}},$=()=>{S({expenseItemId:"",orgUnitId:"all-units",registrarPosition:"",priority:1,effectiveFrom:new Date,effectiveTo:null})},M=L=>{j(L),S({expenseItemId:L.expenseItemId,orgUnitId:L.orgUnitId||"all-units",registrarPosition:L.registrarPosition,priority:L.priority,effectiveFrom:new Date(L.effectiveFrom),effectiveTo:L.effectiveTo?new Date(L.effectiveTo):null})},P=L=>{const Y=t.find(ee=>ee.id===L);return Y?Y.code:""},O=L=>{const Y=t.find(ee=>ee.id===L);return Y?Y.name:""},K=L=>{const Y=t.find(ee=>ee.id===L);return Y?`${Y.code} ${Y.name}`:""},V=L=>{const Y=ee=>{for(const ce of ee){if(ce.id===L)return ce.name;if(ce.children){const G=Y(ce.children);if(G)return G}}return""};return Y(Hh)},q=(L,Y)=>L.filter(ee=>ee.isActive).map(ee=>n.jsx(Ci,{className:"cursor-pointer",onSelect:()=>Y(ee),children:n.jsxs("span",{children:[ee.code," ",ee.name]})},ee.id)),F=(L,Y)=>L.map(ee=>n.jsxs("div",{children:[n.jsx(Ci,{className:"cursor-pointer",onSelect:()=>Y(ee),children:n.jsxs("span",{style:{paddingLeft:`${ee.level*16}px`},children:[ee.children?n.jsx(qj,{className:"w-4 h-4 inline mr-1"}):n.jsx("span",{className:"w-5 inline-block"}),ee.name]})}),ee.children&&F(ee.children,Y)]},ee.id));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[e&&n.jsx(X,{variant:"ghost",onClick:e,className:"pl-0",children:" "}),n.jsxs("div",{children:[n.jsx("h2",{children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",onClick:W,children:[n.jsx(To,{className:"w-4 h-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",onClick:H,children:[n.jsx(Xn,{className:"w-4 h-4 mr-2"}),""]}),n.jsxs(Ft,{open:d,onOpenChange:f,children:[n.jsx(Ma,{asChild:!0,children:n.jsxs(X,{onClick:()=>{$(),j(null)},children:[n.jsx(on,{className:"w-4 h-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-2xl",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:g?" ":"  "}),n.jsx(qt,{children:g?"       .":"          ."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[C.expenseItemId?K(C.expenseItemId):" ",n.jsx(Ka,{className:"w-4 h-4"})]})}),n.jsx(mn,{className:"w-96 p-0",children:n.jsxs(ji,{children:[n.jsx(wi,{placeholder:" ..."}),n.jsx(Si,{children:"  "}),n.jsx(Ni,{className:"max-h-64",children:n.jsx(Es,{children:q(t,L=>{S(Y=>({...Y,expenseItemId:L.id}))})})})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[C.orgUnitId&&C.orgUnitId!=="all-units"?V(C.orgUnitId):" ",n.jsx(Ka,{className:"w-4 h-4"})]})}),n.jsx(mn,{className:"w-80 p-0",children:n.jsxs(ji,{children:[n.jsx(wi,{placeholder:" ..."}),n.jsx(Si,{children:"  "}),n.jsx(Ni,{className:"max-h-64",children:n.jsxs(Es,{children:[n.jsx(Ci,{onSelect:()=>S(L=>({...L,orgUnitId:"all-units"})),children:" "}),F(Hh,L=>{S(Y=>({...Y,orgUnitId:L.id}))})]})})]})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(et,{value:C.registrarPosition,onValueChange:L=>S(Y=>({...Y,registrarPosition:L})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:$j.map(L=>n.jsx(xe,{value:L,children:L},L))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(et,{value:C.priority.toString(),onValueChange:L=>S(Y=>({...Y,priority:parseInt(L)})),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"1",children:"1 ()"}),n.jsx(xe,{value:"2",children:"2 ()"}),n.jsx(xe,{value:"3",children:"3 ()"}),n.jsx(xe,{value:"4",children:"4 ()"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(ho,{className:"w-4 h-4 mr-2"}),ht(C.effectiveFrom,"dd.MM.yyyy",{locale:St})]})}),n.jsx(mn,{className:"w-auto p-0",children:n.jsx(vo,{mode:"single",selected:C.effectiveFrom,onSelect:L=>L&&S(Y=>({...Y,effectiveFrom:L})),locale:St})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(ho,{className:"w-4 h-4 mr-2"}),C.effectiveTo?ht(C.effectiveTo,"dd.MM.yyyy",{locale:St}):""]})}),n.jsx(mn,{className:"w-auto p-0",children:n.jsx(vo,{mode:"single",selected:C.effectiveTo||void 0,onSelect:L=>S(Y=>({...Y,effectiveTo:L||null})),locale:St})})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{f(!1),j(null),$()},children:""}),n.jsx(X,{onClick:g?I:D,disabled:!C.expenseItemId||!C.registrarPosition||w,children:w?"...":g?"":""})]})]})]})]})]})]}),n.jsxs(Pc,{defaultValue:"assignments",className:"space-y-4",children:[n.jsxs(Oc,{children:[n.jsx(xn,{value:"assignments",children:""}),n.jsx(xn,{value:"lookup",children:"  "})]}),n.jsxs(yn,{value:"assignments",className:"space-y-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(Ie,{placeholder:"  ...",value:v.expenseItem,onChange:L=>N(Y=>({...Y,expenseItem:L.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(Ie,{placeholder:"  ...",value:v.orgUnit,onChange:L=>N(Y=>({...Y,orgUnit:L.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(et,{value:v.status,onValueChange:L=>N(Y=>({...Y,status:L})),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:""}),n.jsx(xe,{value:"active",children:""}),n.jsx(xe,{value:"archived",children:""})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(et,{value:v.position,onValueChange:L=>N(Y=>({...Y,position:L})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all-positions",children:" "}),$j.map(L=>n.jsx(xe,{value:L,children:L},L))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(ho,{className:"w-4 h-4 mr-2"}),ht(v.effectiveDate,"dd.MM.yyyy",{locale:St})]})}),n.jsx(mn,{className:"w-auto p-0",children:n.jsx(vo,{mode:"single",selected:v.effectiveDate,onSelect:L=>L&&N(Y=>({...Y,effectiveDate:L})),locale:St})})]})]})]})})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ae,{children:[" (",s.length,")"]}),l.length>0&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:[": ",l.length]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(AE,{className:"w-4 h-4 mr-2"}),""]})]})]})}),n.jsxs(pe,{children:[n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx(_r,{checked:l.length===s.length,onCheckedChange:L=>{u(L?s.map(Y=>Y.id):[])}})}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{className:"w-20",children:""}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{className:"w-20",children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{className:"w-12"})]})}),n.jsx(Ur,{children:s.map(L=>n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsx(_r,{checked:l.includes(L.id),onCheckedChange:Y=>{u(Y?ee=>[...ee,L.id]:ee=>ee.filter(ce=>ce!==L.id))}})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qj,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:L.expenseItemCode})]}),n.jsx("div",{className:"text-sm text-muted-foreground ml-6",children:L.expenseItemName})]})}),n.jsx(Se,{children:L.orgUnitName||n.jsx("span",{className:"text-muted-foreground italic",children:" "})}),n.jsx(Se,{children:L.registrarPosition}),n.jsx(Se,{children:n.jsx(je,{variant:"outline",children:L.priority})}),n.jsx(Se,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{children:ht(new Date(L.effectiveFrom),"dd.MM.yyyy",{locale:St})}),n.jsx("div",{className:"text-muted-foreground",children:L.effectiveTo?` ${ht(new Date(L.effectiveTo),"dd.MM.yyyy",{locale:St})}`:""})]})}),n.jsx(Se,{children:n.jsx(je,{variant:L.status==="active"?"default":"secondary",children:L.status==="active"?"":""})}),n.jsx(Se,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{children:L.createdByName}),n.jsx("div",{className:"text-muted-foreground",children:ht(new Date(L.createdAt),"dd.MM.yy HH:mm",{locale:St})})]})}),n.jsx(Se,{children:n.jsxs(ew,{children:[n.jsx(tw,{asChild:!0,children:n.jsx(X,{variant:"ghost",size:"sm",children:n.jsx(FO,{className:"w-4 h-4"})})}),n.jsxs(rw,{align:"end",children:[n.jsxs(xo,{onClick:()=>M(L),children:[n.jsx(sn,{className:"w-4 h-4 mr-2"}),""]}),n.jsxs(xo,{onClick:()=>B(L),children:[n.jsx(TB,{className:"w-4 h-4 mr-2"}),""]}),n.jsxs(xo,{children:[n.jsx(Vj,{className:"w-4 h-4 mr-2"}),""]}),n.jsx(da,{}),n.jsxs(Jhe,{children:[n.jsx(eme,{asChild:!0,children:n.jsxs(xo,{onSelect:Y=>Y.preventDefault(),children:[n.jsx(AE,{className:"w-4 h-4 mr-2"}),""]})}),n.jsxs(nme,{children:[n.jsxs(ame,{children:[n.jsx(ime,{children:" ?"}),n.jsx(ome,{children:"       ."})]}),n.jsxs(sme,{children:[n.jsx(cme,{children:""}),n.jsx(lme,{onClick:()=>z(L.id),children:""})]})]})]})]})]})})]},L.id))})]}),s.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  "})]})]})]}),n.jsx(yn,{value:"lookup",className:"space-y-4",children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"   "})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[A.expenseItemId?K(A.expenseItemId):" ",n.jsx(Ka,{className:"w-4 h-4"})]})}),n.jsx(mn,{className:"w-96 p-0",children:n.jsxs(ji,{children:[n.jsx(wi,{placeholder:" ..."}),n.jsx(Si,{children:"  "}),n.jsx(Ni,{className:"max-h-64",children:n.jsx(Es,{children:q(t,L=>{_(Y=>({...Y,expenseItemId:L.id}))})})})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[A.orgUnitId&&A.orgUnitId!=="all-units"?V(A.orgUnitId):" ",n.jsx(Ka,{className:"w-4 h-4"})]})}),n.jsx(mn,{className:"w-80 p-0",children:n.jsxs(ji,{children:[n.jsx(wi,{placeholder:" ..."}),n.jsx(Si,{children:"  "}),n.jsx(Ni,{className:"max-h-64",children:n.jsxs(Es,{children:[n.jsx(Ci,{onSelect:()=>_(L=>({...L,orgUnitId:"all-units"})),children:" "}),F(Hh,L=>{_(Y=>({...Y,orgUnitId:L.id}))})]})})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(ho,{className:"w-4 h-4 mr-2"}),ht(A.asOfDate,"dd.MM.yyyy",{locale:St})]})}),n.jsx(mn,{className:"w-auto p-0",children:n.jsx(vo,{mode:"single",selected:A.asOfDate,onSelect:L=>L&&_(Y=>({...Y,asOfDate:L})),locale:St})})]})]})]}),n.jsxs(X,{onClick:Z,disabled:w,children:[n.jsx(gr,{className:"w-4 h-4 mr-2"}),w?"...":" "]}),T.length>0&&n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:" "})]})}),n.jsx(Ur,{children:T.map((L,Y)=>n.jsxs(pt,{children:[n.jsx(Se,{children:L.expenseItemName}),n.jsx(Se,{children:L.orgUnitName||n.jsx("span",{className:"text-muted-foreground italic",children:" "})}),n.jsx(Se,{children:L.registrarName}),n.jsx(Se,{children:L.registrarPosition}),n.jsx(Se,{children:n.jsx(je,{variant:"outline",children:L.priority})}),n.jsx(Se,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{children:ht(new Date(L.effectiveFrom),"dd.MM.yyyy",{locale:St})}),n.jsx("div",{className:"text-muted-foreground",children:L.effectiveTo?` ${ht(new Date(L.effectiveTo),"dd.MM.yyyy",{locale:St})}`:""})]})})]},Y))})]})]})]})})]}),g&&n.jsx(Ft,{open:!!g,onOpenChange:L=>!L&&j(null),children:n.jsxs($t,{className:"max-w-2xl",children:[n.jsx(Ut,{children:n.jsx(Bt,{children:"  "})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[C.expenseItemId?K(C.expenseItemId):" ",n.jsx(Ka,{className:"w-4 h-4"})]})}),n.jsx(mn,{className:"w-96 p-0",children:n.jsxs(ji,{children:[n.jsx(wi,{placeholder:" ..."}),n.jsx(Si,{children:"  "}),n.jsx(Ni,{className:"max-h-64",children:n.jsx(Es,{children:q(t,L=>{S(Y=>({...Y,expenseItemId:L.id}))})})})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-between",children:[C.orgUnitId?V(C.orgUnitId):" ",n.jsx(Ka,{className:"w-4 h-4"})]})}),n.jsx(mn,{className:"w-80 p-0",children:n.jsxs(ji,{children:[n.jsx(wi,{placeholder:" ..."}),n.jsx(Si,{children:"  "}),n.jsx(Ni,{className:"max-h-64",children:n.jsxs(Es,{children:[n.jsx(Ci,{onSelect:()=>S(L=>({...L,orgUnitId:""})),children:" "}),F(Hh,L=>{S(Y=>({...Y,orgUnitId:L.id}))})]})})]})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(et,{value:C.registrarPosition,onValueChange:L=>S(Y=>({...Y,registrarPosition:L})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:$j.map(L=>n.jsx(xe,{value:L,children:L},L))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(et,{value:C.priority.toString(),onValueChange:L=>S(Y=>({...Y,priority:parseInt(L)})),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"1",children:"1 ()"}),n.jsx(xe,{value:"2",children:"2 ()"}),n.jsx(xe,{value:"3",children:"3 ()"}),n.jsx(xe,{value:"4",children:"4 ()"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(ho,{className:"w-4 h-4 mr-2"}),ht(C.effectiveFrom,"dd.MM.yyyy",{locale:St})]})}),n.jsx(mn,{className:"w-auto p-0",children:n.jsx(vo,{mode:"single",selected:C.effectiveFrom,onSelect:L=>L&&S(Y=>({...Y,effectiveFrom:L})),locale:St})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsxs(fn,{children:[n.jsx(hn,{asChild:!0,children:n.jsxs(X,{variant:"outline",className:"w-full justify-start",children:[n.jsx(ho,{className:"w-4 h-4 mr-2"}),C.effectiveTo?ht(C.effectiveTo,"dd.MM.yyyy",{locale:St}):""]})}),n.jsx(mn,{className:"w-auto p-0",children:n.jsx(vo,{mode:"single",selected:C.effectiveTo||void 0,onSelect:L=>S(Y=>({...Y,effectiveTo:L||null})),locale:St})})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>j(null),children:""}),n.jsx(X,{onClick:I,disabled:!C.expenseItemId||!C.registrarPosition||w,children:w?"...":""})]})]})]})})]})}function pme({onViewRequest:e,paymentRequests:t}){const[r,a]=x.useState([]),[s,i]=x.useState([]),[l,u]=x.useState(!0),[d,f]=x.useState(""),[m,h]=x.useState(!1),[g,j]=x.useState("all"),[w,b]=x.useState(""),[v,N]=x.useState(""),[C,S]=x.useState([]);x.useEffect(()=>{A()},[]),x.useEffect(()=>{_()},[r,d,m,g,w,v]);const A=async()=>{try{if(u(!0),t&&t.length>0)a(t);else{const z=await Tl.getRequestsWithChiefAssignment("distributor");a(z)}const B=await kl.getCounterparties();S(B)}catch(B){console.error("Failed to load data:",B),we.error("  ")}finally{u(!1)}},_=()=>{let B=[...r];d&&(B=B.filter(z=>z.requestNumber?.toLowerCase().includes(d.toLowerCase())||z.description.toLowerCase().includes(d.toLowerCase())||T(z.counterpartyId).toLowerCase().includes(d.toLowerCase()))),m&&(B=B.filter(z=>z.isAssignedToChief)),g&&g!=="all"&&(B=B.filter(z=>z.counterpartyId===g)),w&&(B=B.filter(z=>z.createdAt>=w)),v&&(B=B.filter(z=>z.createdAt<=v)),i(B)},T=B=>C.find(H=>H.id===B)?.name||"",k=(B,z)=>new Intl.NumberFormat("ru-KZ",{style:"currency",currency:z==="KZT"?"KZT":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(B),D=B=>{const z=new Date(B),H=new Date,W=Math.ceil((z.getTime()-H.getTime())/(1e3*60*60*24));return W<0?n.jsx(Ot,{className:"h-4 w-4 text-red-500"}):W<=3?n.jsx(Zt,{className:"h-4 w-4 text-orange-500"}):null},I=B=>B.expenseSplits?.length||0;return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"  "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]}),n.jsxs(je,{variant:"outline",className:"text-sm",children:[s.length,"  ",r.length]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Fi,{className:"h-5 w-5"}),""]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:""}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{placeholder:", , ...",value:d,onChange:B=>f(B.target.value),className:"pl-10"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:""}),n.jsxs(et,{value:g,onValueChange:j,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),C.map(B=>n.jsx(xe,{value:B.id,children:B.name},B.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:" "}),n.jsx(Ie,{type:"date",value:w,onChange:B=>b(B.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:" "}),n.jsx(Ie,{type:"date",value:v,onChange:B=>N(B.target.value)})]})]}),n.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_r,{id:"onlyAssigned",checked:m,onCheckedChange:h}),n.jsx("label",{htmlFor:"onlyAssigned",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"  "})]}),m&&n.jsxs(je,{variant:"secondary",className:"text-xs",children:[n.jsx(Hj,{className:"h-3 w-3 mr-1"})," "]})]})]})]}),n.jsx(me,{children:n.jsxs(pe,{className:"p-0",children:[n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{className:"w-[120px]",children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{className:"text-right",children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{className:"text-center",children:""}),n.jsx(Ce,{className:"text-center",children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{className:"w-[100px]",children:""})]})}),n.jsx(Ur,{children:s.map(B=>n.jsxs(pt,{className:"hover:bg-muted/50",children:[n.jsx(Se,{className:"font-medium",children:B.requestNumber}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:T(B.counterpartyId)}),n.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:B.description})]})}),n.jsx(Se,{className:"text-right",children:n.jsx("div",{className:"font-medium",children:k(B.amount,B.currency)})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[D(B.dueDate),n.jsx("span",{className:"text-sm",children:new Date(B.dueDate).toLocaleDateString("ru-RU")})]})}),n.jsx(Se,{className:"text-center",children:n.jsx(je,{variant:"outline",children:I(B)})}),n.jsx(Se,{className:"text-center",children:B.isAssignedToChief?n.jsxs(je,{variant:"secondary",className:"text-xs",children:[n.jsx(Hj,{className:"h-3 w-3 mr-1"}),""]}):n.jsx("span",{className:"text-muted-foreground text-sm",children:""})}),n.jsx(Se,{children:B.priority&&n.jsx(je,{variant:"outline",className:"text-xs",children:B.priority})}),n.jsx(Se,{children:n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>e(B.id),className:"h-8 w-8 p-0",children:n.jsx(Pi,{className:"h-4 w-4"})})})]},B.id))})]}),s.length===0&&n.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[n.jsx("p",{children:"  "}),m&&n.jsx("p",{className:"text-sm mt-2",children:'   "  "'})]})]})})]})}const gme=({onRequestUpdate:e})=>{const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(new Map),[u,d]=x.useState(!1),[f,m]=x.useState(!1),[h,g]=x.useState(null),[j,w]=x.useState("");x.useEffect(()=>{b()},[]);const b=async()=>{try{d(!0);const[S,A]=await Promise.all([Nx.getDistributorRequests(),Lu.getExportContracts()]);r(S.requests),s(A.contracts);const _=new Map;for(const T of S.requests)try{const k=await Nx.getEnrichedRequest(T.id);_.set(T.id,k)}catch(k){console.error("Error loading enriched data for request:",T.id,k)}l(_)}catch(S){console.error("Error loading data:",S),we.error("  ")}finally{d(!1)}},v=async S=>{if(!j){we.error("  ");return}try{m(!0),await Nx.linkExportContract(S.id,{exportContractId:j});const A=a.find(_=>_.id===j);A&&So.notifyExportContractLinked(S.id,` ${S.id.slice(0,8)}`,A.contractNumber),we.success("   "),await b(),e&&e()}catch(A){console.error("Error linking contract:",A),we.error("  ")}finally{m(!1),g(null),w("")}},N=S=>{switch(S.status){case"PENDING":return n.jsx(je,{variant:"outline",children:""});case"LINKED":return n.jsx(je,{variant:"default",children:""});default:return n.jsx(je,{variant:"secondary",children:S.status})}},C=S=>{const A=i.get(S.id);return A?A.subRegistrarReport?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[n.jsx(mt,{className:"h-4 w-4"}),n.jsx("span",{children:"   -"})]}):n.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-600",children:[n.jsx(Zt,{className:"h-4 w-4"}),n.jsx("span",{children:"   -"})]}):null};return u?n.jsxs("div",{className:"flex items-center justify-center p-8",children:[n.jsx(Dr,{className:"h-8 w-8 animate-spin"}),n.jsx("span",{className:"ml-2",children:" ..."})]}):t.length===0?n.jsx(me,{children:n.jsxs(pe,{className:"p-8 text-center",children:[n.jsx(yt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"      "})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:t.map(S=>{const A=i.get(S.id),_=S.status==="LINKED";return n.jsx(me,{className:`border-l-4 ${_?"border-l-green-500":"border-l-blue-500"}`,children:n.jsxs(pe,{className:"pt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-medium",children:[" ",S.id.slice(0,8)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:":"}),n.jsx("span",{className:"text-sm",children:S.amount})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:":"}),N(S)]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[": ",new Date(S.createdAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:" "}),C(S),A?.subRegistrarReport&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsxs("div",{children:[" : ",A.subRegistrarReport.documentStatus]}),n.jsxs("div",{children:[": ",A.subRegistrarReport.status==="published"?"":""]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{className:"text-sm font-medium",children:" "}),_?n.jsxs("div",{className:"text-sm text-green-600",children:[n.jsx(mt,{className:"h-4 w-4 inline mr-1"}),""]}):n.jsxs(et,{value:j,onValueChange:w,disabled:!A?.subRegistrarReport,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:a.map(T=>n.jsxs(xe,{value:T.id,children:[T.contractNumber," - ",T.contractDate]},T.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{size:"sm",onClick:()=>v(S),disabled:f||_||!A?.subRegistrarReport||!j,className:"flex items-center gap-1",children:[f?n.jsx(Dr,{className:"h-3 w-3 animate-spin"}):n.jsx(XB,{className:"h-3 w-3"})," "]}),n.jsxs(X,{size:"sm",variant:"outline",onClick:()=>g(S),className:"flex items-center gap-1",children:[n.jsx(Pi,{className:"h-3 w-3"}),""]})]}),A?.exportLinks&&A.exportLinks.length>0&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsxs("div",{children:[" : ",A.exportLinks.length]}),n.jsxs("div",{children:[" : ",new Date(A.exportLinks[0].linkedAt).toLocaleDateString()]})]})]})]}),A?.subRegistrarReport&&n.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-md",children:[n.jsx("h5",{className:"text-sm font-medium mb-2",children:"  -"}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[n.jsxs("div",{children:[" : ",A.subRegistrarReport.documentStatus]}),n.jsxs("div",{children:[" : ",A.subRegistrarReport.status==="published"?"":""]}),A.subRegistrarReport.publishedAt&&n.jsxs("div",{children:[" : ",new Date(A.subRegistrarReport.publishedAt).toLocaleDateString()]}),A.subRegistrarReport.reportData&&n.jsxs("div",{children:[" : ",JSON.stringify(A.subRegistrarReport.reportData)]})]})]})]})},S.id)})})})]}),h&&n.jsxs(me,{className:"fixed inset-4 z-50 bg-background border-2",children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:" "}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>g(null),children:""})]})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{className:"text-sm font-medium",children:"ID "}),n.jsx("p",{className:"text-sm",children:h.id})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-sm font-medium",children:""}),n.jsx("p",{className:"text-sm",children:h.amount})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-sm font-medium",children:""}),n.jsx("div",{className:"mt-1",children:N(h)})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-sm font-medium",children:" "}),n.jsx("p",{className:"text-sm",children:new Date(h.createdAt).toLocaleString()})]})]})})]})]})},vme=({onContractSelect:e,selectedContractId:t,showCreateForm:r=!1})=>{const[a,s]=x.useState([]),[i,l]=x.useState(!1),[u,d]=x.useState(!1),[f,m]=x.useState(!1),[h,g]=x.useState(""),[j,w]=x.useState(r),[b,v]=x.useState(null),[N,C]=x.useState({contractNumber:"",contractDate:"",counterpartyId:"",amount:0,currencyCode:"KZT"});x.useEffect(()=>{S()},[]);const S=async()=>{try{l(!0);const I=await Lu.getExportContracts();s(I.contracts)}catch(I){console.error("Error loading contracts:",I),we.error("  ")}finally{l(!1)}},A=async()=>{if(!N.contractNumber||!N.contractDate){we.error("  ");return}try{d(!0);const I=await Lu.createExportContract(N);s([...a,I]),C({contractNumber:"",contractDate:"",counterpartyId:"",amount:0,currencyCode:"KZT"}),w(!1),we.success(" ")}catch(I){console.error("Error creating contract:",I),we.error("  ")}finally{d(!1)}},_=async(I,B)=>{try{m(!0);const z=await Lu.updateExportContract(I,B);s(a.map(H=>H.id===I?z:H)),v(null),we.success(" ")}catch(z){console.error("Error updating contract:",z),we.error("  ")}finally{m(!1)}},T=async I=>{if(confirm(" ,     ?"))try{await Lu.deleteExportContract(I),s(a.filter(B=>B.id!==I)),we.success(" ")}catch(B){console.error("Error deleting contract:",B),we.error("  ")}},k=a.filter(I=>I.contractNumber.toLowerCase().includes(h.toLowerCase())||I.contractDate.includes(h)),D=(I,B)=>{C(z=>({...z,[I]:B}))};return i?n.jsxs("div",{className:"flex items-center justify-center p-8",children:[n.jsx(Dr,{className:"h-8 w-8 animate-spin"}),n.jsx("span",{className:"ml-2",children:" ..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:" "}),n.jsxs(X,{onClick:()=>w(!j),className:"flex items-center gap-2",children:[n.jsx(on,{className:"h-4 w-4"})," "]})]})}),n.jsxs(pe,{children:[n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{placeholder:"     ...",value:h,onChange:I=>g(I.target.value),className:"pl-10"})]})}),j&&n.jsxs(me,{className:"mb-6 border-dashed",children:[n.jsx(Te,{children:n.jsx(Ae,{className:"text-lg",children:"  "})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"contractNumber",children:"  *"}),n.jsx(Ie,{id:"contractNumber",value:N.contractNumber,onChange:I=>D("contractNumber",I.target.value),placeholder:"  "})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"contractDate",children:"  *"}),n.jsx(Ie,{id:"contractDate",type:"date",value:N.contractDate,onChange:I=>D("contractDate",I.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"amount",children:""}),n.jsx(Ie,{id:"amount",type:"number",step:"0.01",value:N.amount,onChange:I=>D("amount",parseFloat(I.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"currencyCode",children:""}),n.jsxs(et,{value:N.currencyCode,onValueChange:I=>D("currencyCode",I),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"KZT",children:"KZT"}),n.jsx(xe,{value:"USD",children:"USD"}),n.jsx(xe,{value:"EUR",children:"EUR"}),n.jsx(xe,{value:"RUB",children:"RUB"})]})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{onClick:A,disabled:u,className:"flex items-center gap-2",children:[u?n.jsx(Dr,{className:"h-4 w-4 animate-spin"}):n.jsx(on,{className:"h-4 w-4"}),""]}),n.jsx(X,{variant:"outline",onClick:()=>w(!1),children:""})]})]})]}),n.jsx("div",{className:"space-y-3",children:k.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h?"  ":" "}):k.map(I=>n.jsx(me,{className:`cursor-pointer transition-colors ${t===I.id?"ring-2 ring-blue-500":""}`,onClick:()=>e?.(I),children:n.jsx(pe,{className:"pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:I.contractNumber}),n.jsx(je,{variant:I.isActive?"default":"secondary",children:I.isActive?"":""})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(pr,{className:"h-3 w-3"}),new Date(I.contractDate).toLocaleDateString()]}),I.amount&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Kn,{className:"h-3 w-3"}),I.amount," ",I.currencyCode]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:B=>{B.stopPropagation(),v(I)},children:n.jsx(sn,{className:"h-3 w-3"})}),n.jsx(X,{size:"sm",variant:"outline",onClick:B=>{B.stopPropagation(),T(I.id)},children:n.jsx(Sr,{className:"h-3 w-3"})})]})]})})},I.id))})]})]}),b&&n.jsxs(me,{className:"fixed inset-4 z-50 bg-background border-2",children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:" "}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>v(null),children:""})]})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(Ie,{value:b.contractNumber,onChange:I=>v({...b,contractNumber:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(Ie,{type:"date",value:b.contractDate,onChange:I=>v({...b,contractDate:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(Ie,{type:"number",step:"0.01",value:b.amount||"",onChange:I=>v({...b,amount:parseFloat(I.target.value)||void 0})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(et,{value:b.currencyCode||"KZT",onValueChange:I=>v({...b,currencyCode:I}),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"KZT",children:"KZT"}),n.jsx(xe,{value:"USD",children:"USD"}),n.jsx(xe,{value:"EUR",children:"EUR"}),n.jsx(xe,{value:"RUB",children:"RUB"})]})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{onClick:()=>_(b.id,{contractNumber:b.contractNumber,contractDate:b.contractDate,amount:b.amount,currencyCode:b.currencyCode}),disabled:f,children:[f?n.jsx(Dr,{className:"h-4 w-4 animate-spin mr-2"}):null,""]}),n.jsx(X,{variant:"outline",onClick:()=>v(null),children:""})]})]})})]})]})};function xme({request:e,onApprove:t,onApproveOnBehalf:r,onReturn:a,onDecline:s,onCancel:i}){const[l,u]=x.useState("items"),[d,f]=x.useState([]),[m,h]=x.useState("p2"),[g,j]=x.useState(""),[w,b]=x.useState(""),[v,N]=x.useState(""),[C,S]=x.useState(!1),[A,_]=x.useState([]),[T,k]=x.useState([]),[D,I]=x.useState([]),[B,z]=x.useState([]),[H,W]=x.useState([]),[Z,$]=x.useState(!1),[M,P]=x.useState(!1);x.useEffect(()=>{O()},[e]),x.useEffect(()=>{K()},[d]);const O=async()=>{try{S(!0);const[re,le,ge,Le]=await Promise.all([kl.getContracts(),kl.getExpenseItems(),kl.getCounterparties(),kl.getPriorities()]);_(re),k(le),I(ge),z(Le),e.paymentAllocations&&f(e.paymentAllocations)}catch(re){console.error("Failed to load data:",re),we.error("  ")}finally{S(!1)}},K=()=>{const re=[],le=d.reduce((ge,Le)=>ge+Le.amount,0);le!==e.amount&&re.push(`  (${G(le,e.currency)})     (${G(e.amount,e.currency)})`),d.forEach((ge,Le)=>{if(ge.contractId==="none"||!ge.contractId){re.push(` ${Le+1}:  `);return}const Xe=A.find(wt=>wt.id===ge.contractId);if(!Xe){re.push(` ${Le+1}:   `);return}Xe.status!=="active"&&re.push(` ${Le+1}:  "${Xe.code}" `);const ot=Xe.limitTotal-Xe.usedTotal;ge.amount>ot&&re.push(` ${Le+1}:    "${Xe.code}" (: ${G(ot,e.currency)})`),new Date(ge.plannedDate)<new Date&&re.push(` ${Le+1}:       `)}),W(re)},V=()=>{const re={id:`alloc_${Date.now()}`,contractId:"none",amount:0,currency:e.currency,plannedDate:new Date().toISOString().split("T")[0],comment:""};f([...d,re])},q=(re,le,ge)=>{const Le=[...d];Le[re]={...Le[re],[le]:ge},f(Le)},F=re=>{f(d.filter((le,ge)=>ge!==re))},L=()=>{if(d.length===0){we.warning("    ");return}const re=d.filter(ot=>ot.contractId&&ot.contractId!=="none");if(re.length===0){we.warning("    ");return}const le=Math.floor(e.amount/re.length),ge=e.amount-le*re.length,Le=[...d];let Xe=!1;re.forEach((ot,wt)=>{const te=d.findIndex(se=>se.id===ot.id);te!==-1&&(Le[te].amount=le+(wt===0&&!Xe?ge:0),wt===0&&(Xe=!0))}),f(Le),we.success("  ")},Y=re=>D.find(ge=>ge.id===re)?.name||"",ee=re=>T.find(ge=>ge.id===re)?.name||"",ce=(re,le)=>A.filter(ge=>ge.counterpartyId===re&&ge.expenseItemId===le&&ge.status==="active"),G=(re,le)=>new Intl.NumberFormat("ru-KZ",{style:"currency",currency:le==="KZT"?"KZT":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(re),fe=async()=>{if(H.length>0){we.error("   ");return}if(d.length===0){we.error(" ");return}try{await t(d,m,g)}catch(re){console.error("Failed to approve:",re)}},oe=async()=>{if(H.length>0){we.error("   ");return}if(d.length===0){we.error(" ");return}try{await r(d,m,g)}catch(re){console.error("Failed to approve on behalf:",re)}},Ee=async()=>{if(!w.trim()){we.error("  ");return}try{await a(w),$(!1)}catch(re){console.error("Failed to return:",re)}},Oe=async()=>{if(!v.trim()){we.error("  ");return}try{await s(v),P(!1)}catch(re){console.error("Failed to decline:",re)}};return C?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:i,children:[n.jsx(ka,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-semibold",children:["  ",e.requestNumber]}),n.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[n.jsx(qo,{status:e.status}),e.isAssignedToChief&&n.jsxs(je,{variant:"secondary",className:"text-xs",children:[n.jsx(Hj,{className:"h-3 w-3 mr-1"}),"   "]})]})]})]})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsx("p",{className:"font-medium",children:Y(e.counterpartyId)})]}),n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsx("p",{className:"font-medium",children:G(e.amount,e.currency)})]}),n.jsxs("div",{children:[n.jsx(ae,{children:" "}),n.jsxs("p",{className:"font-medium flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4"}),new Date(e.dueDate).toLocaleDateString("ru-RU")]})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx(ae,{children:""}),n.jsx("p",{children:e.description})]})]})})]}),n.jsxs(Pc,{value:l,onValueChange:u,children:[n.jsxs(Oc,{className:"grid w-full grid-cols-2",children:[n.jsxs(xn,{value:"items",children:[" (",e.expenseSplits?.length||0,")"]}),n.jsxs(xn,{value:"allocations",children:[" (",d.length,")"]})]}),n.jsx(yn,{value:"items",children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsx(pe,{children:n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{children:" "}),n.jsx(Ce,{className:"text-right",children:"  "}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:e.expenseSplits?.map(re=>n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsx("div",{children:n.jsx("div",{className:"font-medium",children:ee(re.expenseItemId)})})}),n.jsx(Se,{className:"text-right font-medium",children:G(re.amount,e.currency)}),n.jsx(Se,{children:re.comment&&n.jsx("span",{className:"text-sm text-muted-foreground",children:re.comment})})]},re.id))})]})})]})}),n.jsx(yn,{value:"allocations",children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"  "}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:L,children:[n.jsx(zj,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:V,children:[n.jsx(on,{className:"h-4 w-4 mr-2"}),""]})]})]})}),n.jsxs(pe,{children:[H.length>0&&n.jsxs(ip,{className:"mb-4",children:[n.jsx(Ot,{className:"h-4 w-4"}),n.jsx(op,{children:n.jsx("ul",{className:"list-disc list-inside space-y-1",children:H.map((re,le)=>n.jsx("li",{className:"text-sm",children:re},le))})})]}),n.jsxs("div",{className:"space-y-4",children:[d.map((re,le)=>n.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(je,{variant:"outline",children:[" ",le+1]}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>F(le),className:"text-red-600 hover:text-red-700",children:n.jsx(Sr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(et,{value:re.contractId,onValueChange:ge=>q(le,"contractId",ge),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"none",disabled:!0,children:" "}),e.expenseSplits?.map(ge=>ce(e.counterpartyId,ge.expenseItemId).map(Xe=>n.jsx(xe,{value:Xe.id,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:Xe.code}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[": ",G(Xe.limitTotal-Xe.usedTotal,e.currency)]})]})},Xe.id)))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(Ie,{type:"number",value:re.amount,onChange:ge=>q(le,"amount",Number(ge.target.value)),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(Ie,{type:"date",value:re.plannedDate,onChange:ge=>q(le,"plannedDate",ge.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(Ie,{value:re.currency,disabled:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(Ai,{value:re.comment||"",onChange:ge=>q(le,"comment",ge.target.value),placeholder:" ...",rows:2})]})]},re.id)),d.length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx("p",{children:"  "}),n.jsxs(X,{variant:"outline",onClick:V,className:"mt-2",children:[n.jsx(on,{className:"h-4 w-4 mr-2"}),"  "]})]})]}),d.length>0&&n.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"  :"}),n.jsx("span",{className:"font-medium",children:G(d.reduce((re,le)=>re+le.amount,0),e.currency)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:" :"}),n.jsx("span",{className:"font-medium",children:G(e.amount,e.currency)})]}),n.jsxs("div",{className:"flex justify-between items-center border-t pt-2 mt-2",children:[n.jsx("span",{children:":"}),n.jsx("span",{className:`font-medium ${d.reduce((re,le)=>re+le.amount,0)===e.amount?"text-green-600":"text-red-600"}`,children:G(d.reduce((re,le)=>re+le.amount,0)-e.amount,e.currency)})]})]})]})]})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"  "})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(et,{value:m,onValueChange:h,children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsx(nt,{children:B.map(re=>n.jsx(xe,{value:re.id,children:re.label},re.id))})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(Ai,{value:g,onChange:re=>j(re.target.value),placeholder:" ...",rows:3})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsxs(X,{onClick:fe,disabled:H.length>0||d.length===0,className:"flex-1",children:[n.jsx(mt,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"secondary",onClick:oe,disabled:H.length>0||d.length===0,className:"flex-1",children:[n.jsx(mt,{className:"h-4 w-4 mr-2"}),"  "]}),n.jsxs(Ft,{open:Z,onOpenChange:$,children:[n.jsx(Ma,{asChild:!0,children:n.jsxs(X,{variant:"outline",children:[n.jsx(l6,{className:"h-4 w-4 mr-2"}),""]})}),n.jsxs($t,{children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"     "})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsx(Ai,{value:w,onChange:re=>b(re.target.value),placeholder:" ...",rows:3})}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>$(!1),children:""}),n.jsx(X,{onClick:Ee,children:""})]})]})]}),n.jsxs(Ft,{open:M,onOpenChange:P,children:[n.jsx(Ma,{asChild:!0,children:n.jsxs(X,{variant:"destructive",children:[n.jsx(Vn,{className:"h-4 w-4 mr-2"}),""]})}),n.jsxs($t,{children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"   "})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsx(Ai,{value:v,onChange:re=>N(re.target.value),placeholder:" ...",rows:3})}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>P(!1),children:""}),n.jsx(X,{variant:"destructive",onClick:Oe,children:""})]})]})]})]})]})]})]})}const yme=({currentRole:e,paymentRequests:t,onViewRequest:r,onNavigate:a})=>{const[s,i]=x.useState([]),[l,u]=x.useState(new Map);x.useEffect(()=>{const b=So.subscribe(i);return d(),b},[t]);const d=()=>{const b=new Map;t.forEach(v=>{const N=Sx.getWorkflowProgress(v.id,v.status,v.distributionStatus||"pending");b.set(v.id,N)}),u(b)},f=()=>{switch(e){case"registrar":return t.filter(b=>["approved","approved-on-behalf","to-pay","in-register","approved-for-payment"].includes(b.status));case"sub_registrar":return t.filter(b=>b.status==="distributed");case"distributor":return t.filter(b=>["distributed","report_published","export_linked"].includes(b.status));default:return t}},m=()=>{const b=f(),v=b.length;switch(e){case"registrar":return{total:v,pending:b.filter(N=>["approved","approved-on-behalf","to-pay","in-register","approved-for-payment"].includes(N.status)).length,distributed:b.filter(N=>N.status==="distributed").length,completed:b.filter(N=>["report_published","export_linked"].includes(N.status)).length};case"sub_registrar":return{total:v,pending:b.filter(N=>N.status==="distributed").length,inProgress:b.filter(N=>N.status==="distributed").length,completed:b.filter(N=>N.status==="report_published").length};case"distributor":return{total:v,pending:b.filter(N=>N.status==="distributed").length,enriched:b.filter(N=>N.status==="report_published").length,linked:b.filter(N=>N.status==="export_linked").length};default:return{total:v,pending:0,completed:0}}},h=b=>{switch(b.status){case"completed":return n.jsx(mt,{className:"h-4 w-4 text-green-500"});case"in-progress":return n.jsx(Zt,{className:"h-4 w-4 text-blue-500"});case"error":return n.jsx($s,{className:"h-4 w-4 text-red-500"});default:return n.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-gray-300"})}},g=b=>{switch(b.status){case"completed":return"text-green-600";case"in-progress":return"text-blue-600";case"error":return"text-red-600";default:return"text-gray-500"}},j=m(),w=f();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold",children:[e==="REGISTRAR"&&"  ",e==="SUB_REGISTRAR"&&"  -",e==="DISTRIBUTOR"&&"  "]}),n.jsxs("p",{className:"text-muted-foreground mt-2",children:[e==="REGISTRAR"&&"  ",e==="SUB_REGISTRAR"&&"  ",e==="DISTRIBUTOR"&&"    "]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{onClick:()=>a("requests"),variant:"outline",className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-4 w-4"})," "]}),e==="REGISTRAR"&&n.jsxs(X,{onClick:()=>a("registrar-distribution"),className:"flex items-center gap-2",children:[n.jsx(Bj,{className:"h-4 w-4"})," "]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),n.jsx("p",{className:"text-2xl font-bold",children:j.total})]}),n.jsx(yt,{className:"h-8 w-8 text-muted-foreground"})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e==="REGISTRAR"&&" ",e==="SUB_REGISTRAR"&&"",e==="DISTRIBUTOR"&&" "]}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.pending})]}),n.jsx(Zt,{className:"h-8 w-8 text-blue-500"})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e==="REGISTRAR"&&"",e==="SUB_REGISTRAR"&&" ",e==="DISTRIBUTOR"&&""]}),n.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[e==="REGISTRAR"&&j.distributed,e==="SUB_REGISTRAR"&&j.inProgress,e==="DISTRIBUTOR"&&j.enriched]})]}),n.jsx(Ml,{className:"h-8 w-8 text-orange-500"})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:[e==="REGISTRAR"&&"",e==="SUB_REGISTRAR"&&"",e==="DISTRIBUTOR"&&""]}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e==="REGISTRAR"&&j.completed,e==="SUB_REGISTRAR"&&j.completed,e==="DISTRIBUTOR"&&j.linked]})]}),n.jsx(mt,{className:"h-8 w-8 text-green-500"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:w.slice(0,5).map(b=>{const v=l.get(b.id);return v?n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-muted/50",onClick:()=>r(b.id),children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:b.requestNumber||" "}),n.jsx(je,{variant:"outline",children:b.status})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.description||" "}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(rN,{value:Sx.getProgressPercentage(v),className:"flex-1 h-2"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Sx.getProgressPercentage(v),"%"]})]})]}),n.jsx(Bj,{className:"h-4 w-4 text-muted-foreground"})]},b.id):null})})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(O1,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:w.slice(0,1).map(b=>{const v=l.get(b.id);return v?n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:b.requestNumber||" "}),n.jsx("div",{className:"space-y-2",children:v.steps.slice(0,5).map((N,C)=>n.jsxs("div",{className:"flex items-center gap-3",children:[h(N),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${g(N)}`,children:N.name}),N.description&&n.jsx("p",{className:"text-xs text-muted-foreground",children:N.description})]}),N.role===e&&N.status==="in-progress"&&n.jsx(je,{variant:"outline",className:"text-xs",children:" "})]},N.id))})]},b.id):null})})})]})]}),s.length>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx($s,{className:"h-5 w-5"}),""]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-2",children:s.slice(0,5).map(b=>n.jsx(ip,{children:n.jsxs(op,{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:b.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.message})]}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>So.markAsRead(b.id),children:""})]})},b.id))})})]})]})};var jg="Switch",[bme,xpe]=kn(jg),[jme,wme]=bme(jg),G5=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:s,defaultChecked:i,required:l,disabled:u,value:d="on",onCheckedChange:f,form:m,...h}=e,[g,j]=x.useState(null),w=Nt(t,S=>j(S)),b=x.useRef(!1),v=g?m||!!g.closest("form"):!0,[N,C]=is({prop:s,defaultProp:i??!1,onChange:f,caller:jg});return n.jsxs(jme,{scope:r,checked:N,disabled:u,children:[n.jsx(at.button,{type:"button",role:"switch","aria-checked":N,"aria-required":l,"data-state":Q5(N),"data-disabled":u?"":void 0,disabled:u,value:d,...h,ref:w,onClick:Ue(e.onClick,S=>{C(A=>!A),v&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})}),v&&n.jsx(X5,{control:g,bubbles:!b.current,name:a,value:d,checked:N,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});G5.displayName=jg;var K5="SwitchThumb",Y5=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,s=wme(K5,r);return n.jsx(at.span,{"data-state":Q5(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});Y5.displayName=K5;var Nme="SwitchBubbleInput",X5=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...s},i)=>{const l=x.useRef(null),u=Nt(l,i),d=nN(r),f=z1(t);return x.useEffect(()=>{const m=l.current;if(!m)return;const h=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==r&&j){const w=new Event("click",{bubbles:a});j.call(m,r),m.dispatchEvent(w)}},[d,r,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:u,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});X5.displayName=Nme;function Q5(e){return e?"checked":"unchecked"}var Sme=G5,_me=Y5;function Tn({className:e,...t}){return n.jsx(Sme,{"data-slot":"switch",className:We("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(_me,{"data-slot":"switch-thumb",className:We("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Cme({onBack:e}={}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(!0),[u,d]=x.useState(""),[f,m]=x.useState(""),[h,g]=x.useState(""),[j,w]=x.useState(!0),[b,v]=x.useState(new Date().toISOString().split("T")[0]),[N,C]=x.useState([]),[S,A]=x.useState([]),[_,T]=x.useState([]),[k,D]=x.useState(!1),[I,B]=x.useState(!1),[z,H]=x.useState(null),[W,Z]=x.useState({expenseItemId:"",chiefDistributorUserId:"",effectiveFrom:new Date().toISOString().split("T")[0],effectiveTo:"",isActive:!0});x.useEffect(()=>{$()},[]),x.useEffect(()=>{M()},[t,u,f,h,j,b]);const $=async()=>{try{l(!0);const[G,fe,oe]=await Promise.all([Tl.getBindings(),kl.getExpenseItems(),Wu.getUsers()]);r(G),C(fe),A(oe);const Ee=oe.filter(Oe=>Oe.roles.includes("distributor"));T(Ee)}catch(G){console.error("Failed to load data:",G),we.error("  ")}finally{l(!1)}},M=()=>{let G=[...t];if(u&&(G=G.filter(fe=>P(fe.expenseItemId).toLowerCase().includes(u.toLowerCase())||O(fe.chiefDistributorUserId).toLowerCase().includes(u.toLowerCase()))),f&&f!=="all"&&(G=G.filter(fe=>fe.expenseItemId===f)),h&&h!=="all"&&(G=G.filter(fe=>fe.chiefDistributorUserId===h)),j&&(G=G.filter(fe=>fe.isActive)),b){const fe=new Date(b);G=G.filter(oe=>{const Ee=new Date(oe.effectiveFrom),Oe=oe.effectiveTo?new Date(oe.effectiveTo):new Date("2099-12-31");return fe>=Ee&&fe<=Oe})}s(G)},P=G=>N.find(oe=>oe.id===G)?.name||"",O=G=>S.find(oe=>oe.id===G)?.name||"",K=()=>{Z({expenseItemId:"",chiefDistributorUserId:"",effectiveFrom:new Date().toISOString().split("T")[0],effectiveTo:"",isActive:!0})},V=async()=>{if(!W.expenseItemId||!W.chiefDistributorUserId){we.error("  ");return}try{const G=await Tl.createBinding(W);r([G,...t]),D(!1),K(),we.success("  ")}catch(G){console.error("Failed to create binding:",G),we.error("  ")}},q=G=>{H(G),Z({expenseItemId:G.expenseItemId,chiefDistributorUserId:G.chiefDistributorUserId,effectiveFrom:G.effectiveFrom,effectiveTo:G.effectiveTo||"",isActive:G.isActive}),B(!0)},F=async()=>{if(!z||!W.expenseItemId||!W.chiefDistributorUserId){we.error("  ");return}try{const G=await Tl.updateBinding(z.id,W);r(t.map(fe=>fe.id===z.id?G:fe)),B(!1),H(null),K(),we.success("  ")}catch(G){console.error("Failed to update binding:",G),we.error("  ")}},L=async G=>{try{const fe=await Tl.updateBinding(G.id,{...G,isActive:!G.isActive});r(t.map(oe=>oe.id===G.id?fe:oe)),we.success(` ${fe.isActive?"":""}`)}catch(fe){console.error("Failed to toggle binding:",fe),we.error("  ")}},Y=async G=>{if(confirm(" ,     ?"))try{await Tl.deleteBinding(G.id),r(t.filter(fe=>fe.id!==G.id)),we.success(" ")}catch(fe){console.error("Failed to delete binding:",fe),we.error("  ")}},ee=(G,fe)=>G.filter(oe=>oe.parentId===fe).map(oe=>({...oe,children:ee(G,oe.id)})),ce=(G,fe=0)=>G.flatMap(oe=>[n.jsx(xe,{value:oe.id,children:"  ".repeat(fe)+oe.name},oe.id),...oe.children?ce(oe.children,fe+1):[]]);return i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[e&&n.jsx(X,{variant:"ghost",onClick:e,className:"pl-0",children:" "}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]})]}),n.jsxs(Ft,{open:k,onOpenChange:D,children:[n.jsx(Ma,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(on,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"     "})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(et,{value:W.expenseItemId,onValueChange:G=>Z({...W,expenseItemId:G}),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:ce(ee(N))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(et,{value:W.chiefDistributorUserId,onValueChange:G=>Z({...W,chiefDistributorUserId:G}),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:_.map(G=>n.jsx(xe,{value:G.id,children:G.name},G.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(Ie,{type:"date",value:W.effectiveFrom,onChange:G=>Z({...W,effectiveFrom:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(Ie,{type:"date",value:W.effectiveTo,onChange:G=>Z({...W,effectiveTo:G.target.value})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Tn,{id:"isActive",checked:W.isActive,onCheckedChange:G=>Z({...W,isActive:G})}),n.jsx(ae,{htmlFor:"isActive",children:""})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{D(!1),K()},children:""}),n.jsx(X,{onClick:V,children:""})]})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Fi,{className:"h-5 w-5"}),""]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{placeholder:"  ...",value:u,onChange:G=>d(G.target.value),className:"pl-10"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsxs(et,{value:f,onValueChange:m,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),ce(ee(N))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsxs(et,{value:h,onValueChange:g,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),_.map(G=>n.jsx(xe,{value:G.id,children:G.name},G.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  "}),n.jsx(Ie,{type:"date",value:b,onChange:G=>v(G.target.value)})]})]}),n.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[n.jsx(Tn,{id:"activeOnly",checked:j,onCheckedChange:w}),n.jsx(ae,{htmlFor:"activeOnly",children:" "})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mt,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:" "}),n.jsx("p",{className:"text-2xl font-semibold",children:t.filter(G=>G.isActive).length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ao,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:" "}),n.jsx("p",{className:"text-2xl font-semibold",children:new Set(t.filter(G=>G.isActive).map(G=>G.chiefDistributorUserId)).size})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"h-5 w-5 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:" "}),n.jsx("p",{className:"text-2xl font-semibold",children:new Set(t.filter(G=>G.isActive).map(G=>G.expenseItemId)).size})]})]})})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{children:[" (",a.length,"  ",t.length,")"]})}),n.jsxs(pe,{className:"p-0",children:[n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{className:"text-center",children:""}),n.jsx(Ce,{className:"w-[150px]",children:""})]})}),n.jsx(Ur,{children:a.map(G=>n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsx("div",{className:"font-medium",children:P(G.expenseItemId)})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ao,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:O(G.chiefDistributorUserId)})]})}),n.jsx(Se,{children:n.jsx("div",{className:"text-sm",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ho,{className:"h-3 w-3"}),new Date(G.effectiveFrom).toLocaleDateString("ru-RU"),G.effectiveTo&&n.jsxs(n.Fragment,{children:[" - ",new Date(G.effectiveTo).toLocaleDateString("ru-RU")]})]})})}),n.jsx(Se,{className:"text-center",children:n.jsx(je,{variant:G.isActive?"default":"secondary",children:G.isActive?"":""})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>q(G),className:"h-8 w-8 p-0",children:n.jsx(sn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>L(G),className:"h-8 w-8 p-0",children:G.isActive?n.jsx(Ot,{className:"h-4 w-4 text-orange-600"}):n.jsx(mt,{className:"h-4 w-4 text-green-600"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Y(G),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:n.jsx(Sr,{className:"h-4 w-4"})})]})})]},G.id))})]}),a.length===0&&n.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[n.jsx("p",{children:"  "}),n.jsx("p",{className:"text-sm mt-2",children:"      "})]})]})]}),n.jsx(Ft,{open:I,onOpenChange:B,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"   "})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(et,{value:W.expenseItemId,onValueChange:G=>Z({...W,expenseItemId:G}),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:ce(ee(N))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsxs(et,{value:W.chiefDistributorUserId,onValueChange:G=>Z({...W,chiefDistributorUserId:G}),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:_.map(G=>n.jsx(xe,{value:G.id,children:G.name},G.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(Ie,{type:"date",value:W.effectiveFrom,onChange:G=>Z({...W,effectiveFrom:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:" "}),n.jsx(Ie,{type:"date",value:W.effectiveTo,onChange:G=>Z({...W,effectiveTo:G.target.value})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Tn,{id:"isActiveEdit",checked:W.isActive,onCheckedChange:G=>Z({...W,isActive:G})}),n.jsx(ae,{htmlFor:"isActiveEdit",children:""})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{B(!1),H(null),K()},children:""}),n.jsx(X,{onClick:F,children:""})]})]})})]})}function Eme({onViewRequest:e}){const{items:t}=ir("counterparties"),{items:r}=ir("expense-articles"),[a,s]=x.useState([]),[i,l]=x.useState([]),[u,d]=x.useState(!0),[f,m]=x.useState(""),[h,g]=x.useState("all"),[j,w]=x.useState("date"),[b,v]=x.useState("desc");x.useEffect(()=>{N()},[]),x.useEffect(()=>{C()},[a,f,h,j,b]);const N=async()=>{try{d(!0);const B=(await it.getAll({role:"distributor"})).filter(z=>z.paymentAllocations&&z.paymentAllocations.some(H=>H.contractId==="outside-deals"));s(B)}catch(I){console.error("Failed to load unallocated requests:",I),we.error("   ")}finally{d(!1)}},C=()=>{let I=[...a];if(f.trim()){const B=f.toLowerCase();I=I.filter(z=>z.requestNumber?.toLowerCase().includes(B)||z.docNumber?.toLowerCase().includes(B)||S(z.counterpartyId).toLowerCase().includes(B)||z.description?.toLowerCase().includes(B))}h!=="all"&&(I=I.filter(B=>B.status===h)),I.sort((B,z)=>{let H=0;switch(j){case"date":H=new Date(B.dueDate).getTime()-new Date(z.dueDate).getTime();break;case"amount":H=B.amount-z.amount;break;case"counterparty":H=S(B.counterpartyId).localeCompare(S(z.counterpartyId));break}return b==="asc"?H:-H}),l(I)},S=I=>t.find(B=>B.id===I)?.name||"",A=I=>{const B=r.find(z=>z.id===I);return B?`${B.code} - ${B.name}`:""},_=()=>i.reduce((I,B)=>I+B.amount,0),T=()=>{const I={approved:0,"in-register":0,"approved-for-payment":0,"paid-full":0,"paid-partial":0};return i.forEach(B=>{I.hasOwnProperty(B.status)&&I[B.status]++}),I},k=I=>{I.docFileUrl?window.open(I.docFileUrl,"_blank"):we.info(` : ${I.fileName}`)};if(u)return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const D=T();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"  "}),n.jsx("p",{className:"text-muted-foreground",children:',    " "  " "'})]}),n.jsx(X,{variant:"outline",onClick:N,children:""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-2xl font-semibold",children:i.length})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kn,{className:"h-4 w-4 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsxs("p",{className:"text-2xl font-semibold",children:[_().toLocaleString()," "]})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vl,{className:"h-4 w-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-2xl font-semibold",children:D.approved})]})]})})}),n.jsx(me,{children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-4 w-4 text-purple-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-2xl font-semibold",children:D["paid-full"]+D["paid-partial"]})]})]})})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Fi,{className:"h-5 w-5"}),"  "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:""}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Ie,{placeholder:" , ...",value:f,onChange:I=>m(I.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:""}),n.jsxs(et,{value:h,onValueChange:g,children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),n.jsx(xe,{value:"approved",children:""}),n.jsx(xe,{value:"in-register",children:" "}),n.jsx(xe,{value:"approved-for-payment",children:" "}),n.jsx(xe,{value:"paid-full",children:" "}),n.jsx(xe,{value:"paid-partial",children:" "})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:""}),n.jsxs(et,{value:j,onValueChange:I=>w(I),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"date",children:" "}),n.jsx(xe,{value:"amount",children:" "}),n.jsx(xe,{value:"counterparty",children:" "})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:""}),n.jsxs(et,{value:b,onValueChange:I=>v(I),children:[n.jsx(rt,{children:n.jsx(tt,{})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"desc",children:" "}),n.jsx(xe,{value:"asc",children:" "})]})]})]})]})})]}),i.length===0?n.jsx(me,{children:n.jsxs(pe,{className:"p-12 text-center",children:[n.jsx(Ot,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  "}),n.jsx("p",{className:"text-muted-foreground",children:f||h!=="all"?"     ":"    "})]})}):n.jsx("div",{className:"space-y-4",children:i.map(I=>n.jsx(me,{className:"hover:shadow-md transition-shadow",children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(je,{variant:"outline",className:"font-mono",children:I.requestNumber}),n.jsx(qo,{status:I.status}),n.jsxs(je,{variant:"secondary",className:"bg-orange-100 text-orange-700 border-orange-200",children:[n.jsx(Ot,{className:"h-3 w-3 mr-1"})," "]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[e&&n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>e(I.id),children:[n.jsx(Pi,{className:"h-4 w-4 mr-1"}),""]}),I.fileName&&n.jsx(n.Fragment,{children:n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>k(I),children:[n.jsx(MB,{className:"h-4 w-4 mr-1"}),""]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ss,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:""}),n.jsx("p",{className:"text-sm",children:S(I.counterpartyId)})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:""}),n.jsxs("p",{className:"text-lg font-semibold",children:[I.amount.toLocaleString()," ",I.currency]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:" "}),n.jsx("p",{className:"text-sm",children:ht(new Date(I.dueDate),"d MMMM yyyy",{locale:St})})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sm",children:""}),n.jsx("p",{className:"text-sm",children:I.docNumber})]})]})]}),I.expenseSplits&&I.expenseSplits.length>0&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Vl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"font-semibold text-sm",children:" "})]}),n.jsx("div",{className:"space-y-2",children:I.expenseSplits.map((B,z)=>n.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[n.jsx("span",{className:"text-sm",children:A(B.expenseItemId)}),n.jsxs(je,{variant:"outline",children:[B.amount.toLocaleString()," ",I.currency]})]},z))})]}),I.paymentAllocations&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Ot,{className:"h-4 w-4 text-orange-500"}),n.jsx("p",{className:"font-semibold text-sm",children:" "})]}),I.paymentAllocations.filter(B=>B.contractId==="outside-deals").map((B,z)=>n.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-orange-800",children:"  "}),n.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"      "}),B.comment&&n.jsxs("p",{className:"text-sm text-orange-700 mt-2 italic",children:[": ",B.comment]})]}),n.jsxs(je,{variant:"outline",className:"bg-white",children:[B.amount.toLocaleString()," ",I.currency]})]})},z))]})]})})},I.id))})]})}function Tme({onBack:e,onUpdateRequest:t}){const{items:r}=ir("counterparties"),{items:a}=ir("priorities"),[s,i]=x.useState([]),[l,u]=x.useState("create"),[d,f]=x.useState({}),[m,h]=x.useState([]),[g,j]=x.useState(!0),[w,b]=x.useState(null);x.useEffect(()=>{(async()=>{try{j(!0),b(null);const q=await it.getAll({role:"treasurer"});h(q)}catch(q){console.error("Error loading requests:",q),b("  "),h([])}finally{j(!1)}})()},[]);const v=m.filter(V=>["approved","approved-on-behalf"].includes(V.status)),N=m.filter(V=>["in-register","approved-for-payment","paid-full","paid-partial"].includes(V.status)),C=V=>{i(q=>q.includes(V)?q.filter(F=>F!==V):[...q,V])},S=s.reduce((V,q)=>{const F=v.find(L=>L.id===q);return V+(F?.amount||0)},0),A=N.reduce((V,q)=>V+q.amount,0),_=V=>V?a.find(q=>q.id===V):null,T=V=>r.find(q=>q.id===V)?.name||"",k=V=>{switch(V){case"in-register":return"bg-purple-100 text-purple-800";case"approved-for-payment":return"bg-green-100 text-green-800";case"paid-full":return"bg-emerald-100 text-emerald-800";case"paid-partial":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},D=V=>{switch(V){case"in-register":return" ";case"approved-for-payment":return"  ";case"paid-full":return" ";case"paid-partial":return" ";default:return""}},I=async()=>{if(s.length!==0)try{await Promise.all(s.map(V=>it.updateStatus(V,"in-register",{comment:"    "}))),t&&s.forEach(V=>{}),i([]),u("existing"),we.success(`   ${s.length}    ${S.toLocaleString()} `)}catch(V){console.error("Error creating register:",V),we.error("  ")}},B=()=>{alert("    Excel")},z=()=>{alert("    PDF")},H=()=>{const V=[...new Set(N.map(q=>q.payingCompany).filter(Boolean))];alert(` -    : ${V.join(", ")}`)},W=(V,q,F)=>{f(L=>({...L,[V]:{...L[V],[q]:F}}))},Z=V=>{const q=d[V]||{actualAmount:0,status:"paid-full",comment:"",executionDate:new Date().toISOString().split("T")[0]};if(q.actualAmount===0){const F=N.find(L=>L.id===V);q.actualAmount=F?.amount||0}return q},$=(V,q)=>q===V?"paid-full":q>0&&q<V?"paid-partial":"declined",M=V=>{const q=N.find(ce=>ce.id===V);if(!q||!t)return;const F=Z(V),L=F.actualAmount===0?"declined":$(q.amount,F.actualAmount),Y={...q,status:L,paymentExecution:{actualAmount:F.actualAmount,executionDate:F.executionDate,executionComment:F.comment,exchangeRate:1}};t(Y),f(ce=>{const G={...ce};return delete G[V],G});const ee=L==="paid-full"?" ":L==="paid-partial"?" ":"";we.success(` ${q.docNumber}   ${ee}`)},P=()=>{if(!t)return;const V=N.filter(q=>["in-register","approved-for-payment"].includes(q.status)&&d[q.id]);V.forEach(q=>{const F=Z(q.id),L=F.actualAmount===0?"declined":$(q.amount,F.actualAmount),Y={...q,status:L,paymentExecution:{actualAmount:F.actualAmount,executionDate:F.executionDate,executionComment:F.comment,exchangeRate:1}};t(Y)}),f({}),we.success(`  ${V.length} `)},O=N.reduce((V,q)=>{const F=q.payingCompany||" ";return V[F]||(V[F]=[]),V[F].push(q),V},{}),K=N.filter(V=>["in-register","approved-for-payment"].includes(V.status)).length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:e,children:[n.jsx(ka,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:l==="create"?"default":"outline",onClick:()=>u("create"),children:" "}),n.jsxs(X,{variant:l==="existing"?"default":"outline",onClick:()=>u("existing"),children:["  (",N.length,")"]}),K>0&&n.jsxs(X,{variant:l==="process"?"default":"outline",onClick:()=>u("process"),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Kn,{className:"h-4 w-4 mr-2"}),"  (",K,")"]})]})]}),l==="create"&&n.jsxs(n.Fragment,{children:[n.jsx(me,{children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-8 w-8 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-2xl font-semibold",children:s.length})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kn,{className:"h-8 w-8 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsxs("p",{className:"text-2xl font-semibold",children:[S.toLocaleString()," "]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pr,{className:"h-8 w-8 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-lg font-semibold",children:new Date().toLocaleDateString("ru-RU")})]})]})]})})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{children:["      (",v.length,")"]})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-3",children:[v.map(V=>{const q=s.includes(V.id),F=_(V.priority);return n.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${q?"border-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>C(V.id),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:V.docNumber}),n.jsx(je,{variant:"outline",children:V.payingCompany}),n.jsx(je,{variant:"outline",children:V.dueDate}),F&&n.jsx(je,{style:{backgroundColor:`${F.color==="red"?"#fef2f2":F.color==="orange"?"#fff7ed":F.color==="yellow"?"#fefce8":F.color==="green"?"#f0fdf4":"#f9fafb"}`,color:`${F.color==="red"?"#b91c1c":F.color==="orange"?"#c2410c":F.color==="yellow"?"#a16207":F.color==="green"?"#166534":"#374151"}`},children:F.label})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[T(V.counterpartyId)," - ",V.description]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{children:[": ",n.jsxs("strong",{children:[V.amount.toLocaleString()," ",V.currency]})]}),n.jsxs("span",{children:[": ",V.dueDate]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:`w-4 h-4 rounded border-2 ${q?"bg-primary border-primary":"border-muted-foreground"}`,children:q&&n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-xs",children:""})})})]})},V.id)}),v.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"      "})})]})})]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx(X,{variant:"outline",onClick:e,children:""}),n.jsxs(X,{onClick:I,disabled:s.length===0,children:[n.jsx(lp,{className:"h-4 w-4 mr-2"}),"  (",s.length,")"]})]})]}),l==="existing"&&n.jsxs(n.Fragment,{children:[n.jsx(me,{children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"h-8 w-8 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsx("p",{className:"text-2xl font-semibold",children:N.length})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kn,{className:"h-8 w-8 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),n.jsxs("p",{className:"text-2xl font-semibold",children:[A.toLocaleString()," "]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ss,{className:"h-8 w-8 text-purple-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-2xl font-semibold",children:Object.keys(O).length})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pr,{className:"h-8 w-8 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:""}),n.jsx("p",{className:"text-lg font-semibold",children:new Date().toLocaleDateString("ru-RU")})]})]})]})})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(PE,{className:"h-5 w-5"}),"  "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs(X,{onClick:B,variant:"outline",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"})," Excel"]}),n.jsxs(X,{onClick:z,variant:"outline",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"})," PDF"]}),n.jsxs(X,{onClick:H,variant:"outline",children:[n.jsx(PE,{className:"h-4 w-4 mr-2"}),"-"]})]})})]}),n.jsx("div",{className:"space-y-4",children:Object.entries(O).map(([V,q])=>n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"h-5 w-5"}),V," (",q.length," )"]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:q.map(F=>{const L=_(F.priority);return n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:F.docNumber}),n.jsx(je,{className:k(F.status),children:D(F.status)}),n.jsx(je,{variant:"outline",children:F.dueDate}),L&&n.jsx(je,{style:{backgroundColor:`${L.color==="red"?"#fef2f2":L.color==="orange"?"#fff7ed":L.color==="yellow"?"#fefce8":L.color==="green"?"#f0fdf4":"#f9fafb"}`,color:`${L.color==="red"?"#b91c1c":L.color==="orange"?"#c2410c":L.color==="yellow"?"#a16207":L.color==="green"?"#166534":"#374151"}`},children:L.label})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[T(F.counterpartyId)," - ",F.description]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{children:[": ",n.jsxs("strong",{children:[F.amount.toLocaleString()," ",F.currency]})]}),n.jsxs("span",{children:[": ",F.dueDate]}),F.paymentExecution?.actualAmount&&n.jsxs("span",{children:[": ",n.jsxs("strong",{children:[F.paymentExecution.actualAmount.toLocaleString()," "]})]})]})]})})},F.id)})})})]},V))}),N.length===0&&n.jsx(me,{children:n.jsx(pe,{className:"p-8 text-center text-muted-foreground",children:n.jsx("p",{children:" .   ,   ."})})})]}),l==="process"&&n.jsx(n.Fragment,{children:n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Kn,{className:"h-5 w-5"})," "]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsx("p",{className:"text-sm text-blue-800 mb-2",children:n.jsx("strong",{children:":"})}),n.jsxs("ul",{className:"text-sm text-blue-700 list-disc list-inside space-y-1",children:[n.jsx("li",{children:"      "}),n.jsx("li",{children:'    -   " "'}),n.jsx("li",{children:'    -   " "'}),n.jsx("li",{children:'   0 -   ""'}),n.jsx("li",{children:"   "})]})]}),n.jsx("div",{className:"space-y-4",children:N.filter(V=>["in-register","approved-for-payment"].includes(V.status)).map(V=>{const q=Z(V.id),F=_(V.priority),L=q.actualAmount===0?"declined":$(V.amount,q.actualAmount);return n.jsx(me,{className:"border-l-4 border-l-orange-400",children:n.jsx(pe,{className:"p-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-medium",children:V.docNumber}),n.jsx(je,{variant:"outline",children:V.payingCompany}),n.jsx(je,{variant:"outline",children:V.dueDate}),F&&n.jsx(je,{style:{backgroundColor:`${F.color==="red"?"#fef2f2":F.color==="orange"?"#fff7ed":F.color==="yellow"?"#fefce8":F.color==="green"?"#f0fdf4":"#f9fafb"}`,color:`${F.color==="red"?"#b91c1c":F.color==="orange"?"#c2410c":F.color==="yellow"?"#a16207":F.color==="green"?"#166534":"#374151"}`},children:F.label})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[T(V.counterpartyId)," - ",V.description]}),n.jsx("div",{className:"text-sm",children:n.jsxs("span",{children:[" : ",n.jsxs("strong",{children:[V.amount.toLocaleString()," ",V.currency]})]})})]}),n.jsx("div",{className:"text-right",children:n.jsx(je,{className:L==="paid-full"?"bg-green-100 text-green-800":L==="paid-partial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:L==="paid-full"?" ":L==="paid-partial"?" ":""})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"   *"}),n.jsx(Ie,{type:"number",value:q.actualAmount,onChange:Y=>W(V.id,"actualAmount",Number(Y.target.value)),placeholder:"0.00",min:"0",step:"0.01"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsx(Ie,{type:"date",value:q.executionDate,onChange:Y=>W(V.id,"executionDate",Y.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(ae,{children:""}),n.jsx(Ai,{value:q.comment,onChange:Y=>W(V.id,"comment",Y.target.value),placeholder:"  ",rows:2})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(X,{onClick:()=>M(V.id),disabled:!q.actualAmount&&L!=="declined",variant:L==="declined"?"destructive":"default",children:[L==="paid-full"&&n.jsx(mt,{className:"h-4 w-4 mr-2"}),L==="paid-partial"&&n.jsx(Zt,{className:"h-4 w-4 mr-2"}),L==="declined"&&n.jsx(Vn,{className:"h-4 w-4 mr-2"}),L==="paid-full"?"   ":L==="paid-partial"?"   ":" "]})})]})})},V.id)})}),n.jsxs("div",{className:"flex justify-between items-center mt-6 pt-6 border-t",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[" : ",K," "]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>u("existing"),children:""}),n.jsxs(X,{onClick:P,disabled:Object.keys(d).length===0,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Wd,{className:"h-4 w-4 mr-2"}),"   (",Object.keys(d).length,")"]})]})]}),K===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(mt,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),n.jsx("p",{children:"     "})]})]})]})})]})}function Ame({request:e,onUpdateStatus:t,onCancel:r}){const[a,s]=x.useState(null),[i,l]=x.useState(""),[u,d]=x.useState(e.amount),[f,m]=x.useState(ht(new Date,"yyyy-MM-dd")),[h,g]=x.useState(1),[j,w]=x.useState(null),{items:b}=ir("counterparties"),{items:v}=ir("expense-articles"),{items:N}=ir("priorities"),{items:C}=ir("contracts");b.find($=>$.id===e.counterpartyId);const S=e.expenseSplits||[],A=e.paymentAllocations||[],_=$=>{const M=v.find(P=>P.id===$);return M?`${M.code} - ${M.name}`:""},T=$=>N.find(M=>M.id===$),k=$=>b.find(M=>M.id===$)?.name||"",D=$=>$==="outside-deals"?{code:" ",id:"outside-deals"}:C.find(M=>M.id===$),I=()=>{t(a,{actualAmount:a==="paid-partial"||a==="paid-full"?u:void 0,executionDate:a==="paid-partial"||a==="paid-full"?f:void 0,exchangeRate:a==="paid-partial"||a==="paid-full"?h:void 0,executionComment:i||void 0})},B=()=>{alert(" : "+e.fileName)},z=()=>{alert(" : "+e.fileName)},H=$=>{$.target.files&&$.target.files[0]&&w($.target.files[0])},W=$=>{switch($){case"approved":return"bg-blue-100 text-blue-800";case"in-register":return"bg-purple-100 text-purple-800";case"approved-for-payment":return"bg-green-100 text-green-800";case"paid-full":return"bg-emerald-100 text-emerald-800";case"paid-partial":return"bg-yellow-100 text-yellow-800";case"declined":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Z=$=>{switch($){case"approved":return" ";case"in-register":return"  ";case"approved-for-payment":return"  ";case"paid-full":return" ";case"paid-partial":return" ";case"declined":return"";case"cancelled":return"";default:return""}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:r,children:[n.jsx(ka,{className:"h-4 w-4 mr-2"})," "]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:e.requestNumber?`: ${e.requestNumber}`:`: ${e.docNumber}`})]}),n.jsx(je,{className:W(e.status),children:Z(e.status)})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"  "]})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsx("p",{className:"font-medium",children:e.payingCompany||" "})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:""}),n.jsx("p",{className:"font-medium",children:k(e.counterpartyId)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" -"}),n.jsx("p",{className:"font-medium",children:e.docType||" "})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsx("p",{className:"font-medium",children:ht(new Date(e.dueDate),"d MMM yyyy",{locale:St})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsx("p",{className:"font-medium",children:e.docNumber})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsx("p",{className:"font-medium",children:e.docDate})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:""}),n.jsxs("p",{className:"text-lg font-semibold text-primary",children:[e.amount.toLocaleString()," ",e.currency]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsx("p",{className:"font-medium",children:e.vatRate||" "})]}),n.jsxs("div",{className:"sm:col-span-2 lg:col-span-4 space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:"-"}),n.jsx("div",{className:"flex items-center gap-2",children:e.fileName&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-muted-foreground flex-1",children:e.fileName}),n.jsxs(X,{variant:"outline",size:"sm",onClick:B,children:[n.jsx(Pi,{className:"h-4 w-4 mr-1"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:z,children:[n.jsx(Xn,{className:"h-4 w-4 mr-1"}),""]})]})})]})]}),(e.expenseCategory||e.productService||e.volume||e.priceRate||e.period||e.description)&&n.jsxs(n.Fragment,{children:[n.jsx(da,{className:"my-6"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ae,{className:"text-sm font-medium",children:" "}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[e.expenseCategory&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:" :"})," ",e.expenseCategory]}),e.productService&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"/:"})," ",e.productService]}),e.volume&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:":"})," ",e.volume]}),e.priceRate&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:":"})," ",e.priceRate]}),e.period&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:":"})," ",e.period]})]})]})]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:" "})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:S.map(($,M)=>n.jsxs("div",{className:"flex justify-between items-start p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:_($.expenseItemId)}),$.comment&&n.jsxs("div",{className:"mt-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" :"}),n.jsx("p",{className:"text-sm text-muted-foreground italic",children:$.comment})]})]}),n.jsxs(je,{variant:"secondary",children:[$.amount.toLocaleString()," ",e.currency]})]},M))})})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Vl,{className:"h-5 w-5"}),"   "]})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-4",children:A.length>0?A.map(($,M)=>{const P=D($.contractId),O=$.priority?T($.priority):null;return n.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50/30",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:""}),n.jsx("p",{className:"font-medium",children:P?.code||($.contractId==="outside-deals"?" ":"")}),$.contractId==="outside-deals"&&n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx(Ot,{className:"h-3 w-3 text-orange-500"}),n.jsx("span",{className:"text-xs text-orange-600",children:"   "})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsxs("p",{className:"font-semibold text-lg",children:[$.amount.toLocaleString()," ",e.currency]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:""}),n.jsx("div",{className:"flex items-center gap-2",children:O?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${O.color==="red"?"bg-red-500":O.color==="orange"?"bg-orange-500":O.color==="yellow"?"bg-yellow-500":O.color==="green"?"bg-green-500":"bg-gray-500"}`}),n.jsx("span",{className:"text-sm font-medium",children:O.label})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:" "})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{className:"text-xs text-muted-foreground",children:" "}),n.jsx("div",{className:"flex items-center gap-2",children:$.requiresPaymentOrder?n.jsxs(n.Fragment,{children:[n.jsx(RB,{className:"h-4 w-4 text-orange-500"}),n.jsx("span",{className:"text-sm font-medium text-orange-600",children:""})]}):n.jsxs(n.Fragment,{children:[n.jsx(mt,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]})})]})]}),$.comment&&n.jsxs("div",{className:"mt-4 pt-3 border-t bg-white rounded p-3",children:[n.jsxs(ae,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(Ao,{className:"h-3 w-3"})," :"]}),n.jsx("p",{className:"text-sm mt-1 italic",children:$.comment})]})]},$.id)}):n.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[n.jsx(Vl,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"       "})]})})})]}),e.history&&e.history.length>0&&n.jsxs(me,{children:[n.jsx(Te,{children:n.jsx(Ae,{children:"  "})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:e.history.map($=>n.jsx("div",{className:"flex gap-3 p-3 bg-muted/30 rounded",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-sm font-medium",children:$.action}),n.jsx(je,{variant:"outline",className:"text-xs",children:$.role==="EXECUTOR"?"":$.role==="registrar"?"":$.role==="distributor"?"":""})]}),$.comment&&n.jsx("p",{className:"text-sm text-muted-foreground",children:$.comment}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ht(new Date($.date),"d MMMM yyyy, HH:mm",{locale:St})})]})},$.id))})})]}),!a&&n.jsxs("div",{className:"flex flex-wrap gap-4 justify-end",children:[e.status==="approved"&&n.jsxs(X,{onClick:()=>s("in-register"),className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(mt,{className:"h-4 w-4 mr-2"}),"    "]}),(e.status==="in-register"||e.status==="approved-for-payment")&&n.jsxs(n.Fragment,{children:[n.jsxs(X,{onClick:()=>s("paid-full"),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(mt,{className:"h-4 w-4 mr-2"})," "]}),n.jsxs(X,{variant:"outline",onClick:()=>s("paid-partial"),children:[n.jsx(Zt,{className:"h-4 w-4 mr-2"})," "]})]}),n.jsxs(X,{variant:"destructive",onClick:()=>s("declined"),children:[n.jsx(Vn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",onClick:()=>s("cancelled"),children:[n.jsx(Vn,{className:"h-4 w-4 mr-2"}),""]})]}),a&&n.jsxs(me,{className:"border-2 border-primary",children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[a==="in-register"&&n.jsx(mt,{className:"h-4 w-4 text-purple-500"}),(a==="paid-full"||a==="paid-partial")&&n.jsx(mt,{className:"h-4 w-4 text-green-500"}),(a==="declined"||a==="cancelled")&&n.jsx(Vn,{className:"h-4 w-4 text-red-500"})," "]})}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("p",{children:[a==="in-register"&&"      .",a==="paid-full"&&"     .",a==="paid-partial"&&"     .",a==="declined"&&"  .",a==="cancelled"&&"  ."]}),(a==="paid-full"||a==="paid-partial")&&n.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded",children:[n.jsx("h4",{className:"font-medium",children:"  "}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"   *"}),n.jsx(Ie,{type:"number",value:u,onChange:$=>d(Number($.target.value)),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  *"}),n.jsx(Ie,{type:"date",value:f,onChange:$=>m($.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"   "}),n.jsx(Ie,{type:"number",step:"0.01",value:h,onChange:$=>g(Number($.target.value)),placeholder:"1.00"})]})]}),A.some($=>$.requiresPaymentOrder)&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(To,{className:"h-4 w-4"}),"  *"]}),n.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded",children:[n.jsx("p",{className:"text-sm text-orange-700 mb-2",children:" ,        "}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ie,{type:"file",accept:".pdf,.doc,.docx",onChange:H,className:"flex-1"}),j&&n.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[n.jsx(mt,{className:"h-4 w-4"}),j.name]})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:""}),n.jsx(Ai,{value:i,onChange:$=>l($.target.value),placeholder:"  ",rows:3})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(X,{variant:"outline",onClick:()=>s(null),children:""}),n.jsxs(X,{onClick:I,disabled:(a==="paid-full"||a==="paid-partial")&&(!u||!f),variant:a==="declined"||a==="cancelled"?"destructive":"default",children:[n.jsx(lp,{className:"h-4 w-4 mr-2"}),""]})]})]})]})]})}class ts{static async getSystemStatistics(){return Me.get("/api/v1/admin/statistics")}static async getActivityLog(t=50){return Me.get(`/api/v1/admin/activity-log?limit=${t}`)}static async searchUsers(t){const r=new URLSearchParams;t.query&&r.append("query",t.query),t.role&&r.append("role",t.role),t.is_active!==void 0&&r.append("is_active",t.is_active.toString()),t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString());const a=r.toString(),s=a?`/api/v1/admin/users/search?${a}`:"/api/v1/admin/users/search";return Me.get(s)}static async getUsersByRole(t){return Me.get(`/api/v1/admin/users/by-role/${t}`)}static async bulkCreateUsers(t){return Me.post("/api/v1/admin/users/bulk-create",{users:t})}static async bulkUpdateUsers(t){return Me.put("/api/v1/admin/users/bulk-update",{users:t})}static async bulkDeleteUsers(t){return Me.delete("/api/v1/admin/users/bulk-delete",{user_ids:t})}static async getRoleStatistics(){return Me.get("/api/v1/admin/roles/statistics")}static async getRoleUsage(t){return Me.get(`/api/v1/admin/roles/${t}/usage`)}}const _e={VIEW_DASHBOARD:"view_dashboard",VIEW_ADMIN_DASHBOARD:"view_admin_dashboard",VIEW_WORKFLOW_DASHBOARD:"view_workflow_dashboard",VIEW_REQUESTS:"view_requests",CREATE_REQUESTS:"create_requests",EDIT_REQUESTS:"edit_requests",DELETE_REQUESTS:"delete_requests",APPROVE_REQUESTS:"approve_requests",CLASSIFY_REQUESTS:"classify_requests",DISTRIBUTE_REQUESTS:"distribute_requests",RETURN_REQUESTS:"return_requests",VIEW_USERS:"view_users",CREATE_USERS:"create_users",EDIT_USERS:"edit_users",DELETE_USERS:"delete_users",MANAGE_USER_ROLES:"manage_user_roles",VIEW_ROLES:"view_roles",CREATE_ROLES:"create_roles",EDIT_ROLES:"edit_roles",DELETE_ROLES:"delete_roles",MANAGE_ROLE_PERMISSIONS:"manage_role_permissions",VIEW_DICTIONARIES:"view_dictionaries",MANAGE_DICTIONARIES:"manage_dictionaries",MANAGE_EXPENSE_ARTICLES:"manage_expense_articles",MANAGE_COUNTERPARTIES:"manage_counterparties",VIEW_EXPENSE_ARTICLE_ASSIGNMENTS:"view_expense_article_assignments",MANAGE_EXPENSE_ARTICLE_ASSIGNMENTS:"manage_expense_article_assignments",VIEW_REGISTERS:"view_registers",CREATE_REGISTERS:"create_registers",MANAGE_REGISTERS:"manage_registers",VIEW_SYSTEM_STATISTICS:"view_system_statistics",MANAGE_SYSTEM_SETTINGS:"manage_system_settings",VIEW_AUDIT_LOGS:"view_audit_logs",VIEW_SUB_REGISTRAR_ASSIGNMENTS:"view_sub_registrar_assignments",MANAGE_SUB_REGISTRAR_ASSIGNMENTS:"manage_sub_registrar_assignments",VIEW_DISTRIBUTOR_WORKFLOW:"view_distributor_workflow",MANAGE_DISTRIBUTOR_ROUTING:"manage_distributor_routing"},Rme={ADMIN:[_e.VIEW_DASHBOARD,_e.VIEW_ADMIN_DASHBOARD,_e.VIEW_WORKFLOW_DASHBOARD,_e.VIEW_REQUESTS,_e.CREATE_REQUESTS,_e.EDIT_REQUESTS,_e.DELETE_REQUESTS,_e.APPROVE_REQUESTS,_e.CLASSIFY_REQUESTS,_e.DISTRIBUTE_REQUESTS,_e.RETURN_REQUESTS,_e.VIEW_USERS,_e.CREATE_USERS,_e.EDIT_USERS,_e.DELETE_USERS,_e.MANAGE_USER_ROLES,_e.VIEW_ROLES,_e.CREATE_ROLES,_e.EDIT_ROLES,_e.DELETE_ROLES,_e.MANAGE_ROLE_PERMISSIONS,_e.VIEW_DICTIONARIES,_e.MANAGE_DICTIONARIES,_e.MANAGE_EXPENSE_ARTICLES,_e.MANAGE_COUNTERPARTIES,_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS,_e.MANAGE_EXPENSE_ARTICLE_ASSIGNMENTS,_e.VIEW_REGISTERS,_e.CREATE_REGISTERS,_e.MANAGE_REGISTERS,_e.VIEW_SYSTEM_STATISTICS,_e.MANAGE_SYSTEM_SETTINGS,_e.VIEW_AUDIT_LOGS,_e.VIEW_SUB_REGISTRAR_ASSIGNMENTS,_e.MANAGE_SUB_REGISTRAR_ASSIGNMENTS,_e.VIEW_DISTRIBUTOR_WORKFLOW,_e.MANAGE_DISTRIBUTOR_ROUTING],EXECUTOR:[_e.VIEW_DASHBOARD,_e.VIEW_REQUESTS,_e.CREATE_REQUESTS,_e.EDIT_REQUESTS,_e.DELETE_REQUESTS,_e.VIEW_DICTIONARIES,_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS],REGISTRAR:[_e.VIEW_DASHBOARD,_e.VIEW_WORKFLOW_DASHBOARD,_e.VIEW_REQUESTS,_e.CLASSIFY_REQUESTS,_e.DISTRIBUTE_REQUESTS,_e.RETURN_REQUESTS,_e.VIEW_DICTIONARIES,_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS,_e.VIEW_SUB_REGISTRAR_ASSIGNMENTS,_e.MANAGE_SUB_REGISTRAR_ASSIGNMENTS],SUB_REGISTRAR:[_e.VIEW_DASHBOARD,_e.VIEW_WORKFLOW_DASHBOARD,_e.VIEW_REQUESTS,_e.VIEW_DICTIONARIES,_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS],DISTRIBUTOR:[_e.VIEW_DASHBOARD,_e.VIEW_WORKFLOW_DASHBOARD,_e.VIEW_REQUESTS,_e.APPROVE_REQUESTS,_e.DISTRIBUTE_REQUESTS,_e.VIEW_DICTIONARIES,_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS,_e.VIEW_DISTRIBUTOR_WORKFLOW,_e.MANAGE_DISTRIBUTOR_ROUTING],TREASURER:[_e.VIEW_DASHBOARD,_e.VIEW_REQUESTS,_e.APPROVE_REQUESTS,_e.VIEW_REGISTERS,_e.CREATE_REGISTERS,_e.MANAGE_REGISTERS,_e.VIEW_DICTIONARIES,_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS]},PS=(e,t)=>(Rme[e]||[]).includes(t),OS=(e,t)=>t.some(r=>PS(e,r)),kme=(e,t)=>t.every(r=>PS(e,r)),Ime={dashboard:[_e.VIEW_DASHBOARD],admin:[_e.VIEW_ADMIN_DASHBOARD],requests:[_e.VIEW_REQUESTS],"user-management":[_e.VIEW_USERS],"role-management":[_e.VIEW_ROLES],dictionaries:[_e.VIEW_DICTIONARIES],"expense-article-assignment":[_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS],registers:[_e.VIEW_REGISTERS],"system-statistics":[_e.VIEW_SYSTEM_STATISTICS],"sub-registrar-assignments":[_e.VIEW_SUB_REGISTRAR_ASSIGNMENTS],"distributor-workflow":[_e.VIEW_DISTRIBUTOR_WORKFLOW],"distributor-routing":[_e.MANAGE_DISTRIBUTOR_ROUTING]},R1=(e,t)=>{const r=Ime[t]||[];return r.length===0?!0:OS(e,r)},Pme={SHOW_ADMIN_MENU:[_e.VIEW_ADMIN_DASHBOARD],SHOW_USER_MANAGEMENT:[_e.VIEW_USERS],SHOW_ROLE_MANAGEMENT:[_e.VIEW_ROLES],SHOW_DICTIONARIES:[_e.VIEW_DICTIONARIES],SHOW_EXPENSE_ARTICLE_ASSIGNMENTS:[_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS],SHOW_REGISTERS:[_e.VIEW_REGISTERS],SHOW_SYSTEM_STATISTICS:[_e.VIEW_SYSTEM_STATISTICS],SHOW_CREATE_REQUEST_BUTTON:[_e.CREATE_REQUESTS],SHOW_EDIT_REQUEST_BUTTON:[_e.EDIT_REQUESTS],SHOW_DELETE_REQUEST_BUTTON:[_e.DELETE_REQUESTS],SHOW_APPROVE_REQUEST_BUTTON:[_e.APPROVE_REQUESTS],SHOW_CLASSIFY_REQUEST_BUTTON:[_e.CLASSIFY_REQUESTS],SHOW_DISTRIBUTE_REQUEST_BUTTON:[_e.DISTRIBUTE_REQUESTS],SHOW_RETURN_REQUEST_BUTTON:[_e.RETURN_REQUESTS],SHOW_CREATE_USER_BUTTON:[_e.CREATE_USERS],SHOW_EDIT_USER_BUTTON:[_e.EDIT_USERS],SHOW_DELETE_USER_BUTTON:[_e.DELETE_USERS],SHOW_MANAGE_USER_ROLES_BUTTON:[_e.MANAGE_USER_ROLES],SHOW_CREATE_ROLE_BUTTON:[_e.CREATE_ROLES],SHOW_EDIT_ROLE_BUTTON:[_e.EDIT_ROLES],SHOW_DELETE_ROLE_BUTTON:[_e.DELETE_ROLES],SHOW_MANAGE_ROLE_PERMISSIONS_BUTTON:[_e.MANAGE_ROLE_PERMISSIONS],SHOW_MANAGE_DICTIONARIES_BUTTON:[_e.MANAGE_DICTIONARIES],SHOW_MANAGE_EXPENSE_ARTICLES_BUTTON:[_e.MANAGE_EXPENSE_ARTICLES],SHOW_MANAGE_COUNTERPARTIES_BUTTON:[_e.MANAGE_COUNTERPARTIES],SHOW_MANAGE_EXPENSE_ARTICLE_ASSIGNMENTS_BUTTON:[_e.MANAGE_EXPENSE_ARTICLE_ASSIGNMENTS],SHOW_CREATE_REGISTER_BUTTON:[_e.CREATE_REGISTERS],SHOW_MANAGE_REGISTERS_BUTTON:[_e.MANAGE_REGISTERS]},Ome=(e,t)=>{const r=Pme[t];return OS(e,r)},Z5=e=>({hasPermission:t=>PS(e,t),hasAnyPermission:t=>OS(e,t),hasAllPermissions:t=>kme(e,t),canAccessRoute:t=>R1(e,t),canShowUIElement:t=>Ome(e,t)}),Ou=({userRole:e,permission:t,uiElement:r,children:a,fallback:s=null,requireAll:i=!1,permissions:l=[]})=>{const{hasPermission:u,hasAnyPermission:d,hasAllPermissions:f,canShowUIElement:m}=Z5(e);let h=!1;return r?h=m(r):t?h=u(t):l.length>0?h=i?f(l):d(l):h=!0,h?n.jsx(n.Fragment,{children:a}):n.jsx(n.Fragment,{children:s})};function Dme({onNavigate:e}){const{state:t}=Bi(),[r,a]=x.useState({systemStats:null,dictionaryStats:null,loading:!0,error:null});return x.useEffect(()=>{(async()=>{try{a(d=>({...d,loading:!0,error:null}));const i=await ts.getSystemStatistics(),u=await As.getInstance().getStatistics("expense-articles");a({systemStats:i,dictionaryStats:u,loading:!1,error:null})}catch(i){console.error("Error loading statistics:",i),a(l=>({...l,loading:!1,error:"  "}))}})()},[]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:" ,   "}),r.error&&n.jsx("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-md",children:n.jsx("p",{className:"text-sm text-red-600",children:r.error})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Gr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.loading?"-":r.systemStats?.active_users||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.loading?" ...":` : ${r.systemStats?.total_users||0}`})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Zh,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.loading?"-":r.dictionaryStats?.totalItems||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.loading?" ...":` : ${r.dictionaryStats?.activeItems||0}`})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Ml,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx(je,{variant:"secondary",className:r.loading?"bg-gray-100 text-gray-800":r.systemStats?.system_health==="healthy"?"bg-green-100 text-green-800":r.systemStats?.system_health==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:r.loading?"...":r.systemStats?.system_health==="healthy"?"":r.systemStats?.system_health==="warning"?"":""})}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r.loading?" ...":" "})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(Ou,{userRole:t.currentRole,permission:_e.VIEW_DICTIONARIES,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Zh,{className:"h-5 w-5"}),""]}),n.jsx(nr,{children:"   ,    "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:r.loading?"-":r.dictionaryStats?.totalItems||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800",children:r.loading?"-":r.dictionaryStats?.activeItems||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-gray-100 text-gray-800",children:r.loading?"-":r.dictionaryStats?.inactiveItems||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800",children:r.loading?"-":r.dictionaryStats?.recentlyUpdated||0})]}),n.jsx(X,{onClick:()=>e("dictionaries"),className:"w-full",children:" "})]})]})}),n.jsx(Ou,{userRole:t.currentRole,permission:_e.VIEW_USERS,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(E6,{className:"h-5 w-5"})," "]}),n.jsx(nr,{children:",     "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800",children:r.loading?"-":r.systemStats?.active_users||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:r.loading?"-":r.systemStats?.total_users||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-gray-100 text-gray-800",children:r.loading?"-":(r.systemStats?.total_users||0)-(r.systemStats?.active_users||0)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800",children:r.loading?"-":r.systemStats?.total_roles||0})]}),n.jsx(X,{onClick:()=>e("user-management"),className:"w-full",children:" "})]})]})}),n.jsx(Ou,{userRole:t.currentRole,permission:_e.VIEW_ROLES,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(g6,{className:"h-5 w-5"})," "]}),n.jsx(nr,{children:"   ,   "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:r.loading?"-":r.systemStats?.total_roles||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800",children:r.loading?"-":r.systemStats?.total_roles||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"  "}),n.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800",children:r.loading?"-":r.systemStats?.active_users||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"  "}),n.jsx(je,{variant:"outline",className:"bg-purple-100 text-purple-800",children:r.loading?"-":r.systemStats?.total_requests||0})]}),n.jsx(X,{onClick:()=>e("role-management"),className:"w-full",children:" "})]})]})}),n.jsx(Ou,{userRole:t.currentRole,permission:_e.VIEW_EXPENSE_ARTICLE_ASSIGNMENTS,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"  "]}),n.jsx(nr,{children:"         "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800",children:r.loading?"-":"0"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"  "}),n.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800",children:r.loading?"-":"0"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",className:"bg-purple-100 text-purple-800",children:r.loading?"-":"0%"})]}),n.jsx(X,{onClick:()=>e("expense-article-assignment"),className:"w-full",children:" "})]})]})}),n.jsx(Ou,{userRole:t.currentRole,permission:_e.VIEW_USERS,children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Jh,{className:"h-5 w-5"}),"  "]}),n.jsx(nr,{children:"     "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"3"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"3"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"6"})]}),n.jsx(X,{onClick:()=>e("position-management"),className:"w-full",children:" "})]})]})}),n.jsxs(me,{className:"opacity-50",children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Vd,{className:"h-5 w-5"})," ",n.jsx(ux,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(nr,{children:"    "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsx(X,{disabled:!0,className:"w-full",children:""})]})]}),n.jsxs(me,{className:"opacity-50",children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx($O,{className:"h-5 w-5"})," ",n.jsx(ux,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(nr,{children:"    "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsx(X,{disabled:!0,className:"w-full",children:""})]})]}),n.jsxs(me,{className:"opacity-50",children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(No,{className:"h-5 w-5"})," ",n.jsx(ux,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(nr,{children:" ,   "})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{variant:"outline",children:"-"})]}),n.jsx(X,{disabled:!0,className:"w-full",children:""})]})]})]})]})}class Dl{static instance;static getInstance(){return Dl.instance||(Dl.instance=new Dl),Dl.instance}async getAssignments(t){const r=new URLSearchParams;t?.user_id&&r.append("user_id",t.user_id),t?.role_id&&r.append("role_id",t.role_id),t?.expense_article_id&&r.append("expense_article_id",t.expense_article_id),t?.is_active!==void 0&&r.append("is_active",t.is_active.toString()),t?.page&&r.append("page",t.page.toString()),t?.limit&&r.append("limit",t.limit.toString());const a=Ze.baseUrl||"http://localhost:8000";return(await Me.get(`${a}/api/v1/expense-article-roles?${r.toString()}`)).data}async getAssignment(t){const r=Ze.baseUrl||"http://localhost:8000";return(await Me.get(`${r}/api/v1/expense-article-roles/${t}`)).data}async createAssignment(t){const r=Ze.baseUrl||"http://localhost:8000";return(await Me.post(`${r}/api/v1/expense-article-roles`,t)).data}async updateAssignment(t,r){const a=Ze.baseUrl||"http://localhost:8000";return(await Me.put(`${a}/api/v1/expense-article-roles/${t}`,r)).data}async deleteAssignment(t){const r=Ze.baseUrl||"http://localhost:8000";await Me.delete(`${r}/api/v1/expense-article-roles/${t}`)}async bulkCreateAssignments(t){const r=Ze.baseUrl||"http://localhost:8000";return(await Me.post(`${r}/api/v1/expense-article-roles/bulk`,{assignments:t})).data}async bulkUpdateAssignments(t){const r=Ze.baseUrl||"http://localhost:8000";return(await Me.put(`${r}/api/v1/expense-article-roles/bulk`,{assignments:t})).data}async bulkDeleteAssignments(t){const r=Ze.baseUrl||"http://localhost:8000";await Me.delete(`${r}/api/v1/expense-article-roles/bulk`,{data:{ids:t}})}async getAssignmentsByUser(t){const r=Ze.baseUrl||"http://localhost:8000";return(await Me.get(`${r}/api/v1/expense-article-roles/user/${t}`)).data}async getAssignmentsByExpenseArticle(t){const r=Ze.baseUrl||"http://localhost:8000";return console.log("API_CONFIG.baseUrl:",Ze.baseUrl),console.log("Using baseUrl:",r),(await Me.get(`${r}/api/v1/expense-article-roles/expense-article/${t}`)).data}async getStatistics(){const t=Ze.baseUrl||"http://localhost:8000";return(await Me.get(`${t}/api/v1/expense-article-roles/statistics`)).data}async getUserAssignmentsForArticle(t,r){const a=Ze.baseUrl||"http://localhost:8000";return(await Me.get(`${a}/api/v1/expense-article-roles/user/${r}/article/${t}`)).data}async checkUserAccess(t,r){try{return(await this.getUserAssignmentsForArticle(t,r)).some(s=>s.is_active)}catch(a){return console.error("Error checking user access:",a),!1}}}const fa=Dl.getInstance();class Ts{static async getRoles(){return Me.get(Ze.endpoints.getRoles)}static async getRole(t){return Me.get(`${Ze.endpoints.getRole.replace(":id",t)}`)}static async createRole(t){return Me.post(Ze.endpoints.createRole,t)}static async updateRole(t,r){return Me.put(`${Ze.endpoints.updateRole.replace(":id",t)}`,r)}static async deleteRole(t){return Me.delete(`${Ze.endpoints.deleteRole.replace(":id",t)}`)}static async getRoleStatistics(){return Me.get("/api/v1/admin/roles/statistics")}static async getRoleUsage(t){return Me.get(`/api/v1/admin/roles/${t}/usage`)}static async getPermissions(){return Promise.resolve([])}static async getRolePermissions(t){return Promise.resolve([])}static async updateRolePermissions(t,r){return Promise.resolve()}}const El=[{id:"expense-articles",label:" ",icon:yt,description:"     "},{id:"counterparties",label:"",icon:Ta,description:"    "},{id:"vat-rates",label:" ",icon:zj,description:"  "},{id:"currencies",label:"",icon:zj,description:"  ( )"}];function Mme({onBack:e}){const[t,r]=x.useState("expense-articles"),[a,s]=x.useState(""),[i,l]=x.useState(!1),[u,d]=x.useState(!1),[f,m]=x.useState(!1),[h,g]=x.useState(null),[j,w]=x.useState(""),[b,v]=x.useState(!1),[N,C]=x.useState(!1),[S,A]=x.useState(!1),[_,T]=x.useState(null),[k,D]=x.useState({totalItems:0,activeItems:0,inactiveItems:0,recentlyUpdated:0}),[I,B]=x.useState(!1),[z,H]=x.useState(null),[W,Z]=x.useState([]),[$,M]=x.useState([]),[P,O]=x.useState([]),[K,V]=x.useState(!1),[q,F]=x.useState({}),[L,Y]=x.useState({}),{items:ee,statistics:ce,state:G,searchItems:fe,filterItems:oe,createItem:Ee,updateItem:Oe,deleteItem:re,bulkDelete:le,exportItems:ge,importItems:Le,selectItem:Xe,selectAllItems:ot,clearSelection:wt,refresh:te}=ir(t);x.useEffect(()=>{(async()=>{A(!0),T(null);try{await te()}catch(Fe){T("  "),console.error("Error loading data:",Fe)}finally{A(!1)}})()},[t,te]),x.useEffect(()=>{ce&&D({totalItems:ce.totalItems||0,activeItems:ce.activeItems||0,inactiveItems:ce.inactiveItems||0,recentlyUpdated:ce.recentlyUpdated||0})},[ce]),x.useEffect(()=>{(async()=>{try{const[Fe,dr]=await Promise.all([ts.searchUsers({limit:100}),Ts.getRoles()]);M(Fe),O(dr)}catch(Fe){console.error("Error loading assignment data:",Fe)}})()},[]);const se=x.useCallback(async de=>{A(!0),T(null),r(de),s(""),wt(),l(!1),d(!1),m(!1);try{await te()}catch(Fe){T("   "),console.error("Error loading dictionary data:",Fe)}finally{A(!1)}},[wt,te]),Be=x.useCallback(de=>{s(de),de.trim()&&fe(de)},[fe]),gt=x.useCallback(()=>{g(null),l(!0),T(null)},[]),or=x.useCallback(async de=>{A(!0),T(null);try{await Ee(de),l(!1),await te()}catch(Fe){T("  "),console.error("Error creating item:",Fe)}finally{A(!1)}},[Ee,te]),On=x.useCallback(de=>{g(de),Y(de),d(!0),T(null)},[]),ye=x.useCallback(async de=>{if(window.confirm(" ,     ?")){A(!0),T(null);try{await re(de),await te()}catch(Fe){T("  "),console.error("Error deleting item:",Fe)}finally{A(!1)}}},[re,te]),st=x.useCallback(async de=>{if(h){A(!0),T(null);try{await Oe(h.id,de),d(!1),g(null),Y({}),await te()}catch(Fe){T("  "),console.error("Error updating item:",Fe)}finally{A(!1)}}},[h,Oe,te]),Tr=x.useCallback(async de=>{if(G.selectedItems.length!==0){A(!0),T(null);try{switch(de){case"delete":window.confirm(` ,    ${G.selectedItems.length} ?`)&&(await le(G.selectedItems),await te());break;case"export":const Fe=await ge({format:"json"}),dr=URL.createObjectURL(Fe),hs=document.createElement("a");hs.href=dr,hs.download=`${t}-export.json`,hs.click(),URL.revokeObjectURL(dr);break;default:break}}catch(Fe){T(`   : ${de}`),console.error("Bulk action failed:",Fe)}finally{A(!1)}}},[G.selectedItems,le,ge,t,te]),Dn=x.useCallback(async de=>{if(t==="expense-articles"){H(de),V(!0);try{const Fe=await fa.getAssignmentsByExpenseArticle(de.id);Z([Fe]),B(!0)}catch(Fe){console.error("Error loading assignments:",Fe),T("  ")}finally{V(!1)}}},[t]),Gs=x.useCallback(async(de,Fe)=>{if(z)try{await fa.createAssignment({user_id:de,role_id:Fe,expense_article_id:z.id,valid_from:new Date().toISOString().split("T")[0]});const dr=await fa.getAssignmentsByExpenseArticle(z.id);Z([dr])}catch(dr){console.error("Error assigning user:",dr),T("  ")}},[z]),jn=x.useCallback(async de=>{try{if(await fa.bulkDeleteAssignments([de]),z){const Fe=await fa.getAssignmentsByExpenseArticle(z.id);Z([Fe])}}catch(Fe){console.error("Error removing assignment:",Fe),T("  ")}},[z]);x.useCallback(async de=>{A(!0),T(null);try{await Le(de),await te()}catch(Fe){T("  "),console.error("Import failed:",Fe)}finally{A(!1)}},[Le,te]);const Fa=x.useCallback(async()=>{A(!0),T(null);try{await te()}catch(de){T("  "),console.error("Refresh failed:",de)}finally{A(!1)}},[te]),Jn=de=>de?n.jsxs(je,{className:"bg-green-100 text-green-800",children:[n.jsx(mt,{className:"w-3 h-3 mr-1"}),""]}):n.jsxs(je,{className:"bg-red-100 text-red-800",children:[n.jsx(Vn,{className:"w-3 h-3 mr-1"}),""]}),Ko=()=>{if(S)return n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Dr,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"text-muted-foreground",children:" ..."})]})});if(G.error)return n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Vn,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 mb-2",children:"  "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:G.error})]})});if(!ee||ee.length===0)return n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"   "}),n.jsxs(X,{onClick:gt,className:"mt-4",disabled:S,children:[n.jsx(on,{className:"w-4 h-4 mr-2"}),"  "]})]})});switch(t){case"expense-articles":return n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx("input",{type:"checkbox",checked:G.selectedItems.length===ee.length&&ee.length>0,onChange:ot,disabled:S})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:ee.map(de=>n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsx("input",{type:"checkbox",checked:G.selectedItems.includes(de.id),onChange:()=>Xe(de.id),disabled:S})}),n.jsx(Se,{className:"font-mono",children:de.code}),n.jsx(Se,{children:de.name}),n.jsx(Se,{className:"max-w-xs truncate",children:de.description||"-"}),n.jsx(Se,{children:Jn(de.is_active)}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Dn(de),disabled:S,title:" ",children:n.jsx(Du,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>On(de),disabled:S,children:n.jsx(sn,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ye(de.id),disabled:S,children:n.jsx(Sr,{className:"w-4 h-4"})})]})})]},de.id))})]});case"counterparties":return n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx("input",{type:"checkbox",checked:G.selectedItems.length===ee.length&&ee.length>0,onChange:ot,disabled:S})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:"/"}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:ee.map(de=>n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsx("input",{type:"checkbox",checked:G.selectedItems.includes(de.id),onChange:()=>Xe(de.id),disabled:S})}),n.jsx(Se,{children:de.name}),n.jsx(Se,{className:"font-mono",children:de.binIin||"-"}),n.jsx(Se,{children:de.category||"-"}),n.jsx(Se,{children:Jn(de.is_active)}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>On(de),disabled:S,children:n.jsx(sn,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ye(de.id),disabled:S,children:n.jsx(Sr,{className:"w-4 h-4"})})]})})]},de.id))})]});case"vat-rates":return n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx("input",{type:"checkbox",checked:G.selectedItems.length===ee.length&&ee.length>0,onChange:ot,disabled:S})}),n.jsx(Ce,{children:" (%)"}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:ee.map(de=>n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsx("input",{type:"checkbox",checked:G.selectedItems.includes(de.id),onChange:()=>Xe(de.id),disabled:S})}),n.jsxs(Se,{className:"font-mono",children:[de.rate,"%"]}),n.jsx(Se,{children:de.name}),n.jsx(Se,{children:Jn(de.is_active)}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>On(de),disabled:S,children:n.jsx(sn,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ye(de.id),disabled:S,children:n.jsx(Sr,{className:"w-4 h-4"})})]})})]},de.id))})]});case"currencies":return n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx("input",{type:"checkbox",checked:G.selectedItems.length===ee.length&&ee.length>0,onChange:ot,disabled:S})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:ee.map(de=>n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsx("input",{type:"checkbox",checked:G.selectedItems.includes(de.code),onChange:()=>Xe(de.code),disabled:S})}),n.jsx(Se,{className:"font-mono",children:de.code}),n.jsx(Se,{children:de.scale}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",disabled:!0,title:"    ",children:n.jsx(sn,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",disabled:!0,title:"    ",children:n.jsx(Sr,{className:"w-4 h-4"})})]})})]},de.code))})]});default:return n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Ot,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"  "})]})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]}),n.jsx(X,{onClick:e,variant:"outline",children:""})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{onClick:gt,disabled:S,children:[n.jsx(on,{className:"w-4 h-4 mr-2"}),""]}),G.selectedItems.length>0&&n.jsxs(X,{variant:"destructive",onClick:()=>Tr("delete"),disabled:S,children:[n.jsx(Sr,{className:"w-4 h-4 mr-2"})," (",G.selectedItems.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",onClick:Fa,disabled:S,children:[S?n.jsx(Dr,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(pn,{className:"w-4 h-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",onClick:()=>m(!0),disabled:S||G.selectedItems.length===0,children:[n.jsx(FO,{className:"w-4 h-4 mr-2"})," "]}),n.jsxs(X,{variant:"outline",onClick:()=>v(!0),disabled:S,children:[n.jsx(kE,{className:"w-4 h-4 mr-2"}),"/"]}),n.jsxs(X,{variant:"outline",onClick:()=>C(!0),disabled:S,children:[n.jsx(Vj,{className:"w-4 h-4 mr-2"}),""]})]})]}),_&&n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-red-600",children:_}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>T(null),className:"text-red-600 hover:text-red-800",children:""})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:S?"-":k.totalItems}),S&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"..."})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(mt,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:S?"-":k.activeItems}),S&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"..."})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(Vn,{className:"h-4 w-4 text-red-600"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:S?"-":k.inactiveItems}),S&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"..."})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"  "}),n.jsx(Vd,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:S?"-":k.recentlyUpdated}),S&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"..."})]})]})]}),n.jsx(me,{className:"border-0 shadow-sm bg-gradient-to-r from-slate-50 to-gray-50",children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[n.jsx("div",{className:"flex-1 w-full lg:max-w-md",children:n.jsxs("div",{className:"relative group",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4 group-focus-within:text-primary transition-colors"}),n.jsx(Ie,{id:"search",placeholder:"  ,   ...",value:a,onChange:de=>Be(de.target.value),className:"pl-10 pr-4 h-11 bg-white border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200",disabled:S}),a&&n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Be(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0 hover:bg-gray-100",children:n.jsx(Vn,{className:"h-3 w-3"})})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{oe({})},className:"h-9 px-4 bg-white hover:bg-gray-50 border-gray-200",children:[n.jsx(pn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{onClick:()=>{oe({})},className:"h-9 px-6 bg-primary hover:bg-primary/90 text-white shadow-sm",children:[n.jsx(gr,{className:"h-4 w-4 mr-2"}),""]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[t==="expense-articles"&&n.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[n.jsx(ae,{htmlFor:"status-filter",className:"text-sm font-medium text-gray-700",children:""}),n.jsxs(et,{onValueChange:de=>{oe({is_active:de==="active"})},children:[n.jsx(rt,{className:"h-9 bg-white border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20",children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"})," "]})}),n.jsx(xe,{value:"active",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),""]})}),n.jsx(xe,{value:"inactive",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),""]})})]})]})]}),t==="counterparties"&&n.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[n.jsx(ae,{htmlFor:"category-filter",className:"text-sm font-medium text-gray-700",children:""}),n.jsxs(et,{onValueChange:de=>{oe({category:de==="all"?void 0:de})},children:[n.jsx(rt,{className:"h-9 bg-white border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20",children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"w-4 h-4 text-gray-400"})," "]})}),n.jsx(xe,{value:" ",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"w-4 h-4 text-green-500"})," "]})}),n.jsx(xe,{value:"",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"w-4 h-4 text-blue-500"}),""]})}),n.jsx(xe,{value:" ",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"w-4 h-4 text-orange-500"})," "]})}),n.jsx(xe,{value:"",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"w-4 h-4 text-purple-500"}),""]})}),n.jsx(xe,{value:"/",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"w-4 h-4 text-gray-500"}),"/"]})})]})]})]}),t==="vat-rates"&&n.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[n.jsx(ae,{htmlFor:"rate-filter",className:"text-sm font-medium text-gray-700",children:" "}),n.jsxs(et,{onValueChange:de=>{oe({})},children:[n.jsx(rt,{className:"h-9 bg-white border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20",children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),n.jsx(xe,{value:"0-10",children:"0% - 10%"}),n.jsx(xe,{value:"10-20",children:"10% - 20%"}),n.jsx(xe,{value:"20+",children:"20%  "})]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 pt-2 border-t border-gray-200",children:[n.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:(a||t==="expense-articles"||t==="counterparties")&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-sm text-gray-500",children:" :"}),a&&n.jsxs(je,{variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:[n.jsx(gr,{className:"w-3 h-3 mr-1"}),'"',a,'"',n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Be(""),className:"ml-2 h-4 w-4 p-0 hover:bg-blue-300",children:n.jsx(Vn,{className:"h-3 w-3"})})]})]})}),n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{oe({is_active:!0})},className:"h-8 px-3 text-xs hover:bg-green-50 hover:text-green-700",children:[n.jsx(mt,{className:"w-3 h-3 mr-1"})," "]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{oe({is_active:!1})},className:"h-8 px-3 text-xs hover:bg-red-50 hover:text-red-700",children:[n.jsx(Vn,{className:"w-3 h-3 mr-1"})," "]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{oe({})},className:"h-8 px-3 text-xs hover:bg-gray-50",children:[n.jsx(pn,{className:"w-3 h-3 mr-1"})," "]})]})]})]})})}),n.jsxs(Pc,{value:t,onValueChange:se,children:[n.jsx(Oc,{className:"flex w-full",children:El.map(de=>{const Fe=de.icon;return n.jsxs(xn,{value:de.id,className:"flex items-center gap-2 flex-1",disabled:S,children:[n.jsx(Fe,{className:"w-4 h-4"}),de.label]},de.id)})}),El.map(de=>n.jsx(yn,{value:de.id,className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(de.icon,{className:"w-5 h-5"}),de.label]}),n.jsx(nr,{children:de.description})]}),n.jsx(pe,{children:Ko()})]})},de.id))]}),n.jsx(Ft,{open:f,onOpenChange:m,children:n.jsxs($t,{children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsxs(qt,{children:["   ",G.selectedItems.length,"  "]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs(et,{value:j,onValueChange:w,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"delete",children:""}),n.jsx(xe,{value:"export",children:""}),n.jsx(xe,{value:"activate",children:""}),n.jsx(xe,{value:"deactivate",children:""})]})]})}),n.jsxs(qu,{children:[n.jsx(X,{variant:"outline",onClick:()=>m(!1),children:""}),n.jsxs(X,{onClick:()=>{Tr(j),m(!1)},disabled:!j||S,children:[S?n.jsx(Dr,{className:"w-4 h-4 mr-2 animate-spin"}):null,""]})]})]})}),n.jsx(Ft,{open:b,onOpenChange:v,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:"/ "}),n.jsxs(qt,{children:['   "',El.find(de=>de.id===t)?.label,'"']})]}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(kE,{className:"h-12 w-12 mx-auto mb-4"}),n.jsx("p",{children:" /  "})]})})]})}),n.jsx(Ft,{open:N,onOpenChange:C,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsxs(qt,{children:['       "',El.find(de=>de.id===t)?.label,'"']})]}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Vj,{className:"h-12 w-12 mx-auto mb-4"}),n.jsx("p",{children:"   "})]})})]})}),n.jsx(Ft,{open:I,onOpenChange:B,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:"    "}),n.jsxs(qt,{children:['   "',z?.name,'"']})]}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:K?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Dr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),W.length===0||W[0]?.assignments?.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(OE,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"  "})]}):n.jsx("div",{className:"space-y-2",children:W[0]?.assignments?.map((de,Fe)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:de.user_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:de.user_email})]}),n.jsx(je,{variant:"outline",children:de.role_name})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(de.valid_from).toLocaleDateString("ru-RU"),de.valid_to&&` - ${new Date(de.valid_to).toLocaleDateString("ru-RU")}`]}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>jn(`${de.user_id}-${de.role_id}`),children:n.jsx(OE,{className:"h-4 w-4"})})]})]},`${de.user_id}-${de.role_id}-${Fe}`))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsxs(et,{onValueChange:de=>{if($.find(dr=>dr.id===de)&&z){const dr=P[0];dr&&Gs(de,dr.id)}},children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:$.map(de=>n.jsxs(xe,{value:de.id,children:[de.full_name," (",de.email,")"]},de.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsxs(et,{onValueChange:de=>{},children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:P.map(de=>n.jsxs(xe,{value:de.id,children:[de.name," (",de.code,")"]},de.id))})]})]})]})]})]})}),n.jsx(qu,{children:n.jsx(X,{variant:"outline",onClick:()=>B(!1),children:""})})]})}),n.jsx(Ft,{open:i,onOpenChange:l,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsxs(qt,{children:['     "',El.find(de=>de.id===t)?.label,'"']})]}),n.jsxs("div",{className:"space-y-4",children:[t==="expense-articles"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-code",children:""}),n.jsx(Ie,{id:"create-code",placeholder:"   ",onChange:de=>F(Fe=>({...Fe,code:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:""}),n.jsx(Ie,{id:"create-name",placeholder:" ",onChange:de=>F(Fe=>({...Fe,name:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-description",children:""}),n.jsx(Ie,{id:"create-description",placeholder:" ",onChange:de=>F(Fe=>({...Fe,description:de.target.value}))})]})]}),t==="counterparties"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:""}),n.jsx(Ie,{id:"create-name",placeholder:"  ",onChange:de=>F(Fe=>({...Fe,name:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-tax-id",children:"/"}),n.jsx(Ie,{id:"create-tax-id",placeholder:" /",onChange:de=>F(Fe=>({...Fe,tax_id:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-category",children:""}),n.jsx(Ie,{id:"create-category",placeholder:" ",onChange:de=>F(Fe=>({...Fe,category:de.target.value}))})]})]}),t==="vat-rates"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-rate",children:" (%)"}),n.jsx(Ie,{id:"create-rate",type:"number",step:"0.001",placeholder:"  ",onChange:de=>F(Fe=>({...Fe,rate:parseFloat(de.target.value)}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:""}),n.jsx(Ie,{id:"create-name",placeholder:"  ",onChange:de=>F(Fe=>({...Fe,name:de.target.value}))})]})]})]}),n.jsxs(qu,{children:[n.jsx(X,{variant:"outline",onClick:()=>l(!1),children:""}),n.jsxs(X,{onClick:()=>or(q),disabled:S,children:[S?n.jsx(Dr,{className:"w-4 h-4 mr-2 animate-spin"}):null,""]})]})]})}),n.jsx(Ft,{open:u,onOpenChange:d,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsxs(qt,{children:['    "',El.find(de=>de.id===t)?.label,'"']})]}),n.jsxs("div",{className:"space-y-4",children:[t==="expense-articles"&&h&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-code",children:""}),n.jsx(Ie,{id:"edit-code",defaultValue:h.code,onChange:de=>Y(Fe=>({...Fe,code:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:""}),n.jsx(Ie,{id:"edit-name",defaultValue:h.name,onChange:de=>Y(Fe=>({...Fe,name:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-description",children:""}),n.jsx(Ie,{id:"edit-description",defaultValue:h.description||"",onChange:de=>Y(Fe=>({...Fe,description:de.target.value}))})]})]}),t==="counterparties"&&h&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:""}),n.jsx(Ie,{id:"edit-name",defaultValue:h.name,onChange:de=>Y(Fe=>({...Fe,name:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-tax-id",children:"/"}),n.jsx(Ie,{id:"edit-tax-id",defaultValue:h.tax_id||"",onChange:de=>Y(Fe=>({...Fe,tax_id:de.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-category",children:""}),n.jsx(Ie,{id:"edit-category",defaultValue:h.category||"",onChange:de=>Y(Fe=>({...Fe,category:de.target.value}))})]})]}),t==="vat-rates"&&h&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-rate",children:" (%)"}),n.jsx(Ie,{id:"edit-rate",type:"number",step:"0.001",defaultValue:h.rate,onChange:de=>Y(Fe=>({...Fe,rate:parseFloat(de.target.value)}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:""}),n.jsx(Ie,{id:"edit-name",defaultValue:h.name,onChange:de=>Y(Fe=>({...Fe,name:de.target.value}))})]})]})]}),n.jsxs(qu,{children:[n.jsx(X,{variant:"outline",onClick:()=>d(!1),children:""}),n.jsxs(X,{onClick:()=>st(L),disabled:S,children:[S?n.jsx(Dr,{className:"w-4 h-4 mr-2 animate-spin"}):null,""]})]})]})})]})}function $me({onBack:e}){const[t,r]=x.useState({notifications:{emailEnabled:!0,smsEnabled:!1,webhookEnabled:!0,overdueReminders:!0,approvalReminders:!0},security:{sessionTimeout:480,requirePasswordChange:!0,passwordChangeInterval:90,maxLoginAttempts:5,ipWhitelistEnabled:!1},backup:{autoBackup:!0,backupInterval:"daily",retentionDays:30,cloudBackup:!0},integration:{apiEnabled:!0,webhookUrl:"https://api.grainpay.kz/webhook",apiKey:"gp_*********************",bankIntegration:!0}}),a=(u,d,f)=>{r(m=>({...m,[u]:{...m[u],[d]:f}})),we.success(" ")},s=()=>{we.success(" ")},i=()=>{we.success("  ")},l=()=>{we.success(" ")};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(X,{variant:"ghost",onClick:e,className:"pl-0",children:" "}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:" ,   "})]})]}),n.jsx(X,{onClick:s,children:" "})]}),n.jsxs(Pc,{defaultValue:"notifications",className:"space-y-4",children:[n.jsxs(Oc,{className:"grid w-full grid-cols-4",children:[n.jsxs(xn,{value:"notifications",className:"flex items-center gap-2",children:[n.jsx(MO,{className:"h-4 w-4"}),""]}),n.jsxs(xn,{value:"security",className:"flex items-center gap-2",children:[n.jsx(No,{className:"h-4 w-4"}),""]}),n.jsxs(xn,{value:"backup",className:"flex items-center gap-2",children:[n.jsx(Jh,{className:"h-4 w-4"})," "]}),n.jsxs(xn,{value:"integration",className:"flex items-center gap-2",children:[n.jsx(h6,{className:"h-4 w-4"}),""]})]}),n.jsx(yn,{value:"notifications",className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:" "}),n.jsx(nr,{children:"    "})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Email "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),n.jsx(Tn,{checked:t.notifications.emailEnabled,onCheckedChange:u=>a("notifications","emailEnabled",u)})]}),n.jsx(da,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"SMS "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:" SMS   "})]}),n.jsx(Tn,{checked:t.notifications.smsEnabled,onCheckedChange:u=>a("notifications","smsEnabled",u)})]}),n.jsx(da,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"Webhook "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"   webhook"})]}),n.jsx(Tn,{checked:t.notifications.webhookEnabled,onCheckedChange:u=>a("notifications","webhookEnabled",u)})]}),n.jsx(da,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"   "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"   ,  SLA"})]}),n.jsx(Tn,{checked:t.notifications.overdueReminders,onCheckedChange:u=>a("notifications","overdueReminders",u)})]}),n.jsx(da,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"  "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"      "})]}),n.jsx(Tn,{checked:t.notifications.approvalReminders,onCheckedChange:u=>a("notifications","approvalReminders",u)})]})]})]})}),n.jsx(yn,{value:"security",className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:" "}),n.jsx(nr,{children:"    "})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"sessionTimeout",children:"  ()"}),n.jsx(Ie,{id:"sessionTimeout",type:"number",value:t.security.sessionTimeout,onChange:u=>a("security","sessionTimeout",parseInt(u.target.value))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"maxLoginAttempts",children:"  "}),n.jsx(Ie,{id:"maxLoginAttempts",type:"number",value:t.security.maxLoginAttempts,onChange:u=>a("security","maxLoginAttempts",parseInt(u.target.value))})]})]}),n.jsx(da,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"  "}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["    ",t.security.passwordChangeInterval," "]})]}),n.jsx(Tn,{checked:t.security.requirePasswordChange,onCheckedChange:u=>a("security","requirePasswordChange",u)})]}),n.jsx(da,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"  IP-"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"    IP-"})]}),n.jsx(Tn,{checked:t.security.ipWhitelistEnabled,onCheckedChange:u=>a("security","ipWhitelistEnabled",u)})]})]})]})}),n.jsx(yn,{value:"backup",className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:" "}),n.jsx(nr,{children:"    "})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"  "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),n.jsx(Tn,{checked:t.backup.autoBackup,onCheckedChange:u=>a("backup","autoBackup",u)})]}),n.jsx(da,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  "}),n.jsxs("select",{className:"w-full p-2 border rounded-md",value:t.backup.backupInterval,onChange:u=>a("backup","backupInterval",u.target.value),children:[n.jsx("option",{value:"hourly",children:" "}),n.jsx("option",{value:"daily",children:""}),n.jsx("option",{value:"weekly",children:""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"  ()"}),n.jsx(Ie,{type:"number",value:t.backup.retentionDays,onChange:u=>a("backup","retentionDays",parseInt(u.target.value))})]})]}),n.jsx(da,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"  "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tn,{checked:t.backup.cloudBackup,onCheckedChange:u=>a("backup","cloudBackup",u)}),n.jsxs(X,{variant:"outline",size:"sm",onClick:i,children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"})," "]})]})]}),n.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(mt,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"font-medium",children:"  "})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:":   03:00 (: 145.6 )"})]})]})]})}),n.jsx(yn,{value:"integration",className:"space-y-4",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:" "}),n.jsx(nr,{children:" API    "})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"API "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"    API"})]}),n.jsx(Tn,{checked:t.integration.apiEnabled,onCheckedChange:u=>a("integration","apiEnabled",u)})]}),n.jsx(da,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"webhookUrl",children:"Webhook URL"}),n.jsx(Ie,{id:"webhookUrl",value:t.integration.webhookUrl,onChange:u=>a("integration","webhookUrl",u.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"apiKey",children:"API "}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ie,{id:"apiKey",type:"password",value:t.integration.apiKey,onChange:u=>a("integration","apiKey",u.target.value)}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(HB,{className:"h-4 w-4 mr-2"})," "]})]})]}),n.jsx(da,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(ae,{children:"  "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"     "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tn,{checked:t.integration.bankIntegration,onCheckedChange:u=>a("integration","bankIntegration",u)}),n.jsx(X,{variant:"outline",size:"sm",onClick:l,children:" "})]})]}),n.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(mt,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"font-medium",children:" "})]}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"API :"}),n.jsx(je,{className:"bg-green-100 text-green-800",children:""})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:" :"}),n.jsx(je,{className:"bg-green-100 text-green-800",children:""})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:" :"}),n.jsx("span",{className:"text-muted-foreground",children:"10  "})]})]})]})]})]})})]})]})}function Lme({onBack:e}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(!1),[u,d]=x.useState({query:"",role:"",is_active:void 0,page:1,limit:20}),[f,m]=x.useState("all"),[h,g]=x.useState("all"),[j,w]=x.useState([]),[b,v]=x.useState(!1),[N,C]=x.useState(!1),[S,A]=x.useState(null),[_,T]=x.useState({full_name:"",email:"",phone:"",password:"",roles:[]}),[k,D]=x.useState([]),[I,B]=x.useState({id:"",full_name:"",email:"",phone:"",is_active:!0}),[z,H]=x.useState(!1),[W,Z]=x.useState(null),[$,M]=x.useState([]),[P,O]=x.useState([]),[K,V]=x.useState(!1),[q,F]=x.useState(!1),[L,Y]=x.useState(null),[ee,ce]=x.useState({position_id:"none",department_id:"none"});x.useEffect(()=>{G(),fe(),oe(),Ee()},[]),x.useEffect(()=>{G()},[u,f,h]);const G=async()=>{l(!0);try{const ye={...u,position_id:f==="all"?void 0:f,department_id:h==="all"?void 0:h},st=await ts.searchUsers(ye);r(st)}catch(ye){console.error("Error loading users:",ye)}finally{l(!1)}},fe=async()=>{try{const ye=await Ts.getRoles();s(ye)}catch(ye){console.error("Error loading roles:",ye)}},oe=async()=>{try{M([{id:"1",name:"  ",code:"PURCH_MGR",department_id:"1"},{id:"2",name:" ",code:"FIN_ANALYST",department_id:"2"},{id:"3",name:"",code:"REGISTRAR",department_id:"3"}])}catch(ye){console.error("Error loading positions:",ye)}},Ee=async()=>{try{O([{id:"1",name:" ",code:"PURCH"},{id:"2",name:" ",code:"FIN"},{id:"3",name:" ",code:"REG"}])}catch(ye){console.error("Error loading departments:",ye)}},Oe=ye=>{d(st=>({...st,query:ye,page:1}))},re=ye=>{d(st=>({...st,role:ye==="all"?"":ye,page:1}))},le=ye=>{d(st=>({...st,is_active:ye==="all"?void 0:ye==="active",page:1}))},ge=(ye,st)=>{w(st?Tr=>[...Tr,ye]:Tr=>Tr.filter(Dn=>Dn!==ye))},Le=ye=>{w(ye?t.map(st=>st.id):[])},Xe=(ye,st)=>{D(st?Tr=>[...Tr,ye]:Tr=>Tr.filter(Dn=>Dn!==ye))},ot=async()=>{try{const ye=k.map(Tr=>({role_id:Tr,valid_from:new Date().toISOString().split("T")[0],is_primary:!1})),st={..._,roles:ye};await ts.bulkCreateUsers([st]),v(!1),T({full_name:"",email:"",phone:"",password:"",roles:[]}),D([]),G()}catch(ye){console.error("Error creating user:",ye)}},wt=ye=>{A(ye),B({id:ye.id,full_name:ye.full_name,email:ye.email,phone:ye.phone||"",is_active:ye.is_active}),C(!0)},te=async()=>{try{await ts.bulkUpdateUsers([I]),C(!1),A(null),G()}catch(ye){console.error("Error updating user:",ye)}},se=async()=>{if(j.length!==0)try{await ts.bulkDeleteUsers(j),w([]),G()}catch(ye){console.error("Error deleting users:",ye)}},Be=(ye,st)=>{console.log("Add role",st,"to user",ye)},gt=ye=>{Z(ye),H(!0)},or=ye=>{Y(ye),ce({position_id:ye.position?.id||"none",department_id:ye.department?.id||"none"}),V(!0)},On=async()=>{if(L)try{const ye={position_id:ee.position_id==="none"?null:ee.position_id,department_id:ee.department_id==="none"?null:ee.department_id};console.log("Assigning position:",L.id,ye),V(!1),Y(null),G()}catch(ye){console.error("Error assigning position:",ye)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:",     "})]}),n.jsx(X,{onClick:e,variant:"outline",children:""})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5"}),"  "]})}),n.jsx(pe,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"search",children:""}),n.jsx(Ie,{id:"search",placeholder:"  email...",value:u.query||"",onChange:ye=>Oe(ye.target.value)})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"role-filter",children:""}),n.jsxs(et,{value:u.role||"all",onValueChange:re,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),a.map(ye=>n.jsx(xe,{value:ye.code,children:ye.name},ye.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status-filter",children:""}),n.jsxs(et,{value:u.is_active===void 0?"all":u.is_active?"active":"inactive",onValueChange:le,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:""}),n.jsx(xe,{value:"active",children:""}),n.jsx(xe,{value:"inactive",children:""})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-filter",children:""}),n.jsxs(et,{value:f,onValueChange:m,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),$.map(ye=>n.jsx(xe,{value:ye.id,children:ye.name},ye.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"department-filter",children:""}),n.jsxs(et,{value:h,onValueChange:g,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),P.map(ye=>n.jsx(xe,{value:ye.id,children:ye.name},ye.id))]})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs(X,{onClick:G,className:"w-full",children:[n.jsx(gr,{className:"h-4 w-4 mr-2"}),""]})})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ft,{open:b,onOpenChange:v,children:[n.jsx(Ma,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(on,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"     "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:" "}),n.jsx(Ie,{id:"create-name",value:_.full_name,onChange:ye=>T(st=>({...st,full_name:ye.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-email",children:"Email"}),n.jsx(Ie,{id:"create-email",type:"email",value:_.email,onChange:ye=>T(st=>({...st,email:ye.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-phone",children:""}),n.jsx(Ie,{id:"create-phone",value:_.phone,onChange:ye=>T(st=>({...st,phone:ye.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-password",children:""}),n.jsx(Ie,{id:"create-password",type:"password",value:_.password,onChange:ye=>T(st=>({...st,password:ye.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-3",children:a.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"  "}):a.map(ye=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_r,{id:`role-${ye.id}`,checked:k.includes(ye.id),onCheckedChange:st=>Xe(ye.id,st)}),n.jsxs(ae,{htmlFor:`role-${ye.id}`,className:"text-sm font-normal cursor-pointer",children:[ye.name," (",ye.code,")"]})]},ye.id))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{v(!1),D([])},children:""}),n.jsx(X,{onClick:ot,children:""})]})]})]})]}),j.length>0&&n.jsxs(X,{variant:"destructive",onClick:se,children:[n.jsx(Sr,{className:"h-4 w-4 mr-2"})," (",j.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(To,{className:"h-4 w-4 mr-2"}),""]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"})," (",t.length,")"]})}),n.jsx(pe,{children:n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx(_r,{checked:j.length===t.length&&t.length>0,onCheckedChange:Le})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:"Email"}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:i?n.jsx(pt,{children:n.jsx(Se,{colSpan:9,className:"text-center py-8",children:"..."})}):t.length===0?n.jsx(pt,{children:n.jsx(Se,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"  "})}):t.map(ye=>n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsx(_r,{checked:j.includes(ye.id),onCheckedChange:st=>ge(ye.id,st)})}),n.jsx(Se,{className:"font-medium",children:ye.full_name}),n.jsx(Se,{children:ye.email}),n.jsx(Se,{children:ye.phone||"-"}),n.jsx(Se,{children:ye.position?n.jsx(je,{variant:"outline",children:ye.position.name}):n.jsx("span",{className:"text-muted-foreground",children:" "})}),n.jsx(Se,{children:ye.department?n.jsx(je,{variant:"outline",children:ye.department.name}):n.jsx("span",{className:"text-muted-foreground",children:" "})}),n.jsx(Se,{children:n.jsx("div",{className:"flex flex-wrap gap-1",children:ye.roles&&ye.roles.length>0?ye.roles.map(st=>n.jsx(je,{variant:"secondary",children:st.name},st.id)):n.jsx(je,{variant:"outline",className:"text-muted-foreground",children:"  "})})}),n.jsx(Se,{children:n.jsx(je,{variant:ye.is_active?"default":"secondary",children:ye.is_active?"":""})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>wt(ye),children:n.jsx(sn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Be(ye.id,""),children:n.jsx(Gr,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>gt(ye),title:"  ",children:n.jsx(yt,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>or(ye),title:" ",children:n.jsx(Ta,{className:"h-4 w-4"})})]})})]},ye.id))})]})})]}),n.jsx(Ft,{open:N,onOpenChange:C,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"  "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:" "}),n.jsx(Ie,{id:"edit-name",value:I.full_name,onChange:ye=>B(st=>({...st,full_name:ye.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-email",children:"Email"}),n.jsx(Ie,{id:"edit-email",type:"email",value:I.email,onChange:ye=>B(st=>({...st,email:ye.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-phone",children:""}),n.jsx(Ie,{id:"edit-phone",value:I.phone,onChange:ye=>B(st=>({...st,phone:ye.target.value}))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_r,{id:"edit-active",checked:I.is_active,onCheckedChange:ye=>B(st=>({...st,is_active:ye}))}),n.jsx(ae,{htmlFor:"edit-active",children:""})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>C(!1),children:""}),n.jsx(X,{onClick:te,children:""})]})]})]})}),n.jsx(Ft,{open:z,onOpenChange:H,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:"  "}),n.jsxs(qt,{children:["  ",W?.full_name,"     "]})]}),n.jsx("div",{className:"space-y-4",children:W&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(yt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"     "}),n.jsx("p",{className:"text-sm",children:"    "}),n.jsx("div",{className:"mt-4",children:n.jsx(X,{variant:"outline",onClick:()=>H(!1),children:""})})]})})]})}),n.jsx(Ft,{open:K,onOpenChange:V,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsxs(qt,{children:['      "',L?.full_name,'"']})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-select",children:""}),n.jsxs(et,{value:ee.position_id,onValueChange:ye=>ce(st=>({...st,position_id:ye})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"none",children:" "}),$.map(ye=>n.jsxs(xe,{value:ye.id,children:[ye.name," (",ye.code,")"]},ye.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"department-select",children:""}),n.jsxs(et,{value:ee.department_id,onValueChange:ye=>ce(st=>({...st,department_id:ye})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"none",children:" "}),P.map(ye=>n.jsxs(xe,{value:ye.id,children:[ye.name," (",ye.code,")"]},ye.id))]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>V(!1),children:""}),n.jsx(X,{onClick:On,children:""})]})]})]})})]})}function Fme({onBack:e}){const[t,r]=x.useState([]),[a,s]=x.useState(null),[i,l]=x.useState({}),[u,d]=x.useState(!1),[f,m]=x.useState(""),[h,g]=x.useState([]),[j,w]=x.useState(!1),[b,v]=x.useState(!1),[N,C]=x.useState(null),[S,A]=x.useState({code:"",name:""}),[_,T]=x.useState({code:"",name:"",is_active:!0});x.useEffect(()=>{k(),D()},[]);const k=async()=>{d(!0);try{const P=await Ts.getRoles();r(P);const O={};for(const K of P)try{const V=await Ts.getRoleUsage(K.id);O[K.id]=V}catch(V){console.error(`Error loading usage for role ${K.id}:`,V)}l(O)}catch(P){console.error("Error loading roles:",P)}finally{d(!1)}},D=async()=>{try{const P=await Ts.getRoleStatistics();s(P)}catch(P){console.error("Error loading statistics:",P)}},I=t.filter(P=>P.name.toLowerCase().includes(f.toLowerCase())||P.code.toLowerCase().includes(f.toLowerCase())),B=(P,O)=>{g(O?K=>[...K,P]:K=>K.filter(V=>V!==P))},z=P=>{g(P?I.map(O=>O.id):[])},H=async()=>{try{await Ts.createRole(S),w(!1),A({code:"",name:""}),k()}catch(P){console.error("Error creating role:",P)}},W=P=>{C(P),T({code:P.code,name:P.name,is_active:P.is_active??!0}),v(!0)},Z=async()=>{if(N)try{await Ts.updateRole(N.id,_),v(!1),C(null),k()}catch(P){console.error("Error updating role:",P)}},$=async()=>{if(h.length!==0)try{for(const P of h)await Ts.deleteRole(P);g([]),k()}catch(P){console.error("Error deleting roles:",P)}},M=P=>{console.log("Manage permissions for role",P)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:",     "})]}),n.jsx(X,{onClick:e,variant:"outline",children:""})]}),a&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(No,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(pe,{children:n.jsx("div",{className:"text-2xl font-bold",children:a.total_roles})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx($O,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(pe,{children:n.jsx("div",{className:"text-2xl font-bold",children:a.active_roles})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Gr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(pe,{children:n.jsx("div",{className:"text-sm font-medium",children:a.most_used_role||" "})})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Gr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(pe,{children:n.jsx("div",{className:"text-sm font-medium",children:a.least_used_role||" "})})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Ie,{placeholder:"     ...",value:f,onChange:P=>m(P.target.value)})}),n.jsxs(X,{onClick:k,children:[n.jsx(gr,{className:"h-4 w-4 mr-2"}),""]})]})})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ft,{open:j,onOpenChange:w,children:[n.jsx(Ma,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(on,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"     "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-code",children:" "}),n.jsx(Ie,{id:"create-code",placeholder:"admin, user, etc.",value:S.code,onChange:P=>A(O=>({...O,code:P.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-name",children:" "}),n.jsx(Ie,{id:"create-name",placeholder:", , etc.",value:S.name,onChange:P=>A(O=>({...O,name:P.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>w(!1),children:""}),n.jsx(X,{onClick:H,children:""})]})]})]})]}),h.length>0&&n.jsxs(X,{variant:"destructive",onClick:$,children:[n.jsx(Sr,{className:"h-4 w-4 mr-2"})," (",h.length,")"]})]})}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(No,{className:"h-5 w-5"})," (",I.length,")"]})}),n.jsx(pe,{children:n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx(_r,{checked:h.length===I.length&&I.length>0,onCheckedChange:z})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:u?n.jsx(pt,{children:n.jsx(Se,{colSpan:7,className:"text-center py-8",children:"..."})}):I.length===0?n.jsx(pt,{children:n.jsx(Se,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"  "})}):I.map(P=>{const O=i[P.id];return n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsx(_r,{checked:h.includes(P.id),onCheckedChange:K=>B(P.id,K)})}),n.jsx(Se,{className:"font-mono text-sm",children:P.code}),n.jsx(Se,{className:"font-medium",children:P.name}),n.jsx(Se,{children:n.jsx(je,{variant:P.is_active?"default":"secondary",children:P.is_active?"":""})}),n.jsx(Se,{children:O?O.user_count:"-"}),n.jsx(Se,{children:O?.last_assigned?new Date(O.last_assigned).toLocaleDateString("ru-RU"):"-"}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>W(P),children:n.jsx(sn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>M(P.id),children:n.jsx(No,{className:"h-4 w-4"})})]})})]},P.id)})})]})})]}),n.jsx(Ft,{open:b,onOpenChange:v,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"  "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-code",children:" "}),n.jsx(Ie,{id:"edit-code",value:_.code,onChange:P=>T(O=>({...O,code:P.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-name",children:" "}),n.jsx(Ie,{id:"edit-name",value:_.name,onChange:P=>T(O=>({...O,name:P.target.value}))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_r,{id:"edit-active",checked:_.is_active,onCheckedChange:P=>T(O=>({...O,is_active:P}))}),n.jsx(ae,{htmlFor:"edit-active",children:""})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>v(!1),children:""}),n.jsx(X,{onClick:Z,children:""})]})]})]})})]})}function Ume({onBack:e}){const[t,r]=x.useState(null),[a,s]=x.useState([]),[i,l]=x.useState(!1),[u,d]=x.useState(null);x.useEffect(()=>{f()},[]);const f=async()=>{l(!0);try{const[b,v]=await Promise.all([ts.getSystemStatistics(),ts.getActivityLog(20)]);r(b),s(v),d(new Date)}catch(b){console.error("Error loading system data:",b)}finally{l(!1)}},m=b=>{switch(b){case"healthy":return n.jsx(mt,{className:"h-5 w-5 text-green-500"});case"warning":return n.jsx(Zt,{className:"h-5 w-5 text-yellow-500"});case"error":return n.jsx($s,{className:"h-5 w-5 text-red-500"});default:return n.jsx(Ml,{className:"h-5 w-5 text-gray-500"})}},h=b=>{switch(b){case"healthy":return n.jsx(je,{className:"bg-green-100 text-green-800",children:""});case"warning":return n.jsx(je,{className:"bg-yellow-100 text-yellow-800",children:""});case"error":return n.jsx(je,{className:"bg-red-100 text-red-800",children:""});default:return n.jsx(je,{variant:"secondary",children:""})}},g=b=>new Date(b).toLocaleString("ru-RU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=b=>{switch(b){case"user_created":return n.jsx(Gr,{className:"h-4 w-4 text-blue-500"});case"role_assigned":return n.jsx(No,{className:"h-4 w-4 text-purple-500"});case"request_created":return n.jsx(yt,{className:"h-4 w-4 text-green-500"});default:return n.jsx(Ml,{className:"h-4 w-4 text-gray-500"})}},w=b=>{switch(b){case"user_created":return" ";case"role_assigned":return" ";case"request_created":return" ";default:return b}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"    "})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:[": ",u.toLocaleTimeString("ru-RU")]}),n.jsxs(X,{onClick:f,disabled:i,variant:"outline",children:[n.jsx(pn,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),""]}),n.jsx(X,{onClick:e,variant:"outline",children:""})]})]}),t&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),n.jsx(Gr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.total_users}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",t.active_users]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"  "}),n.jsx(No,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.total_roles}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:""}),n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(pe,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.total_requests}),n.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:" "}),m(t.system_health)]}),n.jsxs(pe,{children:[n.jsx("div",{className:"flex items-center space-x-2",children:h(t.system_health)}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" "})]})]})]}),n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ml,{className:"h-5 w-5"})," "]}),n.jsx(nr,{children:"    "})]}),n.jsx(pe,{children:i?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(pn,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]}):a.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"   "}):n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:a.map(b=>n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[j(b.action),n.jsx("span",{className:"font-medium",children:w(b.action)})]})}),n.jsx(Se,{className:"font-medium",children:b.user_name}),n.jsx(Se,{children:n.jsx(je,{variant:"outline",children:b.resource})}),n.jsx(Se,{className:"text-sm text-muted-foreground",children:g(b.timestamp)}),n.jsx(Se,{children:b.details&&Object.keys(b.details).length>0?n.jsx("div",{className:"text-sm",children:Object.entries(b.details).map(([v,N])=>n.jsxs("div",{className:"text-muted-foreground",children:[v,": ",String(N)]},v))}):n.jsx("span",{className:"text-muted-foreground",children:"-"})})]},b.id))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:" "}),n.jsx(nr,{children:"    "})]}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:t?.active_users||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:" "}),n.jsx(je,{variant:"outline",children:t?.total_roles||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"   "}),n.jsx(je,{variant:"outline",children:t&&t.active_users>0?(t.total_roles/t.active_users).toFixed(1):"0"})]})]})})]}),n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsx(Ae,{children:""}),n.jsx(nr,{children:"  "})]}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"  API"}),n.jsx(je,{className:"bg-green-100 text-green-800",children:"~50ms"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:""}),n.jsx(je,{className:"bg-green-100 text-green-800",children:"99.9%"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"  "}),n.jsx(je,{className:"bg-yellow-100 text-yellow-800",children:""})]})]})})]})]})]})}function Bme({onBack:e}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState([]),[u,d]=x.useState([]),[f,m]=x.useState(!1),[h,g]=x.useState({page:1,limit:20}),[j,w]=x.useState([]),[b,v]=x.useState(!1),[N,C]=x.useState(!1),[S,A]=x.useState(null),[_,T]=x.useState({user_id:"",role_id:"",expense_article_id:"",valid_from:new Date().toISOString().split("T")[0]}),[k,D]=x.useState({valid_from:"",valid_to:"",is_active:!0}),[I,B]=x.useState("assignments"),[z,H]=x.useState(!1),[W,Z]=x.useState({user_ids:[],role_id:"",expense_article_ids:[],valid_from:new Date().toISOString().split("T")[0]}),[$,M]=x.useState([]),[P,O]=x.useState([]);x.useEffect(()=>{K(),V(),q(),F()},[]),x.useEffect(()=>{I==="assignments"?K():I==="by-user"?L():I==="by-article"&&Y()},[h,I]);const K=async()=>{m(!0);try{const te=await fa.getAssignments(h);r(te)}catch(te){console.error("Error loading assignments:",te)}finally{m(!1)}},V=async()=>{try{const te=await ts.searchUsers({limit:1e3});s(te)}catch(te){console.error("Error loading users:",te)}},q=async()=>{try{const te=await Ts.getRoles();l(te)}catch(te){console.error("Error loading roles:",te)}},F=async()=>{try{const se=await As.getInstance().getItems("expense-articles",{limit:1e3});d(se)}catch(te){console.error("Error loading expense articles:",te)}},L=async()=>{m(!0);try{const te=await fa.getAssignmentsByUser(h.user_id||"");M(te)}catch(te){console.error("Error loading user assignments:",te)}finally{m(!1)}},Y=async()=>{m(!0);try{const te=await fa.getAssignmentsByExpenseArticle(h.expense_article_id||"");O(te)}catch(te){console.error("Error loading article assignments:",te)}finally{m(!1)}},ee=te=>{g(se=>({...se,user_id:te==="all"?void 0:te,page:1}))},ce=te=>{g(se=>({...se,role_id:te==="all"?void 0:te,page:1}))},G=te=>{g(se=>({...se,expense_article_id:te==="all"?void 0:te,page:1}))},fe=te=>{g(se=>({...se,is_active:te==="all"?void 0:te==="active",page:1}))},oe=(te,se)=>{w(se?Be=>[...Be,te]:Be=>Be.filter(gt=>gt!==te))},Ee=te=>{w(te?t.map(se=>se.id):[])},Oe=async()=>{try{await fa.createAssignment(_),v(!1),T({user_id:"",role_id:"",expense_article_id:"",valid_from:new Date().toISOString().split("T")[0]}),K()}catch(te){console.error("Error creating assignment:",te)}},re=te=>{A(te),D({valid_from:te.valid_from.split("T")[0],valid_to:te.valid_to?te.valid_to.split("T")[0]:"",is_active:te.is_active}),C(!0)},le=async()=>{if(S)try{await fa.updateAssignment(S.id,k),C(!1),A(null),K()}catch(te){console.error("Error updating assignment:",te)}},ge=async()=>{if(j.length!==0)try{await fa.bulkDeleteAssignments(j),w([]),K()}catch(te){console.error("Error deleting assignments:",te)}},Le=async()=>{try{const te=W.user_ids.flatMap(se=>W.expense_article_ids.map(Be=>fa.assignUserToExpenseArticle(se,Be,W.role_id)));await Promise.all(te),H(!1),Z({user_ids:[],role_id:"",expense_article_ids:[],valid_from:new Date().toISOString().split("T")[0]}),K()}catch(te){console.error("Error creating bulk assignments:",te)}},Xe=(te,se)=>{Z(se?Be=>({...Be,user_ids:[...Be.user_ids,te]}):Be=>({...Be,user_ids:Be.user_ids.filter(gt=>gt!==te)}))},ot=(te,se)=>{Z(se?Be=>({...Be,expense_article_ids:[...Be.expense_article_ids,te]}):Be=>({...Be,expense_article_ids:Be.expense_article_ids.filter(gt=>gt!==te)}))},wt=(te,se)=>te?se&&new Date(se)<new Date?n.jsx(je,{variant:"secondary",children:""}):n.jsx(je,{variant:"default",className:"bg-green-100 text-green-800",children:""}):n.jsx(je,{variant:"destructive",children:""});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:"  "}),n.jsx("p",{className:"text-muted-foreground",children:"       "})]}),n.jsx(X,{onClick:e,variant:"outline",children:""})]}),n.jsxs(Pc,{value:I,onValueChange:te=>B(te),children:[n.jsxs(Oc,{children:[n.jsx(xn,{value:"assignments",children:" "}),n.jsx(xn,{value:"by-user",children:" "}),n.jsx(xn,{value:"by-article",children:" "})]}),n.jsxs(yn,{value:"assignments",className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5"}),"  "]})}),n.jsx(pe,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"user-filter",children:""}),n.jsxs(et,{value:h.user_id||"all",onValueChange:ee,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),a.map(te=>n.jsx(xe,{value:te.id,children:te.full_name},te.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"role-filter",children:""}),n.jsxs(et,{value:h.role_id||"all",onValueChange:ce,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),i.map(te=>n.jsx(xe,{value:te.id,children:te.name},te.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"article-filter",children:" "}),n.jsxs(et,{value:h.expense_article_id||"all",onValueChange:G,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),u.map(te=>n.jsx(xe,{value:te.id,children:te.name},te.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status-filter",children:""}),n.jsxs(et,{value:h.is_active===void 0?"all":h.is_active?"active":"inactive",onValueChange:fe,children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:""}),n.jsx(xe,{value:"active",children:""}),n.jsx(xe,{value:"inactive",children:""})]})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs(X,{onClick:K,className:"w-full",children:[n.jsx(gr,{className:"h-4 w-4 mr-2"}),""]})})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ft,{open:b,onOpenChange:v,children:[n.jsx(Ma,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(on,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"       "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-user",children:""}),n.jsxs(et,{value:_.user_id,onValueChange:te=>T(se=>({...se,user_id:te})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:a.map(te=>n.jsxs(xe,{value:te.id,children:[te.full_name," (",te.email,")"]},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-role",children:""}),n.jsxs(et,{value:_.role_id,onValueChange:te=>T(se=>({...se,role_id:te})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:i.map(te=>n.jsxs(xe,{value:te.id,children:[te.name," (",te.code,")"]},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-article",children:" "}),n.jsxs(et,{value:_.expense_article_id,onValueChange:te=>T(se=>({...se,expense_article_id:te})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:u.map(te=>n.jsxs(xe,{value:te.id,children:[te.name," (",te.code,")"]},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-valid-from",children:" "}),n.jsx(Ie,{id:"create-valid-from",type:"date",value:_.valid_from,onChange:te=>T(se=>({...se,valid_from:te.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"create-valid-to",children:"  ()"}),n.jsx(Ie,{id:"create-valid-to",type:"date",value:_.valid_to||"",onChange:te=>T(se=>({...se,valid_to:te.target.value||void 0}))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>v(!1),children:""}),n.jsx(X,{onClick:Oe,children:""})]})]})]})]}),n.jsxs(Ft,{open:z,onOpenChange:H,children:[n.jsx(Ma,{asChild:!0,children:n.jsxs(X,{variant:"outline",children:[n.jsx(Gr,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:"     "}),n.jsx(qt,{children:" ,       "})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsxs(et,{value:W.role_id,onValueChange:te=>Z(se=>({...se,role_id:te})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:i.map(te=>n.jsxs(xe,{value:te.id,children:[te.name," (",te.code,")"]},te.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(ae,{children:""}),n.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md p-2 space-y-2",children:a.map(te=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_r,{id:`user-${te.id}`,checked:W.user_ids.includes(te.id),onCheckedChange:se=>Xe(te.id,se)}),n.jsxs(ae,{htmlFor:`user-${te.id}`,className:"text-sm",children:[te.full_name," (",te.email,")"]})]},te.id))})]}),n.jsxs("div",{children:[n.jsx(ae,{children:" "}),n.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md p-2 space-y-2",children:u.map(te=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_r,{id:`article-${te.id}`,checked:W.expense_article_ids.includes(te.id),onCheckedChange:se=>ot(te.id,se)}),n.jsxs(ae,{htmlFor:`article-${te.id}`,className:"text-sm",children:[te.name," (",te.code,")"]})]},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"bulk-valid-from",children:" "}),n.jsx(Ie,{id:"bulk-valid-from",type:"date",value:W.valid_from,onChange:te=>Z(se=>({...se,valid_from:te.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>H(!1),children:""}),n.jsxs(X,{onClick:Le,disabled:W.user_ids.length===0||W.expense_article_ids.length===0||!W.role_id,children:["  (",W.user_ids.length*W.expense_article_ids.length,")"]})]})]})]})]}),j.length>0&&n.jsxs(X,{variant:"destructive",onClick:ge,children:[n.jsx(Sr,{className:"h-4 w-4 mr-2"})," (",j.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:K,children:[n.jsx(pn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(To,{className:"h-4 w-4 mr-2"}),""]})]})]}),n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"})," (",t.length,")"]})}),n.jsx(pe,{children:n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx(_r,{checked:j.length===t.length&&t.length>0,onCheckedChange:Ee})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:" "}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:f?n.jsx(pt,{children:n.jsx(Se,{colSpan:8,className:"text-center py-8",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(pn,{className:"h-4 w-4 mr-2 animate-spin"}),"..."]})})}):t.length===0?n.jsx(pt,{children:n.jsx(Se,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"  "})}):t.map(te=>n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsx(_r,{checked:j.includes(te.id),onCheckedChange:se=>oe(te.id,se)})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:te.user_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:te.user_email})]})}),n.jsx(Se,{children:n.jsxs(je,{variant:"outline",children:[te.role_name," (",te.role_code,")"]})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:te.expense_article_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:te.expense_article_code})]})}),n.jsx(Se,{children:new Date(te.valid_from).toLocaleDateString("ru-RU")}),n.jsx(Se,{children:te.valid_to?new Date(te.valid_to).toLocaleDateString("ru-RU"):"-"}),n.jsx(Se,{children:wt(te.is_active,te.valid_to)}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>re(te),children:n.jsx(sn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ge(),children:n.jsx(Sr,{className:"h-4 w-4"})})]})})]},te.id))})]})})]})]}),n.jsx(yn,{value:"by-user",className:"space-y-6",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"  "]}),n.jsx(nr,{children:"  ,   "})]}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"user-select",children:" "}),n.jsxs(et,{value:h.user_id||"all",onValueChange:ee,children:[n.jsx(rt,{className:"w-64",children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),a.map(te=>n.jsxs(xe,{value:te.id,children:[te.full_name," (",te.email,")"]},te.id))]})]})]}),n.jsxs(X,{onClick:L,disabled:f,children:[n.jsx(pn,{className:`h-4 w-4 mr-2 ${f?"animate-spin":""}`}),""]})]}),f?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(pn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]}):$.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Gr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"  "})]}):n.jsx("div",{className:"space-y-4",children:$.map(te=>n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),te.user_name]}),n.jsxs(nr,{children:[te.user_email,"  ",te.assignments.length," "]})]}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-2",children:te.assignments.map(se=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(je,{variant:"outline",children:se.role_name}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:se.expense_article_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:se.expense_article_code})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(se.valid_from).toLocaleDateString("ru-RU"),se.valid_to&&` - ${new Date(se.valid_to).toLocaleDateString("ru-RU")}`]}),wt(se.is_active,se.valid_to),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>re(se),children:n.jsx(sn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ge(),children:n.jsx(Sr,{className:"h-4 w-4"})})]})]})]},se.id))})})]},te.user_id))})]})})]})}),n.jsx(yn,{value:"by-article",className:"space-y-6",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"   "]}),n.jsx(nr,{children:"  ,    "})]}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"article-select",children:"  "}),n.jsxs(et,{value:h.expense_article_id||"all",onValueChange:G,children:[n.jsx(rt,{className:"w-64",children:n.jsx(tt,{placeholder:" "})}),n.jsxs(nt,{children:[n.jsx(xe,{value:"all",children:" "}),u.map(te=>n.jsxs(xe,{value:te.id,children:[te.name," (",te.code,")"]},te.id))]})]})]}),n.jsxs(X,{onClick:Y,disabled:f,children:[n.jsx(pn,{className:`h-4 w-4 mr-2 ${f?"animate-spin":""}`}),""]})]}),f?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(pn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]}):P.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(yt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"  "})]}):n.jsx("div",{className:"space-y-4",children:P.map(te=>n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),te.expense_article_name]}),n.jsxs(nr,{children:[te.expense_article_code,"  ",te.assignments.length," "]})]}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-2",children:te.assignments.map(se=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:se.user_name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:se.user_email})]}),n.jsx(je,{variant:"outline",children:se.role_name})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(se.valid_from).toLocaleDateString("ru-RU"),se.valid_to&&` - ${new Date(se.valid_to).toLocaleDateString("ru-RU")}`]}),wt(se.is_active,se.valid_to),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>re(se),children:n.jsx(sn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ge(),children:n.jsx(Sr,{className:"h-4 w-4"})})]})]})]},se.id))})})]},te.expense_article_id))})]})})]})})]}),n.jsx(Ft,{open:N,onOpenChange:C,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"  "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-valid-from",children:" "}),n.jsx(Ie,{id:"edit-valid-from",type:"date",value:k.valid_from||"",onChange:te=>D(se=>({...se,valid_from:te.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-valid-to",children:"  ()"}),n.jsx(Ie,{id:"edit-valid-to",type:"date",value:k.valid_to||"",onChange:te=>D(se=>({...se,valid_to:te.target.value||void 0}))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_r,{id:"edit-is-active",checked:k.is_active,onCheckedChange:te=>D(se=>({...se,is_active:te}))}),n.jsx(ae,{htmlFor:"edit-is-active",children:""})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>C(!1),children:""}),n.jsx(X,{onClick:le,children:""})]})]})]})})]})}function zme({onBack:e}){const[t,r]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState([]),[u,d]=x.useState(!1),[f,m]=x.useState(""),[h,g]=x.useState([]),[j,w]=x.useState([]),[b,v]=x.useState(!1),[N,C]=x.useState(!1),[S,A]=x.useState(!1),[_,T]=x.useState(!1),[k,D]=x.useState(!1),[I,B]=x.useState(null),[z,H]=x.useState(null),[W,Z]=x.useState(null),[$,M]=x.useState("positions"),[P,O]=x.useState({name:"",code:"",department_id:""}),[K,V]=x.useState({name:"",code:""});x.useEffect(()=>{q(),F(),L()},[]);const q=async()=>{d(!0);try{r([{id:"1",name:"  ",code:"PURCH_MGR",department_id:"1",department:{id:"1",name:" ",code:"PURCH"},userCount:3},{id:"2",name:" ",code:"FIN_ANALYST",department_id:"2",department:{id:"2",name:" ",code:"FIN"},userCount:2},{id:"3",name:"",code:"REGISTRAR",department_id:"3",department:{id:"3",name:" ",code:"REG"},userCount:1}])}catch(se){console.error("Error loading positions:",se)}finally{d(!1)}},F=async()=>{try{s([{id:"1",name:" ",code:"PURCH",positions:[{id:"1",name:"  ",code:"PURCH_MGR",department_id:"1"}],userCount:3},{id:"2",name:" ",code:"FIN",positions:[{id:"2",name:" ",code:"FIN_ANALYST",department_id:"2"}],userCount:2},{id:"3",name:" ",code:"REG",positions:[{id:"3",name:"",code:"REGISTRAR",department_id:"3"}],userCount:1}])}catch(se){console.error("Error loading departments:",se)}},L=async()=>{try{const se=await ts.searchUsers({limit:1e3});l(se)}catch(se){console.error("Error loading users:",se)}},Y=se=>{m(se)},ee=(se,Be)=>{g(Be?gt=>[...gt,se]:gt=>gt.filter(or=>or!==se))},ce=se=>{g(se?t.map(Be=>Be.id):[])},G=(se,Be)=>{w(Be?gt=>[...gt,se]:gt=>gt.filter(or=>or!==se))},fe=se=>{w(se?a.map(Be=>Be.id):[])},oe=async()=>{try{console.log("Creating position:",P),v(!1),O({name:"",code:"",department_id:""}),q()}catch(se){console.error("Error creating position:",se)}},Ee=async()=>{try{console.log("Creating department:",K),C(!1),V({name:"",code:""}),F()}catch(se){console.error("Error creating department:",se)}},Oe=se=>{B(se),O({name:se.name,code:se.code,department_id:se.department_id}),A(!0)},re=se=>{H(se),V({name:se.name,code:se.code}),T(!0)},le=async()=>{if(I)try{console.log("Updating position:",I.id,P),A(!1),B(null),q()}catch(se){console.error("Error updating position:",se)}},ge=async()=>{if(z)try{console.log("Updating department:",z.id,K),T(!1),H(null),F()}catch(se){console.error("Error updating department:",se)}},Le=async()=>{if(h.length!==0)try{console.log("Deleting positions:",h),g([]),q()}catch(se){console.error("Error deleting positions:",se)}},Xe=async()=>{if(j.length!==0)try{console.log("Deleting departments:",j),w([]),F()}catch(se){console.error("Error deleting departments:",se)}},ot=se=>{Z(se),D(!0)},wt=t.filter(se=>se.name.toLowerCase().includes(f.toLowerCase())||se.code.toLowerCase().includes(f.toLowerCase())||se.department?.name.toLowerCase().includes(f.toLowerCase())),te=a.filter(se=>se.name.toLowerCase().includes(f.toLowerCase())||se.code.toLowerCase().includes(f.toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-medium",children:"   "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]}),n.jsx(X,{onClick:e,variant:"outline",children:""})]}),n.jsxs(Pc,{value:$,onValueChange:se=>M(se),children:[n.jsxs(Oc,{children:[n.jsx(xn,{value:"positions",children:""}),n.jsx(xn,{value:"departments",children:""}),n.jsx(xn,{value:"assignments",children:""})]}),n.jsxs(yn,{value:"positions",className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Ie,{placeholder:"  ,   ...",value:f,onChange:se=>Y(se.target.value),className:"flex-1"}),n.jsxs(X,{onClick:q,disabled:u,children:[n.jsx(pn,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),""]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ft,{open:b,onOpenChange:v,children:[n.jsx(Ma,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(on,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"     "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-name",children:" "}),n.jsx(Ie,{id:"position-name",value:P.name,onChange:se=>O(Be=>({...Be,name:se.target.value})),placeholder:"  "})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-code",children:" "}),n.jsx(Ie,{id:"position-code",value:P.code,onChange:se=>O(Be=>({...Be,code:se.target.value})),placeholder:"  "})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"position-department",children:""}),n.jsxs(et,{value:P.department_id,onValueChange:se=>O(Be=>({...Be,department_id:se})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:a.map(se=>n.jsxs(xe,{value:se.id,children:[se.name," (",se.code,")"]},se.id))})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>v(!1),children:""}),n.jsx(X,{onClick:oe,children:""})]})]})]})]}),h.length>0&&n.jsxs(X,{variant:"destructive",onClick:Le,children:[n.jsx(Sr,{className:"h-4 w-4 mr-2"})," (",h.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(To,{className:"h-4 w-4 mr-2"}),""]})]})]}),n.jsx(me,{children:n.jsx(pe,{className:"p-0",children:n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx(_r,{checked:h.length===wt.length&&wt.length>0,onCheckedChange:ce})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:u?n.jsx(pt,{children:n.jsxs(Se,{colSpan:6,className:"text-center py-8",children:[n.jsx(pn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):wt.length===0?n.jsx(pt,{children:n.jsxs(Se,{colSpan:6,className:"text-center py-8",children:[n.jsx(Ta,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"text-muted-foreground",children:"  "})]})}):wt.map(se=>n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsx(_r,{checked:h.includes(se.id),onCheckedChange:Be=>ee(se.id,Be)})}),n.jsx(Se,{className:"font-medium",children:se.name}),n.jsx(Se,{className:"font-mono",children:se.code}),n.jsx(Se,{children:n.jsxs(je,{variant:"outline",children:[se.department?.name," (",se.department?.code,")"]})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-4 w-4"}),se.userCount||0]})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ot(se),title:" ",children:n.jsx(Du,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Oe(se),children:n.jsx(sn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Le(),children:n.jsx(Sr,{className:"h-4 w-4"})})]})})]},se.id))})]})})})]}),n.jsxs(yn,{value:"departments",className:"space-y-6",children:[n.jsxs(me,{children:[n.jsx(Te,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5"})," "]})}),n.jsx(pe,{children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Ie,{placeholder:"    ...",value:f,onChange:se=>Y(se.target.value),className:"flex-1"}),n.jsxs(X,{onClick:F,disabled:u,children:[n.jsx(pn,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),""]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ft,{open:N,onOpenChange:C,children:[n.jsx(Ma,{asChild:!0,children:n.jsxs(X,{children:[n.jsx(on,{className:"h-4 w-4 mr-2"})," "]})}),n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"     "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"department-name",children:" "}),n.jsx(Ie,{id:"department-name",value:K.name,onChange:se=>V(Be=>({...Be,name:se.target.value})),placeholder:"  "})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"department-code",children:" "}),n.jsx(Ie,{id:"department-code",value:K.code,onChange:se=>V(Be=>({...Be,code:se.target.value})),placeholder:"  "})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>C(!1),children:""}),n.jsx(X,{onClick:Ee,children:""})]})]})]})]}),j.length>0&&n.jsxs(X,{variant:"destructive",onClick:Xe,children:[n.jsx(Sr,{className:"h-4 w-4 mr-2"})," (",j.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),""]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(To,{className:"h-4 w-4 mr-2"}),""]})]})]}),n.jsx(me,{children:n.jsx(pe,{className:"p-0",children:n.jsxs(Lr,{children:[n.jsx(Fr,{children:n.jsxs(pt,{children:[n.jsx(Ce,{className:"w-12",children:n.jsx(_r,{checked:j.length===te.length&&te.length>0,onCheckedChange:fe})}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""}),n.jsx(Ce,{children:""})]})}),n.jsx(Ur,{children:u?n.jsx(pt,{children:n.jsxs(Se,{colSpan:6,className:"text-center py-8",children:[n.jsx(pn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):te.length===0?n.jsx(pt,{children:n.jsxs(Se,{colSpan:6,className:"text-center py-8",children:[n.jsx(Ta,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"text-muted-foreground",children:"  "})]})}):te.map(se=>n.jsxs(pt,{children:[n.jsx(Se,{children:n.jsx(_r,{checked:j.includes(se.id),onCheckedChange:Be=>G(se.id,Be)})}),n.jsx(Se,{className:"font-medium",children:se.name}),n.jsx(Se,{className:"font-mono",children:se.code}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"h-4 w-4"}),se.positions?.length||0]})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-4 w-4"}),se.userCount||0]})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>re(se),children:n.jsx(sn,{className:"h-4 w-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Xe(),children:n.jsx(Sr,{className:"h-4 w-4"})})]})})]},se.id))})]})})})]}),n.jsx(yn,{value:"assignments",className:"space-y-6",children:n.jsxs(me,{children:[n.jsxs(Te,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Du,{className:"h-5 w-5"})," "]}),n.jsx(nr,{children:"    "})]}),n.jsx(pe,{children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Du,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"      "})]})})]})})]}),n.jsx(Ft,{open:S,onOpenChange:A,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"  "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-position-name",children:" "}),n.jsx(Ie,{id:"edit-position-name",value:P.name,onChange:se=>O(Be=>({...Be,name:se.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-position-code",children:" "}),n.jsx(Ie,{id:"edit-position-code",value:P.code,onChange:se=>O(Be=>({...Be,code:se.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-position-department",children:""}),n.jsxs(et,{value:P.department_id,onValueChange:se=>O(Be=>({...Be,department_id:se})),children:[n.jsx(rt,{children:n.jsx(tt,{placeholder:" "})}),n.jsx(nt,{children:a.map(se=>n.jsxs(xe,{value:se.id,children:[se.name," (",se.code,")"]},se.id))})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>A(!1),children:""}),n.jsx(X,{onClick:le,children:""})]})]})]})}),n.jsx(Ft,{open:_,onOpenChange:T,children:n.jsxs($t,{className:"max-w-md",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:" "}),n.jsx(qt,{children:"  "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-department-name",children:" "}),n.jsx(Ie,{id:"edit-department-name",value:K.name,onChange:se=>V(Be=>({...Be,name:se.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"edit-department-code",children:" "}),n.jsx(Ie,{id:"edit-department-code",value:K.code,onChange:se=>V(Be=>({...Be,code:se.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{variant:"outline",onClick:()=>T(!1),children:""}),n.jsx(X,{onClick:ge,children:""})]})]})]})}),n.jsx(Ft,{open:k,onOpenChange:D,children:n.jsxs($t,{className:"max-w-4xl",children:[n.jsxs(Ut,{children:[n.jsx(Bt,{children:"   "}),n.jsxs(qt,{children:['   "',W?.name,'"']})]}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Du,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"       "})]})}),n.jsx(DialogFooter,{children:n.jsx(X,{variant:"outline",onClick:()=>D(!1),children:""})})]})})]})}const Pr=({userRole:e,currentPage:t,children:r,fallback:a=n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:" "}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"        "}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"       "})]})})=>{const{canAccessRoute:s}=Z5(e);return s(t)?n.jsx(n.Fragment,{children:r}):n.jsx(n.Fragment,{children:a})},qme=({onBack:e})=>n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"API Integration Test"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Test component for API integration"}),n.jsx(X,{onClick:e,children:""})]}),Wme=({onBack:e})=>n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Dictionary API Test"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Test component for dictionary API"}),n.jsx(X,{onClick:e,children:""})]}),Vme=({onBack:e})=>n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Integration Test"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Test component for integration testing"}),n.jsx(X,{onClick:e,children:""})]});function Hme(){const{state:e,dispatch:t}=Bi();O7();const{handleCreateRequest:r,handleViewRequest:a,handleRequestUpdate:s}=D7(),{isAuthenticated:i,isLoading:l}=vc();return l?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):i?(()=>{try{if(e.showCreateForm){const d=e.selectedRequestId?e.paymentRequests.find(f=>f.id===e.selectedRequestId):void 0;return n.jsx(h5,{onSubmit:f=>{t(be.addPaymentRequest(f)),t(be.resetFormState()),t(be.setCurrentPage("requests")),we.success(` ${f.requestNumber}      `)},onCancel:()=>{t(be.resetFormState())},onSaveDraft:it.update,initialData:d,isEditing:!!d,selectedRequestId:e.selectedRequestId||void 0})}if(e.viewMode==="view"&&e.selectedRequestId)return n.jsx(phe,{requestId:e.selectedRequestId,onCancel:()=>{t(be.setViewMode("list")),t(be.setSelectedRequestId(null)),e.currentPage==="requests"&&t(be.setCurrentPage("dashboard"))},onRequestUpdate:s});if(e.currentPage==="requests"&&e.viewMode==="classify"&&e.selectedRequestId){const d=e.paymentRequests.find(f=>f.id===e.selectedRequestId);if(d)return n.jsx(cO,{request:d,onSubmit:it.classify,onReturn:it.return,onCancel:()=>{t(be.setViewMode("list")),t(be.setSelectedRequestId(null))}})}if(e.currentPage==="requests"&&e.viewMode==="classify-items"&&e.selectedRequestId){const d=e.paymentRequests.find(f=>f.id===e.selectedRequestId);if(d)return n.jsx(cO,{request:d,onSubmit:it.classify,onReturn:it.return,onCancel:()=>{t(be.setViewMode("list")),t(be.setSelectedRequestId(null))}})}if(e.currentPage==="requests"&&e.viewMode==="approve"&&e.selectedRequestId){const d=e.paymentRequests.find(f=>f.id===e.selectedRequestId);if(d)return n.jsx(xme,{request:d,onApprove:it.approve,onApproveOnBehalf:it.approve,onReturn:it.return,onDecline:it.reject,onCancel:()=>{t(be.setViewMode("list")),t(be.setSelectedRequestId(null))}})}if(e.currentPage==="registers"&&e.viewMode==="register")return n.jsx(Tme,{onBack:()=>t(be.setViewMode("list")),onUpdateRequest:s});if(e.currentPage==="requests"&&e.viewMode==="treasurer-approve"&&e.selectedRequestId){const d=e.paymentRequests.find(f=>f.id===e.selectedRequestId);if(d)return n.jsx(Ame,{request:d,onUpdateStatus:it.update,onCancel:()=>{t(be.setViewMode("list")),t(be.setSelectedRequestId(null))}})}switch(e.currentPage){case"dashboard":return R1(e.currentRole,"admin")?n.jsx(Pr,{userRole:e.currentRole,currentPage:"admin",children:n.jsx(Dme,{onNavigate:d=>t(be.setCurrentPage(d))})}):e.currentRole==="SUB_REGISTRAR"?n.jsx(Pr,{userRole:e.currentRole,currentPage:"sub-registrar-assignments",children:n.jsx(dO,{currentUserId:"6c626090-ab4a-44c2-a16d-01b73423557b"})}):R1(e.currentRole,"distributor-workflow")?n.jsx(Pr,{userRole:e.currentRole,currentPage:"distributor-workflow",children:n.jsx(yme,{currentRole:e.currentRole,paymentRequests:e.paymentRequests,onNavigate:d=>t(be.setCurrentPage(d))})}):n.jsx(Pr,{userRole:e.currentRole,currentPage:"dashboard",children:n.jsx(tO,{currentRole:e.currentRole,onFilterChange:d=>{t(be.setDashboardFilter(d)),!(e.currentRole==="REGISTRAR"||e.currentRole==="DISTRIBUTOR")&&d&&e.currentRole!=="EXECUTOR"&&t(be.setCurrentPage("requests"))},currentFilter:e.dashboardFilter,onViewRequest:a,onCreateRequest:r,paymentRequests:e.paymentRequests})});case"requests":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"requests",children:e.currentRole==="EXECUTOR"?n.jsx(vhe,{onCreateRequest:r,onViewRequest:a,onEditRequest:d=>{t(be.setSelectedRequestId(d)),t(be.setShowCreateForm(!0))}}):e.currentRole==="DISTRIBUTOR"?n.jsx(pme,{paymentRequests:e.paymentRequests}):e.currentRole==="SUB_REGISTRAR"?n.jsx(dO,{currentUserId:"6c626090-ab4a-44c2-a16d-01b73423557b"}):n.jsx($ue,{currentRole:e.currentRole,onCreateRequest:r,onViewRequest:a,dashboardFilter:e.dashboardFilter,onClearFilter:()=>t(be.setDashboardFilter(null)),paymentRequests:e.paymentRequests})});case"registers":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:" "}),n.jsx("p",{className:"text-muted-foreground",children:"     "})]}),n.jsx(X,{onClick:()=>t(be.setViewMode("register")),children:"  "})]}),n.jsxs("div",{className:"p-8 text-center text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx("p",{children:"    "}),n.jsx("p",{className:"text-sm mt-2",children:"      "})]})]});case"dictionaries":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"dictionaries",children:n.jsx(Mme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"admin":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"admin",children:n.jsx($me,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"user-management":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"user-management",children:n.jsx(Lme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"role-management":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"role-management",children:n.jsx(Fme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"system-statistics":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"system-statistics",children:n.jsx(Ume,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"expense-article-assignment":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"expense-article-assignment",children:n.jsx(Bme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"position-management":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"position-management",children:n.jsx(zme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"unallocated":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"unallocated",children:n.jsx(Eme,{onViewRequest:a})});case"registrar-assignments":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"registrar-assignments",children:n.jsx(mme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"distributor-routing":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"distributor-routing",children:n.jsx(Cme,{onBack:()=>t(be.setCurrentPage("dashboard"))})});case"test-api":return n.jsx(qme,{onBack:()=>t(be.setCurrentPage("dashboard"))});case"test-dictionary-api":return n.jsx(Wme,{onBack:()=>t(be.setCurrentPage("dashboard"))});case"integration-test":return n.jsx(Vme,{onBack:()=>t(be.setCurrentPage("dashboard"))});case"sub-registrar-assignments":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"sub-registrar-assignments",children:n.jsx(She,{onReportUpdate:()=>{we.success(" ")}})});case"distributor-workflow":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"distributor-workflow",children:n.jsx(gme,{onRequestUpdate:()=>{we.success(" ")}})});case"export-contracts":return n.jsx(Pr,{userRole:e.currentRole,currentPage:"export-contracts",children:n.jsx(vme,{onContractSelect:d=>{we.success(` : ${d.contractNumber}`)}})});default:return n.jsx(tO,{currentRole:e.currentRole,paymentRequests:e.paymentRequests,onViewRequest:a})}}catch(d){return console.error("Error rendering page:",d),n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("p",{className:"text-red-600",children:"    "}),n.jsx(X,{onClick:()=>window.location.reload(),className:"mt-4",children:" "})]})}})():n.jsx(UO,{})}const Gme={currentDictionary:"expense-articles",dictionaries:{"expense-articles":{items:[],statistics:null,state:{currentDictionary:"expense-articles",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},counterparties:{items:[],statistics:null,state:{currentDictionary:"counterparties",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},"vat-rates":{items:[],statistics:null,state:{currentDictionary:"vat-rates",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}},currencies:{items:[],statistics:null,state:{currentDictionary:"currencies",selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}}},globalState:{isLoading:!1,error:null,lastUpdated:null}};function Kme(e,t){switch(t.type){case"SET_CURRENT_DICTIONARY":return{...e,currentDictionary:t.payload};case"SET_ITEMS":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:t.payload.items}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"SET_STATISTICS":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],statistics:t.payload.statistics}}};case"SET_STATE":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],state:{...e.dictionaries[t.payload.type].state,...t.payload.state}}}};case"ADD_ITEM":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:[...e.dictionaries[t.payload.type].items,t.payload.item]}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"UPDATE_ITEM":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:e.dictionaries[t.payload.type].items.map(r=>r.id===t.payload.id?{...r,...t.payload.item}:r)}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"DELETE_ITEM":return{...e,dictionaries:{...e.dictionaries,[t.payload.type]:{...e.dictionaries[t.payload.type],items:e.dictionaries[t.payload.type].items.filter(r=>r.id!==t.payload.id)}},globalState:{...e.globalState,lastUpdated:new Date().toISOString()}};case"SET_LOADING":return{...e,globalState:{...e.globalState,isLoading:t.payload}};case"SET_ERROR":return{...e,globalState:{...e.globalState,error:t.payload}};case"CLEAR_ERROR":return{...e,globalState:{...e.globalState,error:null}};case"RESET_DICTIONARY":return{...e,dictionaries:{...e.dictionaries,[t.payload]:{items:[],statistics:null,state:{currentDictionary:t.payload,selectedItems:[],searchQuery:"",filters:{},pagination:{page:1,pageSize:20,total:0,totalPages:0},editingItem:null,bulkActionMode:!1,relatedData:{},isLoading:!1,error:null}}}};default:return e}}const Yme=x.createContext(void 0);function Xme({children:e}){const[t,r]=x.useReducer(Kme,Gme),N={state:t,dispatch:r,getDictionaryState:C=>t.dictionaries[C].state,getDictionaryItems:C=>t.dictionaries[C].items,getDictionaryStatistics:C=>t.dictionaries[C].statistics,setCurrentDictionary:C=>{r({type:"SET_CURRENT_DICTIONARY",payload:C})},setItems:(C,S)=>{r({type:"SET_ITEMS",payload:{type:C,items:S}})},setStatistics:(C,S)=>{r({type:"SET_STATISTICS",payload:{type:C,statistics:S}})},updateDictionaryState:(C,S)=>{r({type:"SET_STATE",payload:{type:C,state:S}})},addItem:(C,S)=>{r({type:"ADD_ITEM",payload:{type:C,item:S}})},updateItem:(C,S,A)=>{r({type:"UPDATE_ITEM",payload:{type:C,id:S,item:A}})},deleteItem:(C,S)=>{r({type:"DELETE_ITEM",payload:{type:C,id:S}})},setLoading:C=>{r({type:"SET_LOADING",payload:C})},setError:C=>{r({type:"SET_ERROR",payload:C})},clearError:()=>{r({type:"CLEAR_ERROR"})},resetDictionary:C=>{r({type:"RESET_DICTIONARY",payload:C})}};return n.jsx(Yme.Provider,{value:N,children:e})}function Qme(){const{state:e,dispatch:t}=Bi(),r=x.useCallback(async s=>{if(console.log("Toggle API mode requested:",s),A7(s),we.info(`  ${s?"mock":"API"} `),e.currentUser)try{const i=await it.getAll({role:e.currentRole});t(be.setPaymentRequests(i))}catch(i){console.error("Failed to reload after API mode toggle:",i),we.error("    ")}},[e.currentUser,e.currentRole,t]),a=x.useCallback(()=>R7(),[]);return{handleToggleApiMode:r,getApiStatusInfo:a}}const Zme=()=>{const{user:e,isAuthenticated:t}=vc(),{dispatch:r}=Bi();x.useEffect(()=>{if(t&&e&&e.is_active)if(e.roles&&e.roles.length>0){const a=e.roles.find(l=>l.is_primary)||e.roles[0],i={ADMIN:"ADMIN",REGISTRAR:"REGISTRAR",SUB_REGISTRAR:"SUB_REGISTRAR",DISTRIBUTOR:"DISTRIBUTOR",TREASURER:"TREASURER",EXECUTOR:"EXECUTOR"}[a.code]||"EXECUTOR";r(be.setCurrentRole(i)),r(be.setCurrentUser(e)),it.getAll({role:i}).then(l=>{r(be.setPaymentRequests(l))}).catch(l=>{console.error("useRoleSync: failed to load payment requests:",l)})}else console.warn("User has no roles assigned, defaulting to EXECUTOR"),r(be.setCurrentRole("EXECUTOR")),r(be.setCurrentUser(e)),it.getAll({role:"EXECUTOR"}).then(a=>{r(be.setPaymentRequests(a))}).catch(a=>{console.error("useRoleSync: failed to load payment requests:",a)});else(!t||e&&!e.is_active)&&(r(be.setCurrentRole("EXECUTOR")),r(be.setCurrentUser(null)))},[e,t,r])};var Jme=(e,t,r,a,s,i,l,u)=>{let d=document.documentElement,f=["light","dark"];function m(j){(Array.isArray(e)?e:[e]).forEach(w=>{let b=w==="class",v=b&&i?s.map(N=>i[N]||N):s;b?(d.classList.remove(...v),d.classList.add(i&&i[j]?i[j]:j)):d.setAttribute(w,j)}),h(j)}function h(j){u&&f.includes(j)&&(d.style.colorScheme=j)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)m(a);else try{let j=localStorage.getItem(t)||r,w=l&&j==="system"?g():j;m(w)}catch{}},epe=x.createContext(void 0),tpe={setTheme:e=>{},themes:[]},rpe=()=>{var e;return(e=x.useContext(epe))!=null?e:tpe};x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:s,defaultTheme:i,value:l,themes:u,nonce:d,scriptProps:f})=>{let m=JSON.stringify([r,t,i,e,u,l,a,s]).slice(1,-1);return x.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${Jme.toString()})(${m})`}})});const npe=({...e})=>{const{theme:t="system"}=rpe();return n.jsx(f7,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function ape({logout:e}){const{state:t,dispatch:r}=Bi(),{loadInitialData:a}=lM();return Qme(),Zme(),x.useEffect(()=>{BO();const s=i=>{if(i.message&&i.message.includes("CSSScopeRule"))return console.warn("CSSScopeRule error caught and handled:",i.message),i.preventDefault(),!1};return window.addEventListener("error",s),()=>{window.removeEventListener("error",s)}},[]),x.useEffect(()=>{a()},[a]),t.isLoading&&!t.currentUser?n.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"..."})]})}):n.jsx(Xme,{children:n.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[n.jsx(FV,{currentRole:t.currentRole,onRoleChange:s=>r(be.setCurrentRole(s)),userName:t.currentUser?.full_name||"",onLogout:e}),n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n.jsx("div",{className:"hidden md:block",children:n.jsx(_7,{currentPage:t.currentPage,onPageChange:s=>r(be.setCurrentPage(s)),currentRole:t.currentRole,currentUser:t.currentUser,isCreatingRequest:t.showCreateForm,paymentRequests:t.paymentRequests,onFilterChange:s=>r(be.setDashboardFilter(s))})}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsx("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:n.jsx(Hme,{})})})]}),n.jsx("div",{className:"md:hidden border-t bg-white p-2",children:n.jsx("div",{className:"flex justify-around",children:iM.filter(s=>s.roles.includes(t.currentRole)).slice(0,4).map(s=>n.jsxs(X,{variant:t.currentPage===s.id?"default":"ghost",size:"sm",className:We("flex-col h-auto py-2 px-3",t.showCreateForm&&"opacity-50 cursor-not-allowed"),onClick:()=>{if(t.showCreateForm){we.warning("       ",{duration:4e3});return}r(be.setCurrentPage(s.id))},disabled:t.showCreateForm,children:[s.icon,n.jsx("span",{className:"text-xs mt-1",children:s.label})]},s.id))})}),n.jsx(npe,{position:"top-right"})]})})}function spe(){return n.jsx(T7,{children:n.jsx(ipe,{})})}function ipe(){const{logout:e}=vc();return n.jsx(ape,{logout:e})}const ope=()=>{const{isAuthenticated:e,isLoading:t}=vc();return t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Dr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"..."})]})}):e?n.jsx(spe,{}):n.jsx(UO,{})};function lpe(){return n.jsx(i8,{children:n.jsx(ope,{})})}e8.createRoot(document.getElementById("root")).render(n.jsx(lpe,{}));
